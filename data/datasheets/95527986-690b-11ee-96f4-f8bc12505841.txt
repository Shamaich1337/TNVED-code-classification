[{'role': 'system', 'content': 'You are a technical specialist with expertise in electronics. Your task is to analyze datasheets for electronic components and provide a concise summary of the product’s key characteristics and specifications. In addition, you need to gather textual information about the component, including its description and typical applications.Instructions:    Identify the correct component in the datasheet using the provided product code.    Summarize key parameters, including:        Voltage ratings        Current ratings        Power consumption        Operating temperature range        Package type        Special features or notes (if applicable)        Moisture Sensetive Level JEDEC J-STD-020E    Provide a short description of the component, including what it is (e.g., transistor, microcontroller, sensor) and its primary function.    Explain typical applications for the component (e.g., power management, signal processing, data storage, etc.).    Be thorough and accurate: Ensure the information corresponds specifically to the product code, as some datasheets cover multiple variants.Your goal is to create a clear and accurate technical summary that includes both key specifications and a description of what the component is used for.'}, {'role': 'user', 'content': "Give me information about the component of AD9957BSVZ production of ANALOG DEVICES from the text: 1 GSPS Quadrature Digital Upconverter \nwith 18-Bit I/Q Data Path and 14-Bit DAC\nData Sheet AD9957\n \n Rev. F  Document Feedback \nInformation furnished by Analog Devices is believed to be accurate and reliable. However, no \nresponsibility is assumed by Analog Devices for its use, nor for any infringements of patents or other \nrights of third parties that may result from its use. Specifications subject to change without notice. No license is granted by implication or otherwise under any patent or patent rights of Analog Devices. Trademarks and registered trademarks are the property of their respective owners.   \n \nOne Technology Way, P.O. Box 9106, Norwood, MA 02062-9106, U.S.A.\nTel: 781.329.4700 ©2007–2018 Analog Devices, Inc. All rights reserved. Technical Support  www.analog.com   FEATURES \n1 GSPS internal clock speed (up to 400 MHz analog output) \nIntegrated 1 GSPS 14-bit DAC 250 MSPS input data rate Phase noise ≤ −125 dBc/Hz (400 MHz carrier at 1 kHz offset) Excellent dynamic performance >80 dB narrow-band SFDR  8 programmable profiles for shift keying Sin(x)/(x) correction (inverse sinc filter) Reference clock multiplier  Internal oscillator for a single crystal operation Software and hardware controlled power-down Integrated RAM Phase modulation capability Multichip synchronization Easy interface to Blackfin SPORT Interpolation factors from 4× to 252× Interpolation DAC mode Gain control DAC Internal divider allows references up to 2 GHz 1.8 V and 3.3 V power supplies 100-lead TQFP_EP package \nAPPLICATIONS \nHFC data, telephony, and video modems \nWireless base station transmissions \nBroadband communications transmissions  \nInternet telephony GENERAL DESCRIPTION \nThe AD9957  functions as a universal I/Q modulator and agile \nupconverter for communications systems where cost, size, power \nconsumption, and dynamic performance are critical. The AD9957  integrates a high speed, direct digital synthesizer \n(DDS), a high performance, high speed, 14-bit digital-to-analog converter (DAC), clock multiplier circuitry, digital filters, and \nother DSP functions onto a single chip. It provides baseband \nupconversion for data transmission in a wired or wireless \ncommunications system. \nThe AD9957  is the third offering in a family of quadrature \ndigital upconverters (QDUCs) that includes the AD9857  and \nAD9856 . It offers performance gains in operating speed, power \nconsumption, and spectral performance. Unlike its predecessors, it supports a 16-bit serial input mode for I/Q baseband data. The device can alternatively be programmed to operate either as a single tone, sinusoidal source or as an interpolating DAC.  \nThe reference clock input circuitry includes a crystal oscillator, \na high speed, divide-by-two input, and a low noise PLL for \nmultiplication of the reference clock frequency. \nThe user interface to the control functions includes a serial port \neasily configured to interface to the SPORT of the Blackfin® \nDSP and profile pins to enable fast and easy shift keying of any signal parameter (phase, frequency, or amplitude). \nFUNCTIONAL BLOCK DIAGRAM \nFORMAT AND\nINTERPOLATE\nNCOI\nQ\nREFERENCE CLOCK INPUTI/Q DATADATA\nFOR\nXMIT\nREFERENCE CLOCK\nINPUT CIRCUITRYTIMING\nAND\nCONTROL14-BIT DAC\nUSER INTERFACE\n06384-001AD9957\n \nFigure 1.  \n \nAD9957  Data Sheet  \n \nRev. F | Page 2 of 61 TABLE OF CONTENTS  \nFeatures  .............................................................................................. 1 \nApplications  ....................................................................................... 1 \nGeneral Description  ......................................................................... 1 \nFunctional Block Diagram  .............................................................. 1 \nRevi sion History  ............................................................................... 4 \nSpecifications  ..................................................................................... 5 \nElectrical Specifications  ............................................................... 5 \nAbsolute Maximum Ratings  ............................................................ 8 \nESD Caution  .................................................................................. 8 \nPin Configuration and Function Descriptions  ............................. 9 \nTypical Performance Characteristics  ........................................... 12 \nModes of Operation  ....................................................................... 16 \nOverview  ...................................................................................... 16 \nQuadrature Modulation Mode  ................................................. 17 \nBlackFin Interface (BFI) Mode  ................................................. 18 \nInterpolating DAC Mode  .......................................................... 19 \nSingle Tone Mode ....................................................................... 20 \nSignal Processing  ............................................................................ 21 \nParallel Data Clock (PDCLK)  ................................................... 21 \nTransmit Enable Pin (TxENABLE) .......................................... 21 \nInput Data Assembler  ................................................................ 22 \nInverse CCI Filter  ....................................................................... 23 \nFixed Interpolator (4×)  .............................................................. 23 \nProgrammable Interpolating Filter  .......................................... 24 \nQDUC Mode  ........................................................................... 24 \nBFI Mode  ................................................................................. 24 \nQuadrature Modulator  .............................................................. 25 \nDDS Core  ..................................................................................... 25 \nInverse Sinc Filter  ....................................................................... 25 \nOutput S cale Factor (OSF)  ........................................................ 26 \n14-Bit DAC  .................................................................................. 26 \nAuxiliary DAC  ........................................................................ 26 RAM Control  .................................................................................. 27 \nRAM Overview  ........................................................................... 27 \nRAM Segment Registers  ............................................................ 27 \nRAM State Machine  ................................................................... 27 \nRAM Trigger (RT) Pin  ............................................................... 27 \nLoad/Retrieve RAM Operation  ................................................ 28 \nRAM Playback Operation  ......................................................... 28 \nOvervi ew of RAM Playback Modes  ......................................... 29 \nRAM Ramp -Up Mode  ........................................................... 29 \nRAM Bidirectional Ramp Mode  .......................................... 30 \nRAM Continuous Bidirectional Ramp Mode  .................... 32 \nRAM Continuous Recirculate Mode  ................................... 33 \nClock Input (REF_CLK)  ................................................................ 34 \nREFCLK Overview ..................................................................... 34 \nCrystal Driven REF_CLK  ......................................................... 34 \nDirect Driven REF_CLK  ........................................................... 34 \nPhase -Locked Loop (PLL) Multiplier  ...................................... 35 \nPLL Charge Pump  ...................................................................... 36 \nExternal PLL Loop Filter Components  ................................... 36 \nPLL Lock Indication  .................................................................. 36 \nAdditional Features  ........................................................................ 37 \nOutput Shift Keying (OSK)  ....................................................... 37 \nManual OSK  ............................................................................ 37 \nAutomatic OSK  ....................................................................... 37 \nProfiles  ......................................................................................... 38 \nI/O_UPDATE Pin  ...................................................................... 38 \nAutomatic I/O Update  ............................................................... 38 \nPower -Down Control  ................................................................ 39 \nGeneral -Purpose I/O (GPIO) Port  .......................................... 39 \nSynchronization of Multiple Devices  ........................................... 40 \nOverview  ..................................................................................... 40 \nClock Generator  ......................................................................... 40 \nData Sheet  AD9957  \n \nRev. F | Page 3 of 61 Sync Generat or ............................................................................ 41 \nSync Receiver  ............................................................................... 41 \nSetup/Hold Validation  ................................................................ 42 \nSynchronization Example  .......................................................... 44 \nI/Q Path Latency  ......................................................................... 45 \nExample  .................................................................................... 45 \nPower Supply Partitioning  ............................................................. 46 \n3.3 V Supplies  .............................................................................. 46 \nDVDD_I/O (Pin 11, Pin 15, Pin 21, Pin 28, Pin 45, Pin 56, \nPin 66)  ...................................................................................... 46 \nAVDD (Pin 74 to Pin 77 and Pin 83)  ................................... 46 \n1.8 V Supplies  .............................................................................. 46 \nDVDD (Pin 17, Pin 23, Pin 30, Pin 47, Pin 57, Pin 64)  ..... 46 \nAVDD (Pin 3)  .......................................................................... 46 \nAVDD  (Pin 6)  .......................................................................... 46 \nAVDD (Pin 89 and Pin 92)  .................................................... 46 \nSerial Programming  ........................................................................ 47 \nControl Interface —Serial I/O  .................................................... 47 \nGeneral Serial I/O Operation  .................................................... 47 \nInstruction Byte  ........................................................................... 47 \nInstruction Byte Information Bit Map  ................................. 47 \nSerial I/O Port Pin Descriptions  ............................................... 47 \nSCLK —Serial Clock ................................................................ 47 \nCS—Chip Select Bar  ............................................................... 47 \nSDIO —Serial Data Input/Output  ......................................... 47 \nSDO —Serial Data Out  ........................................................... 48 I/O_RESET —Input/Output Reset  ........................................ 48 \nI/O_UPDATE —Input/Output Update  ................................ 48 \nSerial I/O Timing Diagrams  ...................................................... 48 \nMSB/LSB Transfers  ..................................................................... 48 \nI/O_UPDATE, SYNC_CLK, and System Clock Relationships ....................................................................................................... 49\n \nRegister Map and Bit Descriptions  ............................................... 50 \nRegister Map  ................................................................................ 50 \nRegister Bit Descriptions ............................................................ 55 \nControl Function Register 1 (CFR1)  .................................... 55 \nControl Function Register 2 (CFR2)  .................................... 56 \nControl Function Register 3 (CFR3)  .................................... 58 \nAuxiliary DAC Control Register  ........................................... 58 \nI/O Update Rate Register  ....................................................... 58 \nRAM Segment Register 0  ....................................................... 58 \nRAM Segment Register 1  ....................................................... 59 \nAmplitude Scale Factor (ASF) Register  ............................... 59 \nMultichi p Sync Register  ......................................................... 59 \nProfile Registers  ........................................................................... 60 \nProfile[7:0] Register —Single Tone  ....................................... 60 \nProfile[7:0] Register —QDUC  ............................................... 60 \nRAM Register  .......................................................................... 60 \nGPIO Configuration Register  ............................................... 60 \nGPIO Data Register  ................................................................ 60 \nOutline Dimensions  ........................................................................ 61 \nOrdering Guide  ........................................................................... 61 \n \n  \n \n  \n \n \nAD9957 Data Sheet\n \nRev. F | Page 4 of 61 REVISION HISTORY \n4/2018—Rev. E to Rev. F \nMoved Sync Generator Section .................................................... 41 Changes to Sync Generator Section, Figure 56, and Sync \nReceiver Section .............................................................................. 41 \n 5/2017—Rev. D to Rev. E Changes to External PLL Loop Filter Components Section ..... 36  \n1/2016—Rev. C to Rev. D \nChanges to Table 3 .......................................................................... 11 Changes to Figure 27 ...................................................................... 18  4/2012—Rev. B to Rev. C \nChanges to Table 1 ............................................................................ 7 \nChanges to Table 3 .......................................................................... 11 Change to Sync Generator Section ............................................... 41 Changes to Sync Receiver Section and Setup/Hold Validation Section .............................................................................................. 42 Changes to Table 13 ........................................................................ 50 \nChanges to Table 19 ........................................................................ 57 \nChanges to Table 26 ........................................................................ 59  10/2010—Rev. A to Rev. B Changes to Data Rate in Features Section ..................................... 1 \nChanges to Specifications Section .................................................. 6 \nAdded EPAD Notation to Figure 4 and Table 3 ........................... 9 Changes to XTAL_SEL Pin Description ...................................... 11 Changes to BlackFin Interface (BFI) Mode Section .................. 18 Changes to Figure 30 and Figure 31 ............................................. 22 \nChanges to Programmable Interpolating Filter Section ............ 24 \nChanges to Fifth Paragraph of Quadrature Modulator Section...... 25 Changes to RAM Segment Registers Section ............................. 27 Changes to RAM Playback Operation Section ........................... 28 Changes to Control Interface—Serial I/O Section ..................... 47 \nAdded to I/O_UPDATE, SYNC_CLK, and System Clock \nRelationships Section and Figure 64 ............................................ 49 Changes to Default Values of Profile 0 Register—Single Tone (0x0E) and Profile 0 Register—QDUC (0x0E) in Table 14 ....... 51 Changes to Default Values in Table 15 ......................................... 52 Changes to Default Values in Table 16 ......................................... 53 \nChanges to Default Values in Table 17 ......................................... 54 \nUpdated Outline Dimensions ....................................................... 61 1/2008—Rev. 0 to Rev. A \nChanges to REFCLK Multiplier Specification ............................... 3 Changes to I/O_UPDATE/Profile<2:0>/RT Timing \nCharacteristics and I/Q Input Timing Characteristics ................. 5 \nReplaced Pin Configuration and Function Descriptions  Section ................................................................................................. 8 Changes to Figure 25 Through Figure 29.................................... 15 Deleted Table 4, Renumbered Sequentially ................................ 20 \nChanges to DDS Core Section ...................................................... 24 \nChanges to Figure 47 and Table 6................................................. 33 Replaced Synchronization of Multiple Devices Section ............ 39 Added I/Q Path Latency Section .................................................. 44 Added Power Supply Partitioning Section .................................. 45 \nChanges to General Serial I/O Operation Section ..................... 46 \nChanges to Table 13 ....................................................................... 48 Changes to Table 14 ....................................................................... 49 Changes to Table 19 ....................................................................... 54 Changes to Table 20 ....................................................................... 56 Changes to GPIO Configuration Register and  \nGPIO Data Register Sections ........................................................ 58 \n \n5/2007—Revision 0: Initial Version \n \nData Sheet  AD9957  \n \nRev. F | Page 5 of 61 SPECIFICATIONS \nELECTRICAL SPECIFICATIONS  \nAVDD  (1.8V) and DVDD  (1.8V) = 1.8 V ± 5%, AVDD  (3.3V) = 3.3 V ± 5%, DVDD_I/O  (3.3V)  = 3.3 V ± 5%, T  = 25°C, R SET = 10 kΩ,  \nIOUT = 20 mA, external reference clock frequency = 1000 MHz with REFCLK multiplier disabled, unless otherwise noted.  \nTable 1.  \nParameter  Test Conditions/Comments  Min  Typ  Max  Unit  \nREF_CLK INPUT CHARACTERISTICS       \nFrequency Range       \nREFCLK  Multiplier  Disabled  60  10001 MHz  \n Enabled  3.2  60 MHz  \nMaximum REFCLK Input Divider Frequency  Full temperature range  1500  1900   MHz  \nMinimum REFCLK Input Divider Frequen cy Full temperature range   25 35 MHz  \nExternal Crystal    25  MHz  \nInput Capacitance   3  pF \nInput Impedance ( Differential)    2.8  kΩ \nInput Impedance ( Single -End ed)   1.4  kΩ \nDuty Cycle  REFCLK multiplier disabled  45  55 % \n REFCLK multiplier enabled  40  60 % \nREF_CLK Input Level  Single -ended  50  1000  mV p -p \n Differential  100  2000  mV p -p \nREFCLK MULTIPLIER  VCO  GAIN CHARACTERISTICS       \nVCO Gain (K V) at Center Frequency  VCO0 range setting   429  MHz/V  \n VCO 1 range setting   500  MHz/V  \n VCO2 range setting   555  MHz/V  \n VCO3 range setting   750  MHz/V  \n VCO 4 range setting   789  MHz/V  \n VCO5 range setting2  850  MHz/V  \nREFCLK_OUT CHARACTERISTICS       \nMaximum  Capacitive Lo ad   20  pF \nMax imum F requency    25  MHz  \nDAC OUTPUT CHARACTERISTICS       \nFull-Scale Output Current   8.6 20 31.6  mA \nGain Error   −10   +10  %FS  \nOutput Offset     2.3 µA \nDifferential Nonlinearity    0.8  LSB \nIntegral Nonlinearity    1.5  LSB \nOutput Capacitance    5  pF \nResidual Phase Noise  At 1 kHz o ffset, 20 MHz A OUT     \nREFCLK Multiplier  Disabled   −152   dBc/Hz  \n Enabled at 20×   −140   dBc/Hz  \n Enabled at 100×   −140   dBc/Hz  \nAC Voltage Compliance Range   −0.5  +0.5  V \nSPURIOUS- FREE DYNAMIC RANGE (SFDR SINGLE TONE )      \nfOUT = 20.1 MHz    −70  dBc \nfOUT = 98.6 MHz    −69  dBc \nfOUT = 201.1 MHz    −61  dBc \nfOUT = 397.8 MHz    −54  dBc \nAD9957  Data Sheet  \n \nRev. F | Page 6 of 61 Parameter  Test Conditions/Comments  Min  Typ  Max  Unit  \nNOISE SPECTRAL DENSITY (NSD)       \nSingle  Tone       \nfOUT = 20.1 MHz    −167  dBm/Hz  \nfOUT = 98.6 MHz    −162  dBm/Hz  \nfOUT = 201.1  MHz    −157  dBm/Hz  \nfOUT = 397.8 MHz    −151  dBm/Hz  \nTWO -TONE INTERMODULATION DISTORTION (IMD)  I/Q rate = 62.5 MSPS;  \n16× interpolation      \nfOUT = 25 MHz    −82   dBc \nfOUT = 50 MHz    −78  dBc \nfOUT = 100 MHz    −73  dBc \nMODULATOR CHARACTERISTICS       \nInput Data       \nError Vector Magnitude 2.5 Msymbols/s, QPSK,  \n4× oversampled   0.53   % \n 270.8333 k symbols/s , GMSK,  \n32× oversampled   0.77   % \n 2.5 Msymbols/s , 256- QAM,  \n4× oversampled   0.35   % \nWCDMA —FDD (TM1) , 3.84 MHz B andwidth,  \n5 MHz Channel Sp acing       \nAdjacent Channel Leakage Ratio (ACLR)  IF = 143.88  MHz   −78  dBc \n      \nCarrier Feedt hrough    −78  dBc \n      \nSERIAL PORT TIMING CHARACTERISTICS       \nMaximum SCLK Frequency    70  Mbps  \nMinimum SCLK Pulse Width  Low  4   ns \n High  4   ns \nMaximum SCLK  Rise/Fall Time    2  ns \nMinimum Data Setup Time to SCLK   5   ns \nMinimum Data Hold Time to SCLK   0   ns \nMaximum Data Valid Time in Read Mode     11 ns \nI/O_UPDATE/P ROFILE2  to PROFILE 0/RT TIMING CHARACTERISTICS       \nMinimum Pulse Width  High  1   SYNC_CLK cycle  \nMinimum Setup Time to SYNC_CLK   1.75    ns \nMinimum Hold Time to SYNC_CLK   0   ns \nI/Q INPUT TIMING CHARACTERISTICS       \nMaximum PDCLK Frequency    250  MHz  \nMinimum I /Q Data Setup Time to PDCLK   1.75    ns \nMinimum I /Q Data Hold Time to PDCLK   0   ns \nMinimum TxENABLE  Setup Time to PDCLK   1.75    ns \nMinimum TxENABLE  Hold Time to PDCLK   0   ns \nMISCELLANEOUS TIMING CHAR ACTERISTICS       \nWake -Up Time3   1   \nFast Recovery Mode    8  SYSCLK cycles4 \nFull Sleep Mode     150 μs \nMinimum Reset Pulse Width High    5  SYSCLK  cycles4 \nDATA LATENCY (PIPELINE DELAY)       \nData Latency Single Tone Mode       \nFrequency, Phase -to-DAC Output    79  SYSCLK cycles4 \nData Sheet  AD9957  \n \nRev. F | Page 7 of 61 Parameter  Test Conditions/Comments  Min  Typ  Max  Unit  \nCMOS LOGIC INPUTS       \nVoltage       \nLogic 1   2.0   V \nLogic 0     0.8 V \nCurrent       \nLogic 1    90 150 µA \nLogic 0    90 150 µA \nInput Capacitance   2  pF \nXTAL_SEL INPUT       \nLogic 1 Voltage   1.25    V \nLogic 0 Voltage     0.6 V \nInput Capacitance   2  pF \nCMOS LOGIC OUTPUTS  1 mA load      \nVoltage       \nLogic 1   2.8   V \nLogic 0     0.4 V \nPOWE R SUPPLY CURRENT       \nDVDD_I/O  (3.3V) Pin Current Consumption  QDUC mode   16  mA \nDVDD (1.8V) Pin Current Consumption  QDUC mode   610  mA \nAVDD  (3.3V) Pin Current Consumption  QDUC mode   28  mA \nAVDD  (1.8V) Pin Current Consumption  QDUC mode   105  mA \nPOWER CONSUMPTION       \nSingle  Tone Mode    800  mW  \nContinuous Modulation  8× interpolation   1400  1800 mW  \nInverse  Sinc Filter Power Consumption    150 200 mW  \nFull Sleep Mode    12 40 mW  \n \n1 The system clock is limited to 750 MHz maximum in BFI mode.  \n2 The gain value for VCO range Setting 5 is measured at 1000 MHz.  \n3 Wake -up time refers to the recovery from analog power -down modes. The longest time required is for the Reference Clock Multiplier PLL to relock to the reference.  \n4 SYSCLK cycle refers to the actual clock frequency used on -chip by the DDS. If the referenc e clock multiplier is used to multiply the external reference clock frequency, \nthe SYSCLK frequency is the external frequency multiplied by the reference clock multiplication factor. If the reference cloc k multiplier and divider are not used, the \nSYSCLK fr equency is the same as the external reference clock frequency.  \n \n \n \n \nAD9957  Data Sheet  \n \nRev. F | Page 8 of 61 ABSOLUTE MAXIMUM RAT INGS  \nTable 2.  \nParameter  Rating  \nAVDD (1.8 V), DVDD (1.8 V) Supplies  2 V \nAVDD (3.3V), DVDD_I/O (3.3V) Supplies  4 V \nDigital Input Voltage  −0.7 V to +4 V  \nXTAL_SEL  −0.7 V to +2.2 V \nDigital Output Current  5 mA  \nStorage Temperature Range  −65°C to +150°C  \nOperating Temperature Range  −40°C to +85°C  \nθJA 22°C/W \nθJC 2.8°C/W \nMaximum Junction Temperature  150°C  \nLead Temperature, Soldering (10 sec)  300°C  \nStresses at or above those listed under Absolute Maximum \nRatings may cause permanent damage to the product. This is a stress rating only; functional operation of the product at these or any other conditions above those indicated in the operational \nsection of this specification is not implied. Operation beyond \nthe maximum operating conditions for ext ended periods may \naffect product reliability.  \n \n06384-003AVOID OVERDRIVING DIGI TAL INPUTS.\nFORWARD BIASING ESD DIODES M AY\nCOUPLE DIGI TAL NOISE ON TO POWER\nPINS.DIGITAL INPUTS\nINPUTDVDD_I/O\n \nFigure 2. Equivalent Input  Circuit  \n06384-055MUST TERMIN ATE OUTPUTS TOAGND\nFOR CURRENT FLO W. DO NOT EXCEED\nTHE OUTPUT VO LTAGE COMPLIANCE\nRATING.IOUT IOUTDAC OUTPUTS\nAVDD\n \nFigure 3. Equivalent Output Circuit  \nESD CAUTION  \n \n \n \n \nData Sheet AD9957\n \nRev. F | Page 9 of 61 PIN CONFIGURATION AND FUNCTION DESCRIPTIONS \n \n26\n27\n28\n29\n3055\n54\n53\n52\n51TQFP-100 (E_PAD)\nTOP VIEW\n(Not to Scale)AD9957D16\nD15\nDVDD_I/O (3.3V)\nDGND\nDVDD (1.8V)5432\n76\n981\n1110\n16151413\n1817\n2019\n222112\n2423\n25\n32\n33\n34\n35\n36\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n4849\n5031\n37D14\nD13\nD12\nD11\nD10\nD9\nD8\nD7\nD6\nPDCLK\nTxENABLE/FS\nDGNDD5/SPORT I-DATA\nD4/SPORT Q-DATA\nD3\nDVDD_I/O (3.3V)\nDVDD (1.8V)\nD2\nD1D080IOUT\n79AGND\n78AGND\n77AVDD (3.3V)\n76AVDD (3.3V)\n75AVDD (3.3V)\n74AVDD (3.3V)\n73AGND\n72NC\n71I/O_RESET\n70CS\n69SCLK\n68SDO\n67SDIO\n66DVDD_I/O (3.3V)\n65DGND\n64DVDD (1.8V)\n63DGND\n62DGND\n61NC\n60OSK\n59I/O_UPDATE\n58DGND\n57DVDD (1.8V)\n56DVDD_I/O (3.3V)\nSYNC_CLK\nPROFILE0\nPROFILE1\nPROFILE2\nRT100\n99\n98\n97\n96\n95\n94\n93\n92\n91\n90\n89\n88\n87\n86\n85\n84\n83\n82\n81NC\nNC\nNC\nNC\nAGND\nXTAL_SEL\nREFCLK_OUT\nNC\nAVDD (1.8V)REF_CLK\nREF_CLK\nAVDD (1.8V)\nAGND\nNC\nNCAGND\nDAC_RSET\nAVDD (3.3V)\nAGND\nIOUT\nNC\nPLL_LOOP_FILTER\nAVDD (1.8V)\nAGNDAGND\nAVDD (1.8V)\nSYNC_IN+\nSYNC_IN–\nSYNC_OUT+\nSYNC_OUT–\nDVDD_I/O (3.3V)\nSYNC_SMP_ERR\nDGND\nMASTER_RESET\nDVDD_I/O (3.3V)\nDGND\nDVDD (1.8V)\nEXT_PWR_DWN\nPLL_LOCK\nCCI_OVFL\nDVDD_I/O (3.3V)\nDGND\nDVDD (1.8V)\nNC\nD17\n06384-004PIN 1\nINDICATOR\nNOTES1. NC = NO CONNECT.2. EXPOSED PAD SHOULD BE SOLDERED TO GROUND.\n \nFigure 4. Pin Configuration \n \nAD9957  Data Sheet  \n \nRev. F | Page 10 of 61 Table 3. Pin Function Descriptions  \nPin No. Mnemonic  I/O1 Description  \n1, 24, 61, 72, 86, 87, 93, \n97 to 100 NC  Not Connected. Allow  the device pin to float.  \n2 PLL_LOOP_FILTER  I PLL Loop Filt er Compensation . See External PLL Loop Filter Components  section.  \n3, 6, 89, 92  AVDD (1.8V)  I Analog Core VDD . 1.8 V analog s upplies . \n74 to 77, 83  AVDD (3.3V)  I Analog DAC VDD . 3.3 V analog supplies.   \n17, 23, 30, 47, 57, 64  DVDD (1.8V)  I Digital  Core VDD . 1.8 V digital supplies .  \n11, 15, 21, 28, 45, 56, 66 DVDD_I/O (3.3V)  I Digital Input/Output VDD . 3.3 V digital supplies .  \n4, 5, 73, 78, 79, 82, 85, \n88, 96  AGND  I Analog Ground.  \n13, 16,  22, 29,  46, 58, \n62, 63, 65 DGND  I Digital Ground.  \n7 SYNC_IN+  I Synchronization Signal, Digital Input (Rising Edge Active). Synchronization signal from \nexternal mas ter to synchronize internal subclocks.  See the Synchronization of Multiple \nDevices  section.  \n8 SYNC_IN − I Synchronization Signal , Digital Input  (Falling  Edge Ac tive). Synchronization signal from \nexternal mas ter to synchronize internal subclocks. See the Synchronization of Multiple \nDevices  section.  \n9 SYNC_OUT+  O Synchronization Signal,  Digital  Output  (Rising Edge Ac tive). Synchronization signal \nfrom internal device sub clocks to synchronize  external slave devices . See the \nSynchronization of Multiple Devices  section.  \n10 SYNC_OUT − O Synchronization Signal , Digital  Output  (Falling  Edge Act ive). Synchronization signal \nfrom internal device sub clocks to synchronize external slave devices . See the \nSynchronization of Multiple Devices  section.  \n12 SYNC_SMP_ERR  O Synchronization Sample Error , Digital Output  (Active High ). A high on this pin \nindicates that the AD9957 did not receive a valid sync signal on SYNC_I N+/SYNC_I N−. \nSee the Sy nchronization of Multiple Devices  section.  \n14 MASTER _RESET  I Master Reset , Digital Input  (Active Hi gh). This pin  clears all memory elements and sets \nregisters to default values.  \n18 EXT_PWR_DWN  I External Power -Down , Digital Input (Active High ). A high level  on this pin init iates the \ncurrently programmed power- down mode. See the Power -Down Control  section for \nfurther details. If unused, tie to ground. \n19 PLL_LOCK  O PLL Lock , Digital Output  (Active High ). A high  on this pin  indicates that the clock \nmultiplier PLL has acquired lock to the reference clock input.  \n20 CCI_OVFL  O CCI Overflow Digital Output, Active High . A high  on this pin  indicates a CCI filter \noverflow. This pin remain s high until the CCI overflow condition is cleared.  \n25 to 27, 31 to 39, \n42 to 44, 48 to 50 D[17:0 ] I/O Parallel Data Input Bus (Active High) . These pins provide the interleaved , 18-bit , digital , \nI and Q vectors for the modulator to upconvert. Also used for a GPIO port in Blackfin \ninterface mode.  \n42 SPORT I -DATA  I I-Data Serial Input. In Blackfin interface mode, this pin serves as the I -data serial input.  \n43 SPORT Q -DATA  I Q-Data Serial Input. In Blackfin interface mode, this pin serves as the Q -data serial \ninput.  \n40 PDCLK  O Parallel Data Clock, Digital Output ( Clock) . See the Signal Processing  section for details . \n41 TxENABLE/FS  I Transmit Enable, Digital Input (Active High). See the Signal Processing  section for \ndetails.  In Blackfin interface mode, this pin serves as the FS input to receive the RFS \noutput signal from the Blackfin.  \n51 RT I RAM Trigger , Digital  Input  (Active High ). This pin provides c ontrol for the RAM \namplitude scaling function. When this function is engaged, a high sweeps the amplitude from the beginning RAM address to the end. A low sweeps the amplitude from the en d RAM address to the beginning.  If unused , connect to g round or supply.  \n52 to 54 PROFILE 2, \nPROFILE1, \nPROFILE0  I Profile Select Pins, Digital Inputs (Active High ). These pins select one of eight \nphase/frequency profiles for the DDS core (single  tone or carrier tone). Changing the \nstate of one of these pins transfer s the current contents of all I/O buffers to the \ncorresponding registers. S et up state changes to the SYNC_CLK pin.  \n55 SYNC_CLK  O Output  System Clock/4, Digital Output (Cl ock). Set up t he I/O_UPDATE and \nPROFILE 2/PROFILE1/PROFILE0  pins to the rising edge of this signal. \nData Sheet  AD9957  \n \nRev. F | Page 11 of 61 Pin No. Mnemonic  I/O1 Description  \n59 I/O_UPDATE  I/O Input/Output Update; Digital  Input Or Output (Active High) , Dep ending on the  \nInternal I /O Update Active Bi t. A high on this pin indicates a transfer of the contents of \nthe I/O buffers to the corresponding internal registers.  \n60 OSK  I Output Sh ift Keying , Digital Input (Active Hi gh). When using OSK ( manual or \nautomatic), this pin  controls the OSK function. See the Output Shift Keying (OSK) \nsection  of the data sheet for details.  When not using OSK, tie this pin high.  \n67 SDIO  I/O Serial Data Input/Output , Digital  Input/Output (Active Hi gh). This pin can be either \nunidirectional or bidirectional (default), depending on configuration settings. In \nbidirectional serial port mode, this pin acts as the serial data input and output. In \nunidirectional , it is an input only.  \n68 SDO  O Serial Data Output , Digital Output (Active H igh). This pin  is only active in unidirectional \nserial data mode. In this mode, it functions as the output. In bidirectional mode, this \npin is not operational and must  be left floating.  \n69 SCLK  I Serial Data Clock. Digital clock (rising edge on write, falling edge on read). This pin \nprovides the serial data clock for the control data path. Write operations to the \nAD9957 use the rising edge. Readback operations from the AD9957 use the falling \nedge.  \n70  CS I Chip Select , Digital Input  (Active Low). Bringing this pin low enables the AD9957 to \ndetect serial clock rising/falling edges. Bringing this pin high causes  the AD9957 to \nignore input on the serial data pins.  \n71 I/O_RESET  I Input/Output Reset. Digital input (active high). This pin can be used when a serial I/O communication cycle fails (see the I/O_RESET —Input/Output Reset  section for details). \nWhen not used, connect this pin to ground.  \n80 IOUT  O Open -Source DAC Complementary Output Source. Analog output , current mode . \nConnect through 50  Ω to  AGND.  \n81 IOUT  O Open -Source DAC Output Source. Analog output, current mode.  Connect through 50  \nΩ to AGND.  \n84 DAC_RSET  O Analog Reference P in. This pin p rograms the DAC output full -scale reference current. \nAttach a 10  kΩ resistor to AGND.  \n90 REF_CLK  I Reference Clock Input. Analog input . See the REFCLK Overview  section for more \ndetails.  \n91 REF_ CLK  I Complementary Reference Clock Input. Analog input . See the REFCLK Overview  \nsection for more details.  \n94 REFCLK_OUT  O Reference Clock  Output. Analog output.  See the REFCLK Overview  section for more details.  \n95 XTAL_SEL  I Crys tal Select (1.8 V Logic). Analog input (active high). Driving the XTAL_SEL pin high \nenab les the internal oscillator to be used with a crystal resonator. If unused, connect it \nto AGND.  \n EPAD   Exposed Pad (EPAD). The exposed pad  should be soldered to ground.  \n \n1 I is input, O is output, and I/O is for input/output.  \n \nAD9957  Data Sheet  \n \nRev. F | Page 12 of 61 TYPICAL PERFORMANCE CHARACTERISTICS \n0\n–20–10\n–50–40–30\n–80–70–60\n–90\n–100\nSTART 0Hz 50MHz/DIV STOP 500MHz\n06384-04811\n \nFigure 5. 15.625 kHz  Quadrature Tone, Carrier = 102  MHz,  \nCCI = 16, fS = 1 GHz  \n0\n–20–10\n–50–40–30\n–80–70–60\n–90\n–100\nSTART 0MHz 50MHz/DIV STOP 500MHz\n06384-05011\n \nFigure 6. 15.625 kHz Q uadrature Tone, Carrier = 222  MHz,  \nCCI = 16, fS = 1 GHz  \n0\n–20–10\n–50–40–30\n–80–70–60\n–90\n–100\nSTART 0Hz 50MHz/DIV STOP 500MHz\n06384-05211\n \nFigure 7. 15.625 kHz Q uadrature  Tone, Carrier = 372  MHz,  \nCCI = 16, fS = 1 GHz  0\n–20–10\n–50–40–30\n–80–70–60\n–90\n–100\nCENTER 102MHz 5kHz/DIV SPAN 50kHz\n06384-04911\n \nFigure 8. Narrow -Band  View of Figure 5  \n(with C arrier and Lower Sideband Suppression )  \n0\n–20–10\n–50–40–30\n–80–70–60\n–90\n–100\nCENTER 222MHz 5kHz/DIV SPAN 50kHz\n06384-05111\n \nFigure 9. Narrow -Band View of Figure 6 \n(wit h Carrier And Lower Sideband Suppression ) \n0\n–20–10\n–50–40–30\n–80–70–60\n–90\n–100\nCENTER 372MHz 5kHz/DIV SPAN 50kHz\n06384-05311\n \nFigure 10. Narrow -Band View of Figure 7  \n(with C arrier and Lower Sideband Suppression ) \nData Sheet  AD9957  \n \nRev. F | Page 13 of 61 0\n–20–10\n–50–40–30\n–80–70–60\n–90\n–100\nSTART 0Hz 50MHz/DIV STOP 500MHz\n06384-044\n \nFigure 11. QPSK, 7.8125  Msy mbols/s,  4x Oversampled Raised Cos ine,  \nα = 0.25 , CCI = 8, Carrier = 102  MHz, fS = 1 GHz  \n0\n–20–10\n–50–40–30\n–80–70–60\n–90\n–100\nSTART 0MHz 50MHz/DIV STOP 500MHz\n06384-045\n \nFigure 12. QPSK, 7.8125  Msymbols/s, 4x Oversampled Raised Co sine,  \nα = 0.25 , CCI = 8, Carrier = 222  MHz, fS = 1 GHz  \n0\n–20–10\n–50–40–30\n–80–70–60\n–90\n–100\nSTART 0Hz 50MHz/DIV STOP 500MHz\n06384-046\n \nFigure 13. QPSK, 7.8125  Msymbols/s, 4x Oversampled Raised Cos ine,  \nα = 0.25 , CCI = 8, Carrier = 372  MHz, fS = 1 GHz  0\n–20–10\n–50–40–30\n–80–70–60\n–90\n–100\nCENTER 102MHz 2MHz/DIV SPAN 20MHz\n06384-041\n \nFigure 14. Narrow -Band View of Figure 11  \n0\n–20–10\n–50–40–30\n–80–70–60\n–90\n–100\nCENTER 222MHz 2MHz/DIV SPAN 20MHz\n06384-042\n \nFigure 15. Narrow -Band View of  Figure 12 \n0\n–20–10\n–50–40–30\n–80–70–60\n–90\n–100\nCENTER 372MHz 2MHz/DIV SPAN 20MHz\n06384-043\n \nFigure 16. Narrow -Band View of Figure 13 \nAD9957  Data Sheet  \n \nRev. F | Page 14 of 61 –50\n–55\n–60\n–65\n–75–70\n06384-058SFDR (dBc)\nFREQUENCY OUT (MHz)SFDR WITHOUT PLL\nSFDR WITH PLL\n0 50 100 150 200 250 300 350 400\n \nFigure 17. Wideband SFDR vs. Output Frequency in Single Tone Mode ,  \nPLL with  REFCLK = 15.625 MHz × 64  \n400 450 300 250 350 200 150 100 50 0\n06384-059SFDR (dBc)\nFREQUENCY OUT (MHz)–75–70–65–60–55–45\n–50LOW SUPPLY\nHIGH SUPPLY\n \nFigure 18. SFDR vs. Output Frequency and  Supply  (±5%) in Single Tone \nMode , REFCLK = 1 GHz  \n400 450 300 250 350 200 150 100 50 0\n06384-060SFDR (dBc)\nFREQUENCY OUT (MHz)–75–70–65–60–55–50\n–40°C\n+85°C\n \nFigure 19. SFDR vs.  Frequency and  Temperature in Single Tone Mode ,  \nREFCLK = 1 GHz  –90\n–100\n–120–110\n–140\n–150–130\n–170–160\n10 100 1k 10k 100k 100M 1M 10M\n06384-061MAGNITUDE (dBc/Hz)\nFREQUENCY OFFSET (Hz)fOUT = 20.1MHzfOUT = 98.6MHzfOUT = 201.1MHzfOUT = 397.8MHz\n \nFigure 20. Residual Phase Noise, System Cloc k = 1 GHz  \n–90\n–100\n–110\n–120\n–130\n–140\n–150\n–160\n10 100 1k 10k 100k 1M 10M 100M\n06384-054MAGNITUDE (dBc/  Hz)\nFREQUENCY OFFSET (Hz)fOUT = 20.1MHzfOUT = 397.8MHz\nfOUT = 98.6MHzfOUT = 201.1MHz\n \nFigure 21. Residual Phase Noise Usi ng the REFCLK M ultiplier,  \nREFCLK =  50 MHz with  20x Multiplication, System Clo ck =  1 GHz  \n1200\n2004006008001000\n0\n100 200 300 400 500 600 700 800 900 1000\n06384-062POWER DISSIPATION (mW)\nSYSTEM CLOCK FREQUENCY (MHz)DVDD 3.3VAVDD 3.3VAVDD 1.8VDVDD 1.8V\n \nFigure 22. Power Dissipation vs. System Clock (PLL Disabled)  \nData Sheet  AD9957  \n \nRev. F | Page 15 of 61 1200\n2004006008001000\n0\n400 500 600 700 800 900 1000\n06384-063POWER DISSIPATION (mW)\nSYSTEM CLOCK FREQUENCY (MHz)DVDD 1.8V\nAVDD 1.8V\nAVDD 3.3VDVDD 3.3V\n \nFigure 23. Power Dissipation vs. System Clock (PLL Enabled) \n06384-064–110–100–90–80–70–60–50–40–30–20\nCENTER 143.86MHz SPAN 25.5MHz 2.55MHz/DIV\nTx CHANNEL\nBANDWIDTH: 3.84MHz\nADJACENT CHANNEL\nBANDWIDTH: 3.84MHz\nSPACING: 3MHz\nADJACENT CHANNEL\nBANDWIDTH: 3.84MHz\nSPACING: 10MHzPOWER: –11.88dBm\nLOWER: –78.27dB\nUPPER: –78.50dB\nLOWER: –81.42dB\nUPPER: –81.87dBW-CDMA SGFF FWD\n \nFigure 24. Typical ACLR  for Wideband CDMA  \n \nAD9957  Data Sheet  \n \nRev. F | Page 16 of 61 MODES OF OPERATION \nOVERVIEW  \nThe AD9957 has three basic operating modes . \n• Quadrature modulation (QDUC) mode (default)  \n• Interpolating DAC mode  \n• Single tone  mode  \nThe active mode is selected via the operating mode bits in \nControl Functio n Register 1 (CFR1). Single tone  mode allows \nthe device to operate as a sinusoidal generator with the DDS \ndriving the DAC directly.  \nInterpolating DAC mode bypasses the DDS, allowing the user \nto deliver baseband data to the device at a sample rate lower than that of the DAC. An internal chain of rate interpo lation \nfilters the user data and  upsample s to the DAC sample rate. \nCom bined, the filters provide for programmable rate interpola -\ntion while suppressing spectral images and retaining the  original \nbaseban d spectrum.  \nQDUC mode employs both the DDS and the rate interpolation filters. In this case, two parallel banks of rate interpolation filters allow baseband processing of in -phase and quadrature \n(I/Q) signals with the DDS providing the carrier signal to b e \nmodu lated by the baseband signals. A detailed block diagram of \nthe AD9957 is shown in Figure 25. \nThe inve rse sinc filter is available in all three modes.  06384-005PDCLKI/Q IN\nEXT_PWR_DWNDAC_RSET\nIOUT\nIOUT\nTxENABLE\nFTW\nPWDAC GAIN\nθ\nINVERSE\nSINC\nFILTERCLOCKFTW PW8\nSYSCLK\nPLL÷2\nCLOCK MODEREF_CLK\nREF_CLKREFCLK_OUT\nXTAL_SELPARALLEL DATA\nTIMING AND CONTROLAD9957\nωcos (ωt+θ)\nsin (ωt+θ)\nSYNC_OUT\nSYNC_IN\nPLL_LOCK\nPLL_LOOP_FILTER\nMASTER_RESET22CCI_OVFL\nOSKDDSAUX\nDAC\n8-BIT\nPOWER\nDOWN\nCONTROLRTRAMPROFILESERIAL I/O\nPORTI/O_UPDATEPROGRAMMING\nREGISTERS\n3IQ ISQS18\nDATA ASSEMBLER AND FORMATTERI\nQIS\nQSBLACKFIN INTERFACE18\n181616\nHALF-BAND\nFILTERS (4×)INVERSE\nCCI\nCCI\n(1× TO 63×)HALF-BAND\nFILTERS (4×)INVERSE\nCCI\nCCI\n(1× TO 63×)\nOSK\nINTERNAL CLOCK TIMING AND CONTROLDAC\n14-BIT\nOUTPUT\nSCALE\nFACTORSDIO\nCSI/O_RESETSCLKSDO\n \nFigure 25. Detailed Block Diagram  \n \n  \n \n \n \n  \nData Sheet  AD9957  \n \nRev. F | Page 17 of 61 QUADRATURE MODULATION MODE  \nA block diagram of the AD9957  operating in QDUC mode is \nshown in Figure 26; grayed items are inactive . The parallel input \naccepts 18 -bit I- and Q -word s in time -interleaved fashion. That \nis, an 18 -bit I-word is followed by an 18 -bit Q -word, then the \nnext 18 -bit I-word, and so on.  One 18 -bit I-word and one 18 -bit \nQ-word together comprise one internal sample. The  data assem -\nbler and formatter de-interleave the I - and Q -words so that each \nsample propagates along the internal data pathway in parallel \nfashion . Both  I and Q  data paths are active; the parallel data \nclock (PDCLK) serves to synchronize the in put of I/Q data to \nthe AD9957.  The PROFILE 0, PROFILE1, PROFILE2,  and I/O_UPDATE pins \nare also synchronous to the PDCLK.  \nThe DDS core provides a quadrature (sine and cosine) local \noscillator signal to the quadrature modulator, wh ere the \ninterpolated I and Q samples are multiplied by the respective \nphase of the carrier and summed together, producing a quadrature  modulated data stream. This data stream is routed \nthrough the inverse sinc filter (optionally), and the output \nscaling mu ltiplier . Then it is applied to the 14 -bit DAC to \nproduce the quadrature  modulated analog output signal.  \n06384-006PDCLKI/Q IN\nEXT_PWR_DWNDAC_RSET\nIOUT\nIOUT\nTxENABLEDAC GAIN\nOUTPUT\nSCALE\nFACTORθ\nINVERSE\nSINC\nFILTERCLOCKFTW PW8\nSYSCLK\nPLL÷2\nCLOCK MODEREF_CLK\nREF_CLKREFCLK_OUT\nXTAL_SE LAD9957\nωcos (ωt+θ)\nsin (ωt+θ)\nSYNC_OUT\nSYNC_IN\nPLL_LOCK\nPLL_LOOP_FI LTER\nMASTER_RESET22OSKDDSAUX\nDAC\n8-BIT\nPOWER\nDOWN\nCONTROL18\nDATAASSEMBLER AND FORM ATTERI\nQIS\nQSBLACKFIN INTER FACE18\n181616\nINVERSE\nCCIINVERSE\nCCI\nOSK\nINTERNAL CLOCK TIMING AND CONTROLDAC\n14-BITCCI_OVF LFTW\nPWPARALLEL DATA\nTIMING AND CONTROL\nRTRAMPROFILESERIAL I/O\nPORTI/O_UPD ATEPROGRAMMING\nREGISTERS\n3IQ ISQSHALF-BAND\nFILTERS (4×)\nCCI\n(1× TO 63×)HALF-BAND\nFILTERS (4×)\nCCI\n(1× TO 63×)SDIO\nCSI/O_RESETSCLKSDO\n \nFigure 26. Quadrature Modulation Mode  \n \n \n \n  \n \n \n   \nAD9957  Data Sheet  \n \nRev. F | Page 18 of 61 BLACKFIN INTERFACE (BFI)  MODE  \nA subset of the QDUC mode is the Blackfin interface (BFI) \nmode, shown in Figure 27; grayed items are inactive . In this \nmode, a separate I and Q serial bit s tream is applied to the \nbaseband data port instead of parallel data- words. The two \nserial inputs provide for 16 -bit I- and Q -words (unlike the  \n18-bit words in normal QDUC mode). The serial bit streams \nare delivered to the Blackfin interface. The Blackfin interface \nconverts the 16 -bit serial data into 16 -bit parallel data to \npropagate down the signal proc essing chain.  The Black fin interface includes an additional pair of half -band \nfilters in both I and Q  signal paths (not shown explicitly in the \ndiagram) . The two half -band filters increase the inter polation  \nof the base band data by a factor of four , relative to the normal \nQDUC mode.  \nThe synchronization of the serial data occurs through the PDCLK signal. In BFI mode, the PDCLK signal is effectively the bit c lock for the serial data.  \nNote that the system clock is limited to 750  MHz in BFI mode.  06384-007PDCLKI/Q IN\nEXT_PWR_DWNDAC_RSET\nIOUT\nIOUT\nTxENABLEDAC GAIN\nθ\nINVERSE\nSINC\nFILTERCLOCKFTW PW8\nSYSCLK\nPLL÷2\nCLOCK MODEREF_CLK\nREF_CLKREFCLK_OUT\nXTAL_SE LAD9957\nωcos (ωt+θ)\nsin (ωt+θ)\nSYNC_OUT\nSYNC_IN\nPLL_LOCK\nPLL_LOOP_FI LTER\nMASTER_RESET22OSKDDSAUX\nDAC\n8-BIT\nPOWER\nDOWN\nCONTROL2\nDATAASSEMBLER AND FORM ATTERI\nQIS\nQSBLACKFIN INTER FACE18\n181616\nINVERSE\nCCIINVERSE\nCCI\nOSK\nINTERNAL CLOCK TIMING AND CONTROLDAC\n14-BITCCI_OVF L\nOSKFTW\nPWPARALLEL DATA\nTIMING AND CONTROL\nRTRAMPROFILESERIAL I/O\nPORTI/O_UPD ATEPROGRAMMING\nREGISTERS\n3IQ ISQSHALF-BAND\nFILTERS (4×)\nCCI\n(1× TO 63×)HALF-BAND\nFILTERS (4×)\nCCI\n(1× TO 63×)OUTPUT\nSCALE\nFACTORSDIO\nCSI/O_RESETSCLKSDO\n \nFigure 27. Quadrature Modulation Mode , Black fin Interface  \n \n \n \n  \n \n \n  \n  \nData Sheet  AD9957  \n \nRev. F | Page 19 of 61 INTERPOLATING DAC MODE  \nA block diagram of the AD9957  operating in interpolating DAC \nmode is shown in Figure 28; grayed items are inactive. In this \nmode, the Q data path, DDS, and modulator are all disabled; only \nthe I data path is active.  \nAs in quadrature modulation mode, the PDCLK pin functions \nas a clock, synchronizing the input of data to the AD9957.  No modulation takes place in the interpolating DAC mode; \ntherefore, the spectrum of the data supplied at the parallel port remains at baseba nd. However, a sample rate conversion takes \nplace based on the programmed interpolation rate. The inter -\npolation hardware processes the signal, effectively performing \nan oversample with a zero -stuffing operation. The original \ninput spectrum remains intact and the images that otherwise \nwould occur from the sample rate conversion process are suppressed by the interpolation signal chain.  \n06384-008PDCLKI/Q IN\nEXT_PWR_DWNDAC_RSET\nIOUT\nIOUT\nTxENABLEDAC GAIN\nθ\nINVERSE\nSINC\nFILTERCLOCKFTW PW8\nSYSCLK\nPLL÷2\nCLOCK MODEREF_CLK\nREF_CLKREFCLK_OUT\nXTAL_SE LPARALLEL DATA\nTIMING AND CONTROLAD9957\nωcos (ωt+θ)\nsin (ωt+θ)\nSYNC_OUT\nSYNC_IN\nPLL_LOCK\nPLL_LOOP_FI LTER\nMASTER_RESET22DDSAUX\nDAC\n8-BIT\nPOWER\nDOWN\nCONTROL18\nDATAASSEMBLER AND FORM ATTERI\nQIS\nQSBLACKFIN INTER FACE18\n181616\nHALF-BAND\nFILTERS (4×)INVERSE\nCCI\nCCI\n(1× TO 63×)HALF-BAND\nFILTERS (4×)INVERSE\nCCI\nCCI\n(1× TO 63×)\nOSK\nINTERNAL CLOCK TIMING AND CONTROLDAC\n14-BIT\nFTW\nPW\nOSKRTRAMPROFILESERIAL I/O\nPORTI/O_UPD ATEPROGRAMMING\nREGISTERS\n3IQ ISQSOUTPUT\nSCALE\nFACTORCCI_OVF LSDIO\nCSI/O_RESETSCLKSDO\n \nFigure 28. Interpolating DAC Mode \n \n \n \n \n \n \n \n \n \n \n  \nAD9957  Data Sheet  \n \nRev. F | Page 20 of 61 SINGLE TONE  MODE  \nA block diagram of the AD9957  operating in single tone  mode \nis shown in Figure 29; grayed items are inactive. In this mode, \nboth I and Q data paths are disabled from the 18 -bit parallel \ndata port up to, and including, the modulator. The internal  \nDDS core produces a single  frequency signal based on the \nprogrammed tuning word. The user may select either the  cosine or sine output of the DDS. The sinusoid at the DDS \noutput can be scaled using a 14 -bit amplitude scale factor (ASF) \nand optionally routed through the inverse sin c filter.  \nSingle tone  mode offers the output sh ift keying (OSK) function. \nIt provides the ability to ramp the amplitude scale factor between \nzero and an arbitrary preset value over a programmable time interval.  \n06384-009PDCLKI/Q IN\nEXT_PWR_DWNDAC_RSET\nIOUT\nIOUT\nTxENABLE\nFTW\nPWDAC GAIN\nθ\nINVERSE\nSINC\nFILTERCLOCKFTW PW8\nSYSCLK\nPLL÷2\nCLOCK MODEREF_CLK\nREF_CLKREFCLK_OUT\nXTAL_SE LPARALLEL DATA\nTIMING AND CONTROLAD9957\nωcos (ωt+θ)\nsin (ωt+θ)\nSYNC_OUT\nSYNC_IN\nPLL_LOCK\nPLL_LOOP_FI LTER\nMASTER_RESET22CCI_OVF L\nOSKDDSAUX\nDAC\n8-BIT\nPOWER\nDOWN\nCONTROLRTRAMPROFILESERIAL I/O\nPORTI/O_UPD ATEPROGRAMMING\nREGISTERS\n3IQ ISQS10\nDATAASSEMBLER AND FORM ATTERI\nQIS\nQSBLACKFIN INTER FACE18\n181616\nHALF-BAND\nFILTERS (4×)INVERSE\nCCI\nCCI\n(1× TO 63×)HALF-BAND\nFILTERS (4×)INVERSE\nCCI\nCCI\n(1× TO 63×)\nOSK\nINTERNAL CLOCK TIMING AND CONTROLDAC\n14-BIT\nOUTPUT\nSCALE\nFACTORSDIO\nCSI/O_RESETSCLKSDO\n \nFigure 29. Single Tone Mode \n \n \nData Sheet  AD9957  \n \nRev. F | Page 21 of 61 SIGNAL PROCESSING \nFor a better understand ing of the operation of the AD9957, it  \nis helpful to follow the signal path in quadrature modulati on \nmode from the parallel data port to the output of the DAC, \nexamining the function of each block ( see Figure 26).  \nThe internal system clock (SYS CLK) signal  that generates from \nthe timing source provided to the REF _CLK pins  provides all \ntiming within the AD9957. \nPARALLEL DATA CLOCK (PDCLK)  \nThe AD9957 generates a signal on the PDCLK pin, which is a \nclock signal that runs at the sample rate of the parallel data port. \nPDCLK serves as a data clock for the parallel port in QDUC \nand interpolating DAC modes; in BFI mode , it is a bit clock . \nNormally, the device uses the rising edges on PDCLK to latch \nthe user -supplied data into the data port. Alternatively, the \nPDCLK Invert bit selects the falling edges as the active edges. \nFurthermore, the P DCLK enable bit  is used to switch off the \nPDCLK signal . Even when the output signal is turned off via  the \nPDCLK enable bit, PDCLK continues to operate internally. The \ndevice uses PDCLK internally to capture paral lel data. Note that \nPDCLK is Logic 0 when disabled.  \nIn QDUC  mode, the AD9957 expects alternating I - and Q - \ndata-words at the parallel port (see Figure 31). Each acti ve edge \nof PDCLK captures one 18 -bit word ; therefore, there are two \nPDCLK cycles per I/Q pair. In BFI mode, the AD9957 expects \ntwo serial bit streams, each segmented into 16 -bit words with \nPDCLK i ndicating each new bit. In either case, the output clock \nrate is f PDCLK  as explained in the Input Data Assembler  section.  \nIn QDUC applications that require a consiste nt timing relation -\nship between the internal SYSCLK signal and the PDCLK  signal, \nthe PDCLK rate co ntrol bit is used to slightl y alter the operation \nof PDCLK.  When this bit is set, the PDCLK rate is reduced by  \na factor of two. This causes rising edges on PDCLK to latch \nincoming I -words and falling ed ges to latch incoming Q -words. \nAgain, the edge polarity assignment is reversible via the PDCLK Invert bit. \n \n \n  TRANSMIT ENABLE PIN (T xENABLE ) \nThe AD99 57 accepts a user -generated signal applied to the \nTxENABLE pin that gates the user supplied data. Polarity of  \nthe TxENABLE  pin is set using the TxENABLE invert bit (see \nthe Register Map  section for details). When TxENABLE is true, \nthe device latches data into the device on the expected edge of \nPDCLK (based on the PDCLK i nvert bit). When TxENABLE  \nis false, the device ignores the data supplied to the port, even \nthough the PDCLK may continue to operate. Furthermore, \nwhen the TxENABLE pin is held false, then the device either forces the 18 -bit data -words to Logic 0s, or it retains the last \nvalue present on the data port prior to TxENABLE switching  \nto the false state (see  the data assembler hold last valu e bit in  \nthe Register Map  section).  \nAlternatively, rather than operating the TxENABLE pin as a gate for framing bursts of data, it can be driven with a clock signal operating at the parallel port data rate. When driven by  \na clock signal, the transition from the false to true state must meet the required setup and hold times on each cycle to ensure proper operation.  \nIn QDUC mode, on t he false -to-true edge of TxENABLE, the \ndevice is ready to receive the first I -word. The first I -word is \nlatched into the device coincident with the active edge of  PDCLK. \nThe next active edge of PDCLK latches in a Q -word, and so on, \nuntil TxENABLE is returned to a static f alse state. The user may \nreverse the ordering of the I - and Q -words via  the Q -First Data \nPairing bit. Furthermore, the user must ensure that an ev en \nnumber of data words are delivered to the device as it must capture both an I - and a Q -word before the data is processed \nalong the signal chain.  \nIn interpolating DAC mode, TxENABLE operation is similar to QDUC mode, but without the need for I/Q data pai ring; the \neven -number -of-PDCLK -cycles rule does not apply.  \nIn BFI mode, operation of the TxENABLE pin is similar except that instead of the false -to-true edge marking the first I -word,  \nit marks the first I and Q bit s in a serial  frame. The user must \nensur e that all 16 -bits of a serial frame are delivered because the \ndevice must capture a full 16 -bit I- and Q -word before the data \nis proc essed along the signal chain.  \nThe timing relationships between TxENABLE, PDCLK, and DATA are shown in Figure 30, Figure 31, and Figure 32. \n \nAD9957  Data Sheet  \n \nRev. F | Page 22 of 61 tDH\nI0TxENABLE\nPDCLK\nD[17:0] IK IK – 1 I3 I2 I1\n06384-010tDHtDS\ntDS\n \nFigure 30. 18 -Bit Parallel Port Timing Diagram —Interpolating DAC Mode \n \ntDH\nI0TxENABLE\nPDCLK\nD[17:0] QN IN Q1 I1 Q0\n06384-0 11\ntDHtDS\ntDS\n \nFigure 31. 18 -Bit Parallel Port Timing Diagram —Quadrature Modulation Mode  \n \nTxENABLE\nPDCLK\nI DATA\nQ DATAQ0 Q1 Q2 Q3 Q4 Q6 Q5 Q7 Q8 Q9 Q10 Q11 Q12 Q13 Q14 Q15I0 I1 I2 I3 I4 I6 I5 I7 I8 I9 I10 I11 I12 I13 I14 I15\nI16n – 1\nQ16n – 1\n06384-012 \nFigure 32. Dual Serial I/Q Bit Stream Timing Diagram, BFI Mode  \nINPUT DATA ASSEMBLER  \nThe input to the AD9957 is an 18 -bit parallel data port i n \nQDUC mode or interpolating DAC mode . In BFI mode, it \noperates as a dual serial data port.  \nIn QDUC mode, it is assumed that two consecutive 18 -bit \nwords represent the real (I) and imaginary (Q) parts of a \ncomplex number of the form , I + jQ. The 18 -bit wor ds are \nsupplied to the i nput of the AD9957 at a rate of  \nRffSYSCLK\nPDCLK2=  for QDUC mode  \nwhere : \nfSYSCLK  (for all of the PDCLK equations in this section) is the \nsample rate of the DAC . \nR (for all of the PDCLK equations in this section) is the \ninterpolation factor of the programmable interpolation filter.  \n \n When the PDCLK rate control bit is active in QDUC mode, \nhowever,  the frequency of PDCLK becomes  \nRffSYSCLK\nPDCLK4=  with PDCLK rate contr ol active  \nIn the interpolating DAC mode, the rate of PDCLK is the same \nas QDUC mode with the PDCLK r ate control bit active, that is , \nRffSYSCLK\nPDCLK4=  for interpolating  DAC mode  \nIn BFI mode, the 18- bit parallel input con verts to a dual serial \ninput  that is, one pin is assigned  as the serial input for the I -words \nand one  pin is assign ed as the serial input for the Q -words. The \nother 16 pins are not used . Furthermore, each I - and Q -word \nhas a 16-bit resolution.  fPDCLK  is the bit rate of the I - and Q-data \nstreams and is given by   \nRffSYSCLK\nPDCLK=  for BFI mode  \n \nData Sheet  AD9957  \n \nRev. F | Page 23 of 61 Encoding and pulse shaping of symbols must be implemented \nbefore the data is presented to the input of the AD9957. Data \ndelivered to the input of the AD9957 may be formatted as either \ntwos  complement or offset  binary (see the Data Format bit in \nTable 13). In BFI mode, the bit se quence order can be set to \neither MSB -first or LSB-first (via the Black fin Bit Order bit). \nINVERSE CCI FILTER  \nThe inverse cascaded comb integrator  (CCI ) filter pre distorts \nthe data, compensating for the slight attenuation gradient imposed  \nby the CCI filter (see the Programmable Interpolating Filter  \nsection). Data entering the first  half-band  filter occupies a maxi -\nmum band width of  ½ fIQ as defined by Nyquist (where f IQ is the \nsample rate at the input of the first half -band filter) ; see Figure 33. \nIf the CCI filter is us ed, the in -band attenuation gradient c an pose a \nproblem for applications requiring an extremely flat pass band. \nFor example, if the spe ctrum of the data supplied to the AD9957 \noccupies a significant portion of the ½  fDATA region, the higher \nfrequencies of the data spectrum are slightly more attenu ated \nthan the lower frequencies (the worst -case overall droop from  \nf = 0 to ½  fDATA is <0.8 dB). The i nverse CCI filter has a  response \ncharacteristic that is the inverse of the CCI filter response over \nthe ½  fIQ region.  \nINBAND\nATTENU ATION\nGRADIENT\nCCI FI LTER RESPONSE\n½fIQfIQ4fIQf\n06384-013 \nFigure 33. CCI Filter Response  \nThe product of the two responses yields an extremely flat  \npass band (±0.05 dB over the baseband  Nyquis t band width) \neliminating the in -band attenuation gradient introduced by the \nCCI filter. The cost is a slight attenuation of the input signal (approxi mately 0.5  dB for a CCI interpolation rate of 2 , and \n0.8 dB for higher interpolation rates).  \nThe inverse CCI filter can be bypassed using the appropriate bit \nin the register map ; it is automatically bypassed if the CCI inter -\npolation rate is 1×. When bypassed, power to the stage turn s off \nto reduce power consumption.  \n \n FIXED INTERPOLATOR ( 4×) \nThis block is a fixed 4×  rate interpolato r, implemented as a \ncascade of two half -band filters. Together, the sampling rate  \nof these  two filters increase s by a factor of four  while preserving \nthe spectrum  of the base band signal applied at the input. Both \nare linear phase  filters; virtually no phase distortion is intro -\nduced within their pass band s. Their combined insertion loss  \nis 0.01 dB, preserving the relative amplitude of the input signal.  \nThe filter s are design ed to  deliver  a composite performance that \nyield s a usable pass band of 40% of the input sample rate. Withi n \nthat pass band, ripple does not exceed 0.002 dB p eak-to-peak. \nThe stop band extends from 6 0% to 340% of the input sample \nrate and offers a minimum of 85 dB attenuation. Figur e 34 and \nFigure 35 show the composite response of the two half -band filters.  \n–120–110–100–90–80–70–60–50–40–30–20–10010\n0 0.5 1.0 1.5 2.0 2.5 3.0 3.5 4.0\n06384-014(dB)\nfI \nFigure 34. Half -Band 1 and Half -Band 2 Composite Response  \n(Frequency Scaled to I nput Sample Ra te of Hal f-Band 1)  \n–0.010–0.0080.008\n–0.0060.006\n–0.0040.004\n–0.0020.002\n00.010\n0 0.1 0.2 0.3 0.4 0.5\n06384-015(dB)\nfI \nFigure 35. Composite Pass- Band Detail  \n(Frequency Scaled to Input Sample Ra te of Half -Band 1) \nIn BFI mode, there are two additional half -band filters resident , \nyielding a total fixed interpolation factor of 16 ×. The extra BFI \nfilters use the same filter tap coefficient values as the QDUC \nhalf-band filters, but their data pathway is 16 bits (instead of  \n18 bits as with the QDUC half -band filters). As such, baseband \nquantization noise  is higher in BFI mode .  \nAD9957  Data Sheet  \n \nRev. F | Page 24 of 61 Knowledge of the frequency response of the half -band filters  is \nessential to understanding their  impact on the spectral properties  \nof the input signal.  This is especially true when using the quad -\nrature modulator to upconvert a baseband  signal containing \ncomplex data symbols that have been pulse shaped. \nConsider that a complex symbol is represented by a real (I) and \nan imaginary (Q) component , thus requiring two digital words \nto represent a single complex sample of the form  I + jQ. The \nsample rate associated with a sequence of complex symbols is referred to as f\nSYMBOL . If pulse shaping is applied to the symbols, \nthe sample rate must be increased by some integer factor, M  \n(a consequence of the pulse shaping process).  This new sample \nrate (f IQ) is related to the symbol  rate by  \nfIQ = Mf SYMBOL  \nwhere fIQ is the rate at which complex samples must be supplied \nto the input of the first half -band filter in both ( I and Q ) signal \npaths.  This rate should not be confu sed with the rate at which \ndata is supplied to the AD9957.  \nTypically, pulse shaping is applied to the baseband  symbols via  \na filter having a raised cosine response . In such cases, an excess \nbandwidth factor (α, 0 ≤ α ≤ 1) is used to modify the bandwidth  \nof the data.  For α = 0 , the data bandwidth corresponds to fSYMBOL /2; \nfor α = 1, the data bandwidth extends to f SYMBOL . Figure 36 shows  \nthe relationship be tween α, the band width of the raised cosine \nresponse, and the response of the first half -band filter.  \nff\nfTYPICAL SPECTRUM OF A RANDOM SYMBOL SEQUENCE\nRAISED COSINE\nSPECTRAL MASK\nSAMPLE RATE FOR\n2× OVERSAMPLED\nPULSE SHAPING\nINPUT SAMPLE\nRATE OF FIRST\nHALF-BAND\nFILTER HALF-BAND\nFILTER\nRESPONSE\nINPUT SAMPLE\nRATE OF FIRST\nHALF-BAND\nFILTERNYQUIST\nBAND\nWIDTH\n½fSYMBOL fSYMBOL 2fSYMBOL 3fSYMBOL\n½fSYMBOL\n0.4fIQ fIQ 2fIQ ½fIQfSYMBOL 2fSYMBOL 4fSYMBOLα = 1\nα = 0α = 0.5\n06384-016 \nFigure 36. Effect of the Excess B andwidth Factor (α) \nThe responses in Figure 36 reflect the specific case of M  = 2 (the \ninterpolation factor for the pulse shaping operation). Increasing Factor M shifts the location of the f\nIQ point on the half -band response portion of th e diagram to the right, as it must remain \naligned with the corresponding Mf SYMBOL  point on the frequency \naxis of the raised cosine spectral diagram.  However, if f IQ shifts \nto the right, so does the half -band response, proportionally.  \nThe result is that the  raised cosine spectral mask always lies \nwithin the flat portion ( dc to 0.4  fIQ) of the pass band response \nof the first half -band filter, regardless of the choice of α  so long \nas M  > 2. Therefore, for M  > 2, the first half -band filter has \nabsolutely no neg ative impact on the spectrum of the baseband  \nsignal when raised cosine pulse shaping is employed. For the \ncase of M = 2, a problem can arise.  This is highlighted by the \nshaded area in the tail of the α = 1 trace on the raised cosine \nspectral mask diagram.  Notice that this portion of the raised \ncosine spectral mask extends beyond the flat portion of the \nhalf-band response and cause s unwanted amplitude and phase \ndistortion as the signal passes through the first half -band filter.  \nTo avoid this, simply ensure t hat α ≤ 0.6 when M  = 2.  \nPROGRAMMABLE INTERPO LATING FILTER  \nThe programmable inter polator is implemented as a low -pass \nCCI filter. It is programmable by a 6 -bit cont rol word, giving a \nrange of 2× to 63× interpolation.  \nThe programmable interpo lator is bypassed when programmed \nfor an interpolation factor of 1. When bypassed, power to the \nstage is removed and the i nverse CCI filter is also bypassed, \nbecause its compensation is not needed.  \nThe output of the  programmable int erpolator is the data fr om \nthe 4× interpolator further upsampled by the CCI filter, accord -\ning to the rate chosen by the user. This results in the upsampling of the input data by a factor of 8× to 252× in steps of four. \nThe transfer function of the CCI interpolating filter is  \n()()51\n02\n\uf8f7\uf8f7\n\uf8f8\uf8f6\n\uf8ec\uf8ec\n\uf8ed\uf8eb\n=∑−\n=−R\nkfkπje fH  (1) \nwhere R is the programmed interpolation factor, and f  is the \nfrequency normalized to f SYSCLK . \nNote that minimum R requirements exist depending on the \nmode and frequency of f SYSCLK . The minimum R setting is \ndefined under the followin g conditions.  \nQDUC Mode  \nIf f SYSCLK  is between 500 MSPS to 1 GSPS, then the minimum R is 2.  \nIf f SYSCLK  is less than 500 MSPS, then the minimum R is 1.  \nBFI Mode  \nIf f SYSCLK  is between 500 MSPS to 750 MSPS, then the minimum \nR is 3.  \nIf f SYSCLK  is between 250 MSPS to 500 MSPS, then the minimum \nR is 2.  \nIf f SYSCLK  is less than 250 MSPS, then the minimum R is 1.  \nData Sheet  AD9957  \n \nRev. F | Page 25 of 61 QUADRATURE MODULATOR  \nThe digital quadrature modulator stage shifts the frequency of \nthe baseband  spectrum of the incoming data stream up t o the \ndesired carrier frequency (a process known as up conversion).  \nAt this point , the baseband  data, which was delivered to the \ndevice at an I/Q sample rate of f IQ, has been upsampled to a rate \nequal to the frequency of SYSCLK, making the data sampling \nrate equal to the sampling rate of the carrier signal.  \nA direct digital synthesizer (DDS) controls the frequency of the carrier signal . The DDS  very precisely  generates the desired \ncarrier frequency from the internal reference clock (SYSCLK). The carrier is a pplied to the I and Q multipliers in quadrature \nfashion (90° phase offset) and summed, yielding a data stream that represents the quadrature modulated carrier.  \nThe modulation is performed  digitally , avoiding the phase \noffset, gain imbalance , and crosstalk issues commonly associ ated \nwith analog modul ators. Note that the modulated, so -called \nsignal is a number stream sampled at the rate of SYSCLK, the \nsame rate at which the DAC is clocked.  \nA spectral invert bit controls the orientation of the modulated \nsignal with respect to the carrier . This bit resides in each of the \neight profile registers. By default, the time domain output of the \nquadrature modu lator takes the form  \nI(t) × cos(ωt ) − Q( t) × sin(ωt)  (2) \nWhen the spectral invert bit  is asserted, it becomes  \nI(t) × cos(ωt ) + Q( t) × sin(ωt)  (3) \nDDS CORE  \nThe direct digital synthesizer  (DDS) block generates sine  \nand/or cosine signals. In single  tone mode, the DDS generates \neither a digital sine or cosine waveform based on the s elect DDS \nsine output  bit. In QDUC mo de, the DDS generates the quadra -\nture carrier reference signal that digitally modulates the I/Q \nbaseband  signal.  \nThe DDS output frequency is tuned using registers accessed via \nthe serial I/O p ort. This allows for both precise tuning and \ninstantaneous chang ing of the carrier frequency.   \nThe equation relating output frequency (f OUT) of the DDS to the \nfrequency tuning word (FTW) and the system clock (f SYSCLK ) is \nSYSCLK OUT fFTWf \uf8f7\uf8f8\uf8f6\uf8ec\uf8ed\uf8eb=322 (4) \nwhere FTW  is a decimal number from 0 to 2,147,483,647 (231 − 1). \nSolving  for FTW yields  \n\uf8f7\uf8f7\n\uf8f8\uf8f6\n\uf8ec\uf8ec\n\uf8ed\uf8eb\n\uf8f7\uf8f7\n\uf8f8\uf8f6\n\uf8ec\uf8ec\n\uf8ed\uf8eb=\nSYSCLKOUT\nffround FTW322  (5) where t he round()  function means to round the result to the \nnearest integer.  For example, for f OUT = 41 MHz and f SYSCLK  = \n122.88 MHz, then FTW = 1,433,053,867 ( 0x556AAAAB).  \nIn single tone  mode, the DDS frequency, phase , and amplitude \nare all programm able via the s erial I/O p ort. The amplitude  \nis controlled by means of a digital multiplier using  a 14- bit \nfractional scale value called the amplitude scale fac tor (ASF). \nThe LSB weight is 2−14, yielding a multiplier range of 0 to \n0.99993896484375 (1 − 2−14). To bypass the ASF multiplier , \nprogram the appropriate control register bit (see the details of \nCFR2 , Bit 24 in the Register Bit Descriptions  section ). When \nbypassed, the ASF multiplier clock s are disabled  to conserve \npower. The phase offset is controlled by means of a digital adder \nthat uses a 14 -bit offset value called the phase offset wor d (POW).  \nThe adder is situated between  the phase accumulator and the \nangle -to-amplitude conversion logic in the DDS core.  The adder \napplies the POW to the instantaneous  phase values produced by \nthe DDS phase accumulator.  The adder is MSB aligned with the \nphase accumulator yielding an LSB weight of 2−14 (which  equates to \na resolution of ~0.022 ° or ~0.000383 radians).  Both the ASF and \nthe POW are available for each of the eight profiles.  \nINVERSE SINC  FILTER  \nThe sampled carrier dat a stream is the input to the digital -to-\nanalog converter. The DAC output spectrum is shaped by the \ncharacteristic sin(x)/x (or sinc) envelope, due to the intrinsic \nzero -order hold effect associated with DAC -generated signals. \nThe shape of the sinc  envelope is well known and can be \ncompensated for. The inverse sinc filter preceding the DAC \nprovides this compensation . \nThe inverse sinc filter is implemented as a digital FIR filter.  Its \nresponse characteristic very nearly matches the inverse of the \nsinc envelope, as shown in Figure 37 (along with the sinc  \nenvelope for comparison).  \nThe inverse sinc filter is enabled through  a bit in the register \nmap.  The filter tap coefficients are listed  in Table 4. The filter \npredistorts the data prior to its arrival at the DAC to compensate  \nfor the sinc  envelope that otherwise distorts the spectrum.  \nWhen the inverse sinc  filter is enabled , it introduces a  ~3.0  dB \ninsertion loss. The inverse sinc compensation is effective for \noutput f requencies up to 40% (nominally) of the DAC sample rate.  \nTable 4. Inverse Sinc Filter Tap Coe fficients  \nTap No. Tap Value  Tap No. \n1 −35 7 \n2 +134 6 \n3 −562 5 \n4 +6729  4 \n \n \nAD9957  Data Sheet  \n \nRev. F | Page 26 of 61 In Figure 37, it can be seen that the sinc  envelope introduces a \nfrequency dependent attenuation that can be as much as 4  dB at \nthe Nyquist frequency ( half of the DAC sample rate).  Without \nthe inverse sinc filter, the DAC output also suffers from the \nfrequency dependent droop of the sinc  envelope.  The inverse \nsinc filter effectively flattens the droop to within ±0.05  dB as \nshown in Figure 38, which shows the corrected sinc  response \nwith the i nverse sinc filter enabled.  \n1\n0\n–1\n–2\n–3–4\n0 0.1 0.2 0.4 0.3 0.5\n06384-017(dB)\nFREQUENCY RELATIVE TO DAC SAMPLE RATEINVERSE\nSINCSINC\n \nFigure 37. Sinc and  Inverse Sinc Responses \n–2.8\n–2.9\n–3.0\n–3.1\n0 0.1 0.2 0.4 0.3 0.5\n06384-018(dB)\nFREQUENCY RELATIVE TO DAC SAMPLE RATECOMPENSATED RESPONSE\n \nFigure 38. DAC Response with Inverse Sinc Compensation  \n \n \n \n OUTPUT SCALE FACTOR (OSF) \nIn QDUC and i nterpolating DAC modes, the output amplitude \nis controlled using an 8 -bit digital multiplier.  The 8 -bit multiplier \nvalue is called the output scale fac tor (OSF) and is programmed \nvia the appropriate control regist ers. It is available for each of \nthe eight profiles. The LSB weight is 2−7, which yields a multiplier  \nrange of 0 to 1.9921875 (2 − 2−7). The gain extends to nearly a \nfactor of 2 to provide a means to overcome the intrinsic loss \nthrough the modulator when operating in the quadrature modulation mode.  \nIn interpolating DAC mode, the OSF should not be programmed  \nto exceed unity, as clipping can result.  Programming the 8 -bit \nmultiplier to unity gain ( 0x80) bypasses the stage and reduces \npower consumption.  \n14-BIT DAC  \nThe AD9957 incorporates an integrated 14 -bit current -output \nDAC.  The output current is delivered as a balanced signal using \ntwo outputs. The use of balanced outputs reduces the amount of comm on-mode noise at the DAC output, increasing signal- to-\nnoise ratio. An external resistor (R\nSET) connected between the \nDAC_RSET pin and AGND  establishes a reference current.  The \nfull-scale output current of the DAC (I OUT) is a scaled version of \nthe reference  current (see the Auxiliary DAC  section that follows).   \nProper attention should be paid to the load termination to keep \nthe output voltage within the specified compliance range, as \nvoltages developed beyond this range cause excessive distortion and can damage the DAC output circuitry.   \nAuxiliary DAC  \nThe full -scale output current of the main DAC (I OUT) is con -\ntrolled by an 8 -bit auxiliary DAC.  An 8 -bit code word stored in \nthe appropriate register map location sets I OUT according to the \nfollowing equation:  \n\uf8f7\uf8f8\uf8f6\uf8ec\uf8ed\uf8eb+=9614.86 CODE\nRI\nSETOUT  (6) \nwhere : \nRSET is the value of the  RSET resistor (in ohms).  \nCODE  is the 8 -bit value supplied to the auxiliary DAC (default \nis 127).   \nFor example, with R SET = 10,000 and CODE = 127, I OUT = 20.07  mA. \n \n \nData Sheet  AD9957  \n \nRev. F | Page 27 of 61 RAM CONTROL  \nRAM OVERVIEW  \nThe AD9957 has an integrated 1024 × 32-bit RAM.  This RAM \nis only accessible when the AD9957 is operating in QDUC or \ninterpolating DAC mode.  The RAM has two fundamental \nmodes of operation:  data entry/retrieve mode and playback \nmode.  The mode is selected by programming the RAM Enable \nbit in CFR1 via the s erial I/O p ort.  \nData entry/retrieve mode is used to load or read back the RAM \ncontents via th e serial I/O p ort. Playback mode is used to  deliver \nRAM data to one of two internal destinations:  the baseband \nscaling multipliers (see Figure 25, the IS and QS labels) or the \nbaseband signal chain (see Figure 25, the I and Q labels). In \nboth cases , the RAM can be used to apply an arbitrary,  time -\nvarying waveform to the selected desti nation. A block diagram \nof the RAM and its control elements is shown in  Figure 39. \nThe external parallel data port is disabled when the baseband \nsignal chain  serves as the RAM playback destination.  \nRAM32 10QSTATE\nMACHINE SCLKSDIO\nSDO\nCSI/O_RESETRT\nEND ADDRESSSTART ADDRESS 10\n10ADDRESS STEP RATE 16RAM MODE3\nCLKBASEBAND DATA CLOCK\nI\n16\nIS\nQ\nQSDDS CLOCK\nUP/DOWN COUNTER\nI CHANNEL\nQ CHANNELRAM\nSEGMENT\nREGISTERS\nSERIAL I/O PORTADDRESS\nDATAU/D32\n(MSBs)\n(LSBs)16\n06384-019 \nFigure 39. RAM Block Dia gram  \nIn Figure 39, the s erial I/O port is used to program the contents \nof the two RAM segment r egisters as well as to load  and retrieve \nthe RAM contents.  The state machine takes care of incrementing  \nor decreme nting the RAM address locations and controlling the \ntiming of the RAM address and data for proper operation.  The \nI-channel  and Q-channel  multiplexers route RAM data to base -\nband scaling multipliers (IS/QS) or direc tly to the baseband \nsignal chain  (I/Q) whe n the RAM is used in playback mode.  \nThe state of the RAM playback dest ination bit determines the \ndestination of the RAM data during playback.   \nAn I/O u pdate (or a profile change) is necessary to enact a state \nchange of the RAM e nable or RAM playback de stination bits, or \nany of the RAM segment regi ster bits.  \nThe 32 -bit RAM data bus is partitioned so that the 16 MSBs are \ndesignated as I -channel  bits and the 16 LSBs are desig nated as Q-channel  bits. In playback mode, when driving data directly \ninto the baseband signal chain , the 16 -bit data -words are \nconsid ered to be signed ( that is , twos  complement) values.  The \n16-bit I-and Q-words a re MSB aligned with the 18 -bit I and Q  \nbaseband data path.  The two remaining LSBs of each 18 -bit \nbaseband channel are driv en by the MSB of the respective \nchannel . This  ensure s correct po larity coding when the 16 -bit I \nand Q  data from the RAM translate s into 18 -bit words for the \nbaseband signal chain . Alternatively, when the RAM is driving \nthe baseband scaling multipliers in  playback mode, the RAM  \ndata is considered  to represent unsigned, fractional values with a \nrange of 0  to 1 − 2−16. \nRAM SEGMENT REGISTER S \nTwo dedicated registers (RAM Segment Register 0 and RAM Segment Register 1) control the operation of the RAM.  Each \ncontai ns the following:  \n• 10-bit start add ress word  \n• 10-bit end address word  \n• 16-bit address step r ate word  \n• 3-bit RAM playback mo de word  \nWhen programming these registers, the user must ensure that the end address is greater than the start  address.  \nWith the RAM segment r egisters, the user can arbitrarily parti tion \nthe RAM into two independent memory segments.  The segment \nboundaries are specified with the start and end address words in each RAM segment register.  The playback rate is controlled \nby the address step rate w ord (only meaningful  when the base-\nband scaling multipliers  serve as the playback destination ). If the \nbaseband signal chain serves as the RAM playback destination, the 16 -bit address step rate words must be set to 1. The playback \nmode of the RAM is controlled via the RAM playback mod e word.  \nRAM STATE MACHINE  \nThe state machine acts as an address generator for the RAM.  \nEither the serial I/O port (when the RAM is operating in the load/retrieve mode) or the baseband data clock (when the RAM is in playbac k mode) clocks it . The state machine uses the RAM \nmode bits of the active RAM segment regi ster to establish the \nproper sequence through the specified address range.  \nRAM TRIGGER (RT) PIN  \nThe RAM state machine monitors the RT pin f or logic state tran -\nsitions . Any state transition triggers the state machine into action . \nThe direction of the logic state transition on the RT pin deter -\nmines which RAM segment reg ister the state machine uses for \nplayback instructions.  RAM Segment Regis ter 0 is used if the \nstate ma chine detects a 0 -to-1 transition; RAM Segment Register  1 \nis used if a 1 -to-0 transition is detected.  \nAD9957  Data Sheet  \n \nRev. F | Page 28 of 61 LOAD/RETRIEVE RAM OP ERATION  \nLoading or retrieving the RAM contents is a three -step process.  \n1. Program the RAM s egment registers with start and end \naddresses defining the boundaries of each independent \nRAM segment.   \n2. Toggle the RT pin with the appropriate transition to select \nthe desired RAM segment reg ister.   \n3. Using  the serial I/O p ort, write (or read) the address range \nspecified by the selected RAM se gment reg ister. \nFigure 40 shows the RAM block diagram when used for loading  \nor retrieve operation s. \nRAM32 10QSTATE\nMACHINERT\nEND ADDRESSSTART ADDRESS 10\n10ADDRESS STEP RATE 16RAM MODE3\nCLKBASEBAND DATA CLOCK\nI\n16\nIS\nQ\nQSDDS CLOCK\nUP/DOWN COUNTER\nI CHANNEL\nQ CHANNEL\nSERIAL I/O PORTADDRESS\nDATAU/D32\n(MSBs)\n(LSBs)16\n06384-020NOTES\n1. NONESSENTIAL FUNCTIONAL COMPONENTS ARE RENDERED IN GRAY.RAM\nSEGMENT\nREGISTERS\nSCLKSDIO\nSDO\nCSI/O_RESET\n \nFigure 40. RAM Load/Retrieve O peration  \nDuring a load  or retrieve operation, the state machine controls \nan up/down counter t o step through the  required RAM locations.  \nThe counter is synchronized with the s erial I/O port so that the \nserial/parallel conversion of the 32 -bit words is correctly time d \nwith the generation of the appropriate RAM address to properly \nexecute the desired read or write operation.  The up/down \ncounter always increments through the address range during \nserial I/O p ort operations.  \nBecause  the RAM segment regi sters are completely independent , \nit is possible to define overlapping address ranges. However, \ndoing so cause s the overlapping address locations to be over -\nwritten by the most recent write operation.  It is recommended \nthat the user avoid defining overlapp ing address ranges. \nRAM PLAYBACK OPERATI ON \nWhen  the RAM has been loaded, it can be used for playback \noperation.  The destination of the playback data is selected via \nthe RAM playback des tination bit.  The active RAM s egment \nregister is selected by the approp riate transition of the RT pin.  \nThe active RAM segment register directs the internal state machine by defining the RAM address range occupied by the data and the RAM playback mode.  It also defines the playback rate when the playback destination is the base band scaling \nmultipliers.  \nAlthough RAM load/retrieve operations via the s erial I/O port \ntake precedence over playback, it is recommended that the user not attempt RAM access via the serial I/O po rt when the RAM \nenable bit is set.  \nFigure 41 is a block diagram showing the functional compo -\nnents used for RAM playback operation when the internal destination is the baseband scaling multipliers.   \nRAM32 10QSTATE\nMACHINERT\nEND ADDRESSSTART ADDRESS 10\n10ADDRESS STEP RATE 16RAM MODE3\nCLKBASEBAND DATA CLOCK\nI\n16\nIS\nQ\nQSDDS CLOCK\nUP/DOWN COUNTER\nI CHANNEL\nQ CHANNELRAM\nSEGMENT\nREGISTERS\nSERIAL I/O PORTADDRESS\nDATAU/D32\n(MSBs)\n(LSBs)16\n06384-021NOTES\n1. NONESSENTIAL FUNCTIONAL COMPONENTS ARE RENDERED IN GRAY.SCLKSDIO\nSDO\nCSI/O_RESET\n \nFigure 41. RAM Playback  to Baseband Scaling Multipliers  \nDuring playback to the baseband scaling multipliers , the \naddress step rate w ord in the active RAM segment r egister set s \nthe rate at which RAM data samples are delivered to the multipliers.  The follo wing equations define the RAM sample \nrate and sample interval ( Δt): \nRMfRate Sample RAMSYSCLK\n4=  \nSYSCLKfRMt4=∆  \nwhere : \nR is the rate interpolation factor for the CCI filter . \nM is the 16 -bit value of the  address step r ate word stored in the \nactive RAM  segment regi ster. \nIf the RAM e nable bit is set and the baseband scaling multi -\npliers are selected as the playback destination, then assertion  \nof an I/O update or profile change causes the multipliers to be \ndriven with a static value of zero.  A subsequent  state change on \nthe RT pin causes the multipliers to be driven by the data played back from the RAM instead of the static zero value.  \nFigure 42 is a block diagram sh owing RAM playback operation \nwhen the internal destination is the baseband data path.  During \nplayback to the baseband data path, the state machine  increments/  \ndecrements the RAM address at the baseband data rate ( the \naddress step rate must be set to 1 ). \nData Sheet AD9957\n \nRev. F | Page 29 of 61 RAM32 10QSTATE\nMACHINERT\nEND ADDRESSSTART ADDRESS 10\n10ADDRESS STEP RATE 16RAM MODE3\nCLKBASEBAND DATA CLOCK\nI\n16\nIS\nQ\nQSDDS CLOCK\nUP/DOWN COUNTER\nI CHANNEL\nQ CHANNELRAM\nSEGMENT\nREGISTERS\nSERIAL I/O PORTADDRESS\nDATAU/D32\n(MSBs)\n(LSBs)16\n06384-022NOTES\n1. NONESSENTIAL FUNCTIONAL COMPONENTS ARE RENDERED IN GRAY.SCLKSDIO\nSDO\nCSI/O_RESET\n \nFigure 42. RAM Playback to Baseband Data Path \nOVERVIEW OF RAM PLAYBACK MODES \nThe RAM is operational in any one of four different  \nplayback modes. \n\uf0b7 Ramp-up \n\uf0b7 Bidirectional ramp \n\uf0b7 Continuous bidirectional ramp \n\uf0b7 Continuous recirculate \nRAM playback is only functional when the AD9957  is pro-\ngrammed for either the QDUC or interpolating DAC mode. \nThe RAM playback mode is selected via the 3-bit RAM play-\nback mode word located in each of the RAM segment registers. \nThus, the RAM playback mode is segment dependent. The \nRAM playback mode bits are detailed in Table 5. \nTable 5. RAM Playback Modes \nRAM Playback Mode Bits[2:0] RAM Playback Mode \n001 Ramp-up \n010 Bidirectional ramp \n011 Continuous bidirectional ramp \n100 Continuous recirculate \n000, 101, 110, 111 Not Valid \nThe continuous bidirectional ramp and continuous recirculate \nmodes are not available when the baseband scaling multipliers \nserve as the destination of RAM playback. \n  \n \n \n \n RAM Ramp-Up Mode \nIn ramp-up mode, upon assertion of an I/O update or a state \nchange on the RT pin, the RAM begins playback operation \nusing the parameters programmed into the selected RAM seg-\nment register. Data is extracted from RAM over the specified address range contained in the start address and end address of the active RAM segment register. The data is delivered at the appropriate rate and to the destination as specified by the RAM playback destination bit. \nThe playback rate is governed by the timer internal to the RAM \nstate machine and its period (Δt) is determined by the state of the RAM playback destination bit as detailed in the RAM Playback \nOperation section. \nThe internal state machine begins extracting data from the \nRAM at the start address and continues to extract data until it \nreaches the end address. Upon reaching this address, the state \nmachine halts. \nA graphic representation of the ramp-up mode appears in \nFigure 43. The upper trace shows the progression of the RAM \naddress from the start address to the end address for the active RAM segment register. The address value advances by one with each timeout of the timer internal to the state machine. The circled \nnumbers indicate specific events, explained as follows: \nEvent 1—an I/O update or state transition on the RT pin. This \nevent initializes the state machine to the start address of the active \nRAM segment register. \nEvent 2—the state machine reaches the end address of the active \nRAM segment register and halts. \nSTART ADDRESSRAM\nADDRESSEND ADDRESS\n11 PDCLK CYCLE\nOR\nM DDS CLOCK CYCLES\n∆t\nI/O_UPDATE OR\nRT TRANSITION\n2 1\n06384-023 \nFigure 43. Ramp-Up Timing Diagram \n \n \n \n \nAD9957 Data Sheet\n \nRev. F | Page 30 of 61 RAM Bidirectional Ramp Mode \nThis mode is unique in that the RAM segment playback mode \nword of both RAM segment registers must be programmed for RAM bidirectional ramp mode. \nIn bidirectional ramp mode, upon assertion of an I/O update, \nthe RAM readies for playback operation using the parameters \nprogrammed into RAM Segment Register 0. The data is deliv-\nered at the appropriate rate and to the destination as specified \nby the RAM playback destination bit. \nThe playback rate is governed by the timer that is internal to the \nRAM state machine, and its period (Δt) is determined by the \nstate of the RAM playback destination bit as detailed in the \nRAM Playback Operation section. \nPlayback begins upon a 0 to 1 logic transition on the RT pin. \nThis instructs the state machine to increment through the \naddress range specified in RAM Segment Register 0 starting with the start address. As long as the RT pin remains Logic 1, the state machine continues to play back the RAM data until it \nreaches the end address, at which point the state machine halts. \nA Logic 1 to Logic 0 transition on the RT pin instructs the state \nmachine to switch to RAM Segment Register 1 and to decrement \nthrough the address range starting with the end address. As long as the RT pin remains Logic 0, the state machine continues to play back the RAM data until it reaches the start address, at \nwhich point the state machine halts. \nIt is important to note that RAM Segment Register 1 is played \nback in reverse order for bidirectional ramp mode. Keep this in \nmind when the RAM contents are loaded via the serial I/O port when bidirectional ramp mode is the intended playback mode. \nA graphic representation of the bidirectional ramp mode \nappears in Figure 44. It demonstrates the action of the state \nmachine in response to the RT pin. If the RT pin changes states \nbefore the state machine reaches the programmed start or end \naddress, the internal timer is restarted and the direction of the \naddress counter reversed. \n1 2 3 4 5 6 7 8\n06384-0241RAM SEGMENT 0 1 0 10\n∆t\n∆t\n∆t ∆t∆t\nSTART ADDR ESS NUMBER 1START ADDR ESS NUMBER 0\nEND ADDRESS NUMBER 1END ADDRESS\nNUMBER 0\nRAM\nADDRESS\nRAM\nADDRESS\nRT\nPIN1 PDCLK CYCLE\nOR\nM DDS CLOCK CYCLES\nI/O_UPDATE\n \nFigure 44. Bidirectional Ramp Timing Diagram \n \n \n \n \n  \nData Sheet AD9957\n \nRev. F | Page 31 of 61 The circled numbers in Figure 44 indicate specific events, \nexplained as follows: \nEvent 1—an I/O update or profile change activates the RAM \nbidirectional ramp mode. \nEvent 2—the RT pin switches to Logic 1. The state machine \ninitializes to the start address of RAM Segment Register 0 and begins incrementing the RAM address counter. \nEvent 3—the RT pin remained at Logic 1 long enough for the \nstate machine to reach the end address of RAM Segment \nRegister 0, at which point the address counter is halted. \nEvent 4—the RT pin switches to Logic 0. The state machine \ninitializes to the end address of RAM Segment Register 1, resets \nthe internal timer, and begins decrementing the RAM address counter. Event 5—the RT pin switches to Logic 1. The state machine \ninitializes to the start address of RAM Segment Register 0, \nresets the internal timer, and begins incrementing the RAM \naddress counter. \nEvent 6—the RT pin switches to Logic 0. The state machine \ninitializes to the end address of RAM Segment Register 1, resets \nthe internal timer, and begins decrementing the RAM address \ncounter. \nEvent 7—the RT pin remained at Logic 0 long enough for the \nstate machine to reach the start address of RAM Segment \nRegister 1, at which point the address counter is halted. \nEvent 8—the RT pin switches to Logic 1. The state machine \ninitializes to the start address of RAM Segment Register 0, \nresets the internal timer, and begins incrementing the RAM \naddress counter. \n  \n \n \n \n \n \n \n \n  \n \n \n \n \n \n \n \n \n \n \nAD9957 Data Sheet\n \nRev. F | Page 32 of 61 START ADDRESSRAM\nADDRESSEND ADDRESS\n11 PDCLK CYCLE\nOR\nM DDS CLOCK CYCLES\n∆t\nI/O_UPDATE OR\nRT TRANSITION\n2 3 1∆t\n06384-025 \nFigure 45. Continuous Bidirectional Ramp Timing Diagram \nRAM Continuous Bidirectional Ramp Mode \nIn continuous bidirectional ramp mode, upon assertion of an \nI/O update or a state change on the RT pin, the RAM begins \nplayback operation using the parameters programmed into the \nselected RAM segment register. Data is extracted from RAM over the specified address range contained in the start address and end address. The data is delivered at the appropriate rate and to the destination as specified by the RAM playback destination bit. \nThe playback rate is governed by the timer internal to the RAM \nstate machine and its period (Δt) is determined by the state of the RAM playback destination bit as detailed in the RAM \nPlayback Operation section. \nAfter initialization, the internal state machine begins extracting \ndata from the RAM at the start address of the active RAM segment \nregister and increments the address counter until it reaches the \nend address, at which point the state machine reverses the direc-tion of the address counter and begins decrementing through the address range. Whenever one of the terminal addresses is reached, the state machine reverses the address counter; the process continues indefinitely. Note that a change in state of the RT pin aborts the current \nwaveform and the newly selected RAM segment register is used \nto initiate a new waveform. \nA graphic representation of the continuous bidirectional ramp \nmode is shown in Figure 45. The circled numbers in Figure 45 \nindicate specific events, explained as follows: \nEvent 1—an I/O update or state change on the RT pin has \nactivated the RAM continuous bidirectional ramp mode. The \nstate machine initializes to the start address of the active RAM \nsegment register. The state machine begins incrementing \nthrough the specified address range. \nEvent 2—the state machine reaches the end address of the active \nRAM segment register. \nEvent 3—the state machine reaches the start address of the \nactive RAM segment register. \nThe continuous bidirectional ramp continues indefinitely until \nthe next I/O update or state change on the RT pin. \n \n \n \n \nData Sheet AD9957\n \nRev. F | Page 33 of 61 \n06384-026START ADDRESSEND ADDRESS\n1\n1 2 3 4 5RAM ADRESS∆t1 PDCLK CYCLE\nOR\nM DDS CLOCK CYCLES\nI/O_UPDATE OR\nRT TRANSITION\n \nFigure 46. Continuous Re circulate Timing Diagram \nRAM Continuous Recirculate Mode \nThe continuous recirculate mode mimics ramp-up mode, \nexcept that when the state machine reaches the end address of \nthe active RAM segment register, it does not halt. Instead, the next timeout of the internal timer causes the state machine to \njump to the start address of the active RAM segment register. \nThis process continues indefinitely until an I/O update or state change on the RT pin. A state change on the RT pin aborts the current waveform and the newly selected RAM segment register \ninitiates a new waveform. \nA graphic representation of the continuous recirculate mode is \nshown in Figure 46.  \nThe circled numbers in Figure 46 indicate specific events, which \nare explained as follows: \nEvent 1—an I/O update or state change on the RT pin occurs. \nThis initializes the state machine to the start address of the active RAM segment register and causes the state machine to \nbegin incrementing the address counter at the appropriate rate. \nEvent 2—the state machine reaches the end address of the active \nRAM segment register. \nEvent 3—the state machine switches to the start address of the \nactive RAM segment register. The state machine continues to \nincrement the address counter. \nEvent 4—the state machine again reaches the end address of the \nactive RAM segment register. \nEvent 5—the state machine switches to the start address of the \nactive RAM segment register. The state machine continues to increment the address counter. \nEvent 4 and Event 5 repeat until an I/O update or state change \noccurs on the RT pin. \n \nAD9957  Data Sheet  \n \nRev. F | Page 34 of 61 CLOCK INPUT (REF_ CLK) \nREFCLK OVERVIEW  \nThe AD9957 supports a number of options for producing the \ninternal SYSCLK signal (that is, the DAC sample clock) via the \nREF_CLK /REF_CLK  input pins. The REF_CLK input can be \ndriven directly from a differential or single -ended source, or it \ncan acce pt a crystal connected across the two input pins. There \nis also an internal phase -locked loop (PLL) multiplier that can \nbe independently enabled. A block diagram of the REF_CLK \nfunctionality is shown in Figure 47. The various input configu -\nrations are controlled by means of the XTAL_SEL pin and \ncontrol bits in the CFR3 register. Figure 47 also shows how the \nCFR3 control bits are associated with specific functional blocks.  \nREF_CLK\nREF_CLKPLL\nVCO\nSELECT DIVIDECHARGE\nPUMPOUT INPLL_LOOP_FILTER ENABLEPLL_LOOP_FILTER\nDRV0\nCFR3\n[29:28]\nREFCLK_OUTXTAL_SEL\nREFCLK\nINPUT\nSELECT\nLOGIC\nSYSCLK\nICP\nCFR3\n[21:19]N\nCFR3\n[7:1]VCO SEL\nCFR3\n[26:24]\n÷2\nREFCLK INPUT\nDIVIDER BYPASS\nCFR3, BIT 15PLL ENABLE\nCFR3, BIT 8\nREFCLK INPUT\nDIVIDER RESETB\nCFR3, BIT 149495 2\n90\n9101\n01\n22\n7 3\n01\n06384-028 \nFigure 47. REF_CLK Block Diagram  \nThe PLL enable bit is used to choose between t he PLL path or \nthe direct input path. When the direct input path is selected, the \nREF_CLK /REF_CLK  pins must be drive n by an external signal \nsource. Input frequencies up to 2 GHz are supported. For input \nfrequencies greater than 1 GHz, the input divider must be \nenabled for proper operation of the device.  \nWhen the PLL is enabled, a buffered clock signal is available at \nthe REFCLK_OUT pin. This clock signal is the same frequency \nas the REF_CLK input. This is especially useful when a crystal is connected, because it gives the user a replica of the crystal \nclock for driving other external devices. The REFCLK_OUT buffer is controlled by two bits as listed in Table 6. \n \n \n \n Table 6. REFCLK_OUT Buffer Cont rol \nCFR3 [29:28 ] REFCLK_OUT Buffer  \n00 Disabled  \n01 Low output current  \n10 Medium output current  \n11 High output current  \nCRYSTAL DRIVEN REF _CLK  \nWhen using a crystal at the REF_CLK input, the resonant \nfrequency should be approximately 25 MHz. Figure 48 shows \nthe recommended circuit configuration.  \n06384-027REF_CLK\nREF_CLK\n39pF 39pFXTAL90\n91\n \nFigure 48. Crystal Connection Dia gram  \nDIRECT DRIVEN REF _CLK  \nWhen driving the REF_CLK /REF_CLK  inputs directly from a \nsignal source , either single -ended or differential signals can be \nused. With a differential signal source, th e REF_CLK /REF_CLK  \npins are driven with complementary signals and ac -coupled \nwith 0.1  µF capacitors. With a single -ended signal source, either  a \nsingle -ended -to-differential conversion can be employed or the \nREF_CLK input can be driven single -ended directly. In  either case, \n0.1 µF capacitors are used to ac couple both  REF_CLK /REF_CLK  \npins to avoid disturbing the internal dc bias voltage of ~1.35 V . See Figure 49 for more details.  \nThe REF_CLK /\nREF_CLK  input resistance is ~2.5 kΩ differen tial \n(~1.2 kΩ  single -ended). Most signal sources have relatively low \noutput impedances. The REF_CLK /REF_CLK  input resistance is \nrelatively high;  therefore, its effect on the termination impedance \nis negligible and can usually be chosen to be the same as the  output \nimped ance of the signal source. The bottom two examples in \nFigure 49 assume a signal source with a 50 Ω output impedance.  \nData Sheet  AD9957  \n \nRev. F | Page 35 of 61 06384-029TERMINATIONREF_CLK\nDIFFERENTIAL SOURCE,\nDIFFERENTIAL INPUT.\nSINGLE-ENDED SOURCE,\nDIFFERENTIAL INPUT.\nSINGLE-ENDED SOURCE,\nSINGLE-ENDED INPUT.90\n910.1µF\n0.1µFPECL,\nLVPECL,\nOR\nLVDS\nDRIVER\nREF_CLK90\n9150Ω0.1µF\n0.1µFBALUN\n(1:1)\nREF_CLK\nREF_CLKREF_CLKREF_CLK\n90\n91\n0.1µF0.1µF\n50Ω\n \nFigure 49. Direct Connection Diagra m \nPHASE -LOCKED LOOP (PLL) MU LTIPLIER  \nAn internal phase -locked loop (PLL) provides users of the \nAD9957 the option to use a reference clock frequency that is \nsignificantly lower than th e system clock frequency.  The PLL \nsupports a wide range of programmable frequency multiplica -\ntion factors (12× to 127×) as well as a programmable charge \npump current and external loop filter components (connected via the PLL_LOOP_FILTER pin). These features add an extra layer of flexibility to the PLL, al lowing optimization of phase \nnoise performance and flexibility in frequency plan develop -\nment. The PLL is also equipped with a PLL_LOCK pin.  \nThe PLL output frequency range (f\nSYSCLK ) is constrained to the \nrange of 420 MHz ≤ f SYSCLK  ≤ 1 GHz by the internal V CO. In \naddition, th e user must program the VCO to one of six operating  \nranges such that f SYSCLK  falls within the specified range. Figure 50 \nand Figure 51 summarize these VCO ranges.  \nFigure 50 shows the boundaries of the VCO frequency ranges \nover the full range of temperature and supply voltage variation for all devices from the available population. The implication is that multipl e devices chosen at random from the popu lation  and \noperated under widely varying conditions may require different values to be programmed into CFR3 [26:24]  to operate at the \nsame frequency. For example, Part A chosen randomly from the \npopulation, operating in an ambient temperature of −10°C with \na sys tem clock frequency of 900  MHz may require CFR3 [26:24 ] to \nbe set to 100b. Whereas Part B chosen randomly from the population, operating in an ambient temperature of 90°C with a \nsystem clock frequency of 900  MHz may require CFR3 [26:24]  \nto be set to 101b. If a frequency plan is chosen such that the \nsystem clock frequency operates within one set of boundaries (as shown in Figure 51), the required value in CFR3 [26:24]  is \nconsistent from part to part.  Figure 51 shows the boundaries of the VCO frequency ranges \nover the full range of temperature and supply voltage variation \nfor an individual device selected from the population. Figure 51 \nshows that the VCO frequency ranges for a single device always overlap when operated over the full range of conditions.  \nIn conclusion, if a user wants to retain a single default value for CFR3 [26:24] , a frequency that falls into one of the ranges found \nin Figure 50 should be selected. Additionally, for any given \nindividual device , the VCO frequency ranges overlap, meaning \nthat any given device exhibits no gaps in its frequency coverage \nacross VCO ranges over the full range of conditions.  \n06384-057VCO0VCO1VCO2VCO3VCO4VCO5\n395 495 595 695 795 895 995FLOW = 400\nFHIGH = 460FLOW = 455\nFHIGH = 530FLOW = 530\nFHIGH = 615FLOW = 760\nFHIGH = 875FLOW = 920\nFHIGH = 1030\nFLOW = 650\nFHIGH = 790\n(MHz) \nFigure 50. VCO Ranges Including Atypical Wafer Process Skew   \n335 435 535 635 735 835 935 1035 1135VCO0VCO1VCO2VCO3VCO4VCO5\n06384-056FLOW = 342\nFHIGH = 522FLOW = 402\nFHIGH = 602FLOW = 469\nFHIGH = 709FLOW = 574\nFHIGH = 904\n(MHz)FLOW = 646\nFHIGH = 966FLOW = 810\nFHIGH = 1180\n \nFigure 51. Typical VCO  Ranges  \nTable 7. VCO Ra nge Bit Setti ngs \nVCO SEL Bits (CFR3 [26:24 ]) VCO Range  \n000 VCO0  \n001 VCO1  \n010 VCO2  \n011 VCO3  \n100 VCO4  \n101 VCO5  \n110 PLL Bypassed  \n111 PLL Bypassed  \nAD9957  Data Sheet  \n \nRev. F | Page 36 of 61 PLL CHARGE PUMP  \nThe charge pump current (I CP) is programmable to provide the \nuser with additional flexibility to optimize the PLL performance . \nTable 8 lists the bit settings vs. the nominal char ge pump current.  \nTable 8. PLL Charge Pump Cu rrent  \nICP (CFR3 [21:19] ) Charge Pump Current , ICP (µA) \n000 212 \n001 237 \n010 262 \n011 287 \n100 312 \n101 337 \n110 363 \n111 387 \nEXTERNAL PLL LOOP FI LTER COMPONENTS  \nThe PLL_LOOP_FILTER pin provides a connection interface to \nattach the external loop filter components. The ability to use \ncustom loop filter components gives the user more flexibility to \noptimize the PLL performance. The PLL and external loop filter compon ents are shown in Figure 52. \nPFD CPPLL_LOOP_FILTER\nVCO\n÷NPLL OUTPLL INAVDD\nREFCLK PLL2R1C1\nC2\n06384-030 \nFigure 52. REFCLK PLL External Loop Filter  In the prevailing literature, this configuration yields a third -\norder, Type II PLL. To calculate the loop filter component values, begin with the feedback divider value (N), the gain of \nthe phase detector (K\nD), and the gain of the VCO (K V) based on \nthe programmed VCO SEL bit settings (see Ta ble 1 for K V). The \nloop filter component values depend on the desired open -loop \nbandwidth (f OL) and phase margin (φ), as follows:  \n()\uf8f7\uf8f7\n\uf8f8\uf8f6\n\uf8ec\uf8ec\n\uf8ed\uf8eb+ =φ KKNfπR1\nV DOL\nsin11  (7) \n()\n()22tan\nOLV D\nfNKKC1πφ=  (8) \n()\n()\uf8f7\uf8f7\n\uf8f8\uf8f6\n\uf8ec\uf8ec\uf8ed\uf8eb−=φφ\nfπNKKC2\nOLV D\ncossin1\n) 2(2 (9) \nwhere:  \nKD equals the programmed value of I CP. \nKV is taken from  Table 1. \nEnsure that proper units are used for the variables in Equation 7  \nthrough Equation 9 . ICP must be in amps, not µ A as appears in \nTable 8; K V must be in Hz/V , not MHz/V as listed in Table 1; the \nloop bandwidth (f OL) must be in Hz; the phase margin (φ) must \nbe in radians.  Furthermore, to limit the phase noise contribution of \nthe internal VCO, the loop bandwidth must be 1  MHz or greater.  \nFor example, suppose the PLL is programmed such that  \nICP = 287 µ A, K V = 850 MHz/V , and N = 25. If the desired loop \nbandwidth and phase margin ar e 1 M Hz and 45°, respectively, \nthe loop filte r component values are R1 = 777.3  Ω, C1 =  494.3 pF, \nand C2 = 102.4 p F. \nPLL LOCK INDICATION  \nWhen the PLL is in use, the PLL_LOCK pin provides an active \nhigh indication that the PLL has locked to the REFCLK input signal. When the PLL is bypassed , the PLL_LOCK pin defaults \nto Logic 0.  \n \n \nData Sheet  AD9957  \n \nRev. F | Page 37 of 61 ADDITIONAL FEATURES \nOUTPUT  SHIFT KEYING (OSK)  \nThe OSK function ( Figure 53) is only available in  single  tone \nmode. It allows the user to control the output signal amplitude \nof the DDS.  Both manual and automatic modes are available.  06384-031OSK ENABLE\nAMPLITUDE SCALE FACTOR\n(ASF[15:2])AMPLITUDE RAMP RATE\n(ASF[31:16])\nAMPLITUDE STEP SIZE\n(ASF[1:0])MANUAL OSK EXTERNALAUTO OSK ENABLEOSK\nDDS CLOCKTO DDS\nAMPLITUDE\nCONTROL\nPARAMETER60\nLOAD ARR AT I/O_UPDATE\nOSK\nCONTROLLER14\n16\n14\n2\n \nFigure 53. OSK  Block Diagram  \nFour control register bits, the external OSK pin, and the entire \n32 bits of the ASF register govern the operation of the OSK function . The primary control for the OSK block is the OSK \nenable bit.  When this bit is set, the OSK function  is enabled ; \notherwise, the OSK function is disabled.  When disabled, the \nother OSK input controls are ignored and the internal clocks are shut down to conserve power.  \nWhen the OSK function is enabled, automatic and manual operation is selected via the Select Auto -OSK bit.  When this bit \nis set, the automatic mode is active;  otherwise, the manual \nmode is active.  \nManual OSK \nIn manual mode, output amplitude is varied by successive write \noperations to the amplitude scale fact or portion of the ASF register.  \nThe r ate at which amplitude changes can be applied to the output \nsignal is limited by the speed of the serial I/O port. In manual \nmode, the OSK pin functionality depends on the state of the \nmanual OSK external control bit. It is either  inoperative or used to \nswitch the output amplitude between the  programmed amplitude \nscale fac tor value and zero.  When operational , a Logic 0  on the \nOSK pin forces the output ampli tude to zero  whereas a Logic 1  \non the OSK pin causes the output amplitude to be scaled by the \nampli tude scale fact or value.  \nAutomatic OSK \nIn automatic mode, the OSK function automatically generates \na linear amplitude vs. time profile (or amplitude ramp).  The \namplitude ramp is controlled via three parameters , as follows:  \n• The maximum amplitude scale fact or \n• The amplitude step size  \n• The time interval between steps  The amplitude ramp parameters reside in the 32 -bit ASF \nregister and are programmed via the serial I/O port.  The \namplitude step interval is set using  the 16 -bit amplitude ramp \nrate portion of the AS F register ( Bits[31:16] ). The maximum \namplitude scale factor is set using  the 14 -bit amplitude scale \nfactor  in the ASF register ( Bits[15:2]). The amplitude step size \nis set using  the 2-bit amplitude step s ize portion of the ASF \nregister ( Bits[1:0]). The direction of the ramp (positive or \nnegative slope) is controlled by the external OSK pin. When \nthe OSK pin is a Logic 1 , the slope is positive ; otherwise, it is \nnegative.  \nA 16-bit programmable timer that is clocked at a rate of ¼ \nfSYSCLK  controls t he step interval.  The timer period sets the \ninterval between amplitude steps.  The step time interval ( Δt) \nis given by  \nSYSCLKfMt4=∆  \nwhere M is the 16 -bit number stored in the amplitude ramp rat e \nportion of the ASF register.  For example, if f SYSCLK  = 750 MHz \nand M  = 23,218 ( 0x5AB2 ), then Δt ≈ 123.8293 µs. \nThe output of the OSK function is a 14 -bit unsigned data bus \nthat controls the amplitude of the DDS output (as long as the \nOSK enable bit is Logic 1 ). When the OSK pin is Logic 1 , the \nOSK output value starts at 0 and increments by the programmed  \namplitude step size until it reaches the programmed maximum amplitude value.  When the OSK pin is Logic 0 , the OSK output \nstarts at its present value and decrements by the programmed \namplit ude step size until it reaches 0.  \nThe OSK output  does not necessarily attain the maximum \namplitude —the OSK pin may switch to Logic 0  before attaining \nthe maximum value.  \nThe OSK output does  not necessarily reach a value of zero —the \nOSK pin may switch to Logic 1  before attaining the zero value.  \nThe OSK output is initialized to 0 at power -up. It is also set to 0 \nwhen the OSK e nable bit is Logic 0  or when the OSK e nable bit \nis Logic 1,  but the Select Auto -OSK bit is Logic 0 .  \nThe amplitude step size of the O SK output is set by the amplitude  \nstep siz e bits in the ASF register according to the values listed in \nTable 9. The step size refers to the LSB weight of the 14 -bit O SK \noutput.  \nThe OSK output cannot exceed the maximum amplitude value \nprogrammed into the ASF register.  \n \n \nAD9957  Data Sheet  \n \nRev. F | Page 38 of 61 Table 9. OSK Amplitude Step Si ze \nASF [1:0] Amplitude Step Size  \n00 1 \n01 2 \n10 4 \n11 8 \nAs mentioned earlier, the step interval is controlled by a 16 -bit \nprogrammable timer.  Normally, this timer is  loaded with the \nprogrammed timing value whenever the timer expires, thus \ninitiating a new timing cycle.  However, three events cause the \ntimer to have its timing value reloaded prior to t he timer  expiring.  \nOne such event is when the Select Auto -OSK bit is transitioned \nfrom a Logic 0  state to a Logic 1  state followed by an I/O  update.  A \nsecond such event is a change of state in the OSK pin.  The third \nevent is dependent on the status of the L oad ARR at I/O Update \nbit. If this bit is  Logic 0 , no action occurs ; otherwise, when the \nI/O_UPDATE  pin is asserted (or a profile change occurs), the \ntimer reset s to its initial starting point.  \nPROFILES  \nEach of the three operating modes of the AD9957 support the \nuse of profiles, which consist of a group of registers containing pertinent operating parameters for a particular operating mode.  \nProfiles enable rapid switching between parameter  sets.  Profile \nparameters are programmed via the s erial I/O port.  Once \nprogrammed, a specific profile is activated by means of three external pins (PROFILE2  to PROFILE 0). A particular profile is \nactivated by providing the appropriate logic levels to the pr ofile \ncontrol pins per the settings listed in  Table 10. \nTable 10. Profile Control P ins \nPROFILE2 , PROFILE1, and PROFILE 0  Active Profile  \n000 0 \n001 1 \n010 2 \n011 3 \n100 4 \n101 5 \n110 6 \n111 7 \nConsider an application of basic two -tone frequency shift \nkeying (FSK) where binary data is transmitted by selecting between two different frequencies:  a mark  frequency ( Logic 1 ) \nand a space  frequency ( Logic 0 ). To accommodate FSK, the \nProfile 0 register is programmed with the appropriate frequency tuning word for a space , and the Profile 1 register  is programmed \nwith the appropriate frequency tuning word for a mark.  Then, \nwith the PROFILE1 and PROFILE2  pins tied to Logic 0 , the \nPROFILE0 pin is used to transmit the data bits.  The logic state \nof the PROF ILE0 pin causes the appropriate mark and space \nfrequencies to be generated.  I/O_UPDATE  PIN \nBy default, the I/O_UPDATE pin is an input that serves as a \nstrobe signal to allow synchronous update of the device  operating  \nparameters.  For example, frequency, phase , and amplitude con -\ntrol words for the DDS can be  programm ed using  the serial I/O \nport. However, the s erial I/O p ort is an asynchronous interface ; \nconseq uently,  programming of the device operating parameters \nusing  the I/O port is not synchronized with the internal timing.  \nUsing  the pin, I/O_UPDATE , the user can synchronize the \napplication of certain programmed operating parameters with \nexternal circuitry w hen new parameters are programmed into \nthe I/O registers. A rising edge on I/O_UPDATE initiates transfer  \nof the register contents to the internal workings of the device.  \nThe transfer of programmed data from the programming registers to the internal hardwar e is also accomplished by \nchanging the state of the PROFILE2, PROFILE1, and PROFILE0  pins.  \nAUTOMATIC I/O UPDATE  \nThe AD9957 offers an opti on whereby the I/O u pdate function \nis asserted automatically rather than relying on an external \nsignal supplied by the user. This feature is enabled by setting \nthe Internal I/O Update Active bit in CFR2.  \nWhen this feature is active, the I/O_UPDATE pin becomes an output pin.  It generates an active high pulse each time an inter -\nnal I/O update occurs. The duration of the pulse is approximately  \n12 cycles of SYSCLK.  This I/O u pdate strobe can be used to \nnotify an external controller that the device has generated an \nI/O update internally.  \nThe repetition rate of the internal I/O u pdate is programmed \nvia the s erial I/O port. Two parameters control the repetition \nrate.  The first parameter consists of the two I /O u pdate rate \ncontrol bits in CFR2.  The second parameter is the 32 -bit word \nin the I /O update rate regi ster that sets the range of an internal \ncounter.  \nThe I /O update rate con trol bits establish a divide  by 1, 2, 4, or 8 \nof a clock signal that runs at ¼ f\nSYSCLK . The output of the divider \nclocks the  aforementioned  32-bit internal counter.  The repetition  \nrate of the I/O update is given by  \nBffASYSCLK\nUPDATEOI2_/=  \nwhere:  \nA is the value of the 2 -bit word comprising the I /O update rate \ncontrol  bits.  \nB is the value of the 32 -bit word stored in the I /O update rate \nregister . \nIf B is programmed to 0x 0003 or less,  the I/O_UPDATE pin no \nlonger pulses, but assumes a static Logic 1  state.  \nData Sheet  AD9957  \n \nRev. F | Page 39 of 61 POWER -DOWN  CONTROL  \nThe AD9957 offers the ability to independently power down four \nspecific sections of the device.  Power -down functionality applies  \nto the  digital core , DAC, auxiliary DAC, and REFCLK input.  \nA power -down of the digital core disables the ability to update \nthe serial I/O p ort. However, the digital power -dow n bit can \nstill be cleared via the serial port to preve nt the possibil ity of a \nnonrecoverable state.  \nSoftware power -down is controlled through  four independent \npower -down bits in CFR1.  Software control requires forcing the \nEXT _PWR _DWN pin to a Logic 0  state.  In this case, setting the \ndesired power -down bits (v ia the s erial I/O p ort) powers down \nthe associated functional block ; clearing the bits restores the \nfunction.  \nAlternatively, all four functions can be simultaneously powered \ndown via external hardware control through the  EXT _PWR _DWN \npin. Forcing  this pin t o Logic 1  powers down all four circuit \nblocks , regardless of the state of the power -down bits.  That is, \nthe independent power -down bits in CFR1 are ignored and \noverridden when EXT_PWR_DWN  is Logic 1 . \nBased on the state of the external power -down con trol bit, the \nEXT_PWR_DWN  pin produces either a full power -down or a \nfast recovery  power -down.  The fast recovery  power -down mode \nmaintains power to the DAC bias  circuitry and the PLL, VCO, \nand input section of the REFCLK  circuitry.  Although the fast \nrecove ry power -down does not  conserve as much power as the \nfull power -down, it allows the device to very quickly awaken \nfrom the power -down state.  \nGENERAL -PURPOSE I/O (GPIO) P ORT  \nThe GPIO function is only available when the AD9957 is \nprogrammed for QDUC mode and the Black fin interface mode \nis active.  Because  the Black fin serial interface uses only two  of \nthe 18 parallel data port pins (D [5:4]), the remaining 16 pins \n(D[17:6]  and D [3:0]) are available as a GPIO port.  Each of these 16 pins is assigned a unique bit in both the 16 -bit \nGPIO configuration regist er and the 16 -bit GPIO data re gister. \nThe status of each bit in the GPIO configuration regi ster assigns \nthe associated pin as either a GPIO input or ou tput (0  = input, \n1 = output) based on  the data listed in  Table 11.  \nWhen a GPIO pin is programmed as an output, the logic state written to the associated bit of the GP IO data regi ster (via the \nserial I/O p ort) appears at the GPIO pin.  When a GPIO pin is \nprogrammed as an input, the logic state of the GPIO pin can be read (via the s erial I/O p ort) in the associated bit position in the \nGPIO data re gister. Note that the GPI O data re gister does not \nrequire an I/O u pdate.  \nTable 11. GPIO Pins vs. Configuration and Data Register B its \nPin Mnemonic  Configuration Bit  Data Bit  \nD17  15 15 \nD16  14 14 \nD15 13 13 \nD14  12 12 \nD13  11 11 \nD12  10 10 \nD11  9 9 \nD10  8 8 \nD9 7 7 \nD8 6 6 \nD7 5 5 \nD6 4 4 \nD3 3 3 \nD2 2 2 \nD1 1 1 \nD0 0 0 \n \n \n \nAD9957  Data Sheet  \n \nRev. F | Page 40 of 61 SYNCHRONIZATION OF M ULTIPLE DEVICES \nOVERVIEW  \nThe internal clocks of the AD9957 provide the timing for the \npropagation of data along the baseband signal processing path. \nThese internal clocks are derived from the internal system clock (SYSCLK ) and are all submultiples of the SYSCLK  frequency.  \nThe logic state of all of these clo cks in aggregate during any \ngiven SYSCLK  cycle defines a unique clock state.  The clock state \nadvances with each cycle of SYSCLK , but the sequence of clock \nstates is periodic.  By definition, multiple devices are synchro -\nnized when their clock states match a nd they transition between \nstates simultaneously. Clock synchronization allows the user to \nasynchronously program multiple devices, but synchronously \nactivate the programming by applying a coincident I/O u pdate \nto all devices. It also allows multiple devic es to operate in unison  \nwhen the parallel port is in use with either the QDUC or i nter-\npolating DAC mode (see Figure 59) or when the dual serial port \n(Black fin interface) is in use . \nThe function of the synchronization logic in the AD9957 is to \nforce t he internal clock generator to a  predefined state coincident \nwith an external synchronization signal applied to the SYNC_IN \npins.  Forcing  multiple  devices to the same clock state coincident  \nwith the same external signal is, by definition, synchronization. \nFigure 54 is a block diagram of the synchronization function.  \nThe synchronization logic consists of  two independent blocks , a \nsync generator and a sync receiver,  both of which use the local \nSYSCLK  signal for internal timing.  \nSYNC\nGENERATORREF_CLK\n5SYSCLK\nINTERNAL\nCLOCKS\n65\n4SYNC\nRECEIVER\nSYNC\nGENERATOR\nENABLE\nSYNC\nGENERATOR\nDELAYSYNC\nPOLARITY90\n91\n9\n10SYNC_OUTREF_CLK\nINPUT\nCIRCUITRY\n7\n8\n12SYNC_IN\nSYNC_SMP_ERR\nSYNC\nVALIDATION\nDELAYSYNC STATE\nPRESET VALUESYNC\nTIMING\nVALIDATION\nDISABLECLOCK\nGENERATORSETUP AND\nHOLD VALIDATIONSYNC\nRECEIVER\nENABLESYNC\nRECEIVER\nDELAY\n06384-032INPUT DELAY\nAND EDGE\nDETECTION\n \nFigure 54. Synchronization Circuit Block Dia gram  The synchronization mechanism relies on the premise that the REFCLK  signal appearing at each device is edge aligned  with all \nothers resulting from  the external REFCLK  distribution system \n(see Figure 59). \nCLOCK GENERATOR  \nThe clock generator provides the necessary timing for the int ernal \nworkings of the AD9957. The goal of the synchronization \nmechanism is to force the clock generator to a known state coincident with an external synchronization signal. The clock generator consists of three separate clock trees (see Figure 55). \nThe first is a common clock generator that is active for all programmed modes of operation (single tone, QDUC, or interpolat ing DAC). The common clock generates the \nSYNC_CLK signal that appears at Pin 55. The second clock \ngenerator is active when the device is programmed for the interpolating DAC mode or quadrature modulation mode using the parallel data port. It uses the SYSCLK /2 output of the  common \nclock as its primary timing source.  The third clock g enerator is \nactive when the device is programmed for quadrature modulation \nmode using the Black fin interface.  \n6SYSCLK\nPDCLK\n6COMMON CLOCK\nGENERATOR\nSYNC_CLK\nCLOCK GENERATOR FOR\nQUADRATURE MODULATION MODE\nWITH THE BLACKFIN INTERFACESYNC\nPULSE\nSYNC STATE\nPRESET VALUECLOCK GENERATOR FOR INTERPOLATING\nDAC MODE OR QUADRATURE MODULATION\nMODE WITH THE PARALLEL DATA PORT÷2 ÷2\n÷2\n÷2 ÷2 ÷2 ÷2 ÷R÷R\n06384-065 \nFigure 55. Clock Generator \n \n \n \n   \n \n \nData Sheet  AD9957  \n \nRev. F | Page 41 of 61 SYNC GENERATOR  \nThe sync generator block is shown in Figure 56. It is activated \nvia the Sync Generator Enable bit.  It allows for one AD9957 in a \ngroup to function as a master timing source wit h the remaining \ndevices slaved to the master.  \nSYSCLK\nSYNC\nGENERATOR\nENABLESYNC\nGENERATOR\nDELAY\nSYNC\nPOLARITYSYNC_OUT\n0\n1DQ\nRPROGAMMABLE\nDELAY ÷16 ÷R\n59\n10\nLVDS\nDRIVER\n06384-033 \nFigure 56. Sync  Generator  \nThe sync generator produces a n LVDS -compatible  clock signal \nwith a 50% duty cycle  that appears at the SYNC_OUT pins.  The \nfrequency  of the SYNC_OUT signal can be one of two possible \nrates.  With the AD9957 programmed for any of the following \nmodes:  \n• Single tone mode  \n• Quadrature modulation mode with the CCI filter bypassed \n(that is, interpolation factor is 1)  \n• Interpolating DAC mode with the CCI filter bypassed ( that \nis, interpolation factor is 1)  \nThe frequency of SYNC_OUT is given by : \n16_SYSCLK\nOUT SYNCff =  \nWith the AD9957  programmed for the QDUC or inter polating \nDAC mode  and with the CCI filter not bypassed ( that is , R > 1) \nthe fr equency of SYNC_OUT is given by  \n_16SYSCLK\nSYNC OUTffR=   \nwhere R is the programmed interpolation factor of the CCI  filter . \nThe signal at the SYNC_OUT pins is edge aligned  with either \nthe rising or fal ling edge of the internal SYSCLK  signal as deter -\nmined by the Sync Polarity bit.  Because  the SYNC_OUT signal is \nsynchronized  with the internal SYSCLK  of the master device, the \nmaster device  SYSCLK  serves as the ref erence timing source for \nall slave  devices.  \nThe user can adjust the output delay of the SYNC_OUT  signal \nin steps of ~ 75 ps by programming the 5 -bit sync generator \ndelay word via the s erial I/O port. The programmable output \ndelay fa cilitates added edge timing flexibility to the overall \nsynchronization mechanism.  SYNC RECEIVER  \nThe sync rec eiver block (shown in Figure 57) is activated via \nthe Sync Receiver Enable bi t. The sync receiver  consists of \nthree  subsections : the input delay and edge detection block, \nthe internal clock generator block, and the setup -and-hold \nvalidation block.  \nThe clock generator block remains operational even when the \nsync receiv er is not enabled.   \nThe sync receiver accepts an LVDS -compatible signal and \nincludes an internal 100 Ω termination across the SYNC_IN \npins. Typically, the signal applied to the SYNC_IN pins originate s \nfrom the SYNC_OUT of a nother  AD9957 functioning as a \nmaster timing unit. The sync receiver expects a periodic \nsynchronization pulse that meets certain frequency requirements  \nbased on the  operating mode of the AD9957 . When programmed  \nfor single tone mode, the frequency of SYNC_IN must satisfy  \nMffSYSCLK\nIN SYNC4_=  \nwhere M is any integer greater than zero.  When programmed \nfor quadrature modulation mode (using the parallel data port) \nor interpolating DAC mode, the fr equency of SYNC_IN must \nsatisfy  \n()MRffSYSCLK\nIN SYNC+=16_  \nwhere R is the programmed  CCI interpolation factor and M is \nany integer greater than or equal to zero. When programmed \nfor quadrature modulation mode using the Blackfin  interface, \nthe fr equency of SYNC_IN must satisfy  \n()MRffSYSCLK\nIN SYNC+=32_  \nwhere R is the programmed CCI interpolation factor and M  is \nany integer  greater than or equal to zero.  \n \nAD9957  Data Sheet  \n \nRev. F | Page 42 of 61 LVDS\nRECEIVER\nPROGAMMABLE\nDELAY5INTERNAL\nCLOCKSCLOCK\nSTATE\n6SYNC STATE\nPRESET VALUE\nSYNC PULSESYSCLKSETUP AND HOLD\nVALIDATION\n4Q0\nLOADQNDELAYED SYNC-IN SIGNAL\nSYNC\nRECEIVER\nDELAYSYNC\nRECEIVER\nENABLE\nSYNC_SMP_ERRSYNC_IN+\nSYNC_IN–7\n8\n12RISING EDGE\nDETECTOR\nAND\nSTROBE\nGENERATOR\nSYNC\nTIMING\nVALIDATION\nDISABLESYNC\nVALIDATIONDELAY\n06384-034CLOCK\nGENERATORPR\nE\nS\nE\nT......\n \nFigure 57. Sync Receiver  \nWhen a device other than another AD9957 provides the \nSYNC_IN signal it must be LVDS compatible.  Furthermore, \nalthough SYNC_IN is  typically considered a periodic clock \nsignal, it is not an absolute requirement.  It is feasible to drive \nthe SYNC_IN pins with  a single synchronization pulse  as long \nas its edge transition  meets the setup/hold timing required  for \nthe internally generated sync pulse  (as detailed later in this \nsection) . However, using a periodic SYNC_IN  signal has the \ndistinct advantage  that should any of the devices arbitrarily lo se \nsynchronization  it automatically resynchronize s with the arrival \nof the next SYNC_IN edge. \nThe 5-bit sync receiver delay word in the multichip sync register \ndelays the SYNC_IN signal in steps of ~ 75 ps. This provides the \nability to time align the arriva l of the SYNC_IN signal to \nmultiple devices by compensating  for unequal propagation  times.  \nThe edge detection logic in the sync receiver generates a \nsync hronization  pulse  (sync pulse)  having a duration of one  \nSYSCLK  cycle with a rep etition rate equal to that of the signal \napplied to the SYNC_IN pins.  To produce t he sync pulse , the \nstrobe generator samples  the delayed rising edge of the SYNC_IN  \nsignal with the rising edge of the local SYSCLK . The generation \nof this sync pulse is crucial to the operation of the synchroniza -\ntion mechanism, because it performs the task of placing the \nclock generator into a known state. The sync  pulse presets the \nR-divider stage of the internal clock generator , which behaves as \na preset table down counter (see Figure 55). The programmable \n6-bit sync state preset value word in the multichip sync register  \nestablishes the  preset state . The preset state is only active for a \nsingle SYSCLK  period , after which the clock generator is free to \ncycle  through its state sequence  until the next sync pulse arrives  \n(see Figure 55). In addition to presetting the R -divider , the sync \npulse  also synchronously presets the other dividers to a proper  \nstate  in order to preserve the cadence of the clock tree. \n \n The ability to program the clock state preset value provides the \nflexibility to sy nchronize devices , but  with specifi c relative clock \nstate offsets by assigning a different sync state preset value word \nto each device  in a group . This flexibility is limited, however, \nbecause the sync state preset valu e must adhere to certain \nbounds  to satisfy  internal timing requirements. Regardless of \nthe p rogrammed sync state preset value, the preset value is \ninternally constrained to th e range,  2 to R, where R is the CCI \nfilter interpolation factor . A programmed value  of 0 or  1 is forced \nto 2, whereas  a programmed value greater than R  is force d to R. \nSETUP/HOLD VALIDATIO N \nSynchronization of the AD9957 internal clock generator  with \nother external devices relies  on the ability of the sync receiver’s \nedge detection circuit to gen erate a valid sync pulse . This  \nrequires proper sampling of the rising edge of the delayed SYNC_IN  signal with the rising edge of the local SYSCLK . If the \nedge timing of these signals fails to meet the setup or hold time \nrequirements of the internal latches in the edge detection \ncircuitry, the proper generation of a  sync pulse is in jeopardy.  \nThe setup -and-hold validation  block (see Figure 58) gives the \nuser a means to validate that proper edge timing exists between \nthe two signals. The Sync Timing Validation Disable  bit in \nControl Function Register 2  controls whether or not the setup -\nand-hold validation block is active . \nThe vali dation block makes use of a specified time window \n(programmable in increments of ~ 75 ps via the 4 -bit sync \nvalidation delay w ord in the multichip sync regis ter). The setup \nvalidation and hold validation circuits use latches identical to those in both the rising edge detector and strobe generator.  The \nprogrammab le time window skews the timing between the local \nSYSCLK  signal and the delayed sync -in signal.  If the hold valida -\ntion and setup valida tion circuits fail to produce the same logic \nstates , it is an indication of a possible setup or hold violation. \nThe check logic of Figure 58 monitors the state of the setup and \nhold validation latches. If they are not equal ( that is , a potential \nsetup/hold violation  exists ), a Logic 1 is stored in an internal  \nData Sheet  AD9957  \n \nRev. F | Page 43 of 61 validation result  latch ; otherwise , a Logic 0 is stored. The state \nof validation result  latch appears at  the SYNC _SMP_ERR pin.  \nThe validation result latch is in a reset state whenever  the sync \nreceiver is disabled , which fo rces the SYNC_SMP_ERR pin to  a \nLogic 0 state. To reset the validation result latch w hen the sync \nreceiver is active, however, requires the use of  the Sync Timing \nValidation Disable bit in the multichip sync register . To make a \nsetup/hold validation measurement  is a two -step process. F irst, \nwrite a Logic 1 to the sync timing validation disable bit. T hen, \nto make a measurement,  write a Logic 0 . The first action resets \nthe validation result latch  and holds it in a reset state ; the \nsecond action releases  the reset state and enables the validation \nresult latch  to capture a setup/hold validati on measurement. \nEach time a new setup/hold validation check is desired, this \ntwo-step procedure must be performed .  Because  the programmed value of the sync validation  delay \nestablishes the time window for a setup/hold measurement,  \nthe amount of delay is an important consideration for proper operation of the validation block.  The value chosen should  \nrepresent  a small fraction of the SYSCLK  period.  For example,  \nif the SYSCLK  frequency is 1  GHz (1 000 ps period),  then a \nreasonable sync validation delay value is 4  (~300 ps). This \nallow s the validation block to ensure  that the local SYSCLK  \nand the delayed SYNC_IN  edges exhibit at least 300 ps of \ntiming separation. Choosing  too large a value can cause the \nvalidation block to indicate a setup/hold violation when one does not exist . Choosing too small a value can cause the \nvalidation block to miss  a setup/hold violation when one \nactually  exist s. \nSYNC\nPULSE\nSYSCLK DELAY\nCHECK LOGIC4\n4SYNC VALIDATION\nDELAYSYNC_SMP_ERRSYNC RECEIVER\nSYNC TIMING VALIDATION DISABLESETUP\nVALIDATION\nHOLD\nVALIDATION12SETUP AND HOLD VALIDATIONTO\nCLOCKGENERATIONLOGICFROM\nSYNC\nRECEIVER\nDELAY\nLOGIC\nDQ\nDQDQDELAYRISING EDGE\nDETECTOR\nAND STROBE\nGENERATOR\n06384-0364\n \nFigure 58. Sync Timing Validation Block  \n \n \n \n  \n \n   \n \n \n  \nAD9957 Data Sheet\n \nRev. F | Page 44 of 61 SYNCHRONIZATION EXAMPLE \nTo accomplish the synchronization of multiple devices provide \neach AD9957  with a SYNC_IN signal that is edge aligned across \nall the devices. If the SYNC_IN signal is edge aligned at all devices, and all devices have the same sync receiver delay and sync state \npreset value, then they all have matching clock states (that is, \nthey are synchronized). Figure 59 shows this concept with three AD9957 s in synchronization. One device operates as a master \ntiming unit with the others synchronized to the master. \nThe master device must have its SYNC_IN pins included as part \nof the synchronization distribution and delay equalization mecha-\nnism. This ensures that the master maintains synchronous timing \nwith the other units.  \nThe synchronization mechanism begins with the clock distribu-\ntion and delay equalization block, which ensures that all devices \nreceive an edge-aligned REFCLK signal. However, even though the REFCLK signal is edge aligned among all devices, this alone does not guarantee that the clock state of each internal clock generator is coordinated with the others. This is the role of the \nsynchronization and delay equalization block. This block accepts the SYNC_OUT signal generated by the master device and redistributes it to the SYNC_IN input of the slave units (as well \nas feeding it back to the master). The goal of the redistributed \nSYNC_OUT signal from the master device is to deliver an edge-\naligned SYNC_IN signal to all of the sync receivers. \nAssuming that all devices share the same REFCLK edge timing \n(due to the clock distribution and delay equalization block) and \nthat all devices share the same SYNC_IN edge timing (due to the synchronization and delay equalization block), then all devices should be generating an internal sync pulse in unison (assuming all have the same value for the sync receiver delay). \nWith the further stipulation that all devices have the same sync \nstate preset value, then the synchronized sync pulses cause all of the devices to assume the same predefined clock state simultane-ously. That is, all devices have their internal clocks fully \nsynchronized. \n \nCLOCK\nSOURCE\nSYNC\nINSYNC\nOUTREF_CLK\nAD9957\nNUMBER 1 MASTER DEVICE FPGADATA\nFPGADATA\nFPGADATAEDGE\nALIGNED\nAT REF_CL K\nINPUTS\nEDGE\nALIGNED\nAT SYNC_IN\nINPUTS.PDCLK\nSYNC\nINSYNC\nOUTREF_CLK\nAD9957\nNUMBER 2PDCLK\nSYNC\nINSYNC\nOUTREF_CLK\nAD9957\nNUMBER 3PDCLK(FOR EXAMPLE, AD951x)CLOCK DISTRIBUTION\nAND\nDELAY EQUALIZATION\nSYNCHRONIZATION\nDISTRIBUTION AND\nDELAY EQUALIZATION\n(FOR EXAMPLE AD951x)\n06384-035 \nFigure 59. Multichip Synchronization Example \n \n \n \n \n \n \nData Sheet  AD9957  \n \nRev. F | Page 45 of 61 I/Q PATH LATENCY  \nThe I/Q latency through the AD9957 is easiest to describe in \nterms o f system clock (SYSCLK) cycles and is a function of the \nAD9957 configuration (that is, which mode and which optional \nfeatures are engaged). The I /Q latency is primarily affected by \nthe programmable CCI rate.  \nThe values in Table 12 should be considered estimates because \nobserved latency may be data dependent. The latency was \ncalculated using the linear delay model for FIR filters. N = CCI \nrate (programmable interpolation r ate, 2 to 63, 1 if b ypassed ).  \nIn BFI mode, the latency through the AD9957 may not be con -\nstant for multiple transmissions. This is due to the relationship between the phase of the clock that drives the first half -band \nfilter and the f rame sync signal coming from the Blackfin, \nwhich is unknown  and denoted  as x in Table 12. The design \nsuccessfully transfers data from the data ass embler logic to the signal process path by updating a parallel register at the proper \ntime. The data is transferred from the parallel register to the \nsignal processing chain and all timing has been verified regard -\nless of the phase relationship between the  updating of the parallel \nregister and the signal processing clock. \nExample  \nQuadrature modulation mode = 18 -bit p arallel data  \nReference clock multiplier = bypassed  \nInput scale multiplier = o ff \nInverse CCI = off \nCCI rate = 20  \nInverse SINC = o n \nOutput scale = off \nLatency  = (16 × 20) + (4 × 20) + (4 × 20) + (69 × 20) +  \n(4 × 20 + 8) + 22 + 8 + 2 + 8 = 1988 SYSCLKs  \n \nTable 12.  \nStage  Quadrature Modulation Mode —Parallel  Quadrature Modulation Mode —BFI  Interpolation DAC Mode  \nInput Demuxplexer  16N  (16 + x )N, where x = 0 to 15 28N  \nInput Scale Multiplier  Active : 8N Not available in BFI mode  Active : 8N \n Bypassed : 4N  Bypassed : 4N \nInverse CCI Filter  Active : 8N Active : 8N Active : 8N \n Bypassed : 4N Bypassed : 4N Bypassed : 4N \nHalf -Band Filters  69N  345N  69N  \nCCI Filter  Active : 4N + 8 Active : 4N + 8 Active : 4N + 8 \n Bypass:  2N + 4 Bypass:  2N + 4 Bypass:  2N + 4 \nModulator  22 22 0 \nInverse Sinc Filter  Active : 8 Active : 8 Active : 8 \n Bypass:  2 Bypass:  2 Bypass:  2 \nOutput Scale Multiplier  Active : 12 Active : 12 Active : 12 \n Bypass:  2 Bypass:  2 Bypass:  2 \nDAC Interface  8 8 8 \n \n \nAD9957  Data Sheet  \n \nRev. F | Page 46 of 61 POWER SUPPLY PARTITI ONING  \nThe AD9957 features multiple power supplies, and their power \nconsumption varies with its configuration. This section covers \nwhich power supplies can be grouped together and how the \npower consumption of each block varies with frequency.  \nThe values  quoted in this sec tion are for comparison only. Refer \nto Table 1 for exact values . With each group , bypass capacitors of \n1 µF in parallel with a 10 µ F capacitor should be used. \nThe rec ommendations here are for typical applications, for \nwhich there are four groups of power supplies: 3.3  V digital,  \n3.3 V analog, 1.8 V digital, and 1.8 V analog.  \nApplications demanding the highest performance may require \nadditional power supply isolation.  \n3.3 V SUPPLIES  \nDVDD_I/O (Pin 11, Pin 15, Pin 21, Pin 28 , Pin  45, Pin 56, \nPin 66)  \nThese 3.3 V supplies can be grouped together. The power consumption on these pins varies dynamically with serial port activity.  \nAVDD (Pin 74 to Pin 77 and  Pin 83)  \nThese are 3.3 V DAC power supplies that typically consume about 28 mA. At a minimum, a ferrite bead should be used to isolate these from other 3.3 V supplies, with a separate regulator being ideal. The current consumption of these supplies consist mainly of biasing current and do not vary with frequency.  1.8 V SUPPLIES  \nDVDD (Pin 17, Pin 23, Pin 30, Pin 47, Pin 57, Pin 64)  \nThese pins can be grouped together. Their current consumption increases linearly with the system clock frequency.  A system clock of 1 GHz produces  a typically current consumption of \n610 mA in QDUC mode. There is also a slight (~5%) increase \nas f\nOUT increases from 50 MHz to 400 MHz.  \nAVDD (Pin 3)  \nThis 1.8 V supply powers the REF CLK multiplier (PLL) and \nconsumes about 7 mA. For applications demanding t he highest \nperformance with the PLL enabled, this supply should be isolated from other 1.8 V AVDD suppl ies with a separate \nregulator. For less demanding applications,  this supply can be \nrun off the same regulator as Pin 89, Pin 92 with a ferrite bead to isolate Pin 3 from Pin 89, and Pin 89.  \nThe loop filter for the PLL should directly connect to Pin 3. If \nthe PLL is bypassed, pin 3 should still be powered, but isolati on \nis not critical.  \nAVDD (Pin 6)  \nThis pin can be grouped together with the DVDD 1.8V supply \npins. For the highest performance, a ferrite bead should be used \nfor isolation, with a separate regulator being ideal.  \nAVDD (Pin 89 and Pin 92)  \nThis 1.8 V supply fo r the REFCLK input consumes about  \n15 mA. The supply can be run off the same as Pin 3 with a ferrite bead to isolate Pin 3 from Pin 89 and Pin 92. At a \nminimum, a ferrite bead should be used to isolate these from other 1.8  V supplies. However, for applicat ions demanding the \nhighest performance, a separate regulator is recommended.  \n \n \nData Sheet  AD9957  \n \nRev. F | Page 47 of 61 SERIAL PROGRAMMING \nCONTROL INTERFACE —SERIAL I/O  \nThe AD9957 serial port is a flexible, synchronous serial commu -\nnications port allowing easy interface to many industry -standard  \nmicroc ontrollers and microprocessors.  \nThe interface allows read/write access to all registers that  configure \nthe AD9957. MSB- first or LSB -first transfer formats are sup -\nported. In addition, the serial interface port can be configured \nas a single pin input/output (SDIO) allowing a two -wire interface, \nor it can be configured as two u nidirectional pins for  input/output \n(SDIO/SDO) , enabling a 3 -wire interface. Two optional pins \n(I/O_RESET and CS) enable greater flexibility for designing \nsystems with the AD9957.  \nGENERAL SERIAL I/O OPERATION  \nThere are two phases to a serial communications cycle. The first is the instruction phase to write the instruction byte into the AD9957. The instruction byte contai ns the address of the regis -\nter to be accessed (see the Register Map and Bit Descriptions  \nsection) and defines whether the upcoming data transfer is a write or read operation.  \nFor a write cycle, Phase 2 represents the data transfer between \nthe serial port controller to the serial  port buffer. The number \nof bytes transferred is a function of the register being accessed. \nFor example, when accessing the Control Function Register 2 (Address 0x01), Phase 2 requires that four bytes be transferred. Each bit of data is registered on each corresponding rising edge of SCLK. The serial port controller expects that all bytes of the register be accessed;  otherwise,  the serial port controller is put \nout of sequence for the next communication cycle. However, \none way to write fewer bytes than requ ired is to use the I/O_RESET  \npin feature. The I/O_RESET pin function can be used to abort \nan I/O operation and reset the pointer of the serial port con -\ntroller. After an I/O reset, the next byte is the instruction byte. Note that every completed byte written prior to an I/O reset is preserved in the serial port buffer. Partial bytes written are not preserved. At the completion of any communication cycle, the \nAD9957 serial port controller expects th e next eight rising \nSCLK edges to be the instruction byte for the next communi -\ncation cycle.  \nAfter a write cycle, the programmed data resides in the serial port buffer and is inactive. I/O_UPDATE transfers data from the serial port buffer to active regist ers. The I/O update can \neither be sent after each communication cycle or when all serial operations are complete. In addition, a change in profile pins can initiate an I/O update.  \n \n For a read cycle, Phase 2 is the same as the write cycle with the \nfollowin g differences: Data is read from the active registers, not \nthe serial port buffer, and data is driven out on the falling edge \nof SCLK.  \nNote  that to read back  any profile register  (0x0E to 0 x15) , the \nthree  external profile pins must be used . For example, i f the \nprofile register is Profile 5 (0x13) then PROFILE 0 to PROFILE 2 \npins must equal 101.This is not required to write to profile \nregisters.  \nINSTRUCTION BYTE  \nThe instruction byte contains the following information as \nshown in the instruction byte bit map.  \nInstruction Byte Information Bit Map  \nMSB        LSB \nD7 D6 D5 D4 D3 D2 D1 D0 \nR/W X X A4 A3 A2 A1 A0 \nR/W—Bit 7 of the instruction byte determines whether a read \nor write data transfer occurs after the instruction byte write. Logic 1  indicates a read operation. Cleared indicates a write \noperation.  \nX, X —Bit 6 and Bit 5 of the instruction byte are don’t care s. \nA4, A3, A2, A1, A0 —Bit 4, Bit 3, Bit 2, Bit 1, and Bit 0 of the \ninstruction byte determine which register is accessed during the \ndata transfer portion of the communications cycle.  \nSERIAL I/O PORT PIN DESCRIPTIONS  \nSCLK —Serial Clock \nThe serial clock pin is used to synchronize data to and from the AD9957 and to run the internal state machines.  \nCS—Chip Select Bar  \nAn a ctive low input that allows more than one device on the \nsame seria l communications line. The SDO and SDIO pins go \nto a high impedance state when this input is high. If driven high \nduring any communications cycle, that cycle is suspended until \nCS is reactivated low. Chip select ( CS) can  be tied low in \nsystems that maintain control of SCLK.  \nSDIO —Serial Data Input/Output  \nData is always written into the AD9957 on this pin. However, \nthis pin can be used as a bidirectional data line.  Bit 1 of CFR1 , \nRegister Address 0x00 , controls the configuration of this pin. \nThe default is cleared, which configures the SDIO pin as \nbidirectional.  \n \n \nAD9957  Data Sheet  \n \nRev. F | Page 48 of 61 SDO —Serial Data Out  \nData is read from this pin for protocols that use separate lines \nfor transmitting and receiving data. In the case where the AD9957 operates in a single bidirectional I/O mode, this pin \ndoes not output data and is set to a high impedance state.  \nI/O_RESET —Input/Output Reset  \nI/O_R ESET synchronizes the I/O port state machines without \naffecting the addressable registers contents. An active high input on the I/O_RESET pin causes the current communication cycle to abort. After I/O_RESET returns low (Logic 0), another communication cycl e can begin, starting with the instruction \nbyte write.  \nI/O_UPDATE —Input/Output Update  \nThe I/O_UPDATE initiates the transfer of written data from  \nthe I/O port buffer to active registers. I/O_UPDATE is active  on the rising edge and its pulse width must be  greater than one \nSYNC_CLK period. It is either an input or outpu t pin depending  \non the programming of the Internal I/O Update Active bit.  SERIAL I/O TIMING DIAGRAMS  \nFigure 60 through Figure 63 provide basic examples of the tim -\ning relationships between the various control sig nals of the  serial \nI/O port. Most of the bits in the register map are not transferred to their internal destinations until assertion of an I/O update, which is not included in the timing diagrams that follow.  \nMSB/LSB TRANSFERS  \nThe AD9957 serial port can support both most significant bit \n(MSB) first or least significant bit (LSB) first data formats. This functionality is controlled by Bit 0 in Control Function  Register  1 \n(0x00). The default format i s MSB first. If LSB first is active, all data , \nincluding the instruction byte, must follow LSB -first convention.  \nNote that the highest number found in the bit range column for each register is the MSB and the lowest number is the LSB for that register (see  the Register Map and Bit Descriptions  section \nand Table 13).  \n06384-037I7 SDIOINSTRUCTION CYCLE DATA TRANSFER CYCLE\nSCLKCS\nI6 I5 I4 I3 I2 I1 I0 D7 D6 D5 D4 D3 D2 D1 D0\n \nFigure 60. Serial Port Write Timing —Clock Stall Low  \n \n06384-038DO7INSTRUCTION CYCLE DATA TRANSFER CYCLE\nDON'T CARE I7 I6 I5 I4 I3 I2 I1 I0 SDIOSCLKCS\nSDO DO6 DO5 DO4 DO3 DO2 DO1 DO0\n \nFigure 61. 3 -Wire Serial Port Read Timing —Clock Stal l Low  \n \n06384-039I7 SDIOINSTRUCTION CYCLE DATA TRANSFER CYCLE\nSCLKCS\nI6 I5 I4 I3 I2 I1 I0 D7 D6 D5 D4 D3 D2 D1 D0\n \nFigure 62. Serial Port Write Timing —Clock Stall High  \n \n06384-040I7 SDIOINSTRUCTION CYCLE DATA TRANSFER CYCLE\nSCLKCS\nI6 I5 I4 I3 I2 I1 I0 DO7 DO6 DO5 DO4 DO3 DO2 DO1 DO0\n \nFigure 63. 2 -Wire Serial Port Read Timing —Clock Stall High  \n  \nData Sheet AD9957\n \nRev. F | Page 49 of 61 I/O_UPDATE, SYNC_CLK, AND SYSTEM CLOCK \nRELATIONSHIPS \nThe I/O_UPDATE pin is used to transfer data from the serial \nI/O buffer to the active registers in the device. Data in the buffer \nis inactive.  \nSYNC_CLK is a rising edge active signal. It is derived from the \nsystem clock and a divide-by-4 frequency divider. SYNC_CLK, \nwhich is externally provided, can be used to synchronize \nexternal hardware to the AD9957  internal clocks. \nI/O_UPDATE initiates the start of a buffer transfer. It can \nbe sent synchronously or asynchronously relative to the \nSYNC_CLK. If the setup time between these signals is met, \nthen constant latency (pipeline) to the DAC output exists. \nFor example, if repetitive changes to phase offset via the SPI port is desired, the latency of those changes to the DAC output \nis constant; otherwise, a time uncertainty of one SYNC_CLK \nperiod is present.  \nBy default, the I/O_UPDATE pin is an input that serves as a \nstrobe signal to allow synchronous update of the device oper-\nating parameters. A rising edge on I/O_UPDATE initiates transfer of the register contents to the internal workings of  the device. Alternatively, the transfer of programmed data from \nthe programming registers to the internal hardware can be \naccomplished by changing the state of the PROFILE2, \nPROFILE1, and PROFILE0 pins. \nThe timing diagram shown in Figure 64 depicts when the data \nin the buffer is transferred to the active registers. \n \nSYNC_CLKSYSCLK\nAB\nNN  +  1 N – 1DATA IN\nREGISTERS\nDATA IN\nI/O BUFFERS NN  +  1 N + 2I/O_UPDATE\nTHE DEVICE REGISTERS AN I/O UPDATE AT POINT A. THE DATA IS TRANSFERRED FROM THE ASYNCHRONOUSLY LOADED I/O BUFFERS AT POINT B.\n06384-161 \nFigure 64. I/O_UPDATE Tran sferring Data from I/O Buffer to Active Registers \n \n \nAD9957  Data Sheet  \n \nRev. F | Page 50 of 61 REGISTER MAP AND  BIT DESCRIPTIONS  \nREGISTER MAP  \nNote  that the highest number found in the Bit Range column for each register in the following tables is the MSB and the lowest number i s \nthe LSB for that register.  \nTable 13. Control Registers  \nRegister \nName \n(Serial \nAddress)  Bit \nRange \n(Internal \nAddress)  Bit 7 \n(MSB)  Bit 6  Bit 5  Bit 4 Bit 3  Bit 2  Bit 1  Bit 0 \n(LSB)  Default Value  \nControl \nFunction Register 1 CFR1 \n(0x00)  [31:24]  RAM \nEnable  Open RAM Playback Destination  Open Operating Mode  0x00  \n[23:16]  Manual OSK \nExternal Control  Inverse Sinc Filter Enable  Clear CCI  Open Select DDS Sine Output  0x00  \n[15:8]  Open Autoclear \nPhase \nAccum ulator  Open Clear Phase \nAccum ulator  Load ARR at  \nI/O Update  OSK \nEnable  Select Auto -\nOSK  0x00  \n[7:0] Digital Power - \nDown  DAC  Power - \nDown  REFCLK Input \nPower -Down  Aux DAC Power -Down  External \nPower -Down \nControl  Auto Power -Down \nEnable  SDIO Input Only  LSB First  0x00 \nControl Function \nRegister 2 \nCFR2 (0x01)  [31:24]  Blackfin \nInterface \nMode \nActive  Blackfin Bit \nOrder Blackfin Early Frame \nSync Enable  Open Enable \nProfile \nRegisters \nas ASF \nSource  0x00  \n[23:16]  Internal I/O \nUpdate \nActive  SYNC_CLK \nEnable  Open Read Effective FTW  0x40  \n[15:8]  I/O Update Rate Control  PDCLK Rate \nControl  Data Format  PDCLK \nEnable  PDCLK Invert  TxENABLE  \nInvert  Q-First \nData \nPairing  0x08 \n[7:0] Open Data \nAssembler \nHold Last Value  Sync Timing \nValidation \nDisable  Open 0x20  \nControl Function Register 3 \nCFR3 \n(0x02)  [31:24]  Open DRV0 [1:0] Open VCO SEL [2:0] 0x1F  \n[23:16]  Open ICP[2:0] Open 0x3F  \n[15:8]  REFCLK \nInput \nDivider \nBypass  REFCLK \nInput \nDivider ResetB  Open PLL \nEnable  0x40  \n[7:0] N[6:0] Open 0x00 \nAuxi liary \nDAC \nControl Register  \n(0x03)  [31:24 ] Open  0x00  \n[23:16]  Open 0x00  \n[15:8]  Open 0x7F  \n[7:0] FSC[7:0] 0x7F \nI/O Update  \nRate Register (0x04)  [31:24 ] I/O Update Rate [31:24 ] 0xFF \n[23:16]  I/O Update Rate [23:16]  0xFF \n[15:8]  I/O Update Rate [15:8]  0xFF \n[7:0] I/O Update Rate [7:0] 0xFF \n \n \nData Sheet  AD9957  \n \nRev. F | Page 51 of 61 Table 14. RAM , ASF,  Multichip Sync, and Profile 0 Registers  \nRegister Name \n(Serial Address)  Bit Range \n(Internal \nAddress) Bit 7 \n(MSB)  Bit 6  Bit5  Bit 4  Bit 3  Bit 2  Bit 1  Bit 0  \n(LSB)  Default Value  \nRAM Segment \nRegister 0 (0x05)  [47:40]  RAM Address Step Rate 0 [15:8]   \n[39:32 ] RAM Address Step Rate 0 [7:0]  \n[31:24]  RAM End Address 0 [9:2]  \n[23:16]  RAM End  \nAddress 0 [1:0] Open  \n[15:8]  RAM Start Address 0 [9:2]  \n[7:0] RAM Start  \nAddress 0 [1:0] Open RAM Playback Mode 0[ 2:0]  \nRAM Segment Register 1 (0x06)  [47:40]  RAM Address Step Rate 1 [15:8]   \n[39:32]  RAM Address Step Rate 1 [7:0]  \n[31:24]  RAM End Addre ss 1[9:2]  \n[23:16]  RAM End \nAddress  1[1:0] Open  \n[15:8]  RAM Start Address 1 [9:2]  \n[7:0] RAM Start  \nAddress 1 [1:0] Open RAM Playback Mode 1[ 2:0]  \nAmplitude Scale Factor (ASF) \nRegister  \n(0x09)  [31:24]  Amplitude  Ramp Rate [15:8]  0x00  \n[23:16]  Amplitude Ramp Rate [7:0] 0x00  \n[15:8]  Amplitude Scale Factor ]13:6]  0x00  \n[7:0] Amplitude Scale Factor [5:0] Amplitude Step Size [1:0] 0x00  \nMulti chip Sync \nRegister  (0x0A)  [1:24]  Sync Validation Delay[ 3:0] Sync \nReceiver \nEnable  Sync Generator \nEnable  Sync \nGenerator \nPolarity  Open 0x00  \n[23:16]  Sync State Preset Value [5:0] Open 0x00  \n[15:8]  Sync Generator Delay [4:0] Open 0x00  \n[7:0] Sync Receiver Delay [4:0] Open 0x00  \nProfile 0 \nRegister —Single \nTone  (0x0E)  [63:56]  Open Amplitude Scale Factor [13:8]  0x08  \n[55:48]  Amplitude Scale Factor [7:0] 0xB5  \n[47:40]  Phase Offset Word [15:8]  0x00  \n[39:32]  Phase Offset Word [7:0] 0x00  \n[31:24]  Frequency Tuning Word [31:24]  0x00  \n[23:16]  Frequency Tuning Word [23:16]  0x00  \n[15:8]  Frequency Tuning Word [15:8]  0x00  \n[7:0] Frequency Tuning Word [7:0] 0x00  \nProfile 0 \nRegister —QDUC  \n(0x0E)  [63:56]  CCI Interpolation Rate [7:2] Spectral Invert  Inverse CCI Bypass  0x00  \n[55:48]  Output Scale Factor  0x00  \n[47:40 ] Phase Offset Word [15:8 ] 0x00  \n[39:32]  Phase Offset Word [7:0] 0x00  \n[31:24]  Frequency Tuning Word [31:24]  0x00  \n[23:16]  Frequency Tuning Word [23:16]  0x00  \n[15:8]  Frequency Tuning Word [15:8]  0x00  \n[7:0] Frequency Tuning Word [7:0] 0x00  \nAD9957  Data Sheet  \n \nRev. F | Page 52 of 61 Table 15. Profile 1, Profile 2, and Profile 3 Registers  \nRegister \nName  \n(Serial Address) Bit Range  \n(Internal Address) Bit 7 \n(MSB)  Bit 6 Bit 5 Bit 4 Bit 3 Bit 2 Bit 1 Bit 0 \n(LSB)  Default  \nValue  \nProfile 1 \nRegister —\nSingle Tone   \n(0x0F ) [63:56]  Open Amplitude Scale Factor [13:8]  0x00  \n[55:48]  Amplitude Scale Factor [7:0] 0x00  \n[47:40]  Phase Offset Word [15:8]  0x00  \n[39:32]  Phase Offset Word [7:0] 0x00  \n[31:24]  Frequency Tuning Word [31:24]  0x00  \n[23:16]  Frequency Tuning Word [23:16]  0x00  \n[15:8]  Frequency Tuning Word [15:8]  0x00  \n[7:0] Frequency Tuning Word [7:0] 0x00  \nProfile 1 \nRegister —\nQDUC  (0x0F) [63:56]  CCI Interpolation Rate [7:2] Spectral Invert  Inverse CCI Bypass  0x00  \n[55:48]  Output Scale Factor [7:0] 0x00  \n[47:40]  Phase Offset Word [15:8]  0x00  \n[39:32]  Phase Offset Word [7:0] 0x00  \n[31:24 ] Frequency Tuning Word [31:24 ] 0x00  \n[23:16]  Frequency Tuning Word [23:16]  0x00  \n[15:8]  Frequency Tuning Word [15:8]  0x00  \n[7:0] Frequency Tuning Word [7:0] 0x00  \nProfile 2 \nRegister — \nSingle Tone \n(0x10)  [63:56]  Open Amplitude Scale Factor [13:8]  0x00  \n[55:48]  Amplitude Scale Factor [7:0] 0x00  \n[47:40]  Phase Offset Word [15:8]  0x00  \n[39:32]  Phase Offset Word [7:0] 0x00  \n[31:24 ] Frequency Tuning Word [31:24 ] 0x00  \n[23:16]  Frequency Tuning Word [23:16]  0x00  \n[15:8]  Frequency Tuning Word [15:8]  0x00  \n[7:0] Frequency Tuning Word [7:0] 0x00  \nProfile 2 Register —\nQDUC  (0x10)  [63:56]  CCI Interpolation Rate [7:2] Spectral Invert  Inverse CCI Bypass  0x00  \n[55:48]  Output Scale Factor [7:0] 0x00  \n[47:40]  Phase Offset Word [15:8]  0x00  \n[39:32]  Phase Offset Word [7:0] 0x00  \n[31:24]  Frequency Tuning Word [31:24]  0x00  \n[23:16]  Frequency Tuning Word [23:16]  0x00  \n[15:8]  Frequency Tuning Word [15:8]  0x00  \n[7:0] Frequency Tuning Word [7:0] 0x00  \nProfile 3 Register — \nSingle Tone  \n(0x11)  [63:56]  Open Amplitude Scale Factor [13:8]  0x00  \n[55:48 ] Amplitude Scale Factor [7:0] 0x00  \n[47:40]  Phase Offset Word [15:8]  0x00  \n[39:32]  Phase Offset Word [7:0] 0x00  \n[31:24]  Frequency Tuning Word [31:24]  0x00  \n[23:16]  Frequency Tuning Word [23:16]  0x00  \n[15:8]  Frequency Tuning Word [15:8]  0x00  \n[7:0] Frequency Tuning Word [7:0] 0x00  \nProfile 3 \nRegister —\nQDUC  \n(0x11)  [63:56]  CCI Interpolation Rate [7:2] Spectral Invert  Inverse CCI Bypass  0x00  \n[55:48]  Output Scale Factor [7:0] 0x00  \n[47:40]  Phase Offset Word [15:8]  0x00  \n[39:32]  Phase Offset Word [7:0] 0x00  \n[31:24]  Frequency Tuning Word [31:24]  0x00  \n[23:16 ] Frequency Tuning Word [23:16 ] 0x00  \n[15:8]  Frequency Tuning Word [15:8]  0x00  \n[7:0] Frequency Tuning Word [7:0] 0x00  \nData Sheet  AD9957  \n \nRev. F | Page 53 of 61 Table 16. Profile 4, Profile 5, and Profile 6  Registers  \nRegister  \nName  \n(Serial  \nAddress) Bit \nRange  \n(Internal  \nAddress) Bit 7 (MSB)  Bit 6  Bit 5  Bit 4  Bit 3  Bit 2  Bit 1  Bit 0 (LSB)  Default  \nValue  \nProfile 4  \nRegister—  \nSingle Tone  \n(0x12)  [63:56]  Open Amplitude Scale Factor[ 13:8]  0x00  \n[55:48 ] Amplitude Scale Factor [7:0] 0x00  \n[47:40]  Phase Offset Word [15:8]  0x00  \n[39:32]  Phase Offset Word [7:0] 0x00  \n[31:24 ] Frequency Tuning Word [31:24 ] 0x00  \n[23:16]  Frequency Tuning Word[ 23:16]  0x00  \n[15:8 ] Frequency Tuning Word[ 15:8]  0x00  \n[7:0] Frequency Tuning Word[ 7:0] 0x00  \nProfile 4  Register—  \nQDUC  \n(0x12)  [63:56]  CCI Interpolation Rate [7:2] Spectral Invert  Inverse CCI Bypass  0x00  \n[55:48]  Output Scale Factor [7:0] 0x00  \n[47:40]  Phase Offset Word [15:8]  0x00  \n[39:32]  Phase Offset Word [7:0] 0x00  \n[31:24]  Frequency Tuning Word[ 31:24]  0x00  \n[23:16]  Frequency Tuning Word[ 23:16]  0x00  \n[15:8 ] Frequency Tuning Word [15:8 ] 0x00  \n[7:0] Frequency Tuning Word[ 7:0] 0x00  \nProfile 5  Register—  \nSingle Tone  \n(0x13)  [63:56]  Open Amplitude Scale Factor[ 13:8]  0x00  \n[55:48]  Amplitude Scale Factor[ 7:0] 0x00  \n[47:40]  Phase Offset Word [15:8]  0x00  \n[39:32]  Phase Offset Word [7:0] 0x00  \n[31:24]  Frequency Tuning Word[ 31:24]  0x00  \n[23:16]  Frequency Tuning Word[ 23:16]  0x00  \n[15:8 ] Frequency Tuning Word[ 15:8]  0x00  \n[7:0] Frequency Tuning Word [7:0] 0x00  \nProfile 5 Register—  \nQDUC  \n(0x13)  [63:56]  CCI Interpolation Rate [7:2] Spectral Invert  Inverse CCI Bypass  0x00  \n[55:48]  Output Scale Factor [7:0] 0x00  \n[47:40 ] Phase Offset Word [15:8 ] 0x00  \n[39:32]  Phase Offset Word [7:0] 0x00  \n[31:24]  Frequency Tuning Word[ 31:24]  0x00  \n[23:16]  Frequency Tuning Word[ 23:16]  0x00  \n[15:8 ] Frequency Tuning Word[ 15:8]  0x00  \n[7:0] Frequency Tuning Word[ 7:0] 0x00  \nProfile 6  Register—  \nSingle Tone  \n(0x14)  [63:56]  Open Amplitude Scale Factor[ 13:8]  0x00  \n[55:48]  Amplitude Scale Factor[ 7:0] 0x00  \n[47:40]  Phase Offset Word [15:8]  0x00  \n[39:32]  Phase Offset Word [7:0] 0x00  \n[31:24]  Frequency Tuning Word[ 31:24]  0x00  \n[23:16]  Frequency Tuning Word[ 23:16]  0x00  \n[15:8 ] Frequency Tuning Word[ 15:8]  0x00  \n[7:0] Frequency Tuning Word[ 7:0] 0x00  \nProfile 6  Register—  \nQDUC  \n(0x14)  [63:56]  CCI Interpolation Rate [7:2] Spectral Invert  Inverse CCI Bypass  0x00  \n[55:48]  Output Scale Factor [7:0] 0x00  \n[47:40]  Phase Offset Word [15:8]  0x00  \n[39:32]  Phase Offset Word [7:0] 0x00  \n[31:24]  Frequency Tuning Word[ 31:24]  0x00  \n[23:16]  Frequency Tuning Word[ 23:16]  0x00  \n[15:8 ] Frequency Tuning Word[ 15:8]  0x00  \n[7:0] Frequency Tuning Word [7:0] 0x00  \nAD9957  Data Sheet  \n \nRev. F | Page 54 of 61 Table 17. Profile 7, RAM, GPIO Configuration, and GPIO Data Registers  \nRegister Name  \n(Serial Address) Bit Range  \n(Internal Address)  Bit 7 (MSB)  Bit 6 Bit 5 Bit 4 Bit 3 Bit 2 Bit 1 Bit 0 (LSB)  Default  \nValue  \nProfile 7 \nRegister—  \nSingle Tone \n(0x15)  [63:56]  Open Amplitude Scale Factor[ 13:8]  0x00  \n[55:48]  Amplitude Scale Factor[ 7:0] 0x00  \n[47:40 ] Phase Offset Word [15:8 ] 0x00  \n[39:32]  Phase Offset Word [7:0] 0x00  \n[31:24]  Frequency Tuning Word[ 31:24]  0x00  \n[23:16]  Frequency Tuning Word[ 23:16]  0x00  \n[15:8 ] Frequency Tuning Word[ 15:8]  0x00  \n[7:0] Frequency Tuning Word[ 7:0] 0x00  \nProfile 7 \nRegister—  \nQDUC (0x15)  [63:56]  CCI Interpolation Rate [7:2] Spectral  \nInvert  Inverse CCI  \nBypass 0x00  \n[55:48 ] Output Scale  Factor [7:0] 0x00  \n[47:40]  Phase Offset Word [15:8]  0x00  \n[39:32]  Phase Offset Word [7:0] 0x00  \n[31:24]  Frequency Tuning Word[ 31:24]  0x00  \n[23:16]  Frequency Tuning Word[ 23:16]  0x00  \n[15:8 ] Frequency Tuning Word[ 15:8]  0x00  \n[7:0] Frequency Tuning Word[ 7:0] 0x00  \nRAM Register \n(0x16)  [31:0 ] RAM Word [31:0 ]  \nGPIO \nConfiguration \nRegister (0x18)  [15:0 ] GPIO Configuration [15:0]  0x00  \nGPIO Data  \nRegister (0x19)  [15:0 ] GPIO Data [15:0]  0x00  \n \nData Sheet  AD9957  \n \nRev. F | Page 55 of 61 REGISTER BIT DESCRIP TIONS  \nThe serial I/O p ort registers span an address range of 0  to 25 \n(0x00 to 0x19  in hexadecimal notation).  This represents a total \nof 26 registers.  However, six of these registers are unused , yielding \na total of 20 available registers. The unused registers are 7 , 8, 11  \nto 13, and  23 (0x07 to 0x08 , 0x0B to 0x0D , and 0x17 ). \nThe number of bytes assign ed to the registers varies. That is, the \nregisters are not of uniform depth; each contains the number  \nof bytes necessary for its particular function.  Additionally, the \nregisters are assigned names according to their functionality.   \nIn some cases, a register is given a mnemonic descriptor. For \nexample, the register at Serial Address 0x00 is named Control \nFunction Register 1 and is assigned the mnemonic CFR1.  The following section provides  a detailed description of each bit \nin the AD9957 register map. For cases in which a group of bits \nserves  a specific function, the entire group is  considered as a \nbinary word and described in aggregate.  \nThis section is organized in sequential order of the serial \naddresses of the registers.  Following each subheading are the \nindividual bit descriptions for that particular register.  The \nlocation of the  bit(s) in the register are indicated by [ A] or \n[A:B], where A and B are bit numbers.  The notation, [ A:B], \nspecifies a range of bits from most significant to least significant \nbit position.  For example, [ 5:2] means bit positions 5 down to 2, \ninclusive, wit h Bit 0 identifying the LSB of the register.  \nUnless otherwise stated, programmed bits are not transferred to \ntheir internal destinations  until the assertion of an I/O update  or \nprofile change.  \nControl Function Register 1 (CFR1 ) \nAddress 0x00, four  bytes are assigned to this register. \nTable 18. Bit Descriptions for CFR1 Register  \nBit (s) Mnemonic  Description  \n31 RAM Enable  0: disables RAM playback functionality (default).  \n1: enables RAM playback functionality . \n[30:2 9] Open  \n28 RAM Playback \nDestination  Ineffective unless  CFR1 , Bit 31 = 1. \n0: RAM playback data routed to baseband scaling multipliers (default) . \n1: RAM playback data routed to baseband I/Q data path . \n[27:26]  Open  \n[25:24]  Operating Mode  00: quadrature modulation mode (default).  \n01: single tone mode . \n1x: interpolating DAC mode . \n23 Manual OSK \nExternal Control  Ineffective unless CFR1 [9:8] = 10 b. \n0: OSK pin inoperative (default).  \n1: OSK pin enabled for manual OSK control (see the Output Shift Keying (OSK) section).  \n22 Inverse Sinc Filter \nEnable  0: inverse sinc  filter bypassed (default).  \n1: inverse sinc  filter active.  \n21 Clear CCI  The serial I/O port controller automatically clears this bit . This operation requires several internal clock cycles \nto complete, during which time the data supplied to the CCI input by the baseband signal chain is ignored. The inputs are forced to all zeros to flush the CCI data path, after which the CCI accumulators are reset.  \n0: normal operation of the CCI filter (default).  \n1: initiates an asynchronous reset of the accumulators in the CCI filter.  \n[20:17]  Open  \n16 Select DDS Sine \nOutput  Ineffective unless CFR1 [25:24]  = 01b .  \n0: cosine output of the DDS is selected (default).  \n1: sine output of the DDS is selected.  \n[15:14]  Open  \n13 Autoclear Phase Accumulator  0: normal operation of the DDS phase accumulator (default).  \n1: synchronously resets the DDS phase accumulator any time I/O_UPDATE is asserted or a profile change occurs.  \n12 Open  \n11 Clear Phase Accumulator  0: normal operation of the DDS phase accumulator (default).  \n1: asynchronous, static reset of the DDS phase accumulator.  \n10 Load ARR at  I/O \nUpdate  0: normal operation of the OSK amplitude ramp rate timer (default). \n1: OSK amplitude ramp rate timer reloaded any time I/O_UPDATE is asserted or a profile change occurs.  \nAD9957  Data Sheet  \n \nRev. F | Page 56 of 61 Bit (s) Mnemonic  Description  \n9 OSK (Output Shift \nKeying) Enable  0: OSK disabled (default).  \n1: OSK enabled.  \n8 Select Auto -OSK  Ineffective unless CFR1 , Bit 9 = 1. \n0: manual OSK enabled (default).  \n1: automatic OSK enabled.  \n7 Digital Power -\nDown  This bit is effective without the need for an I/O update.  \n0: clock signals to the digital core are active (default).  \n1: clock signals to the digital core are disabled.  \n6 DAC Power -Down  0: DAC clock signals and bias circuits are active (default).  \n1: DAC clock signals and bias circuits are disabled. \n5 REFCLK Input \nPower -Down  This bit is effective without the need for an I/O update.  \n0: REFCLK input circuits and PLL are active (default).  \n1: REFCLK input circuits and PLL are disabled.  \n4 Auxiliary DAC \nPower -Down  0: auxiliary DAC clock signals and bias circuits are active (default).  \n1: auxiliary DAC clock signals and bias circuits are disabled.  \n3 External Power -\nDown Control  0: assertion of the EXT _PWR _DWN pin a ffects full power -down (default).  \n1: assertion of the EXT _PWR _DWN pin affects fast recovery power -down.  \n2 Auto Power -Down \nEnable  Ineffective when CFR1 [25:24]  = 01 b. \n0: disable power -down (default).  \n1: when the Tx ENABLE  pin is Logic 0, the baseband signal processing chain is flushed of residual data and the \nclocks are automatically stopped. Clocks restart when the TxENABLE pin is a Logic 1. \n1 SDIO Input Only  0: configures the SDIO pin for bidirectional operation; 2 -wire  serial programming mode (default).  \n1: configures the serial data I/O pin (SDIO) as an input only pin; 3 -wire serial programming mode.  \n0 LSB First  0: configures the serial I/O port for MSB first format (default).  \n1: configures the serial I/O port for LSB first format.  \nControl Function Register 2 (CFR2 ) \nAddress 0x0 1, four bytes are assigned to this register. \nTable 19. Bit Descriptions for CFR2 Register  \nBit (s) Mnemonic  Description  \n31 Blackfin Interface  Mode  Active  Valid only when CFR 1[25:24 ] = 00 b (quadrature modulation mode).  \n0: Pin D [17:0]  configured as an 18-bit parallel port (default).  \n1: Pin D [5:4] configured as a dual serial port compatible with the Blackfin serial interface. \nPin D [17:6]  and Pin D [3:0] become available as a 16 -bit GPIO port.  \n30 Blackfin Bit Order  Valid only when CFR2 , Bit 31 = 1.  \n0: the dual serial port (BFI) configured for MSB first operation (default). \n1: the dual serial port (BFI) configured for LSB first operation.  \n29 Blackfin Early Frame Sync Enable  Valid only when CFR2 , Bit 31 = 1.  \n0: the dual serial port (BFI) configured to be compatible with Blackfin late frame sync \noperation (default).  \n1: the dual serial port (BFI) configured to be compatible with Blackfin early frame sync \noperation.  \n[28:2 5] Open  \n24 Enable Profile Registers as ASF Source  Valid only when CFR 1[25:24 ] = 01b  (single tone mode) and CFR1 , Bit 9  = 0 (OSK disabled) . \n0: amplitude scale factor bypassed (unity gain).  \n1: the active profile register  determines the a mplitude scale factor . \n23 Internal I /O Update Active  This bit is effective without the need for an I/O update.  \n0: serial I/O programming is synchronized with external assertion of the I/O_UPDATE pin, \nwhich is config ured as a n input pin (default).  \n1: serial I/O programming is synchronized with an internally generated I/O update signal \n(the internally generated signal appears at the I/O_UPDATE pin, which is configured as \nan output pin).  \nData Sheet  AD9957  \n \nRev. F | Page 57 of 61 Bit (s) Mnemonic  Description  \n22 SYNC_CLK Enable  0: the SYNC_CLK pin is disabled; static Logic 0 output.  \n1: the SYNC_CLK pin generates a clock signal at ¼ f SYSCLK ; use of synchronization of the \nserial I/O port (default).  \n[21:17]  Open  \n16 Read Effective FTW  0: a serial I/O port read operation of the FTW register reports  the contents of the FTW \nregister (default).  \n1: a serial I/O port read operation of the FTW register reports the actual 32 -bit word \nappearing at the input to the DDS phase accumulator.  \n[15:14]  I/O Update Rate Control  Ineffective unless CFR2 , Bit 23 = 1. Sets the prescale ratio of the divider that clocks the I/O \nupdate timer as follows:  \n00: divide  by 1 (default).  \n01: divide by 2. \n10: divide by 4. \n11: divide by 8. \n13 PDCLK Rate Control  Ineffective unless CFR2 , Bit 31 = 0 and CFR1[ 25:24]  = 00b.  \n0: PDCLK operates at the input data rate (default).  \n1: PDCLK operates at ½ the input data rate; useful for maintaining a consistent \nrelationship between I/Q words at the parallel data port and the internal clocks of the \nbaseband signal processing chain.  \n12 Data Format  0: the data -words applied to Pin D [17:0 ] are expected to be coded as twos complement \n(default).  \n1: the data -words applied to Pin D [17:0 ] are expected to be coded as offset binary.  \n11 PDCLK Enable  0: the PDCLK pin is disabled and forced to a static Logic 0 state; the internal clock signal \ncontinues to operate and provide timing to the data assembler.  \n1: the internal PDCLK signal appears at the PDCLK pin (default).  \n10 PDCLK Invert  0: normal PDCLK polarity; Q -data associated with Logic 1, I -data with Logic 0 (default).  \n1: inverted PDCLK polarity.  \n9 TxENABLE  Invert  0: normal Tx ENABLE  polarity; Logic 0 is standby, Logic 1 is transmit (default).  \n1: inverted Tx ENABLE  polarity; Logic 0 is transmit, Logic 1 is standby. \n8 Q-First Data Pairing  0: an I/Q data pair is delivered as I -data first , followed by Q -data (default).  \n1: an I/Q data pair is delivered as Q -data first , followed by I -data.  \n7 Open  \n6 Data Assembler Hold Last Value  Ineffective when CFR1 [25:24]  = 01b.  \n0: when the TxENABLE pin is false, the data assembler ignores the input data and \ninternally forces zeros on the baseband signal path (default).  \n1: when the T xENABLE pin is false, the data assembler ignores the input data and \ninternally forces the last value received on the baseband signal path.  \n5 Sync Timing Validation Disable  0: enables the setup and hold validation circuit to take a measurement; the \nmeasurement result appears at the SYNC_SMP_ERR pin; a Logic 1 at this pin indicates a \npotential setup/hold violation whereas  a Logic 0 indicates that a setup/hold violation has \nnot been detected; the measurement result is latched and held until this bit is set to a \nLogic 1.  \n1: resets the setup and hold validation measurement circuit forcing the SYNC_SMP_ERR \npin to a static Logic 0 condition (default); the measurement circuit is effectively disabled \nuntil this bit is restored to a Logic 0 state.  \n[4:0] Open  \n \nAD9957  Data Sheet  \n \nRev. F | Page 58 of 61 Control Function Register 3 (CFR3)  \nAddress 0x02, four  bytes are assigned to this register. \nTable 20. Bit Descriptions for CFR3 Register  \nBit (s) Mnemonic  Description  \n[31:30]  Open  \n[29:28]   DRV0  Controls REFCLK_OUT pin (see Table 6 for details); default is 01b.  \n27 Open  \n[26:24 ]  VCO SEL  Selects frequency band of the VCO in the REFCLK PLL (see Table 7 for details); default is 111b.  \n[23:22]   Open  \n[21:19]   ICP Selects the charge pump current in the REFCLK PLL (see Table 8 for details); default is 111b. \n[18:16 ]  Open   \n15  REFCLK Input Divider Bypass  0: input divider is selected (default). \n1: input divider is bypassed.  \n14 REFCLK Input Divider ResetB  0: input divider is reset.  \n1: input divider operates normally (default). \n[13:9 ] Open  \n8 PLL Enable  0: REFCLK PLL bypassed (default).  \n1: REFCLK PLL enabled.  \n[7:1] N This 7 -bit number is divide modulus of the REFCLK PLL feedback divider; default is 0000000b.  \n0  Open  \nAuxiliary DAC Control Register  \nAddress 0x 03, four bytes are assigned to this register. \nTable 21. Bit Descriptions for Auxiliary DAC Control Register  \nBit(s)  Mnemonic  Description  \n[31:8 ]  Open  \n[7:0] FSC This 8-bit number controls the full-scale output  current of the main DAC (see the Auxiliary DAC  section); default is 0xFF.  \nI/O Update Rate Register  \nAddress 0x04, four  bytes are assigned to this register. This register is effective without the need for an I/O update.  \nTable 22. Bit Descriptions for I/O Update Rate Register 5 \nBit(s)  Mnemonic  Description  \n[31:0 ] I/O Update Rate  Ineffective unless CFR2 , Bit 23 = 1. This 32-bit number controls the automatic I/O update rate (see the Automatic \nI/O Update  section); default is 0xFFFFFFFF .  \nRAM Segment Register 0  \nAddress 0x05, six  bytes are assigned to this register. This register is effective without the need for an I/O update. This register is only \nactive if  CFR1 , Bit 31 = 1 and there is a Logic 0  to Logic 1 transition on the RT pin.  \nTable 23. Bit Descriptions for RAM Segment Register 0  \nBit(s)  Mnemonic  Description  \n[47:32]  RAM Address Step Rate 0  This 16 -bit number controls the rate at which the RAM state machine steps through the specified \nRAM address range.  \n[31:22]  RAM End Address 0  This 10 -bit n umber identifies the ending address for the RAM state machine.  \n[21:16]   Open  \n[15:6 ] RAM Start Address 0  This 10 -bit number identifies the starting address for the RAM state machine.  \n[5:3] Open  \n[2:0] RAM Playback Mode 0  This 3 -bit number identifies the playback mode for the RAM state machine (see Table 5). \nData Sheet  AD9957  \n \nRev. F | Page 59 of 61 RAM Segment Register 1  \nAddress 0x06, six  bytes are assigned to this register. This register is only active if  CFR1 , Bit 31 = 1 and there is a Logic 1  to Logic 0 \ntransition on the RT pin.  \nTable 24. Bit Descriptions for RAM Segment Register 1  \nBit(s)  Mnemonic  Description  \n[47:32]  RAM Address Step \nRate  1 This 16 -bit number controls the rate at which the RAM state machine steps through the specified RAM \naddress range.  \n[31:22]  RAM End Address 1  This 10 -bit number identifies the ending address for the RAM state machine.  \n[21:16]   Open   \n[15:6 ] RAM Start Address 1  This 10-bit number identifies the starting address for the RAM state machine.  \n[5:3] Open   \n[2:0] RAM Playback Mode 1  This 3-bit number identifies the playback mode for the RAM state machine (see Table 5). \nAmplitude Scale Factor (ASF) Register  \nAddress 0x09, four bytes are assigned to this register. This register is only active if  CFR1 , Bit 9 = 1. \nTable 25. Bit Descriptions for ASF Register  \nBit(s) Mnemonic  Description  \n[31:16]  Amplitude Ramp Rate  Ineffective unless CFR1 , Bit 8 = 1. This 16-bit number controls the rate at which the OSK controller \nupdates amplitude changes to the DDS.  \n[15:2 ] Amplitude Scale Factor  If CFR1 , Bit 8 = 0 and CFR1 , Bit 23 = 0, then this 14 -bit number is the amplitude scale factor for the DDS.  \nIf CFR1 , Bit 8 = 0 and CFR1 , Bit 23 = 1, then this 14 -bit number is the amplitude scale factor for the DDS \nwhen the OSK pin is Logic 1.  \nIf CFR1 , Bit 8 = 1, then this 14 -bit number sets a ceiling on the maximum allowable amplitude scale \nfactor for the DDS.  \n[1:0] Amplitude Step Size  Ineffective unless CFR1 , Bit 8 = 1. This 2-bit number controls the step size for amplitude changes to the \nDDS (see Table 9). \nMulti chip Sync Register  \nAddress 0x0A, f our bytes are assigned to this register.  \nTable 26. Bit Descriptions for the Multichip Sync R egister  \nBit(s)  Mnemonic  Description  \n[31:28]  Sync Validation Delay  Default is 0000b . This 4 -bit number sets the timing skew (in ~ 75 ps increments) between SYSCLK and \nthe delayed sync -in signal for the synchronization validation block in the synchronization receiver.  \n27 Sync Receiver Enable  0: synchronization clock receiver disabled (default).  \n1: synchronization clock receiver enabled.  \n26 Sync Generator Enable  0: synchronization clock generator disabled (default).  \n1: synchronization clock generator enabled.  \n25 Sync Generator Polarity  0: synchronization clock generator coincident with the rising edge of the system clock (default) . \n1: synchronization clock generator coincident with the falling edge of the system clock . \n24 Open  \n[23:18]  Sync State Preset Value  Default is 000000b . This 6 -bit number is the state that the internal clock generator assume s when it \nreceives a sync pulse.  \n[17:16 ] Open   \n[15:11]  Sync Generator Delay  Default is 00000b . This 5 -bit number sets the output delay (in ~ 75 ps increments) of the \nsynchronization generator.  \n[10:8 ] Open  \n[7:3] Sync Receiver Delay  Default is 00000b . This 5 -bit number s ets the delay input delay (in ~75  ps increments) of the \nsynchronization receiver.  \n[2:0] Open  \n \nAD9957  Data Sheet  \n \nRev. F | Page 60 of 61 PROFILE REGISTERS  \nThere are eight consecutive serial I/O addresses ( 0x0E to 0x15 ) \ndedicated to  device profiles.  All eight profile registers are either \nsingle tone  profiles or QDUC profiles depending on the device \noperating mode specified by CFR1 [25:24] . During  opera tion, \nthe active profile register is determined via the external \nPROFILE2 , PROFILE1 , and PROFILE 0 pins.  \nSingle tone  profiles control: DDS frequency (32  bits), DDS \nphase offset (16  bits), and DDS amplitude scaling (14  bits). QDUC profiles control:  DDS frequency (32  bits), DDS phase \noffset (16  bits), output amplitude scaling (8  bits), CCI filter \ninterpolation factor , inverse CCI bypass , and s pectral invert . \nThe QDUC profiles also selectively apply to the i nterpolating \nDAC operating mode : only  output scaling, CCI filter interpola -\ntion factor, and inverse CCI bypass apply; all others (DDS \nfrequency, output amplitude scaling, and spectral invert)  are \nignored . \nProfile [7:0] Register —Single Tone   \nAddress 0x0E to 0x15, eight bytes are assigned to this register.  \nTable 27. Bit Descriptions for Profile [7:0] Registers —Single Tone  \nBit(s) Mnemonic  Description  \n[63:62]  Open  \n[61:48]  Amplitude Scale Factor  This 14 -bit number controls the DDS output amplitude.  \n[47:32]  Phase Offset Word  This 16 -bit number controls the DDS phase offset.  \n[31:0 ] Frequency Tuning Word  This 32 -bit number controls the DDS frequency.  \nProfile [7:0] Register —QDUC  \nAddress 0x0E to 0x15, eight bytes are assigned to this register. \nTable 28. Bit Descriptions for Profile [7:0] Registers —QDUC  \nBit(s)  Mnemonic  Description  \n[63:58]  CC Interpolation Rate  This 6 -bit number is the rate interpolation factor for the CCI filter.  \n57 Spectral Invert  0: the modulator output takes the form: I(t)  × cos(ct) – Q(t) × sin(ct).  \n1: the modulator output takes the form: I(t)  × cos(ct) + Q(t) × sin(ct).  \n56 Inverse CCI Bypass  0: the inverse CCI filter is enabled. \n1: the inverse CCI filter is bypassed.  \n[55:48]  Output Scale Factor  This 8 -bit number controls the output amplitude.  \n[47:32]  Phase Offset Word  This 16 -bit number controls the DDS phase offset.  \n[31:0 ] Frequency Tuning Word  This 32 -bit number controls the DDS frequency.  \nRAM Registe r \nAddress 0x16, four bytes are assigned to this register.  \nTable 29. Bit D escriptions for RAM Register  \nBit(s) Mnemonic  Description  \n[31:0 ] RAM Word  The number of 32 -bit words written to RAM is defined by the start and end address in \nRAM Segment Register 0 or RAM Segment Register 1.  \nGPIO Config uration  Register  \nAddress 0x18, two  bytes are  assigned to this register. \nTable 30. Bit Descriptions for GPIO Config uration  Register  \nBit(s) Mnemonic  Description  \n[15:0 ] GPIO Configuration  See the General -Purpose I/O (GPIO) Port  section for details . \nGPIO Data Register  \nAddress 0x19, two bytes are  assigned to this register. \nTable 31. Bit Descriptions for GPIO Data Register  \nBit(s) Mnemonic  Description  \n[15:0 ] GPIO Data  Read or write based on the contents of the GPIO Config uration  register. See the \nGeneral -Purpose I/O (GPIO) Port  section  for details.  \n \nData Sheet AD9957\n \nRev. F | Page 61 of 61 OUTLINE DIMENSIONS \n \nCOMPLIANT TO JEDEC STANDARDS MS-026-AED-HD1\n25\n26 5076 100\n75\n5114.00 BSC SQ16.00 BSC SQ 0.75\n0.600.451.20\nMAX\n1.05\n1.000.950.20\n0.09\n0.08 MAX\nCOPLANARITY\nVIEW A\nROTATED 90° CCWSEATING\nPLANE0° MIN\n7°\n3.5°\n0° 0.150.05 VIEW APIN 1\nTOP VIEW\n(PINS DOWN)\n0.27\n0.22\n0.170.50 BSC\nLEAD PITCH1\n25\n26 5076 100\n75\n51BOTTOM VIEW\n(PINS UP)5.00 SQ EXPOSED\nPAD\n042209-AFOR PROPER CONNECTION OFTHE EXPOSED PAD, REFER TO\nTHE PIN CONFIGURATION AND\nFUNCTION DESCRIPTIONSSECTION OF THIS DATA SHEET.\n \nFigure 65. 100-Lead Thin Quad Fl at Package, Exposed Pad [TQFP_EP] \n(SV-100-4) \nDimensions shown in millimeters \n \nORDERING GUIDE \nModel1 Temperature Range Package Description  Package Option  \nAD9957BSVZ −40°C to +85°C  100-Lead Thin Quad Flat Package Exposed Pad [TQFP_EP] SV-100-4  \nAD9957BSVZ-REEL −40°C to +85°C  100-Lead Thin Quad  Flat Package Exposed Pad [TQFP_EP] SV-100-4  \nAD9957/PCBZ  Evaluation Board   \n \n1 Z = RoHS Compliant Part. \n \n \n©2007–2018 Analog Devices, Inc. All rights reserved. Trademarks and  \n registered trademarks are the prop erty of their respective owners. \n  D06384-0-4/18(F)  \n"}]
!==============================================================================!
### Component Summary: AD9957BSVZ

#### Key Specifications:
- **Voltage Ratings:**
  - AVDD (Analog Supply): 1.8V and 3.3V
  - DVDD (Digital Supply): 1.8V and 3.3V
- **Current Ratings:**
  - DVDD_I/O (3.3V): 16 mA
  - DVDD (1.8V): 610 mA (QDUC mode)
  - AVDD (3.3V): 28 mA (QDUC mode)
  - AVDD (1.8V): 105 mA (QDUC mode)
- **Power Consumption:**
  - Single Tone Mode: 800 mW
  - Continuous Modulation (8× interpolation): 1400 - 1800 mW
  - Full Sleep Mode: 12 - 40 mW
- **Operating Temperature Range:** -40°C to +85°C
- **Package Type:** 100-lead Thin Quad Flat Package (TQFP_EP)
- **Moisture Sensitive Level (MSL):** MSL 3 (JEDEC J-STD-020E)
- **Special Features:**
  - Integrated 1 GSPS 14-bit DAC
  - Phase modulation capability
  - Multichip synchronization
  - Software and hardware controlled power-down
  - 8 programmable profiles for shift keying
  - Sin(x)/(x) correction (inverse sinc filter)

#### Description:
The **AD9957** is a high-performance **1 GSPS Quadrature Digital Upconverter** (QDUC) designed for communications systems where cost, size, power consumption, and dynamic performance are critical. It integrates a high-speed Direct Digital Synthesizer (DDS), a 14-bit Digital-to-Analog Converter (DAC), clock multiplier circuitry, digital filters, and other DSP functions onto a single chip. The device provides baseband upconversion for data transmission in both wired and wireless communication systems.

#### Typical Applications:
- **Broadband Communications:** Used in HFC data, telephony, and video modems.
- **Wireless Base Stations:** Facilitates transmission in wireless communication systems.
- **Internet Telephony:** Supports voice over IP (VoIP) applications.
- **Signal Processing:** Ideal for applications requiring high-speed modulation and demodulation.

The AD9957 is particularly suited for applications that require high-speed data conversion and modulation, making it a versatile choice for modern communication systems.