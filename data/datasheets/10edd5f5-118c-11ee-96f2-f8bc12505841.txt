[{'role': 'system', 'content': 'You are a technical specialist with expertise in electronics. Your task is to analyze datasheets for electronic components and provide a concise summary of the product’s key characteristics and specifications. In addition, you need to gather textual information about the component, including its description and typical applications.Instructions:    Identify the correct component in the datasheet using the provided product code.    Summarize key parameters, including:        Voltage ratings        Current ratings        Power consumption        Operating temperature range        Package type        Special features or notes (if applicable)        Moisture Sensetive Level JEDEC J-STD-020E    Provide a short description of the component, including what it is (e.g., transistor, microcontroller, sensor) and its primary function.    Explain typical applications for the component (e.g., power management, signal processing, data storage, etc.).    Be thorough and accurate: Ensure the information corresponds specifically to the product code, as some datasheets cover multiple variants.Your goal is to create a clear and accurate technical summary that includes both key specifications and a description of what the component is used for.'}, {'role': 'user', 'content': 'Give me information about the component of AT32F413KCU7-4 production of ARTERY TECHNOLOGY from the text:AT32F413 Series Datasheet  \n2022.6.6  1 Ver 2.01  \nARM®-based 32-bit Cortex®-M4 MCU+FPU with 64 to 256  KB \nFlash, USB FS, 2 CAN s，12 timers, 13 communication interfaces  \nFeatures  \n\uf06e Core: ARM® 32-bit Cortex®-M4 CPU  \n− 200 MHz maximum frequency, with a \nmemory protection unit (MPU), single -cycle \nmultiplication and hardware division  \n− Floating point unit (FPU)  \n− DSP instructions  \n\uf06e Memories  \n− 64 to 256 KBytes  of internal Flash memory  \n− sLib: configurable part of main Flash set as \na library area with code executable but \nsecured, non -readable  \n− SPIM interface: Extra interfacing up to 16 \nMbytes of the external SPI Flash (as \ninstruction/data memory)  \n− Up to  64 KBytes of SRAM  \n\uf06e Power c ontrol (PWC)  \n− 2.6 to 3.6 V supply  \n− Power on reset (POR), low voltage reset \n(LVR), and power voltage monitoring (PVM)  \n− Low power modes: Sleep, Deepsleep, and \nStandby modes  \n− VBAT supply for LEXT, RTC, and forty-two \n32-bit battery powered registers (BPR)  \n\uf06e Clock and reset management (CRM)  \n− 4 to 25 MHz crystal (HEXT)  \n− 48 MHz internal factory -trimmed clock \n(HICK), offers 1 % accuracy at T A = 25 ° C \nand 2.5 % accuracy at T A = -40 to +105 ° C, \nwith automatic clock calibration (ACC)   \n− 32 kHz crystal (LEXT)  \n− Low-speed internal clock (LICK)  \n\uf06e Analog  \n− 2 x 12-bit 2 MSPS A/D converters, up to 16 \ninput channels  \n− Temperature sensor (V TS), internal \nreference voltage (V INTRV) \n\uf06e DMA : 14-channel DMA controller  \n\uf06e Up to 55 fast GPIOs  \n− All mappable on 16 external interrupts \n(EXINT)  \n− Almost all 5 V -tolerant  \n\uf06e Up to 12  timers (TMR)  \n− Up to 2 x 16-bit motor control PWM \nadvanced timers with dead -time generator \nand emergency stop  \n− Up to 5 x 16-bit timers + 2 x 32 -bit timers, \neach with 4 IC/OC/PWM or pulse counter and quadrature (incremental) encoder input  \n− 2 x watchdog timers (general WDT and \nwindowed WWDT)  \n− SysTick timer: a 24 -bit downcounter  \n\uf06e Up to 1 3 communication interfaces  \n− Up to 2  x I2C interfaces, support \nSMBus/PMBus  \n− Up to 5  x USARTs , support ISO7816 \ninterface, LIN, IrDA capability, modem \ncontrol  \n− Up to 2  x SPIs (36 Mbit/s), all with I2S \ninterface multiplexed  \n− Up to 2 x CAN interface s (2.0B Active)  \n− USB 2.0 full speed interface  supporting \ncrystal -less  \n− SDIO interface  \n\uf06e CRC calculation unit  \n\uf06e 96-bit unique ID (UID)  \n\uf06e Debug mode  \n− Serial wire debug (SWD) and JTAG \ninterfaces  \n\uf06e Operating temperatures: -40 to +105 ° C  \n\uf06e Packages  \n− LQFP64 10 x 10 mm  \n− LQFP48 7 x 7 mm  \n− QFN48 6 x 6 mm  \n− QFN32 4 x 4 mm  \nTable 1. AT32F4 13 device summary  \nInternal Flash  Part number  \n256 KBytes  AT32F 413RCT7, AT32F 413CCT7, \nAT32F 413CCU7, AT32F 413KCU7-4 \n128 KBytes  AT32F 413RBT7, AT32F 413CBT7, \nAT32F 413CBU7, AT32F 413KBU7-4 \n64 KBytes  AT32F 413C8T7 \n \n \nAT32F413 Series Datasheet  \n2022.6.6  2 Ver 2.01  \nContents  \n1 Descriptions  ................................ ................................ ................................ ...........  9 \n2 Functional overview  ................................ ................................ .............................  11 \n2.1 ARM® Cortex®-M4 with FPU  ................................ ................................ ....................  11 \n2.2 Memory  ................................ ................................ ................................ ..................  12 \n2.2.1  Internal Fla sh memory  ................................ ................................ ...............................  12 \n2.2.2  Memory protection unit (MPU)  ................................ ................................ ...................  12 \n2.2.3  Embedded SRAM  ................................ ................................ ................................ ....... 12 \n2.3 Interrupts  ................................ ................................ ................................ ................  13 \n2.3.1  Nested vectored interrupt controller (NVIC)  ................................ ...............................  13 \n2.3.2  External interrupts (EXINT)  ................................ ................................ ........................  13 \n2.4 Power control (PWC)  ................................ ................................ ..............................  13 \n2.4.1  Power supply schemes  ................................ ................................ ..............................  13 \n2.4.2  Reset and power voltage monitor (POR / LVR / PVM)  ................................ ..............  13 \n2.4.3  Voltage regulator (LDO)  ................................ ................................ .............................  13 \n2.4.4  Low-power modes  ................................ ................................ ................................ ...... 14 \n2.5 Boot modes  ................................ ................................ ................................ ............  14 \n2.6 Clocks  ................................ ................................ ................................ ....................  15 \n2.7 General -purpos e inputs / outputs (GPIOs)  ................................ .............................  15 \n2.8 Remap capability  ................................ ................................ ................................ .... 15 \n2.9 Direct Memory Access Controller (DMA)  ................................ ................................  16 \n2.10  Timers (TMR)  ................................ ................................ ................................ .........  16 \n2.10.1  Advanced timers (TMR1 and TMR8)  ................................ ................................ .........  16 \n2.10.2  General -purpose timers (TMRx)  ................................ ................................ ................  17 \n2.10.3  SysTick timer  ................................ ................................ ................................ ..............  17 \n2.11  Watchdog (WDT)  ................................ ................................ ................................ .... 18 \n2.12  Window watchdog (WWDT)  ................................ ................................ ...................  18 \n2.13  Real-time clock (RTC) and battery powered registers (BPR)  ................................ .. 18 \n2.14  Communication interfaces  ................................ ................................ ......................  18 \n2.14.1  Serial peripheral interface (SPI) / Inter -integrated sound interface (I2S) ...................  18 \n2.14.2  Universal synchronous / asynchronous receiver transmitters (USART)  ...................  19 \n2.14.3  Inter-integrated -circuit interface (I2C) ................................ ................................ .........  19 \nAT32F413 Series Datasheet  \n2022.6.6  3 Ver 2.01  \n2.14.4  Secure digital input / output interface (SDIO)  ................................ ............................  19 \n2.14.5  Controller area network (CAN)  ................................ ................................ ...................  19 \n2.14.6  Universal serial bus full -speed (USBFS) ................................ ................................ .... 20 \n2.15  Cyclic redundancy check (CRC) calculation unit  ................................ ....................  20 \n2.16  Analog -to-digital converter (ADC)  ................................ ................................ ...........  20 \n2.16.1  Temperature sensor (V TS) ................................ ................................ ..........................  20 \n2.16.2  Internal reference voltage (V INTRV) ................................ ................................ .............  20 \n2.17  Serial wire (SWD) / JTAG debug port  ................................ ................................ ..... 20 \n3 Pin functional definitions  ................................ ................................ ....................  21 \n4 Memory mapping  ................................ ................................ ................................ . 28 \n5 Electrical characteristics  ................................ ................................ ....................  29 \n5.1 Parameter conditions ................................ ................................ ..............................  29 \n5.1.1  Minimum and maximum values  ................................ ................................ .................  29 \n5.1.2  Typical values  ................................ ................................ ................................ .............  29 \n5.1.3  Typical curves  ................................ ................................ ................................ .............  29 \n5.1.4  Power supply scheme  ................................ ................................ ................................  29 \n5.2 Absolute maximum values  ................................ ................................ ......................  30 \n5.2.1  Ratings  ................................ ................................ ................................ .......................  30 \n5.2.2  Electrical sensitivity  ................................ ................................ ................................ .... 31 \n5.3 Specifications  ................................ ................................ ................................ .........  32 \n5.3.1  Gene ral operating conditions  ................................ ................................ .....................  32 \n5.3.2  Operating conditions at power -up / power -down  ................................ .......................  32 \n5.3.3  Embedded reset and power control block characteristics  ................................ .........  32 \n5.3.4  Memory characteristics  ................................ ................................ ..............................  34 \n5.3.5  Supply current characteristics  ................................ ................................ ....................  34 \n5.3.6  External clock source characteristics  ................................ ................................ .........  42 \n5.3.7  Internal clock source characteristics  ................................ ................................ ..........  46 \n5.3.8  PLL characteristics  ................................ ................................ ................................ ..... 47 \n5.3.9  Wakeup time from low -power mode ................................ ................................ ...........  47 \n5.3.10  EMC characteristics  ................................ ................................ ................................ ... 47 \n5.3.11  GPIO port characteristics  ................................ ................................ ...........................  48 \n5.3.12  NRST pin characteristics  ................................ ................................ ............................  50 \nAT32F413 Series Datasheet  \n2022.6.6  4 Ver 2.01  \n5.3.13  TMR timer characteristics  ................................ ................................ ..........................  50 \n5.3.14  SPI / SPIM / I2S characteristics  ................................ ................................ ..................  51 \n5.3.15  I2C characteristics  ................................ ................................ ................................ ...... 54 \n5.3.16  SDIO characteristics ................................ ................................ ................................ ... 55 \n5.3.17  USBFS characteristics  ................................ ................................ ...............................  56 \n5.3.18  12-bit ADC characteristics  ................................ ................................ ..........................  57 \n5.3.19  Internal reference voltage (V INTRV) characteristics  ................................ .....................  60 \n5.3.20  Temperature sensor (V TS) characteristics  ................................ ................................ .. 60 \n6 Package information  ................................ ................................ ...........................  62 \n6.1 LQFP64 package information  ................................ ................................ .................  62 \n6.2 LQFP48 package information  ................................ ................................ .................  64 \n6.3 QFN48 package information  ................................ ................................ ...................  66 \n6.4 QFN32 package information  ................................ ................................ ...................  68 \n6.5 Device marking  ................................ ................................ ................................ ....... 69 \n6.6 Thermal characteristics  ................................ ................................ ..........................  70 \n7 Part numbering  ................................ ................................ ................................ .... 71 \n8 Document revision history  ................................ ................................ .................  72 \nAT32F413 Series Datasheet  \n2022.6.6  5 Ver 2.01  \nList of Tables  \nTable 1. AT32F413 device summary  ................................ ................................ ................................ ... 1 \nTable 2. AT32F413 features and peripheral counts  ................................ ................................ ...........  10 \nTable 3. Bootloader pin configurations  ................................ ................................ ..............................  15 \nTable 4. Timer feature comparison  ................................ ................................ ................................ .... 16 \nTable 5. AT32F413 series pin definitions  ................................ ................................ ...........................  24 \nTable 6. Voltage characteristics  ................................ ................................ ................................ .........  30 \nTable 7. Current characteristics  ................................ ................................ ................................ .........  30 \nTable 8. Thermal characteristics  ................................ ................................ ................................ ........  30 \nTable 9. ESD values ................................ ................................ ................................ ...........................  31 \nTable 10. Latch -up values  ................................ ................................ ................................ ..................  31 \nTable 11. General operating conditions  ................................ ................................ .............................  32 \nTable 12. Operating conditions at power -up/power -down  ................................ ................................ . 32 \nTable 13. Embedded reset and power management block characteri stics ................................ ....... 32 \nTable 14. Programmable voltage regulator characteristics  ................................ ...............................  33 \nTable 15. Internal Flash memory characteristics  ................................ ................................ ...............  34 \nTable 16. Internal Flash memory endurance and data retention  ................................ .......................  34 \nTable 17. Typical current consumption in Run mode ................................ ................................ .........  35 \nTable 18. Typical current consumption in Sle ep mode  ................................ ................................ ...... 36 \nTable 19. Maximum current consumption in Run mode  ................................ ................................ .... 37 \nTable 20. Maximum current consumption in Sleep mode  ................................ ................................ . 38 \nTable 21. Typical and maximum current consumptions in Deepsleep and Standby modes  .............  39 \nTable 22. Typical an d maximum current consumptions on V BAT ................................ .......................  40 \nTable 23. Peripheral current consumption  ................................ ................................ .........................  41 \nTable 24. HEXT 4 -25 MHz crystal characteristics(1)(2) ................................ ................................ ....... 42 \nTable 25. HEXT external source characteristics  ................................ ................................ ................  43 \nTable 26. LEXT 32.768 kHz crystal characteristics(1)(2) ................................ ................................ ..... 44 \nTable 27. LEXT external source characteristics  ................................ ................................ ................  45 \nTable 28. HICK clock characteristics  ................................ ................................ ................................ . 46 \nTable 29. LICK clock characteristics  ................................ ................................ ................................ .. 46 \nTable 30. PLL characteristics  ................................ ................................ ................................ .............  47 \nTable 31. Low -power mode wakeup time  ................................ ................................ ..........................  47 \nTable 32. EMS characteristics  ................................ ................................ ................................ ...........  47 \nTable 33. GPIO static characteristics  ................................ ................................ ................................ . 48 \nTable 34. Output voltage characteristics ................................ ................................ ............................  49 \nAT32F413 Series Datasheet  \n2022.6.6  6 Ver 2.01  \nTable 34. Input AC characteristics  ................................ ................................ ................................ ..... 49 \nTable 36. NRST pin characteristics ................................ ................................ ................................ .... 50 \nTable 37. TMR characteristics  ................................ ................................ ................................ ...........  50 \nTable 38. SPI characteristics  ................................ ................................ ................................ .............  51 \nTable 39. I2S characteristics  ................................ ................................ ................................ ..............  53 \nTable 40. SD/MMC characteristics  ................................ ................................ ................................ .... 55 \nTable 41. USBFS startup time  ................................ ................................ ................................ ...........  56 \nTable 42. USBFS DC electrical characteristics  ................................ ................................ .................  56 \nTable 43. USBFS electrical characteristics  ................................ ................................ ........................  56 \nTable 44. ADC characteristics  ................................ ................................ ................................ ............  57 \nTable 45. R AIN max for f ADC = 14MHz  ................................ ................................ ................................ . 58 \nTable 46. R AIN max for f ADC = 28 MHz(1) ................................ ................................ .............................  58 \nTable 47. ADC accuracy (1) ................................ ................................ ................................ .................  58 \nTable 48. Internal r eference voltage characteristics  ................................ ................................ ..........  60 \nTable 49. Temperature sensor characteristics  ................................ ................................ ...................  60 \nTable 50. LQFP64 – 10 x 10 mm 64 pin low -profile quad flat package mechanical data  .................  63 \nTable 51. LQFP48 – 7 x 7 mm 48 pin low -profile quad flat package mechanical data  .....................  65 \nTable 52. QFN48 – 6 x 6 mm 48 pin quad flat no -leads package mechanical data  .........................  67 \nTable 53. QFN32 – 4 x 4 mm 32 pin quad flat no -leads package mechanical data  .........................  69 \nTable 54. Package thermal characteristics  ................................ ................................ ........................  70 \nTable 54. AT32F413 ordering information scheme  ................................ ................................ ............  71 \nTable 56. Document revision history  ................................ ................................ ................................ .. 72 \nAT32F413 Series Datasheet  \n2022.6.6  7 Ver 2.01  \nList of figures  \nFigure 1. AT32F413 block diagram  ................................ ................................ ................................ ... 11 \nFigure 2. AT32F413 LQFP64 pinout  ................................ ................................ ................................ .. 21 \nFigure 3. AT32F413 LQFP48 pinout  ................................ ................................ ................................ . 21 \nFigure 4. AT32F413 QFN48 pinout  ................................ ................................ ................................ ... 22 \nFigure 5. AT32F413 QFN32 pinout  ................................ ................................ ................................ ... 23 \nFigure 6 . Memory map  ................................ ................................ ................................ .......................  28 \nFigure 7 . Power supply scheme  ................................ ................................ ................................ ........  29 \nFigure 8. Power on reset and low voltage reset waveform  ................................ ...............................  33 \nFigure 9 . Typical current consumption in Deepsleep mode vs. temperature at different V DD ...........  39 \nFigure 10 . Typical current consumption in Standby mode vs. temperature at different V DD .............  40 \nFigure 11 . Typical current consumption on V BAT with L EXT and RTC ON vs. temperature at different \nVBAT ................................ ................................ ................................ ................................ ... 40 \nFigure 12 . HEXT t ypical application with an 8 MHz crystal  ................................ ...............................  42 \nFigure 13 . HEXT external source AC timing diagram ................................ ................................ ........  43 \nFigure 14 . LEXT t ypical application with a 32.768 kHz crystal  ................................ .........................  44 \nFigure 15 . LEXT external source AC timing diagram  ................................ ................................ ........  45 \nFigure 16. HICK clock frequency accuracy vs. temperature  ................................ .............................  46 \nFigure 17 . Recommended NRST pin protection  ................................ ................................ ...............  50 \nFigure 18 . SPI timing diagram - slave mode and CPHA = 0  ................................ .............................  52 \nFigure 19 . SPI timing diagram - slave mode and CPHA = 1  ................................ .............................  52 \nFigure 20 . SPI timing diagram - master mode  ................................ ................................ ...................  52 \nFigure 21 . I2S slave timing diagram (Philips protocol)  ................................ ................................ ...... 53 \nFigure 22 . I2S master timing diagram (Philips protocol)  ................................ ................................ .... 54 \nFigure 23 . SDIO high -speed mode  ................................ ................................ ................................ .... 55 \nFigure 24. SD default mode  ................................ ................................ ................................ ...............  55 \nFigure 25 . USBFS timings: definition of data signal rise and fall time  ................................ ..............  56 \nFigure 26 . ADC accuracy characteristics  ................................ ................................ ..........................  59 \nFigure 2 7. Typical connection diagram using the ADC  ................................ ................................ ..... 59 \nFigure 28 . Power supply and reference decoupling  ................................ ................................ ..........  59 \nFigure 29 . VTS vs. temperature  ................................ ................................ ................................ ..........  61 \nFigure 30 . LQFP64 – 10 x 10 mm 64 pin low -profile quad flat package outline  ...............................  62 \nFigure 31 . LQFP48 – 7 x 7 mm 48 pin low -profile quad flat package outline  ................................ ... 64 \nFigure 32 . QFN48 – 6 x 6 mm 48 pin quad flat no -leads package outline  ................................ ........  66 \nAT32F413 Series Datasheet  \n2022.6.6  8 Ver 2.01  \nFigure 33 . QFN32 – 4 x 4 mm 32 pin quad flat no -leads package outline  ................................ ........  68 \nFigure 34 . Marking example  ................................ ................................ ................................ ..............  69 \nAT32F413 Series Datasheet  \n2022.6.6  9 Ver 2.01  \n1 Descriptions  \nThe AT32F 413 is based on the  high-performance ARM® Cortex®-M4 32-bit RISC core operating at \na frequency of up to 200 MHz. The Cortex®-M4 core features a single -precision  Floating Point U nit \n(FPU) that supports all ARM single -precision data processing instructions and data type s. It also \nimplements a full set of DSP instructions and a memory protection unit (MPU) which enhances \napplication security.  \nThe AT32F 413 incorporates high -speed embedded memories (up to 256 Kbytes of Flash memory, \n64 Kbytes of SRAM ), external SPI Flash (up to 16 Mbytes addressing capability), and a wide range \nof enhanced I/Os and peripherals connected to two APB buses.  Any block of the embedded Flash \nmemory can be protected by the sLib, functioning as a security area with code -executable  only.  \nThe AT32F 413 offers two 12-bit ADC s, five general -purpose 16 -bit timers plus two general -purpos e \n32-bit timers, and up to two  PWM timers for motor co ntrol. They also feature  standard and \nadvanced communication interfaces, including up to two I2Cs, two SPIs (all multiplexed as I2Ss), \nan SDIO , five  USARTs /UARTs , an USB FS, and two  CAN s. \nThe AT32F 413 operates in the -40 to +105 °C temperature range, from a 2.6 to 3.6 V power \nsupply. A comprehensive set of power -saving mode allows the design of low -power application.  \nThe AT32F413 offers devices in different package types. They are fully pin-to-pin, software and \nfunctionality  compa tible among  the entire AT32F413 series devices, except that  the configurations \nof peripherals are not completely identical, d epending on the package types.  \n \nAT32F413 Series Datasheet  \n2022.6.6  10 Ver 2.01  \nTable 2. AT32F413  features and peripheral counts  \nPart Number  AT32F413xx U7-4 AT32F413xx U7 AT32F413xx T7 \nKB KC CB CC C8 CB CC RB RC \nCPU frequency  (MHz)  200 Int. Flash \n(1)(2) ZW (KBytes)  96 96 64 96 96 \nNZW ( KBytes ) 32 160 32 160 0 32 160 32 160 \nTotal  (KBytes ) 128 256 128 256 64 128 256 128 256 \nSRAM ( KBytes )(2) 32 / 64 / 16  (configurable ) 32 32 / 64 / 16  (configurable ) Timers  Advanced -control(3) 1 1 1 2 1 1 2 1 2 \n32-bit general -purpose  2 2 2 2 \n16-bit general -purpose  5 5 5 5 \nSysTick  1 1 1 1 \nWDT  1 1 1 1 \nWWDT  1 1 1 1 \nRTC 1 1 1 1 Communication  I2C 2 2 2 2 \nSPI/I2S 2/2(4) 2/2(4) 2/2(4) 2/2 \nUSART+UART  2+0 3+0 3+0 3+2 \nSDIO  1(5) 1(5) 1(5) 1 \nUSBFS d evice  1 1 1 1 \nCAN  2 2 2 2 Analog  \n12-bit ADC numbers /channels  2 \n10 10 10 16 \nSPIM(6) 1 ch / up to 16 MB  \nGPIO  27 39 39 55 \nOperating temperatures  -40 to + 105 ° C \nPackages  QFN32  \n4 x 4 mm  QFN48  \n6 x 6 mm  LQFP48  \n7 x 7 mm  LQFP64  \n10 x 10 mm  \n(1)  ZW = zero wait -state, up to SYSCLK 200 MHz \nNZW = non -zero wait -state  \n(2) The internal Flash and SRAM si zes are configurable with user system data . Take the AT32F413RCT7 as an example, on \nwhich the Flash/SRAM can be configured into three options below:  \n- ZW: 96 KBytes, NZW: 160 KBytes, SRAM: 32 KBytes (factory -shipping default);  \n- ZW: 64 KBytes, NZW: 192 KBytes, SRAM: 64 KBytes;  \n- ZW: 112 KBytes, NZW: 144 KBytes, SRAM: 16 KBytes.  \n(3) For advanced -contro l timers, AT32F413RC T7 and AT32F413CC x7 support TMR1 and TMR8, others support only TMR1.  \n(4) For LQFP 48, QFN48 and  QFN32 packages, only I2S1 supports MCK pin.  \n(5) For LQFP 48, QFN48 and  QFN32 packages, SDIO supports maximum 4 -bit (D0~D3) mode.  \n(6) SPIM = Ex ternal SPI Flash memory extension (for both program execution and data storage) with encryption capability.  \n \n  \n \n \nAT32F413 Series Datasheet  \n2022.6.6  11 Ver 2.01  \n2 Functional  overview  \n2.1 ARM® Cortex®-M4 with FPU  \nThe ARM C ortex®-M4 processor is the latest generation of ARM processors for embedded systems. \nIt is a 32 -bit RISC processor that features exceptional code efficiency, outstanding computational \nperformance and advanced interrupt response mechanism . The processor supports a set of DSP \ninstructions which enable efficient signal processing and complex algorithm execution. Its single \nprecision FPU (floating point unit) speeds up floating point calculation while avoiding saturation. \nFigure 1 shows the general block diagram of the AT32F4 13. \nFigure 1. AT32F4 13 block diagram  \n@VDD\n@VDDA@VBAT@VDDARM\nCortex -M4\n (Max. frequency  200 \nMHz)\nAHB bus matrix  (Max. frequency 200 MHz)\nDMA 1\n7 channels\nDMA 2\n7 channelsSRAM\ncontrollerFlash\ncontrollerFlash\nSRAM\nAPB2\nbridgeAPB1\nbridge\nAPB2 bus (Max. frequency 100 MHz)APB1 Bus (Max. frequency 100 MHz)CRM\nTMR 2/5\nTMR 3/4\nRTC WWDTPWC\nUSART 2/3\nUART 4/5\nUSBFS 1\nCAN1/2BPRWDTIOMUX\nEXINTGPIOA /B/C/D/F\nTMR 1/8\nUSART 1 I2C1/2\nTMR 9/10/11\nADCIF 1\nADCIF 2 ADC 2ADC 1HICK 48 MHz\nLICKPLL\nLEXT\n32 kHzPOR /LVR\nPVM\nLDO 1.2VSWD /JTAG\nNVICHCLKFCLK\nPCLK 1\nPCLK 2HEXT 4~25 MHz\nTemp . \nsensorSDIO 1\nSPI1 / I2S1 SPI2 / I2S2\nACCSRAM 1280  bytes(2)\n \n(1) USBFS and CAN  share dedicated 1280 -Byte buffers, which offer four configuration  options:  \n- USBFS1: 1280  Bytes； \n- USBFS1: 1024  Bytes , CAN1: 256  Bytes;  \n- USBFS1: 1024  Bytes , CAN2: 256  Bytes ; \n- USBFS1: 768  Bytes , CAN1: 256  Bytes , CAN2: 256  Bytes . \nAT32F413 Series Datasheet  \n2022.6.6  12 Ver 2.01  \n2.2 Memory  \n2.2.1  Internal Flash memory  \nUp to 256 Kbytes of embedded Flash is available for storing programs and data.  Any part of the \nembedded Flash memory can be protected by the sLib (security library) , a security area that is  \ncode -executable only but non -readable. sLib is a mechanism designed to prot ect the intelligence  of \nsolution vendors and facilitate the second -level development by customers.  \nThe AT32F 413 provides an extra interface called SPIM (SPI memory), which interfaces the external \nSPI Flash memory for program  and data  storage . With up to 16 MBytes addressing capability, \nSPIM can be used as an extensive Flash memory Bank 3. Besides, SPIM can be encrypted \nthrough the User System Data block to ensure data security, and the encryption range can be \nconfigured through the corresponding control register.   \nThere is another 18 -KByte boot code area in which the bootloader is stored.  \nA User  System Data block is included, which is used to  configure such hardware behaviors as \nread/erase/write protection a nd watchdog self -enable. User System Data allows  to set erase/write \nand read protection individually.  \n2.2.2  Memory protection unit (MPU)  \nThe memory protection unit (MPU)  is used to manage the CPU accesses to memory to prevent one \ntask to accidentally corrupt the memory or resources used by any other active ta sk. This memory \narea consists of up to 8 protected areas that can in turn be divided up into 8 subareas. The \nprotection area sizes ar e between 32 bytes and the entire  4 gigabytes of addressable memory. The \nMPU is especially suited to the applications where some critical or certified code has to be \nprotected against the misbehavior of other tasks. It is usually managed by an RTOS (real -time \noperating system).  \n2.2.3  Embedded S RAM  \nThe device offers u p to 64 Kbytes of embedded SRAM that is accessible  (read/write) at CPU clock \nspeed with 0 wait states.  \nAT32F413 Series Datasheet  \n2022.6.6  13 Ver 2.01  \n2.3 Interrupts  \n2.3.1  Nested vectored interrupt controller (NVIC)  \nThe AT32F4 13 embed s a nested vectored interrupt controller that is able to manage 16 priority \nlevels and handle maskable interrupt channels plus 16 interrupt lines of the Cortex®-M4 core. This \nhardware block provides flexible interrupt management features with minimal interrupt latency.  \n2.3.2  External interrupts (EXINT)  \nThe external interrupt (EXINT), which is connected di rectly with NVIC, consists of 19  edge detector \nlines used to generate interrupt requests. Each line can be independently configured to select the \ntrigger event (rising edge, falling edge, both) and can be masked inde pendently. A pending register \nmaintains the status of the interrupt requests. The external interrupt lines connects up to 16 GPIOs.  \n2.4 Power control (PWC)  \n2.4.1  Power supply schemes  \n\uf06c VDD = 2.6～3.6 V : an external power supply for GPIOs and the internal block such as regulator \n(LDO) , provided externally  through V DD pins.  \n\uf06c VDDA = 2.6～3.6 V: an external analog power supply for ADC s. VDDA and V SSA must be the \nsame voltage potential as V DD and V SS, respectively.  \n\uf06c VBAT = 1.8～3.6 V: power  supply for VBAT domain through  an external battery or external super \ncapacitor, or through  VDD when the ex ternal battery or super capacitor is not present . VBAT \n(through power switch) supplies RTC, external crystal 32 kHz (LEXT), and battery powered \nregisters (BPR) when V DD is not present.  \n2.4.2  Reset and power voltage monitor  (POR / LVR / PVM)  \nThe device has an integrated power -on reset (POR)/low voltage reset (LV R) circuitry.  It is always \nactive, and ensures  proper operation starting from/down to 2.6 V. The device remains in reset \nmode when V DD goes below a specified threshold (V LVR), without the need for an external reset \ncircuit.  \nThe device embeds a power voltage monitor (PVM) that monitors the V DD power supply and \ncompares it to the V PVM threshold. An interrupt can be generated when V DD drops below the V PVM \nthreshold and/or when V DD rises above the V PVM threshold. The PVM is enabled by software.  \n2.4.3  Voltage regulator (LDO)  \nThe LDO has two  operating modes: normal  and power down.  \n\uf06c Normal mode : It is used in Run/Sleep mode and in Deepsleep mode;  \n\uf06c Power-down mode : It is used in Standby mode: The regulator output is in high impedance and \nthe kernel circuitry is powered down but the contents of the registers and SRAM are lost.  \nThe LDO operates always in normal mode after reset.  \nAT32F413 Series Datasheet  \n2022.6.6  14 Ver 2.01  \n2.4.4  Low-power modes  \nThe AT 32F4 13 supports three low -power modes:  \n\uf06c Sleep mode  \nIn Sleep mode, only the CPU is stopped. All peripherals continue to operate and can wake up \nthe CPU when an interrupt/event occurs.  \n\uf06c Deepsleep mode  \nDeepsleep  mode achieves the lowest power consumption while retaining the content s of \nSRAM and registers. All clocks in the LDO power domain are stopped, disabling the PLL, the \nHICK clock, and the HEXT crystal  oscillators . The voltage regulator can also be put in normal \nor low -power mode . \nThe device can be woken up from Deepsleep mode by any of the EXINT line. The EXINT line \nsource can be one of the 16 exte rnal lines, the PVM output, the RTC alarm or the USBFS \nwakeup signals.  \n\uf06c Standby mode  \nThe Standby  mode is used t o achieve  the lowest power consumption. The internal voltage \nregulator is switched off so that the entire LDO power domain is powered off. The PLL, the \nHICK clock and the HEXT crystal oscillators are also switched off. After entering Standby \nmode, SRAM and  register contents are lost except for registers in the BPR domain and \nStandby circuitry.  \nThe device leaves Standby mode when an external reset (NRST pin), a WDT reset, a rising \nedge on the WKUP pin, or  an RTC alarm occurs.  \nNote:  The RTC, IWDG  and the corresponding clock sources are not stopped while  entering Deepsleep or \nStandby mode.  \n2.5 Boot modes  \nAt startup, boot pins are used to select one of three boot options:  \n\uf06c Boot from the internal  Flash  memory ; \n\uf06c Boot from boot code area;  \n\uf06c Boot from embedded  SRAM.  \nThe b ootloader is stored in boot code area. It is used to reprogram the Flash memory through \nUSART1, USART2, or USBFS1 . If SPIM_IO0/1 pins are mapped on USB pins, t he Flash memory \nBank 3 cannot be reprogrammed through USB FS1. Table 3 presents AT32F413 pin configurations \nrelative to  Bootloader . \nAT32F413 Series Datasheet  \n2022.6.6  15 Ver 2.01  \nTable 3. Bootloader pin configurations  \nPeripheral  Pin \nUSART1  PA9: USART1_TX  \nPA10: USART1_RX  \nUSART2  PA2: USART2_TX(1) \nPA3: USART2_RX(1) \nUSBFS1 PA11: USB FS1_D+  \nPA12: USB FS1_D - \n(1)    Note that pins used are not 5 V tolerant.  \n \n2.6 Clocks  \nOn reset, t he internal 48 MHz clock (HICK) , after being  divided by 6 (that is  8 MHz) , is selected as \nthe default CPU clock. The application can select a n external 4 to 25 MHz clock (HEXT)  source as \na system clock. This clock can be  monitored for failure. If a failure is detected, HEXT will be \nswitched off and the system automatically switch es back to the internal HICK. A software interrupt \nis generated. Similarly, the system take the same action as soon as  HEXT fails when it is used as \nthe source of PLL.  \nSeveral prescalers are available to allow  the configuration of the AHB and the APB (APB1 and \nAPB2) frequency. The maximum fr equency of the AHB domain is 200  MHz. The maximum allowed \nfrequency of the APB domains is 100  MHz.  \nThe AT 32F413  embeds an automatic clock calibration (ACC) block, which cali brates the internal 48 \nMHz HICK clock, assuring the mos t precise accuracy of the HICK over the full  operating \ntemperatures.  \n2.7 General -purpose inputs / outputs (GPIO s) \nEach of the GPIO pins can be configured by software as output (push -pull or open -drain), as  input \n(with or without pull -up or pull -down), o r as multiple peripheral function. Most of the GPIO pins are \nshared with digital or analog multiple functions. All GPIOs are high current -capable.  \nThe GPIO  configuration can be locked, if needed, in order to avoid false writing to the GPIO \nregisters by following a specific sequence.  \n2.8 Remap capability  \nThis feature allows the use of a maximum number of peripherals in a given application. Indeed, \nalternate functions are available not only on the default pins but also on other  specific pins onto \nwhich they are remappable. This has the advantage of making board  design and port usage much \nmore flexible.  \nFor details , refer t o Table 5, which gives  a list of remappable alternate  functions and the pins onto \nwhich they can be remapped. See the AT32F413  reference  manual for software configurations . \n \nAT32F413 Series Datasheet  \n2022.6.6  16 Ver 2.01  \n2.9 Direct Memory Access Controller (DMA)  \nThe device features two  14-channel general -purpose DMAs (7 channels for DMA1 and 7 channels \nfor DMA2) . They  are able to manage memory -to-memory, peripheral -to-memory, and memory -to-\nperipheral transfers. The two DMA controllers support circular buffer management, removing the \nneed f or user code intervention when the controller reaches the end of the buffer.  \nEach channel is connected to  dedicated hardware DMA request logic , with support for software \ntrigger on each channel. Configuration is made by software and transfer sizes between source and \ndestination are independent.  \nThe DMA can be used with the main peripherals: SPI, I2C, USART, general -purpose  and \nadvanced -control timers TMRx, I2S, SDIO, and ADC.  \n2.10 Timers (TMR)  \nThe AT32F4 13 device include two advanced timers, seven general -purpos e timers, two  basic \ntimers and a SysTick timer.  \nThe table below compares the features of the advanced, general -purpose, and basic timers.  \nTable 4. Timer feature comparison  \nType Timer  Counter \nresolution  Counter type  Prescaler \nfactor  DMA request \ngeneration  Capture/comp\nare channels  \nTMR 1, TMR8  16-bit Up, down, \nup/down  Any integer \nbetween 1 and \n65536  Yes 4 Yes \nTMR 2, TMR 5 32-bit Up, down, \nup/down  Any integer \nbetween 1 and \n65536  Yes 4 No \nTMR 3, TMR 4 16-bit Up, down, \nup/down  Any integer \nbetween 1 and \n65536  Yes 4 No \nTMR 9 16-bit Up Any integer \nbetween 1 and \n65536  No 2 No \nTMR 10, TMR 11 16-bit Up Any integer \nbetween 1 and \n65536  No 1 No \n \n2.10.1  Advanced timers (TMR1  and TMR8 ) \nThe two  advanced timers (TMR1  and TMR8 ) can each be seen  three -phase PWM  generators  \nmultiplexed on 6 channels. They have complementary PWM outputs with programmable dead -time \ninsertion . Each of these timers can also be seen as a complete general -purpose timer.  \nTheir four  independent channels can be used for:  \n\uf06c Input capture  \n\uf06c Output compare  \n\uf06c PWM generation (edge or center -aligned modes)  \nAT32F413 Series Datasheet  \n2022.6.6  17 Ver 2.01  \n\uf06c One-cycle mode output  \nIf configured as standard 16 -bit timer s, they have  the same features as the TMRx timer s. If \nconfigured as 16 -bit PWM generator s, they have  full modulation capability (0 to 100%).  \nIn debug mode, the counter c an be frozen and the PWM output can be  disabled to turn off any \npower switch driven by these outputs.  \nMany features are shared with those of the general -purpose timers  which have the same  \narchitecture. The advanced timer can ther efore work together with the general -purpose  timers via \nthe timer link feature for synchronization or event chaining.  \n2.10.2  General -purpose timers ( TMR x) \nThere are seven  synchronizable general -purpose tim ers embedded in the AT32F413 . \n\uf06c TMR2, TMR3, TMR4 , and TMR5  \nThe AT32F4 13 has four  full- featured general -purpose timers: TMR2, TMR3, TMR4, and \nTMR5. The TMR2 and TMR5 timers are based on a 32 -bit auto -reload up/down counter and a \n16-bit prescaler. The TMR3 and TMR4 timers ar e based on a 16 - bit auto -reload up/down \ncounter and a 16 -bit prescaler. They can offer four independent channels on the largest \npackages. Each channel can be used for input capture/output compare, PWM or one -cycle \nmode outputs.  \nThese general -purpose timer s can work with the advanced timers via the link feature for \nsynchronization or event chaining. In debug mode, their counter can be frozen. Any of these \ngeneral -purpose timers can be used to generate PWM outputs. Each timer has its individual \nDMA request m echanism.  \nThese timers are capable of handling incremental quadrature encoder signals and the digital \noutputs coming from 1 to 3 hall -effect sensors.  \n\uf06c TMR9  \nTMR9  is based on a 16 -bit auto -reload upcounter, a 16 -bit prescaler, and two independent \nchannels for  input capture/output compare, PWM, or one -cycle mode output. They can be \nsynchronized with the TMR2, TMR3, TMR4, and TMR5 full -featured general -purpose timers. \nThey can also be used as simple time bases.  \n\uf06c TMR10  and TMR11  \nThese timers are based on a 16 -bit auto -reload upcounter, a 16 -bit prescale r, and one \nindependent channel for input capture/output compare, PWM, or one -cycle mode output. They \ncan be synchronized with the TMR2, TMR3, TMR4, and TMR5 full -featured general -purpose \ntimers. They can also be used as simple time bases.  \n2.10.3  SysTick timer  \nThis timer is dedicated to real -time operating systems, but could also be used as a standard down \ncounter. Its features include:  \n \n\uf06c A 24-bit down counter  \n\uf06c Autoreload capability  \n\uf06c Maskable s ystem interrupt generation when the counter reaches 0  \n\uf06c Programmable clock source  \nAT32F413 Series Datasheet  \n2022.6.6  18 Ver 2.01  \n2.11 Watchdog (WDT)  \nThe watchdog consists of a 12 -bit down  counter and 8 -bit prescaler. It is clocked by an independent \ninternal LICK clock. As it operates independently from the ma in clock, it can operate in Deepsleep \nand Standby modes. It can be used either as a watchdog to reset the device when an error occurs, \nor as a free running timer for application timeou t management. It is self -enabled through User \nSystem Data . The counter c an be frozen in debug mode.  \n2.12 Window watchdog (WWDT)  \nThe window watchdog embeds a 7 -bit down  counter that can be set as free running. It can be used \nas a watchdog to reset the device when an error occurs. It is clocked by the main clock. It has an \nearly warn ing interrupt capability and the counter can be frozen in debug mode.  \n2.13 Real-time clo ck (RTC) and battery powered registers (BPR)  \nThe RTC and the battery powered registers are supplied  through a power switch  that is powered \neither from VDD When present or from the VBAT pin. The battery powered  registers are forty -two 16-\nbit registers used to store 84 bytes of user application data. They are not reset by a system , power \nreset  or when the device wakes up from Standby mode.  \nThe real -time clock consists of a co ntinuous -running counter.T he RTC  provides clock calendar, and \nalarm interrupt and periodic interrupt  functions through software . It is clocked b y a 32.768 kHz \nexternal crystal (LEXT) , the internal low -power RC oscillator  (LICK) , or the high -speed external \nclock (HEXT) divided by 128. The RTC can be calibrated using a divied -by-64 output of TAMPER \npin to compensate for any natural quartz deviation. The RTC features a 32 -bit programmable \ncounter that allows  long time measurement w ith the help of  the compare register. A 20 -bit prescaler \nis used as the time base clock and is by default configured to generate a time base of 1 second \nfrom a clock at 32.768 kHz.  \n2.14 Communication interface s \n2.14.1  Serial peripheral interface (SPI) / Inter -integrat ed sound interface \n(I2S) \nThere are two SPI interfaces  able to communicate at up to 36 Mbits/s in slave and master modes in \nfull-duplex and simplex communication modes. The 3 -bit prescaler  generates eight master mode \nfrequencies and the frame is configurable to 8 bits or 16 bits. The hardware CRC \ngeneration/verification supports basic SD card/MMC/SDHC modes. All SPIs can be served by the \nDMA controller.  \nTwo standard I2S interfaces (multiple xed with SPI) are available, which can be operated in master \nor slave mode in half -duplex mode.  These interfaces can be configured to operate with 16/24/32 bit \nresolution, as input or output channels. Audio sampling frequencies from 8 kHz up to 192 kHz are  \nsupported. When I2S is configured in master mode, the master clock can be output at 256 times the \nsampling frequency. All I2Ss can be served by  the DMA controller.  \nAT32F413 Series Datasheet  \n2022.6.6  19 Ver 2.01  \n2.14.2  Universal synchronous / asynchronous receiver transmitters \n(USART)  \nThe AT32F413  embeds thre e universal synchronous/asynchronous receiver transmitters (USART1, \nUSART2, and USART3 ) and two  universal asynchronous rece iver transmitters (UART4 and \nUART5 ). \nThese five  interfaces provide asynchronous communication, IrDA SIR ENDEC support, \nmultiprocessor  communication mode, single -wire half -duplex communication mode, and have LIN \nMast er/Slave capability. These five  interfaces are able to communicate at a speeds of u p to 6.25  \nMbit/s.  \nUSART1, USART2, and USART3 provide hardware management of the CTS and RTS signals. \nThey also provide Smart Card mode (ISO 7816 compliant) and SPI -like communication capability. \nAll interfaces can be served by the DMA controller except UART5.  \n2.14.3  Inter -integrated -circuit interface  (I2C) \nUp to two I2C bus interfaces can operate in multi -master and slave modes. They support standard \nmode  (max. 100 kHz) , fast mode (max. 400 kHz), and fast mode plus (max. 1 MHz). For more \ndetails about the complete solution, please contact your local Artery sales representative.  \nThey support 7/10 -bit addressing mode and 7 -bit dual addressing mode (as slave). A hardware \nCRC generation/verification is included.  \nThey can be served by DMA and they support SMBu s 2.0/PMBus. \n2.14.4  Secure digital input / output inte rface (SDIO)  \nOne SD/SDIO/MMC host interface is available  to support MultiMediaCard System Specification \nVersion 4.2 in three different data bus modes: 1 -bit (default), 4 -bit and 8 -bit. The interface allows \ndata transfer at up to 48 MHz in 8 -bit mode, and is compliant with SD Memory Card Specifications \nVersion 2.0.  \nThe SDIO Card Specification Version 2.0 is also supported with two different data bus modes: 1 -bit \n(default) and 4 -bit. \nThe current version supports only one SD/SDIO/MMC4.2 card at any one time and a stack of \nMMC4.1 or previous.  \nIn addition to SD/SDIO/MMC /eMMC , this interface is also fully compliant with the CE -ATA digital \nprotocol Rev1.1.  \n2.14.5  Controller area network (CAN)  \nThe t wo CANs are compliant with the 2.0A a nd B (active) specifications with a bit rate up to 1 \nMbit/s. They can receive and transmit standard frames with 11 -bit identifiers as well as extended \nframes with 29 -bit identifiers. Eac h CAN  has three transmit mailboxes, two receive buffers with 3 \nstages, and 14 scalable filter banks.   \nAT32F413 Series Datasheet  \n2022.6.6  20 Ver 2.01  \n2.14.6  Universal seri al bus full -speed (USB FS) \nAT32F 413 embeds a n USB device peripheral compatible with the USB full -speed 12 Mbit/s. It has \nsoftware -configurable endpoint setting and suspend/resume support. The USB requires a \ndedicated 48 MHz clock  that is generated by the internal main PLL  or direct from the 48 MHz HICK . \n2.15 Cyclic redundancy check (CRC) calculation unit  \nThe CRC (cyclic redundancy check) calculation unit is used to get a CRC code from a 32 -bit data \nword  using a fixed generator polynomial. Among other applications, CRC -based techniques are \nused to verify data transmission or storage integrity.  \n2.16 Analog -to-digital converter (ADC)  \nTwo 12-bit analog -to-digital converters are embedded into AT32F 413 devices and they share up to \n16 external channels, performing conversions in single -shot or sequencel modes. In sequence  \nmode, automatic conversion is performed on a selected group of analog inputs.  \nAdditional logic functions embedded in the ADC interface  allow:  \n\uf06c Simultaneous sample and hold  \n\uf06c Interleaved sample and hole  \n\uf06c Single -shot sample  \nThe ADC can be served by the DMA controller.  \nThe voltage monitoring  feature allows very precise monitoring of the converted voltage of one, \nsome or all selected channels. An interrupt is generated when the converted voltage is outside the \nprogrammed thresholds.  \nThe events generated by the general -purpose timers (TMRx) and  the advanced -control timers \n(TMR1  and TMR8) can be intern ally connected to the ADC regular trigger and injection trigger, \nrespectively, to allow t he application to synchronize A DC conversion and timers.  \n2.16.1  Temperature sensor (V TS) \nThe temperature sensor generates a voltage V TS that varies linearly with temperature. The \ntemperature sensor is internally connected to t he ADC1_IN16 input channel that  is used to convert \nthe sensor output voltage into a digital value.  \nThe offset of this line varies from chip to  chip due to process variation. The internal temperature \nsensor is more suited to applications that detect temperature variations instead of absolute \ntemperatures. If accurate temperature readings are needed, an external temperature sensor part \nshould be u sed. \n2.16.2  Internal reference voltage (V INTRV) \nThe internal reference voltage (V INTRV) provides a stable voltage source for ADC. The V INTRV is \ninternally connected to the ADC1_IN17 input channel.  \n2.17 Serial wire (SWD) / JTAG debug port  \nThe ARM® SWJ -DP Interface is embedded, consisting of a  serial wire and JTAG debug port , It \nenables either a serial wire debug or a JTAG probe to be connected to the target for programming \nand debug operation. The JTAG TMS and TCK pins are shared respectively with SWDIO and \nSWCLK.  \nAT32F413 Series Datasheet  \n2022.6.6  21 Ver 2.01  \n3 Pin functional definitions  \nFigure  2. AT32F413 LQFP6 4 pinout  \nLQFP641\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16VBAT\nTAMPER_RTC/PC13\nLEXT_IN/PC14\nLEXT_OUT/PC15\nHEXT_IN/PD0\nHEXT_OUT/PD1\nNRST\nPC0\nPC1\nPC2\nPC3\nVSSA/VREF-\nVDDA/VREF+\nWKUP/PA0\nPA1\nPA2\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32PA3\nPF4\nPF5\nPA4\nPA5\nPA6\nPA7\nPC4\nPC5\nPB0\nPB1\nPB2\nPB10\nPB11\nVSS\nVDD47\n46\n45\n44\n43\n42\n41\n40\n38\n37\n36\n35\n34\n33PF7\nPF6\nPA13\nPA12\nPA11\nPA10\nPA9\nPA8\nPC9\nPC8\nPC7\nPC6\nPB15\nPB14\nPB13\nPB12495051525354555657585960616263\nPA14PA15PC10PC11PC12PD2PB3PB4PB5PB6PB7BOOT0PB8PB9VSS64VDD\n48\n39\n \nFigure 3. AT32F4 13 LQFP48  pinout  \nLQFP481\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12VBAT\nTAMPER_RTC/PC13\nLEXT_IN/PC14\nLEXT_OUT/PC15\nHEXT_IN/PD0\nHEXT_OUT/PD1\nNRST\nVSSA/VREF-\nVDDA/VREF+\nWKUP/PA0\nPA1\nPA2\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24PA3\nPA4\nPA5\nPA6\nPA7\nPB0\nPB1\nPB2\nPB10\nPB11\nVSS\nVDD35\n34\n33\n32\n31\n30\n29\n28\n26\n25PF7\nPF6\nPA13\nPA12\nPA11\nPA10\nPA9\nPA8\nPB15\nPB14\nPB13\nPB123738394041424344454647\nPA14PA15PB3PB4PB5PB6PB7BOOT0PB8PB9VSS48VDD\n36\n27\n \nAT32F413 Series Datasheet  \n2022.6.6  22 Ver 2.01  \nFigure 4. AT32F4 13 QFN48  pinout  \nQFN481\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12VBAT\nTAMPER_RTC/PC13\nLEXT_IN/PC14\nLEXT_OUT/PC15\nHEXT_IN/PD0\nHEXT_OUT/PD1\nNRST\nVSSA/VREF-\nVDDA/VREF+\nWKUP/PA0\nPA1\nPA2\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24PA3\nPA4\nPA5\nPA6\nPA7\nPB0\nPB1\nPB2\nPB10\nPB11\nVSS\nVDD35\n34\n33\n32\n31\n30\n29\n28\n26\n25PF7\nPF6\nPA13\nPA12\nPA11\nPA10\nPA9\nPA8\nPB15\nPB14\nPB13\nPB123738394041424344454647\nPA14PA15PB3PB4PB5PB6PB7BOOT0PB8PB9VSS48VDD\n36\n27\nEPAD49\n \nAT32F413 Series Datasheet  \n2022.6.6  23 Ver 2.01  \nFigure 5. AT32F4 13 QFN32  pinout  \nQFN321\n2\n3\n4\n5\n6\n7\n8VDD\nPD0/HEXT_IN\nPD1/HEXT_OUT\nNRST\nVDDA\nWKUP/PA0\nPA1\nPA2\n9\n10\n11\n12\n13\n14\n15\n16PA3\nPA4\nPA5\nPA6\nPA7\nPB0\nPB1\nPB224\n23\n22\n21\n20\n18\n17PA13\nPA12\nPA11\nPA10\nPA9\nPA825262728293031\nPA14PA15PB3PB4PB5PB6PB7BOOT0PB8 32\n19\nVSS/VSSA33\nVDD\n \n \nAT32F413 Series Datasheet  \n2022.6.6  24 Ver 2.01  \nThe table below is the pin definition of the AT32F 413. ”-” presents there is no such pinout on the \nrelated package. The multi -functions list follows priority from high to low. In principle, the analog \nsignals have \\priority over  the digital signals, and the digital output signals have priority over  the \ndigital input signals.  \nTable 5. AT32F4 13 series pin definitions  \nPin number  \nPin name  \nType(1) \nGPIO level(2) \nMain \nfunctions(3) Alternate functions (4) QFN32  \nLQFP48\nQFN48  \nLQFP64  \nDefault  Remap  \n- 1 1 VBAT S - VBAT - - \n- 2 2 TAMPER -RTC /  \nPC13(5) I/O - PC13(6) TAMPER -RTC - \n- 3 3 LEXT_IN / \nPC14(5) I/O - PC14(6) LEXT_IN  - \n- 4 4 LEXT_OUT / \nPC15(5) I/O - PC15(6) LEXT_OUT  - \n2 5 5 HEXT_IN /  \nPD0(8) I/O - HEXT_IN  - PD0(8) \n3 6 6 HEXT_OUT /  \nPD1(8) I/O - HEXT_OUT  - PD1(8) \n4 7 7 NRST  I/O - NRST  - - \n- - 8 PC0 I/O - PC0 ADC12_IN10  SDIO1_D0  \n- - 9 PC1 I/O - PC1 ADC12_IN11  SDIO1_D1  \n- - 10 PC2 I/O - PC2 ADC12_IN12  SDIO1_D2  \n- - 11 PC3 I/O - PC3 ADC12_IN13  SDIO1_D3  \n- 8 12 VSSA / VREF- S - VSSA / VREF- - - \n5 9 13 VDDA / VREF+ S - VDDA / VREF+ - - \n6 10 14 PA0 / WKUP  I/O - PA0 ADC12_IN0 / WKUP /   \nUSART2_CTS /  \nTMR2_CH1(7) / TMR2_EXT(7) /  \nTMR5_CH1(7) / TMR8_EXT  - \n7 11 15 PA1 I/O - PA1 ADC12_IN1 / USART2_RTS /  \nTMR2_CH2(7) / TMR5_CH2(7) - \n8 12 16 PA2 I/O - PA2 ADC12_IN2 / USART2_TX /  \nTMR2_CH3(7) / TMR5_CH3 /  \nTMR9_CH1(7) /  SDIO1_CK  \n9 13 17 PA3 I/O - PA3 ADC12_IN3 / USART2_RX /  \nTMR2_CH4(7) / TMR5_CH4 /  \nTMR9_CH2(7) SDIO1_CMD  \n- - 18 PF4 I/O FT PF4 - UART4_TX / TMR5_CH1  \n- - 19 PF5 I/O FT PF5 - UART4_RX / TMR5_CH2  \n10 14 20 PA4 I/O - PA4 ADC12_IN4 / USART2_CK /  \nSPI1_CS(7) / I2S1_WS(7) SDIO1_D4 / SDIO1_D0  \n11 15 21 PA5 I/O - PA5 ADC12_IN5 / SPI1_SCK(7) /  \nI2S1_CK(7) SDIO1_D5 / SDIO1_D1  \n12 16 22 PA6 I/O - PA6 ADC12_IN6 / SPI1_MISO(7) /  \nTMR3_CH1(7) / TMR8_BRK  SDIO1_D6 / SDIO1_D2 /  \nTMR1_BRK  / TMR10_CH1  \n13 17 23 PA7 I/O - PA7 ADC12_IN7 /  SDIO1_D7 / SDIO1_D3 /  \nAT32F413 Series Datasheet  \n2022.6.6  25 Ver 2.01  \nPin number  \nPin name  \nType(1) \nGPIO level(2) \nMain \nfunctions(3) Alternate functions (4) QFN32  \nLQFP48\nQFN48  \nLQFP64  \nDefault  Remap  \nSPI1_MOSI(7) / I2S1_SD(7) /  \nTMR3_CH2(7) / TMR8_CH1C  TMR1_CH1C / TMR11_CH1  \n- - 24 PC4 I/O - PC4 ADC12_IN14  SDIO1_CK  \n- - 25 PC5 I/O - PC5 ADC12_IN15  SDIO1_CMD  \n14 18 26 PB0 I/O - PB0 ADC12_IN8 / I2S1_MCK(7) /  \nTMR3_CH3(7) / TMR8_CH2C  TMR1_CH2C  \n15 19 27 PB1 I/O - PB1 ADC12_IN9 / SPIM_SCK /  \nTMR3_CH4(7) / TMR8_CH3C  TMR1_CH3C  \n16 20 28 PB2 I/O FT PB2 /  \nBOOT1(9) - - \n- 21 29 PB10  I/O FT PB10  I2C2_SCL(7) / USART3_TX(7) SPIM_IO0 / TMR2_CH3  \n- 22 30 PB11  I/O FT PB11  I2C2_SDA(7) / USART3_RX(7) SPIM_IO1  / TMR2_CH4  \n- 23 31 VSS S - VSS - - \n17 24 32 VDD S - VDD - - \n- 25 33 PB12  I/O FT PB12  USART3_CK(7) / I2C2_SMBA(7) /  \nSPI2_CS(7) / I2S2_WS(7) /  \nCAN2_RX(7) / TMR1_BRK(7) - \n- 26 34 PB13  I/O FT PB13  SPI2_SCK(7) / I2S2_CK(7) /  \nUSART3_CTS / CAN2_TX(7) /  \nTMR1_CH1C(7) / - \n- 27 35 PB14  I/O FT PB14  USART3_RTS /  SPI2_MISO(7) /  \nTMR1_CH2C(7) TMR9_CH1  \n- 28 36 PB15  I/O FT PB15  SPI2_MOSI(7) / I2S2_SD(7) /  \nTMR1_CH3C(7) / TMR9_CH2  \n- - 37 PC6 I/O FT PC6 I2S2_MCK(7) / SDIO1_D6 / \nTMR8_CH1  TMR3_CH1  \n- - 38 PC7 I/O FT PC7 SDIO1_D7  / TMR8_CH2  I2S2_MCK / TMR3_CH2  \n- - 39 PC8 I/O FT PC8 SDIO1_D0  / TMR8_CH3  TMR3_CH3  \n- - 40 PC9 I/O FT PC9 SDIO1_D1  / TMR8_CH4  I2C2_SDA / TMR3_CH4  \n18 29 41 PA8 I/O FT PA8 CLKOUT /  \nUSART1_CK / SPIM_CS  /  \nUSBFS1_SOF  / TMR1_CH1  I2C2_SCL  \n19 30 42 PA9 I/O FT PA9 USART1_TX(7) / TMR1_CH2  I2C2_SMBA  \n20 31 43 PA10  I/O FT PA10  USART1_RX(7) / TMR1_CH3  - \n21 32 44 PA11  I/O - PA11  USBFS1_D - / SPIM_IO0(7) /  \nUSART1_CTS / CAN1_RX(7) /  \nTMR1_CH4  - \n22 33 45 PA12  I/O - PA12  USBFS1_D+ / SPIM_IO1(7) /  \nUSART1_RTS / CAN1_TX(7) /  \nTMR1_EXT  - \n23 34 46 PA13  I/O FT JTMS -\nSWDIO  - PA13  \n- 35 47 PF6 I/O FT PF6 - I2C1_SCL / I2C2_SCL  \nAT32F413 Series Datasheet  \n2022.6.6  26 Ver 2.01  \nPin number  \nPin name  \nType(1) \nGPIO level(2) \nMain \nfunctions(3) Alternate functions (4) QFN32  \nLQFP48\nQFN48  \nLQFP64  \nDefault  Remap  \n- 36 48 PF7 I/O FT PF7 - I2C1_SDA / I2C2_SDA  \n24 37 49 PA14  I/O FT JTCK -\nSWCLK  - PA14  \n25 38 50 PA15  I/O FT JTDI  - PA15 /  \nSPI1_CS / I2S1_WS /  \nSPI2_CS / I2S2_WS  \nTMR2_CH1 / TMR2_EXT /  \n- - 51 PC10  I/O FT PC10  UART4_TX(7) / SDIO1_D2  USART3_TX  \n- - 52 PC11  I/O FT PC11  UART4_RX(7) / SDIO1_D3  USART3_RX  \n- - 53 PC12  I/O FT PC12  UART5_TX / SDIO1_CK  USART3_CK  \n- - 54 PD2 I/O FT PD2 UART5_RX / SDIO1_CMD /  \nTMR3_EXT  - \n26 39 55 PB3 I/O FT JTDO  - PB3 / SWO /  \nSPI1_SCK / I2S1_CK /  \nSPI2_SCK / I2S2_CK /  \nTMR2_CH2  \n27 40 56 PB4 I/O FT NJTRST  - PB4 /  \nSPI1_MISO / SPI2_MISO /  \nI2C2_SDA / TMR3_CH1  \n28 41 57 PB5 I/O FT PB5 I2C1_SMBA  SPI1_MOSI / I2S1_SD /  \nSPI2_MOSI / I2S2_SD /  \nCAN2_RX / TMR3_CH2  \n29 42 58 PB6 I/O FT PB6 I2C1_SCL(7) / SPIM_IO3 /  \nTMR4_CH1  USART1_TX  / CAN2_TX /  \nI2S1_MCK  \n30 43 59 PB7 I/O FT PB7 I2C1_SDA(7) / SPIM_IO2  /  \nTMR4_CH2  USART1_RX  \n31 44 60 BOOT0  I - BOOT0  - - \n32 45 61 PB8 I/O FT PB8 TMR10_CH1(7) /  \nSDIO1_D4 / TMR4_CH3  I2C1_SCL / CAN1_RX  \n- 46 62 PB9 I/O FT PB9 TMR11_CH1(7) /  \nSDIO1_D5 / TMR4_CH4  I2C1_SDA / CAN1_TX  \n- 47 63 VSS S - VSS - - \n1 48 64 VDD S - VDD - - \n- -/49 - EPAD  S - VSS - - \n33 - - VSS/VSSA S - VSS/VSSA - - \n(1) I = input, O = output, S = supply.  \n(2) FT = 5 V-tolerant  I/O. \n(3) Function availability depends on the chosen device.  For example, if a certain part number has only one advanced timer, it \nis TMR1, see Table 2. \n(4) If several peripherals are mapped onto the same GPIO port, only one of these peripherals  can be enabled at the same \ntime through the enable control bit (in the corresponding RCC peripheral clock enable register) in order to avoid conflicts.  \n(5) PC13, PC14, and  PC15 are supplied through the power switch. Since the switch only sinks a limited amount of current (3 \nmA), the use of GPIOs PC13 to PC15 in output mode is limited: these IOs must not be used as a current source (e.g. to \ndrive an LED).  \nAT32F413 Series Datasheet  \n2022.6.6  27 Ver 2.01  \n(6) Main function after  the first battery powered domain power -up. Later on, it depends on the contents of the battery powered \nregisters even  after reset (because these registers are not reset by the main reset). For details on how to manage these \nGPIOs, refer to the  battery powered domain and register description sections in the AT32F413  reference manual.  \n(7) This alternate function can be remapped by software to some other port pins (if available on the used package). For more \ndetails, refer to the Alternate function I/O and deb ug configuration section in the AT32F 413 reference manual.  \n(8) The pins number 5 and 6 (LQFP64 , LQFP48, and QFN48 ), and the pins number 2 and 3 (QFN32) are configured as \nHEXT_IN/HEXT _OUT after reset, the  functionality of PD0 and PD1 can be remapped by software  on these pins. For more \ndetails, refer to Alternate  function I/O and debug configuration section in the AT32F 413 reference manual.  \n(9) If boot from internal Flash memory and PB2 is not used, it is recommended to pull down to ground.  \n \nAT32F413 Series Datasheet  \n2022.6.6  28 Ver 2.01  \n4 Memory mapping  \nFigure 6. Memory map  \nCode\n0x0000 _00000x1FFF_FFFFSRAM\n0x2000 _00000x3FFF_FFFFPeripherals\n0x4000 _00000x5FFF_FFFF0x6000 _0000Reserved0xDFFF _FFFFCortex -M4F internal \nperipherals\n0xE000_00000xFFFF _FFFF\nAliased to Flash or system \nmemory depending on \nBOOT pins0x0000 _00000x0001 _7FFFReserved0x0001 _80000x07FF_FFFFInternal Flash memory \nBank 10x0800 _00000x0803 _FFFF0x0804 _0000Reserved0x083F_FFFFExternal SPI Flash \nmemory Bank 3\n0x0840 _00000x093F_FFFFReserved0x0940 _00000x1FFF_EFFF\nSystem memory0x1FFF_F0000x1FFF_F7FFOption bytes0x1FFF_F8000x1FFF_F82FReserved0x1FFF_F8300x1FFF_FFFFSRAM0x2000 _00000x2000 _7FFFReserved0x2000 _80000x21FF_FFFFBit-band alias of\nSRAM0x2200 _00000x220F_FFFFPeripherals0x4000 _00000x4002 _37FFReserved\n0x4002 _38000x41FF_FFFFBit-band alias  of \nperipherals0x4200 _00000x4246 _FFFF\nReserved\n0x2210 _00000x3FFF_FFFFReserved\n0x4247 _00000x5FFF_FFFF\nReserved\n0x1FFF_B000\n0x1FFF_AFFF\n \n \nAT32F413 Series Datasheet  \n2022.6.6  29 Ver 2.01  \n5 Electrical characteristics  \n5.1 Parameter  conditions  \n5.1.1  Minimum and maximum values  \nThe minimum and maximum values are obtained in the worst conditions. Data based on \ncharacterization results, design simulation and/or technology characteristics are indicated in the \ntable footnotes and are not tested in production.  \n5.1.2  Typical values  \nTypical data are based on T A = 25 ° C, V DD = 3.3 V.  \n5.1.3  Typical curves  \nAll typical curves are provided only as design guidelines a nd are not tested.  \n5.1.4  Power supply scheme  \nFigure 7. Power supply scheme  \nBackup circuitry\n(OSC 32K,RTC ,Wake -up logic\nBackup registers )Level shifterIO\nLogic\nKernel logic\n(CPU ,\nDigital\n＆ Memories )\nRegulator\nADC\nRCs,PLL,\n...2 x 100 nF\n+ 1 x 4.7µF\n100 nF\n+ 1 µFVBAT\n1.8-3.6vPower switch\nOUT\nIN\nVSSAVDDAVDDVDD\nVSSVDD\n \nAT32F413 Series Datasheet  \n2022.6.6  30 Ver 2.01  \n5.2 Absolute maximum values  \n5.2.1  Ratings  \nIf stresses were out of the absolute maximum ratings listed in Table 6, Table 7, and Table 8, it may \ncause permanent damage to the device. These are the maximum stress ratings only that the device \ncould bear, but the functional operation of the device under these conditions is not implied. \nExposure to  maximum rating conditions for an extended period of time may affect device reliability.  \nTable 6. Voltage characteristics  \nSymbol  Ratings  Min Max Unit \nVDD-VSS External main supply voltage (including V DDA and \nVDD) -0.3 4.0 \nV \nVIN Input voltage on FT  VSS-0.3 6.0 \nInput voltage on other pins  VSS-0.3 4.0 \n|ΔV DDx| Variations between different V DD power pins  - 50 \nmV \n|VSSx-VSS| Variations between all the different ground pins  - 50 \nTable 7. Current characteristics  \nSymbol  Ratings  Max Unit \nIVDD Total current into V DD/VDDA power lines (source)  150 \nmA IVSS Total current out of V SS ground lines (sink)  150 \nIIO Output current sunk by any GPIO and control pin  25 \nOutput current source by any GPIOs and control pin  -25 \nTable 8. Thermal characteristics  \nSymbol  Ratings  \nMin Value  Unit \nTSTG Storage temperature range  -60 ~ +150  \n°C \nTJ Maximum junction temperature  125 \n \nAT32F413 Series Datasheet  \n2022.6.6  31 Ver 2.01  \n5.2.2  Electrical sensitivity  \nBased on three different tests (HBM, CDM, and LU) using specific measurement methods, the \ndevice is stressed in order to determine its performance in terms of electrical sensitivity.  \nElectrostatic discharge (ESD)  \nElectrostatic discharges are applied to the pins of each sample according to each pin combination. \nThis test conforms to the JS -001-2017/JS -002-2014 standard.  \nTable 9. ESD values  \nSymbol  Parameter  Conditions  Class  Min(1) Unit \nVESD(HBM)  Electrostatic discharge voltage \n(human body model)  TA = +25 °C , conforming to  \nJS-001-2017  3A 5000  \nV \nVESD(CDM)  Electrostatic discharge voltage \n(charge device model)  TA = +25 °C , conforming to  \nJS-002-2018  III 1000  \n(1)  Guaranteed by characterization results, not tested in production.  \n \nStatic latch -up \nTests compliant with EIA/JESD78E IC latch -up standard are required to assess the latch -up \nperformance:  \n\uf06c A supply overvoltage is applied to each power supply pin;  \n\uf06c A current injection is applied to each input, output and configurable GPIO pin.  \nTable 10. Latch-up values  \nSymbol  Parameter  Conditions  Level /Class  \nLU Static latch -up class  TA = +105 °C , conforming to  \nEIA/JESD78E  II level A (1200 mA)  \n \nAT32F413 Series Datasheet  \n2022.6.6  32 Ver 2.01  \n5.3 Specification s \n5.3.1  General operating conditions  \nTable 11. General operating conditions  \nSymbol  Parameter  Conditions  Min Max Unit \nfHCLK Internal AHB clock frequency  Bank 3 not used  0 200 \nMHz Bank 3 used  0 120 \nfPCLK1  Internal APB1 clock frequency  - 0 100 \nfPCLK2 Internal APB2 clock frequency  - 0 100 \nVDD Digital  operating voltage  - 2.6 3.6 V \nVDDA Analog operating voltage  Must be the same \npotential as VDD(1) 2.6 3.6 V \nVBAT Battery power operating voltage  - 1.8 3.6 V \nPD Power dissipation: T A = 105 °C LQFP64  - 289 \nmW LQFP48  - 313 \nQFN48  - 394 \nQFN32  - 334 \nTA Ambient temperature  - -40 105 °C \n \n5.3.2  Operating conditions  at power -up / power -down  \nTable 12. Operating conditions at power -up/power -down  \nSymbol  Parameter  Conditions  Min Max Unit \ntVDD VDD rise time rate  \n- 0 ∞ ms/V \nVDD fall time rate  20 ∞ μs/V \n(1)    If V DD rising time rate  is slower than 80 ms/V, the code could access the battery powered  registers only after \nVDD is higher than VPOR + 0.1V.  \n \n5.3.3  Embedded reset and power control block characteristics  \nTable 13. Embedded reset and power management block characteristics  \nSymbol  Parameter  Min Typ Max Unit \nVPOR(1) Power on reset threshold  1.95 2.16 2.45 V \nVLVR(1) Low voltage reset threshold  1.8(2) 2.0 2.25 V \nVLVRhyst(1) LVR hysteresis  - 160 - mV \nTRESTTEMPO(1) Reset temporization: CPU starts execution after V DD keeps \nhigher than V POR for T RSTTEMPO  - 8 - ms \n(1)  Guaranteed by design, not tested in production.  \n(2)  The product behavior is guaranteed by design down to the minimum V LVR value.  \nAT32F413 Series Datasheet  \n2022.6.6  33 Ver 2.01  \nFigure 8. Power on reset and low voltage reset waveform  \nResetVDD\nLVRPOR\nTRSTTEMPOVLVRhyst\nt\n \nTable 14. Programmable voltage regulator characteristics  \nSymbol  Parameter  Conditions  Min Typ Max Unit \nVPVM 1 PVM  threshold 1(PVMSEL [2:0] = 001 ) Rising edge(1) 2.19 2.28 2.37 V \nFalling edge(1) 2.09 2.18 2.27 V \nVPVM 2 PVM threshold  2 (PVMSEL [2:0] = 010 ) Rising edge (1) 2.28 2.38 2.48 V \nFalling edge (1) 2.18 2.28 2.38 V \nVPVM 3 PVM threshold  3 (PVMSEL [2:0] = 011 ) Rising edge (2) 2.38 2.48 2.58 V \nFalling edge (2) 2.28 2.38 2.48 V \nVPVM 4 PVM threshold  4 (PVMSEL [2:0] = 100 ) Rising edge (2) 2.47 2.58 2.69 V \nFalling edge (2) 2.37 2.48 2.59 V \nVPVM 5 PVM threshold  5 (PVMSEL [2:0] = 101 ) Rising edge (2) 2.57 2.68 2.79 V \nFalling edge (2) 2.47 2.58 2.69 V \nVPVM 6 PVM threshold  6 (PVMSEL [2:0] = 110 ) Rising edge (2) 2.66 2.78 2.9 V \nFalling edge (2) 2.56 2.68 2.8 V \nVPVM 7 PVM threshold  7 (PVMSEL [2:0] = 111 ) Rising edge  2.76 2.88 3 V \nFalling edge  2.66 2.78 2.9 V \nVHYS_P(2) PVM hysteresis  - - 100 - mV \n(1)  PVMSEL[2:0] = 001 may be not available for its voltage  detector level may be lower than V POR.  \n(2)  Guaranteed by design, not tested in production.  \nAT32F413 Series Datasheet  \n2022.6.6  34 Ver 2.01  \n5.3.4  Memory characteristics  \nTable 15. Internal Flash memory characteristics  \nSym\nbol Parameter  Conditions  Typ(1) \nUnit \nfHCLK \n200 144 72 48 8 MHz \nTPROG 16-bit programming \ntime - 50 μs \ntERASE  Page (2 KB) erase time  AT32F413xC  50 \nms \nPage (1  KB) erase time  AT32F413xB  \nAT32F413x8  40 \ntME Mass erase time  - 800 ms \nIDD Supply current  Programming \nmode  27.5 20.1 11.1 7.8 1.8 \nmA \nErase mode  35.3 26.9 16.9 13.1 6.4 \n(1)  Guaranteed by design, not tested in production.  \nTable 16. Internal Flash memory endurance and data retention  \nSymbol  Parameter  Conditions  Min(1) Typ Max Unit \nNEND Endurance  TA = -40 ~ 105 °C  100 - - kcycles  \ntRET Data retention  TA = 105 °C  10 - - years  \n(1)  Guaranteed by design, not tested in production.  \n \n5.3.5  Supply current characteristics  \nThe current consumption is subjected to several parameters and factors such as the operating \nvoltage, ambient temperature, GPIO pin loading,  device software configuration, operating \nfrequencies, GPIO pin switching rate, and executed binary code. The current consumption is \nobtained by characterization results, not tested in production.  \nTypical and maximum current consumption  \nThe MCU is placed under the following conditions:  \n\uf06c All GPIO pins are in analog mode.  \n\uf06c Prefetch is  ON. (Reminder: This bit must be set before clock setting and bus prescaling.)  \n\uf06c When the peripherals are enabled:  \n− If fHCLK > 100 MHz: fPCLK1  = fHCLK/2，fPCLK2  = fHCLK/2，fADCCLK  = fPCLK2 /4;  \n− If fHCLK ≤ 100 MHz，fPCLK 1 = fHCLK, fPCLK 2 = fHCLK, fADCCLK  = fPCLK 2/4 \n\uf06c Code executes  in ZW area.  \n\uf06c Unless otherwise specified, the typical values are measured with V DD = 3.3 V  and T A = 25 ° C \ncondition and the maximum values are measured with V DD = 3.6 V.  \nAT32F413 Series Datasheet  \n2022.6.6  35 Ver 2.01  \nTable 17. Typical current consumption in Run mode  \nSymbol  Parameter  Conditions  fHCLK Type \n大值 Unit All peripherals \nenabled  All peripherals \ndisabled  \nIDD Supply current \nin Run mode  High speed external \ncrystal (HEXT)(1)(2) 200 MHz  60.5 28.1 \nmA 144 MHz  44.2 20.6 \n100 MHz  38.2 15.0 \n72 MHz  28.4 11.5 \n48 MHz  19.4 8.07 \n36 MHz  14.9 6.34 \n24 MHz  10.3 4.62 \n16 MHz  7.25 3.48 \n8 MHz  3.97 2.10 \n4 MHz  2.51 1.58 \n2 MHz  1.79 1.33 \n1 MHz  1.43 1.20 \n500 kHz 1.25 1.41 \n125 kHz 1.11 1.09 \nHigh speed internal clock \n(HICK)(2) 200 MHz  60.4 28.0 \nmA 144 MHz  44.0 20.5 \n100 MHz  38.1 14.9 \n72 MHz  28.3 11.4 \n48 MHz  19.3 7.95 \n36 MHz  14.7 6.23 \n24 MHz  10.2 4.51 \n16 MHz  7.14 3.36 \n8 MHz  3.67 1.76 \n4 MHz  2.20 1.52 \n2 MHz  1.48 1.01 \n1 MHz  1.11 0.88 \n500 kHz 0.93 1.09 \n125 kHz 0.80 0.77 \n(1)  External clock is 8 MHz.  \n(2)  PLL is on when f HCLK > 8 MHz.  \nAT32F413 Series Datasheet  \n2022.6.6  36 Ver 2.01  \nTable 18. Typical current consumption in Sleep mode  \nSymbol  Parameter  Conditions  fHCLK Type \n大值 Unit All peripherals \nenabled  All peripherals \ndisabled  \nIDD Supply current \nin Sleep mode  High speed external crystal \n(HEXT)(1)(2) 200 MHz  48.3 6.51 \nmA 144 MHz  35.3 5.02 \n100 MHz  32.1 4.16 \n72 MHz  23.9 3.73 \n48 MHz  16.4 2.89 \n36 MHz  12.6 2.46 \n24 MHz  8.79 2.04 \n16 MHz  6.26 1.77 \n8 MHz  3.29 1.07 \n4 MHz  2.08 0.98 \n2 MHz  1.48 0.93 \n1 MHz  1.18 0.91 \n500 kHz 1.03 0.90 \n125 kHz 0.92 0.89 \nHigh speed internal clock \n(HICK)(2) 200 MHz  48.2 6.40 \nmA 144 MHz  35.2 4.90 \n100 MHz  31.9 4.05 \n72 MHz  23.8 3.61 \n48 MHz  16.3 2.76 \n36 MHz  12.5 2.34 \n24 MHz  8.67 1.92 \n16 MHz  6.14 1.64 \n8 MHz  3.17 0.95 \n4 MHz  1.96 0.85 \n2 MHz  1.35 0.80 \n1 MHz  1.05 0.78 \n500 kHz 0.90 0.77 \n125 kHz 0.79 0.76 \n(1)  External clock is 8 MHz.  \n(2)  PLL is on when f HCLK > 8 MHz.  \n \nAT32F413 Series Datasheet  \n2022.6.6  37 Ver 2.01  \nTable 19. Maximum current consumption in Run mode  \nSymbol  Parameter  Conditions  fHCLK Max \nUnit \nTA = 105 °C \nIDD Supply current in  \nRun mode  High speed external crystal \n(HEXT)(1), all \nperipherals enabled  200 MHz  69.1 \nmA 144 MHz  52.0 \n100 MHz  46.0 \n72 MHz  35.6 \n48 MHz  26.2 \n36 MHz  21.4 \n24 MHz  16.7 \n16 MHz  13.5 \n8 MHz  10.1 \nHigh speed external crystal \n(HEXT)(1), all \nperipherals enabled  200 MHz  34.5 \nmA 144 MHz  26.8 \n100 MHz  21.1 \n72 MHz  17.5 \n48 MHz  14.0 \n36 MHz  12.3 \n24 MHz  10.6 \n16 MHz  9.40 \n8 MHz  8.02 \n(1)  External clock is 8 MHz and PLL is on when f HCLK > 8 MHz.  \nAT32F413 Series Datasheet  \n2022.6.6  38 Ver 2.01  \nTable 20. Maximum current consumption in Sleep mode  \nSymbol  Parameter  Conditions  fHCLK Max \nUnit \nTA = 105 °C \nIDD Supply current in  \nSleep mode  High speed external crystal \n(HEXT)(1), all \nperipherals enabled  200 MHz  56.5 \nmA 144 MHz  42.8 \n100 MHz  39.6 \n72 MHz  31.0 \n48 MHz  23.1 \n36 MHz  19.1 \n24 MHz  15.1 \n16 MHz  12.4 \n8 MHz  9.32 \nHigh speed external crystal \n(HEXT)(1), all \nperipherals enabled  200 MHz  12.4 \nmA 144 MHz  10.9 \n100 MHz  10.0 \n72 MHz  9.53 \n48 MHz  8.70 \n36 MHz  8.27 \n24 MHz  7.85 \n16 MHz  7.57 \n8 MHz  6.86 \n(1)  External clock is 8 MHz and PLL is on when f HCLK > 8 MHz.  \nAT32F413 Series Datasheet  \n2022.6.6  39 Ver 2.01  \nTable 21. Typical and maximum current consumptions in Deepsleep and Standby modes  \nSymb\nol Parameter  Conditions  Typ(1) Max(2) \nUnit VDD \n= 2.6 V VDD \n= 3.3 V TA =  \n25 °C  TA =  \n85 °C TA =  \n105 °C \nIDD Supply current in \nDeepsleep mode  HICK and HEXT OFF  \n(no WDT ) 480 490 Refer to \nnote (3) 3800  6670  μA \nSupply current in \nStandby mode  LEXT and RTC OFF 7.1 9.9 12.1 13.9 17.1 \nμA \nLEXT and RTC ON 7.7 11.6 12.9 14.9 18.3 \n(1)  Typical values are measured at T A = 25 ° C.  \n(2)  Guaranteed by characterization results, not tested in  production.  \n(3)  The value may be several times the typical values due to process variation.  \nFigure 9. Typical current consumption in Deepsleep mode  vs. temperature at different V DD \n \n\nAT32F413 Series Datasheet  \n2022.6.6  40 Ver 2.01  \nFigure 10. Typical current consumption in Standby  mode vs. temperature at different V DD \n \nTable 22. Typical and maximum current consumptions on V BAT \nSymb\nol Parameter  Conditions  Typ(1) Max(2) \nUnit VBAT =  \n2.0 V VBAT =  \n2.6 V VBAT =  \n3.3 V  TA =  \n25 °C TA =  \n85 °C TA =  \n105 °C \nIDD_VBAT  Supply current \nof V BAT LEXT and RTC ON,  \nVDD < V LVR 1.5 1.7 2.3 2.8 3.0 3.5 μA \n(1)   Typical values are measured at T A = 25 ° C.  \n(2)  Guaranteed by characterization results, not tested in production.  \nFigure 11. Typical current consumption on V BAT with LEXT and RTC ON vs. temperature  \nat different V BAT  \n \n\nAT32F413 Series Datasheet  \n2022.6.6  41 Ver 2.01  \nOn-chip peripheral current consumption  \nThe MCU is placed under the following conditions:  \n\uf06c All GPIO pins are in analog mode.  \n\uf06c The given value is calculated by measuring the current consumption difference between “all \nperipherals clocked OFF” and “only one peripheral clocked ON”.  \nTable 23. Peripheral current consumption  \nPeripheral  Typ Unit \nAHB DMA1  9.45 \nμA/MHz DMA2  9.58 \nGPIOA  1.22 \nGPIO B 1.20 \nGPIO C 1.29 \nGPIO D 1.23 \nGPIO F 1.19 \nCRC  1.57 \nSDIO1  18.5 \nAPB1 TMR 2 8.65 \nTMR 3 6.50 \nTMR 4 6.57 \nTMR 5 8.76 \nSPI2 /I2S2 2.80 \nUSAR T2 2.50 \nUSAR T3 2.49 \nUAR T4 2.54 \nUAR T5 2.54 \nI2C1 2.47 \nI2C2 2.50 \nUSBFS1 6.76 \nCAN 1 3.92 \nCAN2  3.91 \nWWDT  0.44 \nPWC  0.41 \nBPR 73.6 \nAPB2 IOMUX  2.13 \nμA/MHz  SPI1/I2S1 2.64 \nUSAR T1 2.48 \nTMR1  9.23 \nTMR8  9.18 \nTMR9  3.80 \nTMR10  2.66 \nTMR11  2.62 \nADC1  6.54 \nADC 2 6.35 \nACC  0.97 \nAT32F413 Series Datasheet  \n2022.6.6  42 Ver 2.01  \n5.3.6  External clock source characteristics  \nHigh -speed external clock generated from a crystal / ceramic resonator  \nThe high -speed external (HEXT) clock can be supplied with a 4 to 25 MHz crystal/ceramic \nresonator oscillator. All the information given in this paragraph are base d on characterization \nresults obtained with typical external components specified in the table below. In the application, \nthe resonator and the load capacitors have to be placed as close as possible to the oscillator pins \nin order to minimize output distor tion and startup stabilization time. Refer to the crystal resonator \nmanufacturer for more details on the resonator characteristics (frequency, package, accuracy).  \nTable 24. HEXT 4 -25 MHz crystal characteristics(1)(2)  \nSymbol  Parameter  Conditions  Min Typ Max Unit \nfHEXT_IN  Oscillator frequency  - 4 8 25 MHz \ntSU(HEXT)(3) Startup time  VDD is stabilized  - 1.2 - ms \n(1)  Oscillator characteristics given by the crystal/ceramic resonator manufacturer.  \n(2)  Guaranteed by characterization results, not tested in production.  \n(3)  tSU(HEXT ) is the startup time measured from the moment HEXT is enabled (by software) to a stabilized 8 MHz \noscillation is reached. This value is measured for a standard crystal resonator and it can vary significantly with \nthe crystal manufacturer  \n \nFor CL1 and CL2, it is recommended to use high -quality external ceramic capacitors in the 5 pF to 25 \npF range (typ.), designed for high -frequency applications, and select to match the requirements of \nthe crystal or resonator. C L1 and C L2 are usually the same size. The crystal manufacturer typically \nspecifies a load capacitance which is the series combination of C L1 and C L2. PCB and MCU pin \ncapacitance must be included (10 pF can be used as a rough estimate of the combined pin and \nboard capacit ance) when sizing C L1 and C L2. \nFigure 12. HEXT typical application with an 8 MHz crystal  \nBias\nControlled\ngain\nCL2CL1\n8 MHz\ncrystalHEXT_IN\nHEXT_OUTRFfHEXT\n \nAT32F413 Series Datasheet  \n2022.6.6  43 Ver 2.01  \nHigh -speed external clock generated from an external source  \nThe characteristics given in the table below result from tests performed using a high -speed external \nclock source.  \nTable 25. HEXT external source characteristics  \nSymbol  Parameter  Conditions  Min Typ Max Unit \nfHEXT_ext  User external clock source frequency(1) \n- 1 8 25 MHz \nVHEXTH  HEXT_IN input pin high level voltage  0.7V DD - VDD \nV \nVHEXTL  HEXT_IN input pin low level voltage  VSS - 0.3V DD \ntw(HEXT)  \ntw(HEXT)  HEXT_IN high or low time(1) 5 - - \nns \ntr(HEXT)  \ntf(HEXT)  HEXT_IN rise or fall time(1) - - 20 \nCin(HEXT)  HEXT_IN input capacitance(1) - - 5 - pF \nDuCy (HEXT)  Duty cycle  - 45 - 55 % \nIL HEXT_IN Input leakage current  VSS ≤ VIN ≤ VDD - - ±1 μA \n(1)  Guaranteed by design, not tested in production.  \nFigure 13. HEXT external source AC timing diagram  \n90%\n10%VHEXTLVHEXTH\ntr(HEXT) tf(HEXT) tW(HEXT) tW(HEXT)t\nExternal\nclock sourceILHEXT_INfHEXT_extTHEXT\n \n \nAT32F413 Series Datasheet  \n2022.6.6  44 Ver 2.01  \nLow-speed external clock generated from a crystal / ceramic resonator  \nThe low -speed external (LEXT) clock can be supplied with a 32.768 kHz crystal/ceramic resonator \noscillator. All the information given in this paragraph are based on characterization resu lts obtained \nwith typical external components specified in the table below. In the application, the resonator and \nthe load capacitors have to be placed as close as possible to the oscillator pins in order to minimize \noutput distortion and startup stabiliza tion time. Refer to the crystal resonator manufacturer for more \ndetails on the resonator characteristics (frequency, package, accuracy).  \nTable 26. LEXT 32.768 kHz crystal characteristics(1)(2)  \nSymbol  Parameter  Conditions  Min Typ Max Unit \ntSU(LEXT)  Startup time  VDD is stabilized  - 150 - ms \n(1)  Oscillator characteristics given by the crystal/ceramic resonator manufacturer.  \n(2)  Guaranteed by characterization results, not tested in production.  \n \nFor C L1 and C L2, it is recommended to use high-quality ceramic capacitors in the 5 pF to 15 pF \nrange selected to meet the requirements of the crystal or resonator. C L1 and C L2, are usually the \nsame size. The crystal manufacturer typically specifies a load capacitance which is the series \ncombinatio n of C L1 and C L2. \nLoad capacitance C L is based on the following formula: C L = C L1 x C L2 / (C L1 + C L2) + C stray where \nCstray is the pin capacitance and board or trace PCB -related capacitance. Typically, it is between 2 \npF and 7 pF.  \nFigure 14. LEXT t ypical application with a 32.768 kHz crystal  \nBias\nControlled\ngain\nCL2CL1\n32.768 kHz\ncrystalLEXT_IN\nLEXT_OUTRFfLEXT\n \nNote:  No external resistor is required between LEXT_IN  and LEXT_OUT and it is also prohibited to add it.  \n \nAT32F413 Series Datasheet  \n2022.6.6  45 Ver 2.01  \nLow-speed external clock generated from an external source  \nThe characteristics given in the table below come from tests performed using a low -speed external \nclock source.  \nTable 27. LEXT external source characteristics  \nSymbol  Parameter  Conditions  Min Typ Max Unit \nfLEXT_ext  User External clock source frequency(1) \n- - 32.768  1000  kHz \nVLEXTH  LEXT_IN input pin high level voltage  0.7V DD - VDD \nV \nVLEXTL LEXT_IN  input pin low level voltage  VSS - 0.3V DD \ntw(LEXT)  \ntw(LEXT)  LEXT_IN  high or low time(1) 450 - - \nns \ntr(LEXT)  \ntf(LEXT)  LEXT_IN  rise or fall time(1) - - 50 \nCin(LEXT)  LEXT_IN  input capacitance(1) - - 5 - pF \nDuCy (LEXT)  Duty cycle  - 30 - 70 % \nIL LEXT_IN  input leakage current  VSS ≤ VIN ≤ VDD - - ±1 μA \n(1)  Guaranteed by design, not tested in production.  \nFigure 15. LEXT external source AC timing diagram  \n90%\n10%VLEXTLVLEXTH\ntr(LEXT) tf(LEXT) tW(LEXT) tW(LEXT)t\nExternal\nclock sourceILLEXT_INfLEXT_extTLEXT\n \n \nAT32F413 Series Datasheet  \n2022.6.6  46 Ver 2.01  \n5.3.7  Internal clock source characteristics  \nHigh -speed internal clock (HICK)  \nTable 28. HICK clock characteristics \nSymbol  Parameter  Conditions  Min Typ Max Unit \nfHICK Frequency  - - 48 - MHz \nDuCy (HICK)  Duty cycle  - 45 - 55 % \nACC HICK Accuracy of the HICK \noscillator  User -trimmed with the \nRCC_CTRL register  - - 1(1) \n% \nACC -trimmed  - - 0.25(1) \nFactory -\ncalibrated(2) TA = -40 ~ 105 °C  -2.5  2.5 \n% TA = -40 ~ 85 °C  -2 - 2 \nTA = 0 ~ 70 °C  -1.5 - 1.5 \nTA = 25 °C  -1 - 1 \ntSU(HICK)(2) HICK oscillator startup \ntime - - - 10 μs \nIDD(HICK)(2) HICK oscillator power \nconsumption  - - 190 200 μA \n(1)  Guaranteed by design, not tested in production.  \n(2)  Guaranteed by characterization results, not tested in production.  \nFigure 16. HICK clock frequency accuracy vs. temperature  \nLow-speed internal clock (LICK)  \nTable 29. LICK clock characteristics \nSymbol  Parameter  Conditions  Min Typ Max Unit \nfLICK(1) Frequency  - 30 40 60 kHz \n(1)  Guaranteed by characterization results, not tested in production.  \n\nAT32F413 Series Datasheet  \n2022.6.6  47 Ver 2.01  \n5.3.8  PLL characteristics  \nTable 30. PLL characteristics  \nSymbol  Parameter  Min Typ Max(1) Unit \nfPLL_IN  PLL input clock (2) 2 8 16 MHz \nPLL input clock  duty cycle  40 - 60 % \nfPLL_OUT  PLL multiplier output clock  16 - 200 MHz \ntLOCK PLL lock time  - - 200 μs \nJitter  Cycle -to-cycle jitter  - - 300 ps \n(1)  Guaranteed by characterization results, not tested in production.  \n(2)  Take care of using the appropriate multiplier factors to ensure that PLL input clock values are compatible with \nthe range defined by f PLL_OUT . \n \n5.3.9  Wakeup time from low -power mode  \nThe wakeup times given in the table below is measured on a wakeup phase with the  HICK. The \nclock source used to wake up the device depends on the current operating mode:  \n\uf06c Sleep mode: the clock source is the clock that was configured before entering Sleep mode.  \n\uf06c Deepsleep or Standby mode: the clock source is the HICK.  \nTable 31. Low -power mode wakeup time  \nSymbol  Parameter  \nConditions  Typ Unit \ntWUSLEEP  Wakeup from Sleep mode  3.3 μs \ntWUDEEPSLEEP  Wakeup from Deepsleep mode  280 μs \ntWUSTDBY  Wakeup from Standby mode  3.6 ms \n \n5.3.10  EMC characteristics  \nSusceptibility tests are performed on a sample basis during device characterization.  \nFunctional EMS (electromagnetic susceptibility ) \n\uf06c EFT:  A Burst of Fast Transient voltage (positive and negative) is applied to V DD and V SS \nthrough a coupling/decoupling network, until a functional disturbance occurs. This test is \ncompliant with the IEC 61000 -4-4 standard.  \nTable 32. EMS characteristics  \nSymbol  Parameter  Conditions  Level /Class  \nVEFT Fast transient voltage burst \nlimits to be applied through \ncoupling/decoupling network  \nconforms to IEC 61000 -4-4 on \nVDD and V SS pins to induce a \nfunctional disturbance, V DD and \nVSS input has one 47 μF \ncapacitor and each  VDD and V SS \npin pair 0.1 μF VDD = 3.3 V , LQFP64 , TA = +25 °C , HEXT , fHCLK = 200 \nMHz, conforms to IEC 61000 -4-4 \n4A（4kV） VDD = 3.3 V , LQFP64 , TA = +25 °C , HEXT ,  fHCLK = \n72 MHz , conforms to IEC 61000 -4-4 \nVDD = 3.3 V , LQFP64 , TA = +25 °C , HICK , fHCLK = 200 \nMHz, conforms to  IEC 61000 -4-4 \nVDD = 3.3 V , LQFP64 , TA = +25 °C , HICK , fHCLK = 72 \nMHz, conforms to  IEC 61000 -4-4 \nEMC characterization and optimization are performed at component level with a typical application \nenvironment. It should be noted that good EMC performance is highly dependent on the user \nAT32F413 Series Datasheet  \n2022.6.6  48 Ver 2.01  \napplication and the software in particular. Therefore it is recommen ded that the user applies EMC \nsoftware optimization and prequalification tests in relation with the EMC level requested for his \napplication.  \n5.3.11  GPIO port characteristics  \nGeneral input/output characteristics  \nAll GPIOs are CMOS and TTL compliant.  \nTable 33. GPIO static characteristics  \nSymb\nol Parameter  Conditions  Min Typ Max Unit \nVIL GPIO input low level voltage  - –0.3 - 0.28 * V DD + \n0.1 V \nVIH Standard GPIO input high \nlevel voltage  - \n0.31 * V DD + \n0.8 - VDD + 0.3  \nV \nFT GPIO input high level  \nvoltage  - - 5.5 \nVhys Standard GPIO Schmitt \ntrigger voltage hysteresis(1)  \n- 200 - - mV \nFT GPIO Schmitt trigger \nvoltage hysteresis(1)  5% V DD - - - \nIlkg Input leakage current(2) VSS ≤ VIN ≤ VDD \nStandard GPIOs  - - ±1 \nμA \nVSS ≤ VIN ≤ 5.5V \nFT GPIOs  - - ±10 \nRPU Weak pull -up equivalent \nresistor  VIN = V SS 60 70 100 kΩ \nRPD Weak pull -down equivalent \nresisto r (3)(4) VIN = V DD 70 80 120 kΩ \nCIO GPIO pin capacitance  - - 5 - pF \n(1)  Hysteresis voltage between Schmitt trigger switching levels. Guaranteed by characterization results.  \n(2)  Leakage could be higher than max if negative current is injected on adjacent pins.  \n(3)  Each of PA11 and PA12 has a weak pull -down resistor 330 k Ω which is permanently enabled.  \n(4)  The pull -down resistor of BOOT0 exists permanently.  \n \nAll GPIOs are CMOS and TTL compliant (no software configuration required). Their characteristics \ntake into account the strict CMOS -technology or TTL parameters.  \nOutput driving current  \nIn the user application, the number of GPIO pins which can drive current mus t be controlled to \nrespect the absolute maximum rating defined in  Section 5.2.1 : \n\uf06c The sum of the currents sourced by all GPIOs on V DD, plus the maximum Run consumption  of \nthe MCU sourced on V DD, cannot exceed the absolute maximum rating I VDD (see Table 7). \n\uf06c The sum of the currents sunk by all GPIOs on V SS, plus the maximum Run consumption of the \nMCU sunk on V SS, cannot exceed the absolute maximum rating I VSS (see Table 7). \nAT32F413 Series Datasheet  \n2022.6.6  49 Ver 2.01  \nOutput voltage levels  \nAll GPIOs are CMOS and TTL compliant.  \nTable 34. Output voltage characteristics  \nSymbol  Parameter  Conditions  Min Max Unit \nMaximum sourcing/sinking strength  \nVOL Output low level voltage  \nCMOS standard , IIO = 15 mA  - 0.4 \nV \nVOH Output high level voltage  VDD-0.4 - \nVOL Output low level voltage  \nTTL standard, I IO = 6 mA  - 0.4 \nV \nVOH Output high level voltage  2.4 - \nLarge sourcing/sinking strength  \nVOL Output low level voltage  \nCMOS standard, I IO = 6 mA  - 0.4 \nV \nVOH Output high level voltage  VDD-0.4 - \nVOL Output low level voltage  \nTTL standard, I IO = 3 mA  - 0.4 \nV \nVOH Output high level voltage  2.4 - \nVOL(1) Output low level voltage  \nIIO = 20 mA  - 1.3 \nV \nVOH(1) Output high level voltage  VDD-1.3 - \nNormal sourcing/sinking strength  \nVOL Output low level voltage  \nCMOS standard, I IO = 4 mA  - 0.4 \nV \nVOH Output high level voltage  VDD-0.4 - \nVOL Output low level voltage  \nTTL standard, I IO = 2 mA  - 0.4 \nV \nVOH Output high level voltage  2.4 - \nVOL(1) Output low level voltage  \nIIO = 9 mA - 1.3 \nV \nVOH(1) Output high level voltage  VDD-1.3 - \n(1)  Guaranteed by characterization results.  \n \nInput AC characteristics  \nThe definition and values of input AC characteristics are given as follows.  \nTable 35. Input AC characteristics  \nSymbol  Parameter  Min Max Unit \ntEXINTpw  Pulse width of external signals detected by EXINT controller  10 - ns \n \nAT32F413 Series Datasheet  \n2022.6.6  50 Ver 2.01  \n5.3.12  NRST pin characteristics  \nThe NRST pin input driver uses CMOS technology. It is connected to a permanent pull -up resistor, \nRPU (see the table below).  \nTable 36. NRST pin characteristics  \nSymbol  Parameter  Conditions  Min Typ Max Unit \nVIL(NRST)(1) NRST  input low level voltage  - -0.5 - 0.8 \nV \nVIH(NRST)(1) NRST  input high level voltage  - 2 - VDD + 0.3  \nVhys(NRST)  NRST  Schmitt trigger voltage  \nhysteresis  - - 500 - mV \nRPU Weak pull -up equivalent resistor  VIN = V SS 30 40 50 kΩ \nVF(NRST)(1) NRST  input filtered puLEXT  - - - 33.3 μs \nVNF(NRST)(1) NRST  input not filtered puLEXT  - 66.7 - - μs \n(1)  Guaranteed by design.  \nFigure 17. Recommended NRST pin protection  \n  \n0.1 µF\nVDD\nRPUInternal Reset NRST(2)External\nreset circuit(1)\nFilter  \n(1)  The reset network protects the device against parasitic resets.  \n(2)  The user must ensure that the level on the NRST pin can go below the V IL (NRST) max level specified in Table \n36. Otherwise the reset will not be performed by the device.  \n \n5.3.13  TMR  timer characteristics  \nThe parameters given in the table below are guaranteed b y design.  \nTable 37. TMR characteristics  \nSymbol  Parameter  Conditions  Min Max Unit \ntres(TMR)  Timer resolution time  - 1 - tTMRxCLK  \nfTMRxCLK  = 200  MHz 5 - ns \nfEXT Timer external clock frequency on \nCH1 to CH4  - 0 fTMRxCLK /2 MHz \nfEXT 50  \n \nAT32F413 Series Datasheet  \n2022.6.6  51 Ver 2.01  \n5.3.14  SPI /  SPIM /  I2S characteristics  \nThe parameters are listed in Table 38 for SPI and in Table 39 for I2S. \nTable 38. SPI characteristics  \nSymbol  Parameter  Conditions  Min Max Unit \nfSCK \n1/tc(SCK)  SPI clock frequency(2)(3) SPI master mode  - 36 \nMHz SPI slave mode  - 32 \nSPIM  - 60 \ntr(SCK)  \ntf(SCK) SPI clock rise and fall time  Capacitive load: C = 30 pF  - 8 ns \ntsu(CS)(1) CS setup time  Slave mode  4tPCLK - ns \nth(CS)(1) CS hold time  Slave mode  2tPCLK - ns \ntw(SCKH)(1) \ntw(SCKL)(1) SCK high and low time  Master mode, fPCLK = 100 MHz, \nprescaler = 4  15 25 ns \ntsu(MI)(1) \nData input setup time  Master mode  5 - \nns \ntsu(SI)(1) Slave mode  5 - \nth(MI)(1) \nData input setup time  Master mode  5 - \nns \nth(SI)(1) Slave mode  4 - \nta(SO)(1)(4) Data output access time  Slave mode, f PCLK = 20 MHz  0 3tPCLK ns \ntdis(SO)(1)(5) Data output disable time  Slave mode  2 10 ns \ntv(SO)(1) Data output valid time  Slave mode (after enable edge)  - 25 ns \ntv(MO)(1) Data output valid time  Master mode (after enable edge)  - 5 ns \nth(SO)(1) \nData output hold time  Slave mode (after enable edge)  15 - \nns \nth(MO)(1) Master mode (after enable edge)  2 - \n(1)  Guaranteed by characterization results, not tested in production.  \n(2)  The maximum SPI clock frequency should not exceed f PCLK/2. \n(3)  The maximum SPI clock frequency  is highly related with devices and the PCB layout. For more details about the \ncomplete solution, please contact y our local Artery sales representative.  \n(4)  Min time is for the minimum time to drive the output and the max time is for the maximum time to validate the \ndata.  \n(5)  Min time is for the minimum time to invalidate the output and the max time is for the maximum time to  put the \ndata in Hi -Z. \nAT32F413 Series Datasheet  \n2022.6.6  52 Ver 2.01  \nFigure 18. SPI timing diagram - slave mode and CPHA = 0  \nMSB in LSB inLSB out MSB out \nth(SI) tsu(SI)ta(SO) tdis(SO)th(SO) tv(SO)tsu(CS)tc(SCK)\ntw(SCKH)\ntw(SCKL)CPHA=0\nCPOL=1CPHA=0\nCPOL=0SCK input\nMISO output\nMOSI inputCS input\nth(CS)\n \nFigure 19. SPI timing diagram - slave mode and CPHA = 1  \nMSB in LSB inMSB out LSB out\ntsu(SI) th(SI)ta(SO)tv(SO)th(SO)tdis(SO)tc(SCK) th(CS) tsu(CS)CS input\nMOSI inputMISO outputCPHA=1\nCPOL=1CPHA=1\nCPOL=0SCK input\ntw(SCKH)tw(SCKL)\n \nFigure 20. SPI timing diagram - master mode  \nMSB out LSB outMSB in LSB in\ntv(MO) th(MO)tw(SCKH)\ntw(SCKL)tsu(MI)tc(SCK)\nth(MI)\nMOSI outputMISO inputCPHA=1\nCPOL=1CPHA=1\nCPOL=0SCK outputCPHA=0\nCPOL=0\nCPHA=0\nCPOL=1SCK outputHigh \nCS input\n \nAT32F413 Series Datasheet  \n2022.6.6  53 Ver 2.01  \nTable 39. I2S characteristics  \nSymbol  Parameter  Conditions  Min Max Unit \nfCK \n1/tc(CK) I2S clock frequency  Master mode (data: 16 bits,  \naudio frequency = 48 kHz) 1.522  1.525  \nMHz \nSlave mode  0 6.5 \ntr(CK)  \ntf(CK) I2S clock rise and fall \ntime Capacitive load: C = 50 pF  - 8 \nns tv(WS)(1) WS valid time  Master mode  3 - \nth(WS)(1) WS hold time  Master mode  2 - \ntsu(WS)(1) WS setup time  Slave mode  4 - \nth(WS)(1) WS hold time  Slave mode  0 - \ntw(CKH)(1) \nCK high and low time  Master f PCLK = 16 MHz,  \naudio frequency = 48 kHz  312.5  - \ntw(CKL)(1) 345 - \ntsu(SD_MR)(1) \nData input setup time  Master receiver  6.5 - \ntsu(SD_SR)(1) Slave receiver  1.5 - \nth(SD_MR)(1)(2) \nData input hold time  Master receiver  0 - \nth(SD_SR)(1)(2) Slave receiver  0.5 - \ntv(SD_ST)(1)(2) Data output valid time  Slave transmitter (after enable  edge)  - 18 \nth(SD_ST)(1) Data output hold time  Slave transmitter (after enable  edge)  11 - \ntv(SD_MT)(1)(2) Data output valid time  Master transmitter (after enable  edge)  - 3 \nth(SD_MT)(1) Data output hold time  Master transmitter (after enable  edge)  0 - \n(1)  Guaranteed by design and/or characterization results.  \n(2)  Depends on f PCLK. For example, if f PCLK=8 MHz, then T PCLK = 1/f PCLK =125 ns.  \nFigure 21. I2S slave timing diagram (Philips protocol)  \n  \nLSB receive(2)MSB receive Bitn receive LSB receiveLSB transmit(2)MSB transmit Bitn transmit LSBtransmit\ntsu(SD_SR) th(SD_SR)tV(SD_ST)th(SD_ST)th(WS)tw(CKL)tw(CKH )tc(CK)\nSDreceiveSDtransmitWSinputCPOL =0\nCPOL =1CK Iutput\ntsu(WS)  \n(1)  LSB transmit/receive of the previously transmitted byte. No LSB transmit/receive is sent before the first byte.  \nAT32F413 Series Datasheet  \n2022.6.6  54 Ver 2.01  \nFigure 22. I2S master timing diagram (Philips protocol)  \n  \nLSB receive(2)MSB receive Bitn receive LSB receiveLSB transmit(2)MSB transmit Bitn transmit LSBtransmit\ntsu(SD_MR) th(SD_MR)tV(SD_MT)th(SD_MT)th(WS)tw(CKL)tw(CKH )tc(CK)\nSDreceiveSDtransmitWSoutputCPOL =0\nCPOL =1CK output\ntv(WS)\ntf(CK)tr(CK)  \n(1)  LSB transmit/receive of the previously transmitted byte. No LSB transmit/receive is sent before the first byte.  \n \n5.3.15  I2C characteristics  \nGPIO pins SDA and SCL have limitation as follows: they are not ”true” open -drain. When \nconfigured as open -drain, the PMOS connected between the GPIO pin and V DD is disabled, but is \nstill present.  \nI2C bus interface can support standard mode  (max. 100 kHz) , fast mode (max. 400 kHz), and fast \nmode plus (max. 1 MHz).  Fore more information, please contact your local or nearest ARTERY \nsales team.  \nAT32F413 Series Datasheet  \n2022.6.6  55 Ver 2.01  \n5.3.16  SDIO characteristics  \nFigure 23. SDIO high -speed mode  \ntISUtIHtOHtOVtCtW(CKL) tW(CKH )tftr\nCK\nD,CWD\n(output )\nD,CWD\n(input )\n \nFigure 24. SD default mode  \nCK\nD,CMD\n(output )tOVD tOVD\n \nTable 40. SD/MMC characteristics  \nSymbol  Parameter  Conditions  Min Max Unit \nfPP Clock frequency in data transfer mode  - 0 48 MHz \ntW(CKL)  Clock low time  - 32 - \nns tW(CKH)  Clock high time  - 30 - \ntr Clock rise time  - - 4 \ntf Clock fall time  - - 5 \nCMD , D inputs (referenced to CK)  \ntISU Input setup time  - 2 - \nns \ntIH Input hold time  - 0 - \nCMD, D outputs (referenced to CK) in MMC and SD HS mode  \ntOV Output valid time  - - 6 \nns \ntOH Output hold time  - 0 - \nCMD, D outputs (referenced to CK) in SD default mode  \ntOVD Output valid default time  - - 7 \nns \ntOHD  Output hold default time  - 0.5 - \n(1)  Refer to SDIO_CLKCTRL , the SDIO clock control register to control the CK output.  \n \nAT32F413 Series Datasheet  \n2022.6.6  56 Ver 2.01  \n5.3.17  USB FS characteristics  \nTable 41. USB FS startup time  \nSymbol  Parameter  Max Unit \ntSTARTUP(1) OTGFS  transceiver startup time  1 μs \n(1)  Guaranteed by design, not tested in production.  \nTable 42. USB FS DC electrical characteristics  \nSymbol  Parameter  Conditions  Min(1) Typ Max(1) Unit \nInput \nlevels  VDD OTGFS operating voltage  - 3.0(2)  3.6 V \nVDI(3) Differential input sensitivity  I (USBFS _D+, USBFS _D-) 0.2  - \nV VCM(3) Differential common mode \nrange  Includes V DI range  0.8  2.5 \nVSE(3) Single ended receiver \nthreshold  - 1.3  2.0 \nOutput \nlevels  VOL Static output level low  RL of 1.24 k Ω to 3.6 V(4) -  0.3 \nV \nVOH Static output level high  RL of 15 kΩ to VSS(4) 2.8  3.6 \nRPU USBFS_D+ internal pull -up VIN = VSS 0.97 1.24 1.58 kΩ \n(1)  All the voltages are measured from the local ground potential.  \n(2)  The AT32F4 13 USB functionality is ensured down to 2.7 V but not the full USB electrical characteristics which \nare degraded in the 2.7 to 3.0 V V DD voltage range.  \n(3)  Guaranteed by characterization results, not tested in production.  \n(4)  RL is the load connected on the USB drivers.  \nFigure 25. USB FS timings: definition of data signal rise and fall time  \n  \nCrossover\npoints\nVCRS\nVSSDiffierential\ndata lines\ntftr  \nTable 43. USB FS electrical characteristics  \nSymbol  Parameter  Conditions  Min(1) Max(1) Unit \ntr Rise time (2) CL ≤ 50 pF 4 20 ns \ntf Fall Time (2) CL ≤ 50 pF 4 20 ns \ntrfm Rise/fall time matching  tr/tf 90 110 % \nVCRS Output signal crossover voltage  - 1.3 2.0 V \n(1)  Guaranteed by design, not tested in production.  \n(2)  Measured from 10% to 90% of the data signal. For more detailed information, please refer to USB Specification \nChapter 7 (version 2.0).  \nAT32F413 Series Datasheet  \n2022.6.6  57 Ver 2.01  \n5.3.18  12-bit ADC characteristics  \nUnless otherwise specified, the parameters given in the table below are preliminary values derived \nfrom tests performed under ambient temperature, f PCLK2 frequency and V DDA supply voltage \nconditions summarized in Table  11. \nNote:  It is recommended to perform a calibration after each power -up. \nTable 44. ADC characteristics  \nSymbol  Parameter  Conditions  Min Typ Max Unit \nVDDA Power supply  - 2.6 - 3.6 V \nIDDA Current on the V DDA input pin  - - 790(1) 900 μA \nfADC ADC clock frequency  - 0.6 - 28 MHz \nfS(2) Sampling rate  - 0.05 - 2 MHz \nfTRIG(2) External trigger frequency  fADC = 28 MHz  - - 1.65 MHz \n- - - 17 1/fADC \nVAIN Conversion voltage range(3) - 0 (VREF-tied to \nground))  - VREF+ V \nRAIN(2) External input impedance  - See Table 45 and Table 46 for details  Ω \nCADC(2) Internal sample and hold \ncapacitor  - - 15 - pF \ntCAL(2) Calibration time  fADC = 28 MHz  6.14 μs \n- 172 1/fADC \ntlat(2) Injection trigger conversion \nlatency  fADC = 28 MHz  - - 107 ns \n- - - 3(4) 1/fADC \ntlatr(2) Regular trigger conversion \nlatency  fADC = 28 MHz  - - 71.4 μs \n- - - 2(4) 1/fADC \ntS(2) Sampling time  fADC = 28 MHz  0.053  - 8.55 μs \n- 1.5 - 239.5  1/fADC \ntSTAB(2) Power -up time  - 42 1/fADC \ntCONV(2) Total conversion time (including \nsampling time)  fADC = 28 MHz  0.5 - 9 μs \n- 14 to 252 (t S for sampling + 12.5 for \nsuccessive approximation)  1/fADC \n(1)  Guaranteed by characterization results, not tested in production.  \n(2)  Guaranteed by design, not tested in production.  \n(3)  VREF+ can be internally connected to VDDA depending on the package.  \n(4)  For external triggers, a delay of 1/fPCLK2 must be added to the latency specified in Table 44. \nAT32F413 Series Datasheet  \n2022.6.6  58 Ver 2.01  \nTable Table 45 and Table 46 are used to define the maximum external impedance allowed for an \nerror below 1 /4 LSB.  \nTable 45. RAIN max for f ADC = 14MHz \nTS (Cycle ) tS (μs) RAIN max (kΩ) \n1.5 0.11 0.2 \n7.5 0.54 1.0 \n13.5 0.96 2.0 \n28.5 2.04 4.2 \n41.5 2.96 6.0 \n55.5 3.96 8.5 \n71.5 5.11 11 \n239.5  17.11  32 \n(1)  Guaranteed by design.  \nTable 46. RAIN max for f ADC = 28 MHz(1) \nTS (Cycle ) tS (μs) RAIN max (kΩ) \n1.5 0.05 0.1 \n7.5 0.27 0.4 \n13.5 0.48 0.9 \n28.5 1.02 2.1 \n41.5 1.48 3.0 \n55.5 1.98 4.0 \n71.5 2.55 5.0 \n239.5  8.55 19 \n(1)  Guaranteed by design.  \nTable 47. ADC accuracy (1) \nSymbol  Parameter  Test Conditions  Typ Max(3) Unit \nET Total unadjusted error  fPCLK2  = 56 MHz,  \nfADC = 28 MHz , RAIN < 10 k Ω,  \nVDDA = 3.0  to 3.6 V , TA = 25 °C  \nMeasurements made after ADC calibration  \nVREF+ = V DDA ±2 ±4 \nLSB EO Offset error  ±1 ±2 \nEG Gain error  ±1.5 ±3 \nED Differential linearity error  ±0.5 ±1 \nEL Integral linearity error  ±0.6 ±1 \nET Total unadjusted error  \nfPCLK2  = 56 MHz,  \nfADC = 28 MHz , RAIN < 10 k Ω,  \nVDDA = 2.6 to 3.6 V   \nMeasurements made after ADC calibration  ±2 ±4 \nLSB EO Offset error  ±1 ±2.5 \nEG Gain error  ±1.5 ±3.5 \nED Differential linearity error  ±0.5 ±1 \nEL Integral linearity error  ±0.6 ±1.2 \n(1)    ADC DC accuracy values are measured after internal calibration.  \n(2)  Guaranteed by characterization results, not tested in production.  \n \n \nAT32F413 Series Datasheet  \n2022.6.6  59 Ver 2.01  \nFigure 26. ADC accuracy characteristics  \n  \n1234567409340944095\n1 2 3   4      5      6 7 4093 4094 4095 4096（2）\n（3）\n（1）\n0\nVSSA VDDA[1LSB IDEAL =——VREF+\n4096(or—— depending on package )VDDA\n4096\nEO]\nETEG\nEL\n1LSB IDEALED  \n(1)  Example of an actual transfer curve.  \n(2)  Ideal transfer curve.  \n(3)  End point correlation line.  \n(4)  ET = Maximum deviation between the actual and the ideal transfer curves.  \nEO = Deviation between the first actual transition and the first ideal one.  \nEG = Deviation betwe en the last ideal transition and the last actual one.  \nED = Maximum deviation between actual steps and the ideal one.  \nEL = Maximum deviation between any actual transition and the end point correlation line.  \nFigure 27. Typical connection diagram using the ADC  \n  \n12-bit\ncoverterSample and hold ADC\ncoverter\nRADC\nCADC(1)VDD\nVT\n0.6V\nVT\n0.6VIL\nVAIN\nRAIN(1)ADCx _INx\nCparasitic  \n(1)  Refer to Table 44 for the values of RAIN and CADC. \n(2)  Cparasiti c represents the capacitance of the PCB (dependent on soldering and PCB layout quality) plus the pad \ncapacitance (roughly 7 pF). A high C parasitic  value will downgrade conversion accuracy. To remedy this, f ADC \nshould be reduced.  \nGeneral PCB design guidelines  \nPower supply decoupling should be performed as shown in Figure 28. The 100 nF capacitors \nshould be ceramic (good quality). They should be placed them as close as possible to the chip.  \nFigure 28. Power supply and reference decoupling  \nAT32F413 Series Datasheet  \n2022.6.6  60 Ver 2.01  \nVDDA\nVSSA\n1 µF // 100 nF\n \n5.3.19  Internal reference voltage (V INTRV) characteristics  \nTable 48. Internal reference voltage characteristics  \nSymbol  Parameter  Conditions  Min Typ Max Unit \nVINTRV Internal reference voltage  - 1.16 1.20 1.24 V \nTCoeff(1) Temperature coefficient  - - - 120 ppm/°C  \nTS_VINTRV ADC sampling time when reading the \ninternal reference voltage  - - 5.1 17.1 μs \n(1)  Guaranteed by design, not tested in production.  \n \n5.3.20  Temperature sensor (V TS) characteristics  \nTable 49. Temperature sensor characteristics  \nSymbol  Parameter  Min Typ Max Unit \nTL(1) VSENSE linearity with temperature  - ±2 ±5 ºC \nAvg_Slope(1(2)) Average slope  -4.13 -4.20 -4.35 mV/ºC  \nV25(1)(2) Voltage at 25 ºC  1.18 1.28 1.38 V \ntSTART(3) Startup time  - - 100 μs \nTS_temp(3)(4 ) ADC sampling time when reading the  temperature  - 8.6 17.1 μs \n(1)  Guaranteed by characterization results, not tested in production.  \n(2)  The temperature sensor output voltage changes linearly with temperature. The offset of this line varies from chip \nto chip due to process variation (up to 50 ° C from one chip to another). The internal temperature sensor is more \nsuited to applications that detect temperature variations instead of absolute temperatures. If accurate \ntemperature readings are needed, a n external temperature sensor part should be used.  \n(3)  Guaranteed by design, not tested in production.  \n \nObtain the temperature using the following formula:  \nTemperature (in °C) = {(V 25 - VTS) / Avg_Slope} + 25.  \nWhere,  \nV25 = V TS value for 25° C and  \nAvg_Slope  = Average Slope for curve between Temperature vs. V TS (given in mV/° C).  \nAT32F413 Series Datasheet  \n2022.6.6  61 Ver 2.01  \nFigure 29. VTS vs. temperature  \n \n  \n0.901.001.101.201.301.401.501.601.70\n-40-35-30-25-20-15-10-505101520253035404550556065707580859095100105Vsense (V)\nTemperature (℃)\nAT32F413 Series Datasheet  \n2022.6.6  62 Ver 2.01  \n6 Package information  \n6.1 LQFP 64 package information  \nFigure 30. LQFP6 4 – 10 x 10 mm 64 pin low -profile quad flat package outline  \n \n \n \n\nAT32F413 Series Datasheet  \n2022.6.6  63 Ver 2.01  \nTable 50. LQFP64 – 10 x 10 mm 64  pin low -profile quad flat package mechanical data  \nSymbol  Millimeters  \nMin Typ Max \nA - - 1.60 \nA1 0.05 - 0.15 \nA2 1.35 1.40 1.45 \nb 0.17 0.20 0.27 \nc 0.09 - 0.20 \nD 11.75  12.00  12.25  \nD1 9.90 10.00  10.10  \nE 11.75  12.00  12.25  \nE1 9.90 10.00  10.10  \ne 0.50 BSC.  \nΘ 3.5° REF. \nL 0.45 0.60 0.75 \nL1 1.00 REF. \nccc 0.08 \n \n \n \nAT32F413 Series Datasheet  \n2022.6.6  64 Ver 2.01  \n6.2 LQFP48  package information  \nFigure 31. LQFP48 – 7 x 7 mm 48  pin low -profile quad flat package outline  \n  \n \n\nAT32F413 Series Datasheet  \n2022.6.6  65 Ver 2.01  \nTable 51. LQFP48 – 7 x 7 mm 48  pin low -profile quad flat package mechanical data  \nSymbol Millimeters  \nMin Typ Max \nA - - 1.60 \nA1 0.05 - 0.15 \nA2 1.35 1.40 1.45 \nb 0.17 0.22 0.27 \nc 0.09 - 0.20 \nD 8.80 9.00 9.20 \nD1 6.90 7.00 7.10 \nE 8.80 9.00 9.20 \nE1 6.90 7.00 7.10 \ne 0.50 BSC.  \nΘ 0° 3.5° 7° \nL 0.45 0.60 0.75 \nL1 1.00 REF. \n \n \n \nAT32F413 Series Datasheet  \n2022.6.6  66 Ver 2.01  \n6.3 QFN48  package information  \nFigure 32. QFN48 – 6 x 6 mm 48  pin quad flat no-leads package  outline  \n  \n \n\nAT32F413 Series Datasheet  \n2022.6.6  67 Ver 2.01  \nTable 52. QFN48 – 6 x 6 mm 48 pin quad flat no -leads package  mechanical data  \nSymbol Millimeters  \nMin Typ Max \nA 0.80 0.85 0.90 \nA1 0.00 0.02 0.05 \nA3 0.203 REF.  \nb 0.15 0.20 0.25 \nD 5.90 6.00 6.10 \nD2 3.07 3.17 3.27 \nE 5.90 6.00 6.10 \nE2 3.07 3.17 3.27 \ne 0.40 BSC.  \nK 0.20 - - \nL 0.35 0.40 0.45 \n \n \n \nAT32F413 Series Datasheet  \n2022.6.6  68 Ver 2.01  \n6.4 QFN32  package information  \nFigure 33. QFN32 – 4 x 4 mm 32  pin quad flat no-leads package outline  \n  \n \n \n\nAT32F413 Series Datasheet  \n2022.6.6  69 Ver 2.01  \nTable 53. QFN32 – 4 x 4 mm 32 pin quad flat no -leads package  mechanical data  \nSymbol Millimeters  \nMin Typ Max \nA 0.80 0.85 0.90 \nA1 0.00 0.02 0.05 \nA3 0.203 REF.  \nb 0.15 0.20 0.25 \nD 3.90 4.00 4.10 \nD2 2.65 2.70 2.75 \nE 3.90 4.00 4.10 \nE2 2.65 2.70 2.75 \ne 0.40 BSC.  \nK 0.20 - - \nL 0.25 0.30 0.35 \n6.5 Device marking  \nFigure 34. Marking example  \nLQFP64 , LQFP48  and QFN48  \n \nQFN32  \n \n(1) Not In Scale.  \n \n\nAT32F413 Series Datasheet  \n2022.6.6  70 Ver 2.01  \n6.6 Thermal characteristics  \nTable 54. Package thermal characteristics  \nSymbol  Parameter  Value  Unit \nΘJA Thermal resistance junction -ambient  \nLQFP6 4 – 10 x 10 mm/0.5 mm pitch  69.2 \n° C/W  Thermal resistance junction -ambient  \nLQFP48 – 7 x 7 mm/0.5 mm pitch  63.8 \nThermal resistance junction -ambient  \nQFN48 – 6 x 6 mm/0.4  mm pitch  50.8 \nThermal resistance junction -ambient  \nQFN32 – 4 x 4 mm/0.4 mm pitch  59.9 \nAT32F413 Series Datasheet  \n2022.6.6  71 Ver 2.01  \n7 Part numbering  \nTable 55. AT32F 413 ordering information scheme  \nExample : AT32  F 4 1 3 K C U 7 -4 \nProduct family  \nAT32  = ARM -based 32 -bit microcontroller  \n \nProduct type  \nF = General -purpose  \n \nCore  \n4 = Cortex®-M4 \n \nProduct series  \n1 = Valued line  \n \nProduct application  \n3 = CAN + USB series  \n \nPin count  \nR = 64 pins \nC = 48 pins \nK = 32 pins \n \nInternal Flash memory size  \nC = 256 KBytes of the internal Flash memory  \nB = 128 KBytes  of the internal Flash memory  \n8 = 64 KBytes of the internal Flash memory  \n \nPackage  \nT = LQFP  \nU = QFN  \n \nTemperature range  \n7 = -40 ° C  to +105 °C \n \nPackage details  \n-4 = QFN32 - 4 x 4 mm  \nBlank = other packages  \nFor a list of available options (speed, package, etc.) or for further information on any aspect of this \ndevice, please contact your nearest Artery sales office.  \nAT32F413 Series Datasheet  \n2022.6.6  72 Ver 2.01  \n8 Document revision history  \nTable 56. Document revision history  \nDate  Version  Change  \n2018.11.23  1.00 Initial release.  \n2019.2.25  1.01 1. Corrected the ma ximum PLL input clock as 16 MHz  \n3. Corrected the number of USART/UART in Table 2 \n4. Modified the maximum HBM value as 5000 V in Table 9 \n2019.3.25  1.02 1. Added AT32F413CBU7  \n2019.4.16  1.03 1. Modified AT32F413KxU7 as AT32F413KxU7 -4 \n2019.8.6  1.04 1. Added CLKOUT prescaler in  Table 2 \n2. Added the maximum rising rate of V DD as note (1) of Table 12 \n2020.3.10  1.05 1. Corrected DMA2  as 7 channels  \n2. Added USBFS1_SOF  function on P A8 \n2022.2.10  2.00 1. Updated document architecture.  \n2. Added note (9) in Table 5 \n3. Corrected SPI frequency in Table 38 \n4. Modified LQFP48  package data  \n5. Modified QFN48  package data and Figure 32 \n2022.6.6  2.01 1. Added max value and notes (TA = 25 °C) in Table 21 and Table 22 \n2. Added min and max values in D, D1, E  and E1 lines of all package mechanic \ndata tables.  \n \n \n \n  \nAT32F413 Series Datasheet  \n2022.6.6  73 Ver 2.01  \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \nIMPORTANT NOTICE – PLEASE READ CAREFULLY  \nPurchasers understand and agree that purchasers are solely responsible for the selection and use of Artery ’s products and services.  \nArtery ’s products and services are provided “AS IS ” and Artery provides no warranties express, implied or statutory, including, without \nlimitation, any implied w arranties of merchantability, satisfactory quality, non -infringement, or fitness for a particular purpose with respect to \nthe Artery ’s products and services.  \nNotwithstanding anything to the contrary, purchasers acquires no right, title or interest in any A rtery’s products and services or any intellectual \nproperty rights embodied therein. In no event shall Artery ’s products and services provided be construed as (a) granting purchasers, expressly \nor by implication, estoppel or otherwise, a license to use thir d party ’s products and services; or (b) licensing the third parties ’ intellectual \nproperty rights; or (c) warranting the third party ’s products and services and its intellectual property rights.  \nPurchasers hereby agrees that Artery ’s products are not autho rized for use as, and purchasers shall not integrate, promote, sell or otherwise \ntransfer any Artery ’s product to any customer or end user for use as critical components in (a) any medical, life saving or life support device \nor system, or (b) any safety de vice or system in any automotive application and mechanism (including but not limited to automotive brake or \nairbag systems), or (c) any nuclear facilities, or (d) any air traffic control device, application or system, or (e) any weap ons device, applicatio n \nor system, or (f) any other device, application or system where it is reasonably foreseeable that failure of the Artery ’s products as used in \nsuch device, application or system would lead to death, bodily injury or catastrophic property damage.  \n© 202 2 ARTERY Technology – All rights reserved\n \n'}]
!==============================================================================!
### Component Summary: AT32F413KCU7-4

#### Key Specifications:
- **Voltage Ratings**: 
  - Operating Voltage: 2.6 to 3.6 V
  - VBAT Supply: 1.8 to 3.6 V
- **Current Ratings**: 
  - Supply Current in Run Mode: Up to 69.1 mA (at 200 MHz)
  - Supply Current in Sleep Mode: Up to 56.5 mA (at 200 MHz)
  - Supply Current in Deepsleep Mode: 480 μA
  - Supply Current in Standby Mode: 7.1 μA
- **Power Consumption**: 
  - Power Dissipation: 289 mW (LQFP64 package at 105 °C)
- **Operating Temperature Range**: -40 to +105 °C
- **Package Type**: 
  - Available in LQFP64 (10 x 10 mm), LQFP48 (7 x 7 mm), QFN48 (6 x 6 mm), and QFN32 (4 x 4 mm)
- **Special Features**: 
  - ARM Cortex-M4 core with FPU
  - Up to 256 KB Flash memory and 64 KB SRAM
  - Multiple communication interfaces including USB FS, CAN, I2C, SPI, and USART
  - Integrated 12-bit ADCs and temperature sensor
  - Low-power modes: Sleep, Deepsleep, and Standby
- **Moisture Sensitive Level**: MSL 3 (according to JEDEC J-STD-020E)

#### Description:
The **AT32F413KCU7-4** is a high-performance ARM® Cortex®-M4 microcontroller (MCU) designed for embedded applications. It operates at a maximum frequency of 200 MHz and features a floating-point unit (FPU) and digital signal processing (DSP) capabilities. The MCU includes a memory protection unit (MPU) for enhanced security and supports a variety of peripherals and interfaces, making it suitable for complex applications.

#### Typical Applications:
The AT32F413KCU7-4 is ideal for a wide range of applications, including:
- **Industrial Automation**: Control systems, motor drivers, and sensor interfaces.
- **Automotive**: CAN communication for vehicle networks.
- **Consumer Electronics**: Smart home devices, wearables, and IoT applications.
- **Medical Devices**: Non-critical monitoring and data acquisition systems.
- **Data Acquisition**: Applications requiring ADCs for sensor data processing.

This MCU's combination of processing power, memory capacity, and versatile communication options makes it suitable for both low-power and high-performance applications across various industries.