[{'role': 'system', 'content': 'You are a technical specialist with expertise in electronics. Your task is to analyze datasheets for electronic components and provide a concise summary of the product’s key characteristics and specifications. In addition, you need to gather textual information about the component, including its description and typical applications.Instructions:    Identify the correct component in the datasheet using the provided product code.    Summarize key parameters, including:        Voltage ratings        Current ratings        Power consumption        Operating temperature range        Package type        Special features or notes (if applicable)        Moisture Sensetive Level JEDEC J-STD-020E    Provide a short description of the component, including what it is (e.g., transistor, microcontroller, sensor) and its primary function.    Explain typical applications for the component (e.g., power management, signal processing, data storage, etc.).    Be thorough and accurate: Ensure the information corresponds specifically to the product code, as some datasheets cover multiple variants.Your goal is to create a clear and accurate technical summary that includes both key specifications and a description of what the component is used for.'}, {'role': 'user', 'content': 'Give me information about the component of AD5421ACPZ-REEL7 production of ANALOG DEVICES from the text: 16-Bit, Serial Input, Loop-Powered, \n4 mA to 20 mA DAC\nData Sheet AD5421\n \n Rev. I  Document Feedbac k \nInformation furnished by Analog Devices is believed to be accurate and reliable. However, no \nresponsibility is assumed by Analog Devices for its use, nor for any infringements of patents or other rights of third parties that may result from its use. Specifications subject to change without notice. No \nlicense is granted by implication or otherwise under any patent or patent rights of Analog Devices. \nTrademarks and registered trademarks are the property of their respective owners.   \n \nOne Technology Way, P.O. Box 9106, Norwood, MA 02062-9106, U.S.A.\nTel: 781.329.4700 ©2011–2018 Analog Devices, Inc. All rights reserved. \nTechnical Support  www.analog.com   FEATURES \n16-bit resolution and monotonicity \nPin selectable NAMUR-compliant ranges \n4 mA to 20 mA 3.8 mA to 21 mA 3.2 mA to 24 mA \nNAMUR-compliant alarm currents \nDownscale alarm current = 3.2 mA Upscale alarm current = 22.8 mA/24 mA \nTotal unadjusted error (TUE): 0.05% maximum INL error: 0.0035% FSR maximum Output TC: 3 ppm/°C typical Quiescent current: 300 μA maximum Flexible SPI-compatible serial digital interface  \nwith Schmitt triggered inputs \nOn-chip fault alerts via FAUL T pin or alarm current Automatic readback of fault register on each write cycle Slew rate control function Gain and offset adjust registers On-chip reference TC: 4 ppm/°C maximum Selectable regulated voltage output Loop voltage range: 5.5 V to 52 V Temperature range: −40°C to +105°C TSSOP and LFCSP packages \nAPPLICATIONS \nIndustrial process control 4 mA to 20 mA loop-powered transmitters Smart transmitters HART network connectivity GENERAL DESCRIPTION \nThe AD5421 is a complete, loop-powered, 4 mA to 20 mA \ndigital-to-analog converter (DAC) designed to meet the needs \nof smart transmitter manufacturers in the industrial control industry. The DAC provides a high precision, fully integrated, \nlow cost solution in compact TSSOP and LFCSP packages. \nThe AD5421 includes a regulated voltage output that is used to \npower itself and other devices in the transmitter. This regulator \nprovides a regulated 1.8 V to 12 V output voltage. The AD5421 \nalso contains 1.22 V and 2.5 V references, thus eliminating the \nneed for a discrete regulator and voltage reference. \nThe AD5421 can be used with standard Highway Addressable \nRemote Transducer (HART®) FSK protocol communication \ncircuitry without any degradation in specified performance. The high speed serial interface is capable of operating at 30 MHz and allows for simple connection to commonly used microprocessors and microcontrollers via a SPI-compatible, 3-wire interface. \nThe AD5421 is guaranteed monotonic to 16 bits. It provides \n0.0015% integral nonlinearity, 0.0012% offset error, and \n0.0006% gain error under typical conditions. \nThe AD5421 is available in a 28-lead TSSOP and a 32-lead LFCSP \nspecified over the extended industrial temperature range of \n−40°C to +105°C. \nCOMPANION LOW POWER PRODUCTS \nHART Modem: AD5700 , AD5700-1  \nMicrocontroller: ADuCM360  \nFUNCTIONAL BLOCK DIAGRAM \nRSET\n24kΩSYNC\nSCLK\nSDIN\nSDO\nLDAC\nRANGE0\nRANGE1\nALARM_CURRENT_DIRECTIONFAULT\nRINT/REXTINPUT\nREGISTER\nCONTROL\nLOGIC\nGAIN/OFFSET\nADJUSTMENT\nREGISTERS\nTEMPERATURE\nSENSOR\nREFOUT2 REFIN CINREXT1 REXT2 REFOUT1VREF16 16-BIT\nDACLOOP\nVOLTAGE\nMONITORVLOOP DVDD IODVDD\nAD5421VOLTAGE\nREGULATORREG_SEL0 REG_SEL1 REG_SEL2 REGOUT REGIN\nDRIVE\nLOOP–11.5kΩ 52Ω\n09128-001COM\n \nFigure 1.  \nAD5421 Data Sheet \n \nRev. I | Page 2  of 36 TABLE OF CONTENTS  \nFeatures  .............................................................................................. 1 \nApplications  ....................................................................................... 1 \nGeneral Descript ion ......................................................................... 1 \nCompanion Low Power Products  .................................................. 1 \nFunctional Block Diagram  .............................................................. 1 \nRevision History  ............................................................................... 3 \nSpecifications  ..................................................................................... 4 \nAC Performance  Characteristics  ................................................ 9 \nTiming Characteristics  ................................................................ 9 \nAbsolute Maximum Ratings  .......................................................... 11 \nThermal Resistance  .................................................................... 11 \nESD Caution  ................................................................................ 11 \nPin Configurations and Function Descriptions  ......................... 12 \nTypical Performance Characteristics  ........................................... 14 \nTerminology  .................................................................................... 20 \nTheory of Operation  ...................................................................... 21 \nFault Alerts  .................................................................................. 21 \nExternal Current Setting Resistor  ............................................ 22 \nLoop Current Range Selecti on .................................................. 22 \nConnection to Loop Power Supply  .......................................... 22 On-Chip ADC  ............................................................................ 23 \nVoltage Regulator  ....................................................................... 23 \nLoop Curre nt Slew Rate Control  .............................................. 23 \nPower -On Default  ...................................................................... 24 \nHART Communications  ........................................................... 24 \nSerial Interface  ................................................................................ 26 \nInput Shift Register  .................................................................... 26 \nRegister  Readback ...................................................................... 26 \nDAC Register  .............................................................................. 27 \nControl Register  ......................................................................... 28 \nFault Register  .............................................................................. 29 \nOffset Adjust Register  ................................................................ 30 \nGain A djust Register  .................................................................. 30 \nApplications Information  .............................................................. 32 \nDetermining the Expected Total Error  ................................... 32 \nThermal and Supply Considerations  ....................................... 34 \nOutline Dimensions  ....................................................................... 35 \nOrdering Guide  .......................................................................... 36 \n \n \nData Sheet AD5421 \n \nRev. I | Page 3  of 36 REVISION HISTORY  \n11/2018— Rev. H to Rev. I  \nChange to Table 7  ............................................................................ 11 \nChanges to Figure 6  ......................................................................... 12 \nUpdated Outline Dimensions  ........................................................ 35 \nChanges to Ordering Guide  ........................................................... 36 \n \n11/2014— Rev. G to Rev. H  \nChanges to Offset Adjust Register Section and Gain Adjust \nRegister Section  ............................................................................... 30 \n \n10/2013— Rev. F to Rev. G  \nAdded Figure 4; Renumbered Sequentially  ................................. 10 \nChange to Table 7  ............................................................................ 11 \nChanges to Fault Alerts Section  .................................................... 21 \nAdded Table 11; Renumbered Sequentially  ................................. 24 \nMoved Figure 48  .............................................................................. 25 \nChanges to Applications Information Section  ............................ 32 \nChanges to Figure 51  ...................................................................... 33 \n \n1/2013— Rev. E to Rev. F  \nMoved Revision History Section  ..................................................... 3 \nChange to Table 7  ............................................................................ 11 \nChanges to Table 8  .......................................................................... 13 \nChanges to On -Chip ADC Section  ............................................... 23 \nChanges to Table 19 and On -Chip ADC Transfer Function \nEquations Section  ............................................................................ 29 \n \n7/2012— Rev. D to Rev. E  \nChanges to Figure 1 and Companion Products Section  .............. 1 \nChanges to Pin LOOP− Description  ............................................ 12 \nChanges to Applications Information Section and Figure 49  ... 31 \nAdded Figure 50  .............................................................................. 32 \n 5/2012— Rev. C to Rev. D  \nChanges to Features Section and Applications Section; Added Companion Products Section  .......................................................... 1 \nChanges to Line Regulation Parameter, Table 1  ............................ 5 \nUpdated Outline Dimensions  ........................................................ 33 \n  12/2011— Rev. B to Rev. C  \nChange to REFOUT1 Pin, Capacitive Load Parameter, Test Conditions, Table 1  ........................................................................... 4 \nChange to REGOUT Output, Capacitive Load Parameter, Tes t \nConditions, Table 1  ........................................................................... 5 \nChanges to ESD Parameter, Table 6  .............................................. 10 \n 12/2011— Rev. A to Rev. B  \nAdded 32 -Lead LFCSP ...................................................... Universal  \nChanges to the Specifications Section, Table 1  ............................. 3 \nChanges to Table 7  .......................................................................... 10 \nAdded Figure 5, Renumbered Sequentially  ................................. 11 \nChanges to Table 8  .......................................................................... 11 \nChanges to Figure 33  ...................................................................... 17 \nChanges to the On -Chip ADC Section  ........................................ 22 \nChanges to Figure 46  ...................................................................... 23 \nChanges to Figure 48  ...................................................................... 24 \nChanges to the Register Readback Section  .................................. 25 \nUpdated Outline Dimensions  ........................................................ 33 \nChanges to Ordering Guide  ........................................................... 34 \n 5/2011— Rev. 0 to Rev. A  \nChanges to REGIN, REFOUT1, and REFOUT2 Pin Descriptions in Table 8  ................................................................... 10 \nChange to Figure 45  ........................................................................ 22 \nChanges to Input Shift Register Section, Table 11, and Register Readback Section  ............................................................................ 24 \nChanges to Figure 48  ...................................................................... 30 \n \n2/2011— Revision 0: Initial Version  \n \n \n \n \n  \n \nAD5421 Data Sheet \n \nRev. I | Page 4 of 36 SPECIFICATIONS \nLoop voltage = 24 V; REFIN = 2.5 V external; R L = 250 Ω; external NMOS connected; all loop current ranges; all specifications  \nTMIN to T MAX, unless otherwise noted.  \nTable 1.  \nParameter1 Min  Typ  Max  Unit  Test Conditions/Comments \nACCURACY, INTERNAL R SET      \nResolution  16   Bits  \nTotal Unadjusted Error (TUE)2 −0.126  +0.126 % FSR  C grade  \n −0.041 ±0.0064 +0.041 % FSR  C grade, T A = 25°C \n −0.18  +0.18 % FSR  B grade  \n −0.06 ±0.011 +0.06 % FSR  B grade, T A = 25°C \n −0.27  +0.27 % FSR  A grade  \n −0.08 ±0.011 +0.08  A grade, T A = 25°C  \nTUE Long -Term Stability   210  ppm FSR  Drift after 1000 hours at T A = 125°C \nRelative Accuracy (INL)  −0.0035 ±0.0015 +0.0035 % FSR  C grade  \n −0.012 ±0.006 +0.012 % FSR  B grade  \n −0.024  ±0.01  +0.024  % FSR  A grade  \nDifferential Nonlinearity (DNL)  −1  +1 LSB Guaranteed monotonic  \nOffset Error  −0.056  +0.056 % FSR  B grade and C grade  \n −0.008 ±0.0008 +0.008 % FSR  B grade and C grade, T A = 25°C  \n −0.11 ±0.0008 +0.11 % FSR  A grade  \nOffset Error TC3  1  ppm FSR/°C  \nGain Error  −0.107   +0.107  % FSR  B grade and C grade  \n −0.035 ±0.0058 +0.035 % FSR  B grade and C grade, T A = 25°C  \n −0.2 ±0.0058 +0.2 % FSR A grade  \nGain Error TC3  4  ppm FSR/°C  \nFull-Scale Error  −0.126  +0.126 % FSR  B grade and C grade  \n −0.041  ±0.0065  +0.041  % FSR  B grade and C grade, T A = 25°C  \n −0.25 ±0.0065 +0.25 % FSR  A grade  \nFull-Scale Error TC3  5  ppm FSR/°C  \nDownscale Alarm Current  3.19  3.21 mA  \nUpscale Alarm Current  22.77  22.83 mA 4 mA to 20 mA and 3.8 mA to 21 mA \nranges  \n 23.97   24.03  mA 3.2 mA to 24 mA range  \nACCURACY, EXTERNAL R SET (24 kΩ)      Assumes ideal resistor, B grade and  \nC grade only; not specified for A grade  \nResolution  16   Bits  \nTotal Unadjusted Error (TUE)2 −0.048  +0.048 % FSR  C grade  \n −0.027 ±0.002 +0.027 % FSR  C grade, T A = 25°C \n −0.08  +0.08 % FSR  B grade  \n −0.04 ±0.003 +0.04 % FSR  B grade, T A = 25°C \nTUE Long -Term Stability   40  ppm FSR  Drift after 1000 hours at T A = 125°C \nRelative Accuracy (INL)  −0.0035 ±0.0015 +0.0035 % FSR  C grade  \n −0.012 ±0.006 +0.012 % FSR  B grade  \nDifferential Nonlinearity (DNL)  −1  +1 LSB Guaranteed monotonic  \nOffset Error  −0.021  +0.021 % FSR   \n −0.007 ±0.0012 +0.007 % FSR  TA = 25°C  \nOffset Error TC3  0.5  ppm FSR/°C   \nGain Error  −0.03  +0.03 % FSR   \n −0.023 ±0.0006 +0.023 % FSR  TA = 25°C  \nData Sheet AD5421 \n \nRev. I | Page 5 of 36 Parameter1 Min  Typ  Max  Unit  Test Conditions/Comments \nGain Error TC3  1  ppm FSR/°C  \nFull-Scale Error  −0.047  +0.047 % FSR   \n −0.028 ±0.0017 +0.028 % FSR  TA = 25°C  \nFull-Scale Error TC3  1  ppm FSR/°C  \nDownscale Alarm Current  3.08   3.21  mA  \nUpscale Alarm Current  22.78  23 mA 4 mA to 20 mA and 3.8 mA to 21 mA \nranges  \n 23.99  24.01 mA 3.2 mA to 24 mA range  \nOUTPUT CHARACTERISTICS3      \nLoop Compliance Voltage4 LOOP− + 5.5    V REG OUT < 5.5 V, loop current = 24 mA  \n LOOP− + 12.5    V REG OUT = 12 V, loop current = 24 mA  \nLoop Current Long- Term Stability   100  ppm FSR  Drift after 1000 hours at T A = 125°C, \nloop current = 12 mA, internal R SET \n  15  ppm FSR  Drift after 1000 hours at T A = 125°C, \nloop current = 12 mA, external R SET \nLoop Current Error vs. REG OUT Load \nCurrent   1.2  µA/mA  Loop current = 12 mA, load current from REG\nOUT = 5 mA  \nResistive Load  0  2 kΩ See Figure 21 for a load line graph  \nInductive Load   50  mH Stable operation  \nPower Supply Sensitivity    0.1 µA/V  Loop current = 12 mA  \nOutput Impedance  12 400  MΩ  \nOutput TC   3  ppm FSR/°C Loop current =  12 mA, internal R SET \n  1  ppm FSR/°C Loop current = 12 mA, external R SET \nOutput Noise       \n0.1 Hz to 10  Hz  50  nA p -p  \n500 Hz to 10 kHz   0.2  mV rms HART bandwidth; measured across \n500 Ω load  \nNoise Spectral Density   195  nA/√Hz  At 1 kHz  \n  256  nA/√Hz  At 10 kHz  \nREFERENCE INPUT (REFIN PIN)3      \nReference Input Voltage5  2.5  V For specified performance \nDC Input Impedance  75 800  MΩ  \nREFERENCE OUTPUTS       \nREFOUT1 Pin       \nOutput Voltage  2.498 2.5 2.503 V TA = 25°C  \nTemperature Coefficient   1.5 4 ppm/°C  C grade  \n  2 8 ppm/°C  B grade  \n  4 10 ppm/°C  A grade  \nOutput Noise (0.1 Hz to 10 Hz)3  7.5  µV p -p  \nNoise Spectral Density3  245  nV/√Hz  At 1 kHz  \n  70  nV/√Hz  At 10 kHz  \nOutput Voltage Drift vs. Time3  200  ppm  Drift after 1000 hours at T A = 125°C  \nCapacitive Load3  10  nF Recommended operation  \nLoad Current3, 6  4  mA  \nShort -Circuit Current3  6.5  mA Short circuit to COM  \nPower Supply Sensitivity3  2 12 µV/V   \nThermal Hysteresis3  285  ppm  First temperature cycle  \n  5  ppm  Second temperature cycle  \nLoad Regulation3  0.1 0.2 mV/mA  Measured at 0 mA and 1 mA loads  \nOutput Impedance   0.1  Ω  \nREFOUT2 Pin       \nOutput Voltage  1.18 1.227 1.28 V TA = 25°C  \nOutput Impedance   72  kΩ  \nAD5421 Data Sheet \n \nRev. I | Page 6 of 36 Parameter1 Min  Typ  Max  Unit  Test Conditions/Comments \nREG OUT OUTPUT     Voltage regulator output  \nOutput Voltage  1.8  12 V See Table 10 \nOutput Voltage TC3  110  ppm/°C   \nOutput Voltage Accuracy −4 ±2 +4 %  \nExternally Available Current3, 6 3.15    mA Assu ming 4 mA  is flowing in the loop  \nand during HART communications  \nShort -Circuit Current   23  mA  \nLine Regulation3  500  µV/V  Internal NMOS  \n  10  µV/V  External NMOS  \nLoad Regulation3  8  mV/mA   \nInductive Load   50  mH Stable operation  \nCapacitive Load  2 10  µF Recommended operation  \nADC ACCURACY       \nDie Temperature  ±5  °C  \nVLOOP Input   ±1  %  \nDV DD OUTPUT     Can be overdriven up to 5.5 V  \nOutput Voltage  3.17 3.3 3.48 V  \nExternally Available Current3, 6 3.15   mA Assu ming 4 mA is flowing in the loop \nand during HART communications  \nShort -Circuit Current   7.7  mA  \nLoad Regulation  45  mV/mA  Measured at 0 mA and 3 mA loads  \nDIGITAL INPUTS3     SCLK, SYNC , SDIN,  LDAC\nInput High Voltage, V IH 0.7 × IODV DD   V  \nInput Low Voltage, V IL   0.25 × IODV DD V  \nHysteresis   0.21   V IODV DD = 1.8 V  \n  0.63  V IODV DD = 3.3 V  \n  1.46  V IODV DD = 5.5 V  \nInput Current  −0.015  +0.015 µA Per pin  \nPin Capacitance   5  pF Per pin  \nDIGITAL OUTPUTS3      \nSDO Pin       \nOutput Low Voltage, V OL   0.4 V  \nOutput High Voltage, V OH IODV DD − 0.5    V  \nHigh Impedance Leakage \nCurrent  −0.01  +0.01 µA  \nHigh Impedance Output \nCapacitance   5  pF  \nFAULT Pin       \nOutput Low Voltage, V OL   0.4 V  \nOutput High Voltage, V OH IODV DD − 0.5   V  \nFAULT THRESHOLDS      \nILOOP Under   ILOOP − 0.01% FSR   mA  \nILOOP Over   ILOOP + 0.01% FSR   mA  \nTemp 140°C  133  °C Fault removed when temperature \nis ≤ 125°C \nTemp 100°C  90  °C Fault removed when temperature  is ≤ 85°C \nVLOOP 6V  0.3  V Fault removed when V LOOP ≥ 0.4 V  \nVLOOP 12V  0.6  V Fault removed when V LOOP ≥ 0.7  V \nData Sheet AD5421 \n \nRev. I | Page 7 of 36 Parameter1 Min  Typ  Max  Unit  Test Conditions/Comments \nPOWER REQUIREMENTS       \nREG IN 5.5  52 V With respect to LOOP−  pin \nIODV DD 1.71  5.5 V With  respect to COM  pin \nQuiescent Current   260 300 µA  \n \n1 Temperature range: −40°C to +105°C; typical at +25°C.  \n2 Total unadjusted error is the total measured error (offset error + gain error + linearity error + output drift over temperature) after factory calibration of the AD5421. \nSystem level total error can be reduced using the offset and gain registers.  \n3 Guaranteed by design and characterization; not production tested.  \n4 The voltage between LOOP−  and REG IN must be 5.5 V or greater.  \n5 The AD5421 is factory calibrated with an external 2.5 V reference connected to REFIN.  \n6 This is the current that the output is capable of sourcing. The load current originates from the loop and, therefore, contributes to the total current consumption figure.  \n \nAD5421 Data Sheet \n \nRev. I | Page 8 of 36 Loop voltage = 24 V; REFIN = REFOUT1 (2.5 V internal reference); R L = 250 Ω; external NMOS connected; all loop current ranges;  \nall specifications T MIN to T MAX, unless otherwise noted.  \nTable 2. \nParameter1, 2 C Grade  \nUnit  Test Conditions/Comments Min  Typ  Max  \nACCURACY, INTERNAL R SET      \nTotal Unadjusted Error (TUE)3 −0.157  +0.157 % FSR   \n −0.117 ±0.0172 +0.117 % FSR  TA = 25°C  \nRelative Accuracy (INL)  −0.004  +0.004 % FSR   \n −0.004 ±0.0015 +0.004 % FSR  TA = 25°C  \nOffset Error  −0.04  +0.04 % FSR   \n −0.025  ±0.0025  +0.025  % FSR  TA = 25°C  \nOffset Error TC   1  ppm FSR/°C  \nGain Error  −0.128  +0.128 % FSR   \n −0.093 ±0.0137 +0.093 % FSR  TA = 25°C  \nGain Error TC   5  ppm FSR/°C  \nFull-Scale Error  −0.157  +0.157 % FSR   \n −0.117 ±0.0172 +0.117 % FSR  TA = 25°C  \nFull-Scale Error TC   6  ppm FSR/°C  \nACCURACY, EXTERNAL R SET (24 kΩ)      Assumes ideal resistor  \nTotal Unadjusted Error (TUE)3 −0.133  +0.133 % FSR   \n −0.133 ±0.0252 +0.133 % FSR  TA = 25°C  \nRelative Accuracy (INL)  −0.004  +0.004 % FSR   \n −0.004 ±0.0015 +0.004 % FSR  TA = 25°C  \nOffset Error  −0.029  +0.029 % FSR   \n −0.029  ±0.0038  +0.029  % FSR  TA = 25°C  \nOffset Error TC   0.5  ppm FSR/°C  \nGain Error  −0.11  +0.11 % FSR   \n −0.106 ±0.0197 +0.106 % FSR  TA = 25°C  \nGain Error TC   2  ppm FSR/°C  \nFull-Scale Error  −0.133  +0.133 % FSR   \n −0.133 ±0.0252 +0.133 % FSR  TA = 25°C  \nFull-Scale Error TC   2  ppm FSR/°C  \n \n1 Temperature range: −40°C to +105°C; typical at +25°C.  \n2 Specifications guaranteed by design and characterization; not production tested.  \n3 Total unadjusted error is the total measured error (offset error + gain error + linearity error + output drift over temperature) after factory calibration of the AD5421. \nSystem level total error can be reduced using the offset and gain registers.  \n \n \n \n \nData Sheet AD5421 \n \nRev. I | Page 9 of 36 AC PERFORMANCE CHARA CTERISTICS  \nLoop voltage = 24 V; REFIN = 2.5 V external; R L = 250 Ω; all specifications T MIN to T MAX, unless otherwise noted.  \nTable 3.  \nParameter1 Min  Typ  Max  Unit  Test Conditions/Comments \nDYNAMIC PERFORMANCE       \nLoop Current Settling Time   50  µs To 0.1% FSR, C IN = open circuit  \nLoop Current Slew Rate   400  µA/µs CIN = open circuit  \nAC Loop Voltage Sensitivity   1.3  µA/V  1200 Hz to 2200 Hz, 5 V p -p, R L = 3 kΩ  \n \n1 Temperature range: −40°C to +105°C; typical at +25°C.  \n \nTIMING CHARACTERISTI CS \nLoop voltage = 24 V; REFIN = 2.5 V external; R L = 250 Ω; all specifications T MIN to T MAX. \nTable 4.  \nParameter1, 2, 3 Limit at T MIN, T MAX Unit  Description  \nt1 33 ns min  SCLK cycle time \nt2 17 ns min  SCLK high time  \nt3 17 ns min  SCLK low time  \nt4 17 ns min  SYNC  falling edge to SCLK falling edge setup time \nt5 10 ns min  SCLK falling edge to SYNC  rising edge  \nt6 25 µs min  Minimum SYNC  high time \nt7 5 ns min  Data setup time  \nt8 5 ns min  Data hold time  \nt9 25 µs min  SYNC  rising edge to LDAC  falling edge  \nt10 10 ns min  LDAC  pulse width low  \nt11 70 ns max  SCLK rising edge to SDO valid (C L SDO = 30 pF)  \nt12 0 ns min  SYNC  falling edge to SCLK rising edge setup time \nt13 70 ns max  SYNC  rising edge to SDO tristate (C L SDO = 30 pF)  \n \n1 Guarant eed by  design and characterization; not production tested.  \n2 All input signals are specified with t R = t F = 5 ns (10% to 90% of DV DD) and timed from a voltage level of 1.2 V.  \n3 See Figure 2 and Figure 3. \n \nTable 5. SPI Watchdog Timeout Periods  \nParameter1 \nMin  Typ  Max  Unit  T0 T1 T2 \n0 0 0 43 50 59 ms \n0 0 1 87 100 117 ms \n0 1 0 436 500 582 ms \n0 1 1 873 1000 1163 ms \n1 0 0 1746 2000 2326 ms \n1 0 1 2619  3000  3489  ms \n1 1 0 3493 4000 4652 ms \n1 1 1 4366 5000 5814 ms \n \n1 Specifications guaranteed by design and characterization; not production tested.  \n \nAD5421 Data Sheet\n \nRev. I | Page 10 of 36 Timing Diagrams \nD15 D14 D13 D2 D1 D0D14 D13 D2 D1 D151 2 89 10 11 12 22 23 24\nLDACSYNCSDIN\nSDOt12\nSCLKt1\nt2 t3\nt8t7 t4\nt6t11t13\nt5\nt9 t10\n09128-002D0 D16 D23\n \nFigure 2. Serial Interface Timing Diagram \n \n \nSYNCSDIN\nSDOSCLK\nD23 D15 D018 92 4\nD15 D0D23 D0 D151 89 24\nD16 D16\nINPUT WORD SPECIFIES REGISTER TO BE READ\nUNDEFINED DATA\nSPECIFIED REGISTER DATA CLOCKED OUTNOP OR REGISTER ADDRESS\n09128-003 \nFigure 3. Readback Timing Diagram \n \n200µA I OL\n200µA I OHVOH (MIN) OR\nVOL (MAX)TO OUTPUT\nPINCL\n30pF\n09128-105 \nFigure 4. SDO Load Diagram \n  \nData Sheet AD5421 \n \nRev. I | Page 11 of 36 ABSOLUTE MAXIMUM RAT INGS  \nTA = 25°C, unless otherwise noted. Transient currents of up  \nto 100 mA do not cause SCR latch -up. \nTable 6.  \nParameter  Rating  \nREG IN to COM  −0.3 V to +60 V  \nREG OUT to COM  −0.3 V to +14 V  \nDigital Inputs to COM,  \nRANGE0, RANGE1, R INT/REXT, \nALARM_CURRENT_DIRECTION, \nREG_SEL0, REG_SEL1, REG_SEL2  −0.3 V to DV DD + 0.3 V  \nor +7 V (whichever is less)  \nDigital Inputs to COM  \nSCLK, SDIN, SYNC ,  LDAC−0.3 V to IODV DD + 0.3 V  \nor +7 V (whichever is less)  \nDigital Outputs to COM,  \nSDO, FAULT  −0.3 V to IODV DD + 0.3 V  \nor +7 V (whichever is less)  \nREFIN to COM  −0.3 V to +7 V  \nREFOUT1, REFOUT2  −0.3 V to +4.7 V  \nVLOOP to COM  −0.3 V to +60 V  \nLOOP− to COM  −5 V to +0.3 V  \nDV DD to COM  −0.3 V to +7 V  \nIODV DD to COM  −0.3 V to +7 V  \nREXT1, C IN to COM  −0.3 V to +4.3 V  \nREXT2 to COM  −0.3 V to +0.3 V  \nDRIVE to COM  −0.3 V to +11 V  \nOperating Temperature Range (T A)  \nIndustrial  −40°C to +105°C \nStorage  Temperature Range  −65°C to +150°C \nJunction Temperature (TJ MAX) 125°C \nPower Dissipation  (TJ MAX − T A)/θ JA \nLead Temperature,  \nSoldering (10 sec)  JEDEC Industry Standard  \nJ-STD -020 \nESD   \nHuman Body Model  3 kV  \nField Induced Charged Device \nModel  2 kV  \nMachine Model  200 V  Stresses at or above those listed under Absolute Maximum \nRatings may cause permanent damage to the product. This is a stress rating only; functional operation of the product at these or any other conditions above those indicated in the operational \nsection of this specification is not implied. Operation beyond \nthe maximum operating conditions for extended periods may \naffect product reliability.  \nTHERMAL RESISTANCE  \nθJA is specified for the worst -case conditions, that is, a device \nsoldered in a circuit board for surface -mount packages.  \nTable 7. Thermal Resistance  \nPackage Type  θJA1 θJC Unit  \nRE-28-2  32 9 °C/W  \nCP-32-12 40 7 °C/W  \n \n1 Thermal impedance simulated values are based on JEDEC 2S2P thermal test \nboard with thermal vias. See JEDEC JESD51.  \n \nESD CAUTION  \n \n \n \n \n \nAD5421 Data Sheet\n \nRev. I | Page 12 of 36 PIN CONFIGURATIONS AND FUNCTION DESCRIPTIONS \n1\n2\n3\n4\n56\n7\n8\n9\n10\n11\n12\n13\n1428\n27\n26\n25\n2423\n22\n21\n20\n19\n18\n17\n16\n15SDO\nSCLK\nSYNC\nFAULTLDACSDINIODV DD\nREG IN\nDRIVE\nVLOOP\nREXT1REXT2LOOP–\nDVDD\nALARM_CURRENT_DIRECTION\nRINT/REXT\nCOM\nCOMRANGE1RANGE0CIN\nREFOUT1\nREFOUT2\nREG_SEL1\nREG_SEL2REG_SEL0REFINREG OUT\nTOP VIEW\n(Not to Scale)AD5421\nNOTES\n1. THE EXPOSED PADDLE SHOULD BE CONNECTED TO THE SAME\nPOTENTIAL AS THE COM PIN AND TO A COPPER PLANE FOROPTIMUM THERMAL PERFORMANCE.\n09128-004 \nFigure 5. TSSOP Pin Configuration \n09128-100VLOOP\nLOOP–\nREXT2\nREXT1\nCIN\nREFOUT1\nREFOUT2\nREFINRANGE1\nCOMCOMNC\nREG_SEL2\nREG_SEL1\nREG_SEL0\nNCSYNC\nSCLK\nSDOIODV\nDD\nREGOUT\nREG IN\nDRIVENC\nNOTES\n1. NO CONNECT. DO NOT CONNECT TO THIS PIN.\n2. THE EXPOSED PADDLE SHOULD BE CONNECTED TO THE\nSAME POTENTIAL AS THE COM PIN AND TO A CO PPER\nPLANE FOR OPTIMUM THERMAL PERFORMANCE.24\n23\n22\n21\n20\n19\n18\n171\n2\n3\n4\n5\n6\n7\n8SDIN\nLDAC\nFAULT\nCOM\nDVDD\nALARM_CURRENT_DIRECTION\nRINT/REXT\nRANGE0\n9\n10\n11\n12\n13\n14\n15\n1632\n31\n30\n29\n28\n27\n26\n25\nAD5421\nTOP VIEW\n(Not to Scale)PIN 1\nINDICATOR\n \nFigure 6. LFCSP Pin Configuration \n \nTable 8. Pin Function Descriptions \nPin No. \nMnemonic Description TSSOP LFCSP \n1 29 IODV DD Digital Interface Supply Pin. Digital thresholds are referenced to the voltage applied to this pin. A \nvoltage from 1.71 V to 5.5 V can be applied to this pin. \n2 30 SDO Serial Data Output. Used to cloc k data from the input shift regist er. Data is clocked out on the \nrising edge of SCLK and is valid on the falling edge of SCLK. \n3 31 SCLK Serial Clock Input. Data is clocke d into the input shift register on the falling edge of SCLK. This \ninput operates at clock speeds up to 30 MHz. \n4 32 SYNC  Frame Synchronization Input, Active Low. This is the frame synchronization signal for the serial \ninterface. When SYNC  is low, data is transferred on the falling edge of SCLK. The input shift \nregister data is latched on the rising edge of SYNC . \n5 1 SDIN Serial Data Input. Data must be valid on the falling edge of SCLK. \n6 2 LDAC  Load DAC Input, Active Low. This pin is used to update the DAC register and, consequently, the \noutput current. If LDAC  is tied permanently low, the DAC regi ster is updated on the rising edge \nof SYNC . If LDAC  is held high during the write cycle, th e input register is updated, but the output \nupdate is delayed until the falling edge of LDAC . The LDAC  pin should not be left unconnected. \n7 3 FAULT Fault Alert Output Pin, Active High. This pin is as serted high when a fault is detected. Detectable \nfaults are loss of SPI interface control, communication error (PEC), loop current out of range, \ninsufficient loop voltage, and overtemperature.  For more information, see the Fault Alerts \nsection. \n8 5 DV DD 3.3 V Digital Power Supply Output. This pin should  be decoupled to COM with 100 nF and 4.7 μF \ncapacitors. \n9 6 ALARM_ CURRENT_ \nDIRECTION Alarm Current Direction Select. This pin is used to select whether the alarm current is upscale \n(22.8 mA/24 mA) or downscale (3.2 mA). Connecting this pin to DV\nDD selects an upscale alarm \ncurrent (22.8 mA/24 mA); connecting this pin to COM selects a downscale alarm current (3.2 mA). \nFor more information, see the Power-On Default section. \n10 7 R INT/REXT Current Setting Resistor Select. When this pin is connected to DV DD, the internal current setting \nresistor is selected. When this pin is connected to COM, the external current setting resistor is \nselected. An external resistor can be connected between the R EXT1 and R EXT2 pins. \n11, 12 8, 10 RANGE0, RANGE1 Digital Input Pins. These two pins select the loop current range (see the Loop Current Range Selection section). \nData Sheet AD5421 \n \nRev. I | Page 13 of 36 Pin No.  \nMnemonic  Description  TSSOP LFCSP \n13, 14 4, 11, 12  COM  Ground Reference Pin for the AD5421. It is recommended that a 4.7 V Zener diode be placed \nbetween the LOOP− and COM pins. See the Applications Information  section for more \ninformation.  \n15, 16, 17 13, 14, 15  REG_SEL2, REG_SEL1, \nREG_SEL0  These three pins together select the regulator output (REG\nOUT) voltage (see the Voltage Regulator  \nsection).  \n18 17 REFIN  Reference Voltage Input. V REFIN = 2.5 V for specified performance.  \n19 18 REFOUT2 Internal Reference Voltage Output (1.22 V).  It is recommended to connect a 100 nF capacitor \nfrom this pin to COM . \n20 19 REFOUT1 Internal Reference Voltage Output (2.5 V). It is recommended to connect a 100 nF capacitor from \nthis pin to COM.  \n21 20 CIN External Capacitor Connection and HART FSK Input. An external capacitor connected from C IN to \nCOM implements an output slew rate control function (see the Loop Current Slew Rate Control  \nsection). HART FSK signaling can also be coupled through a capacitor to this pin (see the HART \nCommunications  section).  \n22, 23 21, 22 REXT1, REXT2 Connection for External Current Setting Resistor. A precision 24 kΩ resistor can be connected between these pins for improved performance.  \n24 23 LOOP−  Loop Current Return Pin. As shown in Figure 1 , the COM and LOOP− pins can be used to sense \nthe lo op current across the internal 52 \nΩ r\nesistor. Note that the voltage measured at LOOP− is  be \nnegative with respect to COM.  \n25 23 VLOOP Voltage Input Pin. Voltage input range is 0 V to 2.5 V. The voltage applied to this pin is digitized  to \neight bits, which are available in the fault register. This pin can be used for general -purpose \nvoltage monitoring, but it is intended for monitoring of the loop supply voltage. Connecting the loop voltage to this pin via a 20:1 resistor divider allows  the AD5421 to monitor and feedback \nthe loop voltage. The AD5421 also generates an alert if the loop voltage is close to the minimum \noperating value (see the Loop Voltage Fault  section).  \n26 26 DRIVE  Gate Connection for External Depletion Mode MOSFET. For more information, see the Connection to Loop Power Supply  section.  \n27 27 REG IN Voltage Regulator Input. The loop voltage can be connected directly to this pin. Or, to reduce on -\nchip power dissipation, an external pass transistor can be connected at this pin to stand off the \nloop voltage. For more information, see the Connection to Loop Power Supply  section.  \n28 28 REG OUT Voltage Regulator Output. Pin selectable values are from 1.8 V to 12 V via the REG_SEL0, REG_SEL1, and REG_SEL2 pins (see the Voltage Regulator  section). If REGOUT is driving a \nmicroconverter supply (see Figure  50), this pin should be decoupled to COM with a >1 µF \ncapacitor.  \nN/A1 9, 16, 25  NC No Connect. Do not connect to this pin.  \n  EPAD Exposed Paddle. The exposed paddle should be connected to the same potential as the COM pin \nand to a copper plane for optimum thermal performance.  \n \n1 N/A  means not applicable.  \n \n \nAD5421 Data Sheet \n \nRev. I | Page 14 of 36 TYPICAL PERFORMANCE CHARACTERISTICS  \n1.0\n–1.0–0.8–0.6–0.4–0.200.20.40.60.8\n0 60k 50k 40k 30k 20k 10kINL ERROR (LSB)\nDAC CODEVLOOP  = 24V\nEXT NMOS\nRLOAD  = 250Ω\nTA = 25°C\n4mA TO 20mA RANGE\nEXT VREF\nEXT RSET\n09128-005 \nFigure 7. Integral Nonlinearity Error vs. Code  \n1.0\n–1.0–0.8–0.6–0.4–0.200.20.40.60.8\n0 60k 50k 40k 30k 20k 10kDNL ERROR (LSB)\nDAC CODEVLOOP  = 24V\nEXT NMOS\nRLOAD  = 250Ω\nTA = 25°C\n4mA TO 20mA RANGEEXT V\nREF\nEXT RSET\n09128-006 \nFigure 8. Differential Nonlinearity Error vs. Code  \n0.01\n–0.06–0.05–0.04–0.03–0.02–0.010\n0 60k 50k 40k 30k 20k 10kTOTAL UNADJUSTED ERROR (% FSR)\nDAC CODE\n09128-007VREF EXT, R SET EXT, NMOS EXT, 24V\nVREF EXT, R SET EXT, NMOS INT, 24V\nVREF EXT, R SET EXT, NMOS INT, 52V\nVREF INT, R SET INT, NMOS EXT, 24V\nVREF INT, R SET INT, NMOS INT, 24V\nVREF INT, R SET INT, NMOS INT, 52VRLOAD  = 250Ω\nTA = 25°C\n4mA TO 20mA RANGE\n \nFigure 9. Total Unadjusted Error vs. Code  0.015\n–0.010–0.00500.0050.010\n–40 85 60 35 10 –15OFFSET ERROR (% FSR)\nTEMPERATURE (°C)EXT VREF, INT RSET\nEXT VREF, EXT RSET\nINT VREF, INT RSET\nINT VREF, EXT RSET\nVLOOP  = 24V\n4mA TO 20mA RANGE\nRLOAD  = 250Ω\nEXT NMOS\n09128-008 \nFigure 10. Offset Error vs. Temperature  \n0.03\n–0.06–0.05–0.04–0.03–0.02–0.0100.010.02\n–40 85 60 35 10 –15GAIN ERROR (% FSR)\nTEMPERATURE (°C)EXT VREF, INT RSET\nEXT VREF, EXT RSET\nINT VREF, INT RSET\nINT VREF, EXT RSETVLOOP  = 24V\n4mA TO 20mA RANGE\nRLOAD  = 250Ω\nEXT NMOS\n09128-009 \nFigure 11. Gain Error vs. Temperature  \n0.0012\n–0.0008–0.0006–0.0004–0.000200.00020.00040.00060.00080.0010\n–40 85 60 35MAX INL\nMIN INL\n10 –15INL ERROR (% FSR)\nTEMPERATURE (°C)EXT V REF, INT R SET\nEXT V REF, EXT R SET\nINT V REF, INT R SET\nINT V REF, EXT R SETVLOOP  = 24V\n4mA TO 20mA RANGE\nRLOAD  = 250Ω\n09128-010 \nFigure 12. Integral Nonlinearity Error vs. Temperature  \nData Sheet AD5421 \n \nRev. I | Page 15 of 36 0.5\n–0.5–0.4–0.3–0.2–0.100.10.20.30.4\n–40 85 60 35MAX DNL\nMIN DNL\n10 –15DNL ERROR (LSB)\nTEMPERATURE (°C)VLOOP  = 24V\n4mA TO 20mA RANGE\nRLOAD  = 250Ω\n09128-0 11\n \nFigure 13. Differential Nonlinearity Error vs. Temperature  \n0.04\n–0.06–0.05–0.04–0.03–0.02–0.0100.010.020.03\n–40 85 60 35 10 –15TOTAL UNADJUSTED ERROR (% FSR)\nTEMPERATURE (°C)EXT V REF, INT R SET\nEXT V REF, EXT R SET\nINT V REF, INT R SET\nINT V REF, EXT R SETVLOOP  = 24V\n4mA TO 20mA RANGE\nRLOAD  = 250Ω\nEXT NMOS\n09128-012 \nFigure 14. Total Unadjusted Error vs. Temperature  \n–40 85 60 35 10 –15FULL-SCALE ERROR (% FSR)\nTEMPERATURE (°C)EXT V REF, INT R SET\nEXT V REF, EXT R SET\nINT V REF, INT R SET\nINT V REF, EXT R SETVLOOP  = 24V\n4mA TO 20mA RANGE\nRLOAD  = 250Ω\nEXT NMOS\n09128-0130.04\n–0.06–0.05–0.04–0.03–0.02–0.0100.010.020.03\n \nFigure 15. Full -Scale Error vs. Temperature  0.0006\n–0.0006–0.0004–0.000200.00020.0004\n0 60 50 40MAX INL\nMIN INL\n30 20 10INL ERROR (% FSR)\nLOOP SUPPLY VOLTAGE (V)RLOAD  = 250Ω\nTA = 25°C\n3.8mA TO 21mA RANGE\nEXT V REF\nEXT R SET\n09128-014 \nFigure 16. Integral Nonlinearity Error vs. Loop Supply Voltage  \n0.0029\n0.0027\n0.0025\n0.0023\n0.0021\n0.0019\n0.0017\n0.0015\n0 60 50 40 30 20 10TOTAL UNADJUSTED ERROR (% FSR)\nLOOP SUPPLY VOLTAGE (V)RLOAD  = 250Ω\nTA = 25°C\n3.8mA TO 21mA RANGE\nEXT V REF\nEXT R SET\n09128-015 \nFigure 17. Total Unadjusted Error vs. Loop Supply Voltage  \n0.0024\n0.0022\n0.0020\n0.0018\n0.0016\n0.0014\n0.0012\n0.0010\n0 60 50 40 30 20 10OFFSET ERROR (% FSR)\nLOOP SUPPLY VOLTAGE (V)RLOAD  = 250Ω\nTA = 25°C\n3.8mA TO 21mA RANGE\nEXT V REF\nEXT R SET\n09128-016 \nFigure 18. Offset Error vs. Loop Supply Voltage  \nAD5421 Data Sheet \n \nRev. I | Page 16 of 36 0.0015\n–0.0025–0.0020–0.0015–0.0010–0.000500.00050.0010\n0 60 50 40 30 20 10GAIN ERROR (% FSR)\nLOOP SUPPLY VOLTAGE (V)RLOAD  = 250Ω\nTA = 25°C\n3.8mA TO 21mA RANGE\nEXT V REF\nEXT R SET\n09128-017 \nFigure 19. Gain Error vs. Loop Supply Voltage  \n0.0030\n0.0025\n0.0020\n0.0015\n0.0010\n0.0005\n0\n–0.0005\n0 60 50 40 30 20 10FULL-SCALE ERROR (% FSR)\nLOOP SUPPLY VOLTAGE (V)RLOAD  = 250Ω\nTA = 25°C\n3.8mA TO 21mA RANGE\nEXT V REF\nEXT R SET\n09128-018 \nFigure 20. Full -Scale Error vs. Loop Supply Voltage  \n2000\n02505007501000125015001750\n0 50 40 30 20 10LOAD RESISTANCE (Ω)\n LOOP SUPPLY VOLTAGE (V)TA = 25°C\nEXT VREF\nILOOP  = 24mA\nEXT RSET\nOPERATING AREA\n09128-019 \nFigure 21. Load Resistance Load Line vs. Loop Supply Voltage  \n(Voltage Between LOOP− and REG IN) 4.70\n4.354.404.454.504.554.604.65\n–40 100 80 60 40 20 0 –20COMPLIANCE VOLTAGE HEADROOM (V)\nTEMPERATURE (°C)RLOAD  = 250Ω\n3.2mA TO 24mA RANGE\nEXT V REF\nILOOP  = 24mA\n09128-020 \nFigure 22. Compliance Voltage Headroom vs. Temperature  \n7\n6\n5\n4\n3\n2\n1\n0\n0 5.0 4.5 4.0 3.5 3.0 2.5 2.0 1.5 1.0 0.5LOOP CURRENT ERROR (µA)\nREG OUT LOAD CURRENT (mA)VLOOP  = 24V\nEXT NMOS\nRLOAD  = 250Ω\nTA = 25°C\nILOOP  = 20mA\n09128-021 \nFigure 23. Loop Current Error vs. REG OUT Load Current  \n8\n–8–6–4–20246\n0 10 9 8 7 6 5 4 3 2 1VOLTAGE ACROSS 250 Ω LOAD RESISTOR  (µV)\nTIME (Seconds)VLOOP  = 24V\nEXT NMOS\nEXT V REF\nILOOP  = 4mA\nRLOAD  = 250Ω\nTA = 25°C\n09128-022 \nFigure 24. Loop Current Noise, 0.1 Hz to 10 Hz Bandwidth  \nData Sheet AD5421\n \nRev. I | Page 17 of 36 1.0\n–1.0–0.8–0.6–0.4–0.200.20.60.8\n0.4\n01 .0 0.9 0.8 0.7 0.6 0.5 0.4 0.3 0.2 0.1VOLTAGE ACROSS 500 Ω LOAD RESISTOR (mV)\nTIME (Seconds)VLOOP  = 24V\nEXT NMOS\nINT VREFILOOP  = 4mA\nRLOAD  = 500Ω\nTA = 25°C1.33mV p-p\n0.2mV rms\n09128-023\nFigure 25. Loop Current Noise, 500 Hz to 10 kHz Bandwidth  \n(HART Bandwidth) \n6\n5\n432\n1\n0\n–40 –30 –20 –10 0 10 20 30 40VOLTAGE ACROSS 250 Ω LOAD RESISTOR (V)\nTIME (µs)FALLING\nRISINGVLOOP  = 24V\nEXT NMOS\nRLOAD  = 250Ω\nTA = 25°C\nCIN = OPEN CIRCUIT\n09128-025\nFigure 26. Full-Scale Loop Current Step \n6\n5\n432\n1\n0\n–1.0 –0.5 0 0.5 1.0 1.5 2.0 2.5 3.0VOLTAGE ACROSS 250 Ω LOAD RESISTOR (V)\nTIME (ms)FALLING\nRISINGVLOOP  = 24V\nEXT NMOS\nRLOAD  = 250Ω\nTA = 25°C\nCIN = 22nF\n09128-026\nFigure 27. Full-Scale Loop Current Step, C IN = 22 nF 0.244\n0.2260.2280.2300.2320.2340.2360.2380.2400.242\n0 0.5 1.0 1.5 2.0IODVDD CURRENT (µA)\nDIGITAL LOGIC VOLTAGE (V)DECREASING\nINCREASINGIODVDD = 1.8V\nTA = 25°C\n09128-027\nFigure 28. IODV DD Current vs. Digital Logic Voltage, Increasing and \nDecreasing, IODV DD = 1.8 V \n0.60\n0.55\n0.50\n0.45\n0.40\n03 . 5 3.0 2.5 2.0 1.5 1.0 0.5IODVDD CURRENT (µA)\nDIGITAL LOGIC VOLTAGE (V)IODVDD = 3.3V\nTA = 25°C\nDECREASING\nINCREASING\n09128-028\nFigure 29. IODV DD Current vs. Digital Logic Voltage, Increasing and \nDecreasing, IODV DD = 3.3 V \n1.3\n1.2\n1.11.00.90.80.70.6\n06 5 4 3 2 1IODVDD CURRENT (µA)\nDIGITAL LOGIC VOLTAGE (V)IODVDD = 5V\nTA = 25°C\nDECREASING\nINCREASING\n09128-029\nFigure 30. IODV DD Current vs. Digital Logic Voltage, Increasing and \nDecreasing, IODV DD = 5 V \nAD5421 Data Sheet \n \nRev. I | Page 18 of 36 1.85\n1.84\n1.83\n1.82\n1.81\n1.80\n1.79\n1.78\n1.77\n1.760\n–50–45–40–35–30–25–20–15–10–5\n0 120 0.25 0.20 0.15 0.10 0.05\n10 8 6 4 2REGOUT VOLTAGE (V)\nREGOUT VOLTAGE CHANGE (mV)\nREG OUT LOAD CURRENT (mA)REG OUT LOAD CURRENT (mA)\nVLOOP  = 24V\nEXT NMOS\nTA = 25°C\n09128-030 \nFigure 31. REG OUT Voltage vs. Load Current  \n263.5\n258.5259.0259.5260.0260.5261.0261.5262.0262.5263.0\n0 60 50 40 30 20 10QUIESCENT CURRENT (µA)\nLOOP SUPPLY VOLTAGE (V)TA = 25°C\n09128-031 \nFigure 32. Quiescent Current vs. Loop Supply Voltage  \n266\n257258259260261262263264265\n–40 100 80 60 40 20 0 –20QUIESCENT CURRENT (µA)\nTEMPERATURE (°C)VLOOP  = 24V\nEXT NMOS\nVIH = IODV DD\nVIL = COM\nTA = 25°C\n09128-032 \nFigure 33. Quiescent Current vs. Temperature  3.5\n00\n–50\n–100\n–150\n–200\n–2500.51.01.52.02.53.0\n0 1 2 3 4 5DVDD OUTPUT VOLTAGE (V)\nDVDD OUTPUT VOLTAGE CHANGE (mV)\nDVDD LOAD CURRENT (mA)\n09128-101VLOOP  = 24V\nEXT NMOS\nTA = 25°C\n \nFigure 34. DV DD Output Voltage vs. Load Current  \n4\n–4–3–2–10123\n0 10 8 5 4 9 7 6 3 2 1REFOUT1 VOLTAGE NOISE (µV)\nTIME (Seconds)VLOOP  = 24V\nEXT NMOS\nTA = 25°C\n09128-034 \nFigure 35. REFOUT1 Voltage Noise, 0.1 Hz to 10  Hz Bandwidth  \n3.0\n2.5\n2.0\n1.5\n1.0\n0.5\n01\n–5–4–3–2–10\n0 7 6 5 4 3 2 1REFOUT1 VOLTAGE (V)\nREFOUT1 VOLTAGE CHANGE (mV)\nREFOUT1 LOAD CURRENT (mA)VLOOP  = 24V\nEXT NMOS\nTA = 25°C\n09128-035 \nFigure 36. REFOUT1 Voltage vs. Load Current  \nData Sheet AD5421 \n \nRev. I | Page 19 of 36 2.5012\n2.49942.49962.49982.50002.50022.50042.50062.50082.5010\n–40 100 80 60 40 20 0 –20REFOUT1 VOLTAGE (V)\nTEMPERATURE (°C)60 DEVICES SHOWN\n09128-036 \nFigure 37. REFOUT1 Voltage vs. Temperature, 60 Devices Shown  \n(C Grade Device)  \n30\n0510152025\n0\n0.25\n0.50\n0.75\n1.00\n1.25\n1.50\n1.75\n2.00\n2.25\n2.50\n2.75\n3.00\n3.25\n3.50\n3.75\n4.00\n4.25\n4.50\n4.75\n5.00POPULATION (%)\nTEMPERATURE COEFFICIENT (ppm/°C)MEAN TC = 1.5ppm/°C\n09128-037 \nFigure 38. REFOUT1 Temperature Coefficient Histogram  \n(C Gr ade Device)  250\n050100150200\n–40 100 80 60 40 20 0 –20ADC CODE (Decimal)\nDIE TEMPERATURE (°C)VLOOP  = 24V\nEXT NMOS\nRLOAD  = 250Ω\nILOOP  = 3.2mA\n09128-038 \nFigure 39. On- Chip ADC Code vs. Die Temperature  \n250\n200\n150\n100\n50\n0\n0 2.5 2.0 1.5 1.0 0.5ADC CODE (Decimal)\nVLOOP  PIN INPUT VOLTAGE (V)VLOOP  = 24V\nEXT NMOS\nTA = 25°C\n09128-039 \nFigure 40. On- Chip ADC Code vs. V LOOP  Pin Input Voltage  \n \n \n \n \n   \n \n \n \n \n \nAD5421 Data Sheet \n \nRev. I | Page 20 of 36 TERMINOLOGY  \nTotal Unadjusted Error  \nTotal unadjusted error (TUE) is a measure of the total output \nerror. TUE consists of INL error, offset error, gain error, and output drift over temperature, in the case of maximum TUE. TUE is expressed in % FSR.  \nRelative Accuracy or Integral Nonlinearity ( INL) Error  \nRelative accuracy, or integral nonlinearity (INL) error, is a \nmeasure of the maximum deviation in the output current from \na straight line passing through the endpoints of the transfer \nfunction. INL error is expressed in % FSR.  \nDifferential Nonli nearity (DNL) Error  \nDifferential nonlinearity (DNL) error is the difference between \nthe measured change and the ideal 1 LSB change between any \ntwo adjacent codes. A specified differential nonlinearity of \n±1 LSB maximum ensures monotonicity.  \nOffset Error  \nOffset error is a measure of the output error when zero code is \nloaded to the DAC register and is expressed in % FSR.  \nOffset Error Temperature Coefficient (TC)  \nOffset error TC is a measure of the change in offset error with changes in temperature and is expr essed in ppm FSR/°C.  \nGain Error  \nGain error is a measure of the span error of the DAC. It is the \ndeviation in slope of the DAC transfer function from the ideal and is expressed in % FSR.  \nGain Error Temperature Coefficient (TC)  \nGain error TC is a measure of the change in gain error with \nchanges in temperature and is expressed in ppm FSR/°C.  \nFull -Scale Error \nFull-scale error is a measure of the output error when full -scale \ncode is loaded to the DAC register and is expressed in % FSR.  \nFull -Scale Error Temperature Coefficient (TC)  \nFull-scale error TC is a measure of the change in full -scale error \nwith changes in temperature and is expressed in ppm FSR/°C.  Loop Compliance Voltage Headroom  \nLoop compliance voltage headroom is the minimum voltage \nbetween th e LOOP− and REG\nIN pins for which the output \ncurrent is equal to the programmed value.  \nOutput Temperature Coefficient (TC)  \nOutput TC is a measure of the change in the output current  \nat 12  mA with changes in temperature and is expressed in  \nppm FSR/°C.  \nVoltage Reference Thermal Hysteresis  \nVoltage reference thermal hysteresis is the difference in output voltage measured at +25°C compared to the output voltage measured at +25°C after cycling the temperature from +25°C to −40°C to +105°C and back to +25°C. The hysteresis is specified for the first and second temperature cycles and is expressed in mV .  \nVoltage Reference Temperature Coefficient (TC)  \nVoltage reference TC is a measure of the change in the reference \noutput voltage with a change in temperature. The  voltage refer ence  \nTC is calculated using the box method, which defines the TC as \nthe maximum change in the reference output voltage over a given temperature range. Voltage reference TC is expressed in ppm/°C as follows: \n610×\uf8f7\uf8f7\n\uf8f8\uf8f6\n\uf8ec\uf8ec\n\uf8ed\uf8eb\n×−=Temp_Range VV V  TC \nREF_NOMREF_MIN REF_MAX \nwhere:  \nVREF_ MAX is the maximum reference output voltage measured \nover the total temperature range.  \nVREF_MIN  is the minimum reference output voltage measured \nover the total temperature range.  \nVREF_NOM  is the nominal reference output voltage, 2.5 V .  \nTemp_Range  is the sp ecified temperature range  \n(−40°C to +105°C).  \n \nData Sheet AD5421\n \nRev. I | Page 21 of 36 THEORY OF OPERATION \nThe AD5421 is an integrated device designed for use in loop-\npowered, 4 mA to 20 mA smart transmitter applications. In a \nsingle chip, the AD5421 provides a 16-bit DAC and current \namplifier for digital control of the loop current, a voltage \nregulator to power the entire transmitter, a voltage reference, \nfault alert functions, a flexible SPI-compatible serial interface, gain and offset adjust registers, as well as other features and functions. The features of the AD5421 are described in the \nfollowing sections. \nFAULT ALERTS \nThe AD5421 provides a number of fault alert features. All faults \nare signaled to the controller via the FAULT pin and the fault register. In the case of a loss of communication between the \nAD5421  and the microcontroller (SPI fault), the AD5421  programs \nthe loop current to an alarm value. If the controller detects that \nthe FAULT pin is set high, it should then read the fault register to determine the cause of the fault. Note that the watchdog timer does not reset and restart its condition with an alarm \nactive. If the auto fault readback is disabled and an SPI fault \noccurs, such that the watchdog timer is timed out, the watchdog timer remains inactive until the status register is manually read back by the user. Following this readback, the watchdog timer \nresumes operation. \nSPI Fault \nThe SPI fault is asserted if there is no valid communication to \nany register of the AD5421 for more than a user-defined period. \nThe user can program the time period using the SPI watchdog \ntimeout bits of the control register. The SPI fault bit of the fault register indicates the fault on the SPI bus. Because this fault is \ncaused by a loss of communication between the controller and \nthe AD5421, the loop current is also forced to the alarm value.  \nThe direction of the alarm current (downscale or upscale) is \nselected via the ALARM_CURRENT_DIRECTION pin. Connecting this pin to DV\nDD selects an upscale alarm current \n(22.8 mA/24 mA); connecting this pin to COM selects a \ndownscale alarm current (3.2 mA). \nPacket Error Checking \nTo verify that data has been received correctly in noisy environ-\nments, the AD5421 offers the option of error checking based on \nan 8-bit cyclic redundancy check (CRC). Packet error checking (PEC) is enabled by writing to the AD5421 with a 32-bit serial \nframe, where the least significant eight bits are the frame check sequence (FCS). The device controlling the AD5421 should \ngenerate the 8-bit FCS using the following polynomial: \nC(x) = x\n 8 + x 2 + x + 1 \nThe 8-bit FCS is appended to the end of the data-word, and \n32 data bits are sent to the AD5421 before SYNC  is taken high. \nIf the check is valid, the data is accepted. If the check fails, the \nFAULT pin is asserted and the PEC bit of the fault register is set. After the fault register is read, the PEC bit is reset low and the \nFAULT pin returns low. \nIn the case of data readback, if the AD5421 is addressed with a \n32-bit frame, it generates the 8-bit frame check sequence and \nappends it to the end of the 24-bit data stream to create a 32-bit \ndata stream. \n \nSDINSYNC\nSCLKUPDATE ON SYNC HIGH\nMSB\nD23LSB\nD0\n24-BIT DATA\n24-BIT DATA TRANSFER—NO ERROR CHECKING\nSDIN\nFAULTSYNC\nSCLKUPDATE AFTER SYNC HIGH\nONLY IF ERROR CHECK PASSED\nFAULT PIN GOES HIGH\nIF ERROR CHECK FAILSMSB\nD31LSB\nD8 D7 D0\n24-BIT DATA 8-BIT FCS\n32-BIT DATA TRANSFER WITH ERROR CHECKING\n09128-049 \nFigure 41. PEC Timing \nCurrent Loop Fault \nThe current loop (I LOOP) fault is asserted when the actual loop \ncurrent is not within ±0.01% FSR of the programmed loop \ncurrent. If the measured loop current is less than the programmed \nloop current, the I LOOP Under bit of the fault register is set. If the \nmeasured loop current is greater than the programmed loop current, the I\nLOOP Over bit of the fault register is set. The FAULT \npin is set to logic high in either case. \nAn I LOOP Over condition occurs when the value of the load current \nsourced from the AD5421 (via REG OUT, REFOUT1, REFOUT2, \nor DV DD) is greater than the loop current that is programmed to \nflow in the loop. An I LOOP under condition occurs when there is \ninsufficient compliance voltage to support the programmed \nloop current, caused by excessive load resistance or low loop \nsupply voltage. \nOvertemperature Fault \nThere are two overtemperature alert bits in the fault register: \nTemp 100°C and Temp 140°C. If the die temperature of the \nAD5421 exceeds either 100°C or 140°C, the appropriate bit is set. If the Temp 140°C bit is set in the fault register, the FAULT \npin is set to logic high. \n  \nAD5421 Data Sheet\n \nRev. I | Page 22 of 36 Loop Voltage Fault \nThere are two loop voltage alert bits in the fault register: \nVLOOP 12V and V LOOP 6V . If the voltage between the V LOOP and \nCOM pins falls below 0.6 V (corresponding to a 12 V loop supply value), the V\nLOOP 12V bit is set; this bit is cleared when \nthe voltage returns above 0.7 V . Similarly, if the voltage between the V\nLOOP and COM pins falls below 0.3 V (corresponding to a \n6 V loop supply value), the V LOOP 6V bit is set; this bit is cleared \nwhen the voltage returns above 0.4 V . If the V LOOP 6V bit is set in \nthe fault register, the FAULT pin is set to logic high. \nFigure 42 illustrates how a resistor divider enables the monitoring \nof the loop supply with the V LOOP input. The recommended \nresistor divider consists of a 1 MΩ and a 19 MΩ resistor that provide a 20:1 ratio, allowing the 2.5 V input range of the V\nLOOP \npin to monitor loop supplies up to 50 V . With a 20:1 divider ratio, \nthe preset V LOOP 6V and V LOOP 12V alert bits of the fault register \ngenerate loop supply faults according to their stated values. If \nanother divider ratio is used, the fault bits generate faults at values \nthat are not equal to 6 V and 12 V . \n19MΩ\n1MΩRL\nLOOP–VLOOP\nCOMREGIN\nVLOOP AD5421\n09128-048 \nFigure 42. Resistor Divider Connection at V LOOP  Pin \nEXTERNAL CURRENT SETTING RESISTOR  \nThe 24 kΩ resistor R SET, shown in Figure 1, converts the DAC \noutput voltage to a current, which is then mirrored with a gain \nof 221 to the LOOP− pin. The stability of the loop current over \ntemperature is dependent on the temperature coefficient of R SET. \nTable 1 and Table 2 outline the performance specifications of \nthe AD5421 with both the internal R SET resistor and an external, \n24 kΩ R SET resistor. Using the internal R SET resistor, a total \nunadjusted error of better than  0.126% FSR can be expected. \nUsing an external resistor gives improved performance of \n0.048% FSR. This specification assumes an ideal resistor; the actual \nperformance depends on the absolute value and temperature coefficient of the resistor used. For more information, see the \nDetermining the Expected Total Error section. \n    \n LOOP CURRENT RANGE SELECTION \nTo select the loop current range, connect the RANGE0 and \nRANGE1 pins to the COM and DV DD pins, as shown in Table 9. \nTable 9. Selecting the Loop Current Range \nRANGE1 Pin RANGE0 Pin Loop Current Range \nCOM COM 4 mA to 20 mA \nCOM DV DD 3.8 mA to 21 mA \nDV DD COM 3.2 mA to 24 mA \nDV DD DV DD 3.8 mA to 21 mA \n \nCONNECTION TO LOOP POWER SUPPLY \nThe AD5421 is powered from the 4 mA to 20 mA current loop. \nTypically, the power supply is located far from the transmitter \ndevice and has a value of 24 V . The AD5421 can be connected \ndirectly to the loop power supply and can tolerate a voltage up \nto a maximum of 52 V (see Figure 43). \nRL\nLOOP–DRIVE\nCOMREG IN\nVLOOP AD5421\n09128-050 \nFigure 43. Direct Connection of the AD5421  to Loop Power Supply \nFigure 43 shows how the AD5421 is connected directly to the loop \npower supply. An alternative power connection is shown in Figure 44, which shows a depletion mode N-channel MOSFET connected between the AD5421 and the loop power supply. The \nuse of this device keeps the voltage drop across the AD5421 at \napproximately 12 V , limiting the worst-case, on-chip power \ndissipation to 288 mW (12 V × 24 mA = 288 mW). If the AD5421 \nis connected directly to the loop supply as shown in Figure 43, \nthe potential worst-case, on-chip power dissipation for a 24 V loop power supply is 576 mW (24 V × 24 mA = 576 mW). The power \ndissipation changes in proportion to the loop power supply voltage. \nRL200kΩ\nLOOP–DRIVE\nCOMREG IN\nVLOOP AD5421T1DN2540\nBSP129\n09128-051 \nFigure 44. MOSFET Connecting the AD5421  to Loop Power Supply \n \n \nData Sheet AD5421\n \nRev. I | Page 23 of 36 ON-CHIP ADC \nThe AD5421 contains an on-chip ADC used to measure and \nfeed back to the fault register either the temperature of the die \nor the voltage between the V LOOP and COM pins. The select ADC \ninput bit (Bit D8) of the control register selects the parameter to \nbe converted. A conversion is initiated with command byte \n00001000 (necessary only if auto fault readback is disabled). This command byte powers on the ADC and performs the conversion. A read of the fault register returns the conversion result. If auto readback of the fault register is required, the ADC must first be powered up by setting the on-chip ADC bit (Bit D7) of the control register. \nBecause the FAULT pin can go high for as long as 30 μs, care is \nrequired when performing a die temperature measurement after \na readback of the V\nLOOP voltage. When switching from a V LOOP \nmeasurement to a die temperature measurement, the FAULT pin should not be read within 30 μs of switching, as a false \ntrigger may occur (fault register contents are unaffected). \nVOLTAGE REGULATOR \nThe on-chip voltage regulator provides a regulated voltage out-\nput to supply the AD5421 and the remainder of the transmitter \ncircuitry. The output voltage range is from 1.8 V to 12 V and is selected by the states of three digital input pins (see Table 10). \nThe regulator output is accessed at the REG\nOUT pin. \nTable 10. Setting the Voltage Regulator Output \nREG_SEL2 REG_SEL1 REG_SEL0 Regulated Output \nVoltage (V) \nCOM COM COM 1.8 \nCOM COM DV DD 2.5 \nCOM DV DD COM 3.0 \nCOM DV DD DV DD 3.3 \nDV DD COM COM 5.0 \nDV DD COM DV DD 9.0 \nDV DD DV DD COM 12.0 \n \nLOOP CURRENT SLEW RATE CONTROL \nThe rate of change of the loop current can be controlled by \nconnecting an external capacitor between the C IN pin and \nCOM. This reduces the rate of change of the loop current. The \noutput resistance of the DAC (R DAC) together with the C SLEW \ncapacitor generate a time constant that determines the response \nof the loop current (see Figure 45). \nLOOP–RDAC V-TO-I\nCIRCUITRY\nCIN\nCSLEW\n09128-052 \nFigure 45. Slew Capacitor Circuit The resistance of the DAC is typically 15.22 kΩ for the 4 mA to \n20 mA and 3.8 mA to 21 mA loop current ranges. The DAC resistance changes to 16.11 kΩ when the 3.2 mA to 24 mA loop \ncurrent range is selected. \nThe time constant of the circuit is expressed as \nτ = R\nDAC × CSLEW \nTaking five time constants as the required time to reach the final \nvalue, C SLEW can be determined for a desired response time, t,  \nas follows: \nDACSLEWRtC\uf0b4\uf03d5 \nwhere: \nt is the desired time for the output current to reach its final value. \nRDAC is the resistance of the DAC core, either 15.22 kΩ or \n16.11 kΩ, depending on the selected loop current range. \nFor a response time of 5 ms, \nnF 68220 , 15 5ms 5\uf0bb\uf0b4\uf03dSLEWC  \nFor a response time of 10 ms, \nnF 133220 , 15 5ms 10\uf0bb\uf0b4\uf03dSLEWC  \nThe responses for both of these configurations are shown  \nin Figure 46. \n6\n543\n2\n10\n–2 22 18 14 10 6 2VOLTAGE ACROSS 250 Ω LOAD RESISTOR (V)\nTIME (ms)CSLEW  = 267nF\nCSLEW  = 133nFCSLEW  = 68nF\n09128-053 \nFigure 46. 4 mA to 20 mA Step with Slew Rate Control \nThe C IN pin can also be used as a coupling input for HART FSK \nsignaling. The HART signal must be ac-coupled to the C IN input. \nThe capacitor through which the HART signal is coupled must \nbe considered in the preceding calculations, where the total capacitance is C\nSLEW + C HART. For more information, see the \nHART Communications section. \nAD5421 Data Sheet \n \nRev. I | Page 24 of 36 POWER -ON DEFAULT  \nThe AD5421 powers on with all registers loaded with their default \nvalues and with the loop current in the alarm state set to 3.2 mA \nor 22.8 mA/24  mA (depending on the state of the ALARM_ \nCURRENT_DIRECTION pin and the selected range). The \nAD5421 remains in this state until it is programmed with new \nvalues. The SPI watchdog timer  is enabled by default with a \ntimeout period of 1 sec. If there is no communication with the \nAD5421 within 1 sec of power -on, the FAULT pin is set.  \nTable 11. Power On Loop Current s for all Output Current  \nRanges  \nRange ALARM_CURRENT_ \nDIRECTION  Power -On Loop \nCurrent (mA)  \n4 mA to 20 mA  0 3.2 \n4 mA to 20 mA  1 22.8 \n3.8 mA to 21 mA  0 3.2 \n3.8 mA to 21 mA  1 22.8  \n3.2 mA to 24 mA  0 3.2 \n3.2 mA to 24 mA  1 24 \nHART COMMUNICATIONS  \nThe AD5421 can be interfaced to a HART modem to enable \nHART digital communications over the 2 -wire loop connection. \nFigure 47 shows how the modem frequency shift keying (FSK) \noutput is connected to the AD5421 . \n09128-054RL200kΩ\nLOOP–DRIVE\nCOM CINREGIN\nVLOO P AD5421\nHART_OUT\nHART_INHART\nMODEMCHART CSLEW\n \nFigure 47. Connecting a HART Modem to the AD5421 \nTo achieve a 1 mA p -p FSK current signal on the loop, the voltage  \nat the C IN pin must be 111 mV p- p. Assuming a 500  mV p-p \noutput from the HART modem, this means that the signal must \nbe attenuated by a factor of 4.5. The following equation can be \nused to calculate the values of the C HART and C SLEW capacitors.  \nHARTSLEW HART\nCC C+=5.4  \n \n \n From this equation, the ratio of C HART to C SLEW is 1 to 3.5. This \nratio of the capacitor values sets the amplitude of the HART FSK  \nsignal on the loop. The absolute values of the capacitors set the \nresponse time of the loop current, as well as the bandwidth \npresented to the HART signal connected at the C IN pin. The \nbandwidth must pass frequencies from 500 Hz to 10  kHz. The \ntwo capacit ors and the internal impedance, R DAC, form a high- pass \nfilter. The 3  dB frequency of this high -pass filter should be less \nthan 500 Hz and can be calculated as follows:  \n( )31\n2πdB\nDAC HART SLEWfRCC=×× × + \nTo achieve a 500  Hz, high- pass, 3 dB frequency cutoff, the  \ncombined  values of C HART and C SLEW should be 21 nF. To ensure \nthe correct HART signal amplitude on the current loop, the \nfinal values for the capacitors are C HART = 4.7  nF and C SLEW = \n16.3 nF.  \nOutput Noise During Silence and Analog Rate of Change  \nThe AD5421 has a direct influence on two important specifications  \nrelating to the HART communications protocol: output noise \nduring silence and analog rate of change. Figure 25 shows the \nmeasurement of the AD5421  output noise in the HART extended  \nbandwidth; the noise measurement is 0.2  mV rms , within the \nrequired 2.2  mV rms value.  \nTo meet the analog rate of change specification, the rate of \nchange of the 4 mA to 20  mA current must be slow enough so \nthat it does not interfere with the HART digital signaling. This \nis determined by forcing a ful l-scale loop current change \nthrough a 500 Ω load resistor and applying the resulting voltage \nsignal to the HART digital filter (HCF_TOOL -31). The peak \namplitude of the signal at the filter output must be less than 150 mV . To achieve this, the rate of chang e of the loop current \nmust be restricted to less than approximately 1.3 mA/ms.  \nThe output of the AD5421 naturally slews at approximately \n880 mA/ms, a rate that is far too great to comply with the \nHART specifications. To reduce the slew rate, a capacitor can be connected from the C\nIN pin to COM, as described in the Loop \nCurrent Slew Rate Control  section. To red uce the slew rate \nenough so that the HART specification is met, a capacitor value \nin the region of 4.7 µF is required, resulting in a full -scale transition  \ntime of 500 ms. Many applications regard this time as too slow, \nin which case the slew rate needs to  be digitally controlled by \nwriting a sequence of codes to the DAC register so that the \noutput response follows the desired curve.  \n   \n \n \n \n \nData Sheet AD5421\n \nRev. I | Page 25 of 36 Figure 48 shows a digitally controlled full-scale step and the \nresulting filter output. In Figure 48, it can be seen that the peak amplitude of the filter output signal is less than the required \n150 mV , and the transition time is approximately 30 ms. \n12\n10\n86420150\n–150–100–50050100\n–50 –30 –10 10 30 50VOLTAGE ACROSS 500 Ω LOAD RESISTOR (V)\nOUTPUT OF HART DIGITAL FILTER (mV)\nHCF_TOOL-31\nTIME (ms)\n09128-060 \nFigure 48. Digitally Controlled Full-Scale Step and Resulting HART Digital \nFilter Output Signal \n Figure 49 shows the circuit diagram for this measurement. The \n47 nF and 168 nF capacitor values for C HART and C SLEW provide \nadequate filtering of the digital steps, ensuring that they do not \ncause interference. \n09128-061RL\nLOOP–\nCOM CINREG IN\nVLOOP AD5421\nFROM HART MODEM47nF 168nF\n \nFigure 49. Circuit Diagram for Figure 48 \n \n \n \nAD5421 Data Sheet \n \nRev. I | Page 26 of 36 SERIAL INTERFACE \nThe AD5421 is controlled by a versatile, 3 -wire serial interface \nthat operates at clock rates up to 30 MHz. It is compatible with \nthe SPI, QSPI™, MICROWIRE®, and DSP standards. Figure 2 \nshows the timing diagram. The interface operates with either a continuous or noncontinuous gated burst clock.  \nThe write sequence begins with a falling edge of the \nSYNC  \nsignal; data is clocked in on the SDIN data line on the falling \nedge of SCLK. On the rising edge of SYNC , the 24 bits of data \nare latched; the data is transferred to the addressed register and \nthe programmed function is executed (either  a change in DAC \noutput or mode of operation).  \nIf packet error checking on the SPI interface is required using \ncyclic redundancy codes, an additional eight bits must be written to the AD5421, cre ating a 32 -bit serial interface. In this case, \n32 bits are written to the AD5421 before \nSYNC  is brought high.  \nINPUT SHIFT REGISTER  \nThe input shift register is 24 bits wide (32 bits wide if CRC error \nchecking of the data is required). Data is loaded into the device \nMSB first as a 24 -/32-bit word under the control of a serial clock \ninput, SCLK. The input shift register consists of an 8 -bit address/  \ncommand byte, a 16 -bit data -word, and an optional 8 -bit CRC, \nas shown in Table 13 and Table 14.  \nThe address/command byte decoding is described in Table 12. Table 12. Address/Command Byte Functions  \nAddress /Command Byte  Function  \n00000001 Write to DAC register  \n00000010  Write to control register  \n00000011 Write to offset adjust register  \n00000100 Write to gain adjust register  \n00000101 Load DAC  \n00000110 Force alarm current  \n00000111 Reset (it is recommended  to wait \n50 µs after a device reset before \nwriting the next command)  \n00001000 Initiate V LOOP/temperature \nmeasurement  \n00001001 No operation  \n10000001 Read DAC register  \n10000010  Read control register  \n10000011 Read offset adjust register  \n10000100 Read gain adjust register  \n10000101 Read fault register  \nThe 16 bits of the data -word written following a load DAC, force \nalarm current, reset, initiate V LOOP/temperature measurement, \nor no operation command byte are don’t cares (see Tabl e 13 and \nTable 14). \nREGISTER READBACK \nTo read back a register, Bit D11 of the control register must be set  \nto Logic 1 to disable the automatic readback of the fault register. \nThe 16 bits of the data -word writt en following a read command \nare don’t cares (see Table 13 and Table 14). \nThe register data addressed by the read command is clocked out \nof SDO on the subsequent write command (see Figure 3).  \nTable 13. Input Shift Register  \nMSB                        LSB  \nD23  D22  D21  D20  D19  D18  D17  D16  D15  D14  D13  D12  D11  D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0 \nAddress/command byte Data- word  \n \nTable 14. Input Shift Register with CRC  \nMSB                                LSB  \nD31  D30  D29  D28  D27  D26  D25  D24  D23  D22  D21  D20  D19  D18  D17  D16  D15  D14  D13  D12  D11  D10  D9 D8 D7 D6 D5 D4 D3 D2 D1 D0 \nAddress/command byte  Data- word  CRC  \n \n  \nData Sheet AD5421 \n \nRev. I | Page 27 of 36 DAC REGISTER  \nThe DAC register is a read/write register and is addressed as \ndescribed in Table 12. The data programmed to the DAC register  \ndetermines the loop current, as shown in the Ideal Output \nTransfer Function  section and in Table 16. \nIdeal Output Transfer Function  \nThe transfer function describing the relationship between the \ndata programmed to the DAC regist er and the loop current is \nexpressed by the following three equations.  \nFor the 4 mA to 20 mA output range, the loop current can be \nexpressed as follows:  \nmA42mA16\n16  D  ILOOP +×\uf8f7\uf8f7\n\uf8f8\uf8f6\n\uf8ec\uf8ec\n\uf8ed\uf8eb=  For the 3.8 mA to 21 mA output range, the loop current can be expressed as follo ws: \nmA8.32mA2.17\n16  D  ILOOP +×\uf8f7\uf8f7\n\uf8f8\uf8f6\n\uf8ec\uf8ec\n\uf8ed\uf8eb=  \nFor the 3.2  mA to 24 mA output range, the loop current can be \nexpressed as follows:  \nmA2.32mA8.20\n16  D  ILOOP +×\uf8f7\uf8f7\n\uf8f8\uf8f6\n\uf8ec\uf8ec\n\uf8ed\uf8eb=  \nwhere D is the decimal value of the DAC register.  \n \nTable 15. DAC Register Bit Map  \nMSB                LSB  \nD15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0 \n16-bit data  \n \nTable 16. Relationship of DAC Register Code to Ideal Loop Current (Gain = 65,536; Offset = 0)  \nDAC Register Code Ideal Loop Current (mA)  \n4 mA to 20 mA Range  3.8 mA to 21 mA Range  3.2 mA to 24 mA Range  \n0x0000 4 3.8 3.2 \n0x0001 4.00024 3.80026 3.2003 \n… … … … \n0x7FFF  11.9997  12.39974  13.5997  \n0x8000 12 12.4 13.6 \n… … … … \n0xFFFE  19.9995 20.99947 23.9994 \n0xFFFF  19.9997 20.99974 23.9997 \n \n \n \n \nAD5421 Data Sheet \n \nRev. I | Page 28 of 36 CONTROL REGISTER  \nThe control register is a read/write register and is addressed as described in Table 12. The data programmed to the control reg ister \ndetermines the mode of operation of the AD5421 . \nTable 17. Control Register Bit Map  \nMSB                LSB  \nD15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0 \nSPI watchdog timeout  SPI \nwatchdog \ntimer  Auto fault  \nreadback  Alarm on \nSPI fault  Set min \nloop \ncurrent  Select \nADC \ninput  On-chip \nADC  Power down  \ninternal reference V\nLOOP \nfault alert  Reserved  \nT0 T1 T2 \n \nTable 18. Control Register Bit Descriptions \nControl Bits  Description  \nSPI watchdog \ntimeout  The T0, T1, and T2 bits allow the user to program the watchdog timeout period. The watchdog timer is reset when a valid write to any AD5421 register occurs or when a NOP command is written.  \n T0 T1 T2 Timeout Period  \n0 0 0 50 ms  \n0 0 1 100 ms  \n0 1 0 500 ms  \n0 1 1 1 sec (default)  \n1 0 0 2 sec  \n1 0 1 3 sec  \n1 1 0 4 sec  \n1 1 1 5 sec  \nSPI watchdog timer  0 = SPI watchdog timer is enabled (default).  \n1 = SPI watchdog timer is disabled.  \nAuto fault \nreadback  This bit specifies whether the fault register contents are automatically clocked out on the SDO pin on each write operation. (The fault register can always be addressed for readback.)  \n0 = fault register contents are clocked out on the SDO pin (default).  \n1 = fault register contents are not clocked out on the SDO pin.  \nAlarm on SPI \nfault  This bit specifies whether the loop current is forced to the alarm value when an SPI fault is detected (that is, the watchdog timer times out). When an SPI fault is detected, the SPI fault bit of the fault register and the FAULT pin are always set.  \n0 = loop current is forced to the alarm value when an SPI fault is detected (default).  \n1 = loop cu rrent is not forced to the alarm value when an SPI fault is detected.  \nSet min loop \ncurrent  0 = normal operation (default).  \n1 = loop current is set to its minimum value so that the total current flowing in the loop consists only of the operating current of  the AD5421 and its associated circuitry.  \nSelect ADC \ninput  0 = on -chip ADC measures the voltage between the V LOOP and COM pins (default).  \n1 = on -chip ADC measures the temperature of the AD5421 die. \nOn-chip ADC  0 = on -chip ADC is disabled (default).  \n1 = on -chip ADC is enabled.  \nPower down internal \nreference  0 = internal voltage reference is powered up (default).  \n1 = internal voltage reference is powered down and an external voltage reference source is required.  \nVLOOP fault \nalert  This bit specifies whether the FAULT pin is set when the voltage between the V LOOP and COM pins falls to approximately 0.3  V. \n(The V LOOP 6V bit of the fault register is always set.)  \n0 = FAULT pin is not set when the V LOOP − COM voltage falls to approximately 0.3 V.  \n1 = FAULT pin is set when the V LOOP − COM voltage falls to approximately 0.3 V.  \n \n \nData Sheet AD5421 \n \nRev. I | Page 29 of 36 FAULT REGISTER  \nThe read -only fault register is addressed as desc ribed in Table 12. The bits in the fault register indicate a range of possible fault conditions.  \nTable 19. Fault Register Bit Map  \nMSB                LSB  \nD15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0 \nSPI PEC  ILOOP \nOver  ILOOP \nUnder  Temp \n140°C  Temp 100°C  V\nLOOP \n6V VLOOP \n12V VLOOP/temperature value \n \nTable 20. Fault Register Bit Descriptions  \nFault Alert  FAU LT  \nPin Set  Description  \nSPI Yes This bit is set high to indicate the loss of the SPI interface signaling. This fault occurs if there is no valid \ncommunication to the AD5421 over the SPI interface for more than the user -defined timeout period. The \noccurrence of this fault also forces the loop current to the alarm value if Bit D10 of the control register is at \nLogic  0. The alarm current direction is determined by the state of the ALARM_CURRENT_DIRECTION pin.  \nPEC (packet \nerror check)  Yes This bit is set high when an error in the SPI communication is detected using cyclic redundancy check (CRC) error detection. See the Packet Error Checking  section for more information.  \nILOOP Over  Yes This bit is set high when the actual loop current is greater than the programmed loop current.  \nILOOP Under  Yes This bit is set high when the actual loop current is less than the programmed loop current.  \nTemp 140°C  Yes This bit is set high to indicate an overtemperature fault. This bit is set if the die temperature of the AD5421 \nexceeds approximat ely 140°C. This bit is cleared when the temperature returns below approximately 125°C.  \nTemp 100°C No This bit is set high to indicate an increasing temperature of the AD5421. This bit is set if t he die temperature of the \nAD5421 exceeds approximately 100°C. This bit is cleared when the temperature returns below approximately 85°C.  \nVLOOP 6V Yes This bit is set high when the voltage between  the V LOOP and COM pins falls below approximately 0.3  V (representing \na 6 V loop supply voltage with 20:1 resistor divider connected at V LOOP). This bit is cleared when the voltage returns \nabove approximately 0.4  V. \nVLOOP 12V No This bit is set high when the voltage between the V LOOP and COM pins falls below approximately 0.6  V (representing  \na 12  V loop supply voltage with 20:1 resistor divider connected at V LOOP). This bit is cleared when the voltage returns  \nabove approximately 0.7  V. \nVLOOP/temper -\nature value  N/A  These eight bits represent either the voltage between the V LOOP and COM pins or the AD5421 die temperature, \ndepending on the setting of Bit D8 of the control register (see the On-Chip ADC Transfer Function Equations  \nsection).  \n  8-Bit Value  VLOOP  − COM Voltage (V)  Die Temperature (°C)  \n  00000000 0 +312 \n  … … … \n  11111111 2.49 −86  \n \nOn-Chip ADC Transfer Function Equations  \nThe transfer function equation for the measurement of the \nvoltage between the V LOOP and COM pins is as follows: \nVLOOP − COM  = (2.5/256) × D  \nwhere D is the 8 -bit digital code returned by t he on -chip ADC.  The transfer function equation for the die temperature is  as follows: \nDie Temperature = (−1.559 × D ) + 312  \nwhere D is the 8 -bit digital code returned by the on -chip ADC.  \n \n \n \n \n \nAD5421 Data Sheet \n \nRev. I | Page 30 of 36 OFFSET ADJUST REGIST ER \nThe offset adjust register is a read/write register and is addressed as described in Table 12. A write command to the offset register must be \nfollowed by a write to th e data register for the contents of the offset register to take effect.  \nTable 21. Offset Adjust Register Bit Map  \nMSB                LSB  \nD15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0 \n16-bit offset adjust data  \n \nTable 22. Offset Adjust Register Adjustment Range  \nOffset Adjust Register Data  Digital Offset Adjustment (LSBs) \n65535 +32767 \n65534 +32766 \n… … \n32769  +1 \n32768 (default)  0 \n32767 −1 \n… … \n1 −32767 \n0 −32768 \n \nGAIN ADJUST REGISTER  \nThe gain adjust register is a read/write register and is addressed as described in Table 12. A write command to the gain register must be \nfollowed by a write to the da ta register for the contents of the gain register to take effect.  \nTable 23. Gain Adjust Register Bit Map  \nMSB                LSB  \nD15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0 \n16-bit gain adjust data  \n \nTable 24. Gain Adjust Register Adjustment Range  \nGain Adjust Register Data  Digital Gain Adjustment at Full -Scale Output (LSBs) \n65535 (default)  0 \n65534 −1 \n… … \n32769 −32767 \n32768 −32768 \n32767  −32769  \n… … \n1 −65534 \n0 −65535 \n \n \n \nData Sheet AD5421 \n \nRev. I | Page 31 of 36 Transfer Function Equations with Offset and Gain Adjust \nValues \nWhen the offset adjust and gain adjust register values are taken \ninto account, the transfer equations can be expressed as follows.  \nFor th e 4 mA to 20 mA output range, the loop current can be \nexpressed as follows:  \n\uf8fa\uf8fa\uf8fa\uf8fa\uf8fa\n\uf8fb\uf8f9\n\uf8ef\uf8ef\uf8ef\uf8ef\uf8ef\n\uf8f0\uf8ee\n××\uf8f7\uf8f7\n\uf8f8\uf8f6\n\uf8ec\uf8ec\n\uf8ed\uf8eb\n= DGain\nI LOOP 1616\n22mA16\n \n( )\uf8f7\uf8f7\n\uf8f8\uf8f6\n\uf8ec\uf8ec\n\uf8ed\uf8eb\n\uf8fa\n\uf8fb\uf8f9\n\uf8ef\n\uf8f0\uf8ee−×\uf8f7\uf8f7\n\uf8f8\uf8f6\n\uf8ec\uf8ec\n\uf8ed\uf8eb++ 768,322mA16mA416   Offset  \nFor the 3.8 mA to 21 mA output range, the loop current can be \nexpressed as follows:  \n\uf8fa\uf8fa\uf8fa\uf8fa\uf8fa\n\uf8fb\uf8f9\n\uf8ef\uf8ef\uf8ef\uf8ef\uf8ef\n\uf8f0\uf8ee\n××\uf8f7\uf8f7\n\uf8f8\uf8f6\n\uf8ec\uf8ec\uf8ed\uf8eb\n= DGain\nI\n LOOP 1616\n22mA2.17\n \n( )\uf8f7\uf8f7\n\uf8f8\uf8f6\n\uf8ec\uf8ec\n\uf8ed\uf8eb\n\uf8fa\n\uf8fb\uf8f9\n\uf8ef\n\uf8f0\uf8ee−×\uf8f7\uf8f7\n\uf8f8\uf8f6\n\uf8ec\uf8ec\n\uf8ed\uf8eb+ + 768,322mA2.17mA8.316   Offset  For the 3.2 mA to 24 mA output range, the loop current can be expressed as follows:  \n\uf8fa\uf8fa\uf8fa\uf8fa\uf8fa\n\uf8fb\uf8f9\n\uf8ef\uf8ef\uf8ef\uf8ef\uf8ef\n\uf8f0\uf8ee\n××\uf8f7\uf8f7\n\uf8f8\uf8f6\n\uf8ec\uf8ec\n\uf8ed\uf8eb\n= DGain\nI LOOP 1616\n22mA8.20\n \n( )\uf8f7\uf8f7\n\uf8f8\uf8f6\n\uf8ec\uf8ec\n\uf8ed\uf8eb\n\uf8fa\n\uf8fb\uf8f9\n\uf8ef\n\uf8f0\uf8ee−×\uf8f7\uf8f7\n\uf8f8\uf8f6\n\uf8ec\uf8ec\n\uf8ed\uf8eb+ + 768,322mA8.20mA2.316   Offset  \nwhere:  \nD is the decimal value of the DAC register.  \nGain  is the decimal value of the gain adjust register.  \nOffset  is the decimal value of the offset adjust register.  \nNote that the offset adjust register cannot adjust the zero -scale \noutput value downward.  \n \n \nAD5421 Data Sheet\n \nRev. I | Page 32 of 36 APPLICATIONS INFORMATION \nFigure 50 shows a typical connection diagram for the AD5421 \nconfigured in a HART capable smart transmitter. Such a HART \nenabled smart transmitter was developed by Analog Devices as a reference demo circuit. This circuit, whose block diagram is \nshown in Figure 51, was verified and registered as an approved \nHART solution by the HART Communication Foundation. This circuit is available as a Circuit from the Lab at CN0267, \nComplete 4 mA to 20 mA Loop Powered Field Instrument with \nHART Interface . \nTo reduce power dissipation on the chip, a depletion mode \nMOSFET (T1), such as a DN2540 or BSP129, can be connected between the loop voltage and the AD5421, as shown in Figure 50. \nIf a low loop voltage is used, T1 does not need to be inserted, \nand the loop voltage can connect directly to REG\nIN (see Figure 43). \nIn Figure 50, all interface signal lines are connected to the  \nmicrocontroller. To reduce the number of interface signal lines, \nthe LDAC  signal can be connected to COM, and the SDO and \nFAULT lines can be left unconnected. However, this configuration \ndisables the use of the fault alert features. \nUnder normal operating conditions, the voltage between COM \nand LOOP− does not exceed 1.5 V , and the voltage at LOOP− is negative with respect to COM. If it is possible that the voltage at LOOP− may be forced positive with respect to COM, or if the voltage difference between LOOP− and COM may be forced in excess of 5 V , a 4.7 V low leakage Zener diode should be placed \nbetween COM and the LOOP− pin, as shown in Figure 50, to \nprotect the AD5421 from potential damage. \nDETERMINING THE EXPECTED TOTAL ERROR \nThe AD5421 can be set up in a number of different configurations, \neach of which achieves different levels of accuracy, as described in \nTable 1 and Table 2. With the internal voltage reference and internal R\nSET enabled, a maximum total error of 0.157% of full-scale range \ncan be expected for the C grade device over the temperature range \nof −40°C to +105°C. \nOther configurations specify an external voltage reference, an \nexternal R SET resistor, or both an external voltage reference and \nexternal R SET resistor. In these configurations, the specifications \nassume that the external voltage reference and external R SET \nresistor are ideal. Therefore, the errors associated with these \ncomponents must be added to the data sheet specifications to determine the overall performance. The performance depends on the specifications of these components. \n \n09128-055HART_OUT\nADC_IPREFAD5700/AD5700-147nF 168nF\n300pFVCCRL200kΩ\nLOOP–\nREXT1\nREXT2DRIVE\nCOM REFOUT1 REFIN\nREG_SEL0\nREG_SEL1\nREG_SEL2REG IN IODV DDDVDDREG OUT\nVLOOP\nAD542119MΩ\n1MΩVLOOP\nADuCM360SYNC\nSCLK\nSDIN\nSDORINT/REXTALARM_CURRENT_DIRECTIONRANGE1RANGE0\nFAULT\nLDAC\nCOM\nTXD\nRXD\nRTS\nCDR1\nR1\n470Ω\n1.2MΩ\n150kΩ\n1.2MΩ 150pFOPTIONAL\nRESISTORT1OPTIONAL\nMOSFET\nDN2540\nBSP129\n0.1µFSETS REGULATOR\nVOLTAGECIN10µF\n0.1µF\n1µF0.1µFVZ = 4.7V4.7µF\nREFOUT2OPTIONAL\nEMC FILTER\n1µF\nDGND AGND\n \nFigure 50. AD5421  Application Diagram for HART Capable Smart Transmitter  \nData Sheet AD5421\n \nRev. I | Page 33 of 36 \n09128-200ADC 0PRESSURE\nSENSOR\nSIMULATION\nTEMPERATURE\nSENSOR\nPT1003.3V\nADC 1ADC\nDACADuCM360\nSRAM\nFLASH\nCLOCK\nRESET\nWATCHDOG\nT1: CD\nT2: RTS\nT3: COM\nT4: TESTSPIUART\nAD5700AD5421\nVCC\nHART_OUT\nREF\nADC_IP3.3V3.3V VDD\nCIN\nC_HART\nC_SLEW\nHART\nINPUT\nFILTERCOMV-REGULATOR\nTEMPERATURE\nSENSOR\nCOMREG IN\nVLOOP\nLOOP–TEST CONNECTOR+\n–52Ω\nHART MODEMMICRO-\nCONTROLLER\nWATCHDOG\nTIMERLEXC\nDGND AGND\n \nFigure 51. Block Diagram—Analog Devices HART-Enabled Smart Transmitter Reference Demo Circuit  \n \nAD5421 Data Sheet\n \nRev. I | Page 34 of 36 To determine the absolute worst-case overall error, the reference \nand R SET errors can be directly summed with the specified AD5421 \nmaximum error. For example, when using an external reference and external R\nSET resistor, the maximum AD5421 error is 0.048% \nof full-scale range. Assuming that the absolute errors for the voltage reference and R\nSET resistor are, respectively, 0.04% and \n0.05% with temperature coefficients of 3 ppm/°C and 2 ppm/°C, \nrespectively, the overall worst-case error is as follows: \nWorst-Case Error  =  \nAD5421  Error  + V REF Absolute Error  + V REF TC +  \nRSET Absolute Error  + R SET TC \nWorst-Case Error =  \n0.048% + 0.04% + [(3/106) × 100 × 145]% +  \n0.05% + [(2/106) × 100 × 145]% = 0.21% FSR \nThis is the absolute worst-case value when the AD5421 operates \nover the temperature range of −40°C to +105°C. An error of this \nvalue is very unlikely to occur because the temperature coefficients of the individual components do not exhibit the same drift polarity, and, therefore, an element of cancelation occurs. For \nthis reason, the TC values should be added in a root of squares \nfashion.  \nA further improvement can be gained by performing a two-point \ncalibration at zero scale and full scale, thus reducing the absolute errors of the voltage reference and R\nSET resistor to a combined \nerror of 1 LSB or 0.0015% FSR. After performing this calibration, \nthe total maximum error becomes \nTotal Error = \nFSR % 102 . 0 %) 029 . 0 ( %) 0435 . 0 ( % 0015 . 0 % 048 . 02 2\uf03d \uf02b \uf02b \uf02b   \nTo reduce this error value further, a voltage reference and R SET \nresistor with lower TC specifications must be chosen. \nTHERMAL AND SUPPLY CONSIDERATIONS \nThe AD5421 is designed to operate at a maximum junction \ntemperature of 125°C. To ensure reliable and specified operation \nover the lifetime of the product, it is important that the device not be operated under conditions that cause the junction temperature to exceed this value.  Excessive junction temperature can occur if the AD5421 \nexperiences elevated voltages across its terminals while regulating the loop current at a high value. The resulting \njunction temperature depends on the ambient temperature. \nTable 25 provides the bounds of operation at maximum ambient \ntemperature and maximum supply voltage. This information is \ndisplayed graphically in Figure 52 and Figure 53. These figures \nassume that the exposed paddle is connected to a copper plane \nof approximately 6 cm\n2. \n4.5\n4.03.53.02.52.0\n1.5\n1.00.5\n0\n0 2 04 06 08 0 1 0 0POWER DISSIPATION (W)\nAMBIENT TEMPERATURE (°C)\n09128-103TSSOP\nLFCSP\n \nFigure 52. Maximum Power Dissipation vs. Ambient Temperature \n60\n5040302010\n0\n40 50 60 70 80 90 100SUPPLY VOLTAGE (V)\nAMBIENT TEMPERATURE (°C)\n09128-102LFCSPTSSOP\n \nFigure 53. Maximum Supply Voltage vs. Ambient Temperature \nTable 25. Thermal and Supply Considerations (External MOSFET Not Connected) \nParameter Description 32-Lead LFCSP 28-Lead TSSOP  \nMaximum \nPower \nDissipation Maximum permitted power \ndissipation when operating at an \nambient temperature of 105°C mW 500\n40105 125\uf03d\uf02d\uf03d\uf02d\nJAA MAX J T T\n\uf071 mW 625\n32105 125\uf03d\uf02d\uf03d\uf02d\nJAA J MAX \nθT T \nMaximum \nAmbient \nTemperature Maximum permitted ambient \ntemperature when operating from a \nsupply of 52 V while regulating a loop current of 22.8 mA \uf03d \uf0b4 \uf02dJA D MAX J P T\uf071  \n\uf028 \uf029 \uf028 \uf029 C 77 40 0228 . 0 52 125\uf0b0 \uf03d \uf0b4 \uf0b4 \uf02d C 87 ) 32 ) 0228 . 0 52 (( 125) (\n\uf0b0 \uf03d \uf0b4 \uf0b4 \uf02d\uf03d \uf0b4 \uf02dJA D  MAX J P T\uf071\n \nMaximum \nSupply \nVoltage Maximum permitted supply voltage \nwhen operating at an ambient \ntemperature of 105°C while regulating \na loop current of 22.8 mA V 21\n40 0228 . 0105 125\uf03d\uf0b4\uf02d\uf03d\uf0b4\uf02d\nJA LOOPA MAX J\nIT T\n\uf071 V 27\n32 0228 . 0105 125\uf03d\n\uf0b4\uf02d\uf03d\n\uf0b4\uf02d\nJA LOOPA   MAX J\nIT T\n\uf071 \n \nData Sheet AD5421 \n \nRev. I | Page 35 of 36 OUTLINE DIMENSIONS \n0.50\n0.40\n0.30\n09-12-2018-C1\n0.50\nBSC\nTOP VIEW\nTOP VIEW32\n9 16172425\n8\n0.05 MAX\n0.02 NOM\n0.20 REFCOPLANARITY\n0.080.30\n0.25\n0.185.105.00 SQ\n4.90\n0.80\n0.75\n0.700.20 MIN3.753.60 SQ\n3.55\nCOMPLIANT TO JEDEC STANDARDS MO-220- WHHD-5PKG-004570PIN 1\nINDICATORAREAOPTIONS\n(SEEDETAILA)DETAIL A\n(JEDEC 95)\nPIN 1\nINDIC ATOR\nAREA\nSEATING\nPLANEFOR PROPER CONNECTION OF\nTHE EXPOSED PAD, REFER TO\nTHE PIN CONFIGURATION AND\nFUNCTION DESCRIPTIONS\nSECTION OF THIS DATA SHEET.EXPOSEDPAD\n \nFigure 54. 32- Lead Lead Frame Chip Scale Package [LFCS P] \n5 mm × 5 mm Body  and 0.75 mm Package Height   \n(CP-32-12) \nDimensions shown in millimeters  \n \nCOMPLIANT TOJEDEC STANDARDS MO-153-AET\n05-08-2006-A28 15\n141EXPOSED\nPAD\n(Pins Up)9.80\n9.709.60\n4.50\n4.40\n4.30\n6.40\nBSC3.05\n3.00\n2.955.55\n5.50\n5.45\nFOR PROPER CONNECTION OF\nTHE EXPOSED PAD, REFER TO\nTHE PINCONFIGURATION AND\nFUNCTION DESCRIPTIONS\nSECTION OFTHIS DATA SHEET.PIN1\nINDICA TOR\nBOTTOMVIEW TOPVIEW\n1.20 MAX\nSEATING\nPLANE 0.65 BSC 0.30\n0.190.15 MAX\n0.05 MIN\nCOPLANARITY\n0.101.05\n1.00\n0.800.20\n0.09\n0.25\n8°\n0°0.750.600.45\n \nFigure 55. 28- Lead Thin Shrink Small Outline Package, Exposed Pad [TSSOP_EP]  \n(RE-28-2) \nDimensions shown in millimeters  \nAD5421 Data Sheet \n \nRev. I | Page 36 of 36 ORDERING GUIDE  \nModel1 Temperature Range  Package Description  Package Option  \nAD5421ACPZ-REEL7  −40°C to +105°C 32-Lead  Lead Frame Chip Scale Package [LFCSP] CP-32-12 \nAD5421BCPZ -REEL7  −40°C to +105°C  32-Lead Lead Frame Chip Scale Package [ LFCSP ] CP-32-12 \nAD5421BREZ −40°C to +105°C 28-Lead Thin Shrink Small Outline Package, Exposed Pad [ TSSOP_EP] RE-28-2 \nAD5421BREZ-REEL  −40°C to +105°C 28-Lead Thin Shrink Small Outline Package, Exposed Pad [TSSOP_EP]  RE-28-2 \nAD5421BREZ-REEL7  −40°C to +105°C 28-Lead Thin Shrink Small Outline Package, Expose d Pad [TSSOP_EP]  RE-28-2 \nAD5421CREZ −40°C to +105°C 28-Lead Thin Shrink Small Outline Package, Exposed Pad [TSSOP_EP]  RE-28-2 \nAD5421CREZ-RL −40°C to +105°C 28-Lead Thin Shrink Small Outline Package, Exposed Pad [TSSOP_EP]  RE-28-2 \nAD5421CREZ-RL7  −40°C to  +105°C 28-Lead Thin Shrink Small Outline Package, Exposed Pad [TSSOP_EP]  RE-28-2 \nEVAL -AD5421SDZ  Evaluation Board   \n \n1 Z = RoHS Compliant Part.  \n \n \n    \n \n \n©2011 –2018  Analog Devices, Inc. All rights reserved. Trademarks and   \n registered trademarks are the property of their respective owners.  \n  D09128-0- 11/18(I)  \n \nMouser Electronics\n  \nAuthorized Distributor\n \n  \nClick to View Pricing, Inventory, Delivery & Lifecycle Information:\n \n \n \n Analog Devices Inc.:   \n\xa0 EVAL-AD5421SDZ\xa0 AD5421BCPZ-REEL7\xa0 AD5421CREZ-RL\xa0 AD5421BREZ-REEL7\xa0 AD5421ACPZ-REEL7\xa0\nAD5421BREZ\xa0 AD5421CREZ\xa0 AD5421BREZ-REEL\xa0 AD5421CREZ-RL7\n'}]
!==============================================================================!
### Component Summary: AD5421ACPZ-REEL7

#### Key Specifications:
- **Voltage Ratings:**
  - Loop Voltage Range: 5.5 V to 52 V
  - Regulated Output Voltage: 1.8 V to 12 V (selectable)
  
- **Current Ratings:**
  - Output Current Range: 4 mA to 20 mA, 3.8 mA to 21 mA, 3.2 mA to 24 mA
  - Quiescent Current: 300 µA maximum

- **Power Consumption:**
  - Power Supply Voltage: 5.5 V to 52 V
  - Maximum Power Dissipation: 576 mW (at 24 V loop voltage and 24 mA output)

- **Operating Temperature Range:**
  - -40°C to +105°C

- **Package Type:**
  - Available in 28-lead TSSOP and 32-lead LFCSP packages

- **Special Features:**
  - 16-bit resolution and monotonicity
  - Flexible SPI-compatible serial digital interface
  - On-chip fault alerts and automatic readback of fault register
  - Gain and offset adjust registers
  - Integrated voltage reference outputs (1.22 V and 2.5 V)
  - HART communication compatibility

- **Moisture Sensitive Level (MSL):**
  - MSL Level 1 per JEDEC J-STD-020E

#### Description:
The **AD5421** is a loop-powered, 4 mA to 20 mA digital-to-analog converter (DAC) designed for industrial applications, particularly in smart transmitters. It provides high precision and integrates several functionalities, including a voltage regulator, reference voltages, and fault detection mechanisms, all within a compact package. The device is capable of interfacing with microcontrollers via a high-speed SPI-compatible serial interface.

#### Typical Applications:
- **Industrial Process Control:** The AD5421 is primarily used in applications requiring precise control of current loops, such as in process automation and control systems.
- **Smart Transmitters:** It is ideal for smart transmitters that communicate using the HART protocol, enabling digital communication over the same wires used for analog signals.
- **Loop-Powered Transmitters:** The device is designed to operate in loop-powered configurations, making it suitable for remote sensing and monitoring applications where power availability is limited.
- **Data Acquisition Systems:** The high accuracy and integrated features make it suitable for data acquisition systems that require reliable and precise analog output.

This summary encapsulates the essential characteristics and applications of the AD5421ACPZ-REEL7, providing a clear understanding of its capabilities and intended use cases.