[{'role': 'system', 'content': 'You are a technical specialist with expertise in electronics. Your task is to analyze datasheets for electronic components and provide a concise summary of the product’s key characteristics and specifications. In addition, you need to gather textual information about the component, including its description and typical applications.Instructions:    Identify the correct component in the datasheet using the provided product code.    Summarize key parameters, including:        Voltage ratings        Current ratings        Power consumption        Operating temperature range        Package type        Special features or notes (if applicable)        Moisture Sensetive Level JEDEC J-STD-020E    Provide a short description of the component, including what it is (e.g., transistor, microcontroller, sensor) and its primary function.    Explain typical applications for the component (e.g., power management, signal processing, data storage, etc.).    Be thorough and accurate: Ensure the information corresponds specifically to the product code, as some datasheets cover multiple variants.Your goal is to create a clear and accurate technical summary that includes both key specifications and a description of what the component is used for.'}, {'role': 'user', 'content': 'Give me information about the component of KSZ9031RNXIA production of MICROCHIP TECHNOLOGY from the text:\uf0e3 2022 Microchip Technology In c. ands its subsidiaries  DS00002117J-page 1\nFeatures\n• Single-Chip 10/100/1000 Mbps Ethernet Trans-\nceiver Suitable for IEEE 802.3 Applications\n• RGMII Timing Supports On-Chip Delay According \nto RGMII Version 2.0, wit h Programming Options \nfor External Delay and Making Adjustments and \nCorrections to TX and RX Timing Paths\n• RGMII with 3.3V/2.5V/1.8V Tolerant I/Os\n• Auto-Negotiation to Aut omatically Select the \nHighest Link-Up Speed (10/100/1000 Mbps) and \nDuplex (Half/Full)\n• On-Chip Termination Resist ors for the Differential \nPairs\n• On-Chip LDO Controller to Support Single 3.3V \nSupply Operation – Requires Only One External \nFET to Generate 1.2V for the Core\n• Jumbo Frame Support up to 16 KB\n• 125 MHz Reference Clock Output\n• Energy Detect Power-D own Mode for Reduced \nPower Consumption When the Cable is Not \nAttached\n• Wake-On-LAN (WOL) Support with Robust Cus-\ntom-Packet Detection\n• Programmable LED Outputs for Link, Activity, and \nSpeed\n• Baseline Wander Correction\n• LinkMD TDR-Based Cabl e Diagnostic to Identify \nFaulty Copper Cabling\n• Parametric NAND Tree Support to Detect Faults \nBetween Chip I/Os and Board\n• Loopback Modes for Diagnostics• Automatic MDI/MDI-X C rossover to Detect and \nCorrect Pair Swap at all Speeds of Operation\n• Automatic Detection and Correction of Pair \nSwaps, Pair Skew, and Pair Polarity\n• MDC/MDIO Management Interface for PHY Reg-\nister Configuration\n• Interrupt Pin Option• Power-Down and Power-Saving Modes• Operating Voltages\n- Core (DVDDL, AVDDL, AVDDL_PLL): 1.2V \n(External FET or Regulator)\n- VDD I/O (DVDDH): 3.3V, 2.5V, or 1.8V\n- Transceiver (AVDDH): 3.3V or 2.5V (Com-\nmercial Temp.)\n• AEC-Q100 Grade 3 (KSZ9031RNXUA/UB) and \nGrade 2 (KSZ9031RNXVA/VB) Qualified for Auto-\nmotive Applications\n• 48-pin QFN (7 mm × 7 mm) Package\nTarget Applications\n• Laser/Network Printer\n• Network Attached Storage (NAS)•N e t w o r k  S e r v e r\n• Gigabit LAN on Motherboard (GLOM)\n• Broadband Gateway• Gigabit SOHO/SMB Router\n•I P T V\n• IP Set-Top Box• Game Console\n• Triple-Play (Data, Voice, Video) Media Center\n• Industrial Control• Automotive In-Vehicle NetworkingKSZ9031RNX\nGigabit Ethernet Transceiver with RGMII \nSupport\nKSZ9031RNX\nDS00002117J-page 2  \uf0e3 2022 Microchip Technology Inc. and its subsidiariesTO OUR VALUED CUSTOMERS\nIt is our intention to provide our valued customers with the be st documentation possible to ens ure successful use of your Micr ochip\nproducts. To this end, we will continue to improve our publicat ions to better suit your needs. Our publications will be refine d and\nenhanced as new volumes and updates are introduced. \nIf you have any questions or comm ents regarding this publicatio n, please contact the Marketi ng Communications Department via\nE-mail at docerrors@microchip.com . We welcome your feedback.\nMost Current Data Sheet\nTo obtain the most up-to-date version of this data sheet, pleas e register at our Worldwide Web site at:\nhttp://www.microchip.com\nYou can determine the version of  a data sheet by examining its literature number found on the bottom outside corner of any pag e. \nThe last character of the litera ture number is the version numb er, (e.g., DS30000000A is versi on A of document DS30000000).\nErrata\nAn errata sheet, describing minor  operational differences from the data sheet and recommended workarounds, may exist for cur-\nrent devices. As devic e/documentation issues become known to us , we will publish an errata sheet. The errata will specify the\nrevision of silicon an d revision of document to which it applie s.\nTo determine if an errata sheet e xists for a particular device,  please check with one of the following:\n• Microchip’s Worldwide Web site; http://www.microchip.com\n• Your local Microchip sales office (see last page)\nWhen contacting a sales office, p lease specify which device, re vision of silicon and data sheet (include -literature number) y ou are\nusing.\nCustomer Notification System\nRegister on our web site at www.microchip.com  to receive the most current information on all of our products .\n\uf0e3 2022 Microchip Technology In c. and its subsidiaries  DS00002117J-page 3KSZ9031RNX\nTable of Contents\n1.0 Introduction .............................................. ............................................................... ............................................................... ......... 4\n2.0 Pin Description and Configuration ......................... ............................................................... .......................................................... 5\n3.0 Functional Description .................................... ............................................................... ............................................................... 13\n4.0 Register Descriptions ..................................... ............................................................... ............................................................... .3 1\n5.0 Operational Char acteristics ............................... ............................................................... ............................................................. 52\n6.0 Electrical Characteristics ................................ ............................................................... ............................................................... .5 3\n7.0 Timing Diagrams ........................................... ............................................................... ............................................................... .. 57\n8.0 Reset Circuit ............................................. ............................................................... ............................................................... ...... 63\n9.0 Reference Circuits —  LED Strap-In Pins .................... ............................................................... ................................................... 65\n10.0 Reference Clock - Connection and Selection ............... ............................................................... ............................................... 66\n11.0 On-Chip LDO Controller - MOSFET Selection ................ ............................................................... ............................................. 66\n12.0 Magnetic - Connection and Selection ...................... ............................................................... .................................................... 67\n13.0 Package Outlines ......................................... ............................................................... ............................................................... .6 9\nAppendix A: Data Sheet Revision History ....................... ............................................................... ..................................................... 76\nThe Microchip Web Site ........................................ ............................................................... ............................................................... 78\nCustomer Change Notification Service .......................... ............................................................... ...................................................... 78\nCustomer Support .............................................. ............................................................... ............................................................... ... 78\nProduct Identification System ................................. ............................................................... ............................................................. 79\nKSZ9031RNX\nDS00002117J-page 4  \uf0e3 2022 Microchip Technology Inc. and its subsidiaries1.0 INTRODUCTION\n1.1 General Description\nThe KSZ9031RNX is a completely integrated triple-speed (10BASE- T/100BASE-TX/1000BASE-T)  Ethernet physical-\nlayer transceiver for transmissi on and reception of data on sta ndard CAT-5 unshielded tw isted pair (UTP) cable. \nThe KSZ9031RNX provides the Reduced Gigabit Media Independent I nterface (RGMII) for direct connection to RGMII\nMACs in Gigabit Ethernet processo rs and switches for data trans fer at 10/100/1000 Mbps.\nThe KSZ9031RNX reduces board cost and simplifies board layout b y using on-chip termination resistors for the four\ndifferential pairs and by integr ating an LDO controller to driv e a low-cost MOSFET to  supply the 1.2V core.\nThe KSZ9031RNX offers diagnostic features to facilitate system bring-up and debugging in production testing and in\nproduct deployment. Parametric NAND tree support enables fault detection between KSZ9031 I/Os and the board. The\nLinkMD® TDR-based cable diagnostic identifies faulty copper cabling. R emote and local loopback functions verify ana-\nlog and digita l data paths.\nThe standard KSZ9031RNX is available in a 48-pin, lead-free QFN  package, and the AEC-Q100 automotive qualified\nparts, KSZ9031RNXUA/UB and KSZ9031R NXVA/VB, are available in a 48-pin lead-free VQFN  (wettable) package.\nFIGURE 1-1: SYSTEM BLOCK DIAGRAM\n RGMII\n10/100/1000Mbps\nRGMII\nETHERNET MACMDC/MDIO\nMANAGEMENTKSZ9031RNX\nLDO\nCONTROLLER\nON-CHIP TERMINATION\nRESISTORS\nVIN\n3.3VAVOUT\n1.2V (FOR CORE VOLTAGES)\nMAGNETICSRJ-45\nCONNECTORMEDIA TYPES\n  10Base-T\n  100Base-TX\n  1000Base-T\n(SYSTEM POWER CIRCUIT)PME_N\n\uf0e3 2022 Microchip Technology In c. and its subsidiaries  DS00002117J-page 5KSZ9031RNX\n2.0 PIN DESCRIPTION AND CONFIGURATION\nFIGURE 2-1: 48-QFN PIN ASSIGNMENT (TOP VIEW)\n1\nTXRXP_A\nLED2/\nPHYAD141 42 43 44 45 46 47 48\nPADDLE GROUND\n(ON BOTTOM OF CHIP)37 38 39 40\n2\nTXRXM_A 3\n4\n5AVDDL\n6AVDDH\n7\n8\n9\n10TXRXP_B\n11TXRXM_B\nAVDDL\n20 19 18 17 16 15 14 13 24 23 22 21LED 1 / \nPME _N1 / \nPHYAD0DVDDH\nTXD0DVDDL\nTXD2\nTXD3\nDVDDL36\n35\n34\n33\n32\n31\n30\n29\n28\n27\n26\n25DVDDL\nTX_ENRXD1/\nMODE1RXD0/\nMODE0RX_DV/\nCLK125_ENDVDDH\nVSSRX_CLK/\nPHYAD2RESET_NISET NC\nXI\nXO\nAVDDL_PLL\nLDO_O\nDVDDHCLK125_NDO/\nLED_MODE\nDVDDL\nINT_N/\nPME_N2\nMDIOTXD1DVDDLKSZ9031RNX\n12 AVDDHTXRXP_C\nTXRXM_C\nTXRXP_D\nTXRXM_DMDC\nRXD2/\nMODE2\nRXD3/\nMODE3DVDDL\nGTX_CLKNC\nKSZ9031RNX\nDS00002117J-page 6  \uf0e3 2022 Microchip Technology Inc. and its subsidiariesTABLE 2-1: SIGNALS - KSZ9031RNX\nPin \nNumberPin\nNameType\nNote\n2-1Description\n1 AVDDH P 3.3V/2.5V (commerc ial temp only) analog VDD\n2 TXRXP_A I/OMedia Dependent Interface[0], pos itive signal of d ifferential p air\n1000BASE-T mode:TXRXP_A corresponds to BI_DA+ for MDI configuration and BI_DB+ for MDI-\nX configuration,  respectively.\n10BASE-T/100BASE-TX mode:\nTXRXP_A is the positive transmit signal (TX+) for MDI configura tion and the \npositive receive signal (RX+) for MDI-X configuration, respecti vely.\n3 TXRXM_A I/OMedia Dependent Interface[0], ne gative signal of differential p air\n1000BASE-T mode:\nTXRXM_A corresponds to BI_DA– fo r MDI configuration and BI_DB– for \nMDI-X configuration, respectively.\n10BASE-T/100BASE-TX mode:\nTXRXM_A is the negative transmit signal (TX–) for MDI configura tion and the \nnegative receive signal (RX–) fo r MDI-X configuration, respecti vely.\n4 AVDDL P 1.2V analog V\nDD\n5 TXRXP_B I/OMedia Dependent Interface[1], pos itive signal of d ifferential p air\n1000BASE-T mode:TXRXP_B corresponds to BI_DB+ for MDI configuration and BI_DA+ for MDI-\nX configuration,  respectively.\n10BASE-T/100BASE-TX mode:TXRXP_B is the positive receive signal (RX+) for MDI configurat ion and the \npositive transmit signal (TX+) f or MDI-X configuration, respect ively.\n6 TXRXM_B I/OMedia Dependent Interface[1], ne gative signal of differential p air\n1000BASE-T mode:\nTXRXM_B corresponds to BI_DB– f or MDI configuration and BI_DA– for \nMDI-X configuration, respectively.\n10BASE-T/100BASE-TX mode:\nTXRXM_B is the negative receive signal (RX–) for MDI configurat ion and the \nnegative transmit signal (TX–) fo r MDI-X configuration, respect ively.\n7 TXRXP_C I/OMedia Dependent Interface[2], pos itive signal of d ifferential p air\n1000BASE-T mode:\nTXRXP_C corresponds to BI_DC+ f or MDI configurat ion and BI_DD+ for \nMDI-X configuration, respectively.10BASE-T/100BASE-TX mode:\nTXRXP_C is not used.\n8 TXRXM_C I/OMedia Dependent Interface[2], ne gative signal of differential p air\n1000BASE-T mode:\nTXRXM_C corresponds to BI_DC– for  MDI configuration and BI_DD– for \nMDI-X configuration, respectively.\n10BASE-T/100BASE-TX mode:\nTXRXM_C is not used.\n9 AVDDL P 1.2V analog V\nDD\n\uf0e3 2022 Microchip Technology In c. and its subsidiaries  DS00002117J-page 7KSZ9031RNX\n10 TXRXP_D I/OMedia Dependent Interface[3], posi tive signal of differential p air\n1000BASE-T mode:\nTXRXP_D corresponds to BI_DD+ f or MDI configurat ion and BI_DC+ for \nMDI-X configuration, respectively.\n10BASE-T/100BASE-TX mode:\nTXRXP_D is not used.\n11 TXRXM_D I/OMedia Dependent Interface[3], ne gative signal of differential p air\n1000BASE-T mode:\nTXRXM_D corresponds to BI_DD– for  MDI configuration and BI_DC– for \nMDI-X configuration, respectively.10BASE-T/100BASE-TX mode:\nTXRXM_D is not used.\n12 AVDDH P 3.3V/2.5V (commerc ial temp only) analog V\nDD\n13 NC —No connect. This pin is not bonded and can be connected to digi tal ground for \nfootprint compatibility wit h the KSZ9021RN Gigabit PHY.\n14 DVDDL P 1.2V digital VDDTABLE 2-1: SIGNALS - KSZ9031RNX (CONTINUED)\nPin \nNumberPin\nNameType\nNote\n2-1Description\nKSZ9031RNX\nDS00002117J-page 8  \uf0e3 2022 Microchip Technology Inc. and its subsidiaries15LED2/\nPHYAD1I/OLED output: Programmable LED2 output \nConfig mode: The pull-up/pull-down  value is latched as PHYAD[1]  during \npower-up/reset. See the Strap-In Options - KSZ9031RNX  section for details.\nThe LED2 pin is programmed by the LED_MODE strapping option (Pi n 41), \nand is defined as follows:Single-LED Mode\nLink Pin State LED DefinitionLink Off H OFF\nLink On (any speed) L ON\nTri-Color Dual-LED Mode\nLink/ActivityPin State LED Definition\nLED2 LED1 LED2 LED1\nLink Off H H OFF OFF1000 Link/No Activity L H ON OFF\n1000 Link/Activity\n(RX, TX)Toggle H Blinking OFF\n100 Link/No Activity H L OFF ON\n100 Link/Activity \n(RX, TX)H Toggle OFF Blinking\n10 Link/No Activity L L ON ON\n10 Link/Activity \n(RX, TX)Toggle Toggle Blinking Blinking\nFor tri-color dual-LED mode, LED2 works in conjunction with LED 1 (Pin 17) to \nindicate 10 Mbps l ink and activity.\n16 DVDDH P 3.3V, 2.5V, or 1.8V digital V\nDD_I/OTABLE 2-1: SIGNALS - KSZ9031RNX (CONTINUED)\nPin \nNumberPin\nNameType\nNote\n2-1Description\n\uf0e3 2022 Microchip Technology In c. and its subsidiaries  DS00002117J-page 9KSZ9031RNX\n17LED1/\nPHYAD0/\nPME_N1I/OLED1 output: Progra mmable LED1 output \nConfig mode: The volt age on this pin is sa mpled and latched dur ing the \npower-up/reset process to determine the value of PHYAD[0]. See the Strap-In \nOptions - KSZ9031RNX  section for details.\nPME_N output: Programmable PME_N output (pin option 1). This pi n function \nrequires an external pull-up re sistor to DVDDH (digital VDD_I/O ) in a range \nfrom 1.0 kΩ to 4 .7 kΩ. When asserted low , this pin signals that  a WOL event \nhas occurred.This pin is not an open-drain for all operating modes.\nThe LED1 pin is programmed by the LED_MODE strapping option (Pi n 41), \nand is defined as follows:\nSingle-LED Mode\nActivity Pin State LED Definition\nNo Activity H OFFActivity (RX, TX) Toggle Blinking\nTri-Color Dual-LED Mode\nLink/ActivityPin State LED Definition\nLED2 LED1 LED2 LED1\nLink Off H H OFF OFF\n1000 Link/No Activity L H ON OFF1000 Link/Activity \n(RX, TX)Toggle H Blinking OFF\n100 Link/No Activity H L OFF ON\n100 Link/Activity \n(RX, TX)H Toggle OFF Blinking\n10 Link/No Activity L L ON ON\n10 Link/Activity\n(RX, TX)Toggle Toggle Blinking Blinking\nFor tri-color dual-LED mode, LED1 works in conjunction with LED 2 (Pin 15) to \nindicate 10 Mbps l ink and activity.\n18 DVDDL P 1.2V digital V\nDD\n19 TXD0 I RGMII mode: RGMII TD0 (Transmit Data 0) input\n20 TXD1 I RGMII mode: RGMII TD1 (Transmit Data 1) input21 TXD2 I RGMII mode: RGMII TD2 (Transmit Data 2) input\n22 TXD3 I RGMII mode: RGMII TD3 (Transmit Data 3) input\n23 DVDDL P 1.2V digital V\nDD\n24 GTX_CLK I RGMII mode: RGMII TXC (Transmit Reference Clock) inpu tTABLE 2-1: SIGNALS - KSZ9031RNX (CONTINUED)\nPin \nNumberPin\nNameType\nNote\n2-1Description\nKSZ9031RNX\nDS00002117J-page 10  \uf0e3 2022 Microchip Technology Inc. and its subsidiaries25 TX_EN I RGMII mode: RGMII TX_C TL (Transmit Control) input\n26 DVDDL P 1.2V digital VDD\n27RXD3/\nMODE3I/ORGMII mode: RGMII RD3 (Re ceive Data 3) output\nConfig mode: The pull-up/pull-down  value is latched as MODE3 du ring \npower-up/reset. See the Strap-In Options - KSZ9031RNX  section for details.\n28RXD2/\nMODE2I/ORGMII mode: RGMII RD2 (Re ceive Data 2) output\nConfig mode: The pull-up/pull-down  value is latched as MODE2 du ring \npower-up/reset. See the Strap-In Options - KSZ9031RNX  section for details.\n29 VSS GND Digital ground\n30 DVDDL P 1.2V digital VDD\n31RXD1/\nMODE1I/ORGMII mode: RGMII RD1 (Re ceive Data 1) output\nConfig mode: The pull-up/pull-down  value is latched as MODE1 du ring \npower-up/reset. See the Strap-In Options - KSZ9031RNX  section for details.\n32RXD0/\nMODE0I/ORGMII mode: RGMII RD0 (Re ceive Data 0) output\nConfig mode: The pull-up/pull-down  value is latched as MODE0 du ring \npower-up/reset. See the Strap-In Options - KSZ9031RNX  section for details.\n33RX_DV/\nCLK125_ENI/ORGMII mode: RGMII RX_CTL ( Receive Control) output\nConfig mode: Latched as CLK125 _NDO Output Enable during power-u p/\nreset. See the Strap-In Options - KSZ9031RNX  section for details.\n34 DVDDH P 3.3V, 2.5V, or 1.8V digital VDD_I/O\n35RX_CLK/\nPHYAD2I/ORGMII mode: RGMII RXC (Recei ve Reference Clock) output\nConfig mode: The pull-up/pull-down  value is latched as PHYAD[2]  during \npower-up/reset. See the Strap-In Options - KSZ9031RNX  section for details.\n36 MDC IpuManagement data clock input\nThis pin is the in put reference clock for MDIO (Pin 37).\n37 MDIO Ipu/OManagement data input/output\nThis pin is synchronous to MDC (P in 36) and requir es an externa l pull-up \nresistor to DVDDH (digital VDD_I/O ) in a range from 1.0 kΩ to 4.7 kΩ .\n38INT_N/ \nPME_N2OInterrupt output: Programmable interrupt output, with Register 1Bh as the \nInterrupt Control/Status register, for programming the interrup t conditions and \nreading the interrup t status. Register 1Fh , Bit [14] sets the i nterrupt output to \nactive low (default) or active high.\nPME_N output: Programmable PME_ N output (pin opt ion 2). When as serted \nlow, this pin signals tha t a WOL event has occurred.\nFor Interrupt (when active low) and PME functions, this pin req uires an exter-\nnal pull-up resistor t o DVDDH (digital VDD_I/O ) in a range from 1.0 kΩ to \n4.7 kΩ.\nThis pin is not an open-drain for all operating modes.\n39 DVDDL P 1.2V digital VDD\n40 DVDDH P 3.3V, 2.5V, or 1.8V digital VDD_I/OTABLE 2-1: SIGNALS - KSZ9031RNX (CONTINUED)\nPin \nNumberPin\nNameType\nNote\n2-1Description\n\uf0e3 2022 Microchip Technology In c. and its subsidiaries  DS00002117J-page 11KSZ9031RNX\nNote 2-1 P = power supply\nGND = ground\nI = input\nO = outputI/O = bi-directional\nIpu = Input with internal pull-up (see Section 6.0, "Electrical Characteristics"  for value).\nIpu/O = Input with internal pull-up (see Section 6.0, "Electrical Characteristics"  for value) during\npower-up/reset; output pin otherwise.41CLK125_NDO/\nLED_MODEI/O125 MHz clock output\nThis pin provides a 125 MHz refe rence clock output option for u se by the \nMAC.\nConfig mode: The pull-up/pull-down  value is latched as LED_MODE  during \npower-up/reset. See the Strap-In Options - KSZ9031RNX  section for details.\n42 RESET_N IpuChip reset (active low)\nHardware pin configurations are strapped-in at the de-assertion  (rising edge) \nof RESET_N. See the Strap-In Options - KSZ9031RNX  section for details.\n43 LDO_O OOn-chip 1.2V LDO  controller output\nThis pin drives the input gate  of a P-channel MOSFET to generat e 1.2V for \nthe chip’s core voltages. If the  system provides 1 .2V and this pin is not used, \nit can be left floating.\nNote: This pin should never be driven externally.\n44 AVDDL_PLL P 1.2V analog VDD for PLL\n45 XO O25 MHz crystal feedback\nThis pin is a no connec t if an oscillator o r external clock sou rce is used.\n46 XI ICrystal/Oscillator/External Clock input\n25 MHz ±50 ppm tolerance\n47 NC —No connect\nThis pin is not bonded and can be connected to AVDDH power for footprint \ncompatibility with the KSZ9021RN Gigabit PHY.\n48 ISET I/OSet the transmit output level\nConnect a 12.1 kΩ 1% resist or to ground on this pin.\nPaddle P_GND GNDExposed paddle on bottom of chip\nConnect P_GND to ground.TABLE 2-1: SIGNALS - KSZ9031RNX (CONTINUED)\nPin \nNumberPin\nNameType\nNote\n2-1Description\nKSZ9031RNX\nDS00002117J-page 12  \uf0e3 2022 Microchip Technology Inc. and its subsidiariesPin strap-ins are latched durin g power-up or reset. In some sys tems, the MAC receive input  pins may be driven during\npower-up or reset, and consequent ly cause the PHY strap-in pins  on the RGMII signals to be  latched to an incorrect\nconfiguration. In this case, ext ernal pull-up or pull-down resi stors should be added on the PHY strap-in pins to ensure\nthe PHY is configured to t he correct pin strap-in mode.\nNote 2-2 I/O = Bi-directional.TABLE 2-2: STRAP-IN OPTIONS - KSZ9031RNX\nPin Number Pin NameType\nNote 2-2Description\n35\n1517PHYAD2\nPHYAD1PHYAD0I/O\nI/OI/OThe PHY address, PHYAD[2:0], is sampled and latched at power-up /\nreset and is configurable to any value from 0 to 7. Each PHY ad dress \nbit is configured as follows:\nPull-up = 1\nPull-down = 0PHY Address Bits [4:3 ] are always set to ‘00’.\n27\n28\n31\n32MODE3\nMODE2\nMODE1\nMODE0I/O\nI/O\nI/O\nI/OThe MODE[3:0] strap-in pins are  sampled and latched at power-up /\nreset and are defined as follows:\nMODE[3:0] Mode\n0000 Reserved - not used\n0001 Reserved - not used0010 Reserved - not used\n0011 Reserved - not used\n0100 NAND tree mode0101 Reserved - not used\n0110 Reserved - not used\n0111 Chip power-down mode1000 Reserved - not used\n1001 Reserved - not used\n1010 Reserved - not used1011 Reserved - not used\n1100RGMII mode - Advertise 1000BASE-T full-duplex \nonly\n1101RGMII mode - Advertise 1 000BASE-T full- and half-\nduplex only\n1110RGMII mode - Advertise al l capabilities (10/100/1000 \nspeed half-/full-duplex), except 1000BASE-T half-\nduplex\n1111RGMII mode - Advertise al l capabilities (10/100/1000 \nspeed half-/full-duplex)\n33 CLK125_EN I/OCLK125_EN is sampled and latc hed at power-up/reset and is \ndefined as follows:Pull-up (1) = Enable 125 MHz clock output\nPull-down (0) = Disabl e 125 MHz clock output\nPin 41 (CLK125_NDO) provides the 125 MHz reference clock output  \noption for use by the MAC.\n41 LED_MODE I/OLED_MODE is sampled and latche d at power-up/reset and is \ndefined as follows:\nPull-up (1) = Single-LED mode\nPull-down (0) = Tri-color dual-LED mode\n\uf0e3 2022 Microchip Technology In c. and its subsidiaries  DS00002117J-page 13KSZ9031RNX\n3.0 FUNCTIONAL DESCRIPTION\nThe KSZ9031RNX is a completely  integrated triple-speed (10BASE- T/100BASE-TX/1000BASE-T) Ethernet physical\nlayer transceiver solution for transmission and reception of da ta over a standard CAT-5 unshielded twisted pair (UTP)\ncable. \nThe KSZ9031RNX reduces board cost and simplifies board layout b y using on-chip termination resistors for the four\ndifferential pairs and by integr ating an LDO controller to driv e a low-cost MOSFET to  supply the 1.2V core.\nOn the copper media interface, t he KSZ9031RNX can automatically  detect and correct for differential pair misplace-\nments and polarity reversals, and correct propagation delays an d re-sync timing between the four differential pairs, as\nspecified in the I EEE 802.3 standard for 1 000BASE-T operation.\nThe KSZ9031RNX provides the RGMII interface for connection to R GMII MACs in Gigabit Ethernet processors and\nswitches for data trans fer at 10/100/ 1000 Mbps.\nFigure 3-1  shows a high-level block diagram of the KSZ9031RNX.\nFIGURE 3-1: KSZ9031RNX BLOCK DIAGRAM\n3.1 10BASE-T/100BASE-TX Transceiver\n3.1.1 100BASE-TX TRANSMIT\nThe 100BASE-TX transmit function performs parallel-to-serial co nversion, 4B/5B coding, scr ambling, NRZ-to-NRZI con-\nversion, and MLT-3 encoding and transmission.\nThe circuitry starts with a parallel-to-serial conversion, whic h converts the MII data from the MAC into a 125 MHz serial\nbit stream. The data and control stream is then converted into 4B/5B coding, followed by a scrambler. The serialized\ndata is further converted from NRZ-to-NRZI format, and then tra nsmitted in MLT-3 current out put. The output current is\nset by an external 12.1 kΩ 1% re sistor for the 1 :1 transformer ratio.\nThe output signal has a typical rise/fall time of 4 ns and comp lies with the ANSI TP-PMD st andard regarding amplitude\nbalance, and ove rshoot. The wave-shaped 10BASE-T output is also  incorporated into the 100BASE-TX transmitter.\n3.1.2 100BASE-TX RECEIVE\nThe 100BASE-TX receiver function  performs adaptiv e equalization , DC restoration, MLT-3-t o-NRZI conversion, data\nand clock recovery, NRZI-to-NRZ c onversion, de-scrambling, 4B/5 B decoding, and serial-to-parallel conversion. \nThe receiving side starts with the equalization filter to compe nsate for inter-symbol interference (ISI) over the twisted\npair cable. Because the amplitude loss and phase distortion are  a function of the cable length, the equalizer must adjust\nits characteristics to optimize performance. In this design, th e variable equalizer makes an initial estimation based on\ncomparisons of incoming signal strength against some known cabl e characteristics, then tunes itself for optimization.\nThis is an ongoing process and se lf-adjusts again st environment al changes such as temperature variations.MEDIA\nINTERFACEPMA\nTX10/100/1000\nPMA\nRX1000\nPMA\nRX100\nPMA\nRX10CLOCK\nRESET\nPCS10\nAUTO-\nNEGOTIATIONPCS100PCS1000\nINTERFACE\nLED\nDRIVERSCONFIGURATIONS\nRGMII\nKSZ9031RNX\nDS00002117J-page 14  \uf0e3 2022 Microchip Technology Inc. and its subsidiariesNext, the equalized signal goes through a DC-restoration and da ta-conversion block. The DC-restoration circuit com-\npensates for the effect of baseline wander and improves the dyn amic range. The differential data conversion circuit con-\nverts the MLT-3 format back to NRZ I. The slicing threshold is a lso adaptive.\nThe clock-recovery circuit extra cts the 125 MHz clock from the edges of the NRZI signal. This recovered clock is then\nused to convert the NRZI signal into the NRZ format. This signa l is sent through the de-scrambler followed by the 4B/\n5B decoder. Finally,  the NRZ serial data is  converted to the RG MII format and provided as  the input data to the MAC.\n3.1.3 SCRAMBLER/DE-SCRA MBLER (100BASE-TX ONLY)\nThe purpose of the scrambler is to spread the power spectrum of  the signal to reduce electrom agnetic interference (EMI)\nand baseline wander. Transmitted data is scrambled using an 11- bit wide linear feedback shift register (LFSR). The\nscrambler generates a 2047-bit non-repetitive sequence, then th e receiver de-scrambles the incoming data stream\nusing the same sequence as at the transmitter.\n3.1.4 10BASE-T TRANSMIT\nThe 10BASE-T output dri vers are incorporated into the 100BASE-T X drivers to allow for transmission with the same\nmagnetic. The drivers perform internal wave-shaping and pre-emp hasis, and output signals wit h typical amplitude of\n2.5V peak for standard 10BASE-T mo de and 1.75V peak for energy- efficient 10BASE-Te mode. The 10BASE-T/\n10BASE-Te signals have harmonic c ontents that are at least 31 d B below the fundamental frequency when driven by\nan all-ones Manchest er-encoded signal.\n3.1.5 10BASE-T RECEIVE\nOn the receive side, input buffer  and level-detect ing squelch c ircuits are used. A differential  input receiver circuit and a\nphase-locked loop (PLL) perform the decoding function. The Manc hester-encoded data stream is separated into clock\nsignal and NRZ data. A squelch circuit rejects signals with lev els less than 300 mV or with short pulse widths to prevent\nnoises at the receive inputs from falsely triggering the decode r. When the input exceeds the squelch limit, the PLL locks\nonto the incoming signal and the KSZ9031RNX decodes a data fram e. The receiver clock is maintained active during\nidle periods between r eceiving data frames.\nThe KSZ9031RNX removes all 7 bytes of the preamble and presents  the received frame starting with the SFD (start of\nframe delimiter) to the MAC.\nAuto-polarity correction is provi ded for the receiving differen tial pair to automatically swap and fix the incorrect +/– polar -\nity wiring in the cabling.\n3.2 1000BASE-T Transceiver\nThe 1000BASE-T transceiver is based -on a mixed-si gnal/digital-s ignal processing (DSP) architecture, which includes\nthe analog front-end, digital c hannel equalizers, trellis encod ers/decoders, echo cancelers , cross-talk cancelers, preci-\nsion clock recovery scheme, and  power-efficient line drivers.\nFigure 3-2  shows a high-level block diagram  of a single channel of the 10 00BASE-T transceiver for  one of the  four dif-\nferential pairs.\n\uf0e3 2022 Microchip Technology In c. and its subsidiaries  DS00002117J-page 15KSZ9031RNX\nFIGURE 3-2: KSZ9031RNX 1000BASE-T BLOCK DIAGRAM - SINGLE CHANNEL\n3.2.1 ANALOG ECHO-CA NCELLATION CIRCUIT\nIn 1000BASE-T mode, the analog ec ho-cancellation circuit helps to reduce the near-end echo. This analog hybrid circuit\nrelieves the burden of the AD C and the adaptive equalizer.\nThis circuit is disabled  in 10BASE-T/100BASE-TX mode.\n3.2.2 AUTOMATIC GAIN CONTROL (AGC)\nIn 1000BASE-T mode, the automatic gain control (AGC) circuit pr ovides initial gain adjustment to boost up the signal\nlevel. This pre-conditioning circ uit is used to i mprove the sig nal-to-noise ratio of the receive signal.\n3.2.3 ANALOG-TO-DIGITAL CONVERTER (ADC)\nIn 1000BASE-T mode, the analog-to- digital converter (ADC) digit izes the incoming signal.  ADC performance is essen-\ntial to the overall performance of the transceiver.\nThis circuit is disabled  in 10BASE-T/100BASE-TX mode.\n3.2.4 TIMING RECOVERY CIRCUIT\nIn 1000BASE-T mode, the mixed-signal clock recovery circuit tog ether with the digital phase-locked loop is used to\nrecover and track the incoming timing information from the rece ived data. The digital phase-locked loop has very low\nlong-term jitter to maximize the  signal-to-noise ratio of the r eceive signal.\nThe 1000BASE-T slave PH Y must transmit the exact receive clock frequency recovered from the received data back to\nthe 1000BASE-T master PHY. Othe rwise, the master and slave will  not be synchronized after long transmission. This\nalso helps to facilitate echo cancellation and NEXT removal.\n3.2.5 ADAPTIVE EQUALIZER\nIn 1000BASE-T mode, the adaptive eq ualizer provides the followi ng functions: \n• Detection for partial  response signaling\n• Removal of NEXT and ECHO noise\n• Channel equalization\nSignal quality is degraded by residual echo that is not removed  by the analog hybrid because of impedance mismatch.\nThe KSZ9031RNX uses a digital ec ho canceler to further reduce e cho components on th e receive signal. \nIn 1000BASE-T mode, data transmission and reception occurs simu ltaneously on all four pairs of wires (four channels).\nThis results in high-frequency cr oss-talk coming from adjacent wires. The KSZ9031RNX uses three NEXT cancelers on\neach receive channel to minimize  the cross-talk induced by the other three channels.CLOCK\nGENERATION\nBASELINE \nWANDER\nCOMPENSATIONECHO \nCANCELLERTRANSMIT \nBLOCK\nNEXT CancellerNEXT CancellerNEXT \nCANCELLER\nRX-\nADC\nAGC\n+ FFE SLICER\nCLOCK AND PHASE  \nRECOVERY\nAUTO -\nNEGOTIATION\nPMA STATE\nMACHINESMII\nREGISTERSMII\nMANAGEMENT\nCONTROLDFEANALOG\nHYBRIDPCS STATE \nMACHINES\nPAIR SWAP\nAND\nALIGN UNITDESCRAMBLER\n+\nDECODERSIDE-STREAM \nSCRAMBLER\nAND\nSYMBOL ENCODER\nLED DRIVERXTALOTHER\nCHANNELS\nTX\nSIGNAL\nRX\nSIGNAL\nKSZ9031RNX\nDS00002117J-page 16  \uf0e3 2022 Microchip Technology Inc. and its subsidiariesIn 10BASE-T/100BASE-TX mode, the adaptive equalizer needs only to remove the inter-symbol interference and\nrecover the channel loss  from the incoming data.\n3.2.6 TRELLIS ENCODER AND DECODER\nIn 1000BASE-T mode, the transmitt ed 8-bit data is scrambled int o 9-bit symbols and further encoded into 4D-PAM5\nsymbols. The initial scrambler seed is determined by the specif ic PHY address to reduce EMI when more than one\nKSZ9031RNX is used on the same board. On the receiving side, th e idle stream is examined first. The scrambler seed,\npair skew, pair order, and polarity must be resolved through th e logic. The incoming 4D-PAM5 data is then converted\ninto 9-bit symbols and de- scrambled into 8-bit data.\n3.3 Auto MDI/MDI-X\nThe Automatic MDI/MDI-X feature eliminates the need to determin e whether to use a straight cable or a crossover cable\nbetween the KSZ9031RNX and its link partner. This auto-sense fu nction detects the MDI/MDI-X pair mapping from the\nlink partner, and assigns the MD I/MDI-X pair mapping of the KSZ 9031RNX accordingly.\nTable 3-1  shows the KSZ9031RNX 10/100/1000 pin configuration assignments  for MDI/MDI-X pin mapping.\nAuto MDI/MDI-X is enabled by default. It is disabled by writing  a one to Register 1Ch, Bit [6]. MDI and MDI-X mode is\nset by Register 1Ch, Bit [7] if  Auto MDI/MDI-X is disabled.\nAn isolation transformer with sy mmetrical transmit and receive data paths is recommended to support Auto MDI/MDI-X.\n3.4 Pair-Swap, Alignment, and Polarity Check\nIn 1000BASE-T mode,  the KSZ9031RNX\n• Detects incorrect channel order and automatically restores the  pair order for the A, B, C , D pairs (four channels).\n• Supports 50 ns ±10 ns differenc e in propagation delay between pairs of channels  in accordance  with the IEEE \n802.3 standard, and aut omatically corrects the data skew so the  corrected four pairs of data symbols are synchro-\nnized.\nIncorrect pair polarities of the differential signals are autom atically corrected  for all speeds.\n3.5 Wave Shaping, Slew-Rate Control, and Partial Response\nIn communication systems, signa l transmission encoding methods are used to provide the noise-shaping feature and\nto minimize distortion and erro r in the transmission channel.\n• For 1000BASE-T, a special partial-response signaling method is  used to provide the band-limiting feature for the \ntransmission path.\n• For 100BASE-TX, a simp le slew-rate control method is used to m inimize EMI.\n• For 10BASE-T, pre-emphasis is used to extend the signal qualit y through the cable.\n3.6 PLL Clock Synthesizer\nThe KSZ9031RNX generates 125 MHz, 25 MHz, and 10 MHz clocks for  system timing. Internal clocks are generated\nfrom the external 2 5 MHz crystal or reference clock.TABLE 3-1: MDI/MDI-X PIN MAPPING\nPin\n(RJ-45 Pair)MDI MDI-X\n1000BASE-T 100BASE-T 10BASE-T 1000BASE-T 100BASE-T 10BASE-T\nTXRXP/M_A\n(1, 2)A+/– TX+/– TX+/– B+/– RX+/– RX+/–\nTXRXP/M_B\n(3, 6)B+/– RX+/– RX+/– A+/– TX+/– TX+/–\nTXRXP/M_C\n(4, 5)C+/– Not Used Not Used D+/– Not Used Not Used\nTXRXP/M_D\n(7, 8)D+/– Not Used Not Used C+/– Not Used Not Used\n\uf0e3 2022 Microchip Technology In c. and its subsidiaries  DS00002117J-page 17KSZ9031RNX\n3.7 Auto-Negotiation\nThe KSZ9031RNX conforms to the auto-negotiation protocol, defin ed in Clause 28 of the I EEE 802.3 Specification.\nAuto-negotiation allows UTP (unshielded twisted pair) link part ners to select the highest common mode of operation. \nDuring auto-negotiation, link par tners advertise capabilities a cross the UTP link to each other, and then compare their\nown capabilities with those they received from their link partn ers. The highest speed and duplex setting that is common\nto the two link partners is se lected as the operating mode. \nThe following list shows the s peed and duplex operation mode fr om highest-to-lowest:\n• Priority 1: 1000BASE-T, full-duplex\n• Priority 2: 1000 BASE-T, half-duplex\n• Priority 3: 100 BASE-TX, full-duplex\n• Priority 4: 100BASE-TX, half-duplex\n• Priority 5: 10BASE-T, full-duplex• Priority 6: 10BASE-T, half-duplex\nIf auto-negotiation is not suppor ted or the KSZ9031RNX link par tner is forced to bypass auto-negotiation for 10BASE-\nT and 100BASE-TX modes, the KSZ9031RNX sets its operating mode by observing the input signal at its receiver. This\nis known as parallel detection, and allows the KSZ9031RNX to es tablish a link by listening for a fixed signal protocol in\nthe absence of the auto-negotiat ion advertisement protocol. \nThe auto-negotiation link-up process is shown in Figure 3-3 .\nFIGURE 3-3: AUTO-NEGOTIATION FLOW CHART\nFor 1000BASE-T mode, au to-negotiat ion is required and always us ed to establish a link. During 1000BASE-T auto-\nnegotiation, the master and slave configuration is first resolv ed between link part ners. Then the link i s established with\nthe highest common capabilit ies between link partners.\nAuto-negotiation is enabled by default after power-up or hardwa re reset. After that, auto-negotiation can be enabled or\ndisabled through Register 0h, B it [12]. If auto-negotiation is disabled, the speed is set by Register 0h, Bits [6, 13] and\nthe duplex is set by R egister 0h, Bit [8].\nIf the speed is changed on the fly, the link goes down and auto -negotiation and parallel detection initiate until a common\nspeed between KSZ9031RNX and its  link partner is  re-established  for a link. \nIf the link is already established and there is no change of sp eed on the fly, the changes (for example, duplex and pause\ncapabilities) will not take effe ct unless either auto-negotiati on is restarted through Register  0h, Bit [9], or a link-down to\nlink-up transition occurs (that i s, disconnecting and reconnect ing the cable).START AUTO-NEGOTIATION\nFORCE LINK SETTING\nLISTEN FOR 10BASE-T \nLINK PULSESLISTEN FOR 100BASE-TX\nIDLESATTEMPT AUTO-\nNEGOTIATION\nLINK MODE SETBYPASS AUTO-NEGOTIATION\nAND SET LINK MODE\nLINK MODE SET?PARALLEL\nOPERATIONNO\nYES\nYESNO\nJOIN FLOW\nKSZ9031RNX\nDS00002117J-page 18  \uf0e3 2022 Microchip Technology Inc. and its subsidiariesAfter auto-negotiation is completed, the link status is updated  in Register 1h, Bit [2], and the link partner capabilities are\nupdated in Registers 5h, 6h, 8h, and Ah.\nThe auto-negotiation finite state machines use interval timers to manage the auto-neg otiation process. The duration of\nthese timers under normal operat ing conditions is summarized in  Table 3-2 .\n3.8 10/100 Mbps Speeds Only\nSome applications require link- up to be limited to 10/100 Mbps speeds only. \nAfter power-up/reset, the KSZ9031RNX can be restricted to auto- negotiate and link-up to 10/100 Mbps speeds only by\nprogramming the followi ng register settings: \n1. Set Register 0h, Bit [6] = ‘0 ’ to remove 1000 Mbps speed.\n2. Set Register 9h, Bit s [9:8] = ‘00’ to remo ve Auto-Negotiation  advertisements for 1000 Mbps full-/half-duplex. \n3. Write a ‘1’ to Register 0h, Bit  [9], a self-clearing bit, to force a restart of  Auto-Negotiation.\nAuto-Negotiation and 10BASE-T/100BASE-TX speeds use only differ ential pairs A (pins 2, 3) and B (pins 5, 6). Differ-\nential pairs C (pins 7, 8) and D (pins 10 , 11) can be left as n o connects.\n3.9 RGMII Interface\nThe Reduced Gigabit Media Independ ent Interface (RGMII) support s on-chip data-to-clock delay timing according to\nthe RGMII Version 2.0 Specificat ion, with progra mming options f or external delay timing and to adjust and correct TX\nand RX timing paths. \nRGMII provides a common interfac e between RGMII PHYs and MACs, and has the following ke y characteristics:\n• Pin count is reduced from 24 pi ns for the IEEE Gigabit Media I ndependent Interface (GMII)  to 12 pins for RGMII.\n• All speeds (10 Mbps, 100 Mbps, a nd 1000 Mbps) are supported at  both half- and  full-duplex.\n• Data transmission an d reception are inde pendent and belong to separate signal groups.\n• Transmit data and receive data are each four bits wide, a nibb le.\nIn RGMII operation, the RGMII pins function as follows:• The MAC sources the transmit refe rence clock, TXC, at 125 MHz for 1000 Mbps, 25 MHz for 100 Mbps, and \n2.5 MHz for 10 Mbps.\n• The PHY recovers and sources t he receive reference clock, RXC,  at 125 MHz for 1000 Mbps, 25 MHz for \n100 Mbps, and 2.5 MHz for 10 Mbps.\n• For 1000BASE-T, the transmit dat a, TXD[3:0], is presented on b oth edges of TXC, and the received data, \nRXD[3:0], is clocked out on both edges of the  recovered 125 MHz  clock, RXC.\n• For 10BASE-T/100BASE-TX, the MAC  holds TX_CTL low until both P HY and MAC operate at the same speed. TABLE 3-2: AUTO-NEGOTIATION TIMERS\nAuto-Negotiation Inter val Timers Time Duration\nTransmit Burst Interval 16 ms\nTransmit Pulse Interval 68 µs\nFLP Detect Minimum Time 17.2 µsFLP Detect Maximum Time 185 µs\nReceive Minimum Burst Interval 6.8 ms\nReceive Maximum Burst Interval 112 msData Detect Minimum Interval 35.4 µs\nData Detect Maximum Interval 95 µs\nNLP Test Minimum Interval 4.5 msNLP Test Maximum Interval 30 ms\nLink Loss Time 52 ms\nBreak Link Time 1480 msParallel Detection Wait Time 830 ms\nLink Enable Wait Time 1000 ms\n\uf0e3 2022 Microchip Technology In c. and its subsidiaries  DS00002117J-page 19KSZ9031RNX\nDuring the speed transition, t he receive clock is stretched on either a positive or negative pulse to ensure that no \nclock glitch is pr esented to the MAC.\n• TX_ER and RX_ER are combined with TX_EN and RX_DV, respectivel y, to form TX_CTL and RX_CTL. These \ntwo RGMII control si gnals are valid at t he falling clock edge.\nAfter power-up or reset, the KSZ9031RNX is configured to RGMII mode if the MODE[3:0] strap-in pins are set to one of\nthe RGMII mode capabi lity options. See the Strap-In Options - KSZ9031RNX  section.\nThe KSZ9031RNX has the option to output a 125 MHz reference clo ck on the CLK125_NDO pin. This clock provides a\nlower-cost reference clock alternative for RGMII MACs that requ ire a 125 MHz crystal or oscillator. The 125 MHz clock\noutput is enabled aft er power-up or reset if the CLK125_EN stra p-in pin is pulled high.\n3.9.1 RGMII SIGNAL DEFINITION\nTable 3-3  describes the RGMII signals. Ref er to the RGMII Version 2.0 Sp ecification for more detailed information.\n3.9.2 RGMII SIGNAL DIAGRAM\nThe KSZ9031RNX RGMII pin connec tions to the MAC are shown in Figure 3-4 .\nFIGURE 3-4: KSZ9031RNX RGMII INTERFACETABLE 3-3: RGMII SIGNAL DEFINITION\nRGMII Signal \nName (per spec)RGMII Signal \nName (per \nKSZ9031RNX)Pin Type (with \nrespect to PHY)Pin Type (with \nrespect to MAC)Description\nTXC GTX_CLK Input Output Transmit Reference Clock \n(125MHz for 1000Mbps, 25MHz for 100Mbps, 2.5MHz for 10Mbps)\nTX_CTL TX_EN Input Output Transmit Control\nTXD[3:0] TXD[3:0] Input Output Transmit Data[3:0]\nRXC RX_CLK Output Input Receive Reference Clock\n(125 MHz for 1000 Mbps, 25 MHz \nfor 100 Mbps, 2.5 MHz for 10 Mbps)\nRX_CTL RX_DV Output Input Receive Control\nRXD[3:0] RXD[3:0] Output Input Receive Data[3:0]\nKSZ9031RNX\nGTX _CLK\nTX _EN\nTXD[3:0]\nRX_CLK\nRX _DV\nRXD [3:0]GMII\nETHERNET MAC\nTXC\nTX _CTL\nTXD[3:0]\nRXC\nRX _CTL\nRXD [3:0]R\nKSZ9031RNX\nDS00002117J-page 20  \uf0e3 2022 Microchip Technology Inc. and its subsidiaries3.9.3 RGMII PAD SKEW REGISTERS\nPad skew registers are available for all RGMII pins (clocks, co ntrol signals, and data bits) to provide programming\noptions to adjust or correct the timing relationship for each R GMII pin. Because RGMII is a source-synchronous bus\ninterface, the timing relationsh ip needs to be maintained only within the RGMII pin’s  respective timing group.\n• RGMII transmit timing group pin s: GTX_CLK, TX_EN, TXD[3:0]\n• RGMII receive timing group pi ns: RX_CLK, RX_DV, RXD[3:0]\nTable 3-4  details the four registers loca ted at MMD Address 2h that are provided for pad skew programming.\nThe RGMII control sig nals and data bits have  4-bit skew setting s, while the RGMII clocks  have 5-bit skew settings.\nEach register bit is approximat ely a 0.06 ns step change. A sin gle-bit decrement decreases the delay by approximately\n0.06 ns, while a single-bit incr ement increases t he delay by ap proximately 0.06 ns.\nTable 3-5  and Table 3-6  list the approximate delay for each pad skew (value) setting.TABLE 3-4: RGMII PAD SKEW REGISTERS\nAddress Name Description Mode Default\nMMD Address 2h, Register 4h – RGMII Control Signal Pad Skew\n2.4.15:8 Reserved Reserved RW 0000_0000\n2.4.7:4 RX_DV \nPad SkewRGMII RX_CTL output pad s kew control (0.06 ns/\nstep)RW 0111\n2.4.3:0 TX_EN \nPad SkewRGMII TX_CTL input pad s kew control (0.06 ns/\nstep)RW 0111\nMMD Address 2h, Register 5h – RGMII RX Data Pad Skew\n2.5.15:12 RXD3 \nPad SkewRGMII RXD3 output pad skew control (0.06 ns/\nstep)RW 0111\n2.5.11:8 RXD2 \nPad SkewRGMII RXD2 output pad skew control (0.06 ns/\nstep)RW 0111\n2.5.7:4 RXD1 \nPad SkewRGMII RXD1 output pad skew control (0.06 ns/\nstep)RW 0111\n2.5.3:0 RXD0 \nPad SkewRGMII RXD0 output pad skew control (0.06 ns/\nstep)RW 0111\nMMD Address 2h, Register 6h  – RGMII TX Data Pad Skew\n2.6.15:12 TXD3 \nPad SkewRGMII TXD3 input pad skew control (0.06 ns/step) RW 0111\n2.6.11:8 TXD2 \nPad SkewRGMII TXD2 input pad skew control (0.06 ns/step) RW 0111\n2.6.7:4 TXD1 \nPad SkewRGMII TXD1 input pad skew control (0.06 ns/step) RW 0111\n2.6.3:0 TXD0 \nPad SkewRGMII TXD0 input pad skew control (0.06 ns/step) RW 0111\nMMD Address 2h, Register 8h – RGMII Clock Pad Skew\n2.8.15:10 Reserved Reserved RW 0000_00\n2.8.9:5 GTX_CLK \nPad SkewRGMII GTX_CLK input pad skew control (0.06 ns/\nstep)RW 01_111\n2.8.4:0 RX_CLK \nPad SkewRGMII RX_CLK output pad s kew control (0.06 ns/\nstep)RW 0_1111\n\uf0e3 2022 Microchip Technology In c. and its subsidiaries  DS00002117J-page 21KSZ9031RNX\nTABLE 3-5: DELAY FOR 5- BIT PAD SKEW SETTING\nPad Skew Value Delay (ns)\n0_0000 –0.90\n0_0001 –0.84\n0_0010 –0.78\n0_0011 –0.72\n0_0100 –0.66\n0_0101 –0.60\n0_0110 –0.54\n0_0111 –0.48\n0_1000 –0.42\n0_1001 –0.360_1010 –0.30\n0_1011 –0.24\n0_1100 –0.180_1101 –0.12\n0_1110 –0.06\n0_1111 No delay adjustment (default value)\n1_0000 +0.06\n1_0001 +0.12\n1_0010 +0.18\n1_0011 +0.24\n1_0100 +0.30\n1_0101 +0.36\n1_0110 +0.42\n1_0111 +0.48\n1_1000 +0.54\n1_1001 +0.60\n1_1010 +0.66\n1_1011 +0.72\n1_1100 +0.78\n1_1101 +0.84\n1_1110 +0.90\n1_1111 +0.96\nKSZ9031RNX\nDS00002117J-page 22  \uf0e3 2022 Microchip Technology Inc. and its subsidiariesWhen computing the RGMII timing relationships, delays along the  entire data path must be aggregated to determine the\ntotal delay to be used for comparison between RGMII pins within  their respective timing group. For the transmit data\npath, total delay includes MAC output delay, MAC-to-PHY PCB rou ting delay, and PHY (KSZ9031RNX) input delay and\nskew setting (if any). For the receive data path, the total del ay includes PHY (KSZ9031RNX) output delay, PHY-to-MAC\nPCB routing delay, and MAC inpu t delay and skew se tting (if any ).\nAs the default, after power-up or reset, the KSZ9031RNX RGMII t iming conforms to the timing requirements in the\nRGMII Version 2.0 Specificati on for internal PHY chip delay. \nFor the transmit path (MAC to KSZ9031RNX), the KSZ9031RNX does not add any delay locally at its GTX_CLK, TX_EN\nand TXD[3:0] input pins, and expects the GTX_CLK delay to be pr ovided on-chip by the MAC. If MAC does not provide\nany delay or insufficient delay for the GTX_CLK, the KSZ9031RNX  has pad skew registers that can provide up to\n1.38 ns on-chip delay.\nFor the receive path (KSZ9031RNX to MAC), the KSZ9031RNX adds 1 .2ns typical delay to the RX_CLK output pin with\nrespect to RX_DV and RXD[3:0] o utput pins. If necessary, the KS Z9031RNX has pad skew registers that can adjust the\nRX_CLK on-chip delay up to 2.58 ns from the 1.2 ns default dela y.\nThe above default RGMII timings imply:• RX_CLK clock skew is set by t he KSZ9031RNX default register se ttings.\n• GTX_CLK clock skew is provided by the MAC.• No PCB delay is required fo r GTX_CLK and R X_CLK clocks.\nThe following examples show how to read/write to MMD Address 2h , Register 8h for the RGMII GTX_CLK and RX_CLK\nskew settings. MMD register access is through the direct portal  Registers Dh and Eh. For more programming details,\nrefer to the MMD Registers  section.\n• Read back value of MMD Address 2h, Register 8h. \n- Write Register 0xD = 0x0002 //  Select MMD Device Address 2h\n- Write Register 0xE = 0x0008 // Select Register 8h of MMD Devic e Address 2h\n- Write Register 0xD = 0x4002 //  Select register data for MMD De vice Address 2h, Register 8h\n- Read Register 0xE // Read value of MMD Device Address 2h, Regi ster 8hTABLE 3-6: DELAY FOR 4- BIT PAD SKEW SETTING\nPad Skew Value Delay (ns)\n0000 –0.42\n0001 –0.36\n0010 –0.30\n0011 –0.24\n0100 –0.18\n0101 –0.12\n0110 –0.06\n0111 No delay adjustment (default value)\n1000 +0.06\n1001 +0.121010 +0.18\n1011 +0.24\n1100 +0.301101 +0.36\n1110 +0.42\n1111 +0.48\n\uf0e3 2022 Microchip Technology In c. and its subsidiaries  DS00002117J-page 23KSZ9031RNX\n• Write value 0x03FF (delay GTX_CL K and RX_CLK pad skews to thei r maximum values) to MMD Address 2h, \nRegister 8h\n- Write Register 0xD = 0x0002 //  Select MMD Device Address 2h\n- Write Register 0xE = 0x0008 // Se lect Register 8h of MMD Devic e Address 2h\n- Write Register 0xD = 0x4002 //  Select register data for MMD De vice Address 2h, Register 8h\n- Write Register 0xE = 0x03FF //  Write value 0x03FF to MMD Devic e Address 2h, Register 8h\n3.9.4 RGMII IN-BAND STATUS\nThe KSZ9031RNX provides in-band st atus to the MAC during the in ter-frame gap when RX_DV  is de-asserted. RGMII \nin-band status is always enabled after power-up.\nThe in-band status is sent to t he MAC using the RXD[3:0] data p ins, and is described in Table 3-7 .\n3.10 MII Management (MIIM) Interface\nThe KSZ9031RNX supports the IEEE 802.3 MII management interface , also known as the Management Data Input/\nOutput (MDIO) interface. This interface allows upper-layer devi ces to monitor and control t he state of the KSZ9031RNX.\nAn external device with MIIM capability is used to read the PHY  status and/or configure the PHY settings. More details\nabout the MIIM interfa ce can be found in Cla use 22.2.4 of the I EEE 802.3 Specification.\nThe MIIM interface consists of the following:• A physical connection that incor porates the clock line (MDC) a nd the data line (MDIO).\n• A specific protocol that operat es across the ph ysical connecti on mentioned earlier, which  allows an external con-\ntroller to communicate with one o r more KSZ9031RNX devices. Eac h KSZ9031RNX device is assigned a unique \nPHY address between 0h and 7h by t he PHYAD[2:0] strapping pins.\n• A 32-register address space fo r direct access to IEEE-defined registers and vendor-specific registers, and for indi-\nrect access to MMD addresses and registers. See the Register Map  section.\nPHY Address 0h is supported as the unique PHY address only; it is not supported as the broadcast PHY address, which\nallows for a single write command to simultaneously program an identical PHY register for two or more PHY devices\n(for example, using PHY Address 0h to set Register 0h to a valu e of 0x1940 to set Bit [11] to a value of one to enable\nsoftware power-down). Instead, s eparate write commands are used  to program each PHY device.\nTable 3-8  shows the MII management fra me format for the KSZ9031RNX.\n3.11 Interrupt (INT_N)\nThe INT_N pin is an optional interrupt signal that is used to i nform the external controller  that there has been a status\nupdate in the KSZ9031RNX PHY register. Bits [15:8] of Register 1Bh are the interrupt control bits that enable and dis-\nable the conditions for asserting the INT_N signal. Bits [7:0] of Register 1Bh are the interr upt status bits that indicate\nwhich interrupt conditions have  occurred. The interrupt status bits are cleared after reading Register 1Bh.\nBit [14] of Register 1Fh sets th e interrupt level to active hig h or active low. The default is active low.TABLE 3-7: RGMII IN-BAND STATUS\nRX_DV RXD3 RXD[2:1] RXD0\n0 \n(valid only when RX_DV is \nlow)Duplex Status\n0 = Half-duplex1 = Full-duplexRX_CLK clock speed\n00 = 2.5 MHz (10 Mbps)\n01 = 25 MHz (100 Mbps)\n10 = 125 MHz (1000 Mbps)\n11 = ReservedLink Status\n0 = Link down\n1 = Link up\nTABLE 3-8: MII MANAGEMENT FRAM E FORMAT FOR THE KSZ9031RNX\nPreambleStart of \nFrameRead/Write \nOP CodePHY \nAddress \nBits [4:0]REG \nAddress \nBits [4:0]TA Data Bits [15:0] Idle\nRead 32 1’s 01 10 00AAA RRRRR Z0 DDDDDDDD_DDDDDDDD Z\nWrite 32 1’s 01 01 00AAA RRRRR 10 DDDDDDDD_DDDDDDDD Z\nKSZ9031RNX\nDS00002117J-page 24  \uf0e3 2022 Microchip Technology Inc. and its subsidiariesThe MII management bus option give s the MAC processor complete access to the KSZ9031RNX control and status\nregisters. Additionally, an int errupt pin eliminates the need f or the processor to poll the PHY for status change.\n3.12 LED Mode\nThe KSZ9031RNX provides two programmable LED output pins, LED2 and LED1, which are configurable to support\ntwo LED modes. The LED mode is configured by the LED_MODE strap -in (Pin 41). It is latche d at power-up/reset and\nis defined as follows:\n• Pull-Up: Single-LED Mode\n• Pull-Down: Tri-Color Dual-LED Mode\nEach LED output pin can directly  drive an LED with a series res istor (typically 220Ω to 470Ω).\n3.12.1 SINGLE-LED MODE\nIn single-LED mode, the LED2 pin indicates the link status whil e the LED1 pin indicates the activity status, as shown in\nTable 3-9 .\n3.12.2 TRI-COLOR DUAL-LED MODE\nIn tri-color dual-LED mode, the link and activity status are in dicated by the LED2 pin for  1000BASE-T; by the LED1 pin\nfor 100BASE-TX; and by both LED2 a nd LED1 pins, working in conj unction, for 10BASE-T. This is summarized in\nTable 3-10 .TABLE 3-9: SINGLE-LED M ODE - PIN DEFINITION\nLED Pin Pin State LED Definition Link/Activity\nLED2 H OFF Link Off\nL ON Link On (any speed)\nLED1 H OFF No Activity\nToggle Blinking Activity (RX, TX)\nTABLE 3-10: TRI-COLOR DUAL-L ED MODE - PIN DEFINITION\nLED Pin (State) LED  Pin (Definition)\nLink/Activity\nLED2 LED1 LED2 LED1\nH H OFF OFF Link Off\nL H ON OFF 1000 Link/No Activity\nToggle H Blinking OFF 1000 Link/Activity (RX, TX)\nH L OFF ON 100 Link/No ActivityH Toggle OFF Blinking 100 Link/Activity (RX, TX)\nL L ON ON 10 Link/No Activity\nToggle Toggle Blinking Blinking 10 Link/Activity (RX, TX)\n\uf0e3 2022 Microchip Technology In c. and its subsidiaries  DS00002117J-page 25KSZ9031RNX\n3.13 Loopback Mode\nThe KSZ9031RNX supports the follo wing loopback operations to ve rify analog and/or digital data paths.\n• Local (digital) loopback\n• Remote (analog) loopback\n3.13.1 LOCAL (DIG ITAL) LOOPBACK\nThis loopback mode checks the RGMII transmit and receive data p aths between KSZ9031RNX and external MAC, and\nis supported for all three sp eeds (10/100/1000 Mbps) at full-du plex.\nThe loopback data path is shown in Figure 3-5 .\n1. RGMII MAC transmits  frames to KSZ9031RNX.\n2. Frames are wrapped around inside KSZ9031RNX.\n3. KSZ9031RNX transmits fra mes back to RGMII MAC.\nFIGURE 3-5: LOCAL (DIGITAL) LOOPBACK\nThe following programming step s and register settings are used for local loopback mode.\nFor 1000 Mbps loopback, 1. Set Register 0h, \n- Bit [14] = 1 // Enable local loopback mode- Bits [6, 13] = 10 // Select 1000 Mbps speed \n- Bit [12] = 0 // Disab le auto-negotiation \n- Bit [8] = 1 // Select full-duplex mode\n2. Set Register 9h, \n- Bit [12] = 1 // Enable maste r-slave manual configuration\n- Bit [11] = 0 // Select slave conf iguration (required for loopba ck mode)\nFor 10/100 Mbps loopback, 1. Set Register 0h,\n- Bit [14] = 1 // Enable local loopback mode\n- Bits [6, 13] = 00 / 01 // Select 10 Mbps/100 Mbps speed\n- Bit [12] = 0 // Disab le auto-negotiation \n- Bit [8] = 1 // Select full-duplex mode\n3.13.2 REMOTE (ANALOG) LOOPBACK\nThis loopback mode checks the line (differential pairs, transfo rmer, RJ-45 connector, Ethernet cable) transmit and\nreceive data paths between KSZ9031RNX and its link partner, and  is supported for 1000BASE- T full-duplex mode only.\nThe loopback data path is shown in Figure 3-6 .\n1. The Gigabit PHY link partner transmits frames to KSZ9031RNX.\n2. Frames are wrapped around inside KSZ9031RNX.\n3. KSZ9031RNX transmits frames ba ck to the Gigabit PHY link part ner.   PCS\n(DIGITAL)AFE\n(ANALOG)KSZ9031RNX\nRGMIIRGMII\nMAC\nKSZ9031RNX\nDS00002117J-page 26  \uf0e3 2022 Microchip Technology Inc. and its subsidiariesFIGURE 3-6: REMOTE (ANALOG) LOOPBACK\nThe following programming steps and register settings are used for remote loopback mode.\n1. Set Register 0h, \n- Bits [6, 13] = 10 // Select 1000 Mbps speed - Bit [12] = 0 // Disab le auto-negotiation \n- Bit [8] = 1 // Select full-duplex mode\n       Or just auto-n egotiate and lin k up at 1000BASE-T full-du plex mode with th e link partner.\n2. Set Register 11h, \n- Bit [8] = 1 // Enable  remote loopback mode\n3.14 LinkMD® Cable Diagnostic\nThe LinkMD function uses Time Do main Reflectometry (TDR) to ana lyze the cabling plant for common cabling prob-\nlems, such as open circuits, sh ort circuits, and impedance mism atches.\nLinkMD operates by sending a pulse of known amplitude and durat ion down the selected differential pair, then analyzing\nthe polarity and shape of the reflected signal to determine the  type of fault: open circuit for a positive/non-inverted ampli-\ntude reflection and short circuit for a negative/inverted ampli tude reflection. The time duration for the reflected signal to\nreturn provides the approximate distance to the cabling fault. The LinkMD function processes this TDR information and\npresents it as a numerical value that can be translated to a ca ble distance.\nLinkMD is initiated by accessing Register 12h, the LinkMD Cable  Diagnostic register, in conjunction with Register 1Ch,\nthe Auto MDI/MDI-X register. The latter register is needed to d isable the Auto MDI/MDI-X function before running the\nLinkMD test. Additionally, a software reset (Reg. 0h, Bit [15] = 1) should be performed before and after running the\nLinkMD test. The reset helps t o ensure the KSZ9031RNX is in the  normal operating state be fore and after the test.\n3.15 NAND Tree Support\nThe KSZ9031RNX provides parametric NAND tree support for fault detection between chip I/Os and board. NAND tree\nmode is enabled at power-up/reset with the MODE[3:0] strap-in p ins set to ‘0100’. Table 3-11  lists the NAND tree pin\norder.\nTABLE 3-11: NAND TREE TEST  PIN ORDER FOR KSZ9031RNX\nPin Description\nLED2 Input\nLED1/PME_N1 Input\nTXD0 InputTXD1 Input\nTXD2 Input\nTXD3 Input \n RJ-45\nRJ-45CAT-5\n(UTP)KSZ9031RNX\n1000BASE-T\nLINK PARTNERAFE\n(ANALOG)PCS\n(DIGITAL)RGMII\n\uf0e3 2022 Microchip Technology In c. and its subsidiaries  DS00002117J-page 27KSZ9031RNX\n3.16 Power Management\nThe KSZ9031RNX incorporates a number of power-management modes and features that provide methods to consume\nless energy. These are discussed in the following sections.\n3.16.1 ENERGY-DETEC T POWER-DOWN MODE\nEnergy-detect power-down (EDPD)  mode is used to further reduce the transceiver power consumption when the cable\nis unplugged. It is enabled by writing a one to MMD Address 1Ch , Register 23h, Bit [0], and is in effect when auto-nego-\ntiation mode is enabl ed and the cable is di sconnected (no link) .\nIn EDPD Mode, the KSZ 9031RNX shuts down all transceiver blocks,  except for the transmitter and energy detect cir-\ncuits. Power can be reduced fu rther by extending the time inter val between the transmissions of link pulses to check for\nthe presence of a link partner. The periodic transmission of li nk pulses is needed to ensure the KSZ9031RNX and its\nlink partner, when operating in the same low-power state and wi th Auto MDI/MDI-X disabled, can wake up when the\ncable is connected between them . By default, EDPD mode is disab led after power-up.\n3.16.2 SOFTWARE POWER-DOWN MODE\nThis mode is used to power down the KSZ9031RNX device when it i s not in use after power-up. Software power-down\n(SPD) mode is enabled by writing a one to Register 0h, Bit [11] . In the SPD state, the KSZ9031RNX disables all internal\nfunctions, except for the MII m anagement interface. The KSZ9031 RNX exits the SPD state after a zero is written to Reg-\nister 0h, Bit [11].\n3.16.3 CHIP POWER-DOWN MODE\nThis mode provides the lowest power state for the KSZ9031RNX de vice when it is mounted on the board but not in use.\nChip power-down (CPD) mode is enabled after power-up/reset with  the MODE[3:0] strap-in pins set to ‘0111’. The\nKSZ9031RNX exits CPD mode after a hardware reset is applied to the RESET_N pin (Pin 42) with the MODE[3:0] strap-\nin pins set to an operati ng mode other than CPD.\n3.17 Wake-On-LAN\nWake-On-LAN (WOL) is normally a MAC-based function to wake up a  host system (for exam ple, an Ethernet end\ndevice, such as a PC) that is in standby power mode. Wake-up is  triggered by receiving and detecting a special packet\n(commonly referred to as the “magic packet”) that is sent by th e remote link partner. The KSZ9031RNX can perform the\nsame WOL function if the MAC address of its associated MAC devi ce is entered into the KSZ9031RNX PHY registers\nfor magic-packet detection. When the KSZ9031RNX detects the mag ic packet, it wakes up the host by driving its power\nmanagement event (PME) output pin low.\nBy default, the WOL function is disabled. It is enabled by sett ing the enabling bit and config uring the associated registers\nfor the selected PME wak e-up detection method.\nThe KSZ9031RNX provides three met hods to trigger a PME wake-up:\n• Magic-packet detection\n• Customized-pa cket detection\n• Link status change detectionGTX_CLK Input\nTX_EN Input\nRX_DV Input\nRX_CLK Input\nINT_/PME_N2 Input\nMDC Input\nMDIO Input\nCLK125_NDO OutputTABLE 3-11: NAND TREE TEST PIN O RDER FOR KSZ9031R NX (CONTINUED)\nPin Description\nKSZ9031RNX\nDS00002117J-page 28  \uf0e3 2022 Microchip Technology Inc. and its subsidiaries3.17.1 MAGIC-PACKET DETECTION\nThe magic packet’s frame format starts with 6 bytes of 0xFFh an d is followed by 16 repetitions of the MAC address of\nits associated MAC devi ce (local MAC device).\nWhen the magic packe t is detected from its link partner, the KS Z9031RNX asserts its PME output pin low.\nThe following MMD Addr ess 2h registers are p rovided for magic-p acket detection:\n• Magic-packet detection is enabled by writing a ‘1’ to MMD Addr ess 2h, Register 10h, Bit [6]\n• The MAC address (for the local M AC device) is wr itten to and s tored in MMD Address 2h , Registers 11h – 13h\nThe KSZ9031RNX does not generate  the magic packet . The magic pa cket must be provided b y the external system.\n3.17.2 CUSTOMIZED- PACKET DETECTION\nThe customized packet has associ ated register/bit masks to sele ct which byte, or bytes, of the first 64 bytes of the packet\nto use in the CRC calculation. After the KSZ9031RNX receives th e packet from its link partner, the selected bytes for\nthe received packet are used to calculate the CRC. The calculat ed CRC is compared to the expected CRC value that\nwas previously written to and s tored in the KSZ9031RNX PHY regi sters. If there is a mat ch, the KSZ9031RNX asserts\nits PME output pin low.\nFour customized packets are provi ded to support f our types of w ake-up scenarios. A dedicat ed set of registers is used\nto configure and enable e ach customized packet.\nThe following MMD registers are provided for customized-packet detection:\n• Each of the four customized pa ckets is enabled via MMD Address  2h, Register 10h, \n- Bit [2] // For customized packets, type 0- Bit [3] // For customized packets, type 1\n- Bit [4] // For customized packets, type 2\n- Bit [5] // For customized packets, type 3\n• 32-bit expected CRCs are w ritten to and stored in:\n- MMD Address 2h, Registers 14h – 15h // For customized packets,  type 0\n- MMD Address 2h, Registers 16h – 17h // For customized packets,  type 1\n- MMD Address 2h, Registers 18h – 19h // For customized packets,  type 2\n- MMD Address 2h, Registers 1Ah – 1Bh // For customized packets,  type 3\n• Masks to indicate whic h of the first 64-by tes to use in the CR C calculation are set in:\n- MMD Address 2h, Registers 1Ch – 1Fh // For customized packets,  type 0\n- MMD Address 2h, Registers 20h – 23h // For customized packets,  type 1\n- MMD Address 2h, Registers 24h – 27h // For customized packets,  type 2\n- MMD Address 2h, Registers 28h – 2Bh // For customized packets,  type 3\n\uf0e3 2022 Microchip Technology In c. and its subsidiaries  DS00002117J-page 29KSZ9031RNX\n3.17.3 LINK STATUS CHANGE DETECTION\nIf link status change detection is enabled, the KSZ9031RNX asse rts its PME output pin low whenever there is a link\nstatus change using the following MMD Address 2h registers bits  and their enabled (1) or disabled (0) settings: \n• MMD Address 2h, Register 10h, Bit  [0] // For link-up detection\n• MMD Address 2h, Register 10h, Bit  [1] // For link-down detecti on\nThe PME output signal is available on either LED1/PME_N1 (Pin 1 7) or INT_N/PME_N2 (Pin 38), and is selected and\nenabled using MMD Address 2h, Register 2h, Bits [8] and [10], r espectively. Additionally, MMD Address 2h, Register\n10h, Bits [15:14] defines the o utput functions for Pins 17 and 38.\nThe PME output is active low and requires a 1 kΩ pull-up to the  VDDIO supply. When asserted, the PME output is\ncleared by disabling  the register bit tha t enabled the PME trig ger source (magic packet, cus tomized packet, link status\nchange).\n3.18 Typical Current/Power Consumption\nTable 3-12 , Table 3-13 , Table 3-14 , and Table 3-15  show the typical current consumption by the core (DVDDL, AVDDL ,\nAVDDL_PLL), transceiver (AVDDH), and digital I/O (DVDDH) supply  pins, and the total typi cal power for the entire\nKSZ9031RNX device for various nom inal operating voltage combina tions.\nTABLE 3-12: TYPICAL CURRENT/POWER CONSUMPTION\nTRANSCEIVER (3.3V) , DIGITAL I/O (3.3V)\nCondition1.2V Core\n(DVDDL, AVDDL, \nAVDDL_PLL)3.3V Transceiver\n(AVDDH)3.3V Digital I/O\n(DVDDH)Total\nChip Power\n1000BASE-T Link-Up (no traffi c) 210 mA 67.4 mA 19.5 mA 538 mW\n1000BASE-T Full-Duplex at \n100% Utilization221 mA 66.3 mA 41.5 mA 621 mW\n100BASE-TX Link-Up (no traffic) 63.6 mA 28.7 mA 13.9 mA 217 mW\n100BASE-TX Full-Duplex at\n100% Utilization63.8 mA 28.6 mA 17.2 mA 228 mW\n10BASE-T Link-Up (no traffic) 7.1 mA 15.9 mA 11.5 mA 99 mW\n10BASE-T Full-Duplex at\n100% Utilization7.7 mA 28.6 mA 13.7 mA 149 mW\nSoftware Power-Down Mode \n(Reg. 0h.11 = 1)1.0 mA 4.2 mA 9.3 mA 46 mW\nTABLE 3-13: TYPICAL CURRENT/POWER CONSUMPTION\nTRANSCEIVER (3.3V) , DIGITAL I/O (1.8V)\nCondition1.2V Core\n(DVDDL, AVDDL, \nAVDDL_PLL)3.3V Transceiver\n(AVDDH)1.8V Digital I/O\n(DVDDH)Total\nChip Power\n1000BASE-T Link-Up (no traffi c) 210 mA 67.4 mA 11.2 mA 494 mW\n1000BASE-T Full-Duplex at \n100% Utilization221 mA 66.3 mA 23.6 mA 526 mW\n100BASE-TX Link-Up (no traffic) 63.6 mA 28.7 mA 8.4 mA 186 mW\n100BASE-TX Full-Duplex at\n100% Utilization63.8 mA 28.6 mA 9.8 mA 189 mW\n10BASE-T Link-Up (no traffic) 7.1 mA 15.9 mA 3.6 mA 67 mW\n10BASE-T Full-Duplex at\n100% Utilization7.7 mA 28.6 mA 5.6 mA 114 mW\nSoftware Power-Down Mode \n(Reg. 0h.11 = 1)1.0 mA 4.2 mA 5.5 mA 25 mW\nKSZ9031RNX\nDS00002117J-page 30  \uf0e3 2022 Microchip Technology Inc. and its subsidiariesNote 3-1 2.5V AVDDH is recommended for commercial temperature range (0°C  to +70°C) operation only.\nNote 3-2 2.5V AVDDH is recommended for commercial temperature range (0°C  to +70°C) operation only.TABLE 3-14: TYPICAL CURRENT/POWER CONSUMPTION\nTRANSCEIVER (2.5V; Note 3-1 ), DIGITAL I/O (2.5V)\nCondition1.2V Core\n(DVDDL, AVDDL, \nAVDDL_PLL)2.5V Transceiver\n(AVDDH)2.5V Digital I/O\n(DVDDH)Total\nChip Power\n1000BASE-T Link-Up (no traffi c) 210 mA 58.8 mA 14.7 mA 435 mW\n1000BASE-T Full-Duplex at \n100% Utilization221 mA 57.9 mA 31.5 mA 488 mW\n100BASE-TX Link-Up (no traffic) 63.6 mA 24.9 mA 10.5 mA 165 mW\n100BASE-TX Full-Duplex at\n100% Utilization63.8 mA 24.9 mA 13.0 mA 171 mW\n10BASE-T Link-Up (no traffic) 7.1 mA 11.5 mA 6.3 mA 53 mW\n10BASE-T Full-Duplex at\n100% Utilization7.7 mA 25.3 mA 9.0 mA 95 mW\nSoftware Power-Down Mode \n(Reg. 0h.11 = 1)1.0 mA 3.1 mA 6.7 mA 26 mW\nTABLE 3-15: TYPICAL CURRENT/POWER CONSUMPTION\nTRANSCEIVER (2.5V; Note 3-2 ), DIGITAL I/O (1.8V)\nCondition1.2V Core\n(DVDDL, AVDDL, \nAVDDL_PLL)2.5V Transceiver\n(AVDDH)1.8V Digital I/O\n(DVDDH)Total\nChip Power\n1000BASE-T Link-Up (no traffi c) 210 mA 58.8 mA 11.2 mA 419 mW\n1000BASE-T Full-Duplex at \n100% Utilization221 mA 57.9 mA 23.6 mA 452 mW\n100BASE-TX Link-Up (no traffic) 63.6 mA 24.9 mA 8.4 mA 154 mW\n100BASE-TX Full-Duplex at\n100% Utilization63.8 mA 24.9 mA 9.8 mA 156 mW\n10BASE-T Link-Up (no traffic) 7.1 mA 11.5 mA 3.6 mA 44 mW\n10BASE-T Full-Duplex at\n100% Utilization7.7 mA 25.3 mA 5.6 mA 83 mW\nSoftware Power-Down Mode \n(Reg. 0h.11 = 1)1.0 mA 3.1 mA 5.5 mA 19 mW\n\uf0e3 2022 Microchip Technology In c. and its subsidiaries  DS00002117J-page 31KSZ9031RNX\n4.0 REGISTER DESCRIPTIONS\nThis chapter describes  the various control and status registers  (CSRs).\n4.1 Register Map\nThe register space within the KSZ 9031RNX consists of two distin ct areas.\n• Standard registers // Direct register access\n• MDIO Manageable device (MMD) regi sters // Indirect register ac cess\nThe KSZ9031RNX supports the  following standard registers.\nThe KSZ9031RNX supports the following MMD device addresses and their associated register addresses, which make\nup the indirect MMD register s. These can be seen in Table 4-2 .TABLE 4-1: STANDARD REGISTER S SUPPORTED BY KSZ9031RNX\nRegister Number (hex) Description\nIEEE-Defined Registers\n0h Basic Control1h Basic Status\n2h PHY Identifier 1\n3h PHY Identifier 24h Auto-Negotiation Advertisement\n5h Auto-Negotiation Link Partner Ability\n6h Auto-Negotiation Expansion7h Auto-Negotiation Next Page\n8h Auto-Negotiation Link Partner Next Page Ability\n9h 1000BASE-T Control\nAh 1000BASE-T Status\nBh - Ch Reserved\nDh MMD Access – Control\nEh MMD Access – Register/Data\nFh Extended Status\nVendor-Specific Registers\n10h Reserved\n11h Remote Loopback\n12h LinkMD Cable Diagnostic13h Digital PMA/PCS Status\n14h Reserved\n15h RXER Counter\n16h - 1Ah Reserved\n1Bh Interrupt Control/Status\n1Ch Auto MDI/MDI-X\n1Dh - 1Eh Reserved\n1Fh PHY Control\nKSZ9031RNX\nDS00002117J-page 32  \uf0e3 2022 Microchip Technology Inc. and its subsidiariesTABLE 4-2: MMD REGISTERS SUPPORTED BY KSZ9031RNX\nDevice Address (hex) Register Address (hex) Description\n0h3h AN FLP Burst Transmit – LO\n4h AN FLP Burst Transmit – HI\n1h 5Ah 1000BASE-T Link-Up Time Control\n2h0h Common Control\n1h Strap Status2h Operation Mode Strap Override3h Operation Mode Strap Status4h RGMII Control Signal Pad Skew5h RGMII RX Data Pad Skew6h RGMII TX Data Pad Skew8h GMII Clock Pad Skew\n10h Wake-On-LAN – Control\n11h Wake-On-LAN – Magic Packet, MAC-DA-0\n12h Wake-On-LAN – Magic Packet, MAC-DA-113h Wake-On-LAN – Magic Packet, MAC-DA-214h Wake-On-LAN – Customized Packet, Type 0, Expected \nCRC 0\n15h Wake-On-LAN – Customized Packet, Type 0, Expected \nCRC 1\n16h Wake-On-LAN – Customized Packet, Type 1, Expected \nCRC 0\n17h Wake-On-LAN – Customized Packet, Type 1, Expected \nCRC 1\n18h Wake-On-LAN – Customized Packet, Type 2, Expected \nCRC 0\n19h Wake-On-LAN – Customized Packet, Type 2, Expected \nCRC 1\n1Ah Wake-On-LAN – Customized Packet, Type 3, Expected \nCRC 0\n1Bh Wake-On-LAN – Customized Packet, Type 3, Expected \nCRC 1\n1Ch Wake-On-LAN – Customize d Packet, Typ e 0, Mask 0\n1Dh Wake-On-LAN – Customize d Packet, Typ e 0, Mask 1\n1Eh Wake-On-LAN – Customize d Packet, Typ e 0, Mask 2\n1Fh Wake-On-LAN – Customize d Packet, Typ e 0, Mask 3\n20h Wake-On-LAN – Customize d Packet, Typ e 1, Mask 0\n21h Wake-On-LAN – Customize d Packet, Typ e 1, Mask 1\n22h Wake-On-LAN – Customize d Packet, Typ e 1, Mask 2\n23h Wake-On-LAN – Customize d Packet, Typ e 1, Mask 3\n\uf0e3 2022 Microchip Technology In c. and its subsidiaries  DS00002117J-page 33KSZ9031RNX\n4.2 Standard Registers\nStandard registers provide direct  read/write access to a 32-reg ister address space, as defined in Clause 22 of the IEEE\n802.3 Specification. Within this  address space, the first 16 re gisters (Registers 0h to Fh) are defined according to the\nIEEE specification, wh ile the remaining 16 r egisters (Registers  10h to 1Fh) are defined spe cific to the PHY vendor.2h24h Wake-On-LAN – Customize d Packet, Typ e 2, Mask 0\n25h Wake-On-LAN – Customize d Packet, Typ e 2, Mask 1\n26h Wake-On-LAN – Customize d Packet, Typ e 2, Mask 2\n27h Wake-On-LAN – Customize d Packet, Typ e 2, Mask 3\n28h Wake-On-LAN – Customize d Packet, Typ e 3, Mask 0\n29h Wake-On-LAN – Customize d Packet, Typ e 3, Mask 1\n2Ah Wake-On-LAN – Customize d Packet, Typ e 3, Mask 2\n2Bh Wake-On-LAN – Customize d Packet, Typ e 3, Mask 3\n1Ch4h Analog Control 4\n23h EDPD Control\nTABLE 4-3: IEEE-DEFINED REGISTER DESCRIPTIONS\nAddress Name DescriptionMode\nNote 4-1Default\nRegister 0h – Basic Control\n0.15 Reset 1 = Software PHY reset\n0 = Normal operationThis bit is self-cleared aft er a ‘1’ is written to it.RW/SC 0\n0.14 Loopback 1 = Loopback mode\n0 = Normal operationRW 0\n0.13 Speed Select \n(LSB)[0.6, 0.13]\n[1,1] = Reserved\n[1,0] = 1000 Mbps[0,1] = 100 Mbps\n[0,0] = 10 Mbps\nThis bit is ignored if auto-negotiation is enabled \n(Reg. 0.12 = 1).RW 0\n0.12 Auto-Negoti-\nation Enable1 = Enable auto-negotiation process\n0 = Disable auto-negotiation processIf enabled, auto-negotiati on result overrides set-\ntings in Reg. 0.13, 0.8 and 0.6.\nIf disabled, Auto MDI-X is  also automatically dis-\nabled. Use Register 1Ch to set MDI/MDI-X.RW 1\n0.11 Power-Down 1 = Power -down mode\n0 = Normal operationWhen this bit is set to ‘1’, the link-down status \nmight not get updated in the  PHY register. Software \nshould note link is down and should not rely on the \nPHY register link status.\nAfter this bit is changed from ‘1’ to ‘0’, an internal global reset is automatica lly generated. Wait a min-\nimum of 1 ms before read/ write access to the PHY \nregisters.RW 0TABLE 4-2: MMD REGISTERS SUPPOR TED BY KSZ9031RNX (CONTINUED)\nDevice Address (hex) Register Address (hex) Description\nKSZ9031RNX\nDS00002117J-page 34  \uf0e3 2022 Microchip Technology Inc. and its subsidiaries0.10 Isolate 1 = Electrical is olation of PHY from RGMII\n0 = Normal operationRW 0\n0.9 Restart Auto-\nNegotiation1 = Restart auto-n egotiation process\n0 = Normal operation\nThis bit is self-cleared aft er a ‘1’ is written to it.RW/SC 0\n0.8 Duplex Mode 1 = Full-duplex\n0 = Half-duplexRW 1\n0.7 Reserved Reserved RW 0\n0.6 Speed Select \n(MSB)[0.6, 0.13]\n[1,1] = Reserved\n[1,0] = 1000 Mbps\n[0,1] = 100 Mbps[0,0] = 10 Mbps\nThis bit is ignored if auto-negotiation is enabled \n(Reg. 0.12 = 1).RW Set by MODE[3:0] \nstrapping pins.\nSee the Strap-In \nOptions - KSZ9031RNX\n section for details.\n0.5:0 Reserved Reserved RO 00_0000\nRegister 1h - Basic Status\n1.15 100BASE-T4 1 = T4 capable\n0 = Not T4 capableRO 0\n1.14 100BASE-TX \nFull-Duplex1 = Capable of 100 Mbps full-duplex\n0 = Not capable of 100 Mbps full-duplexRO 1\n1.13 100BASE-TX \nHalf-Duplex1 = Capable of 100 Mbps half-duplex\n0 = Not capable of 100 Mbps half-duplexRO 1\n1.12 10BASE-T  \nFull-Duplex1 = Capable of 10 Mbps full-duplex\n0 = Not capable of 10 Mbps full-duplexRO 1\n1.11 10BASE-T   \nHalf-Duplex1 = Capable of 10 Mbps half-duplex\n0 = Not capable of 10 Mbps half-duplexRO 1\n1.10:9 Reserved Reserved RO 00\n1.8 Extended \nStatus1 = Extended status  info in Reg. 15h.\n0 = No extended stat us info in Reg. 15h.RO 1\n1.7 Reserved Reserved RO 0\n1.6 No Preamble 1 = Preamble suppression\n0 = Normal preambleRO 1\n1.5 Auto-Negoti-\nation Com-\nplete1 = Auto-negotiation process completed\n0 = Auto-negotiation process not completedRO 0\n1.4 Remote Fault 1  = Remote fault\n0 = No remote faultRO/LH 0\n1.3 Auto-Negoti-\nation Ability1 = Can perform auto-negotiation\n0 = Cannot perform  auto-negotiationRO 1\n1.2 Link Status 1 = Link is up\n0 = Link is downRO/LL 0\n1.1 Jabber \nDetect1 = Jabber detected\n0 = Jabber not detected (default is low)RO/LH 0\n1.0 Extended \nCapability1 = Supports extended capability registers RO 1\nRegister 2h - PH Y Identifier 1TABLE 4-3: IEEE-DEFINED REGI STER DESCRIPTIONS (CONTINUED)\nAddress Name DescriptionMode\nNote 4-1Default\n\uf0e3 2022 Microchip Technology In c. and its subsidiaries  DS00002117J-page 35KSZ9031RNX\n2.15:0 PHY ID \nNumberAssigned to Bits [3:18] of the organizationally \nunique identifier (OUI). KENDIN Communication’s \nOUI is 0010A1h.RO 0022h\nRegister 3h - PH Y Identifier 2\n3.15:10 PHY ID \nNumberAssigned to Bits [19:24] of the organizationally \nunique identifier (OUI). KENDIN Communication’s OUI is 0010A1h.RO 0001_01\n3.9:4 Model \nNumberSix-bit manufacturer’s model number RO 10_0010\n3.3:0 Revision \nNumberFour-bit manufacturer’s revisi on number RO Indicates silicon \nrevision\nRegister 4h - Auto-Negotiation Advertisement4.15 Next Page 1 = Next page capable\n0 = No next page capabilityRW 0\n4.14 Reserved Reserved RO 0\n4.13 Remote Fault 1 = Remote fault supported\n0 = No remote faultRW 0\n4.12 Reserved Reserved RO 0\n4.11:10 Pause [4.11, 4.10]\n[0,0] = No pause\n[1,0] = Asymmetric p ause (link partner)\n[0,1] = Symmetric pause\n[1,1] = Symmetric and asymmetric pause (local \ndevice)RW 00\n4.9 100BASE-T4 1 = T4 capable\n0 = No T4 capabilityRO 0\n4.8 100BASE-TX \nFull-Duplex1 = 100 Mbps full-duplex capable\n0 = No 100 Mbps full-duplex capabilityRW 1\n4.7 100BASE-TX \nHalf-Duplex1 = 100 Mbps half-duplex capable\n0 = No 100 Mbps ha lf-duplex capabilityRW 1\n4.6 10BASE-T  \nFull-Duplex1 = 10 Mbps full-duplex capable\n0 = No 10 Mbps full-duplex capabilityRW 1\n4.5 10BASE-T  \nHalf-Duplex1 = 10 Mbps half-duplex capable\n0 = No 10 Mbps half-duplex capabilityRW 1\n4.4:0 Selector \nField[00001] = IEEE 802.3  RW 0_0001\nRegister 5h - Auto -Negotiation Link Partner Ability\n5.15 Next Page 1 = Next page capable\n0 = No next page capabilityRO 0\n5.14 Acknowledge 1 = Link code  word received from partner\n0 = Link code word not yet receivedRO 0\n5.13 Remote Fault 1 = Remote fault detected\n0 = No remote faultRO 0\n5.12 Reserved Reserved RO 0TABLE 4-3: IEEE-DEFINED REGI STER DESCRIPTIONS (CONTINUED)\nAddress Name DescriptionMode\nNote 4-1Default\nKSZ9031RNX\nDS00002117J-page 36  \uf0e3 2022 Microchip Technology Inc. and its subsidiaries5.11:10 Pause [5.11, 5.10]\n[0,0] = No pause\n[1,0] = Asymmetric Pause (link partner)\n[0,1] = Symmetric pause\n[1,1] = Symmetric and asymmetric pause (local \ndevice)RW 00\n5.9 100BASE-T4 1 = T4 capable\n0 = No T4 capabilityRO 0\n5.8 100BASE-TX \nFull-Duplex1 = 100 Mbps full-duplex capable\n0 = No 100 Mbps full-duplex capabilityRO 0\n5.7 100BASE-TX \nHalf-Duplex1 = 100 Mbps half-duplex capable\n0 = No 100 Mbps ha lf-duplex capabilityRO 0\n5.6 10BASE-T  \nFull-Duplex1 = 10 Mbps full-duplex capable\n0 = No 10 Mbps full-duplex capabilityRO 0\n5.5 10BASE-T  \nHalf-Duplex1 = 10 Mbps half-duplex capable\n0 = No 10 Mbps half-duplex capabilityRO 0\n5.4:0 Selector \nField[00001] = IEEE 802.3  RO 0_0000\nRegister 6h - Auto-Negotiation Expansion\n6.15:5 Reserved Reserved RO 0000_0000_000\n6.4 Parallel \nDetection \nFault1 = Fault detected by parallel detection\n0 = No fault detected by parallel detectionRO/LH 0\n6.3 Link Partner \nNext Page \nAble1 = Link partner has next page capability\n0 = Link partner does no t have next page capabilityRO 0\n6.2 Next Page \nAble1 = Local device has  next page capability\n0 = Local device does not have next page capabil-\nityRO 1\n6.1 Page \nReceived1 = New page received\n0 = New page not receivedRO/LH 0\n6.0 Link Partner \nAuto-Negoti-ation Able1 = Link partner has auto-negotiation capability\n0 = Link partner does not  have auto-negotiation \ncapabilityRO 0\nRegister 7h - Auto-N egotiation Next Page\n7.15 Next Page 1 = Additio nal next pages will follow\n0 = Last pageRW 0\n7.14 Reserved Reserved RO 0\n7.13 Message \nPage1 = Message page\n0 = Unformatted pageRW 1\n7.12 Acknowl-\nedge21 = Will comply with message\n0 = Cannot comply with messageRW 0\n7.11 Toggle 1 = Previous value o f the transmitted link code \nword equaled logic one\n0 = Logic zeroRO 0\n7.10:0 Message \nField11-bit wide field to encode 2048 messages RW 000_0000_0001\nRegister 8h - Link Partner Next Page AbilityTABLE 4-3: IEEE-DEFINED REGI STER DESCRIPTIONS (CONTINUED)\nAddress Name DescriptionMode\nNote 4-1Default\n\uf0e3 2022 Microchip Technology In c. and its subsidiaries  DS00002117J-page 37KSZ9031RNX\n8.15 Next Page 1 = Additio nal next pages will follow\n0 = Last pageRO 0\n8.14 Acknowledge 1 = Successf ul receipt of link word\n0 = No successful rec eipt of link wordRO 0\n8.13 Message \nPage1 = Message page\n0 = Unformatted pageRO 0\n8.12 Acknowl-\nedge21 = Able to act on the information\n0 = Not able to act o n the informationRO 0\n8.11 Toggle 1 = Previous value o f transmitted link code word \nequal to logic zero\n0 = Previous value of transmitted link code word \nequal to logic oneRO 0\n8.10:0 Message \nField— RO 000_0000_0000\nRegister 9h – 1000BASE-T Control\n9.15:13 Test Mode \nBitsTransmitter test mode operations\n[9.15:13] Mode\n[000] Normal operation[001] Test mode 1 –Transmit waveform test\n[010] Test mode 2 –Transmit jitter test in master \nmode[011] Test mode 3 –Transmit jitter test in slave \nmode\n[100] Test mode 4 –Transm itter distortion test\n[101] Reserved, operations not identified\n[110] Reserved, operations not identified\n[111] Reserved, operat ions not identified\nTo enable 1000BASE- T Test Mode: \n1) Set Register 0h = 0x014 0 to disable auto-negoti-\nation and select 1000 Mbps speed.2) Set Register 9h, bits [ 15:13] = 001, 010, 011, or \n100 to select one of the 1000BASE-T Test Modes.\nAfter the above settings, t he test waveform for the \nselected test mode is tr ansmitted onto each of the \n4 differential pairs. N o link partner is needed.RW 000\n9.12 Master-Slave \nManual Con-\nfiguration \nEnable1 = Enable master -slave manual configuration \nvalue\n0 = Disable master -slave manual configuration \nvalueRW 0\n9.11 Master-Slave \nManual Con-\nfiguration Value1 = Configure PHY as  master during master -slave \nnegotiation\n0 = Configure PHY as  slave during master -slave \nnegotiation\nThis bit is ignored if master -slave manual configu-\nration is disabled (Reg. 9.12 = 0).RW 0\n9.10 Port Type 1 = Indicate the pr eference to operate as multi-po rt \ndevice (master)0 = Indicate the prefere nce to opera te as single -\nport device (slave)\nThis bit is valid  only if master -\nslave manual config-\nuration is disabled (Reg. 9.12 = 0).RW 0TABLE 4-3: IEEE-DEFINED REGI STER DESCRIPTIONS (CONTINUED)\nAddress Name DescriptionMode\nNote 4-1Default\nKSZ9031RNX\nDS00002117J-page 38  \uf0e3 2022 Microchip Technology Inc. and its subsidiaries9.9 1000BASE-T \nFull-Duplex1 = Advertise PHY is 1000BASE-T full-duplex \ncapable\n0 = Advertise PH Y is not 1000BASE-T full-duplex \ncapableRW 1\n9.8 1000BASE-T \nHalf-Duplex1 = Advertise PHY is 1000BASE-T half-duplex \ncapable0 = Advertise PH Y is not 1000BASE-T half-duplex \ncapableRW Set by MODE[3:0] \nstrapping pins.See the Strap-In \nOptions - \nKSZ9031RNX section for details.\n9.7:0 Reserved Write as 0, ignore on read RO —\nRegister Ah – 1000BASE-T StatusA.15 Master-Slave \nConfigura-\ntion Fault1 = Master-slave configuration fault detected\n0 = No master -slave configurati on fault detectedRO/LH/SC 0\nA.14 Master-Slave \nConfigura-\ntion Resolu-tion1 = Local PHY configuration resolved to master\n0 = Local PHY configuration resolved to slaveRO 0\nA.13 Local \nReceiver Status1 = Local receiver OK (loc_rcvr_status = 1)\n0 = Local receiver not O K (loc_rcvr_status = 0)RO 0\nA.12 Remote \nReceiver Status1 = Remote receiver OK  (rem_rcvr_status = 1)\n0 = Remote receiver not OK (rem_rcvr_status = 0)RO 0\nA.11 Link Partner \n1000BASE-T Full-Duplex \nCapability1 = Link partner is c apable of 1000BASE-T full-\nduplex0 = Link partner is not capable of 1000BASE-T \nfull-duplexRO 0\nA.10 Link Partner \n1000BASE-T \nHalf-Duplex \nCapability1 = Link partner is c apable of 1000BASE-T half-\nduplex\n0 = Link Partner is not capable of 1000BASE-T \nhalf-duplexRO 0\nA.9:8 Reserved Reserved RO 00\nA.7:0 Idle Error \nCountCumulative count of errors  detected when receiver \nis receiving idles and PMA_TXMODE.indicate = SEND_N.\nThe counter is incremented every symbol period \nthat rxerror_status = ERROR.RO/SC 0000_0000\nRegister Dh - MMD Access – Control\nD.15:14 MMD – \nOperation ModeFor the selected MMD device address (Bits [4:0] of \nthis register), these two bi ts select one of the fol-\nlowing register or data operations and the usage \nfor MMD Access – Register/Data (Reg. Eh).\n00 = Register \n01 = Data, no post increment\n10 = Data, post incremen t on reads and writes\n11 = Data, post incr ement on writes onlyRW 00\nD.13:5 Reserved Reserved RW 00_0000_000TABLE 4-3: IEEE-DEFINED REGI STER DESCRIPTIONS (CONTINUED)\nAddress Name DescriptionMode\nNote 4-1Default\n\uf0e3 2022 Microchip Technology In c. and its subsidiaries  DS00002117J-page 39KSZ9031RNX\nNote 4-1 RW = Read/Write; RO = Read Only; SC = Self-Cleared; LH = Latch High; LL = Latch Low.D.4:0 MMD – \nDevice\nAddressThese five bits set the MMD device address. RW 0_0000\nRegister Eh - MMD Access – Register/Data\nE.15:0 MMD – \nRegister/Data\n  For the selected MMD dev ice address (Reg. Dh, \nBits [4:0]),     When Reg. Dh, Bits [15: 14] = 00, this register \n    contains the read/writ e register address for the \n    MMD device address .\n    Otherwise, this register  contains the read/write \n    data value for the MMD  device address and its \n    selected register address.See also Reg. Dh, Bits [15: 14], for descriptions of \npost increment reads and wri tes of this register for \ndata operation.RW 0000_0000_0000_00\n00\nRegister Fh – Extended Status\nF.15 1000BASE-X \nFull-Duplex1 = PHY can perform 1000BASE-X full-duplex\n0 = PHY cannot perform 1000BASE-X full-duplexRO 0\nF.14 1000BASE-X \nHalf-Duplex1 = PHY can perform 1000BASE-X half-duplex\n0 = PHY cannot perform 1000BASE-X half-duplexRO 0\nF.13 1000BASE-T \nFull-Duplex1 = PHY can perform 1000BASE-T full-duplex\n0 = PHY cannot perform 1000BASE-T full-duplexRO 1\nF.12 1000BASE-T \nHalf-Duplex1 = PHY can perform 1 000BASE-T half-duplex\n0 = PHY cannot perform 1000BASE-T half-duplexRO 1\nF.11:0 Reserved Ignore when read RO —\nTABLE 4-4: VENDOR-SPECIFIC  REGISTER DESCRIPTIONS\nAddress Name DescriptionMode\nNote 4-1Default\nRegister 11h – Remote Loopback\n11.15:9 Reserved Reserved RW 0000_00011.8 Remote \nLoopback1 = Enable remote loopback\n0 = Disable remote loopbackRW 0\n11.7:1 Reserved Reserved RW 1111_010\n11.0 Reserved Reserved RO 0\nRegister 12h – LinkMD – Cable Diagnostic\n12.15 Cable \nDiagnostic \nTest EnableWrite value:\n1 = Enable cable diagnost ic test. After test has \ncompleted, this bit is self-cleared.\n0 = Disable cable diagnostic test.Read value:\n1 = Cable diagnostic test is in progress. \n0 = Indicates cable diagnostic test (if enabled) has \ncompleted and the status i nformation is valid for \nread.RW/SC 0\n12.14 Reserved This bit should always be set to ‘0’. RW 0TABLE 4-3: IEEE-DEFINED REGI STER DESCRIPTIONS (CONTINUED)\nAddress Name DescriptionMode\nNote 4-1Default\nKSZ9031RNX\nDS00002117J-page 40  \uf0e3 2022 Microchip Technology Inc. and its subsidiaries12.13:12 Cable \nDiagnostic \nTest PairThese two bits select the di fferential pair for testing:\n00 = Differential pair A (Pins 2, 3)\n01 = Differential pair B (Pins 5, 6)\n10 = Differential pair C (Pins 7, 8)\n11 = Differential pair D (Pins 10, 11)RW 00\n12.11:10 Reserved These two bits should always be set to ‘00’. RW 0 0\n12.9:8 Cable \nDiagnostic \nStatusThese two bits represent  the test result for the \nselected differential pair in Bits [13:12] of this regis-\nter.00 = Normal cable condi tion (no fault detected)\n01 = Open cable fault detected\n10 = Short cable fault detected11 = ReservedRO 00\n12.7:0 Cable \nDiagnostic Fault DataFor the open or short cable fault detected in Bits \n[9:8] of this register, this 8 -bit value represents the \ndistance to the cable fault.RO 0000_0000\nRegister 13h – Digital PMA/PCS Status\n13.15:3 Reserved Reserved RO/LH 0000_0000_0000_013.2 1000BASE-T \nLink Status1000BASE-T link status \n1 = Link status is OK\n0 = Link status is not OKRO 0\n13.1 100BASE-TX \nLink Status100BASE-TX link status \n1 = Link status is OK\n0 = Link status is not OKRO 0\n13.0 Reserved Reserved RO 0\nRegister 15h – RXER Counter\n15.15:0 RXER \nCounterReceive error counter for symb ol error frames RO/RC 0000_0000_000 0_00\n00\nRegister 1Bh – Interrupt Control/Status\n1B.15 Jabber Inter-\nrupt Enable1 = Enable jabber interrupt\n0 = Disable jabber interruptRW 0\n1B.14 Receive \nError Inter-rupt Enable1 = Enable receiv e error interrupt\n0 = Disable receiv e error interruptRW 0\n1B.13 Page \nReceived Interrupt \nEnable1 = Enable page received interrupt\n0 = Disable page received interruptRW 0\n1B.12 Parallel \nDetect Fault \nInterrupt \nEnable1 = Enable parallel detect fault interrupt\n0 = Disable parallel detect fault interruptRW 0\n1B.11 Link Partner \nAcknowl-\nedge Inter-\nrupt Enable1 = Enable link partner acknowledge interrupt\n0 = Disable link partner acknowledge interruptRW 0\n1B.10 Link-Down \nInterrupt \nEnable1 = Enable link-down interrupt\n0 = Disable link-down interruptRW 0TABLE 4-4: VENDOR-SPECIFIC REGIS TER DESCRIPTIONS (CONTINUED)\nAddress Name DescriptionMode\nNote 4-1Default\n\uf0e3 2022 Microchip Technology In c. and its subsidiaries  DS00002117J-page 41KSZ9031RNX\n1B.9 Remote Fault \nInterrupt \nEnable1 = Enable remote  fault interrupt\n0 = Disable remote fault interruptRW 0\n1B.8 Link-Up \nInterrupt \nEnable1 = Enable link-up interrupt\n0 = Disable link-up interruptRW 0\n1B.7 Jabber Inter-\nrupt1 = Jabber occurred\n0 = Jabber did not occurRO/RC 0\n1B.6 Receive \nError Inter-rupt1 = Receive e rror occurred\n0 = Receive error did not occurRO/RC 0\n1B.5 Page \nReceive Interrupt1 = Page receive occurred\n0 = Page receive did not occurRO/RC 0\n1B.4 Parallel \nDetect Fault Interrupt1 = Parallel dete ct fault occurred\n0 = Parallel detect fault did not occurRO/RC 0\n1B.3 Link Partner \nAcknowl-edge Inter-\nrupt1 = Link partner acknowledge occurred\n0 = Link partner acknowledge did not occurRO/RC 0\n1B.2 Link-Down \nInterrupt1 = Link-down occurred\n0 = Link-down did not occurRO/RC 0\n1B.1 Remote Fault \nInterrupt1 = Remote fault occurred\n0 = Remote fault did not occurRO/RC 0\n1B.0 Link-Up \nInterrupt1 = Link-up occurred\n0 = Link-up did not occurRO/RC 0\nRegister 1Ch – Auto MDI/MDI-X\n1C.15:8 Reserved Reserved RW 0000_0000\n1C.7 MDI Set When Swap-Off (Bit [ 6] of this register) is asserted  \n(1), 1 = PHY is set to operate as MDI mode\n0 = PHY is set to operate as MDI-X mode\nThis bit has no functi on when Swap-Off is \nde-asserted (0).RW 0\n1C.6 Swap-Off 1 = Disable Auto MDI/MDI-X function\n0 = Enable Auto MDI/MDI-X functionRW 0\n1C.5:0 Reserved Reserved RW 00_0000\nRegister 1Fh – PHY Control\n1F.15 Reserved Reserved RW 01F.14 Interrupt \nLevel1 = Interrupt pin active high\n0 = Interrupt pin active lowRW 0\n1F.13:12 Reserved Reserved RW 00\n1F.11:10 Reserved Reserved RO/LH/RC 00\n1F.9 Enable \nJabber1 = Enable jabber counter\n0 = Disable jabber counterRW 1\n1F.8:7 Reserved Reserved RW 00TABLE 4-4: VENDOR-SPECIFIC REGIS TER DESCRIPTIONS (CONTINUED)\nAddress Name DescriptionMode\nNote 4-1Default\nKSZ9031RNX\nDS00002117J-page 42  \uf0e3 2022 Microchip Technology Inc. and its subsidiariesNote 4-1 RW = Read/Write; RO = Read Only; SC = Self-Cleared; RC = Read-C leared; LH = Latch High.1F.6 Speed \nStatus \n1000BASE-T1 = Indicate  chip final speed st atus at 1000BASE-T RO 0\n1F.5 Speed \nStatus \n100BASE-TX1 = Indicate chip final sp eed status at 100BASE-TX RO 0\n1F.4 Speed \nStatus \n10BASE-T1 = Indicate  chip final speed st atus at 10BASE-T RO 0\n1F.3 Duplex \nStatusIndicate chip duplex status\n1 = Full-duplex\n0 = Half-duplexRO 0\n1F.2 1000BASE-T \nMaster/Slave \nStatusIndicate chip mast er/slave status\n1 = 1000BASE-T master mode\n0 = 1000BASE-T slave modeRO 0\n1F.1 Reserved Reserved RW 0\n1F.0 Link Status \nCheck Fail1 = Fail\n0 = Not failingRO 0TABLE 4-4: VENDOR-SPECIFIC REGIS TER DESCRIPTIONS (CONTINUED)\nAddress Name DescriptionMode\nNote 4-1Default\n\uf0e3 2022 Microchip Technology In c. and its subsidiaries  DS00002117J-page 43KSZ9031RNX\n4.3 MMD Registers\nMMD registers provide indirect r ead/write access to up to 32 MM D device addresses with each device supporting up to\n65,536 16-bit registers, as defined in Clause 22 of the IEEE 80 2.3 Specification. The KSZ 9031RNX, however, uses only\na small fraction of the available registers. See the Register Map  section for a list of suppor ted MMD device addresses\nand their associated register addresses.\nThe following two standard regist ers serve as the portal regist ers to access the indi rect MMD registers.\n• Standard register Dh – MMD Access – Control\n• Standard register Eh – MMD Access – Register/Data\nNote 4-1 RW = Read/Write.\nExamples:MMD Register WriteWrite MMD - Device Address 2h, Register 10h = 0 001h to enable l ink-up detection to tr igger PME for WOL.\n1. Write Register Dh with 0002h //  Set up register  address for M MD – Device Address 2h.\n2. Write Register Eh with 0010h //  Select Register 10h of MMD – Device Address 2h.\n3. Write Register Dh with 4002h //  Select register data for MMD – Device Address 2h, Register 10h.\n4. Write Register Eh with 0001h // Write value 0001h to MMD – De vice Address 2h , Register 10h.\nMMD Register Read\nRead MMD - Device Address 2h, R egister 11h – 13h for the magic packet’s MAC address.\n1. Write Register Dh with 0002h //  Set up register  address for M MD – Device Address 2h.\n2. Write Register Eh with 0011h / / Select Register 11h of MMD – Device Address 2h.\n3. Write Register Dh with 8002h //  Select register data for MMD – Device Address 2h, Register 11h.\n4. Read Register Eh // Read data in  MMD – Device Address 2h, Reg ister 11h.\n5. Read Register Eh // Read data in  MMD – Device Address 2h, Reg ister 12h.\n6. Read Register Eh // Read data in  MMD – Device Address 2h, Reg ister 13h.TABLE 4-5: MMD PORTAL REGISTERS\nAddress Name DescriptionMode\nNote 4-1Default\nRegister Dh - MMD Access – Control\nD.15:14 MMD - \nOperation \nModeFor the selected MMD device address (Bits [4:0] of \nthis register), these two b its select one of the fol-\nlowing register or data o perations and the usage \nfor MMD Access – Regi ster/Data (Reg. Eh).\n00 = Register \n01 = Data, no post increment10 = Data, post incremen t on reads and writes\n11 = Data, post increment on writes onlyRW 00\nD.13:5 Reserved Reserved RW 00_0000_000\nD.4:0 MMD – \nDevice\nAddressThese five bits set the MMD device address RW 0_0000\nRegister Eh - MMD Access – Register/Data\nE.15:0 MMD – \nRegister/DataFor the selected MMD device address (Reg. Dh, \nBits [4:0]),     When Reg. Dh, Bits [15: 14] = 00, this register \n    contains the read/write register address for the \n    MMD device address.    Otherwise, this registe r contains the read/write \n    data value for the MMD  device address and its \n    selected register address.See also Register Dh, Bits  [15:14] descriptions for \npost increment reads and wr ites of this register for \ndata operation.RW 0000_0000_\n0000_0000\nKSZ9031RNX\nDS00002117J-page 44  \uf0e3 2022 Microchip Technology Inc. and its subsidiariesTABLE 4-6: MMD REGISTER DESCRIPTIONS\nAddress Name DescriptionMode\nNote 4-1Default\nMMD Address 0h, Register 3h –  AN FLP Burst Transmit – LO\n0.3.15:0 AN FLP \nBurst Trans-\nmit – LOThis register and the fol lowing register set the \nAuto-Negotiation FLP burst transmit timing. The \nsame timing must be se t for both registers. \n0x4000 = Select 8 ms interval timing (default)\n0x1A80 = Select 16 ms interval timing\nAll other values are reserved.RW 0x4000\nMMD Address 0h, Register 4h –  AN FLP Burst Transmit – HI\n0.4.15:0 AN FLP \nBurst Trans-mit – HIThis register and the previous register set the Auto-\nNegotiation FLP burst transmit timing. The same timing must be set for both registers.\n0x0003 = Select 8 ms interval timing (default)\n0x0006 = Select 16 ms interval timingAll other values are reserved. RW 0x0003\nMMD Address 1h, Register 5Ah – 1000BASE-T Link-Up Time Control\n1.5A.8:4 Reserved Reserved RW 1_00001.5A.3:1 1000BASE-T \nLink-Up TimeWhen the link partner is another KSZ9031 device, \nthe 1000BASE-T link-up ti me can be long. These \nthree bits provide an optional  setting to reduce the \n1000BASE-T link-up time.\n100 = Default power-up setting\n011 = Optional setting to r educe link-up time when \nthe link partner i s a KSZ9031 device.\nAll other settings are res erved and should not be \nused.The optional setting is safe to use with any link \npartner.\nNote: Read/Write access to this register bit is avail-\nable only when Reg. 0h is s et to 0x2100 to disable \nauto-negotiation and force 100BASE-TX mode.RW 100\n1.5A.0 Reserved Reserved RW 0\nMMD Address 2h, Register 0h – Common Control\n2.0.15:5 Reserved Reserved RW 0000_0000_000\n2.0.4 LED Mode \nOverrideOverride strap-in for LED_MODE\n1 = Single-LED mode0 = Tri-color dual-LED mode\nThis bit is write-only and always reads back a value \nof ‘0’. The updated value i s reflected in Bit [3] of \nthis register.WO 0\n2.0.3 LED Mode LED_MODE Status\n1 = Single-LED mode0 = Tri-color dual-LED modeRO Set by LED_MODE \nstrapping pin.See the Strap-In \nOptions - \nKSZ9031RNX\nsection for details.\nCan be updated by Bit [4] of this register \nafter reset.\n2.0.2 Reserved Reserved RW 0\n\uf0e3 2022 Microchip Technology In c. and its subsidiaries  DS00002117J-page 45KSZ9031RNX\n2.0.1 CLK125_EN \nStatusOverride strap-in for CLK125_EN\n1 = CLK125_EN strap-in is enabled\n0 = CLK125_EN strap-in is disabledRW Set by CLK125_EN \nstrapping pin.\nSee the Strap-In \nOptions - \nKSZ9031RNX\nsection for details.\n2.0.0 Reserved Reserved RW 0\nMMD Address 2h, Register 1h – Strap Status\n2.1.15:8 Reserved Reserved RO 0000_0000\n2.1.7 LED_MODE \nStrap-In \nStatusStrap to\n1 = Single-LED mode\n0 = Tri-color dual-LED modeRO Set by LED_MODE \nstrapping pin.\nSee the Strap-In \nOptions - KSZ9031RNX\nsection for details.\n2.1.6 Reserved Reserved RO 02.1.5 CLK125_EN \nStrap-In \nStatusStrap to\n1 = CLK125_EN strap-in is enabled\n0 = CLK125_EN strap-in is disabledRO Set by CLK125_EN \nstrapping pin.\nSee the Strap-In \nOptions - \nKSZ9031RNX\nsection for details.\n2.1.4:3 Reserved Reserved RO 00\n2.1.2:0 PHYAD[2:0] \nStrap-In ValueStrap-in value for PHY address\nBits [4:3] of PHY addre ss are always set to ‘00’.RO Set by PHYAD[2:0] \nstrapping pin.See the Strap-In \nOptions - \nKSZ9031RNXsection for details.\nMMD Address 2h, Register 2h –  Operation Mode Strap Override\n2.2.15 RGMII All \nCapabilities Override1 = Override strap-in for  RGMII to advertise all \ncapabilitiesRW\nSet by MODE[3:0] \nstrapping pin.\nSee the Strap-In \nOptions - KSZ9031RNX\nsection for details.2.2.14 RGMII No \n1000BT_HD Override1 = Override strap-in for  RGMII to advertise all \ncapabilities except 1000BASE-T half-duplexRW\n2.2.13 RGMII \n1000BT_H/FD Only \nOverride1 = Override strap-in for RGMII to advertise \n1000BASE-T full- and half-duplex onlyRW\n2.2.12 RGMII \n1000BT_FD \nOnly Over-\nride1 = Override strap-in for RGMII to advertise \n1000BASE-T full-duplex onlyRW\n2.2.11 Reserved Reserved RW 0\n2.2.10 PME_N2 \nOutput \nEnableFor INT_N/PME_N2 (Pin 38), \n1 = Enable PME output\n0 = Disable PME output \nThis bit works in conjunction with MMD Address 2h, Reg. 10h, Bits [15:14]  to define the output for \nPin 38.RW 0TABLE 4-6: MMD REGISTER DESCRIPTIONS (CONTINUED)\nAddress Name DescriptionMode\nNote 4-1Default\nKSZ9031RNX\nDS00002117J-page 46  \uf0e3 2022 Microchip Technology Inc. and its subsidiaries2.2.9 Reserved Reserved RW 0\n2.2.8 PME_N1 \nOutput \nEnableFor LED1/PME_N1 (Pin 17), \n1 = Enable PME output \n0 = Disable PME output \nThis bit works in conjunction with MMD Address \n2h, Reg. 10h, Bits [15:14]  to define the output for \nPin 17.RW 0\n2.2.7 Chip Power-\nDown Override1 = Override strap-in for chip power-down mode RW Set by MODE[3:0 ] \nstrapping pin.See the Strap-In \nOptions - \nKSZ9031RNXsection for details.\n2.2.6:5 Reserved Reserved RW 00\n2.2.4 NAND Tree \nOverride1 = Override strap-in for NAND Tree mode RW Set by MODE[3:0] \nstrapping pin.\nSee the Strap-In \nOptions - KSZ9031RNX\nsection for details.\n2.2.3:0 Reserved Reserved RW 0000MMD Address 2h, Register 3h – Operation Mode Strap Status\n2.3.15 RGMII All \nCapabilities \nStrap-In Status1 = Strap to RGMII to advertise all capabilities RO\nSet by MODE[3:0] \nstrapping pin.\nSee the Strap-In \nOptions - KSZ9031RNX\nsection for details.2.3.14 RGMII No \n1000BT_HD Strap-In \nStatus1 = Strap to RGMII to advertise all capabilities \nexcept 1000BASE-T half-duplexRO\n2.3.13 RGMII Only \n1000BT_H/\nFD Strap-In \nStatus1 = Strap to RGM II to advertise 1000BASE-T full -\nand half-duplex onlyRO\n2.3.12 RGMII Only \n1000BT_FD \nStrap-In Status1 = Strap to RGMII to adv ertise 1000BASE-T full-\nduplex onlyRO\n2.3.11:8 Reserved Reserved RO 0000\n2.3.7 Chip Power-\nDown Strap-\nIn Status1 = Strap to chip power-dow n mode RO Set by MODE[3:0] \nstrapping pin.\nSee the Strap-In \nOptions - KSZ9031RNX\nsection for details.\n2.3.6:5 Reserved Reserved RO 00TABLE 4-6: MMD REGISTER DESCRIPTIONS (CONTINUED)\nAddress Name DescriptionMode\nNote 4-1Default\n\uf0e3 2022 Microchip Technology In c. and its subsidiaries  DS00002117J-page 47KSZ9031RNX\n2.3.4 NAND Tree \nStrap-In \nStatus1 = Strap to NAND Tree mode RO Set by MODE[3:0] \nstrapping pin.\nSee the Strap-In \nOptions - \nKSZ9031RNX\nsection for details.\n2.3.3:0 Reserved Reserved RO 0000\nMMD Address 2h, Register 4h – RGMII Control Signal Pad Skew\n2.4.15:8 Reserved Reserved RW 0000_0000\n2.4.7:4 RX_DV Pad \nSkewRGMII RX_CTL output pad s kew control (0.06 ns/\nstep)RW 0111\n2.4.3:0 TX_EN Pad \nSkewRGMII TX_CTL input pad s kew control (0.06 ns/\nstep)RW 0111\nMMD Address 2h, Register 5h – RGMII RX Data Pad Skew\n2.5.15:12 RXD3 Pad \nSkewRGMII RXD3 output pad skew control (0.06 ns/\nstep)RW 0111\n2.5.11:8 RXD2 Pad \nSkewRGMII RXD2 output pad skew control (0.06 ns/\nstep)RW 0111\n2.5.7:4 RXD1 Pad \nSkewRGMII RXD1 output pad skew control (0.06 ns/\nstep)RW 0111\n2.5.3:0 RXD0 Pad \nSkewRGMII RXD0 output pad skew control (0.06 ns/\nstep)RW 0111\nMMD Address 2h, Register 6h  – RGMII TX Data Pad Skew\n2.6.15:12 TXD3 Pad \nSkewRGMII TXD3 input pad skew control (0.06 ns/step) RW 0111\n2.6.11:8 TXD2 Pad \nSkewRGMII TXD2 input pad skew control (0.06 ns/step) RW 0111\n2.6.7:4 TXD1 Pad \nSkewRGMII TXD1 input pad skew control (0.06 ns/step) RW 0111\n2.6.3:0 TXD0 Pad \nSkewRGMII TXD0 input pad skew control (0.06 ns/step) RW 0111\nMMD Address 2h, Register 8h – RGMII Clock Pad Skew\n2.8.15:10 Reserved Reserved RW 0000_00\n2.8.9:5 GTX_CLK \nPad SkewRGMII GTX_CLK input pad skew control (0.06 ns/\nstep)RW 01_111\n2.8.4:0 RX_CLK \nPad SkewRGMII RX_CLK output pad s kew control (0.06 ns/\nstep)RW 0_1111TABLE 4-6: MMD REGISTER DESCRIPTIONS (CONTINUED)\nAddress Name DescriptionMode\nNote 4-1Default\nKSZ9031RNX\nDS00002117J-page 48  \uf0e3 2022 Microchip Technology Inc. and its subsidiariesMMD Address 2h, Register 10h – Wake-On-LAN – Control\n2.10.15:14PME Output \nSelectThese two bits work in  conjunction with MMD \nAddress 2h, Reg. 2h, Bits [8] and [10] for PME_N1 \nand PME_N2 enable , to define the output for Pins \n17 and 38, respectively.\nLED1/PME_N1 (Pin 17)\n    00 = PME_N1 output only    01 = LED1 output only\n    10 = LED1 and PME_N1 output\n    11 = ReservedINT_N/PME_N2 (Pin 38)\n    00 = PME_N2 output only\n    01 = INT_N output only    10 = INT_N and PME_N2 output\n    11 = ReservedRW 00\n2.10.13:7 Reserved Reserved RW 00_0000_0\n2.10.6 Magic Packet \nDetect \nEnable1 = Enable magic-packet detection\n0 = Disable magic-packet detectionRW 0\n2.10.5 Custom -\nPacket Type \n3 Detect Enable1 = Enable custom-packe t, Type 3 detection\n0 = Disable custom-packet, Type 3 detectionRW 0\n2.10.4 Custom-\nPacket Type 2 Detect \nEnable1 = Enable custom-packe t, Type 2 detection\n0 = Disable custom -packet, Type 2 detectionRW 0\n2.10.3 Custom -\nPacket Type \n1 Detect \nEnable1 = Enable custom-packe t, Type 1 detection\n0 = Disable custom -packet, Type 1 detectionRW 0\n2.10.2 Custom -\nPacket Type \n0 Detect Enable1 = Enable custom -packet, Type 0 detection\n0 = Disable custom -packet, Type 0 detectionRW 0\n2.10.1 Link-Down \nDetect Enable1 = Enable link-down detection\n0 = Disable link-down detectionRW 0\n2.10.0 Link-Up \nDetect Enable1 = Enable link-up detection\n0 = Disable link-up detectionRW 0\nMMD Address 2h, Register 11h – Wa ke-On-LAN – Magi c Packet, MAC- DA-0\n2.11.15:0 Magic Packet  \nMAC-DA-0This register stores the lower two bytes of the \ndestination MAC address for the magic packet .\nBit [15:8] = Byte 2 (MAC Address [15:8])\nBit [7:0] = Byte 1 (MAC Address [7:0])The upper four bytes o f the destination MAC \naddress are stored in the following two registers.RW 0000_0000_0000_00\n00TABLE 4-6: MMD REGISTER DESCRIPTIONS (CONTINUED)\nAddress Name DescriptionMode\nNote 4-1Default\n\uf0e3 2022 Microchip Technology In c. and its subsidiaries  DS00002117J-page 49KSZ9031RNX\nMMD Address 2h, Register 12h – Wake-On-LAN – Magic Packet, MAC- DA-1\n2.12.15:0 Magic Packet  \nMAC-DA-1This register stores the middle two bytes of the \ndestination MAC address for the magic packet .\nBit [15:8] = Byte 4 (MAC Address [31:24])Bit [7:0] = Byte 3 (MAC Address [23:16])\nThe lower two bytes and upper two bytes of the \ndestination MAC address are stored in the previous and following registers, respectively.RW 0000_0000_0000_00\n00\nMMD Address 2h, Register 13h – Wake-On-LAN – Magic Packet, MAC- DA-2\n2.13.15:0 Magic Packet  \nMAC-DA-2This register stores the upper two bytes of the \ndestination MAC address for the magic packet .\nBit [15:8] = Byte 6 (MAC Address [47:40])\nBit [7:0] = Byte 5 (MAC Address [39:32])\nThe lower four bytes o f the destination MAC \naddress are stored in the previous two registers.RW 0000_0000_0000_00\n00\nMMD Address 2h, Register 14h – Wa ke-On-LAN – Customized Packet,  Type 0, Expected CRC 0\nMMD Address 2h, Register 16h – Wa ke-On-LAN – Customized Packet,  Type 1, Expected CRC 0\nMMD Address 2h, Register 18h – Wa ke-On-LAN – Customized Packet,  Type 2, Expected CRC 0\nMMD Address 2h, Register 1Ah – Wake-On-LAN – Customized Packet,  Type 3, Expected CRC 0\n2.14.15:0\n2.16.15:0\n2.18.15:0\n2.1A.15:0Custom \nPacket Type \nX CRC 0This register stores the upper two bytes for the \nexpected CRC .\nBit [15:8] = Byte 2 (CRC [15:8])\nBit [7:0] = Byte 1 (CRC [7:0])The lower two bytes fo r the expected CRC are \nstored in the following register.RW 0000_0000_0000_00\n00\nMMD Address 2h, Register 15h – Wa ke-On-LAN – Customized Packet,  Type 0, Expected CRC 1\nMMD Address 2h, Register 17h – Wa ke-On-LAN – Customized Packet,  Type 1, Expected CRC 1\nMMD Address 2h, Register 19h – Wa ke-On-LAN – Customized Packet,  Type 2, Expected CRC 1\nMMD Address 2h, Register 1Bh – Wake-On-LAN – Customized Packet,  Type 3, Expected CRC 1\n2.15.15:0\n2.17.15:0\n2.19.15:02.1B.15:0Custom \nPacket Type \nX CRC 1This register stores the lower two bytes for the \nexpected CRC .\nBit [15:8] = Byte  4 (CRC [31:24])\nBit [7:0] = Byte 3 (CRC [23:16])\nThe upper two bytes fo r the expected CRC are \nstored in the previous register.RW 0000_0000_0000_00\n00\nMMD Address 2h, Register 1Ch – Wake-On-LAN – Customized Packet,  Type 0, Mask 0\nMMD Address 2h, Register 20h – Wa ke-On-LAN – Customized Packet,  Type 1, Mask 0\nMMD Address 2h, Register 24h – Wa ke-On-LAN – Customized Packet,  Type 2, Mask 0\nMMD Address 2h, Register 28h – Wa ke-On-LAN – Customized Packet,\n Type 3, Mask 0\n2.1C.15:0\n2.20.15:02.24.15:0\n2.28.15:0Custom \nPacket Type X Mask 0This register selects the byt es in the first 16 bytes \nof the packet (bytes 1 through 16) that will be used for CRC calculation.\nFor each bit in this register, \n1 = Byte is selected  for CRC calculation\n0 = Byte is not selected for CRC calculation\nThe register-bit to packe t-byte mapping is as fol-\nlows:\nBit [15]: Byte 16\n……Bit [2]: Byte 2\nBit [0]: Byte 1RW 0000_0000_0000_00\n00TABLE 4-6: MMD REGISTER DESCRIPTIONS (CONTINUED)\nAddress Name DescriptionMode\nNote 4-1Default\nKSZ9031RNX\nDS00002117J-page 50  \uf0e3 2022 Microchip Technology Inc. and its subsidiariesMMD Address 2h, Register 1Dh – Wake-On-LAN – Customized Packet,  Type 0, Mask 1\nMMD Address 2h, Register 21h – Wak e-On-LAN – Customized Packet,  Type 1, Mask 1\nMMD Address 2h, Register 25h – Wak e-On-LAN – Customized Packet,  Type 2, Mask 1\nMMD Address 2h, Register 29h – Wak e-On-LAN – Customized Packet,  Type 3, Mask 1\n2.1D.15:0\n2.21.15:02.25.15:0\n2.29.15:0Custom \nPacket Type X Mask 1This register selects the bytes in the second 16 \nbytes of the packet (bytes  17 thru 32) that will be \nused for CRC calculation.\nFor each bit in this register, \n1 = Byte is selected  for CRC calculation\n0 = Byte is not selected for CRC calculation\nThe register-bit to packe t-byte mapping is as fol-\nlows:Bit [15]: Byte 32\n……\nBit [2]: Byte 18Bit [0]: Byte 17RW 0000_0000_0000_00\n00\nMMD Address 2h, Register 1Eh – W ake-On-LAN – Customized Packet,  Type 0, Mask 2\nMMD Address 2h, Register 22h – Wak e-On-LAN – Customized Packet,  Type 1, Mask 2\nMMD Address 2h, Register 26h – Wak e-On-LAN – Customized Packet,  Type 2, Mask 2\nMMD Address 2h, Register 2Ah – Wake-On-LAN – Customized Packet,  Type 3, Mask 2\n2.1E.15:0\n2.22.15:0\n2.26.15:0\n2.2A.15:0Custom \nPacket Type \nX Mask 2This register selects the byt es in the third 16 bytes \nof the packet (bytes 33 t hrough 48) that will be \nused for CRC calculation.\nFor each bit in this register, 1 = Byte is selected  for CRC calculation\n0 = Byte is not selected for CRC calculation\nThe register-bit to packe t-byte mapping is as fol-\nlows:\nBit [15]: Byte 48\n……Bit [2]: Byte 34\nBit [0]: Byte 33RW 0000_0000_0000_00\n00\nMMD Address 2h, Register 1Fh – Wake-On-LAN – Customized Packet,  Type 0, Mask 3\nMMD Address 2h, Register 23h – Wak e-On-LAN – Customized Packet,  Type 1, Mask 3\nMMD Address 2h, Register 27h – Wak e-On-LAN – Customized Packet,  Type 2, Mask 3\nMMD Address 2h, Register 2Bh – Wake-On-LAN – Customized Packet,  Type 3, Mask 3\n2.1F.15:0\n2.23.15:0\n2.27.15:02.2B.15:0Custom \nPacket Type \nX Mask 3This register selects the bytes in the fourth 16 bytes \nof the packet (bytes 49 t hrough 64) that will be \nused for CRC calculation.For each bit in this register, \n1 = Byte is selected  for CRC calculation\n0 = Byte is not selected for CRC calculationThe register-bit to packe t-byte mapping is as fol-\nlows:\nBit [15]: Byte 64……\nBit [2]: Byte 50\nBit [0]: Byte 49RW 0000_0000_0000_00\n00\nMMD Address 1Ch, Register 4h – Analog Control 4\n1C.4.15:11 Reserved Reserved RW 0000_0\n1C.4.10 10BASE-Te \nMode1 = 10BASE-Te (1.75V TX amplitude)\n0 = Standard 10BASE-T (2.5V TX amplitude)RW 0\n1C.4.9:0 Reserved Reserved RW 00_1111_1111TABLE 4-6: MMD REGISTER DESCRIPTIONS (CONTINUED)\nAddress Name DescriptionMode\nNote 4-1Default\n\uf0e3 2022 Microchip Technology In c. and its subsidiaries  DS00002117J-page 51KSZ9031RNX\nNote 4-1 RW = Read/Write; RO = Read Only; WO = Write Only; LH = Latch Hi gh.MMD Address 1Ch, Register 23h – EDPD Control\n1C.23.15:1 Reserved Reserved RW 0000_0000_0000_00\n0\n1C.23.0 EDPD Mode \nEnableEnergy-detect power-down mode\n1 = Enable\n0 = DisableRW 0TABLE 4-6: MMD REGISTER DESCRIPTIONS (CONTINUED)\nAddress Name DescriptionMode\nNote 4-1Default\nKSZ9031RNX\nDS00002117J-page 52  \uf0e3 2022 Microchip Technology Inc. and its subsidiaries5.0 OPERATIONAL CHARACTERISTICS\n5.1 Absolute Maximum Ratings*\nSupply Voltage (VIN)\n(DVDDL, AVDDL, AVDDL_PLL) ...................................... ............................................................... ........... –0.5V to +1.8V\n(AVDDH)........................................................ ............................................................... ............................. –0.5V to +5.0V\n(DVDDH) ............. ............... .............. .............. ............................................................... ............................ –0.5V to +5.0V\nInput Voltage (all inputs)..... ........... ........... .......... ............................................................... ........................ –0.5V to +5.0V\nOutput Voltage (all outputs)................................... ............................................................... ..................... –0.5V to +5.0V\nLead Temperature (soldering, 10s) .............................. ............................................................... ..........................+260°C\nStorage Temperature (TS) .............................................................. ............ .............. .............. .............. ..–55°C t o +150°C\n*Exceeding the absolute maximum rating may damage the device. S tresses greater than the absolute maximum rating\nmay cause permanent damage to the device. Operation of the devi ce at these or any other conditions above those spec-\nified in the operating sections of this specification is not im plied. Maximum conditions for extended periods may affect\nreliability.\n5.2 Operating Ratings**\nSupply Voltage \n(DVDDL, AVDDL, AVDDL_PLL) ...................................... ............................................................... ... +1.140V to +1.380V\n(AVDDH @ 3.3V)................................................. ............................................................... ............... +3.135V to +3.465V\n(AVDDH @ 2.5V; Commercial temp. only).......................... .............................................................. + 2.375V to +2.625V\n(DVDDH @ 3.3V) ...... ........... ............ ........... ......... ............................................................... .............. +3.135V to +3.465V\n(DVDDH @ 2.5V) ...... ........... ............ ........... ......... ............................................................... .............. +2.375V to +2.625V\n(DVDDH @ 1.8V) ...... ........... ............ ........... ......... ............................................................... .............. +1.710V to +1.890V\nAmbient Temperature(T\nA Commercial: KSZ9031RNXC) ... .............. ........... .......... ............................................................... ..........0°C to +70°C\n(TA Industrial: KSZ9031RNXI)...................................... ............................................................... .............–40°C to +85°C\n(TA Automotive: KSZ9031RNXUA/UB) .................................. ............................................................... ...–40°C to +85°C\n(TA Automotive: KSZ9031RNXVA/VB) .................................. ............................................................... ..–40°C to +105°C\nMaximum Junction Temperature (TJ max.) ......................................................... ..................................................+125°C\nThermal Resistance (ΘJA).............................................................. ............................................................... +36.34°C/W\nThermal Resistance (ΘJC).............................................................. ............................................................... .. +9.47°C/W\n**The device is not guaranteed to  function outsi de its operatin g ratings.\nNote: Do not drive input signals with out power supplied to the device .\n\uf0e3 2022 Microchip Technology In c. and its subsidiaries  DS00002117J-page 53KSZ9031RNX\n6.0 ELECTRICAL CHARACTERISTICS\nTA = 25°C. Specification is for packaged product only.\nTABLE 6-1: SUPPLY CURRENT - CORE/DIGITAL I/O\nParameters Symbol Min. Typ. Max. Units Note\n1.2V Total of:\nDVDDL (digital core) +\nAVDDL (analog core) +\n   AVDDL_PLL (PLL)ICORE—2 1 0—\nmA1000BASE-T link-up (no traffic)\n—2 2 1—1000BASE-T full-duplex @ \n100% utilization\n— 63.6 — 100BASE-TX link-up (no traffic)\n—6 3 . 8—100BASE-TX full-duplex @ \n100% utilization\n— 7.1 — 10BASE-T link-up (no traffic)\n—7 . 7—10BASE-T full-duplex @ \n100% utilization\n—1 . 0—Software power-down mode \n(Reg. 0.11 = 1)\n—0 . 7—Chip power-down mode\n(strap-in pins MODE[3:0] = 0111)\n1.8V for Digital I/O\n(RGMII operating @ 1.8V)IDVDDH_1.8—1 1 . 2—\nmA1000BASE-T link-up (no traffic)\n—2 3 . 6—1000BASE-T full-duplex @ \n100% utilization\n— 8.4 — 100BASE-TX link-up (no traffic)\n—9 . 8—100BASE-TX full-duplex @ \n100% utilization\n— 3.6 — 10BASE-T link-up (no traffic)\n—5 . 6—10BASE-T full-duplex @ \n100% utilization\n—5 . 5—Software power-down mode \n(Reg. 0.11 = 1)\n—0 . 3—Chip power-down mode\n(strap-in pins MODE[3:0] = 0111)\n2.5V for Digital I/O\n(RGMII operating @ 2.5V)IDVDDH_2.5—1 4 . 7—\nmA1000BASE-T link-up (no traffic)\n—3 1 . 5—1000BASE-T full-duplex @ \n100% utilization\n— 10.5 — 100BASE-TX link-up (no traffic)\n—1 3 . 0—100BASE-TX full-duplex @ \n100% utilization\n— 6.3 — 10BASE-T link-up (no traffic)\n—9 . 0—10BASE-T full-duplex @ \n100% utilization\n—6 . 7—Software power-down mode \n(Reg. 0.11 = 1)\n—0 . 7—Chip power-down mode\n(strap-in pins MODE[3:0] = 0111)\nKSZ9031RNX\nDS00002117J-page 54  \uf0e3 2022 Microchip Technology Inc. and its subsidiariesNote 6-1 Equivalent to current draw through external transformer center taps for PHY transceivers with current-\nmode transmit drivers.3.3V for Digital I/O\n(RGMII operating @ 3.3V)IDVDDH_3.3—1 9 . 5—\nmA1000BASE-T link-up (no traffic)\n—4 1 . 5—1000BASE-T full-duplex @ \n100% utilization\n— 13.9 — 100BASE-TX link-up (no traffic)\n—1 7 . 2—100BASE-TX full-duplex @ \n100% utilization\n— 11.5 — 10BASE-T link-up (no traffic)\n—1 3 . 7—10BASE-T full-duplex @ \n100% utilization\n—9 . 3—Software power-down mode \n(Reg. 0.11 = 1)\n—2 . 2—Chip power-down mode\n(strap-in pins MODE[3:0] = 0111)\nTABLE 6-2: SUPPLY CURRENT - TRANSCEIVER ( Note 6-1 )\nParameters Symbol Min. Typ. Max. Units Note\n2.5V for Transceiver\n(Recommended for \ncommercial temperature \nrange operation only)IAVDDH_2.5—5 8 . 8—\nmA1000BASE-T link-up (no traffic)\n—5 7 . 9—1000BASE-T full-duplex @ \n100% utilization\n— 24.9 — 100BASE-TX link-up (no traffic)\n—2 4 . 9—100BASE-TX full-duplex @ \n100% utilization\n— 11.5 — 10BASE-T link-up (no traffic)\n—2 5 . 3—10BASE-T full-duplex @ \n100% utilization\n—3 . 1—Software power-down mode \n(Reg. 0.11 = 1)\n—0 . 0 2—Chip power-down mode\n(strap-in pins MODE[3:0] = 0111)\n3.3V for Transceiver\nParameterIAVDDH_3.3—6 7 . 4—\nmA1000BASE-T link-up (no traffic)\n—6 6 . 3—1000BASE-T full-duplex @ \n100% utilization\n— 28.7 — 100BASE-TX link-up (no traffic)\n—2 8 . 6—100BASE-TX full-duplex @ \n100% utilization\n— 15.9 — 10BASE-T link-up (no traffic)\n—2 8 . 6—10BASE-T full-duplex @ \n100% utilization\n—4 . 2—Software power-down mode \n(Reg. 0.11 = 1)\n—0 . 0 2—Chip power-down mode\n(strap-in pins MODE[3:0] = 0111)TABLE 6-1: SUPPLY CURRENT - CORE/DIGITAL I/O (CONTINUED)\nParameters Symbol Min. Typ. Max. Units Note\n\uf0e3 2022 Microchip Technology In c. and its subsidiaries  DS00002117J-page 55KSZ9031RNX\nTABLE 6-3: CMOS INPUTS\nParameters Symbol Min. Typ. Max. Units Note\nInput High Voltage VIH2.0 — —\nVDVDDH (digital I/O) = 3.3V\n1.5 — — DVDDH (digital I/O) = 2.5V\n1.1 — — DVDDH (digital I/O) = 1.8V\nInput Low Voltage VIL—— 1 . 3\nVDVDDH (digital I/O) = 3.3V\n— — 1.0 DVDDH (digital I/O) = 2.5V— — 0.7 DVDDH (digital I/O) = 1.8V\nInput High\nLeakage CurrentI\nIHL –2.0 — 2.0 µADVDDH = 3.3V and VIH = 3.3V\nAll digital input pins\nInput Low Leakage Current IILL–2.0 — 2.0\nµADVDDH = 3.3V and VIL = 0.0V\nAll digital input pins, except MDC, \nMDIO, RESET_N.\n–120 — –40DVDDH = 3.3V and VIL = 0.0V\nMDC, MDIO, RESET_N pins with \ninternal pull-ups\nTABLE 6-4: CMOS OUTPUTS\nParameter Symbol Min. Typ. Max. Units Note\nOutput High Voltage VOH2.7 — —\nVDVDDH (digital I/O) = 3.3V , \nIOH (min) = 10 mA\nAll digital output pins\n2.0 — —DVDDH (digital I/O) = 2.5V, \nIOH (min) = 10 mA\nAll digital output pins\n1.5 — —DVDDH (digital I/O) = 1.8V, \nIOH (min) = 13 mA\nAll digital output pins, except LED1, \nLED2\nOutput Low Voltage VOL—— 0 . 3\nVDVDDH (digital I/O) = 3.3V , \nIOL (min) = 10 mA\nAll digital output pins\n—— 0 . 3DVDDH (digital I/O) = 2.5V, \nIOL (min) = 10 mA\nAll digital output pins\n—— 0 . 3DVDDH (digital I/O) = 1.8V, \nIOL (min) = 13 mA\nAll digital output pins, except LED1, \nLED2\nOutput Tri-State Leakage |Ioz|— — 1 0 µ A —\nTABLE 6-5: LED OUTPUTS\nParameters Symbol Min. Typ. Max. Units Note\nOutput Drive Current ILED 10 — — mADVDDH (digital I/O) = 3.3V or 2.5V, \nand VOL at 0.3V\nEach LED pin (LED1, LED2)\nKSZ9031RNX\nDS00002117J-page 56  \uf0e3 2022 Microchip Technology Inc. and its subsidiariesNote 6-2 Measured with pin input voltage level at one-half DVDDH.\nNote 6-3 Measured differentially after 1:1 transformer.\nNote 6-4 Measured differentially after 1:1 transformer.TABLE 6-6: PULL-UP PINS ( Note 6-2 )\nParameters Symbol Min. Typ. Max. Units Note\nInternal Pull-Up Resistance    \n(MDC, MDIO, \nRESET_N pins)pu13 22 31\nkΩDVDDH (digital I/O) = 3.3V\n16 28 39 DVDDH (digital I/O) = 2.5V\n26 44 62 DVDDH (digital I/O) = 1.8V\nTABLE 6-7: 100BASE-TX TRANSMIT ( Note 6-3 )\nParameters Symbol Min. Typ. Max. Units Note\nPeak Differential Output \nVoltageVO 0.95 — 1.05 V 100Ω termination across differential \noutput\nOutput Voltage Imbalance VIMB — — 2 % 100Ω termination across differential \noutput\nRise/Fall Time tr, tf 3—5n s —\nRise/Fall Time Imbalance — 0 — 0.5 ns —\nDuty Cycle Distortion — — — ±0.25 ns —\nOvershoot — — — 5 % —\nOutput Jitter — — 0.7 — ns Peak-to-peak\nTABLE 6-8: 10BASE-T TRANSMIT ( Note 6-4 )\nParameters Symbol Min. Typ. Max. Units Note\nPeak Differential Output \nVoltageVP 2.2 — 2.8 V 100Ω termination across differential \noutput\nJitter Added — — — 3.5 ns Peak-to-peak\nHarmonic Rejection — — –31 — dB Transmit all-one signal sequence\nTABLE 6-9: 10BASE-T RECEIVE\nParameters Symbol Min. Typ. Max. Units Note\nSquelch Threshold VSQ 300 400 — mV 5 MHz square wave\nTABLE 6-10: TRANSMITTER - DRIVE SETTING\nParameters Symbol Min. Typ. Max. Units Note\nReference Voltage of ISET VSET —1 . 2— V R ( ISET) = 12.1 kΩ\nTABLE 6-11: LDO CONTROLLER - DRIVE RANGE\nParameters Symbol Min. Typ. Max. Units Note\nOutput drive range for \nLDO_O (Pin 43) to gate \ninput of P -channel \nMOSFETVLDO_O0.85 — 2.8\nVAVDDH = 3.3V for MOSFET source \nvoltage\n0.85 — 2.0AVDDH = 2.5V for MOSFET source \nvoltage (recommended for commer-\ncial temperature ra nge operation only)\n\uf0e3 2022 Microchip Technology In c. and its subsidiaries  DS00002117J-page 57KSZ9031RNX\n7.0 TIMING DIAGRAMS\n7.1 RGMII Timing\nAs the default, after power-up or reset, the KSZ9031RNX RGMII t iming conforms to the timing requirements in the\nRGMII Version 2.0 Specificati on for internal PHY chip delay. \nFor the transmit path (MAC to K SZ9031RNX), the KSZ9031RNX does not add any delay locally at its GTX_CLK, TX_EN\nand TXD[3:0] input pins, and expects the GTX_CLK delay to be pr ovided on-chip by the MAC. If MAC does not provide\nany delay or insufficient delay for the GTX_CLK, the KSZ9031RNX  has pad skew registers that can provide up to\n1.38 ns on-chip delay.\nFor the receive path (KSZ9031RNX to MAC), the KSZ9031RNX adds 1 .2 ns typical delay to the RX_CLK output pin\nwith respect to RX_DV and RXD[3:0]  output pins. If necessary, t he KSZ9031RNX has pad skew registers that can adjust\nthe RX_CLK on-chip del ay up to 2.58 ns from the 1.2 ns default delay. \nIt is common to implement RGMII  PHY-to-MAC designs that either PHY, MAC, or both PHY and MAC are not fully RGMII\nv2.0 compliant with on-chip clock delay. These combinations of mixed RGMII v1.3/v2.0 designs and plus sometimes\nnon-matching RGMII PCB trace rou tings require a review of the e ntire RGMII system timings (PHY on-chip, PCB trace\ndelay, MAC on-chip) to compute the aggregate clock delay and de termine if the clock delay timing is met. If timing adjust-\nment is needed, pad ske w registers are prov ided by the KSZ9031R NX. Refer to RGMII Pad Sk ew Registers section. \nThe following Figure 7-1 , Figure 7-2 , and Table 7-1 from the RGMII v2.0 Specification are provided as references to\nunderstanding RGMII v1.3 external  delay and RGMII v2.0 on-chip delay timings.\nFIGURE 7-1: RGMII V2.0 SPEC (MULT IPLEXING AND TIMING DIAGRAM – O RIGINAL RGMII \n(V1.3) WITH EXTERNAL DELAY)\n\nKSZ9031RNX\nDS00002117J-page 58  \uf0e3 2022 Microchip Technology Inc. and its subsidiariesFIGURE 7-2: RGMII V2.0 SPEC (MULT IPLEXING AND TIMING DIAGRAM – R GMII-ID (V2.0) \nWITH INTERNAL CHIP DELAY)\nThe following notes pro vide clarification for Figure 7-2 . \nTXC (SOURCE DATA) , solid line, is the MAC GTX_CL K clock output timing per RGMII v1.3 Specification (PCB delay\nline required or PHY int ernal delay required) \nTXC (SOURCE DATA) WITH INTERNAL DELAY ADDED , dotted line, is the MAC GTX_CLK clock output timing per\nRGMII v2.0 Specification (no PC B delay required and no PHY inte rnal delay required) \nRXC (SOURCE DATA) , solid line, is the PHY RX_CLK  clock output timing per RGMII v 1.3 Specification (PCB delay line\nrequired or MAC internal delay required) \nRXC (SOURCE DATA) WITH INTERNAL DELAY ADDED , dotted line, is the PHY RX_CLK clock output timing per\nRGMII v2.0 Specification (no PC B delay required and no MAC inte rnal delay required)\nTABLE 7-1: RGMII V2.0 SPECIFICATION\nParameter Description Min. Typ. Max. Units\nTskewT Data-to-clock output skew (at transmitter) per \nRGMII v1.3 (external delay)–500 — 500 ps\nTskewR Data-to-clock input ske w (at receiver) per RGMII \nv1.3 (external delay)1.0 — 2.6\nnsTsetupT Data-to-clock output set up (at transmitter – inte-\ngrated delay)1.2 2.0 —\nTholdT Clock-to-data output hold  (at transmitter – inte-\ngrated delay)1.2 2.0 —\nTsetupR Data-to-clock input setup (at receiver – integrated \ndelay)1.0 2.0 —\nTholdR Clock-to-data input hold (at receiver – integrated \ndelay)1.0 2.0 —\ntcyc (1000BASE-T) Clock cycle durat ion for 1000BASE-T 7.2 8.0 8.8\ntcyc (100BASE-TX) Clock cycle dur ation for 10 0BASE-TX 36 40 44\ntcyc (10BASE-T) Clock cycle durati on for 10BASE-T 360 400 440TXC(SOURCE DATA)TXC WITH INTERNAL\nDELAY ADDED\nTXD[8:5][3:0]\nTXD[7:4][3:0]\nTX_CTL\nTXC (AT RECEIVER)\nRXC (SOURCE DATA)\nRXD[8:5][3:0]\nRXD[7:4][3:0]\nRX_CTL\nRXC (AT RECEIVER)TXD[3:0]TXD[8:5]\nTXD[7:4]TSETUPT\nTHOLDT\nTSETUPRTHOLDRTXD[4]\nTXENTXD[9]\nTXERR\nRXC WITH INTERNAL\nDELAY ADDED\nRXD[3:0]RXD[8:5]\nRXD[7:4]TSETUPT\nTHOLDT\nTSETUPRTHOLDRRXD[4]\nRXDVRXD[9]\nRXERR\n\uf0e3 2022 Microchip Technology In c. and its subsidiaries  DS00002117J-page 59KSZ9031RNX\nThe RGMII Version 2.0 Specificat ion defines the RGMII data-to-c lock skews only for 1000 Mbps operation, which uses\nboth clock edges for sampling the data and control signals at t he 125 MHz clock frequency (8 ns period). For 10/100\nMbps operations, the data signals are sampled on the rising clo ck edge and the control signals are sampled on both\nclock edges. With slower clock frequencies, 2.5 MHz (400 ns per iod) for 10 Mbps and 25 MHz (40 ns period) for\n100 Mbps, the RGMII data-to-clock skews for 10/100 Mbps operatio ns will have greater timing margins than for\n1000 Mbps operation, and therefore can be relaxed from 2.6 ns (m aximum) for 1000 Mbps to 160 ns (maximum) for\n10 Mbps and 16 ns (ma ximum) for 100 Mbps.\nKSZ9031RNX\nDS00002117J-page 60  \uf0e3 2022 Microchip Technology Inc. and its subsidiariesFIGURE 7-3: AUTO-NEGOTIATION FAST LINK PULSE (FLP) TIMING\nThe KSZ9031RNX Fast Link Pulse (FLP) burst-to-burst transmit ti ming for Auto-Negotiation defaults to 8 ms. IEEE\n802.3 Standard specifies this timing to be 16 ms ±8 ms. Some PH Y link partners need to receive the FLP with 16 ms\ncentered timing; otherwise, ther e can be intermittent link fail ures and long link-up times. \nAfter KSZ9031RNX powe r-up/reset, program the following register  sequence to set the FL P timing to 16 ms: \n1. Write Register Dh = 0x0000 / / Set up register address for MMD  – Device Address 0h\n2. Write Register Eh = 0x0004 // S elect Register 4h of MMD – Dev ice Address 0h\n3. Write Register Dh = 0x4000 / / Select register data for MMD – Device Address 0h, Register 4h\n4. Write Register Eh = 0x0006 // W rite value 0x0006 to MMD – Dev ice Address 0h, Register 4h\n5. Write Register Dh = 0x0000 / / Set up register address for MMD  – Device Address 0h\n6. Write Register Eh = 0x0003 // S elect Register 3h of MMD – Dev ice Address 0h\n7. Write Register Dh = 0x4000 / / Select register data for MMD – Device Address 0h, Register 3h\n8. Write Register Eh = 0x1A80 // W rite value 0x1A80 to MMD – Dev ice Address 0h, Register 3h\n9. Write Register 0h, Bit [9] = 1 // Restart Auto-Negotiation\nThe above setting for 16 ms FLP t ransmit timing is compatible w ith all PHY link partners.TABLE 7-2: AUTO-NEGOTIATION FAST L INK PULSE (FLP) TIMING PARAMET ERS\nTiming \nParameterDescription Min. Typ. Max. Units\ntBTB FLP burst to FLP burst 8 16 24mstFLPW FLP burst width — 2 —\ntPW Clock/Data pulse width — 100 — ns\ntCTD Clock pulse to data pulse 55.5 64 69.5µstCTC Clock pulse to clock pulse 111 128 139\n— Number of clock/data pulses per FLP burst 17 — 33 —\n\n\uf0e3 2022 Microchip Technology In c. and its subsidiaries  DS00002117J-page 61KSZ9031RNX\nFIGURE 7-4: MDC/MDIO TIMING\nThe typical MDC clock frequency is 2.5 MHz (400 ns clock period ). \nThe KSZ9031RNX can operate with  MDC clock frequencies generated  from bit banging with GPIO pin in the 10s/100s\nof Hertz and have been tested up to a MDC clock frequency of 8. 33 MHz (120 ns clock period). Test condition for\n8.33 MHz is for one KSZ9031RNX PHY  on the MDIO li ne with a 1.0 k Ω pull-up to the DVDDH supply rail.TABLE 7-3: MDC/MDIO TIMING PARAMETERS\nTiming \nParameterDescription Min. Typ. Max. Units\ntP MDC period 120 400 —\nnstMD1 MDIO (PHY input) setup to  rising edge of MDC 10 — —\ntMD2 MDIO (PHY input) hold from rising edge of MDC 10 — —\ntMD3 MDIO (PHY output) delay fr om rising edge of MDC 0 — —\n\nKSZ9031RNX\nDS00002117J-page 62  \uf0e3 2022 Microchip Technology Inc. and its subsidiariesFIGURE 7-5: POWER-UP/PO WER-DOWN/RESET TIMING\nNote 1:  The recommended power-up sequence is to have the transceiver ( AVDDH) and digital I/O (DVDDH) voltages\npower up before the 1.2V core (D VDDL, AVDDL, AVDDL_PLL) voltage . If the 1.2V core must power up first, the maxi-\nmum lead time for the 1.2V core voltage with respect to the tra nsceiver and digital I/O vol tages should be 200 µs.\nThere is no power seq uence requirement between transceiver (AVD DH) and digital I/O ( DVDDH) power rails.\nThe power-up waveforms should be  monotonic for all supply volta ges to the KSZ9031RNX.\nNote 2:  After the de-assertion of reset , wait a minimum of 100 µs befo re starting programming on the MIIM (MDC/MDIO)\ninterface.\nNote 3:  The recommended power-down seque nce is to have the 1.2V core v oltage power-down before powering down\nthe transceiver and dig ital I/O voltages. \nBefore the next power-up cycle, all  supply voltages to the KSZ9 031RNX should reach less than 0.4V and there should\nbe a minimum wait time of 150 ms from power-off to power-on.\nTABLE 7-4: POWER-UP/POWER-D OWN/RESET TIMIN G PARAMETERS\nTiming \nParameterDescription Min. Typ. Max. Units\ntVR Supply voltages rise time (must be monotonic) 200 — — µs\ntSR Stable supply voltages to de-assertion of reset 10 — — ms\ntCS Strap-in pin configuration setup time 5 — —\nns tCH Strap-in pin configuration hold time 5 — —\ntRC De-assertion of reset to strap-in pin output 6 — —\ntPC Supply voltages cycle off-to-on time 150 — — mstSR\ntCStCH\ntRCSUPPLY \nVOLTAGES\nRESET_N\nSTRAP-IN \nVALUE\nSTRAP-IN /\nOUTPUT  PINCORE (DVDDL, AVDDL, AVDDL_PLL)TRANSCEIVER (AVDDH), DIGITAL I/Os (DVDDH)\ntVRtPCNOTE \n1\nNOTE \n2NOTE \n3\n\uf0e3 2022 Microchip Technology In c. and its subsidiaries  DS00002117J-page 63KSZ9031RNX\n8.0 RESET CIRCUIT\nThe following are some r eset circuit suggestions.\nFigure 8-1  illustrates the reset circuit f or powering up the KSZ9031RNX i f reset is triggered by the power supply.\nFIGURE 8-1: RESET CIRCUIT IF TR IGGERED BY THE POWER SUPPLY\nFigure 8-2  illustrates the reset circuit for applications where reset is driven by another device (for example, the CPU or\nan FPGA). At power-on-reset, R, C, and D1 provide the monotonic  rise time to reset the KSZ9031RNX device. The\nRST_OUT_N from the CPU/FPGA pro vides the warm reset after power -up.\nThe KSZ9031RNX and CPU/FPGA refe rences the same digital I/O vol tage (DVDDH).\nFIGURE 8-2: RECOMMENDED RESET CI RCUIT FOR CPU/FPGA RESET OUTPUT\nFigure 8-3  illustrates the reset circui t with an MIC826 vo ltage superviso r driving the KSZ9031RNX reset input.DVDDH\nD1: 1N4148\nD1R 10KKSZ9031RNX\nRESET_N\nC 10μF\nDVDDH\nKSZ9031RNXD1R 10K\nRESET_N\nC 10μFD2CPU/FPGA\nRST_OUT_N\nD1, D2: 1N4148\nKSZ9031RNX\nDS00002117J-page 64  \uf0e3 2022 Microchip Technology Inc. and its subsidiariesFIGURE 8-3: RESET CIRCUIT WITH MIC826 VOLTAGE SUPERVISOR\nKSZ9031RNX MIC826Part\nNumber\nRESET#Reset\nThreshold\nDVDDH = 3.3V, 2.5V, or 1.8VRESET_NDVDDH DVDDH\nMIC826TYMT   /   3.075V\nMIC826ZYMT   /   2.315V\nMIC826WYMT   /   1.665V\n\uf0e3 2022 Microchip Technology In c. and its subsidiaries  DS00002117J-page 65KSZ9031RNX\n9.0 REFERENCE CIRCUITS — LED STRAP-IN PINS\nThe pull-up and pull-down reference circuits for the LED2/PHYAD 1 and LED1/PHYAD0 strapping pins are shown in\nFigure 9-1  for 3.3V and 2.5V DVDDH. \nFIGURE 9-1: REFERENCE CIRCUITS FOR LED STRAPPING PINS\nFor 1.8V DVDDH, LED indication s upport requires voltage level s hifters between LED[2:1] pins and LED indicator\ndiodes to ensure the multiplexed PHYAD[1:0] strapping pins are latched in high/low correctly. If LED indicator diodes\nare not implemented, the PHYAD[1 :0] strapping pins just need 10  kΩ pull-up to 1.8V DVDDH for a value of 1, and 1.0 kΩ\npull-down to ground for a value of 0. \nLED PIN220Ω 10kΩPULL-UP\nKSZ9031RNX 220ΩPULL-DOWN\nKSZ9031RNX\nLED PINDVDDH = 3.3V, 2.5VDVDDH = 3.3V, 2.5V\n1k Ω\nKSZ9031RNX\nDS00002117J-page 66  \uf0e3 2022 Microchip Technology Inc. and its subsidiaries10.0 REFERENCE CLOCK - CON NECTION AND SELECTION\nA crystal or external clock source, such as an oscillator, is u sed to provide the reference clock for the KSZ9031RNX.\nThe reference clock is  25 MHz for all oper ating modes of the KS Z9031RNX.\nThe KSZ9031RNX uses the AVDDH supply, analog 3.3V (or analog 2. 5V option for commercial temperature only), for\nthe crystal/clock pins  (XI, XO). If the 25 MHz reference clock is provided externally, the XI input pin should have a min-\nimum clock voltage peak-to-peak (VPP) swing of 2.5V reference to ground. If VPP is less than 2.5V, series capacitive\ncoupling is recommended. Wit h capacitive coupling, the VPP swing can be down to 1.5V. Maximum VPP swing is 3.3V\n+5%.\nFigure 10-1  and Table 10-1  show the reference clock connection to XI and XO of the KSZ903 1RNX, and the reference\nclock selection criteria.\nFIGURE 10-1: 25 MHZ CRYSTAL/OSCILLATOR REFERENCE CLOCK CONNECTIO N\n11.0 ON-CHIP LDO CONTROLLER - MOSFET SELECTION\nIf the optional LDO controller i s used to generate 1.2V for the  core voltage, the selected MOSFET should exceed the\nfollowing minimum requirements: \n• P-channel\n• 500 mA (continuous current) \n• 3.3V or 2.5V (source – input voltage) • 1.2V (drain – o utput voltage) \n•V\nGS in the range of: \n- (–1.2V to –1.5V) @ 500 mA for 3.3V source voltage- (–1.0V to –1.1V) @ 500 mA for 2.5V source voltage\nThe V\nGS for the MOSFET needs to be oper ating in the constant current s aturated region, and not towards the VGS(th) ,\nthe threshold voltage for the cut-off region of the MOSFET.\nSee Table 6-11  for LDO controller output drivi ng range to the gate input of t he MOSFET. \nRefer to application note ANLAN206 – KSZ9031 Gigabit PHY Optimi zed Power Scheme for High Efficiency, Low-Power\nConsumption and Dissipation as a design reference.TABLE 10-1: 25 MHZ CRYSTAL/REFER ENCE CLOCK SELECTION CRITERIA\nCharacteristics Value\nFrequency 25 MHz\nFrequency Tolerance (max.) ±50 ppm\nCrystal Series Resistance (typ.) 40Ω\nTotal Period Jitter (peak-to-peak) <100 ps22pF\n22pF\nNCXI\nXOXI\nXO\n25 MHz XTAL\n±50PPM25 MHz OSC\n±50PPM\n\uf0e3 2022 Microchip Technology In c. and its subsidiaries  DS00002117J-page 67KSZ9031RNX\n12.0 MAGNETIC - CONNECTION AND SELECTION\nA 1:1 isolation transformer is required at the line interface. Use one with integrated comm on-mode chokes for designs\nexceeding FCC requirements. An optional auto-transformer stage following the chokes provides additional common-\nmode noise and sig nal attenuation.\nThe KSZ9031RNX design incorporates voltage-m ode transmit driver s and on-chip terminations. \nWith the voltage-mode implementation, the transmit drivers supp ly the common-mode voltages to the four differential\npairs. Therefore, the four trans former center tap pins on the K SZ9031RNX side should not b e connected to any power\nsupply source on the board; rat her, the center tap pins should be separated from one another and connected through\nseparate 0.1 µF common-mode capacitors to ground. Separation is  required because the common-mode voltage could\nbe different between the four d ifferential pairs, depending on the connecte d speed mode.\nFigure 12-1  shows the typical gigabit magnet ic interface circuit for the K SZ9031RNX.\nFIGURE 12-1: TYPICAL GIGABIT MAGNETIC INTERFACE CIRCUIT\nTable 12-1  lists recommended ma gnetic characteristics.\nTable 12-2  is a list of compatible single-port magnetics with separated t ransformer center tap pins on the G-PHY chip\nside that can be used with the KSZ9031RNX.TABLE 12-1: MAGNETICS SELECTION CRITERIA\nParameter Value Test Conditions\nTurns Ratio 1 CT : 1 CT —\nOpen-Circuit Inducta nce (min.) 350 µH 100 mV, 100 kHz, 8 mA\nInsertion Loss (max.) 1.0 dB 0 MHz to 100 MHz\nHIPOT (min.) 1500 VRMS —\nTABLE 12-2: COMPATIBL E SINGLE-PORT 10/100/1000 MAGNETICS\nManufacturer Part Number Auto-Transformer Temperature Range Magneti c + RJ-45\nBel Fuse 0826-1G1T-23-F Yes 0°C to 70°C Yes\nHALO TG1G-E001NZRL No –40°C to 85°C No \n1\n2\n3\n7\n84\n5\n6\n4x 7 5  Ω\n1000 pF / 2kV\nRJ-45 CONNECTOR\nCHASSIS GROUND(4x 0.1μF)TXRXP_A\nTXRXM_AKSZ9031RNX\nSIGNAL GROUNDTXRXP_B\nTXRXM_B\nTXRXP_C\nTXRXM_C\nTXRXP_D\nTXRXM_D\nKSZ9031RNX\nDS00002117J-page 68  \uf0e3 2022 Microchip Technology Inc. and its subsidiariesHALO TG1G-S001NZRL No 0°C to 70°C No\nHALO TG1G-S002NZRL Yes 0°C to 70°C No\nPulse H5007NL Yes 0°C to 70°C No\nPulse H5062NL Yes 0°C to 70°C No\nPulse HX5008NL Yes –40°C to 85°C No\nPulse JK0654219NL Yes 0°C to 70°C Yes\nPulse JK0-0136NL No 0°C to 70°C Yes\nTDK TLA-7T101LF No 0°C to 70°C No\nWurth/Midcom 000-7093-37R-LF1 Yes 0°C to 70°C NoTABLE 12-2: COMPATIBLE SINGLE-PORT 10/100/1000 MAGNETICS (CONTIN UED)\nManufacturer Part Number Auto-Transformer Temperature Range Magneti c + RJ-45\n\uf0e3 2022 Microchip Technology In c. and its subsidiaries  DS00002117J-page 69KSZ9031RNX\n13.0 PACKAGE OUTLINES\nNote: For the most current package draw ings, please see the Microchip  Packaging Specification located at \nhttp://www.microchip.com/packaging\nFIGURE 13-1: 48-LEAD QFN 7 MM X 7 MM PACKAGE WITH 3.5 MM X 3.5 M M EXPOSED PAD \nAREA\n\nKSZ9031RNX\nDS00002117J-page 70  \uf0e3 2022 Microchip Technology Inc. and its subsidiariesNote: For the most current package draw ings, please see the Microchip  Packaging Specification located at \nhttp://www.microchip.com/packaging\nFIGURE 13-2: 48-LEAD VERY THIN PL ASTIC QUAD FLAT NO LEAD PACKAGE  (PSA) \n7X7X1.0MM BODY (VQFN) WITH 5 .05X5.05 MM EXPOSED PAD SHEET 1\nBA\n0.05 C\n0.05 C\n0.10 CAB\n0.05 C(DATUM B)\n(DATUM A)\nCSEATING\nPLANE\nNOTE 12X\nTOP VIEW\nSIDE VIEW\nBOTTOM VIEWNOTE 1\n12\nN0.10 CAB\n0.10 CAB0.10 C0.08 C\n2X48X\nD\nE\nD2\nE2\nKA1\n(A3)\nA\nL 48X b\nee\n21\n2N\nMicrochip Technology Drawing  C04-1124 Rev C Sheet 1 of 2\n\uf0e3 2022 Microchip Technology In c. and its subsidiaries  DS00002117J-page 71KSZ9031RNX\nNote: For the most current package draw ings, please see the Microchip  Packaging Specification located at \nhttp://www.microchip.com/packaging\nFIGURE 13-3: 48-LEAD VERY THIN PL ASTIC QUAD FLAT NO LEAD PACKAGE  (PSA) \n7X7X1.0MM BODY (VQFN) WITH 5 .05X5.05 MM EXPOSED PAD SHEET 2\nMicrochip Technology Drawing  C04-1124 Rev C Sheet 2 of 2REF: Reference Dimension, usually without tolerance, for information purposes only.BSC: Basic Dimension. Theoretically exact value shown without tolerances.Notes:\n1.\n2.\n3.Pin 1 visual index feature may vary,  but must be located within the hatched area.\nPackage is saw singulatedDimensioning and tolerancing per ASME Y14.5MNumber of Terminals\nOverall Height\nTerminal WidthOverall Width\nTerminal LengthExposed Pad WidthTerminal ThicknessPitch\nStandoffUnits\nDimension Limits\nA1A\nbE2A3e\nLEN\n0.50 BSC\n0.253 REF\n0.350.200.80\n0.00\n0.25\n0.400.90\n0.02\n7.00 BSCMILLIMETERS\nMIN NOM\n48\n0.450.301.00\n0.05MAX\nK- 0.20 - Terminal-to-Exposed-PadOverall Length\nExposed Pad LengthD\nD2 4.907.00 BSC\n5.05 5.20\n4.90 5.05 5.20\nKSZ9031RNX\nDS00002117J-page 72  \uf0e3 2022 Microchip Technology Inc. and its subsidiariesNote: For the most current package draw ings, please see the Microchip  Packaging Specification located at \nhttp://www.microchip.com/packaging\nFIGURE 13-4: 48-LEAD VERY THIN PL ASTIC QUAD FLAT NO LEAD PACKAGE  (PSA) \n7X7X1.0MM BODY (VQFN) WITH 5.0 5X5.05 MM EXPOSED PAD LAND PATTER N\nRECOMMENDED LAND PATTERN\nDimension LimitsUnits\nC2Optional Center Pad Width\nContact Pad SpacingOptional Center Pad LengthContact Pitch\nY2X2\n5.205.20MILLIMETERS\n0.50 BSCMIN\nEMAX\n6.90\nContact Pad Length (X48)Contact Pad Width (X48)\nY1X1\n0.900.30NOM1\n248\nC1 Contact Pad Spacing 6.90\nContact Pad to Center Pad (X48) G1 0.43\nThermal Via Diameter V\nThermal Via Pitch EV0.30\n1.00\nBSC: Basic Dimension. Theoretically exact value shown without tolerances.Notes:\nDimensioning and tolerancing per ASME Y14.5M\nFor best soldering results, thermal vias, if used, should be filled or tented to avoid solder loss during\nreflow process1.\n2.\nMicrochip Technology Drawing  C04-3124 Rev CC1\nC2\nEVEVX2\nY2\nEX1Y1G2ØV\nSILK SCREEN\nContact Pad to Contact Pad (X44) G2 0.20G1\n\uf0e3 2022 Microchip Technology In c. and its subsidiaries  DS00002117J-page 73KSZ9031RNX\n Note: For the most current package draw ings, please see the Microchip  Packaging Specification located at \nhttp://www.microchip.com/packaging\nFIGURE 13-5: 48-LEAD VERY THIN PL ASTIC QUAD FLAT NO LEAD PACKAGE  (PUA) - \n7X7X1.0MM BODY (VQFN) WITH 5 .05X5.05 MM EXPOSED PAD AND STEPPED  \nWETTABLE FLANKS SHEET 1\nBA\n0.15 C\n0.15 C\n0.10 CAB\n0.05 C(DATUM B)\n(DATUM A)\nCSEATING\nPLANE\nNOTE 12XTOP VIEW\nSIDE VIEW\nBOTTOM VIEWNOTE 1\n12\nN0.10 CAB\n0.10 CAB0.10 C0.08 C\nMicrochip Technology Drawing C04-1263 Rev F Sheet 1 of 22X48X\nAA1\n(A3)D\nE\nD2\nE2\nK\nL 48X b\nee\n21\n2N\nSECTION A-AA4\nL2AA\nKSZ9031RNX\nDS00002117J-page 74  \uf0e3 2022 Microchip Technology Inc. and its subsidiaries Note: For the most current package draw ings, please see the Microchip  Packaging Specification located at \nhttp://www.microchip.com/packaging\nFIGURE 13-6: 48-LEAD VERY THIN PL ASTIC QUAD FLAT NO LEAD PACKAGE  (PUA) - \n7X7X1.0MM BODY (VQFN) WITH 5.0 5X5.05 MM EXPOSED PAD AND STEPPED  \nWETTABLE FLANKS SHEET 2\nREF: Reference Dimension, usually without tolerance, for information purposes only.BSC: Basic Dimension. Theoretically exact value shown without tolerances.Notes:\n1.\n2.\n3.Pin 1 visual index feature may vary,  but must be located within the hatched area.\nPackage is saw singulatedDimensioning and tolerancing per ASME Y14.5M\nMicrochip Technology Drawing C04-1263 Rev F Sheet 2 of 2Number of Terminals\nOverall Height\nTerminal WidthOverall Width\nTerminal LengthExposed Pad WidthTerminal ThicknessPitch\nStandoffUnits\nDimension Limits\nA1A\nbE2A3e\nLEN\n0.50 BSC\n0.203 REF\n0.350.200.80\n0.00\n0.25\n0.400.90\n0.035MILLIMETERS\nMIN NOM\n48\n0.450.301.00\n0.05MAX\nK- 0.20 - Terminal-to-Exposed-PadOverall Length\nExposed Pad LengthD\nD2 4.907.00 BSC\n5.05 5.20\n4.907.00 BSC\n5.05 5.20\nA4 - 0.075 - Step Cut Height\nL2 - -0 . 0 7 5 Step Cut Length\nAlternate Stepped Wettable Flank Dimensions\nA4 - 0.10 0.19 Step Cut Height\nL2 - -0 . 0 8 5 Step Cut Length\n\uf0e3 2022 Microchip Technology In c. and its subsidiaries  DS00002117J-page 75KSZ9031RNX\n Note: For the most current package draw ings, please see the Microchip  Packaging Specification located at \nhttp://www.microchip.com/packaging\nFIGURE 13-7: 48-LEAD VQFN 7X7X1 .0MM PACKAGE (WETTABLE FLANK) WIT H 5.05 MM X \n5.05 MM EXPOSED PAD AREA R ECOMMENDED LAND PATTERN\nRECOMMENDED LAND PATTERN\nDimension LimitsUnits\nC2Optional Center Pad Width\nContact Pad SpacingOptional Center Pad LengthContact Pitch\nY2X2\n5.205.20MILLIMETERS\n0.50 BSCMIN\nEMAX\n6.90\nContact Pad Length (X48)Contact Pad Width (X48)\nY1X1\n0.900.30NOM1\n248\nC1 Contact Pad Spacing 6.90\nContact Pad to Center Pad (X48) G1 0.43\nThermal Via Diameter V\nThermal Via Pitch EV0.30\n1.00\nBSC: Basic Dimension. Theoretically exact value shown without tolerances.Notes:\nDimensioning and tolerancing per ASME Y14.5M\nFor best soldering results, thermal vias, if used, should be filled or tented to avoid solder loss during\nreflow process1.\n2.\nMicrochip Technology Drawing C04-3263 Rev FC1\nC2\nEVEVX2\nY2\nEX1Y1G1G2ØV\nSILK SCREEN\nContact Pad to Contact Pad (X44) G2 0.20\nKSZ9031RNX\nDS00002117J-page 76  \uf0e3 2022 Microchip Technology Inc. and its subsidiariesAPPENDIX A: DATA SHEET REVISION HISTORY\nTABLE A-1: REVISION HISTORY\nRevision Section/Figure/Entry Correction\nDS00002117J (04-26-22) Table 3-5, "Delay for 5-Bit Pad \nSkew Setting"Updated to remove the wo rd “Absolute” from table \ntitle, as the values are a ctually relative to the \ndefault. \nTable 3-6, "Delay for 4-Bit Pad \nSkew Setting"Removed “Absolute” from additional table title and \ncall out.\nDS00002117H (08-31-21) Product Identification System Bond Wire corrected: A: Gold, \nB or C: Gold or Copper\nDS00002117G (07-23-21) Section 13.0 “Package Out-\nlines”Updated package outline drawings Figure 13-2  up \nto Figure 13-7 .\nProduct Identification System \non page 79Corrections: 5.1 mm x 5. 1 mm ePad -> 5.05 mm x \n5.05 mm ePad.\nDS00002117F (06-02-17) Table 2-1, "Signals - \nKSZ9031RNX"Added the following note to pin description for pin \n43:Note: This pin should never  be driven externally.\nDS00002117E (05-26-17) Product Identification System - Added “wettable flank lead frame” after VQFN for \nautomotive grade ordering examples e through l.\n- Modified “automotive tem perature” to automotive \ngrade 3 temperature” f or ordering example e.\n- Modified “automotive extended temperature” to \n“automotive gra de 2 temperature”  for ordering \nexample f.- In note 1, replaced “m odule #8” with “module \n#11”.\nSection 13.0 “Package Out-\nlines”Updated figure titles in Figure 13-6  and Figure 13-\n7\nFeatures on page 1 Updated ordering of bulle ted list. Corrections to \npart numbers in AEC-Q1 00 Grade 3 and  Grade 2 \npart numbering.\nTarget Applications on page 1 Added Industrial Control. Removed Media Con-\nverter.\nSection 1.1, "General Descrip-\ntion," on page 4Modified description to refer to KSZ9031RNXUA/\nUB and KSZ9031RNXVA/VB as the automotive \npart names.\nSection 5.2, "Operating Rat-\nings**," on page 52Modified ratings to refer to KSZ9031RNXUA/UB \nand KSZ9031RNXVA/VB as  the automot ive part \nnames.\n\uf0e3 2022 Microchip Technology In c. and its subsidiaries  DS00002117J-page 77KSZ9031RNX\nFIGURE 13-6: 48-Lead Very \nThin Plastic Quad Flat No Lead Package (PUA) - \n7x7x1.0mm Body (VQFN) with \n5.05x5.05 mm Exposed Pad \nand Stepped wettable flanks \nSheet 2 on page 74  and FIG-\nURE 13-7: 48-Lead VQFN \n7x7x1.0mm Package (wetta-\nble flank) with 5.05 mm x 5.05 mm Exposed Pad Area Rec-\nommended Land Pattern on \npage 75New package drawings to that change WQFN to \nVQFN.\nProduct Identification System \non page 79Corrections to PIS or dering code matrix.\nDS00002117D (01-05-17) All Sales l isting and cover pages updated.  Minor text \nchanges throughout.\nFeatures on page 1 Updated info for AEC-Q100 Qualified for Automo-\ntive Applications.\nTarget Applications on page 1 Added Automotive In-Vehicle Networking.\nSection 5.2, "Operating Rat-\nings**," on page 52Updated maximum operatin g voltage for (DVDDL, \nAVDDL, AVDDL_PLL).\nDS00002117C (07-26-16) All Removed  Energy Efficient Ethernet func tionality. \nDS00002117B (05-24-16) 10.0 Reference Clock - \nConnection and SelectionSpecified jitter for 25 MHz reference crystal/clock.\nDS00002117A (03-14-16) Converted M icrel data shee t KSZ9031RNX to  \nMicrochip DS00002117A. Minor text changes \nthroughout.\nWake-On-LAN – Customized \nPacket, Expected CRC 1 and \nCRC 2 Registers.The “lower” and “upper” denotations for the two \nbytes of expected CRC ar e swapped in the previ-\nous revision.\nProduct Identification \nSystemSpecified exposed pad size area for packages.\nPackage Information Co rrected information fo r copper wire part n um-\nbers (KSZ9031RNXCC, KSZ9031RNXIC) to 48-pin (7 mm x 7 mm) QFN with (5.1 mm x 5.1 mm) \nexposed pad area. This is a data sheet correction. \nThere is no change to t he copper wire package.TABLE A-1: REVISION HISTORY (CONTINUED)\nRevision Section/Figure/Entry Correction\nKSZ9031RNX\nDS00002117J-page 78  \uf0e3 2022 Microchip Technology Inc. and its subsidiariesTHE MICROCHIP WEB SITE\nMicrochip provides online support via our WWW site at www.microchip.com . This web site is used as a means to make\nfiles and information easily available to customers. Accessible  by using your favorite Internet browser, the web site\ncontains the following information:\n•Product Support  – Data sheets and erra ta, application notes  and sample program s, design resources, user’s \nguides and hardware support docu ments, latest software releases  and archived software\n•General Technical Support  – Frequently Asked Questions ( FAQ), technical support requests , online discussion \ngroups, Microchip consultant program member listing\n•Business of Microchip  – Product selector and ordering guides, latest Microchip press  releases, listing of \nseminars and events, l istings of Microchip sales offices, distr ibutors and factory representatives\nCUSTOMER CHANGE NOTIFICATION SERVICE\nMicrochip’s customer notificatio n service helps keep customers current on Microchip products. Subscribers will receive\ne-mail notification whenever there are changes, updates, revisi ons or errata related to a specified product family or\ndevelopment tool of interest.\nTo register, access the Microchip web site at www.microchip.com . Under “Support”, click on “Customer Change Notifi-\ncation” and follow the r egistration instructions.\nCUSTOMER SUPPORT\nUsers of Microchip products can receive assistance through seve ral channels:\n• Distributor or Representative\n• Local Sales Office• Field Application Engineer (FAE)\n• Technical Support\nCustomers should contact their di stributor, representative or F ield Application Engineer (FAE) for support. Local sales\noffices are also available to help customers. A listing of sale s offices and locations is i ncluded in the back of this\ndocument.\nTechnical support is availabl e through the web site at: http://microchip.com/support\n\uf0e3 2022 Microchip Technology In c. and its subsidiaries  DS00002117J-page 79KSZ9031RNX\nPRODUCT IDENTIFICATION SYSTEM\nTo order or obtain information, e.g., on pricing or delivery, r efer to the factory or the listed sales office .\n   \nDevice: KSZ9031\nInterface: R =  RGMII\nPackage: NX =  48-pin QFN or VQFN\nTemperature: C=  0 \uf0b0C to +70 \uf0b0C (Commercial)\nI=  - 4 0 \uf0b0C to +85 \uf0b0C (Industrial)\nU=  - 4 0 \uf0b0C to +85 \uf0b0C (Automotive Grade 3)\nV=  - 4 0 \uf0b0C to +105 \uf0b0C (Automotive Grade 2)\nBond Wire: A =  Gold\nB or C =   Gold or Copper\nMedia Type: Blank = Standard packaging (tray)\nTR = Tape and Reel(1) \nAutomotive \nOption:VAO = Automotive Option(1) Examples:\na) KSZ9031RNXCA\nRGMII Interface48-pin QFN non-wettable flank lead frame \n(Pb-Free, 3.5 mm x 3.5 mm ePad)\nCommercial TemperatureGold Wire Bonding\nb) KSZ9031RNXCC\nRGMII Interface48-pin VQFN non-wettable flank lead frame\n(Pb-Free, 5.05 mm x 5.05 mm ePad)\nCommercial TemperatureCopper Wire Bonding\nc) KSZ9031RNXIA\nRGMII Interface\n48-pin QFN non-wettable flank lead frame(Pb-Free, 3.5 mm x 3.5 mm ePad)\nIndustrial Temperature\nGold Wire Bonding\nd) KSZ9031RNXIC\nRGMII Interface\n48-pin VQFN non-wettable flank lead frame(Pb-Free, 5.05 mm x 5.05 mm ePad)\nIndustrial Temperature\nCopper Wire Bonding\ne) KSZ9031RNXUA\nRGMII Interface\n48-pin VQFN wettable flank lead frame(Pb-Free, 5.05 mm x 5.05 mm ePad)\nAutomotive Grade 3 Temperature\nGold Wire Bonding\nf) KSZ9031RNXVA\nRGMII Interface\n48-pin VQFN wettable flank lead frame(Pb-Free, 5.05 mm x 5.05 mm ePad)\nAutomotive Grade 2 Temperature\nGold Wire Bonding\ng) KSZ9031RNXUA-TR\nRGMII Interface\n48-pin VQFN wettable flank lead frameAutomotive Grade 3 Temperature\nGold Wire Bonding\nTape and Reel packaging\nh) KSZ9031RNXUB-TRVAO\nRGMII Interface\n48-pin VQFN wettable flank lead frameAutomotive Grade 3 Temperature\nGold Wire Bonding\nTape and Reel packagingAutomotive Option\ni) KSZ9031RNXUB-VAO\nRGMII Interface48-pin VQFN wettable flank lead frame\nAutomotive Grade 3 Temperature\nGold Wire BondingAutomotive Option\nj) KSZ9031RNXVA-TR\nRGMII Interface48-pin VQFN wettable flank lead frame\nAutomotive Grade 2 Temperature\nGold Wire BondingTape and Reel packaging\nk) KSZ9031RNXVB-TRVAO\nRGMII Interface48-pin VQFN wettable flank lead frame\nAutomotive Grade 2 Temperature\nGold Wire BondingTape and Reel\nAutomotive Option\nl) KSZ9031RNXVB-VAO\nRGMII Interface\n48-pin VQFN wettable flank lead frame\nAutomotive Grade 2 TemperatureGold Wire Bonding\nAutomotive OptionPART NO. X XX\nPackage Interface DeviceX\nTemp.X XX\nMedia\n TypeXXX\nAutomotive\n    Option\nNote 1: KSZ9031RNXUB and KSZ9031RNXVB corrects an erratum in the respec tive \nKSZ9031RNXUA and KSZ9031RNXVA (see Module #11 in the \nKSZ9031RNX errata document). KSZ9031RNXUB and KSZ9031RNXVB is \nrecommended for all new designs and is a 100% functional and pi n equivalent \nreplacement for KSZ9031RNXUA and KSZ9031RNXVA, respectively.WireBond-\nKSZ9031RNX\nDS00002117J-page 80  \uf0e3 2022 Microchip Technology Inc. and its subsidiariesThis publication and the information herein may be used only wi th Microchip products, including to design, test, and integrate  Microchip products\nwith your application. Use of this information in any other man ner violates these terms. Information regarding device applicat ions is provided only\nfor your convenience and may be superseded by updates. It is yo ur responsibility to ensure that your application meets with yo ur specifications.\nContact your local Microchip sales office for additional suppor t or, obtain additional support at https://www.microchip.com/en-us/support/design-\nhelp/client-support-services .\nTHIS INFORMATION IS PROVIDED BY MICROCHIP "AS IS". MICROCHIP MA KES NO REPRESENTATIONS OR WAR- RANTIES OF ANY\nKIND WHETHER EXPRESS OR IMPLIED, WRITTEN OR ORAL, STATUTORY OR OTHERWISE, RELATED TO THE INFORMATION INCLUD-\nING BUT NOT LIMITED TO ANY IMPLIED WARRANTIES OF NON- INFRINGEM ENT, MERCHANTABILITY, AND FITNESS FOR A PARTICULAR\nPURPOSE, OR WARRANTIES RELATED TO  ITS CONDITION, QUALITY, OR PE RFORMANCE.\nIN NO EVENT WILL MICROCHIP BE LIABLE FOR ANY INDI- RECT, SPECIA L, PUNITIVE, INCIDENTAL, OR CONSEQUENTIAL LOSS, DAM-\nAGE, COST, OR EXPENSE OF ANY KIND WHATSOEVER RELATED TO THE INF ORMATION OR ITS USE, HOWEVER CAUSED, EVEN IF\nMICROCHIP HAS BEEN ADVISED OF THE POSSIBILITY OR THE DAMAGES AR E FORESEEABLE. TO THE FULLEST EXTENT ALLOWED\nBY LAW, MICROCHIP\'S TOTAL LIABILITY ON ALL CLAIMS IN ANY WAY RE LATED TO THE INFORMATION OR ITS USE WILL NOT EXCEED\nTHE AMOUNT OF FEES, IF ANY, THAT YOU HAVE PAID DIRECTLY TO MICR OCHIP FOR THE INFORMATION. \nUse of Microchip devices in life support and/or safety applicat ions is entirely at the buyer\'s risk, and the buyer agrees to d efend, indemnify and hold\nharmless Microchip from any and all damages, claims, suits, or expenses resulting from such use. No licenses are conveyed, imp licitly or otherwise,\nunder any Microchip intellectual property rights unless otherwi se stated.\nTrademarks\nThe Microchip name and logo, the Microchip logo, Adaptec, AnyRa te, AVR, AVR logo, AVR Freaks, BesTime, BitCloud, CryptoMemory,  CryptoRF ,\ndsPIC, flexPWR, HELDO, IGLOO, JukeBlox, KeeLoq, Kleer, LANCheck , LinkMD, maXStylus, maXTouch, MediaLB, megaAVR, Microsemi,\nMicrosemi logo, MOST, MOST logo, MPLAB, OptoLyzer, PIC, picoPow er, PICSTART, PIC32 logo, PolarFire, Prochip Designer, QTouch, SAM-BA,\nSenGenuity, SpyNIC, SST, SST Logo, SuperFlash, Symmetricom, Syn cServer, Tachyon, TimeSource, ti nyAVR, UNI/O, Vectron, and XMEG A are\nregistered trademarks of Microchi p Technology Incorporated in t he U.S.A. and other countries.\nAgileSwitch, APT, ClockWorks, The Embedded Control Solutions Co mpany, EtherSynch, Flashtec, Hyper Speed Control, HyperLight Lo ad,\nIntelliMOS, Libero, motorBench, mTouch, Powermite 3, Precision Edge, ProASIC, ProASIC Plus, ProASIC Plus logo, Quiet- Wire, Sm artFusion,\nSyncWorld, Temux, TimeCesium, Ti meHub, TimePictra, TimeProvider , TrueTime, WinPath, and ZL are registered trademarks of Microc hip\nTechnology Incorporated in the U.S.A.\nAdjacent Key Suppression, AKS, Analog-for-the-Digital Age, Any Capacitor, AnyIn, AnyOut, Augmented Switching, BlueSky, BodyCom , CodeGuard,\nCryptoAuthentication, CryptoAut omotive, CryptoCompanion, Crypto Controller, dsPICDEM, dsPICDEM.net, Dynamic Average Matching, D AM,\nECAN, Espresso T1S, EtherGREEN, GridTime, IdealBridge, In-Circu it Serial Programming, ICSP, INICnet, Intelligent Paralleling, Inter-Chip\nConnectivity, JitterBlocker, Knob-on-Display, maxCrypto, maxVie w, memBrain, Mindi, MiWi, MPASM, MPF, MPLAB Certified logo, MPL IB, MPLINK,\nMultiTRAK, NetDetach, NVM Express, NVMe, Omniscient Code Genera tion, PICDEM, PICDEM.net, PICkit, PICtail, PowerSmart, PureSili con,\nQMatrix, REAL ICE, Ripple Blocker, RTAX, RTG4, SAM-ICE, Serial Quad I/O, simpleMAP, SimpliPHY, S martBuffer, SmartHLS, SMART-I. S.,\nstorClad, SQI, SuperSwitcher, SuperSwitcher II, Switchtec, Sync hroPHY, Total Endurance, TSHARC, USBCheck, VariSense, VectorBlo x, VeriPHY,\nViewSpan, WiperLock, XpressConnect, and ZENA are trademarks of Microchip Technology Incorpora ted in the U.S.A.  and other count ries.\nSQTP is a service mark of Micr ochip Technology Incorporated in the U.S.A.\nThe Adaptec logo, Frequency on Demand, Silicon Storage Technolo gy, Symmcom, and Trusted Time are registered trademarks of Micr ochip\nTechnology Inc. in other countries.\nGestIC is a registered trademark of Microchip Technology German y II GmbH & Co. KG, a subsidiary of Microchip Technology Inc., in other countries.\nAll other trademarks mentioned her ein are property of their res pective companies.\n© 2022, Microchip Technology Incor porated and its subsidiaries.\nAll Rights Reserved.\nISBN: 9781668303313\nFor information regarding Microchip’s Quality Management Systems, please visit www.microchip.com/quality .Note the following det ails of the code protection feature on Mi crochip products:\n• Microchip products meet the specifications contained in their particular Microchip Data Sheet.\n• Microchip believes that its family of products is secure when used in the intended manner, within operating specifications, a nd under \nnormal conditions.\n• Microchip values and aggressively protects its intellectual pr operty rights. Attempts to breach the code protection features of Microchip \nproduct is strictly prohibited and may violate the Digital Mill ennium Copyright Act.\n• Neither Microchip nor any other semiconductor manufacturer can  guarantee the security of its code. Code protection does not m ean that \nwe are guaranteeing the product is “unbreakable”. Code protecti on is constantly evolving. Microchip is committed to continuous ly \nimproving the code protection features of our products.\n\uf0e3 2022 Microchip Technology In c. ands its subsidiaries  DS00002117J-page 81\nAMERICAS\nCorporate Office\n2355 West Chandler Blvd.\nChandler, AZ 85224-6199Tel: 480-792-7200 \nFax: 480-792-7277\nTechnical Support: http://www.microchip.com/\nsupport\nWeb Address: www.microchip.com\nAtlanta\nDuluth, GA \nTel: 678-957-9614 Fax: 678-957-1455\nAustin, TX\nTel: 512-257-3370 \nBoston\nWestborough, MA \nTel: 774-760-0087 \nFax: 774-760-0088\nChicago\nItasca, IL \nTel: 630-285-0071 \nFax: 630-285-0075\nDallas\nAddison, TX \nTel: 972-818-7423 \nFax: 972-818-2924\nDetroit\nNovi, MI \nTel: 248-848-4000\nHouston, TX \nTel: 281-894-5983\nIndianapolis\nNoblesville, IN \nTel: 317-773-8323\nFax: 317-773-5453\nTel: 317-536-2380\nLos Angeles\nMission Viejo, CA \nTel: 949-462-9523\nFax: 949-462-9608\nTel: 951-273-7800 \nRaleigh, NC \nTel: 919-844-7510\nNew York, NY \nTel: 631-435-6000\nSan Jose, CA \nTel: 408-735-9110\nTel: 408-436-4270\nCanada - Toronto\nTel: 905-695-1980 \nFax: 905-695-2078ASIA/PACIFIC\nAustralia - Sydney\nTel: 61-2-9868-6733\nChina - Beijing\nTel: 86-10-8569-7000 \nChina - Chengdu\nTel: 86-28-8665-5511\nChina - Chongqing\nTel: 86-23-8980-9588\nChina - Dongguan\nTel: 86-769-8702-9880 \nChina - Guangzhou\nTel: 86-20-8755-8029 \nChina - Hangzhou\nTel: 86-571-8792-8115 \nChina - Hong Kong SAR\nTel: 852-2943-5100 \nChina - Nanjing\nTel: 86-25-8473-2460\nChina - Qingdao\nTel: 86-532-8502-7355\nChina - Shanghai\nTel: 86-21-3326-8000 \nChina - Shenyang\nTel: 86-24-2334-2829\nChina - Shenzhen\nTel: 86-755-8864-2200 \nChina - Suzhou\nTel: 86-186-6233-1526 \nChina - Wuhan\nTel: 86-27-5980-5300\nChina - Xian\nTel: 86-29-8833-7252\nChina - Xiamen\nTel: 86-592-2388138 \nChina - Zhuhai\nTel: 86-756-3210040 ASIA/PACIFIC\nIndia - BangaloreTel: 91-80-3090-4444 \nIndia - New Delhi\nTel: 91-11-4160-8631\nIndia - Pune\nTel: 91-20-4121-0141\nJapan - Osaka\nTel: 81-6-6152-7160 \nJapan - Tokyo\nTel: 81-3-6880- 3770 \nKorea - Daegu\nTel: 82-53-744-4301\nKorea - Seoul\nTel: 82-2-554-7200\nMalaysia - Kuala Lumpur\nTel: 60-3-7651-7906\nMalaysia - Penang\nTel: 60-4-227-8870\nPhilippines - Manila\nTel: 63-2-634-9065\nSingapore\nTel: 65-6334-8870\nTaiwan - Hsin Chu\nTel: 886-3-577-8366\nTaiwan - Kaohsiung\nTel: 886-7-213-7830\nTaiwan - Taipei\nTel: 886-2-2508-8600 \nThailand - Bangkok\nTel: 66-2-694-1351\nVietnam - Ho Chi Minh\nTel: 84-28-5448-2100EUROPE\nAustria - WelsTel: 43-7242-2244-39\nFax: 43-7242-2244-393\nDenmark - Copenhagen\nTel: 45-4485-5910 \nFax: 45-4485-2829\nFinland - Espoo\nTel: 358-9-4520-820\nFrance - Paris\nTel: 33-1-69-53-63-20 \nFax: 33-1-69-30-90-79 \nGermany - Garching\nTel: 49-8931-9700\nGermany - Haan\nTel: 49-2129-3766400\nGermany - Heilbronn\nTel: 49-7131-72400\nGermany - Karlsruhe\nTel: 49-721-625370\nGermany - Munich\nTel: 49-89-627-144-0 \nFax: 49-89-627-144-44\nGermany - Rosenheim\nTel: 49-8031-354-560\nIsrael - Ra’anana \nTel: 972-9-744-7705\nItaly - Milan \nTel: 39-0331-742611 \nFax: 39-0331-466781\nItaly - Padova\nTel: 39-049-7625286 \nNetherlands - Drunen\nTel: 31-416-690399 \nFax: 31-416-690340\nNorway - Trondheim\nTel: 47-7288-4388\nPoland - Warsaw\nTel: 48-22-3325737 \nRomania - Bucharest\nTel: 40-21-407-87-50\nSpain - Madrid\nTel: 34-91-708-08-90\nFax: 34-91-708-08-91\nSweden - Gothenberg\nTel: 46-31-704-60-40\nSweden - Stockholm\nTel: 46-8-5090-4654\nUK - Wokingham\nTel: 44-118-921-5800\nFax: 44-118-921-5820Worldwide Sales and Service\n09/14/21\nMouser Electronics\n  \nAuthorized Distributor\n \n  \nClick to View Pricing, Inventory, Delivery & Lifecycle Information:\n \n \n \n Microchip:   \n\xa0 KSZ9031RNXCA\xa0 KSZ9031RNXCA TR\xa0 KSZ9031RNXIA\xa0 KSZ9031RNXIA TR\xa0 KSZ9031RNXCC\xa0 KSZ9031RNXVA\xa0\nKSZ9031RNXIC TR\xa0 KSZ9031RNXIA-TR\xa0 KSZ9031RNXCA-TR\xa0 KSZ9031RNXIC-TR\xa0 KSZ9031RNXIC\xa0\nKSZ9031RNXCC-TR\xa0 KSZ9031RNXUA-TR\xa0 KSZ9031RNXUA\xa0 KSZ9031RNXUB-VAO\xa0 KSZ9031RNXVB-VAO\xa0\nKSZ9031RNXVB-TRVAO\n'}]
!==============================================================================!
### Component Summary: KSZ9031RNX

**Manufacturer:** Microchip Technology  
**Product Code:** KSZ9031RNX  
**Description:** The KSZ9031RNX is a single-chip Ethernet transceiver that supports 10/100/1000 Mbps Ethernet communication, compliant with IEEE 802.3 standards. It is designed for use in various applications requiring reliable Ethernet connectivity.

#### Key Specifications:
- **Voltage Ratings:**
  - Core Voltage (DVDDL, AVDDL, AVDDL_PLL): 1.2V
  - Transceiver Voltage (AVDDH): 3.3V or 2.5V (for commercial temperature range)
  - Digital I/O Voltage (DVDDH): 3.3V, 2.5V, or 1.8V

- **Current Ratings:**
  - Typical current consumption at 1000BASE-T link-up (no traffic): 210 mA (core), 67.4 mA (transceiver), 19.5 mA (digital I/O)
  - Full-duplex at 100% utilization: 221 mA (core), 66.3 mA (transceiver), 41.5 mA (digital I/O)

- **Power Consumption:**
  - Total power consumption at 1000BASE-T link-up (no traffic): 538 mW
  - Power consumption in software power-down mode: 1.0 mA (core), 4.2 mA (transceiver), 9.3 mA (digital I/O)

- **Operating Temperature Range:**
  - Commercial: 0°C to +70°C
  - Industrial: -40°C to +85°C
  - Automotive Grade 3: -40°C to +85°C
  - Automotive Grade 2: -40°C to +105°C

- **Package Type:**
  - 48-pin QFN (7 mm x 7 mm) or VQFN with exposed pad

- **Special Features:**
  - Supports RGMII interface with programmable timing adjustments
  - Auto-negotiation for link speed and duplex mode
  - On-chip termination resistors and LDO controller for simplified design
  - Wake-On-LAN (WOL) support
  - LinkMD TDR-based cable diagnostics
  - Energy Detect Power-Down mode for reduced power consumption when not in use
  - Loopback modes for diagnostics
  - AEC-Q100 qualified for automotive applications

- **Moisture Sensitive Level (MSL):** Not specified in the provided data.

#### Description:
The KSZ9031RNX is an integrated Ethernet physical layer transceiver that facilitates data transmission and reception over standard CAT-5 unshielded twisted pair (UTP) cables. It is designed to connect directly to RGMII MACs in Gigabit Ethernet processors and switches, enabling high-speed data transfer at 10, 100, or 1000 Mbps. The device incorporates various features to enhance performance, including on-chip termination resistors, an LDO controller for core voltage generation, and advanced diagnostic capabilities.

#### Typical Applications:
- **Networking Equipment:** Used in devices such as network printers, network-attached storage (NAS), and routers.
- **Consumer Electronics:** Suitable for applications in IPTV, game consoles, and set-top boxes.
- **Industrial Control:** Can be utilized in industrial automation systems requiring reliable Ethernet connectivity.
- **Automotive Networking:** Designed for in-vehicle networking applications, meeting automotive standards.

This summary provides a comprehensive overview of the KSZ9031RNX, highlighting its key specifications, features, and typical applications in various fields.