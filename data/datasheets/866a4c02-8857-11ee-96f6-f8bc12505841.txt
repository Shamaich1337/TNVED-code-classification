[{'role': 'system', 'content': 'You are a technical specialist with expertise in electronics. Your task is to analyze datasheets for electronic components and provide a concise summary of the product’s key characteristics and specifications. In addition, you need to gather textual information about the component, including its description and typical applications.Instructions:    Identify the correct component in the datasheet using the provided product code.    Summarize key parameters, including:        Voltage ratings        Current ratings        Power consumption        Operating temperature range        Package type        Special features or notes (if applicable)        Moisture Sensetive Level JEDEC J-STD-020E    Provide a short description of the component, including what it is (e.g., transistor, microcontroller, sensor) and its primary function.    Explain typical applications for the component (e.g., power management, signal processing, data storage, etc.).    Be thorough and accurate: Ensure the information corresponds specifically to the product code, as some datasheets cover multiple variants.Your goal is to create a clear and accurate technical summary that includes both key specifications and a description of what the component is used for.'}, {'role': 'user', 'content': 'Give me information about the component of APM32F103RET6 production of GEEHY from the text: \n \n \n \nDatasheet  \n \n \n \nAPM32F103xDxE  \nArm® Cortex®-M3 based 32 -bit MCU  \n \nVersion: V 1.8  \n \n \nwww.gee hy.com   Page 1 1   Features  \n\uf06e System Architecture  \n- 32-bit Arm® Cortex®-M3 core  \n- 96MHz Maximum Frequency  \n\uf06e Clock and memory  \n- HSECLK : supports 4~ 16MHz external \ncrystal oscillator  \n- LSECLK : supports 32.768KHz RTC \noscillator  \n- HSICLK : factory calibrated 8 MHz RC \noscill ator \n- LSICLK : 40 KHz RC oscillator  \n- Flash up to 512 KB  \n- SRAM up to 128 KB  \n- EMMC: Supports CF card, SRAM, \nPSRAM, SDRAM, NOR and NAND \nmemory  \n- Parallel LCD interface, compatible with \n8080/6800 mode  \n\uf06e Power supply and low power  \n- Reset power supply voltage 2.0V~3.6V  \n- Support PVD  \n- Support sleep, stop and standby modes  \n- VBAT power supply can support RTC and \nstandby register work  \n\uf06e FPU \n- Independent FPU module supports \nfloating point operations  \n\uf06e ADC  \n- 3x 12 -bit accuracy ADCs, up to 21 input \nchannels  \n-  ADC voltage conversion range: 0~V DDA \n- Support dual sampling and hold  \n\uf06e 12-bit DAC  \n\uf06e I/Os \n- 112/80/51 I/Os, depend on package type  \n- All mappable on 16 external interrupt \nvectors  \n\uf06e 12-channel DMA controller  - 2 DMAs, up to 7 independent configurable \nchannels  \n\uf06e Timer  \n- 2x16-bit advanced timers TMR1/8 with \nsupport for dead -zone control and \nemergency braking  \n- 4x16 -bit universal timer TMR2/3/4/5, each \ntimer has 4 independent channels to \nsupport input capture, output comparison, \nPWM and pulse counting functions  \n- 2x 16 -bit basic Timers TMR6/7  \n- 2 watchdog Timers (Independent and \nWindow)  \n- 1 SysTick Timer: a 24 -bit downcounter  \n\uf06e Communication Interfaces  \n- 3xUSART, 2xUART, support ISO 7816,LIN \nand IrDA  \n- 2 x I2C support SMBus/PMBus  \n- 3 x SPI (2 reusable non -I2s), maximum \ntransmission speed is 1 8Mbps  \n- 1x USB D \n- 1xCAN 2.0B  support USBD  and CAN \nwork independently at the same time  \n- 1xSDIO  \n\uf06e CRC Unit  \n\uf06e support 96 - bit not rewrite the \nonly ID  \n\uf06e SWD and JTAG debug interface  \n\uf06e Package  \n- LQFP64/100 /144 \n\uf06e Application  \n- Medical equipment, PC peripherals, \nindustrial control, intelligent instruments \nand  household appliances\n \nwww.gee hy.com   Page 2 Content s \n1 Features\n  \n2 Overview\n  \n3 Features Descrip tion\n  \n3.1 Arm® Cortex®-M3 Core with Embedded Flash and SRAM  ................................ .........................  8 \n3.2 Memory  ................................ ................................ ................................ ................................ ..............  8 \n Configurable  External Memory Controller  ................................ ................................ .............. 9 \n3.3 Power Management  ................................ ................................ ................................ .........................  9 \n Power Supply Schemes  ................................ ................................ ................................ ......... 9 \n Voltage Regulator  ................................ ................................ ................................ ................... 9 \n Power Supply Supervisor  ................................ ................................ ................................ .... 10 \n Low Power Mode  ................................ ................................ ................................ .................  10 \n3.4 Clocks and Startup  ................................ ................................ ................................ .........................  11 \n3.5 RTC and Backup Registers  ................................ ................................ ................................ ...........  11 \n3.6 Boot Modes  ................................ ................................ ................................ ................................ ...... 12 \n3.7 CRC Calculation Unit  ................................ ................................ ................................ .....................  12 \n3.8 General Purpose IO Port  ................................ ................................ ................................ ...............  12 \n3.9 Interrupt Controller  ................................ ................................ ................................ ..........................  12 \n Nested Vectored Interrupt Controller (NVIC)  ................................ ................................ ...... 12 \n External Interrupt/Event Controller (EINT)  ................................ ................................ ..........  13 \n3.10  FPU   ................................ ................................ ................................ ................................ ..................  13 \n3.11  DMA  ................................ ................................ ................................ ................................ ..................  13 \n3.12  Timer  ................................ ................................ ................................ ................................ .................  13 \n3.13  Watchdog  ................................ ................................ ................................ ................................ .........  14 \n3.14  Peripheral Interface  ................................ ................................ ................................ ........................  15 \n I2C Bus  ................................ ................................ ................................ ................................  15 \n I2S Bus  ................................ ................................ ................................ ................................ . 15 \n USART  ................................ ................................ ................................ ................................  16 \n SPI ................................ ................................ ................................ ................................ ....... 16 \n Controller Area Network (CAN)  ................................ ................................ ...........................  16 \n USBD  ................................ ................................ ................................ ................................ .. 16 \n Simultaneous Use of USBD and CAN Interface  ................................ ................................ . 16 \n LCD Parallel Interface(LCD)  ................................ ................................ ...............................  17 \n SDIO  ................................ ................................ ................................ ................................ .... 17 \n GPIO ................................ ................................ ................................ ................................ .... 17 \n3.15  Converters  ................................ ................................ ................................ ................................ .......  18 \n ADC  ................................ ................................ ................................ ................................ ..... 18 \n Digital/Analog Converter(DAC)  ................................ ................................ ...........................  18 \n3.16  Debug Interface (SWJ -DP)  ................................ ................................ ................................ ............  18 \n3.17  Embedded Trace Macrocell (ETM)  ................................ ................................ ..............................  19 \n4 Pin Features\n  \n4.1 Pinouts and Pin Descriptions  ................................ ................................ ................................ ........  20 \n APM32F103xDxE Performance line LQFP144  ................................ ................................ ... 20 \n \nwww.gee hy.com   Page 3 \n APM32F103xDxE Performance line LQFP100  ................................ ................................ ... 21 \n APM32F103xDxE Performance line LQFP64  ................................ ................................ ..... 22 \n4.2 Pin Description  ................................ ................................ ................................ ................................  23 \n5 System Diagram\n  \n6 Clock Tree\n  \n7 Address Mapping\n  \n8 Electrical Characteristics\n  \n8.1 Parameter Conditions  ................................ ................................ ................................ ....................  35 \n Maximum and Minimum Values  ................................ ................................ ..........................  35 \n Typical Value  ................................ ................................ ................................ .......................  35 \n Typical Curve  ................................ ................................ ................................ ......................  35 \n Loading Capacitor  ................................ ................................ ................................ ...............  35 \n Power supply scheme  ................................ ................................ ................................ .........  37 \n8.2 Absolute Maximum Ratings ................................ ................................ ................................ ...........  37 \n Maximum Rated Voltage Characteristics  ................................ ................................ ............  38 \n Maximum Rated Current Characteristics  ................................ ................................ ............  38 \n Maximum Temperature Characteristics  ................................ ................................ ..............  39 \n8.3 Testing Under General Operating Conditions  ................................ ................................ .............  39 \n Embedded Reset and Power Control Block Characteristics (1) ................................ ...........  40 \n Embedded Reference Voltage Characteristics Test  ................................ ...........................  41 \n Supply Current Characteristics  ................................ ................................ ...........................  41 \n External Clock Source Characteristics  ................................ ................................ ................  48 \n Internal Clock Source Characteristics  ................................ ................................ .................  49 \n PLL Characteristics  ................................ ................................ ................................ .............  50 \n Memory Characteristics ................................ ................................ ................................ ....... 51 \n EMC Characteristics  ................................ ................................ ................................ ............  51 \n Absolute maximum ratings (electrical sensitivity)  ................................ ...............................  53 \n I/O Port Characteristics  ................................ ................................ ................................ ....... 54 \n NRST Pins Characteristics  ................................ ................................ ................................ .. 56 \n Communication Interface  ................................ ................................ ................................ .... 57 \n 12-bit ADC Characteristics  ................................ ................................ ................................ .. 61 \n DAC electrical specifications  ................................ ................................ ...............................  63 \n9 Packaging Information\n  \n9.1 LQFP144 Package Diagram  ................................ ................................ ................................ .........  65 \n9.2 LQFP100 Package Diagram  ................................ ................................ ................................ .........  68 \n9.3 LQFP64 Package Diagram  ................................ ................................ ................................ ...........  70 \n10 Ordering Information\n  \n11 Package Information\n  \n12 Com monly Used Function Module Denomination\n  \n13 Version History\n  \n \nwww.gee hy.com   Page 4 List of Table \nTable 1  APM32F103xDxE Product Features and Peripheral Configurations  ................................ .... 8 \nTable 2  Description of Memory  ................................ ................................ ................................ ...........  9 \nTable 3  Power Supply Schemes  ................................ ................................ ................................ ........  9 \nTable 4  Operation Modes of Voltage Regulator  ................................ ................................ ...............  10 \nTable 5  Low Power Mode  ................................ ................................ ................................ .................  10 \nTable 6  Timer Feature Comparison  ................................ ................................ ................................ .. 14 \nTable 7  Watchdog  ................................ ................................ ................................ .............................  15 \nTable 8  APM32F103xDxE Pin Definitions  ................................ ................................ ........................  23 \nTable 9  Maximum rated voltage characteristics  ................................ ................................ ...............  38 \nTable 10  Maximum rated current characteristics  ................................ ................................ .............  38 \nTable 11  Temperature characteristics  ................................ ................................ ...............................  39 \nTable 12  General Operating Conditions  ................................ ................................ ...........................  39 \nTable 13  Embedded Reset and Power Control Block Characteristics ( -40°C < T A < +105°C)  ....... 40 \nTable 14  Embedded Reference Voltage  ................................ ................................ ..........................  41 \nTable 15  Maximum current consumption in Run mode, data process code run from Flash  ...........  42 \nTable 16  Maximum current consumption in Run mode,  data process code run from RAM  .........  43 \nTable 17  Maximum current consumption in Sleep mode,  data process code run  ........................  44 \nTable 18  Maximum Current Consumption in Stop Mode and Standby Mode  ................................ . 45 \nTable 19  Typical current consumption in Run mode,  data process code run from Flash  .............  46 \nTable 20  Typical current consumption in Run mode, data process code run from RAM  ................  46 \nTable 21  Typical current consumption in sleep mode, code run from Flash or RAM  ......................  47 \nTable 22  Typical current Consumption in Stop Mode and Standby Mode  ................................ ....... 47 \nTable 23  HSECLK 4~16 MHz Oscillator Characteristics(1)(2) ................................ ...........................  48 \nTable 24  LSECLK oscillator characteristics (f LSECLK  = 32.768 kHz)  ................................ .................  49 \nTable 25  HSICLK Oscillator Features(1) ................................ ................................ ...........................  49 \nTable 26  LSICLK Oscillator Characteristics (1) ................................ ................................ .................  50 \nTable 27  Wake Up time in Low -power Mode ................................ ................................ ....................  50 \nTable 28  PLL Characteristics  ................................ ................................ ................................ ............  51 \nTable 29  FLASH Memory Characteristics (1) ................................ ................................ ....................  51 \nTable 30  EMS Characteristics  ................................ ................................ ................................ ..........  52 \nTable 31  EMI Characteristics  ................................ ................................ ................................ ...........  53 \nTable 32  ESD Absolute maximum ratings  ................................ ................................ ........................  53 \n \nwww.gee hy.com   Page 5 Table 33  Static latch -up(1) ................................ ................................ ................................ .................  53 \nTable 34  I/O Static Characteristics (Test conditions V DD = 2.7 -3.6V, T A = -40 ~ 105 ° C)  ...............  54 \nTable 35  Output Voltage Characteristics (test conditions V CC=2.7-3.6V, T A = -40~105°C)  .............  55 \nTable 36  I/O AC Characteristics  ................................ ................................ ................................ ....... 55 \nTable 37  NRST Pin Characteristics (Test condition V CC=3.3V, TA = -40~105°C)  ............................  56 \nTable 38  I2C Interface Characteristics (Test conditions V DD=3.3V, TA = 25°C)  ................................  57 \nTable 39  SPI Characteristics (VDD = 3.3V, TA = 25°C)  ................................ ................................ ... 58 \nTable 40  USBD Full Speed Electrical Characteristics(V DD = 3.0~3.6V ，T A = 25℃） ....................  61 \nTable 41  ADC Characteristics (V DD =2.4-3.6V, T A =-40~105°C)  ................................ ......................  61 \nTable 42  Maximum R AIN at f ADC=14MHz（1） ................................ ................................ .....................  62 \nTable 43  ADC Accuracy  ................................ ................................ ................................ ....................  62 \nTable 44  DACCharacteristics  ................................ ................................ ................................ ...........  63 \nTable 45  LQFP144 Package Data  ................................ ................................ ................................ .... 66 \nTable 46  LQFP100 Package Data  ................................ ................................ ................................ .... 69 \nTable 47  LQFP64 Package Data  ................................ ................................ ................................ ...... 71 \nTable 48  Ordering Information Table  ................................ ................................ ................................  73 \nTable 49  Strip Packaging Parameter Specification  ................................ ................................ ..........  75 \nTable 50  Pallet packing parameters specification sheet  ................................ ................................ .. 77 \nTable 51  Commonly Used Function Module Denomination  ................................ .............................  78 \nTable 52  Document Version History  ................................ ................................ ................................ . 79 \n  \n \nwww.gee hy.com   Page 6 Table of Figures  \nFigure 1  LQFP144 Pinout ................................ ................................ ................................ .................  20 \nFigure 2  LQFP100 Pinout ................................ ................................ ................................ .................  21 \nFigure 3  LQFP64 Pinout  ................................ ................................ ................................ ...................  22 \nFigure 4  APM32F103xDxE Performance Line System Diagram  ................................ .....................  32 \nFigure 5  APM32F103xDxE Performance Line Clock Tree  ................................ ..............................  33 \nFigure 6  APM32F103xDxE Performance Line Address Mapping Diagram  ................................ ..... 34 \nFigure 7  Load conditions when measuring pin parameters  ................................ .............................  35 \nFigure 8  Pin Input Voltage Measurement Scheme  ................................ ................................ ..........  36 \nFigure 9  Current Consumption Measurement Scheme  ................................ ................................ ... 36 \nFigure 10  Power supply scheme  ................................ ................................ ................................ ...... 37 \nFigure 11  I/O AC Characteristics Definition  ................................ ................................ ......................  56 \nFigure 12  IC Bus AC Waveform and Measurement Circuit (1) ................................ .........................  58 \nFigure 13  SPI Timing Diagram - Slave Mode and CPHA=0  ................................ ............................  59 \nFigure 14  SPI Timing Diagram - Slave Mode and CPHA=1(1) ................................ .........................  60 \nFigure 15  SPI Timing Diagram - Master Mode(1) ................................ ................................ ..............  60 \nFigure 16  USBD Timings: Definition of Data Signal Rise and Fall Times  ................................ ........  61 \nFigure 17  12 -bit buffered/non -buffered DAC  ................................ ................................ ....................  64 \nFigure 18  LQFP144 Package Diagram  ................................ ................................ ............................  65 \nFigure 19  LQFP144 -144 pins, 20 x 20mm recommended welding Layout  ................................ ..... 66 \nFigure 20  LQFP144 -144 pin, 20 x20 mm package identification diagram  ................................ ...... 67 \nFigure 21  LQFP100 Package Diagram  ................................ ................................ ............................  68 \nFigure 22  LQFP100 - 100 pin, 14 x 14mm recommended welding Layout  ................................ ..... 69 \nFigure 23  LQFP100 - 100 pin , 14 x 14mm package identification diagram  ................................ .... 70 \nFigure 24  LQFP64 Package Diagram  ................................ ................................ ..............................  70 \nFigure 25  LQFP64 - 64 pin, 10 x 10mm recommended welding Layout  ................................ .........  72 \nFigure 26  LQFP64 - 64 pin, 10 x 10mm identification diagram  ................................ .......................  72 \nFigure 27  Specification drawing of ribbon packaging  ................................ ................................ ...... 75 \nFigure 28  Schematic diagram of pallet packing  ................................ ................................ ...............  76 \n  \n \nwww.gee hy.com   Page 7 2   Overview  \n32-bit APM32F103xDxE  series MCU is based on the Arm® Cortex®-M3 core. The maximum \noperating frequency is 96MHz.  \nBuilt-in high -speed memory (Flash up to 512Kbytes and SRAM up to 128Kbytes ), a number of  \nenhanced I/Os ports and peripherals to connect to 2 APB buses.The chip is equipped with a  \npowerful FPU, which supports single -precision data processing instructions  and data types. All  \nmodels include 3 12 -bit ADC, 4 universal 16 -bit timers and 2 PWM timers, 2 basic timers, as  \nwell as standard and advanced communication interfaces: 2 I2C, 3 SPI, two I2S, 1 SDIO, 3 USART,  \n2 UART, 1 USBD , and 1 CAN.  \nAPM32F103xDxE  enha nced series operates temperature rang from -40℃~ +105℃, Voltage  \nrange: 2.0V ~ 3.6V. A series of power -saving modes ensure the requirements of low power  \nconsumption applications.  \nAPM32F103xDxE  enhanced serie s MCU support 3 different packages from 64 ~ 144  pins.  \nThe configuration of peripherals in the device is different according to different package  \nforms.  \n \n  \n \nwww.gee hy.com   Page 8 3 Features Description  \nPlease refer to the table below for details of APM32F103xDxE  product features and peripheral counts.  \nTable 1  APM32F103xDxE Product Features and Peripheral Configurations  \nperipheral  APM32F103Rx  APM32F103Vx  APM32F103Zx  \nRD RE VD VE ZD ZE \nFlash\n Kbytes\n  384 512 384 512 384 512 \nSRAM (Kbytes)  64 128 64 128 64 128 \nMemory Controller(EMMC)  No Yes\n Do not support \nSDRAM\n  Yes(Support SDRAM)  \nTimers  General -purpose  4 \nAdvanced  2 \nBasic  2 \nComm  SPI\n I2S\n 3\n2\n \nI2C 2 \nUSART\n UART)  3\n2\n \nUSBD  1 \nCAN  1 \nSDIO  1 \nGPIOs  51 80 112 \n12-bit ADC  \nNumber of channels\n  3 \n16 3 \n16 3 \n21 \n12-bit DAC  \nNumber of channels\n  2 \n2 \nCPU frequency  96MHz  \nFPU 1 \nOperating voltage  2.0 ~ 3.6 V  \nPackage  LQFP64  LQFP100  LQFP144  \n3.1  Arm® Cortex®-M3 Core with Embedded Flash and SRAM  \nArm® Cortex®-M3 processor is the latest generation of A rm processors for embedded systems. \nIt has been developed to provide a low -cost platform that meets the needs of MCU \nimplementation, with a reduced pin count and low -power consumption, while delivering \noutstanding computational performance and an advanced sy stem response to interrupts.  \nArm® Cortex®-M3 is 32 -bit RISC processor provides additional code efficiency and exploits the \nhigh performance of Arm core on the storage space of the usual 8 -bit and 16 -bit systems.  \nAPM32F103xDxE  enhancedseries MCUs are based  on Arm core, so it is compatible with all Arm \ntools and software.  \n3.2  Memory  \nUp to 512 Kbytes of embedded Flash is available for storing programs and data.  \n \nwww.gee hy.com   Page 9 Table 2  Description of Memory  \nMemory  The biggest byte  Function  \nEmbedded Flash  512 Kbytes  For storing programs and data  \nEmbedded Static Memory  128Kbytes  CPU can be accessed (read/write) with 0 wait \ncycle.  \n Configurable External Memory Controller  \nAPM32F103xDxE  enhanced series integrates EMMC modules, consisting of SMC, DMC  and \nsupports PC /CF card, SRAM, SDRAM, PSRAM, NOR and NAND.  \nFunction is introduced:  \n\uf06c Three EMMC interrupt source, through logic or even to the NVIC unit  \n\uf06c Write FIFO  \n\uf06c Code outside the NAND flash  memory and the PC card file operation  \n3.3  Power Management  \n Power Supply Schemes  \nTable 3  Power Supply Schemes  \nName  Voltage Range  Description  \nVDD 2.0\n 3.6V VDD supplies power directly to the IO port, and in  \naddition, the V DD supplies power to the core circuit via a \nvoltage regulator  \nVSSA/VDDA 2.0\n 3.6V Power the analog portion of the ADC, DAC, reset module, \nRC oscillator and PLL.When using ADC or DAC, VDDA \nmust not be less than 2.4V. V DDA and V SSA must be \nconnected to V DD and VSS, respectively.  \nVBAT 1.8V\n 3.6V When V DD is turned off, power is supplied to the RTC, \nexternal 32kHz oscillator, and backup registers via an \ninternal power switcher.  \nNote: Refer to details on how to connect power pins in Figure 10.  \n Voltage Regulator  \nThe voltage regulator can adjust the working mode of the MCU to reduce power consumption. \nThere are three operation modes:  \n \nwww.gee hy.com   Page 10 Table 4  Operation Modes of Voltage Regulator  \nName  Description  \nMain Mode(MR)  MR is used in nominal regulation mode  \nLow Power Mode(LPR)  LPR is used in the stop modes  \nPower Down Mode  For the standby mode of CPU, the output of the voltage \nregulator is in the high resistance state, the power supply of \nthe kernel circuit is cut off, the voltage regulator is in the \nzero consumption state, and the contents of registers and \nSRAM are all lost.  \nThis regulator is always enabled after reset. It is disabled in Standby mode, providing high impedance output.  \n Power Supply Supervisor  \nThe product is integrated with POR and PDR circuit.This circuit is always in the working state to \nensure that the system works when the power supply exceeds 2V. When the V DD is lower than \nthe set threshold V POR/PDR , the system will keep the reset state without connecting the external \nreset circuit.  \nThe product monitors the V DD/VDDA voltage through the PVD and compares the monitored voltage \nto the threshold V PVD. Interrupts occur when the V DD is below or above the set threshold V PVD. \nThe interrupt handler can issue a warning message or switch the microcontroller to safe \nmode.The PVD function needs to be enabled programmatically.  \nRefer to Chapter 5 Electrical Characteristics for details on VPOR/PDR and V PVD. \n Low Power Mode  \nThe product supports three low -power modes to achieve the best com promise between low -\npower consumption, short startup time and available wakeup sources:  \nTable 5  Low Power Mode  \nMode Types  Description  \nSleep Mode  In Sleep mode, only the CPU is stopped. All peripherals continue to \noperate and can wake up the CPU when an interrupt/event occurs.  \nStop Mode  The stop mode minimizes power consumption while maintaining no loss \nof SRAM and register contents.In  shutdown mode, the internal 1.5 V power \nsupply section stops, the PLL, HSICLK \'s RC oscillator and  HSECLK  \ncrystal oscillator are turned off, and the voltage regulator is placed in either \n \nwww.gee hy.com   Page 11 Mode Types  Description  \nnormal mode or low power mode.The microprocessor can be woken from \nshutdown mode by any signal configured to EINT.The EINT signal can be \none of 16 external I/O ports, the output of a PVD, a wake -up call from an \nRTC alarm clock or a USBD.  \nStandby Mode  The lowest power consumption can be achieved in standby mode.In \nstandby mode, the internal voltage regulator is turned off, so the power \nsupply to the internal 1.6V part i s cut off.PLL, HSICLK  RC oscillator and \nHSECLK  crystal oscillator are also shut down;After entering standby \nmode, the contents of the SRAM and registers disappear, but the contents \nof the backup registers remain, and the standby circuit is still working.  \nExiting from standby mode is when an external reset signal on the NRST, \nan IWDT reset, a rising edge on the WKUP pin, or an alarm clock on the \nRTC is available.  \nNote: The RTC, the I WDT , and the corresponding clock sources are not stopped by entering stop o r \nstandby mode.  \n3.4  Clocks and Startup  \nSystem clock selection is performed on startup, however the internal RC 8 MHz oscillator is \nselected as default CPU clock on reset. An external 4 -16 MHz clock can be selected, in which \ncase it is monitored for failure. If failure is detected, the system au tomatically switches back \nto the internal RC oscillator. A software interrupt is generated if enabled. Similarly, full \ninterrupt management of the PLL clock entry is available when necessary(for example with \nfailure of an indirectly used external oscillato r).  \nSeveral prescalers allow the configuration of the AHB frequency, the high -speed APB (APB2) \nand the low -speed APB (APB1) domains. The maximum frequency of the AHB and the high -\nspeed APB domains is 96 MHz.  \n Figure 5  Details on the clock tree.  \n3.5  RTC and B ackup Registers  \nThe RTC and the backup register are powered by a switch that selects the V DD power supply \nif the V DD is available, or the V BAT pin power supply if not.Backup registers (42 16 -bit registers) \ncan be used to hold 84bytes of user application data when V DD is turned off.The RTC and \nbackup registers are not reset by the system or power reset source, nor are they reset when \nawakened fro m standby mode.  \n \nwww.gee hy.com   Page 12 Real-time clocks have a set of continuously running counters, can provide calendar \nfunctionality through the appropriate software, and also have alarm interrupts and phased \ninterrupts.Its clock source can choose from an external 32.768 kHz crystal oscillator, \nresonator or oscillator, an internal 40 kHz low speed RC oscillator or an external high speed \nclock with a 128 frequency divider.To compensate for the deviation of the natural crystal, the \nclock of the RTC can be calibrated by output a 512Hz signal.The RTC has a 32 -bit \nprogrammable counter that is used to alarm long -term measurements using the comparison \nregister.There is a 20 -bit pre -divider for the time -based clock, which by default will produce \na 1-second long time reference from a 32 .768kHz clock.  \n3.6  Boot Modes  \nAt boot time, the bootstrap pin allows you to select one of three bootstrap modes to bootstrap \nfrom user flash memory, from system memory, or from internal SRAM.The Boot loader is \nstored in the system memory, and the flash memory can be reprogrammed using USART1.  \n3.7  CRC Calculation Unit  \nThe CRC (Cyclic Redundancy Check) calculation unit is used to get a CRC code from a 32 -\nbit data word and a fixed generator polynomial.  \nAmong other applications, CRC -based techniques are used to verify data transmission or \nstorage integrity. In the scope of the EN/IEC 60335 -1 standard, they offer a means of \nverifying the Flash memory integrity. The CRC calculation unit helps compute a signature of \ntime and stored at a given memory location.  \n3.8  General Purpo se IO Port  \n51/80/112 I/Os are available for the product, and the specific selection can refer to the model \nand package. All I/O can be mapped to 16 external interrupt controllers, and most of I/O \nsupport 5V logic level input.  \n3.9  Interrupt Controller  \n Nested Ve ctored Interrupt Controller (NVIC)  \nAPM32F103xDxE  embeds a nested vectored interrupt controller able to handle up to 6 5 \nmaskable interrupt channels(not including the 16 interrupt lines of Cortex -M3) and 16 priority \nlevels.  \n\uf06c Closely coupled NVIC gives low lat ency interrupt processing  \n\uf06c Interrupt entry vector table address passed directly to the core  \n\uf06c Closely coupled NVIC core interface  \n\uf06c Allows early processing of interrupts  \n \nwww.gee hy.com   Page 13 \uf06c Processing of late arriving higher priority interrupts  \n\uf06c Support for tail -chaining  \n\uf06c Processor  state automatically saved  \n\uf06c Interrupt entry restored on interrupt exit with no instruction overhead  \nThis hardware block provides flexible interrupt management features with minimal interrupt \nlatency.  \n External Interrupt/Event Controller (EINT)  \nThe external interrupt/event controller consists of 19 edge detector lines used to generate \ninterrupt/event requests. Each line can be independently configured to select the trigger \nevent (rising edge, falling edge, both) and can be masked independently. A pending regi ster \nmaintains the status of the interrupt requests. The EINT can detect an external line with a \npulse width shorter than the Internal APB2 clock period. Up to 112 GPIOs can be connected \nto the 16 external interrupt lines.  \n3.10  FPU \nThe product has built -in inde pendent FPU floating -point operation processing unit, supports \nIEEE754 standard, supports single -precision floating -point operation, and supports \nalgorithms such as CMP, SUM, SUB, PRDCT, MAC, DIV, INVRGSQT , SUMSQ, DOT, \nfloating -point to integer conversion and integer to floating point conversion.  \n3.11  DMA  \nThe flexible 12 -channel general -purpose DMAs(7 channels for DMA1 and 5 channels for \nDMA2) are able to manage memory -to-memory, peripheral -to-memory and memory -to-\nperipheral transfers. The two DMA controllers su pport circular buffer management, removing \nthe need for user code intervention when the controller reaches the end of the buffer.  \nEach channel is connected to dedicated hardware DMA requests, with support for software \ntrigger on each channel. Configuration  is made by software and transfer sizes between \nsource and destination are independent.  \nThe DMA can be used with the main peripherals: SPI, I2C, USART, general -purpose and \nadvanced -control Timers TMRx, DAC, I2S, SDIO and ADC.  \n3.12  Timer  \nThe enhanced series of  high-density APM32F103xDxE  includes up to two advanced -control \nTimer (TMR1, TMR8), up to four general -purpose Timers, two basic Timers, two watchdog \nTimers, and a SysTick Timer.  \nTable 6 compares the features of the advanced -control, general -purpose and ba sic Timers:  \n \nwww.gee hy.com   Page 14 Table 6  Timer Feature Comparison  \nType of Time r SysTick Timer  Basic Timer  General -purpose Timer  Advanced -control Timer  \nTime r Name  Sys Tick Timer  TMR6  TMR7  TMR2  TMR3  TMR4  TMR5  TMR1  TMR8  \nCounter \nResolution  24-bit 16-bit 16-bit 16-bit \nCounter Type  Down  Up Up, down, up/down  Up, down, up/down  \nPrescaler \nFactor   Any integer between 1 \nand 65536  Any integer between 1 and \n65536  Any integer between 1 and 65536  \nDMA Request \ngeneration   Yes  Yes Yes \nCapture/Comp\nare Channels   0 4 4 \nComplementar\ny Outputs   No  No Yes \nFunction \nSpecification  - Dedicated for OS  \n- Automatic reload \nfunction  \n- Maskable system \ninterrupt \ngeneration when \nthe counter \nreaches 0  \n- Programmable \nclock source  - Used for DAC trigger \ngeneration  \n- Can be used as  a \ngeneric 16-bit time \nbase  - Synchronization or event \nchaining function provided.  \n- Counters can be frozen in \ndebug mode  \n- Can be used to generate \nPWM outputs  \n- Each Timer has independent \nDMA request generation.  \n- It can handle quadrature \n(incremental)  \nencoder signals and th e \ndigital outputs from 1 to 3 \nhall-effect sensors.  - Complementary PWM outputs \nwith programmable inserted \ndead -Time s \n- If configured  \nas a general -purpose 16 -bit \nTimer, it has the same features \nas the TMRx Timer.  \n- If configured as the 16 -bit PWM \ngenerator, it h as full modulation \ncapability (0 -100%).  \n- In debug mode,  \nthe advanced -control Timer \ncounter can be frozen and the \nPWM outputs disabled.  \n- Synchronization or  \nevent chaining provided.  \n3.13  Watchdog  \nAPM32F 103xDxE series MCU has two built -in watchdogs, providing increased security, time \naccuracy and flexibility of use.Two watchdog devices (standalone watchdog and window \nwatchdog) can be used to detect and resolve faults caused by software errors;When the \ncounter reaches a given timeout value, either triggers an in terrupt (for windowed watchdog \nonly) or produces a system reset.  \n  \n \nwww.gee hy.com   Page 15 Table 7  Watchdog  \nWatchdog  Counter \nResolution  Counter Type  Prescale \nFactor  Function Specification  \nIndependent  \nWatchdog  12-bit down  Any integer \nbetween 1 \nand 256  It is clocked from an independent 40 kHz internal RC \noscillator and as it operates independently from the main \nclock, it can operate in stop and standby modes.  \nReset the device when a problem occurs.  \nAs a free -running Timer for application timeout \nmanagement.  \nIt is hardware - or software -configurable through the \noption bytes.  \nThe counter can be frozen in debug mode.  \nWindow  \nWatchdog  7-bit down  - It can be set as free -running.  \nReset the device when a problem occurs.  \nIt is clocked from the main clock.  It has an early warning \ninterrupt capability.  \nThe counter can be frozen in debug mode.  \n3.14  Peripheral Interface  \n  I2C Bus  \nTwo embedded I² C bus interfaces can operate in multimaster and slave modes. They can \nsupport standard and fast modes. They support 7/10-bit addressing mode and 7 -bit dual \naddressing mode(as slave). A hardware CRC generation/verification is embedded. They can \nbe served by DMA and they support SM Bus 2.0/PM Bus.  \nI2C 3/4  bus is a two -wire serial interface, composed of serial data line (S DA) and serial clock \n(SCL), which can work as transmitter and receiver in standard mode, fast mode and high \nspeed mode. The fast mode and high speed mode devices are backwards compatible.  \n I2S Bus  \nTwo standard I2S interfaces(multiplexed with SP12 and SPI3)a re available,that can be \noperated in master or slave mode. These interfaces can be configured to operate with 16/32 \nbit resolution,as input or output channels. Audio sampling frequencies from 8 kHz up to 48 \nKHz are supported. When either or both of the I2S  interfaces are configured in master mode, \nthe master clock can be output to the extemal DAC/CODEC at 256 times the sampling \nfrequency.  \n \nwww.gee hy.com   Page 16 \n USART  \nThe high -capacity APM32F103xDxE  enhanced series includes three universal \nsynchronous/asynchronous transceivers (USART1, USART2 and USART3) and two \nuniversal asynchronous transceivers (UART4 and UART5).  \nThese five interfaces provide asynchronous communication, support for IRDA SIR ENDEC \ntransport codec, multi -processor communication mode, single -wire semi -duplex \ncommunication mode, and LIN master/slave functionality.  \nThe USART1 interface can communicate at a rate of 4.5Mbit/s, while other interfaces can \ncommunicate at a rate of 2.25Mbit/s . \nUSART1, USART2 and USART3 have hardware CTS and RTS signal management, \ncompatible with ISO7816 smart cards and  SPI-like communication mode, except UART5 all \nother interfaces can use DMA operation.  \n SPI \nUp to three SPls are able to communicate up to 18 Mbi ts/s in slave and master modes in full -\nduplex and simplex communication modes. The 3 -bit prescaler gives 8 master mode \nfrequencies and the frame is configurable to 8 bits or 16 bits. The hardware CRC \ngeneration/verification supports basic SD Card/MMC modes .  \nAll SPls can be served by the DMA controller.  \n Controller Area Network (CAN)  \nThe CAN is compliant with specifications 2.0A and 2.0B (active) with a bit rate up to 1 Mbit/s. \nIt can receive and transmit standard frames with 11 -bit identifiers as well as ex tended frames \nwith 29 -bit identifiers. It has three transmit mailboxes, two receive FIFOs with 3 stages and \n14 scalable filter banks.  \n USBD  \nThe product embeds a module USBD compatible with full -speed USBD . The USBD  device \nimplements a full -speed (12 Mbit/s) function interface. It has software -configurable endpoint \nsetting and suspend/resume support. The dedicated 48 MHz clock is generated from the \ninternal main PLL (the clock source must use a HSE CLK crystal oscilla tor). \n Simultaneous Use of USBD  and CAN Interface  \nWhen USBD  and CAN are used together, you need to:  \n \nwww.gee hy.com   Page 17 \uf06c Write 0x00000001 at the base address offset 0x100 of the USBD . \n\uf06c The PA11 and PA12 pins are for USBD  and CAN is used to multiplex other pins.  \nNote: With USBD and USBD2 common pin, so the same time CAN only use a USBD, when \nneed to use USBD and at the same time CAN only use USBD2 instead of USBD.  \n LCD Parallel Interface(LCD)  \nThe EMMC can be configured to interface seamlessly with most graphic LCD controllers. It \nsupports the Intel 8080 and Motorola 6800 modes, and is flexible enough to adapt to specific \nLCD interfaces. This LCD parallel interface capability makes it easy to build cost -effective \ngraphic applications using LCD modules with embedded controllers or hi gh-performance \nsolutions using external controllers with dedicated acceleration.  \n SDIO  \nAn SD/SDIO/MMC host interface is available,that supports MMC System Specification \nVersion 4.2 in three different databus modes: 1 -bit(default), 4 -bit and 8 -bit The interf ace \nallows data transfer at up to 48 MHz in 8 -bit mode,and is compliant with SD Memory Card \nSpecifications Version 2. 0.  \nThe SDIO Card Specification Version 2. 0 also supports two different databus modes: 1 -\nbit(default)and 4 -bit. \nThe current version suppo rts only one SD/SDIO/MMC4 2 card at any one time and a stack \nof MMC4. 1 or previous.  \nIn addition to SD/SDIO/MMC,this interface is also fully compliant with the CE -ATA digital \nprotocol Rev1. 1.  \n GPIO  \nThe product can have up to 112 GPIO pins, each pin can be configured by the software for \noutput (push pull or leak), input(with or without pull -down or pull -down) or multiplexed \nperipheral function ports.Most GPIO pins are shared with digital or analog multiplexing \nperipherals.All GPIO pins have high current flow  capability.  \nIf needed, the peripheral function of the I/O pin can be locked with a specific operation to \navoid accidental writes to the I/O register.  \n \nwww.gee hy.com   Page 18 3.15  Converters  \n ADC  \nEmbedded in the product are three 12 -bit analog/digital converters that share up to 21 \nexternal channels per ADC for single or scan conversion.In scan mode, the conversion \nautomatically runs on a selected set of analog inputs.  \nother on ADC interface logic functions including synchronous sampling and maintaining, \ncross sampling and maintained  and a single sample.The ADC can use DMA operations.  \nThe analog watchdog function allows very precise monitoring of one, multiple, or all selected \nchannels, with interruptions occurring when the monitored signal exceeds a preset threshold.  \nEvents generated  by the Universal Timer (TMRX) and the Advanced Control Timer (TMR1 \nand TMR8) can be internally cascaded to the start and injection triggers of the ADC, \nrespectively, and applications can synchronize the AD transformation with the clock.  \n Digital/Analog Con verter(DAC)  \nThe two 12 -bit buffered DAC channels can be used to convert two digital signals into two \nanalog voltage signal outputs. The chosen design structure is composed of integrated \nresistor strings and an amplifier in inverting configuration. This dua l digital interface supports \nthe following features:  \n·two DAC converters:one for each output channel  \n·8-bit or 12 -bit monotonic output  \n·left or right data alignment in 12 -bit mode  \n·synchronized update capability  \n·noise -wave generation  \n·triangular -wave  generation  \n·dual DAC channel independent or simultaneous conversions  \n·DMA capability for each channel  \n·external triggers for conversion  \n·input voltage reference V REF+, \nEight DAC trigger inputs are used in the APM32F103xDxE  performance line family. The DAC \nchannels are triggered through the timer update outputs that are also connected to different \nDMA channels.  \n3.16  Debug Interface (SWJ -DP) \nThe Arm SWJ -DP interface is embedded, and it combines JTAG and serial wire debug that \nenab les either a serial wire debug or a JTAG probe to be connected to the target. The JTAG \n \nwww.gee hy.com   Page 19 TMS and TCK pins are shared respectively with SWDIO and SWCLK and a specific \nsequence on the TMS pin is used to switch between JTAG -DP and SW -DP. \n3.17  Embedded Trace Macrocel l (ETM)  \nThe Arm® Embedded Trace Macrocell provides a greater visibility of the instruction and data \nflow inside the CPU core by streaming compressed data at a very high rate from the \nAPM32F103xDxE  through a small number of ETM pins to an external hardware trace port \nanalyzer(TPA)device. The TPA is connected to a host computer using USBD , Ethernet, or \nany other high -speed channel. Real -time instruction and data flow activity can be recorded \nand then formatted for display on the host computer running debugger  software. TPA \nhardware is commercially available from common development tool vendors, and is \ncompatible with third party debugger software tools.   \n \nwww.gee hy.com   Page 20 4   Pin Features  \n4.1   Pinouts and Pin Descriptions  \n APM32F103xDxE  Performance line LQFP144  \nFigure 1  LQFP144 Pinout  \n \n \nwww.gee hy.com   Page 21 \n APM32F103xDxE  Performance line LQFP100  \nFigure 2  LQFP100 Pinout  \n \n  \n \nwww.gee hy.com   Page 22 \n APM32F103xDxE  Performance line LQFP64  \nFigure 3  LQFP64 Pinout  \n  \n \nwww.gee hy.com   Page 23 4.2  Pin Description  \nTable 8  APM32F103xDxE Pin Definitions  \nPin Name  Pins  \nType (1)  \nI/O level (2)  Main \nFunction (3)  Alternate functions  LQFP64  \nLQFP100  \nLQFP144  \n(after reset)  Default  Remap  \nPE2 - 1 1 I/O FT PE2 TRACECK,  \nSMC_A23  - \nPE3 - 2 2 I/O FT PE3 TRACED0,  \nSMC_A19  - \nPE4 - 3 3 I/O FT PE4 TRACED1,  \nSMC_A20  - \nPE5 - 4 4 I/O FT PE5 TRACED2,  \nSMC_A21  - \nPE6 - 5 5 I/O FT PE6 TRACED3,  \nSMC_A22  - \nVBAT 1 6 6 S - VBAT - - \nPC13 - TAMPER -\nRTC\n4\n 2 7 7 I/O - PC13\n5\n TAMPER -RTC - \nPC14 - OSC32_IN\n4\n 3 8 8 I/O - PC14\n5\n OSC32_IN  - \nPC15 - \nOSC32_OUT\n4\n 4 9 9 I/O - PC15\n5\n OSC32_OUT  - \nPF0 - - 10 I/O FT PF0 SMC_A0,  \nDMC_A0  - \nPF1 - - 11 I/O FT PF1 SMC_A1,  \nDMC_A1  - \nPF2 - - 12 I/O FT PF2 SMC_A2,  \nDMC_A2  - \nPF3 - - 13 I/O FT PF3 SMC_A3,  \nDMC_A3  - \nPF4 - - 14 I/O FT PF4 SMC_A4,  \nDMC_A4  - \nPF5 - - 15 I/O FT PF5 SMC_A5,  \nDMC_A5  - \nVSS_5 - 10 16 S - VSS_5 - - \nVDD_5 - 11 17 S - VDD_5 - - \nPF6 - - 18 I/O - PF6 ADC3_IN4,  \nSMC_NIORD  - \nPF7 - - 19 I/O - PF7 ADC3_IN5,  \nSMC_NREG  - \n \nwww.gee hy.com   Page 24 Pin Name  Pins  \nType (1)  \nI/O level (2)  Main \nFunction (3)  Alternate functions  LQFP64  \nLQFP100  \nLQFP144  \n(after reset)  Default  Remap  \nPF8 - - 20 I/O - PF8 ADC3_IN6,  \nSMC_NIOWR  - \nPF9 - - 21 I/O - PF9 ADC3_IN7,  \nSMC_CD  - \nPF10  - - 22 I/O - PF10  ADC3_IN8,  \nSMC_INTR  - \nOSC_IN  5 12 23 I - OSC_IN  - PD0\n7\n \nOSC_OUT  6 13 24 O - OSC_OUT  - PD1\n7\n \nNRST  7 14 25 I/O - NRST  - - \nPC0 8 15 26 I/O - PC0 ADC123_IN10,  \nDMC_WE  - \nPC1 9 16 27 I/O - PC1 ADC123_IN11,  \nDMC_RAS  - \nPC2 10 17 28 I/O - PC2 ADC123_IN12,  \nDMC_CS  - \nPC3 11 18 29 I/O - PC3 ADC123_IN13,  \nDMC_CKE  - \nVSSA 12 19 30 S - VSSA - - \nVREF- - 20 31 S - VREF- - - \nVREF+ - 21 32 S - VREF+ - - \nVDDA 13 22 33 S - VDDA - - \nPA0-WKUP  14 23 34 I/O - PA0 WKUP,  \nUSART2_CTS\n6\n, \nADC123_IN0,  \nTMR2_CH1_ETR\n6\n, \nTMR5_CH1,  \nTMR8_ETR  - \nPA1 15 24 35 I/O - PA1 USART2_RTS\n6\n, \nADC123_IN1,  \nTMR5_CH2,  \nTMR2_CH2\n6\n - \nPA2 16 25 36 I/O - PA2 USART2_TX\n6\n, \nTMR5_CH3,  \nADC123_IN2,  \nTMR2_CH3\n6\n - \n \nwww.gee hy.com   Page 25 Pin Name  Pins  \nType (1)  \nI/O level (2)  Main \nFunction (3)  Alternate functions  LQFP64  \nLQFP100  \nLQFP144  \n(after reset)  Default  Remap  \nPA3 17 26 37 I/O - PA3 USART2_RX\n6\n, \nTMR5_CH4,  \nADC123_IN3,  \nTMR2_CH4\n6\n - \nVSS_4 18 27 38 S - VSS_4 - - \nVDD_4 19 28 39 S - VDD_4 - - \nPA4 20 29 40 I/O - PA4 SPI1_NSS\n6\n, \nUSART2_CK\n6\n, \nDAC_OUT1,  \nADC12_IN4  - \nPA5 21 30 41 I/O - PA5 SPI1_SCK\n6\n, \nDAC_OUT2,  \nADC12_IN5  - \nPA6 22 31 42 I/O - PA6 SPI1_MISO\n7\n, \nTMR8_BKIN,  \nADC12_IN6  \nTMR3_CH1\n7\n TMR1_BKIN  \nPA7 23 32 43 I/O - PA7 SPI1_MOSI\n7\n \nTMR8_CH1N  \nADC12_IN7  \nTMR3_CH2\n7\n TMR1_CH1N  \nPC4 24 33 44 I/O - PC4 ADC12_IN14  - \nPC5 25 34 45 I/O - PC5 ADC12_IN15  - \nPB0 26 35 46 I/O - PB0 ADC12_IN8  \nTMR3_CH3  \nTMR8_CH2N  TMR1_CH2N  \nPB1 27 36 47 I/O - PB1 ADC12_IN9,  \nTMR3_CH4\n6\n \nTMR8_CH3N  TMR1_CH3N  \nPB2 28 37 48 I/O FT PB2,  \nBOOT1  - - \nPF11  - - 49 I/O FT PF11  SMC_NIOS16  - \nPF12  - - 50 I/O FT PF12  SMC_A6,  \nDMC_A6  - \nVSS_6 - - 51 S - VSS_6 - - \nVDD_6 - - 52 S - VDD_6 - - \nPF13  - - 53 I/O FT PF13  SMC_A7,  - \n \nwww.gee hy.com   Page 26 Pin Name  Pins  \nType (1)  \nI/O level (2)  Main \nFunction (3)  Alternate functions  LQFP64  \nLQFP100  \nLQFP144  \n(after reset)  Default  Remap  \nDMC_A7  \nPF14  - - 54 I/O FT PF14  SMC_A8,  \nDMC_A8  - \nPF15  - - 55 I/O FT PF15  SMC_A9,  \nDMC_A9  - \nPG0 - - 56 I/O FT PG0 SMC_A10,  \nDMC_A10  - \nPG1 - - 57 I/O FT PG1 SMC_A11,  \nDMC_A11  - \nPE7 - 38 58 I/O FT PE7 SMC_D4,  \nDMC_D4  TMR1_ETR  \nPE8 - 39 59 I/O FT PE8 SMC_D5,  \nDMC_D5  TMR1_CH1N  \nPE9 - 40 60 I/O FT PE9 SMC_D6,  \nDMC_D6  TMR1_CH1  \nVSS_7 - - 61 S - VSS_7 - - \nVDD_7 - - 62 S - VDD_7 - - \nPE10  - 41 63 I/O FT PE10  SMC_D7,  \nDMC_D7  TMR1_CH2N  \nPE11  - 42 64 I/O FT PE11  SMC_D8,  \nDMC_D8  TMR1_CH2  \nPE12  - 43 65 I/O FT PE12  SMC_D9,  \nDMC_D9  TMR1_CH3N  \nPE13  - 44 66 I/O FT PE13  SMC_D10,  \nDMC_D10  TMR1_CH3  \nPE14  - 45 67 I/O FT PE14  SMC_D11,  \nDMC_D11  TMR1_CH4  \nPE15  - 46 68 I/O FT PE15  SMC_D12,  \nDMC_D12  TMR1_BKIN  \nPB10  29 47 69 I/O FT PB10  I2C2_SCL,  \nI2C4_SCL,  \nUSART3_TX\n6\n TMR2_CH3  \nPB11  30 48 70 I/O FT PB11  I2C2_SDA,  \nI2C4_SDA,  \nUSART3_RX\n6\n TMR2_CH4  \nVSS_1 31 49 71 S - VSS_1 - - \nVDD_1 32 50 72 S - VDD_1 - - \n \nwww.gee hy.com   Page 27 Pin Name  Pins  \nType (1)  \nI/O level (2)  Main \nFunction (3)  Alternate functions  LQFP64  \nLQFP100  \nLQFP144  \n(after reset)  Default  Remap  \nPB12  33 51 73 I/O FT PB12  SPI2_NSS,  \nI2S2_WS,  \nI2C2_SMBAI,  \nUSART3_CK\n6\n, \nTMR1_BKIN\n6\n - \nPB13  34 52 74 I/O FT PB13  SPI2_SCK,  \nI2S2_CK,  \nUSART3_CTS\n6\n, \nTMR1_CH1N  - \nPB14  35 53 75 I/O FT PB14  SPI2_MISO,  \nTMR1_CH2N,  \nUSART3_RTS\n6\n - \nPB15  36 54 76 I/O FT PB15  SPI2_MOSI,  \nI2S2_SD,  \nTMR1_CH3N\n6\n - \nPD8 - 55 77 I/O FT PD8 SMC_D13,  \nDMC_D13  USART3_TX  \nPD9 - 56 78 I/O FT PD9 SMC_D14,  \nDMC_D14  USART3_RX  \nPD10  - 57 79 I/O FT PD10  SMC_D15,  \nDMC_D15  USART3_CK  \nPD11  - 58 80 I/O FT PD11  SMC_A16,  \nDMC_BA0  USART3_CTS  \nPD12  - 59 81 I/O FT PD12  SMC_A17,  \nDMC_BA1  TMR4_CH1,  \nUSART3_RTS  \nPD13  - 60 82 I/O FT PD13  SMC_A18  TMR4_CH2  \nVSS_8 - - 83 S - VSS_8 - - \nVDD_8 - - 84 S - VDD_8 - - \nPD14  - 61 85 I/O FT PD14  SMC_D0,  \nDMC_D0  TMR4_CH3  \nPD15  - 62 86 I/O FT PD15  SMC_D1,  \nDMC_D2  TMR4_CH4  \nPG2 - - 87 I/O FT PG2 SMC_A12,  \nDMC_A12  - \nPG3 - - 88 I/O FT PG3 SMC_A13,  \nDMC_A13  - \nPG4 - - 89 I/O FT PG4 SMC_A14,  - \n \nwww.gee hy.com   Page 28 Pin Name  Pins  \nType (1)  \nI/O level (2)  Main \nFunction (3)  Alternate functions  LQFP64  \nLQFP100  \nLQFP144  \n(after reset)  Default  Remap  \nDMC_A14  \nPG5 - - 90 I/O FT PG5 SMC_A15,  \nDMC_A15  - \nPG6 - - 91 I/O FT PG6 SMC_INT2  - \nPG7 - - 92 I/O FT PG7 SMC_INT3  - \nPG8 - - 93 I/O FT PG8 DMC_CLK  - \nVSS_9 - - 94 S - VSS_9 - - \nVDD_9 - - 95 S - VDD_9 - - \nPC6 37 63 96 I/O FT PC6 I2S2_MCK,  \nTMR8_CH1,  \nSDIO_D6  TMR3_CH1  \nPC7 38 64 97 I/O FT PC7 I2S3_MCK,  \nTMR8_CH2,  \nSDIO_D7  TMR3_CH2  \nPC8 39 65 98 I/O FT PC8 TMR8_CH3,  \nSDIO_D0  TMR3_CH3  \nPC9 40 66 99 I/O FT PC9 TMR8_CH4,  \nSDIO_D1  TMR3_CH4  \nPA8 41 67 100 I/O FT PA8 USART1_CK,  \nTMR1_CH1\n6\n, \nMCO  - \nPA9 42 68 101 I/O FT PA9 USART1_TX\n6\n, \nTMR1_CH2\n6\n - \nPA10  43 69 102 I/O FT PA10  USART1_RX\n6\n, \nTMR1_CH3\n6\n  - \nPA11  44 70 103 I/O FT PA11  USART1_CTS,  \nUSBDDM,  \nUSBD2DM,  \nCAN_RX\n6\n, \nTMR1_CH4\n6\n  - \nPA12  45 71 104 I/O FT PA12  USART1_RTS,  \nUSBDDP  \nUSBD2DP,  \nCAN_TX\n6\n, \nTMR1_ETR\n6\n - \nPA13  46 72 105 I/O FT JTMS/ - PA13  \n \nwww.gee hy.com   Page 29 Pin Name  Pins  \nType (1)  \nI/O level (2)  Main \nFunction (3)  Alternate functions  LQFP64  \nLQFP100  \nLQFP144  \n(after reset)  Default  Remap  \nSWDIO  \n- - 73 106 - - - - - \nVSS_2 47 74 107 S - VSS_2 - - \nVDD_2 48 75 108 S - VDD_2 - - \nPA14  49 76 109 I/O FT JTCK/ \nSWCLK  - PA14  \nPA15  50 77 110 I/O FT JTDI  SPI3_NSS,  \nI2S3_WS  TMR2_CH1_E\nTR, \nPA15,  \nSPI1_NSS  \nPC10  51 78 111 I/O FT PC10  UART4_TX,  \nSDIO_D2  USART3_TX  \nPC11  52 79 112 I/O FT PC11  UART4_RX,  \nSDIO_D3  USART3_RX  \nPC12  53 80 113 I/O FT PC12  UART5_TX,  \nSDIO_CK  USART3_CK  \nPD0 - 81 114 I/O FT OSC_IN\n7\n SMC_D2,  \nDMC_D2  CAN_RX  \nPD1 - 82 115 I/O FT OSC_OUT\n7\n SMC_D3,  \nDMC_D3  CAN_TX  \nPD2 54 83 116 I/O FT PD2 TMR3_ETR,  \nUART5_RX,  \nSDIO_CMD  - \nPD3 - 84 117 I/O FT PD3 SMC_CLK  USART2_CTS  \nPD4 - 85 118 I/O FT PD4 SMC_NOE  USART2_RTS  \nPD5 - 86 119 I/O FT PD5 SMC_NWE  USART2_TX  \nVSS_10 - - 120 S - VSS_10 - - \nVDD_10 - - 121 S - VDD_10 - - \nPD6 - 87 122 I/O FT PD6 SMC_NWAIT  USART2_RX  \nPD7 - 88 123 I/O FT PD7 SMC_NE1,  \nSMC_NCE2  USART2_CK  \nPG9 - - 124 I/O FT PG9 SMC_NE2,  \nSMC_NCE3  - \nPG10  - - 125 I/O FT PG10  SMC_NCE4_1,  \nSMC_NE3  - \n \nwww.gee hy.com   Page 30 Pin Name  Pins  \nType (1)  \nI/O level (2)  Main \nFunction (3)  Alternate functions  LQFP64  \nLQFP100  \nLQFP144  \n(after reset)  Default  Remap  \nPG11  - - 126 I/O FT PG11  SMC_NCE4_2  - \nPG12  - - 127 I/O FT PG12  SMC_NE4  - \nPG13  - - 128 I/O FT PG13  SMC_A24  - \nPG14  - - 129 I/O FT PG14  SMC_A25  - \nVSS_11 - - 130 S - VSS_11 - - \nVDD_11 - - 131 S - VDD_11 - - \nPG15  - - 132 I/O FT PG15  DMC_CAS  - \nPB3 55 89 133 I/O FT JTDO  SPI3_SCK,  \nI2S3_CK  PB3,  \nTRACESWO,  \nTMR2_CH2,  \nSPI1_SCK  \nPB4 56 90 134 I/O FT NJTRST  SPI3_MISO  PB4,  \nTMR3_CH1,  \nSPI1_MISO  \nPB5 57 91 135 I/O - PB5 I2C1_SMBAI,  \nSPI3_MOSI,  \nI2S3_SD  TMR3_CH2,  \nSPI1_MOSI  \nPB6 58 92 136 I/O FT PB6 I2C1_SCL\n6\n, \nI2C3_SCL,  \nTMR4_CH1\n6\n USART1_TX  \nPB7 59 93 137 I/O FT PB7 I2C1_SDA\n6\n, \nI2C3_SDA,  \nSMC_NADV ,  \nTMR4_CH2\n6\n USART1_RX  \nBOOT0  60 94 138 I - BOOT0  - - \nPB8 61 95 139 I/O FT PB8 TMR4_CH3\n6\n, \nSDIO_D4  I2C1_SCL,  \nI2C3_SCL,  \nCAN_RX  \nPB9 62 96 140 I/O FT PB9 TMR4_CH4\n6\n \nSDIO_D5  I2C1_SDA,  \nI2C3_SDA,  \nCAN_TX  \nPE0 - 97 141 I/O FT PE0 TMR4_ETR,  \nSMC_NBL0,  \nDMC_LDQM  - \nPE1 - 98 142 I/O FT PE1 SMC_NBL1,  \nDMC_UDQM  - \nVSS_3 63 99 143 S - VSS_3 - - \n \nwww.gee hy.com   Page 31 Pin Name  Pins  \nType (1)  \nI/O level (2)  Main \nFunction (3)  Alternate functions  LQFP64  \nLQFP100  \nLQFP144  \n(after reset)  Default  Remap  \nVDD_3 64 100 144 S - VDD_3 - - \n \n(1) I = input, O = output, S = supply, HiZ = high resistance  \n(2) FT = 5V tolerant.  \n(3) Function availability depends on the chosen device. For devices having reduced \nperipheral counts, it is always the lower number of peripheral that is included. For \nexample, if a device has only one SPI and two USARTs, they will be called SPI1 and \nUSART1 & USART2, respectively.  \n(4) PC13, PC14 and PC15 are supplied through the power switch since the switch only \nsinks a limited amount of current (3mA). The use of GPIOs from PC13 to PC15 in \noutput mode is limited: only one GPIO can be used at a Time , the speed sho uld not \nexceed 2 MHz with a maximum load of 30pF and these IOs must not be used as a \ncurrent source (e.g. to drive an LED).  \n(5) Main function after the first backup domain power -up. Later on, it depends on the \ncontents of the Backup registers even after reset  (because these registers are not reset \nby the main reset). For details on how to manage these IOs, refer to the Battery backup \ndomain and BAKPR  register description sections in the reference manual.  \n(6) This alternate function can be remapped by software to s ome other port pins (if \navailable on the used package). For more details, refer to the Alternate Function I/O \nand Debug Configuration section in the reference manual.  \n(7) Pin5 and pin6 in the LQFP64 package are configured as OSC_IN/OSC_OUT after \nreset, however  the functionality of PD0 and PD1 can be remapped by software on \nthese pins. For the LQFP100 package, PD0 and PD1 are available by default, so there \nis no need for remapping. For more details, refer to the Alternate Function I/O and \nDebug Configuration sec tion in the reference manual. The use of PD0 and PD1 in \noutput mode is limited as they can only be used at 50 MHz in output mode.  \n  \n \nwww.gee hy.com   Page 32 5   System Diagram  \nFigure 4  APM32F103xDxE  Performance Line System Diagram  \nARM® Cortex®-M3\nFMC\nJTAG/SWD BUS MATRIX\nAHB/APB1 BRIDGE AHB/APB2 BRIDGEDMA SRAM\nTMR2/3/4/5/6/7\nRTC\nWWDT\nIWDT\nSPI2/I2S2\nSPI3/I2S3\nUSART2/3\nUART4/5\nI2C1/I2C3AFIO\nEINT\nGPIO A/B/C/D/E/F/G\nADC1/2/3\nTMR1/8\nSPI1\nUSART1\nI2C2/I2C4\nUSBD/USBD2\nCAN\nBAKPR\nPMUI-Code\nD-Code\nSysten Bus\nFLASH\nAHB BUS\nFPU\nDACCRCSDIO\n \n1. Operating temperature: -40° C to +85° C\n suffix 6\n or -40° C to +105° C\n suffix 7\n, junction \ntemperature up to 105° C.  \n2. AF: Alternate function on I/O port pin.   \n \nwww.gee hy.com   Page 33 6    Clock Tree  \nFigure 5  APM32F103xDxE  Performance Line Clock Tree  \nLSICLK\n40KHz\nLSECLK \nOSC\n32.768\nKHz\n4-16MHz\nHSECLK \nOSC\n8MHz\nHSICLK/128\n/2\n/2PLLHSEPSC PLLSEL\n×2.3.4\n...16\nPLLAHB\nPrescaler\n/1,2...512\nAPB1\nRrescaler\n/1,2,4,8,16\nAPB2\nPRESCLAER\n/1,2,4,8,16CSSRTCIWDTCLK\nFMCCLKUSBDCLK\nSCSELTMR2,3,4,5,6,7\nif(APB1 prescaler =1)×1\nelse×2TMRxCLK\n(x=2,3.\n..7)USBD\nPrescaler\n/1,1.5,\n2,2.5\nPCLK2TMRxCLK\n(x=1,8)SMCCLK\nTMR1,8\nif(APB2 prescaler =1)×1\nelse×2ADC\nPrescaler\n/2,4,6,8ADCCLKHCLKSDIOCLK\nPCLK1FCLK/8\n/2Cortex \nSystem \nClock\n/2PLLCLK\nHSICLK\nHSECLK\nSYSCLKMCO\nI2SxCLK\n(x=2,3)RTCSEL[1:0]\nHCLK/2\nSYSCLK\n96MHz MAX\nMCO48MHz\n96MHz MAX\n96MHz MAX48MHz MAXFPUCLKFPU\nPrescaler\n/1,2\n96MHz MAX48MHz MAXOSC_OUT\nOSC_IN\nOSC32_OUT\nOSC32_INSDRAMCLK /1,2,4 DMCCLK\n \n1. For the USBD  function to be available, both HSE CLK and PLL must be enabled, with the USBD CLK \nat 48 MHz.  \n2. To have an ADC conversion time of 1μs, APB2 must be at 14 MHz, 28MHz or 56MHz.  \n  \n \nwww.gee hy.com   Page 34 7   Address Mapping  \nFigure 6  APM32F103xDxE  Performance Line Address Mapping Diagram  \n0xFFFF FFFF\n0xE000 0000\n0x4000  0000\n0x2000  0000\nFlash \nMapping area\n0x0000  0000Reserved\nCRC\nReserved\nFlash Interface\nReserved\nRCM\nReserved\nDMA1\nReserved\nUSART1\nSPI1\nTMR1\nADC2\nADC1\nPort E\nPort D\nPort C\nPort B\nPort A\nEINT\nAFIO\nReserved\nPMU\nBAKPR\nReserved\nCAN\nShared USB /CAN \nSRAM 512 bytes\nUSBD/USBD2 register\nI2C2/I2C4\nI2C1/I2C3\nUSART3\nUSART2\nReserved\nSPI3/I2S3\nReserved\nIWDT\nWWDT\nRTC\nTMR4\nTMR3\nTMR20x4002 3400\n0x4002 3000\n0x4002 2400\n0x4002 2000\n0x4002 1400\n0x4002 1000\n0x4002 0400\n0x4002 0000\n0x4001 3C00\n0x4001 3800\n0x4001 3400\n0x4001 3000\n0x4001 2C00\n0x4001 2800\n0x4001 2400\n0x4001 1C00\n0x4001 1800\n0x4001 1400\n0x4001 1000\n0x4001 0C00\n0x4001 0800\n0x4001 0400\n0x4001 0000\n0x4000 7400\n0x4000 7000\n0x4000 6C00\n0x4000 6800\n0x4000 6400\n0x4000 6000\n0x4000 5C00\n0x4000 5800\n0x4000 5400\n0x4000 4C00\n0x4000 4800\n0x4000 4400\nReserved0x4000 3C00\n0x4000 3800\n0x4000 3400\n0x4000 3000\n0x4000 2C00\n0x4000 2800\n0x4000 0C00\n0x4000 0800\n0x4000 0400\n0x4000 00000x2002  0000\nReservedSystem memory \nareaOption byte\n0x0800  00000x1FFF  F0000x1FFF  F8000x1FFF  F80F\nTMR7\nTMR6\nTMR50x4000 10000x4000 14000x4000 1800SPI2/I2S20x4000 4000UART4UART50x4000 5000DAC0x4000 7800Port G\nPort F0x4001 2000TMR8ADC30x4001 4000SDIO0x4001 8000Reserved0x4001 8400DMA20x4002 0400EMMC bank 4 PCCARD\nEMMC bank 3 \nNAND (NAND2)\nEMMC bank 2 \nNAND (NAND1)\nEMMC bank 1 \nNOR/PSRAM 4/SDRAM\nEMMC bank 1 \nNOR/PSRAM 1/SDRAM0x6000 0000EMMC bank 1 \nNOR/PSRAM 3/SDRAM\nEMMC bank 1 \nNOR/PSRAM 2/SDRAM0x6400 00000x6800 00000x6C00 00000x7000 0000x8000 00000x9000 00000x9FFF FFFFReserved\nFPU0x4002 40000x4002 4400\nReservedSRAMReservedAPB1  PeripheralReservedAPB2  PeripheralReservedAHB  PeripheralReservedEMMC bankEMMC register\n Core PeripheralReserved\n0x4001 00000x4001 80000xA000 00000xA000 0FFF\n \nNote: SDRAM is directly addressed to 256M, without Bank access separately .  \n \n \nwww.gee hy.com   Page 35 8   Electrical Characteristics  \n8.1  Parameter Conditions  \nAll voltage parameters are referenced to V SS unless otherwise specified.  \n Maximum and Minimum Values  \nUnless otherwise stated, all minimum and maximum values are guaranteed on the \nproduction line by testing 100% of the product at ambient temperature T A=25° C and \nTA=TAmax under worst ambient temperature, supply voltage and clock frequency conditions.  \nData based on characterization results, design simulation and/or technology characteristics \nare indicated in the table footnotes and are not tested in production. Based on \ncharacterization, the minimum and maximum values refer to sample tests and represent the \nmean value plus or minus three times the standard deviation (mean ±3∑).  \n Typical Value  \nTypical data is based on T A =25° C and V DD =3.3V (2 V ≤ V DD ≤ 3.3 V voltage range) un less \notherwise stated. These data are for design guidance only.  \n Typical Curve  \nTypical curves are for design guidance only and are not tested unless otherwise stated.  \n Loading Capacitor  \nFigure 7  Load conditions when measuring pin p arameters  \n \nC=50 PFAPM32F103XX PIN\n \n \nwww.gee hy.com   Page 36 Figure 8  Pin Input Voltage Measurement Scheme  \nVINAPM32F103XX PIN\n \n \nFigure 9  Current Consumption Measurement Scheme  \nVDD\nVDDAIDDVBAT\nAFM32F103XX PINIDD_VBAT\nVref\n \n \nwww.gee hy.com   Page 37 \n Power supply scheme  \nFigure 10  Power supply scheme  \nVBAT\nVDD\nVSSVDD\n100 nF\n+ 4.7 µF\nVDD\nVREFVDDA\nVREF+\nVSSAVREF-10 nF\n+ 1 µF10 nF\n+ 1 µFThe power \nsupply switch\nvoltage \nregulator\nHSICLK\n LSICLKPLLCLK\nPVDADCArm®Cortex®-M3\nMemories\nAPB2 AHBAPB1Reserve area\nLSECLK RTCBAKPR\n \n8.2  Absolute Maximum Ratings  \nStresses above the absolute maximum ratings listed in Table 9 :Maximum rated voltage \ncharacteristics and Table 10: Maximum rated cur rent characteristics may cause permanent \ndamage to the device. These are stress ratings only and functional operation of the device \nat these conditions is not implied. Exposure to maximum rating conditions for extended \nperiods may affect device reliability . \n \nwww.gee hy.com   Page 38 \n Maximum Rated Voltage Characteristics  \nTable 9  Maximum rated voltage characteristics  \nSymbol  Description  Minimum  Maximum  Unit \nVDD - VSS External main supply voltage (including V DDA and V DD) (1) -0.3 4.0 \nV \nVIN Input voltage on 5V tolerant pins (2) VSS-0.3 5.5 \nInput voltage on other pins(2) VSS-0.3 VDD + 0.3  \n| ΔVDDx | Voltage difference between different supply pins   50 \nmV \n| VSSx-VSS | Voltage difference between different ground pins   50 \n1. All power (V DD, VDDA) and ground (V SS, VSSA) pins must always be connected to a power supply \nwithin the external allowable range.  \n2. If V IN does not exceed the maximum value, I INJ(PIN) will not exceed its limit. If V IN exceeds the \nmaximum value, I INJ(PIN ) must be externally limited to not exceed its maximum value. When V IN > \nVDD, there is a forward injection current; when V IN<VSS, there is a reverse injection current.  \n Maximum Rated Current Characteristics  \nTable 10  Maximum rated cu rrent characteristics  \nSymbol  Description  Maximum  Unit \nIVDD Total current (supply current) (1) went through the VDD/VDDA power cord.  150 \nmA IVSS Total current (outflow current) (1) went through the VSS ground cord.  150 \nIIO Irrigation current on any I/O and control pins  25 \nSource current on any I/O and control pins  -25 \nIINJ(PIN) (2) \n(3) Injection current of NRST pin  ±5 \nInjection current of HSE CLK\'s OSC_IN pin and LSE CLK\'s OSC_IN pin  ±5 \nInjection current of other pins  ±5 \nΣIINJ(PIN)(2) Total injection current on all I/O and control pins (4) ± 25 \n1. All power (V DD\n VDDA) and ground (V SS\nVSSA) pins must always be connected to a power supply \nwithin the external allowable range.  \n2. If V IN does not exceed the maximum value, I INJ(PIN)  will not exceed its limit. If VIN exceeds the \nmaximum value, I INJ(PIN)  must be externally limited to not exceed its maximum value. When V IN > \nVDD, there is a forward injection current; when V IN < VSS, there is a reverse injection current.  \n3. Reverse injection cur rent can interfere with the analog performance of the ADC.  \n4. When several I/O ports have injection current at the same time, the maximum value ofΣI INJ(PIN)  is the \nsum of the instantaneous absolute values of the forward injection current and the reverse in jection \ncurrent. These results are based on the calculation of the maximum value of ΣI INJ(PIN)  on the four I/O \nport pins of the device.  \n \nwww.gee hy.com   Page 39 \n Maximum Temperature Characteristics  \nTable 11  Temperature characteristics  \nSymbol  Description  Value Unit \nTSTG Storage temperature range  -55 ~ + 150  °C \nTJ Maximum junction temperature  150 °C \n8.3  Testing Under General Operating Conditions  \nTable 12  General Operating Conditions  \nSymbol  Parameters  Conditions  Min value  Max value  Unit \nfHCLK Internal AHB clock frequency   0 96 \n \nMHz fPCLK1  Internal APB1 clock frequency   0 48 \nfPCLK2  Internal APB2 clock frequency   0 96 \nVDD Standard working voltage   2 3.6 V \nVDDA(1) Analog operating voltage  \n(ADC not used)  must be the same \nwith VDD(2) 2 3.6 \nV \nAnalog operating voltage  \n(ADC not used)  2.4 3.6 \nVBAT Backup operating voltage   1.8 3.6 V \nTA Ambient temperature range \n(temperature label 7)  Maximum power \nconsumption  -40 105 °C \nTJ Junction  temperature range   -40 150 °C \n1. When the ADC is used, refer to Chapter 8.3.13  \n2. It is recommended to power V DD and V DDA from the same source. A maximum difference of 300mV \nbetween V DD and V DDA can be tolerated during power -up and operation.  \n \nwww.gee hy.com   Page 40 \n Embedded Reset and Power Control Block Characteristics (1) \nTable 13  Embedded Reset and Power Control Block Characteristics ( -40°C < T A < +105°C)  \nSymbol  Parameters  Conditions  Minimum \nValue Typical \nValue Maximum \nValue Unit \nVPVD(3) Programmable \nvoltage detector \nlevel selection  \n PLS[2:0]=000 (rising edge)  2.16 2.19 2.22 V \nPLS[2:0]=000 (falling edge)  2.06 2.09 2.11 V \nPLS[2:0]=001 (rising edge)  2.26 2.29 2.32 V \nPLS[2:0]=001 (falling edge)  2.15 2.18 2.21 V \nPLS[2:0]=010 (rising edge)  2.36 2.39 2.42 V \nPLS[2:0]=010 (falling edge)  2.25 2.28 2.31 V \nPLS[2:0]=011 (rising edge)  2.45 2.49 2.52 V \nPLS[2:0]=011 (falling edge)  2.35 2.38 2.41 V \nPLS[2:0]=100 (rising edge)  2.55 2.59 2.62 V \nPLS[2:0]=100 (falling edge)  2.44 2.48 2.51 V \nPLS[2:0]=101 (rising edge)  2.65 2.68 2.72 V \nPLS[2:0]=101 (falling edge)  2.55 2.58 2.61 V \nPLS[2:0]=110 (rising edge)  2.75 2.79 2.82 V \nPLS[2:0]=110 (falling edge)  2.64 2.67 2.71 V \nPLS[2:0]=111 (rising edge)  2.84 2.88 2.92 V \nPLS[2:0]=111 (falling edge)  2.74 2.78 2.81 V \nVPVDhyst(2) PVD hysteresis    107.08   mV \nVPOR/PDR  Power on/power \ndown reset \nthrehold  Falling edge  1.86(1) 1.88 1.90 V \nRising edge  1.91 1.94 1.96 V \nVPDRhyst  (2) PVD hysteresis   38.19  55.33  72.47  mV \nTRSTTEMPO  Reset Duration    1.47  ms \n(1) The product feature is guaranteed by design down to the minimum VPOR/PDR value.  \n(2) It is guaranteed by design, and is not tested in production.  \n(3) It is derived from a comprehensive evaluation and is not tested in production.  \n \nwww.gee hy.com   Page 41 \n Embedded Reference Voltage Character istics Test  \nTable 14  Embedded Reference Voltage  \nSymbol  Parameters  Conditions  Minimum \nValue  Typical \nValue  Maximu\nm Value  Unit \nVREFINT(1) Internal reference voltage  -40° C < T A < \n+105° C  \nVDD= 2-3.6 V  1.17 1.21 1.27 V \nTS_vrefint(2) ADC sampling time when \nreading the internal \nreference voltage    5.1 17.1 μs \nVREFINT(2) Internal reference voltage \nspread over the \ntemperature range  VDD=3V±10mV  - - 18 mV \nTCoeff Temperature coefficient  - - - 104 ppm/℃ \n1.  It is derived from a comprehensive evaluation and is not tested in production.  \n2.  It is guaranteed by design, and is not tested in production.  \n Supply Current Characteristics  \nThe current values in the operating modes given in this section are measured by executing \nDhrystone 2.1, with the Keil V5 compilation environment and the L0 compilation optimization \nlevel.  \nMax Current Consumption  \nMCU is placed under the following conditions:  \n\uf06c All I/O pins are in input mode with a static value at VDD or VSS (no load).  \n\uf06c All peripherals are d isabled unless otherwise stated.  \n\uf06c The flash memory access time is adjusted to the f HCMU frequency (0 wait state from 0 \n~ 24 MHz, 1 wait state from 24~ 48 MHz, 2 wait states from 48 ~72 MHz, 3 wait states \nfrom 72 ~ 96 MHz).  \n\uf06c Prefetch in ON (tip: this bit must  be set before the clock setting and bus prescaling).  \n\uf06c When the peripherals are enabled: fpCMU1 = fHCMU/2\nfpCMU2 = fHCMU. \n  \n \nwww.gee hy.com   Page 42 Table 15  Maximum current consumption in Run mode, data process code run from Flash  \nSymbol  Parameter  Conditions  fHCMU  Maximum Value(1) \nUnit  \nTA =105°C , V DD=3.6 V  \nIDD Supply current in \nrun mode  External clock (2), \nall peripherals \nenabled  96 MHz  48.9 \nmA 72MHz  34.5 \n48MHz  27.6 \n36MHz  21.6 \n24MHz  15.2 \n16MHz  10.7 \n8MHz  6.2 \nExternal clock (2), \nall peripherals \ndisabled  96 MHz  27.0 \n72MHz  26.9 \n48MHz  16.9 \n36MHz  13.3 \n24MHz  9.71 \n16MHz  7.10 \n8MHz  4.35 \n1. It is derived from a comprehensive evaluation and is not tested in production.  \n2. External clock is  8 MHz and PLL is on when f HCMU  > 8 MHz.  \n  \n \nwww.gee hy.com   Page 43 Table 16  Maximum current consumption in Run mode,  data process code run from RAM  \nSymbol  Parameter  Conditions  fHCLK  Maximum Value(1) \nUnit \nTA =105°C , VDD=3.6 V  \nIDD Supply current \nin run mode  External clock (2), \nall peripherals \nenabled  96 MHz  40.7 \nmA 72MHz  32.1 \n48MHz  20.9 \n36MHz  16.6 \n24MHz  11.4 \n16MHz  8.17 \n8MHz  3.87 \nExternal clock (2), \nall peripherals \ndisabled  96 MHz  26.5 \n72MHz  20.5 \n48MHz  14.5 \n36MHz  11.3 \n24MHz  8.22 \n16MHz  6.10 \n8MHz  3.88 \n1. It is derived from a comprehensive evaluation and is not tested in production.  \n2.External clock is 8 MHz and PLL is on when f HCMU > 8 MHz.  \n  \n \nwww.gee hy.com   Page 44 Table 17  Maximum current consumption in Sleep mode,  data process code run  \n from Flash or RAM  \nSymbol  Parameters  Conditions  fHCLK  Maximum Value(1) \nUnit \nTA =105°C , V DD=3.6 V  \nIDD Supply current \nin sleep mode  External clock (2), \nall peripherals \nenabled  96 MHz 34.4 \nmA 72MHz  23.7 \n48MHz  18.6 \n36MHz  14.7 \n24MHz  10.5 \n16MHz  7.88 \n8MHz  5.05 \nExternal clock (2), \nall peripherals \ndisabled  96 MHz  8.38 \n72MHz  6.32 \n48MHz  5.35 \n36MHz  4.64 \n24MHz  4.03 \n16MHz  3.55 \n8MHz  2.91 \n1. It is derived from a comprehensive evaluation and is not tested in production.  \n2. External clock is 8 MHz and PLL is on when f HCMU > 8 MHz.  \n  \n \nwww.gee hy.com   Page 45 Table 18  Maximum Current Consumption in Stop Mode and Standby Mode  \nSymbol  Parameter  Conditions  Maximum Value(1) \nUnit TA=105°C\nVDD=3.6 V  \nIDD Supply \ncurrent in \nstop mode  Regulator in run mode, low -speed \nand high -speed internal RC \noscillators and high -speed oscillator \nOFF(no independent watchdog)  413.31  \nμA Regulator in low-power mode, low -\nspeed and high -speed internal RC \noscillators and high -speed oscillator \nOFF(no independent watchdog)  390.95  \nSupply \ncurrent in \nstandby \nmode  Low-speed internal RC oscillator \nand independent watchdog ON  25.44  \nLow-speed internal RC oscillator is \non, independent watchdog OFF  22.73  \nLow-speed internal RC oscillator \nand independent watchdog OFF, \nlow-speed oscillator and RTC OFF  21.75  \nIDD_VBAT  Supply \ncurrent in \nthe backup \narea Low-speed oscillator and RTC ON  4 \n1.  It is derived from a comprehensive evaluation and is not tested in production.  \nTypical Current Consumption  \nMCU is placed under the following conditions:  \n\uf06c All I/O pins are in input mode with a static value at V DD or V SS (no load).  \n\uf06c All peripherals are disabled except if it is explicitly mentioned.  \n\uf06c The flash memory access time is adjusted to the f HCMU frequency (0 wait state from 0 \n~ 24 MHz, 1 wait state from 24~48 MHz, 2 wait states from 48~72 MHz, 3 wait states \nfrom 72~96 MHz).  \n\uf06c Prefetch in ON (tip: thi s bit must be set before the clock setting and bus prescaling).  \nWhen the peripherals are enabled: f PCLK1 =FHCLK/2\nfpCLK2=fHCLK\n  \n  \n \nwww.gee hy.com   Page 46 Table 19  Typical current consumption in Run mode,  data process code run from Flash  \nSymbol  Parameter  fHCMU Typical Value(1) \nUnit  TA=25°C,V DD=3.3V  \nExternal \nclock(2), all \nperipherals  \nenabled  External \nclock(2), all \nperipherals  \ndisabled  \nIDD Supply current \nin run mode  96 MHz  45.6 25.7 \nmA 72MHz  32.9 19.4 \n48MHz  26.2 16.0 \n36MHz  20.1 12.5 \n24MHz  14.5 9.30 \n16MHz  10.1 6.68 \n8MHz  5.77 4.04 \n1. It derived from comprehensive evaluation and is not tested in production.  \n2. External clock is 8 MHz and PLL is on when f HCMU > 8 MHz.  \nTable 20  Typical cu rrent consumption in Run mode,  data process code run from RAM  \nSymbol  Parameter  fHCMU  Typical Value(1) \nUnit  TA=25°C,V DD=3.3V  \nExternal \nclock(2), all \nperipherals  \nenabled  External \nclock(2), all \nperipherals  \ndisabled  \nIDD Supply current \nin run mode  96 MHz 37.5 25.2 \nmA 72MHz  28.6 19.5 \n48MHz  19.8 13.6 \n36MHz  15.4 10.7 \n24MHz  10.6 7.52 \n16MHz  7.68 5.63 \n8MHz  3.57 3.58 \n1. It derived from comprehensive evaluation and is not tested in production.  \n2. When the external clock is 8MHz and f HCMU >8MHz, it enables PLL.  \n  \n \nwww.gee hy.com   Page 47 Table 21  Typical current consumption in sleep mode, code run from Flash or RAM  \nSymbol  Parameter  fHCMU  Typical Value(1) \nUnit  TA=25°C,V DD=3.3V  \nExternal \nclock(2), all \nperipherals  \nenabled  External \nclock(2), all \nperipherals  \ndisabled  \nIDD Supply current \nin sleep mode  96 MHz  31.2 7.08 \nmA 72MHz  21.5 5.24 \n48MHz  16.6 4.31 \n36MHz  12.6 3.64 \n24MHz  8.95 2.99 \n16MHz  6.57 2.53 \n8MHz  4.01 1.97 \n1. It derived from comprehensive evaluation and is not tested in production.  \n2. External clock is 8 MHz and PLL is on when f HCMU > 8 MHz.  \nTable 22  Typical current Consumption in Stop Mode and Standby Mode  \nSymb\nol Parameters  Conditions  Typical Value(T A =25°C)  \nUnit \nVDD= 2.4V  VDD= 3.3V  \nIDD Supply current \nin stop mode  Regulator in run mode, low -speed and \nhigh-speed internal RC oscillators and \nhigh-speed oscillator OFF(no \nindependent watchdog)  28.9 28.3 \nμA Regulator in low -power mode, low -\nspeed and high -speed internal RC \noscillators and high -speed oscillator \nOFF(no independent watchdog)  16.8 18.5 \nSupply current \nin standby \nmode  Low-speed internal RC oscillator and \nindependent watchdog ON  2.69 4.01 \nLow-speed internal RC oscillator is \non, independent watchdog OFF  2.69 3.83 \nLow-speed internal RC oscillator and \nindependent watchdog OFF, low -\nspeed oscillator and RTC OFF  2.23 3.13 \nIDD_VBAT  Supply current \nin the backup \narea Low-speed oscillator and RTC ON   1.5 \n \nwww.gee hy.com   Page 48 \n External Clock Source Characteristics  \nCrystal/ceramic resonators generate high speed external clocks  \nHigh Speed External ( HSECLK ) clocks can be supplied with a 4 to 16MHz crystal/ceramic \nresonator oscillator.All information presented in this section is based on the results of a \ncomprehensive feature evaluation of typical external components in Table 23.In applications, \nthe resonator and load capacitors must be as close to the oscillator pin as possible to reduce \noutput distortion and stabilization time at startup.  \nFor detailed crystal resonato r parameters (frequency, package, precision, etc.), please \nconsult the appropriate manufacturer.  \nTable 23  HSECLK 4~16 MHz Oscillator Characteristics(1)(2) \nSymbol  Parameters  Conditions  Minimum \nValue  Typical \nValue  Maximum \nValue  Unit \nfOSC_IN  Oscillator Frequency:  - 4 8 16 MHz \nRF Feedback Resistance  - - 300 - kΩ \nC Recommended load \ncapacitance versus \nequivalent serial  \nresistance of the crystal \n(RS)(3) RS = 30k Ω - 30 - pF \ni2 HSECLK  driving current  VDD=3.3V\nVIN=VSS \n30pF load  - - 1.1 mA \ntSU(HSE CLK)(4) Startup time VDD is stabllized  0.60 0.96 1.33 ms \n1.  Resonator characteristics given by the crystal/ceramic resonator manufacturer.  \n2. It is derived from a comprehensive evaluation and is not tested in production.  \n3.  The relatively low  value of the RF resistor offers a good protection against issues resulting from use \nin a humid environment, due to the induced leakage and the bias condition change. However, it is \nrecommended to take this point into account if the MCU is used in tough hu midity conditions.  \n4. t SU(HSE CLK) is the startup time measured from the moment it is enabled (by software) to a stabilized 8 \nMHz oscillation is reached. This value is measured for a standard crystal resonator and it can vary \nsignificantly with the crystal manufacturer.  \nCrystal/ceramic resonators generate low speed external clocks  \nThe low -speed external( LSECLK ) clock can be supplied with a 32.768 KHz crystal \\ceramic \nresonator oscillator. All information given in this section are based on characterization res ults \nobtained with typical external components specified in Table 24. In the application, the \nresonator and the load capacitors have to be placed as closed as possible to the oscillator \npins in order to minimize output distortion and startup stabilization time.  \n \nwww.gee hy.com   Page 49 For detailed parameters (frequency, package, accuracy, etc.) of the crystal resonator, please \nconsult the corresponding manufacturer.  \nTable 24  LSECLK oscillator characteristics (f LSECLK  = 32.768 kHz)  \nSymbol  Parameters  Conditions  Minimum \nValue  Typical \nValue  Maximum \nValue  Unit \nfOSF_IN Oscillator Frequency:  - - 32.768  - KHz \nRF Feedback Resistance  - - 7 - MΩ \nC Recommended load \ncapacitance versus \nequivalent serial  \nresistance of the crystal \n(RS)(3 RS = 30k Ω -\n- -\n- 15 pF \ni2 LSECLK driving current  VDD=3.3V\nVIN=VSS   1.4 μA \ntSU(LSECLK) \n4\n  Startup time  TA=105℃ or 25℃\n \nVDD= 2-3.6V 0.62 1.32 2.02 \ns \nTA=25℃\nVDD=3.3V  0.47 1.17 1.86 \nTA=-40℃\nVDD=3.3V  0.32 4.32 8.32 \n(1) It is derived from a comprehensive evaluation and is not tested in production.  \n(2) Refer to the note and caution paragraphs below the table.  \n(3) tSU(LSECLK ) is the starting time, which is measured from the software enabled LSECLK  until a stable \noscillation of 32.768kHz is obtained.This value is measured using a standard  crystal resonator \nand may vary widely from crystal manufacturer to crystal manufacturer.  \nNote:  For C L1 and C L2, it is recommended to use high -quality ceramic capacitors in the 5 pF to  \n15 pF range selected to match the requirements of the crystal or resonator (see Table 23).  \nCL1 and C L2, are usually the same size. The crystal manufacturer typically specifies a load  \ncapacitance which is the series combination of C L1 and C L2. Load capaci tance CL has the following formula: \nCL = C L1 x C L2 / (C L1 + C L2) + Cstray where Cstray is the pin capacitance and board or trace PCB -related \ncapacitance. Typically, it is between 2 pF and 7 pF.  \nCaution: To avoid exceeding the maximum value of C L1 and C L2 (15 pF) it is strongly recommended  \nto use a resonator with a load capacitance CL ≤ 7 pF. Never use a resonator with a load  \ncapacitance of 12.5 pF.  \n Internal Clock Source Characteristics  \nHigh Speed Internal (HSI CLK) RC Oscillator Test  \nTable 25  HSICLK Oscillator Features(1) \nSymbol  Parameters  Conditions  Minimum \nValue  Typical \nValue  Maximu\nm Value  Unit \nfHSICLK  Frequency  - - 8 - MHz \nACC HSI\nCLK HSICLK  oscillator \naccuracy  Factory \ncalibrated  TA=-25°C  \nVDD = 3.3V  -1 - +1 % \nTA=-40~105°C  -2.76 - 2.3 % \n \nwww.gee hy.com   Page 50 VDD = 3.3V  \nTA=-40~105°C  \nVDD = 2-3.6V -2.76 - 2.45 % \ntSU(HSI CLK) HSICLK  oscillator \nstartup time VDD = 3.3V T A =-40~105° C  1.68 - 1.78 μs \n1.  It is derived from a comprehensive evaluation and is not tested in production.  \nLow Speed Internal (LSICLK ) Oscillator Test  \nTable 26  LSICLK Oscillator Characteristics (1) \nSymbol  Parameters  Minimum \nValue  Typical \nValue  Maximum \nValue  Unit \nfLSICLK  Frequency (V DD = 2-3.6V\n TA = -40~10 5°C) 30 41.50  60 KHz \ntSU(LSI CLK) LSICLK  oscillator startup time \n (VDD = 3.3V\n TA = -40~105°C)  - - 43.33  μs \n1.  It is derived from a comprehensive evaluation and is not tested in production.  \nWake Up Time  from Low -power Mode  \nThe time values in the table are measured during the wake phase by an 8MHz HSICLK  \noscillator as the wake clock source.The clock source used when waking up is determined by \nthe current operating mode:  \n\uf06c Stop or standby mode: the clock source is the RC oscillator  \n\uf06c Sleep mode: the clock source is the clock set before entering Sleep mode  \nTable 27  Wake Up time in Low -power Mode  \nSymbol  Parameter  Typical \nValue Unit \ntWUSLEEP(1) Wake up from Sleep mode  1.78 μs \ntWUSTOP(1) Wake up from Stop mode (regulator in run  mode)  2.55 \nμs \nWakeup from Stop mode (regulator in low-power mode)  4.28 \ntWUSTDBY(1) Wakeup from Standby mode  26.55  μs \n1.The wakeup times are measured from the wakeup event to the point in which the user application \ncode reads  the first instruction.  \n PLL Characteristics  \n  \n \nwww.gee hy.com   Page 51 Table 28  PLL Characteristics  \nSymbol  Parameters  Value  \nUnit Minimu\nm Value  Typical \nValue  Maximu\nm Value \n(1) \nfPLL_IN  PLL Input clock  (2) 1 8 25 MHz \n PLLInput Clock Duty Cycle  40 - 60 % \nfPLL_OUT  PLL multiplier output clock  \n(VDD = 3.3V\n TA = -40~105°C\n  2 - 96 MHz \ntLOCK  PLL lock time - - 112.21  μs \n1. It is derived from a comprehensive evaluation and is not tested in production.  \n2. Take care of using the appropriate multiplier factors so  as to have PLL input clock values compatible \nwith the range defined by f PLL_OUT . \n Memory Characteristics  \nFLASH Memory  \nTable 29  FLASH Memory Characteristics (1) \nSymbol  Parameters  Conditions  Minimum \nValue  Typical \nValue  Maximum \nValue  Unit \ntprog 16-bit programming \ntime TA = -40~105° C  \nVDD=2.4~3.6V  33.7 37.1 40.5 μs \ntERASE  Page (1K bytes) \nerase time TA = -40~105° C  \nVDD=2.4~3.6V  3.50 3.11 3.50 ms \ntME Mass erase time TA = 25° C  \n VDD=3.3V  25.4 26.5 27.7 ms \nVprog Programming \nvoltage  TA = -40~105° C  2.0 3.3 3.6 V \n1.  It is derived from a comprehensive evaluation and is not tested in production.  \n EMC Characteristics  \nSusceptibility tests are performed on a sample basis during device characterization.  \nFunctional EMS (electromagnetic susceptibility)  \nWhile a simple application is executed on the device (toggling 2 LEDs through I/O ports), the \ndevice is stressed by two electromagnetic events until a failure occurs. The failure is indicated \nby the LEDs:  \n\uf06c Electrostatic discharge (ESD) (positive and negative) is applied to all device pins until  \na functional disturbance occurs. This test is compliant with the IEC 61000 -4-2 standard.  \n \nwww.gee hy.com   Page 52 \uf06c  FTB: A Burst of Fast Transient voltage (positive and negative) is applied to V DD and \nVSS through a 100 pF capacitor, until a functional disturbance occurs. This test is \ncompliant with the IEC 61000 -4-4 standard.  \nDevice reset allows normal operation to resume.  \nThe test results are shown in Table 30.  \nTable 30  EMS Characteristics  \nSymbol  Parameters  Conditions  Level  \nVFESD Voltage limits to be applied on any I/O pin \nto induce a functional disturbance.  VDD = 3.3 V, LQFP144,  \nTA = +25 °C, f HCLK = 72 MHz, \nconforms to IEC 61000 -4-2  2A \nVEFTB Fast transient voltage burst limits to be \napplied through 100 pF on  VDD and VSS \npins to induce a functional disturbance.  VDD = 3.3 V, LQFP144,  \nTA = +25 °C, f HCLK = 72 MHz, \nconforms to IEC 61000 -4-4  3A \nDesigning hardened software to avoid noise problems  \nEMC characterization and optimization at component level were performed using typical \napplication environments and simplified MCU software.It is important to note that good EMC \nperformance is highly dependent on user applications, especially software.  \nTherefor e, it is recommended that users implement EMC optimization for their software and \nconduct EMC -related certification testing.  \nSoftware recommendations  \nThe software flowchart must include the management of runaway conditions such as:  \n\uf06c Corrupted program counter  \n\uf06c Unexpected reset  \n\uf06c Critical Data corruption (control registers...)  \nPrequalification trials  \nMost of the common failures (unexpected reset and program counter corruption) can be \nreproduced by manually forcing a low state on the NR ST pin or the Oscillator pins for 1 \nsecond.  \nTo complete these trials, ESD stress can be applied directly on the device, over the range of \nspecification values. When unexpected behavior is detected, the software can be hardened \nto prevent unrecoverable erro rs occurring.  \nElectromagnetic Interference (EMI)  \nThe electromagnetic field emitted by the device are monitored while a simple application is \nexecuted (toggling 2 LEDs through the I/O ports). This emission test is compliant with SAE \nJ1752/3 standard which s pecifies the test board and the pin loading.  \n \nwww.gee hy.com   Page 53 Table 31  EMI Characteristics  \nSymbol  Parameters  Conditions  Detection \nfrequency band  Maximum value  \n(fHSECLK /fHCLK) Unit \n8/48 MHz  8/72 MHz  \nSEMI  Peak  VDD = 3.3V\n TA = \n25 ° C, LQFP1 44 \npackage  compliant \nwith SAE J1752/3  30~130 MHz  PASS  PASS  \ndBμV \n130 MHz ~1GHz  PASS  PASS  \n Absolute maximum ratings (electrical sensitivity)  \nBased on three different tests (ESD, LU) using specific measurement methods, the device \nis stressed in order to determine its performance in terms of electrical sensitivity.  \nElectrostatic discharge (ESD)  \nElectrostatic discharges (a positive then a negati ve pulse separated by 1 second) are  \napplied to the pins of each sample according to each pin combination. The sample size  \ndepends on the number of supply pins in the device (3 parts ×  (n+1) supply pins). This test \nconforms to the JESD22 -A114/C101 standar d. \nTable 32  ESD Absolute maximum ratings  \nSymbol  Parameter  Conditions  Maximum \nValue  Unit \nVESD(HBM)  Electrostatic discharge voltage  \n(human body model)  TA = +25 °C,  \nconforming to JESD22 -A114  4000  \nV \nVESD(CDM)  Electrostatic discharge voltage  \n(charging device model)  TA = +25 °C,  \nconforming to JESD22 -C101  2000  \nStatic latch -up  \nTwo complementary static bolt -lock tests are required on 6 samples to evaluate the bolt -lock \nperformance:  \n\uf06c A supply overvoltage is applied to each power supply pin  \n\uf06c A current injection is applied to each input, output and configurable I/O pin  \nThese tests are compliant with EIA/JESD 78E IC latch -up standard.  \nTable 33  Static latch -up(1) \nSymbol  Parameter  Conditions  Type  \nLU Static latch -up  TA = +25 °C/105°C  \n conforming to EIA/JESD78E  ±200mA  \n \nwww.gee hy.com   Page 54 (1) the sample data is measured by other testing institutions, and no testing is conducted in production.  \n I/O Port Characteristics  \nInput/Output Static Characteristics  \nTable 34  I/O Static Characteristics (Test conditions V DD = 2.7 -3.6V, T A = -40 ~ 105 ° C)  \nSymbol  Parameters  Conditions  Minimum \nValue  Typical  \nValue  Maximum \nValue  Unit \nVIL Low level input voltage  \nTTL port  -0.5 - 0.8 \nV VIH Standard I/O pin  \n input high level voltage  2 - VDD+0.5 \n FT I/O  pin(1), \ninput high level voltage  2 - 5.5 \nVIL Input low level voltage  \nCMOS port  -0.5 - 0.3V DD \nVIH Input high level voltage  0.7V DD - VDD+0.5 \nVhys Standard I/O Schmitt trigger voltage \nhysteresis(2)) \n 150 -  mV \nI/OFT  Schmitt trigger voltage \nhysteresis(2) 5% V DD -  mV \nIlkg Input leakage current(3) VSS ≤ VIN ≤ VDD \nStandard I/O port   - ±1 \nμA \nVIN = 5V\n  \nI/O FT   - 1 \nRPU Weak pull -up equivalent \nresistance(4) VIN = VSS 32 40 49 kΩ \nRPD Weak pull -down equivalent \nresistance (4) VIN = VDD 32 40 49 kΩ \nCIO I/O pin capacitance    5  pF \n1. FT = 5V tolerant. In order to sustain a voltage higher than VDD+0.3 the internal pull -up/pull -down \nresistors must be disabled.  \n2. Hysteresis voltage between Schmitt trigger switching levels. It is derived from a comprehensive \nevaluation and is not tested in production.  \n3. Leakage could be higher than max. if negative current is injected on adjacent pins.  \n4. Pull -up and pull -down res istors are designed with a true resistance in series with a switchable \nPMOS/NMOS.  \nOutput Driving Current Test  \nThe GPIO (General Purpose Input/Output Port) can sink or output up to ± 8mA, and can sink \nup to ± 20mA ( VOL/VOH reduction). In user applications, th e number of I/Os capable of driving \ncurrent must be limited so that the current consumed cannot exceed the absolute maximum \nrating:  \n \nwww.gee hy.com   Page 55 \uf06c The sum of the currents sourced by all the I/Os on V DD plus the maximum Run \nconsumption of the MCU sourced on V DD, cannot e xceed the absolute maximum \nrating I VDD. \n\uf06c The sum of the currents sunk by all the I/O on V SS, plus the maximum Run \nconsumption of the MCU sunk on V SS, cannot exceed the absolute maximum rating \nIVSS. \nOutput Voltage Test  \nTable 35  Output Voltage Characteristics (test conditions V CC=2.7-3.6V, T A = -40~105°C)  \nSymbol  Parameters  Conditions  Minimu\nm \nValue  Maxim\num \nValue  Unit \nVOL(1) Output low level voltage for an I/O pin \nwhen 8 pins are sunk at same time  \nTTL port,  IIO = +8mA  \n2.7V < VDD < 3.6V  - 0.4 \nV \nVOH(2) Output high level voltage for an I/O \npin when 8 pins are sourced at same \ntime VDD -\n0.4 - \nVOL(1) Output low level voltage for an I/O pin \nwhen 8 pins are sunk at same time  \nCMOS port, IIO = +8mA  \n2.7V < VDD < 3.6V  - 0.4 \nV \nVOH(2) Output high level voltage for an I/O \npin when 8 pins are sourced at same \ntime 2.4 - \nVOL(1)(3) Output low level voltage for an I/O pin \nwhen 8 pins are sunk at same time  \nIIO = +20mA  \n2.7V < VDD < 3.6V  - 1.3 \nV \nVOH(2)(3) Output high level voltage for an I/O  \npin when 8 pins are sourced at same \ntime VDD -\n1.3 - \n1. The IIO current sunk by the device must always respect the absolute maximum rating specified \nin, and the sum of IIO (I/O ports and control pins) must not exceed IVSS.  \n2. The IIO current sourced by the device must always respect the absolute maximum rating \nspecified in, and the sum of IIO (I/O ports and control pins) must not exceed IVDD.  \n3. It is derived from a comprehensive evaluation and is not tested in production.  \nInput and Output AC Features ( TA = 25°C)  \nTable 36  I/O AC Characteristics  \nMODEx[1:0]  \nConfiguration  Symbol  Parameters  Conditions  Minimum \nvalue  Maximum \nvalue  Unit \n10 \n(2MHz)  fmax(IO)out  Maximum \nfrequency(2) CL = 50 pF, V DD = 2~3.6V   2 MHz \ntf(IO)out  Output high to \nlow fall time CL = 50 pF, V DD = 2~3.6V   50(3) \nns \ntr (IO)out  Output low to high  50(3) \n \nwww.gee hy.com   Page 56 rise time \n01 \n(10MHz)  fmax(IO)out  Maximum \nfrequency(2) CL = 50 pF, V DD = 2~3.6V   10 MHz \ntf(IO)out  Output high to \nlow fall time \nCL = 50 pF, V DD = 2~3.6V   24(3) \nns \ntr (IO)out  Output low to high \nrise time  23 \n11 \n(50MHz)  fmax(IO)out  Maximum \nfrequency(2) CL = 30 pF, V DD = \n2.7~3.6V   48 MHz \ntf(IO)out  Output high to \nlow fall time CL = 30 pF, V DD = \n2.7~3.6V   7(3) \nns \ntr (IO)out  Output low to high \nrise time  5(3) \n1. The I/O speed can be configured by MODEx[1:0].  \n2. The maximum frequency is defined in the figure below.  \n3. It is guaranteed by design and is not tested n production.  \nT10%50%90% 10%\n50%\n90%\ntr(IO)OUT tr(IO)OUT外部输出\n负载是50pF\n如果(tr+tf)小于等于(2/3)T,并且占空比是（45~55%）\n当负载为50pf时，达到最大的频率\n \n NRST Pins Characteristics  \nThe NRST pin input driver uses CMOS technology. It is connected to a permanent pull -up \nresistor, R PU. \nTable 37  NRST Pin Characteristics (Test condition V CC=3.3V, TA = -40~105°C)  \nSymbol  Parameters  Conditions  Minimu\nm \nValue  Typical \nValue  Maxim\num \nValue  Unit \nVIL(NRST)(1) NRST Input low level voltage  - -0.5  0.8 \nV \nVIH(NRST)(1) NRST Input high level \nvoltage  - 2 - VDD+0.5 \nVhys(NRST)  NRST Schmitt trigger voltage - 270 300 340 mV External \noutput on \n50pF  \nMaximum frequency is achieved if \n + \n≤(2/3) T and if the duty cycle \nis (45~55%) when loaded by 50pF  \n \nwww.gee hy.com   Page 57 hysteresis  \nRPU Weak pull -up equivalent \nresistance(2)  VIN = VSS 30 40 53 kΩ \n1. It is guaranteed by design, and is not tested in production.  \n2. The pull -up resistor is implemented by a pure resistor in series with a switchable PMOS/NMOS \ntransistor. The PMOS/NMOS switch has a small resistance.  \n Communication Interface  \nI2C Interface Characteristics  \nTable 38  I2C Interface Characteristics (Test conditions V DD=3.3V, TA = 25°C)  \nSymbol  Parameters  Standard  I2C(1) Fast I2C(1) (2) \nUnit Minimum \nValue  Maximum \nValue  Minimum \nValue  Maximum \nValue  \ntw(SCLL)  SCL clock low time 4.88 - 1.77 - \nμs \ntw(SCLH)  SCL clock high time 5.10 - 0.717  - \ntsu(SDA)  SDA setup time 1080 - 1000 - \nns th(SDA)  SDA hold time  0\n3\n 451.85  0\n4\n 457.77\n3\n \ntr(SDA)  \ntr(SCL)  Rise time for SDA and SCL  - 381.625  - 389.563  \ntf(SDA)  \ntf(SCL)  Fall time for SDA and SCL  - 4.33 - 3.79 \nth(STA)  Start condition hold time 4.94 - 0.822  - \nμs \ntsu(STA)  Repeated start condition \nsetup time 4.99 - 0.8124  - \ntsu(STO)  Stop condition setup time 4.92 - 0.81 - μs \ntw(STO:STA)  Stop to Start condition time \n(bus free) 5.36 - 2.06 - μs \n(1) It is guaranteed by design, and is not tested in production.  \n(2) For the bit to reach the maximum frequency of the standard mode I2C, fPCMU1  must be greater \nthan 2MHz. To achieve the maximum frequency of fast mode I2C, fPCMU1  must be greater than \n4MHz.  \n(3) If you  do not want to stretch the low tim e of the SCL signal, the maximum hold time of the start \ncondition must be met.  \n(4) The device must internally provide a hold time of at least 300ns for the SDA signal in order to \nbridge the undefined region on the falling edge of SCL.  \n \nwww.gee hy.com   Page 58 Figure 12  IC Bus AC Waveform and Measurement Circuit  (1) \n{ I²C总线VDD VDD\n4.7KΩ 4.7KΩ\n100Ω\n100Ω\nSCLSDA\nAPM 32F103XX\nStart repeated\nStarttsu(STA )\ntsu(STO )tsu(STO ;STA )StopStart\nth(SDA )tf(STA )SDA\ntr(SDA ) tsu(SDA )\ntf(SCL )tf(SCL) tw(SCLL )SCLth(STA) tw(SCLH )\n \n1. Measured points are done at CMOS levels: 0.3 V DD and 0.7 V DD. \nSPI Interface Characteristics  \nTable 39  SPI Characteristics (VDD = 3.3V, TA = 25°C)  \nSymbol  Parameters  Conditions  Minimu\nm \nValue  Maximum \nValue  Unit \nfSCK  \n1/tc(SCK)  SPI Clock Frequency  Master mode  - 18 \nMHz \nSlave Mode  - 18 \ntr(SCK)  \ntf(SCK)  SPI clock rise and fall \ntimes Load capacitance: C=30pF  - 3.7 ns \ntsu(NSS) (2) NSS setup time Slave mode  109.7  - ns \nth(NSS) (2) NSS hold time Slave mode  85.3 - ns \ntw(SCKH)(2) \ntw(SCKL)(2) SCK high and low time Master mode  \n fPCMU = 36MHz\n presc=4  53.9 57.2 ns \ntsu(MI)(2) \ntsu(SI)(2) Data input setup time Master mode  9.1 - \nns \nSlave mode  19.0 - \nth(MI)(2) \nth(SI)(2) Data input hold time Master Mode  30.0 - \nns \nSlave Mode  21.6 - \nta(SO)(2)(3) Data output access  time Slave mode, f PCLK  = 20MHz  6.6 10.1 ns \ntdis(SO)(2)(4\n) Data output disable time Slave mode  6.6 - \nns \n \nwww.gee hy.com   Page 59 Symbol  Parameters  Conditions  Minimu\nm \nValue  Maximum \nValue  Unit \ntv(SO)(2)(1) Data output valid time Slave mode (after enable edge)  - 15.4 ns \ntv(MO)(2)(1) Data output valid time Master mode (after enable edge)  - 15.4 ns \nth(SO)(2) \nData output hold time Slave mode (after enable edge)  7.17 - \nns \nth(MO)(2) Master mode (after enable edge)  7.03 - \n1. The remapped SPI1 characteristics needs further determination.  \n2. It is derived from calculation and is not tested in production.  \n3. The minimum value represents the minimum time to drive the output, and the maximum value \nrepresents the maximum time to validate the data.  \n4. The minimum value represents the minimum time to invalidate the output, and the maximum value \nrepresents the ma ximum time to place the data in Hi -Z. \nFigure 13  SPI Timing Diagram - Slave Mode and CPHA=0  \nNSS input\nMOSI  inputMISO  \noutputCPHA =0\nCPOL =0\nCPHA =0\nCPOL =1\nMSB OUT BIT 6~1 OUT LSB OUT\nLSB IN MSB IN BIT 6~1 INth(NSS) tc(SCK)\ntr(SCK)tf(SCK)tdls(SO) th(SO) tV(SO)ta(SO)\ntSU(SI)tSU(NSS)\nth(SCKH )\ntW(SCKL )\nSCK input\n \n \nwww.gee hy.com   Page 60 Figure 14  SPI Timing Diagram - Slave Mode and CPHA= 1(1) \nNSS input\nMISO \noutputCPHA =1\nCPOL =0\nCPHA =1\nMSB OUT BIT6~1 OUT LSB OUT\nLSB IN MSB IN BIT 6~1 INtc(SCK)\nth(SI) tSU(SI)th(NSS)\nMOS  IntputCPOL =1\nSCK inputtSU(NSS)\ntW(SCKH )\ntW(SCKL )\nta(SO)tV(SO)th(SO)tf(SCK)tr(SCK)\ntdls(SO)\n \n1. The measured points are done at CMOS levels: 0.3 V DD and 0.7 V DD. \nFigure 15  SPI Timing Diagram - Master Mode(1) \nHigh\nNSS input\nMOSI \noutputMISO input MSB IN\nMSB OUTBIT 6~1 IN LSB IN\nLSB OUT BIT 6~1 OUTCPHA=0CPOL=0\nCPHA=0CPOL=1\nCPHA=1CPOL=0\nCPHA=1CPOL=1tc(SCK)\nth(MI)\ntv(MO)th(MO)SCK input\nSCK input tW(SCKH)\ntW(SCKL)tSU(MI)tr(SCK)\ntf(SCK)\n \n1. The measured points are done at CMOS levels: 0.3 V DD and 0.7 V DD. \n  \n \nwww.gee hy.com   Page 61 USBD  Interface Characteristics  \nFigure 16  USBD  Timings: Definition of Data Signal Rise and Fall Times  \n交叉点\n差分数据线\nVCRS\nVSS\ntf tf\n  \nTable 40  USBD Full Speed Electrical Characteristics(V DD = 3.0~3.6V ，T A = 25℃） \nSymbol  Parameter  Conditions  Minimum \nValue\n1\n Maximum \nValue\n1\n Unit \nInput levels  \nVDD USBD  operating \nvoltage \n2\n - 3.0\n3\n 3.6 V \nVDI\n4\n Differential input \nsensitivity  I\nUSBDP\n USBDM\n  0.2 - \nV VCM\n4\n Differential common \nmode range  Include V DI range  0.8 2.5 \nVSE\n4\n Single ended \nreceiver threshold  - 1.3 2.0 \nOutput levels  \nVOL Static output level \nlow RL of 1.5k Ωto 3.6V\n5\n - 0.3 \nV \nVOH Static output level \nhigh RL of 1.5k Ωto V SS\n5\n 2.8 3.6 \n1. All the voltages are measured from the local ground potential.  \n2. In order to be compatible with USB2.0 full -speed electrical specification, USBDP (D +) pin must be \npulled up with a 1.5 k Ω resistor connected to the voltage from 3.0 V to 3.6 V.  \n3. The function of APM32F103xDxE  is ensured down to 2.7 V but not the electrical characteristics which \nare degraded in the 2.7 -to-3.0 V voltage range.  \n4. Guaranteed by comprehensive evaluation and is not tested in production.  \n5. RL is the load connected on the USBD  drivers.  \n \n \n  12-bit ADC Characteristics  \nTable 41  ADC Characteristics (V DD =2.4-3.6V, T A =-40~105°C)  \nSymbol  Parameters  Conditions  Minimum Typical Maximum Unit Differential \ndata lines  Crossover \npoints  \n \nwww.gee hy.com   Page 62 Value  Value  Value  \nVDDA Power supply  - 2.4 - 3.6 V \nVREF+ Positive reference voltage  - 2.4 - VDDA V \nIVREF Current on VREF+ input pin  - - 260 484 μA \nfADC ADC clock frequency  - 0.6 - 14 MHz \nfS(2) Sampling rate  - 0.05 - 1 MHz \nVAIN(3) Conversion voltage range  - 0 - VREF+ V \nRADC(2) Sampling resistor  - - 1 - kΩ \nCADC(2) Sample and hold capacitor  - - 2 - Pf \ntCAL Calibration time  fADC = 14MHz  5.9 μs \n- 83 1/fADC \ntS(2) Sampling time fADC = 14MHz  0.107  - 17.1 μs \n- 1.5 - 239.5  1/fADC \ntCONV(2) Total conversion time \n(including sampling time) fADC = 14MHz  1 - 18 μs \n- 14 to 252(t S for sampling + 12.5 for \nsuccessive approximation)  1/fADC \nEquation 1: R AIN max formula  \nRAIN<Ts/f ADCxCADCxIn(2N+2)-RADC \nfADC=14MHz,C ADC=2PF,R ADC=kΩ. For 0.25LSB sampling error accuracy requirements, the relationship \nbetween T S and R AIN is shown in the following table:  \nTable 42  Maximum R AIN at f ADC=14MHz（1） \nTS\ncycle\n  tS\nμs\n Maximum R AIN\n kΩ\n \n1.5 0.11 4.5 \n7.5 0.54 26.6 \n13.5 0.96 48.7 \n28.5 2.04 103.9  \n41.5 2.96 151.7  \n55.5 3.96 203.2  \nTable 43  ADC Accuracy  \nSymbol  Parameter  Conditions  Typical \nvalue  Maximu\nm value(3) Unit  \n \nwww.gee hy.com   Page 63 ET Total error  \nfPCLK2 = 56MHz,  \nfADC = 14MHz,R AIN < 10kΩ  \nVDDA = 2.4~3.6V ,TA=-40~105℃ \nMeasurement made after ADC \ncalibration  ±2.5 ±5.5 \nLSB Eo Offset error  ±2.1 ±3.5 \nEG Gain error  ±2.0 ±4 \nED Differential \nlinearity error  ±1.5 ±2.5 \nEL Integral \nlinearity error  ±1.8 ±3 \n(1) ADC DC accuracy values are measured after internal calibration.  \n(2) ADC Accuracy vs. Negative Injection Current: Injecting negative current on any standard analog input \npins should be avoided as this significantly reduces the accuracy of the conversion being performed \non another analog input. It is recommended to add a Sch ottky diode (pin to ground) to standard \nanalog pins which may potentially inject negative current.  \n(3) Any positive injection current within the limits specified for I INJ(PIN)  and ΣI INJ(PIN)  in Section 5.3.12 does \nnot affect the ADC accuracy.  \n(4) Guaranteed by co mprehensive evaluation and is not tested in production.  \n DAC electrical specifications  \nTable 44  DAC  Characteristics  \nSymbol  Parameter  Conditions  Minimum \nValue  Typical \nValue  Maximum \nValue  Unit \nVDDA Analog supply voltage  - 2.4 - 3.6 V \nVREF+ Reference supply voltage  VREF +must always be below \nVDDA  2.4 - 3.6 V \nVSSA Ground  - 0 - 0 V \nRLOAD Resistive load with buffer \nON - 5 -  kΩ \nCLOAD Capacitive load  Maximum capacitive load at  \nDAC_OUT pin (when the buffer is  \nON).  - - 50 pF \nDAC_OUT  min Lower DAC_OUT voltage \nwith buffer  It gives the maximum output  \nexcursion of the DAC.  \nIt corresponds to 12 -bit input code \n(0x0E0) to (0xF1C) at VREF+ = \n3.6 V and (0x155) and (0xEAB) at \nVREF+= 2.4 V  0.186  0.194  0.203  V \nDAC_OUT max  Higher  output voltage with \nbuffer  - - VREF+-0.2 V \nDAC_OUT min  Lower DAC_OUT voltage \nwith buffer  It gives the maximum output  \nexcursion of the DAC.  0.308  - 272.36  mV \nDAC_OUT max  Higher DAC_OUT voltage \nwith buffer  2.381  - 2.398  mV \n \nwww.gee hy.com   Page 64 Symbol  Parameter  Conditions  Minimum \nValue  Typical \nValue  Maximum \nValue  Unit \nDNL Differential non linearity  \nDifference between two  \nconsecutive code -1LSB)  DAC in 12 -bit configuration  -2.38 -  \n1.72 LSB \nINL Integral non linearity  \n(difference between  \nmeasured value at Code i  \nand the value at Code i on a \nline drawn between Code 0 \nand last Code 1023)  DAC in 12 -bit configuration  -6.58 - 6.38 LSB \nOffset  Offset error  \n(difference between  \nmeasured value at Code  \n(0x800) and the ideal value  \n= VREF+/2)  Given for the DAC in 12 -bit at \nVREF+ = 3.6  -6.60 - 9.13 LSB \nGain error  Gain error  DAC in  12-bit configuration  -0.58 - 0.23 % \nFigure 17  12-bit buffered/non -buffered DAC  \n1. \nThe DAC integrates an output buffer that can be used to reduce the output impedance and to drive external loads \ndirectly without the use of an external operational amplifier. The buffer can be bypassed by  \nconfiguring the BOFFx bit in the DAC_CR registe r. \n  Buffered/non -buffered DAC  \n12-bit digital \nto analog \nconverter  Buffer(1)  \n \nwww.gee hy.com   Page 65 9   Packaging Information  \n9.1  LQFP144 Package Diagram  \nFigure 18  LQFP144 Package Diagram  \n \n1. Drawing is not to scale.  \n2. All pins should be soldered to the PCB.  \n\n \nwww.gee hy.com   Page 66 Table 45  LQFP144 Package Data  \nDIMENSION LIST ( FOOTPRINT: 2.00)  \nS/N SYM  DIMENSIONS  REMARKS  \n1 A MAX. 1.600  OVERALL HEIGHT  \n2 A2 1.400±0.050  PKG THICKNESS  \n3 D 22.000±0.200  LEAD TIP TO TIP  \n4 D1 20.000±0.100  PKG LENGTH  \n5 E 22.000±0.200  LEAD TIP TO TIP  \n6 E1 20.000±0.100  PKG WDTH  \n7 L 0.600±0.150  FOOT LENGTH  \n8 L1 1.000 REF  LEAD LENGTH  \n9 e 0.500 BASE  LEAD PITCH  \n10 H(REF)  (17.50)  CUM LEAD PITCH  \n11 b 0.22±0.050  LEAD WIDTH  \n1.dimensions in millimeters.  \nFigure 19  LQFP144 -144 pins, 20 x 20mm recommended welding Layout  \n \n1.dimensions in millimeters.  \n\n \nwww.gee hy.com   Page 67 Figure 20  LQFP144 -144 pin, 20 x20 mm package identification diagram  \nF103ZET6APM 32\nR\nXXXX\nProduct Series\nModel\nVersion\nYear and weak\nArm \nAuthorization\nIdentification\n \n \nwww.gee hy.com   Page 68 9.2  LQFP100 Package Diagram  \nFigure 21  LQFP100 Package Diagram  \n \n1. Drawing is not to  scale.  \n2. All pins should be soldered to the PCB.  \n\n \nwww.gee hy.com   Page 69 Table 46  LQFP100 Package Data  \nDIMENSION LIST(FOOTPRINT: 2.00)  \nS/N SYM  DIMENDIONS  REMARKS  \n1 A MAX. 1.600  OVERALL HEIGHT  \n2 A2 1.400±0.050  PKG THICKNESS  \n3 D 16.000±0.200  LEAD TIP TO TIP \n4 D1 14.000±0.100  PKG LENGTH  \n5 E 16.000±0.200  LEAD TIP TO TIP  \n6 E1 14.000±0.100  PKG WDTH  \n7 L 0.600±0.150  FOOT LENGTH  \n8 L1 1.000 REF  LEAD LENGTH  \n9 e 0.500 BASE  LEAD PITCH  \n10 H(REF)  (12.00)  CUM LEAD PITCH  \n11 b 0.22±0.050  LEAD WIDTH  \n1.Dimensions in millimeters.  \nFigure 22  LQFP100 - 100 pin, 14 x 14mm recommended welding Layout  \n            \n1.Dimensions in millimeters.  \n\n \nwww.gee hy.com   Page 70 Figure 23  LQFP100 - 100 pin, 14 x 14mm package identification diagram  \nF103VET6APM 32\nR\nXXXX\nProduct Series\nModel\nVersion\nYear and weak\nArm \nAuthorization\nIdentification\n \n9.3  LQFP64 Package Diagram  \nFigure 24  LQFP64 Package Diagram  \n \n \n\n \nwww.gee hy.com   Page 71 1. Drawing is not to scale.  \n2.  All pins should be soldered to the PCB.  \nTable 47  LQFP64 Package Data  \nDIMENSION LIST(FOOTPRINT: 2.00)  \nS/N SYM  DIMENDIONS  REMARKS  \n1 A MAX. 1.600  OVERALL HEIGHT  \n2 A2 1.400±0.050  PKG THICKNESS  \n3 D 12.000±0.200  LEAD TIP TO TIP  \n4 D1 10.000±0.100  PKG LENGTH  \n5 E 12.000±0.200  LEAD TIP TO TIP  \n6 E1 10.000±0.100  PKG WDTH  \n7 L 0.600±0.150  FOOT LENGTH  \n8 L1 1.000 REF  LEAD LENGTH  \n9 e 0.500 BASE  LEAD PITCH  \n10 H(REF)  (7.500)  CUM LEAD PITCH  \n11 b 0.22±0.050  LEAD WIDTH  \n1.Dimensions in millimeters.  \n  \n \nwww.gee hy.com   Page 72 Figure 25  LQFP64 - 64 pin, 10 x 10mm recommended welding Layout  \n \n1.Dimensions in millimeters.  \nFigure 26  LQFP64 - 64 pin, 10 x 10mm identification diagram  \nF103RET6APM 32\nR\nXXXX\nProduct Series\nModel\nVersion\nYear and weak\nArm \nAuthorization\nIdentification\n \n \n\n \nwww.gee hy.com   Page 73 10   Ordering Information  \n \nTable 48  Ordering Information Table  \nOrder No.  FLASH(KB)  RAM(KB)  Package  SPQ  Temperature range  \nAPM32F103RDT6 -R 384 64 LQFP64  1000  Industrial level -40℃\n~85℃ \nAPM32F103RDT6  384 64 LQFP64  1600  Industrial level -40℃\n~85℃ \nAPM32F103RET6 -R 512 128 LQFP64  1000  Industrial level -40℃\n \nwww.gee hy.com   Page 74 Order No.  FLASH(KB)  RAM(KB)  Package  SPQ  Temperature range  \n~85℃ \nAPM32F103RET6  512 128 LQFP64  1600  Industrial level -40℃\n~85℃ \nAPM32F103VDT6  384 64 LQFP100  900 Industrial level -40℃\n~85℃ \nAPM32F103VET6  512 128 LQFP100  900 Industrial level -40℃\n~85℃ \nAPM32F103ZDT6  384 64 LQFP144  600 Industrial level -40℃\n~85℃ \nAPM32F103ZET6  512 128 LQFP144  600 Industrial level -40℃\n~85℃ \n1. SPQ= Minimum Packaging Quantity  \n  \n \nwww.gee hy.com   Page 75 11   Package Information  \nFigure 27  Specification drawing of ribbon packaging  \n \nA0 Dimension designed to accommodate the component width  \nB0 Dimension designed to accommodate the component length  \nK0 Dimension designed to accommodate the component thickness  \nW Overall width of the carrier tape  \nQuadrant Assignments for PIN1 Orientation in Tape  \n \nReel Dimensions  \n   \nTable 49  Strip Packaging Parameter Specification  \nDevice  Package  Pins  SPQ  Reel A0 B0 K0 W Pin1  \n\n \nwww.gee hy.com   Page 76 Type  Diameter  \n(mm)  (mm)  (mm)  (mm)  (mm)  Quadrant  \nAPM32F103RET6  LQFP  64 1000  330 12.35  12.35  2.2 24 Q1 \nAPM32F103RDT6  LQFP  64 1000  330 12.35  12.35  2.2 24 Q1 \nFigure 28  Schematic diagram of pallet packing  \n \nTray Dimensions  \n \n \n \n   \n \n\n \nwww.gee hy.com   Page 77     \nAll photos are for reference only, appearance is subject to the product.  \nTable 50  Pallet packing parameters specification sheet  \nDevice  Package \nType  Pins  SPQ  X-\nDimension  \n(mm)  Y-\nDimension  \n(mm)  X-Pitch  \n(mm)  Y-Pitch  \n(mm)  Tray \nLength  \n(mm)  Tray \nWidth  \n(mm)  \nAPM32F103ZET6  LQFP  144 600 22.06  22.06  25.4 25.2 322.6  135.9  \nAPM32F103ZDT6  LQFP  144 600 22.06  22.06  25.4 25.2 322.6  135.9  \nAPM32E103VET6  LQFP  100 900 16.6 16.6 20.3 21 322.6  135.9  \nAPM32F103VET7  LQFP  100 900 16.6 16.6 20.3 21 322.6  135.9  \nAPM32E103VDT6  LQFP  100 900 16.6 16.6 20.3 21 322.6  135.9  \nAPM32F103RET6  LQFP  64 1600  12.3 12.3 15.2 15.7 322.6  135.9  \nAPM32F103RDT6  LQFP  64 1600  12.3 12.3 15.2 15.7 322.6  135.9  \n \n  \n\n \nwww.gee hy.com   Page 78 12   Commonly Used Function Module Denomination  \nTable 51  Commonly Used Function Module Denomination  \nCommonly Used  Function Module Denomination  \nModule function  Abbreviation  \nReset management unit  RMU  \nClock management unit  CMU  \nReset and Clock management unit  RCM  \nExternal Interrupt  EINT  \nGeneral Purpose IO  GPIO  \nAlternate Function IO  AFIO  \nWakeup controller  WUP T \nBuzzer  BUZZER  \nIndependent watchdog timer  IWDT  \nWindow watchdog timer  WWDT  \nTimer  TMR  \nCRC Controller  CRC  \nPower management unit  PMU  \nThe banked register  BAKPR  \nDMA Controller  DMA  \nanalog -digital converter  ADC  \ndigital -analog converter  DAC  \nReal-time clock  RTC \nExternal storage controller  EMMC  \nSDIO Interface  SDIO  \nUSBD  Device Controller  USBD  \nController Local Area Network  CAN  \nUSBD  OTG  OTG  \nEthernet  ETH \nI2CcInterface  I2C \nSerial Peripheral Interface  SPI \nUniversal Asynchronous Receiver\n Transmitter  UART  \nUniversal Asynchronous/Synchronous Receiver\n Transmitter  USART  \nFlash memory interface control unit  FMC  \n  \n \nwww.gee hy.com   Page 79 13   Version  History  \nTable 52  Document Version  History  \nDate  Version  Change History  \n2020.02.xx  1.0.0  Initial release  \n2020.03.05  1.0.1  Note that only 144pin supports SDRAM  \n2020.03.27  1.1.0  Correct PF11 pin, PF12 pin  \n2020.5.28  1.2.0  Correct clerical errors in pin and EMC test reference standards  \n2020.6.22  1.3.0  Whole product characteristics, system block diagram, clock tree, storage map, \npower supply scheme  \n2020.7.6  1.3.1  Modify the cover format, modify the SPI feature comment (1)  \n2020.9.10  1.4 (1) Modify the electrical characteristic data  \n(2) Modify “order code ” in “order information list ”, add “minimum package \nnumber ”, “Flash capacity description ”, and modify the naming rules of “order \ninformation ” \n(3) Modify the function description information in GPIO and add DMC related IO \ndescription  \n(4) Adjust the chapter structure  \n(5) Supplement the description of algorithms sup ported in the section “FPU” \n2021.1.20  1.4 (1) Delete the content of APM32F103XC as required  \n(2) Modify APM32F103xCxDxE -APM32F103xDxE, HXT-HSECLK ,LXT-\nLSECLK ,HIRC -HSICLK ,LIRC -LSICLK ,USB-USBD  \n2021.4.23  1.5 (1) Add APM32F103VET7 model to the packaging information  \n(2) Modify the packaging logo, front cover, back cover and header  \n2021.8.25  1.6 (1) Modify  the table  32 VESD  (CDM)  as the electrostatic  discharge  voltage  \n(charging  equipment  model)  \n(2) Modify  the product  features  in the profile  number  1 (originally  to 2) \n(3) Add USBD2  and profile  for the common  pin, cannot  be used  at the same  \ntime.  \n(4) Modify  the NVIC  may block  channel  number  is 65 \n(5) Modifying the clock tree  \n2022.6.30  1.7 (1) Modify  Arm trademark  \n \nwww.gee hy.com   Page 80 (2) Add the statement  \n2022.8.22  1.8 (1) Delete  all temperature  sensor  contents  \n(2) Delete the description of RGSQT in FPU module.  \n \n  \n \nwww.gee hy.com   Page 81 Statement  \n \nThis document  is formulated  and published by Geehy  Semiconductor Co., Ltd. (hereinafter referred to as \n“Geehy ”). The contents in this document  are protected by laws and regulations of trademark, copyright and software \ncopyright. Geehy  reserves the right to make correct ions and modif ications  to this document at any time. Please read \nthis document carefully before using Geehy products . Once you us e the Geehy product, it means that you (hereinafter \nreferred to as the “users”) have know n and accept ed all the contents of this document. Users shall  use the Geehy \nproduct  in accordance with relevant laws and regulations and the requirements of this docum ent. \n1. Ownership  \nThis document can only be used in connection  with the corresponding chip products or software products \nprovided by Geehy . Without the prior permission of Geehy , no unit or individual may copy, transcribe, modify, edit \nor disseminate all o r part of the contents of this document for any reason or in any form . \nThe “极海 ” or “Geehy ” words or graphics  with “®” or “TM” in this document a re trademarks of Geehy . Other \nproduct or service names displayed on Geehy products are the property of their respective owners.  \n2. No Intellectual Property License  \nGeehy owns all rights, ownership and intellectual property rights involved in this document.  \nGeehy shall not be deemed to grant the license or right of any intellectual property to users explicitly or implicitly \ndue to the sale or distribution of Geehy products or this document.  \nIf any third party ’s products, services or intellectual property are involved in this document, it shall not be \ndeemed that Geehy authorizes users to use the aforesaid third par ty’s products, services or intellectual property, unless \notherwise agreed in sales order or sales contract.  \n3. Version Update  \nUsers can obtain the latest document of the corresponding model s when ordering Geehy products . \nIf the contents in this document are inconsistent with Geehy  products, the agreement in thesales order or the \nsales contract shall prevail.  \n4. Information Reliability  \nThe relevant data in this document are obtained from  batch test by Geehy  Laboratory or co operative third -party \ntesting organization. However , clerical errors in correction or errors caused by differences in testing environment  \n \nwww.gee hy.com   Page 82 may occur inevitably . Therefore, users should understand that Geehy does not bear any responsibility for such errors \nthat may occur in this document. The relevant data in this document are only used to guide users as performance \nparameter reference and do not constitute Geehy ’s guarantee for any product performance.  \nUsers shall select appropriate Geehy products according to their own needs, and effectively verify and test the \napplicability of Geehy products  to confirm that Geehy products meet their own needs, corresponding standards, safety \nor other reliability requirements . If loses are caused to users  due to the user ’s failure to fully verify and test Geehy \nproducts, Geehy will not bear any responsibility.  \n5. Legality  \n   USERS SHALL ABIDE BY ALL APPLICABLE LOCAL LAWS AND REGULATIONS WHEN USING THIS \nDOCUMENT AND THE MATCHING GEEHY PRODUCTS. USERS SHALL UNDERSTAND THAT THE \nPRODUCTS MAY BE RESTRICTED BY THE EXPORT, RE -EXPORT OR OTHER LAWS OF THE \nCOUNTIRIES OF THE PRODUCTS SUPPLIERS, GEEHY , GEEHY DISTRIBUTORS AND USERS. USERS (ON \nBEHALF OR ITSELF, SUBSIDIARIES AND AFFILIATED ENTERPRISES) SHALL AGREE AND PROMISE \nTO ABIDE BY ALL  APPLICABLE LAWS AND REGULATIONS ON THE EXPORT AND RE -EXPORT OF \nGEEHY PRODUCTS AND/OR TECHNOLOGIES AND DIRECT PRODUCTS.  \n6. Disclaimer  of Warranty  \nTHIS DOCUMENT  IS PROVIDED BY GEEHY "AS IS" AND THERE IS NO W ARRANTY OF ANY KIND, \nEITHER EXPRESSED OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE WARRANTIES OF \nMERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE, TO THE EXTENT PERMITTED BY \nAPPLICABLE LAW.  \nGEEHY WILL BEAR NO RESPONSIBILITY FOR ANY DISPUTES ARISING FROM THE SUBSEQUENT \nDESIGN OR USE BY USERS.  \n7. Lim itation of Liability  \nIN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING WILL \nGEEHY  OR ANY OTHER PARTY WHO PROVIDE THE DOCUMENT  "AS IS", BE LIABLE FOR DAMAGES, \nINCLUDING ANY GENERAL, SPECIAL, DIRECT, INCIDENTAL OR CONSEQUENTIAL DAMAGES \nARISING OUT OF THE USE OR INABILITY TO USE THE DOCUMENT  (INCLUDING BUT NOT LIMITED \nTO LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY USERS  OR \n \nwww.gee hy.com   Page 83 \nTHIRD PARTIES).  \n8. Scope of Application  \nThe information in this document replaces the information provided in all previous versions of the document.  \n© 2020 -2022 Geehy  Semiconductor Co., Ltd. - All Rights Reserved  \n \n \n'}]
!==============================================================================!
### Component Summary: APM32F103RET6

#### Key Specifications:
- **Voltage Ratings**: 
  - Operating Voltage: 2.0V to 3.6V
  - VBAT (Backup Voltage): 1.8V to 3.6V
- **Current Ratings**: 
  - Maximum Supply Current (VDD): 150 mA
  - Maximum I/O Current: ±25 mA
- **Power Consumption**: 
  - Maximum current consumption in Run mode (Flash): 48.9 mA at 96 MHz
  - Typical current consumption in Sleep mode: 31.2 mA at 96 MHz
  - Stop mode current: 413.31 µA
  - Standby mode current: 25.44 µA
- **Operating Temperature Range**: 
  - -40°C to +105°C
- **Package Type**: 
  - LQFP64 (64 pins)
- **Special Features**: 
  - Arm® Cortex®-M3 core with FPU
  - 3x 12-bit ADCs with up to 21 input channels
  - 12-bit DAC
  - Multiple communication interfaces (USART, I2C, SPI, CAN, USB)
  - Low power modes (Sleep, Stop, Standby)
- **Moisture Sensitive Level**: 
  - Level 1 (JEDEC J-STD-020E)

#### Description:
The APM32F103RET6 is a 32-bit microcontroller based on the Arm® Cortex®-M3 architecture. It operates at a maximum frequency of 96 MHz and features a rich set of peripherals, including up to 512 KB of Flash memory and 128 KB of SRAM. The device is designed for low power consumption and includes various power management features, making it suitable for battery-operated applications.

#### Typical Applications:
The APM32F103RET6 is commonly used in:
- **Medical Equipment**: For monitoring and control applications.
- **PC Peripherals**: Such as keyboards, mice, and other input devices.
- **Industrial Control**: For automation and control systems.
- **Intelligent Instruments**: Including sensors and data acquisition systems.
- **Household Appliances**: For smart home applications and control systems.

This microcontroller is ideal for applications requiring efficient processing, low power consumption, and a variety of communication interfaces, making it versatile for many embedded system designs.