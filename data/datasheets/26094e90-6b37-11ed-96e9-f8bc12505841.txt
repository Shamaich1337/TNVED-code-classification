[{'role': 'system', 'content': 'You are a technical specialist with expertise in electronics. Your task is to analyze datasheets for electronic components and provide a concise summary of the product’s key characteristics and specifications. In addition, you need to gather textual information about the component, including its description and typical applications.Instructions:    Identify the correct component in the datasheet using the provided product code.    Summarize key parameters, including:        Voltage ratings        Current ratings        Power consumption        Operating temperature range        Package type        Special features or notes (if applicable)        Moisture Sensetive Level JEDEC J-STD-020E    Provide a short description of the component, including what it is (e.g., transistor, microcontroller, sensor) and its primary function.    Explain typical applications for the component (e.g., power management, signal processing, data storage, etc.).    Be thorough and accurate: Ensure the information corresponds specifically to the product code, as some datasheets cover multiple variants.Your goal is to create a clear and accurate technical summary that includes both key specifications and a description of what the component is used for.'}, {'role': 'user', 'content': "Give me information about the component of V9260F production of VANGO TECHNOLOGIES from the text:V9260F Datasheet \nSpecifications are subject to change without notice.  \n© 2021 Vango Technologies, Inc.   \nThis document contains information that is proprietary to Vango Technologies, Inc.  \nUnauthorized reproduction of this information in whole or in part is strictly prohibited.\n\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.  2 / 94 \nRevision History  \nDate  Version  Description  \n2015.0 4.22 0.1 Initial release  \n2016.02.22  0.2 \uf06c Modified total/fundamental active/reactive power calculation equations: \nEquation 7-9, Equation 7-10, Equation 7-11, and Equation 7-12 \n\uf06c Modified “Ai” and “Au”  to the peak values of current/voltage inputs in \n7.7 Power Calculation  \n2018. 03.12  5.0 \uf06c In order to obtain the best metering performance and temperature \nperformance during normal metering, Bandgap  Circuit  must be \nconfigured according to the calculated result.  The calculation method , \nplease refer to Bandgap  Circuit chapter.  \n2018.05.31  5.1 \uf06c Modify the formula of Phase Compens ation.  \n2019.04.09  7.0 \uf06c Modify  the storage temperature to -55~150 °C \n\uf06c Modify  Absolute Maximum Ratings  \n\uf06c Modify  Calibration Step  \n2021.04.19  7.1 \uf06c Update IEC Standard  \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.  3 / 94 \nFeatures  \n- 5 V power supply : 3.0 V ~ 5.5 V  \n- Reference: 1.188  V (Typical drift 10  ppm/° C)  \n- Typical power dissipation in full operation:   \n1.5 mA \n- Highly metering accura cy:  \n\uf0fc Supporting  the requirements of IEC 62053 -21:2020/ IEC 62053 -22:2020 and IEC \n62053- 23:2020.  \n\uf0fc Less than 0.1% error in active energy metering over a dynamic range of 5000:1  \n\uf0fc Less than 0.1% error in reactive energy metering over a dynamic range of 3000:1  \n- Two independent oversampling ∑/∆ ADCs: One for voltage and one for current  \n- Various measurements:  \n\uf0fc DC components of voltage and current signals  \n\uf0fc Total and fundamental raw/instantaneous  /average current and voltage RMS  \n\uf0fc Total and fundamental raw/instantaneous  /average active and reactive power  \n\uf0fc Line frequency  \n- Supporting c urrent detection  \n- Supporting  UART serial interface, configurable baud rate  \n- Current input: Shunt resistor /CT \n- Crystal frequency: 6.5536  MHz or 3.2768  MHz \n- Operating temperature: -40° C ~ +85° C  \n- Storage temperature: -55° C ~ +150° C  \n- Package: 16 -SOP \n- Built-in WDT  \n \n \n \n \n \n \n \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.  4 / 94 \nSpecifications  \nAll maximum/minimum specifications apply over the entire recommended operation range  \n(T = -40 °C ~ +85 ° C, VDD5  = 5 V ±10%) unless otherwise noted. All typical specifications are at TA  = \n25 ° C, VDD5  = 5 V, unless otherwise noted.  \nParameter  Min. Typ. Max.  Unit Remark  \nAnalog Input  \n Maximum Signal Level    ±200 mV Peak value  \nADC \n DC Offset    10 mV  \n Resolution   23  Bit Sign bit is included.  \n Bandwidth ( -3dB)  1.6  kHz  \nOn-chip Reference  \n Reference Error  -18  18 mV  \n Power Supply Rejection \nRatio  80  dB  \n Temperature Coefficient   10 50 ppm/° C   \n Output Voltage   1.188  V  \nPower Supply  \n VDD5  3.0 5 5.5 V  \n3.3V LDO ( AVCC ) \nVoltage  2.8 3.3 3.5 V VDD5 ≥4V，IL33=16mA  \nCurrent    30 mA  \nPower -Down Detection \nThreshold   2.8  V Error: ±5% \nDigital Power Supply ( DVCC ) \n Voltage   1.8  V Programmable  \nError: ± 10%  \n Current    35 mA  \n POR Detection \nThreshold   1.45  V Error: ± 10%  \nPin “CTI”/”CTO” \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.  5 / 94 \nParameter  Min. Typ. Max.  Unit Remark  \n Crystal Frequency   3.2768  \n6.5536   MHz  \n Equivalent Series \nResistance (ESR)  30  100 Ω For 6.5536 -MHz crystal  \n 30  200 Ω For 3.2768 -MHz crystal  \nPhase Error Between Channels  \n PF = 0.8 Capacitive   ±0.05  Degree   \n PF = 0.5 Inductive   ±0.05  Degree   \nTotal Active Energy \nMetering Error   0.1  % Dynamic Range 5000:1 @ 25 °C \nTotal Active Energy \nMetering Bandwidth   1.6  kHz   \nTotal Reactive Energy \nMetering Error   0.1  % Dynamic Range  3000:1 @ 25 °C \nTotal Reactive Energy \nMetering Bandwidth   1.6  kHz  \nFundamental Active \nEnergy  Metering Error   0.1  % Dynamic Range  5000:1 @ 25 °C \nFundamental Active \nEnergy Metering \nBandwidth   65  Hz  \nFundamental Reactive \nEnergy Metering Error   0.1  % Dynamic Range  3000:1 @ 25 °C \nFundamental Reactive \nEnergy Metering \nBandwidth   65  Hz  \nTotal VRMS/s Metering \nError   1  % Dynamic Range  1000:1 @ 25 °C \nTotal VRMS Metering \nBandwidth   1.6  kHz  \nFundamental VRMS/s \nMetering Error   1  % Dynamic Range  5000:1 @ 25 °C \nFundamental VRMS \nMetering Bandwidth   65  Hz  \nTotal IRMS/s Metering \nError   1  % Dynamic Range  1000:1 @ 25 °C \nTotal IRMS Metering  1.6  kHz  \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.  6 / 94 \nParameter  Min. Typ. Max.  Unit Remark  \nBandwidth  \nFundamental IRMS/s \nMetering Error   1  % Dynamic Range  5000:1 @ 25 °C \nFundamental IRMS \nMetering Bandwidth   65  Hz  \nCurrent Detection Cycle  15 25 30 ms  \nFrequency Measurement  \n Range  40  70 Hz  \n Error  0.01  Hz  \nLogic Output  TX/INT  \n Output High Voltage, VOH 1.7   V \nLoad of 8 -mA current in a short \ntime may not damage the chip, but \nload of 8 -mA for a long time may \ndamage the chip.   ISOURCE    8 mA \n Output Low Voltage, VOL   0.7 V \n ISINK   8 mA \nLogic Input  RX/A0/A1  \n Input High Voltage, VINH 2.0  3.6 V  \n Input Low Voltage, VINL -0.3  0.7 V  \n Input Current, I IN   1 μA  \n Input Capacitance, C IN   20 pF  \nBaud Rate  1200 2400 38400  bps  \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.  7 / 94 \nAbsolute Maximum Ratings  \nOperating circumstance exceeding “Absolute Maximum Ratings ” may cause permanent damage to the \ndevice.  \nParameters  Min. Typ. Max.  Unit Description  \nPower Supply ( VDD5) -0.3  +8.0 V To ground  \nDigital Power Supply ( DVCC ) -0.3  +1.98 V To ground  \nAnalog Power  Supply ( AVCC ) -0.3  +3.6 V To ground  \nAnalog Input Voltage (IN/IP/UN/UP)  -0.3  +3.3 V To ground  \nOperating Temperature  -40  +85 ˚C  \nStorage Temperature  -55  +150 ˚C  \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.  8 / 94 \nPin Description s \n161514131211109 8\n7\n6\n5\n4\n3\n2\n1VDD5VSSUPUNINIPREFDVCC CTI\nCTO\nRX\nTX\nINT\nA0\nA1\nAVCC\nV9260F\n \nNo. Mnemonic  Type  Description  \n1 VDD5  Power  5-V power supply  \nThis pin must be decoupled to a ≥ 0.1-μF capacitor.  \n2 VSS Ground  Analog/ Digital ground  \n3 UP Input  Positive input for Voltage Channel  \n4 UN Input  Negative input for Voltage Channel  \n5 IN Input  Negative input for Current Channel  \n6 IP Input  Positive input for Current Channel  \n7 REF Input/Output  On-chip reference  \nThis pin must be connected to a 1-μF capacitor, and then grounded.  \n8 DVCC  Power  Digital power output  \nThis pin must be connected to a parallel circuit combined by a ≥\n4.7-μF capacitor and 0.1-μF capacitor, and then grounded.  \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.  9 / 94 \nNo. Mnemonic  Type  Description  \n9 CTI Input  Connect a 6.5536 -MHz crystal around both pins.  \nThere is fixed load capacitance of 12  pF in the oscillation circuit. The \nrequir ement of the crystal oscillator:  the load capacitance of c rystal \noscillator is 12PF, ESR<100 ohm.  10 CTO Output  \n11 RX Input  Receiver data input  \nHold low logic for at least 64  ms to reset the chip.  \nIn the Sleep Mode, a low -to-high transition ( Holding low and high for \nat least 250  μs respectively) on this pin can wake up the chip to go to \nthe Current Detection Mode.  \n12 TX Output  Transmitter data output  \n13 INT Output  Interrupt output, high active  \nThis pin outputs the system control register self -check ing interrupt \nand configuration verification interrupt all the time.  \nThis pin can output the zero-crossing interrupt, current detection \ninterrupt, power -down interrupt, WDT overflow interrupt , or external \ncrystal failure interrupt , when the interrupt output is enabled.   \n14 A0 Input  Both pins are used to set the chip address for the master MCU to select \nthe slave for communication , when more than one chips are used.  15 A1 Input  \n16 AVCC  Output  3.3-V AVCC LDO output   \nIt should be connected to a parallel circuit combined by a ≥4.7-μF \ndecouple capacitor and a 0.1 -μF capacitor , and then connected to the \nground.  \n \n \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.  0 / 94 \nFunctional Block Diagram  \n1.188V \nREF\nAVCC\nLDOPOR INT UART SysCtrl OSCUP\nUN\nIAP\nIAN\nDVCCVDD5INT\nTXRX\nA0\nA1CTI\nCTO\nREF\nCOMMV9260F\nAPGA ADC\nADCPhase compensation90˚\nPhase shift90˚\nphase shiftAPGARMS Calculation\nTotal active \npower\nFundamental \nactive power\nTotal reactive \npower\nFundamental \nreactive powerInst.\nAvg.\nInst.\nAvg.Inst.\nAvg.Inst.\nAvg.\nFrequency \nMeasurementLPF HPFLPF\nDPGA\nLPF HPFLPF\nDPGA\nCurrent \ndetectionDC\nAC\nDC\nACU\nI\nMetering\nVMA-\n-BIAS\nBIASAVCCDVCC\nLDOLPF\nLPF\nWDT\n \n \n \n  \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.  1 / 94 \nTable of Contents  \n \nRevision History  ................................ ................................ ................................ ..................... 2 \nFeatures  ................................ ................................ ................................................................ . 3 \nSpecifications  ................................ ................................ ................................ ......................... 4 \nAbsolute Maximum Ratings  ................................................................ ................................ .... 7 \nPin Description s ................................ ................................ ................................ ..................... 8 \nFunctional Block Diagram  ................................ ................................ ................................ ....... 0 \nTable of Contents  ................................ ................................ ................................ ................... 1 \nFigure List  ................................ ................................ ................................ .............................. 3 \nTable List  ................................ ................................ ...............................................................  4 \n1. Reset  ................................ ................................ ................................ ............................. 6 \n1.1.  Power -On Reset (POR)  ................................ ................................................................  6 \n1.2.  RX Reset  ................................ ................................ ................................ ................... 7 \n1.3.  Global Software Reset  ................................ ................................................................ . 7 \n1.4.  WDT Overflow Reset  ................................................................ ................................ ... 8 \n1.5.  Registers  ................................ ................................ ................................ ................. 10 \n2. Clock  ................................ ................................ ................................ ........................... 12 \n2.1.  Crystal Oscillation Circuit  ................................ ................................ ........................... 12 \n2.2.  3.2-MHz RC Oscillator  ................................ ...............................................................  13 \n2.3.  32-kHz RC Oscillator  ................................................................ ................................ . 14 \n2.4.  Registers  ................................ ................................ ................................ ................. 15 \n3. Operation Mode  ................................ ................................ ................................ ........... 19 \n3.1.  Metering Mode  ................................ ................................ ................................ ......... 20 \n3.2.  Sleep Mode  ................................ ................................ ................................ .............. 22 \n3.3.  Current Detection Mode  ................................ .............................................................  23 \n3.4.  Power Dissipation ................................ ................................ ................................ ..... 24 \n4. Power Supply  ................................ ................................ ................................ .............. 27 \n4.1.  Power Supply Monitoring Circuit  ................................ ................................ ................. 27 \n4.2.  Digital Power Supply  ................................................................ ................................ . 28 \n4.3.  Registers  ................................ ................................ ................................ ................. 28 \n5. Bandgap Circuit  ................................ ................................ ................................ ........... 30 \n6. UART Interface  ................................ ................................ ................................ ............ 32 \n6.1.  Data Byte  ................................ ................................ ................................ ................ 32 \n6.2.  Baud Rate Configuration  ................................ ................................ ............................ 32 \n6.3.  Communication Protocol  ................................ ................................ ............................ 33 \n6.3.1.  Write Operation  ................................ ...............................................................  35 \n6.3.2.  Read Operation  ................................ ................................................................  36 \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.  2 / 94 \n6.3.3.  Broadcast Communication  ................................ ................................ ................. 37 \n7. RMS & Power Measurement  ................................ ................................ ......................... 39 \n7.1.  Metering Clock (MEACLK)  ................................ ................................ .......................... 39 \n7.2.  Analog Input  ................................ ................................ ................................ ............ 39 \n7.3.  Analog -to-Digital Conversion  ................................ ................................ ...................... 41 \n7.4.  Phase Compensation  ................................................................ ................................ . 42 \n7.5.  Digital Input and DC Remov ement  ................................ ................................ .............. 44 \n7.6.  RMS Calculation  ................................ ................................ ................................ ....... 45 \n7.7.  Power Calculation  ................................ ................................ ................................ ..... 47 \n7.8.  Line Frequency Measurement  ................................ ................................ ..................... 49 \n7.9.  Calibration  ................................ ................................ ................................ ............... 50 \n7.9.1.  Registers for Meter Calibration  ................................ ................................ ........... 50 \n7.9.2.  Equations for Calibration  ................................ ................................ ................... 51 \n7.9.3.  Calibration Steps  ................................ .............................................................  53 \n8. Interrupt  ................................ ................................ ................................ ..................... 55 \n8.1.  System Control Register Self -Check ing Interrupt  ................................ .......................... 55 \n8.2.  Configuration Verification Interrupt  ................................ ................................ ............. 56 \n8.3.  Zero-Crossing Interrupt  ................................ .............................................................  57 \n8.4.  Current Detection Interrupt  ................................ ................................ ....................... 58 \n8.5.  Registers  ................................ ................................ ................................ ................. 59 \n9. Registers  ................................ ................................ ................................ ..................... 63 \n9.1.  Analog Control Registers ................................ ................................ ............................ 63 \n9.2.  System Control Register  ................................ ................................ ............................ 68 \n9.3.  Metering Control Registers  ................................ ................................ ......................... 72 \n9.4.  Data Registers ................................ ................................ ................................ .......... 76 \n9.5.  Registers for Calibration  ................................ ................................ ............................ 80 \n9.6.  Checksum Register  ................................................................ ................................ ... 83 \n10. Outline Dimensions  ................................ ................................ ................................ ..... 84 \n \n  \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.  3 / 94 \nFigure List  \nFigure 1 -1 Timing of POR  ................................ ................................ ................................................................ ............. 6 \nFigure 1 -2 Timing of RX Reset  ................................................................ ................................ ................................... 7 \nFigure 1 -3 Timing of Global Software Reset  ................................ ................................ ....................................... 8 \nFigure 1 -4 WDT  Overflow Reset (Reset interval is set to 32  s.) ................................ ............................... 9 \nFigure 2 -1 Clock Generation  ................................................................ ................................ ..................................... 12 \nFigure 3 -1 Operating Modes ................................................................ ................................ ...................................... 20 \nFigure 4 -1 Power Supply Architecture  ................................ ................................................................ ................. 27 \nFigure 4 -2 Power -Down Interrupt  ................................................................ ................................ ......................... 28 \nFigure 6 -1 Structure of an 11 -Bit Data Byte  ................................ ................................ ..................................... 32 \nFigure 6 -2 Command Frame for R ead/Write/Broadcast Operation  ................................ ...................... 33 \nFigure 6 -3 Timing of UART Communication  ................................ ................................ ...................................... 34 \nFigure 7 -1 Signal Processing in Specific Metering Architecture  ................................ ............................. 39 \nFigure 7 -2 Analog Input of Current Channels  ................................ ................................ .................................. 40 \nFigure 7 -3 Analog Input of Voltage Channels  ................................ ................................ .................................. 40 \nFigure 7 -4 Phase Compensation  ................................................................ ................................ ............................. 43 \nFigure 7 -5 Digital Input and DC Removement (Current Signal is Taken as an Example .) ........ 44 \nFigure 7 -6 Total/Fundamental RMS Calculation  ................................ ................................ ............................. 46 \nFigure 7 -7 Active/Reactive Power Calculation  ................................ ................................ ................................ 48 \nFigure 8 -1 Zero -Crossing Interrupt  ................................ ................................................................ ....................... 58 \nFigure 8 -2 Signal Processing for Current Detection  ................................................................ ..................... 58 \nFigure 8 -3 Current Detection Interrupt ................................ ................................................................ ............... 59 \n  \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.  4 / 94 \nTable List \nTable 1 -1 Theoretical Reset Interval and Recommended Interval to Feed Dog  ............................... 9 \nTable 1 -2 Reset Related Registers  ................................................................ ................................ ......................... 10 \nTable 2 -1 Clock Generation Related Registers  ................................ ................................ ................................ 15 \nTable 3 -1 States of Functional Units in Default State  ................................................................ .................. 19 \nTable 3 -2 States of Functional Units in Metering Mode  ................................................................ ............... 21 \nTable 3 -3 States of Functional Units in Sleep Mode  ................................................................ ...................... 22 \nTable 3 -4 States of Functional Units in Current Detection Mode  ................................ ............................ 23 \nTable 3 -5 Factors Affecting Power Dissipation  ................................ ................................ ............................... 24 \nTable 3 -6 Effects on ADCs Power Dissipation  ................................ ................................ .................................. 25 \nTable 3 -7 Effect on Vango Metering Architecture Power Dissipation  ................................ .................. 25 \nTable 3 -8 Power Dissipation in Each Operating Mode  ................................................................ ................. 26 \nTable 4 -1 DVCCLDO Output Voltage Adjustment  ................................ ................................ ............................ 28 \nTable 5 -1 Configuration for Bandgap Circuit  ................................ ................................ .................................... 30 \nTable 6 -1 Baud Rate Configuration  ................................ ................................................................ ....................... 32 \nTable 6 -2 UART Communication Timing Parameters  ................................................................ .................... 34 \nTable 6 -3 Structure of Data Byte (B7:B0) From Master MCU to V9260F on Write Operation  .. 35 \nTable 6 -4 Structure of Data Byte (B7:B0) From V9260F to Master MCU on Write Operation  .. 35 \nTable 6 -5 Structure of Data Byte (B7:B0) From Master MCU to V9260F on Read Operation  ... 36 \nTable 6 -6 Struct ure of Data Byte (B7:B0) From V9260F to Master MCU on Read Operation  ... 36 \nTable 6 -7 Structure of Data Byte (B7:B0) From Master MCU to V9260F on Broadcast Operation\n ................................ ................................ ................................................................ ................................ ......................... 37 \nTable 7 -1 Analog PGA Configuration  ................................ ................................................................ .................... 41 \nTable 7 -2 Enable/Disable ADCs of Each Channel  ................................ ................................ ........................... 41 \nTable 7 -3 Configuring ADCCLK ................................................................ ................................ .................................  42 \nTable 7 -4 Registers for phase compensation  ................................ ................................ ................................... 42 \nTable 7 -5 Resolution and correction range at different frequencies  ................................ .................... 43 \nTable 7 -6 Enable/Disable Digital Inputs  ................................ ................................................................ ............ 44 \nTable 7 -7 DPGA Gain Selection for Digital Signals  ................................................................ ........................ 45 \nTable 7 -8 Bandpass Filter Parameters  ................................ ................................................................ ................. 50 \nTable 7 -9 Registers for Meter Calibration  ................................ ................................................................ .......... 50 \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.  5 / 94 \nTable 8 -1 Registers for Configuration Verification  ................................................................ ........................ 56 \nTable 8 -2 Interrupt Output Enable Bits  ................................ ................................................................ ............... 59 \nTable 8 -3 Interrup t Flag Bits  ................................................................ ................................ .................................... 60 \nTable 9 -1 Analog Control Register 0 (ANCtrl0, 0x0185)  ................................................................ ............ 63 \nTable 9 -2 Analog Control Register 2 (ANCtrl2, 0x0187)  ................................................................ ............ 66 \nTable 9 -3 System Control Register (0x0180, SysCtrl)  ................................................................ ................. 68 \nTable 9-4 Metering Control Register 0 (0x0183, MTPARA0)  ................................ .................................... 73 \nTable 9 -5 Metering Control Register 1 (0x0184, MTPARA1)  ................................ .................................... 74 \nTable 9 -6 Registers for DC Component (R/W)  ................................ ................................ ................................ 76 \nTable 9 -7 Registers for Line Frequency (R)  ................................ ................................ ...................................... 76 \nTable 9 -8 Registers for RMS Values of Total/Fundamental Signals (R/W)  ...................................... 77 \nTable 9 -9 Total/Fundamental Active/Reactive Power Registers (R/W)  ................................ ............ 79 \nTable 9 -10 Registers for Presetting Bias for Direct Current/Voltage  ................................ .................. 81 \nTable 9 -11 Registers for Calibrating Voltage/Current RMS (R/W)  ................................ ....................... 81 \nTable 9 -12 Registers for Calibrating Active/Reactive Power (R/W)  ................................ ................... 81 \nTable 9 -13 Threshold Register  ................................................................ ................................ .................................  82 \nTable 9 -14 Register for Bandpass Filter Coefficient Configuratio n (0x0125, BPFPARA, R/W)  83 \nTable 9 -15 Checksum Register (0x0133, CKSUM, R/W)  ................................................................ ............ 83 \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   6 / 94 \n1. Reset  \nIn V9260F , the chip will be reset to the Default State , when a POR reset, RX reset , or global software \nreset occurs; and the UART serial interface will be reset when the WDT overflow event occurs.  \n1.1.  Power -On Reset (POR) \nIn V9260F , the internal power -on reset circuit supervises the output voltage on the pin “DVCC ” all the \ntime. When the ou tput voltage is lower than 1.45 V, the reset signal will be  generated and forces the chip \ninto the reset state. When the output voltage is higher than 1.45 V, the reset signal will be  released and \nthe chip will go to the Default State in 500  μs.  \nWhen a POR event occurs, the bit “RSTSRC ” (bit[26:24] of SysCtrl, 0x0180) will be  reset to “0b001” .  \nIn the reset state, the master MCU and the Vango metering architecture  cannot access RAM. When the \nchip exits from the reset state, RAM will implement  the self-check ing in about 1.25  ms. If there is no error \noccur ring, RAM can be accessed.  \nIn the reset state, the UART serial interface is idle. The interface starts to run  immediately once the chip \nexits from the reset state.  \nInternal reset \nsignal\nRAM access\nUART \ncommunicationReset stateVSS1.45V\n//DVCC\n500μsWhen output voltage on pin DVCC is higher than \n1.45V, the reset signal is released and the chip will exits from the reset state in 500 μs. \nRAM\nself-check\n1.25ms\n1.75msWhen output voltage on pin DVCC is higher than 1.45V, the RAM can be accessed in about 1.75ms. \n \nFigure 1-1 Timing of POR  \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   7 / 94 \n1.2.  RX Reset \nThe input on  the pin “RX” must be driven low for at least 64  ms to force the chip into the reset state. \nPull the pin “RX” to the logic high, and 900  μs later the chip will exit from the reset state and get  back to \nthe Default State.  \nWhen a RX reset occurs, the bit “RSTSRC ” (bit[26:24] of SysCtrl, 0x0180) will be  reset to “0b011” .  \nIn the reset state, the master MCU and the Vango metering architecture  cannot access RAM. When the \nchip exits from the reset state,  RAM will implement the self-check ing in about 1.25  ms. If there is no error \noccur ring, RAM can be accessed.  \nIn the reset state, the UART serial interface is idle. The interface starts to run  immediately once the chip \nexits from the reset state.  \n//Input on \n“RX”  pin\nInternal reset \nsignal64 ms\n//RAM Access\nUART \ncommunicationReset state\n500 μs900 μ s\nRAM\nself-checking\n1.25 msThe input on the pin “RX” must be \ndriven low for 64 ms to force the chip \ninto the reset state. \nWhen the input on the pin “RX” is pulled \nhigh, the chip will exit from the reset state in 900 µ s and get back to the Default State. \n2.15 msWhen the input on the pin “RX”  is \npulled high, RAM can be accessed in 2.15 ms. \n \nFigure 1-2 Timing of RX Reset  \n1.3.  Global Software Reset  \nIn V9260F , writing of “0x4572BEAF ” in the register “SFTRST ” (0x01BF) can force the chip into the \nreset state, and the chip will exit and get back to the Default State in 650  μs.  \nWhen a global software reset occurs, the bit “RSTSRC ” (bit[26:24] of SysCtrl, 0x0180) will be  reset to \n“0b100 ”.  \nIn the reset state, the  master MCU and the Vango metering architecture  cannot access RAM. When the \nchip exits from the reset state,  RAM will implement the self-check ing in about 1.25  ms. If  there is  no error \noccur ring, RAM can be accessed.  \nIn the reset state, the UART serial in terface is idle. The interface starts to run  immediately once the chip \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   8 / 94 \nexits from the reset state.  \nInternal reset \nsignal\nRAM AccessWriting of \nregister \n“0x01BF”\n//Reset state\n500 μs0x4572BEAF\nUART \ncommunication650 μsWrite of “ 0x4572BEAF ” to the register \n“0x01BF”  to force the chip into the Reset State, \nand the chip will exit from the state in \n650 μs. \nRAM\nself-checking\n1.25 ms\n1.9 msWrite of “ 0x4572BEAF ” to the \nregister “0x01BF” , and 1.9 ms \nlater RAM can be accessed.\n \nFigure 1-3 Timing of Global Software Reset  \n1.4.  WDT Overflow Reset  \nV9260F  integr ates a 23-bit watchdog timer (WDT) counting pulses of the 32 -kHz RC clock (CLK3). The \n32-kHz RC oscillator works all the time whe n the chip is powered on, so  WDT keeps on counting the pulses. \nIf WDT is not cleared at the preset interval  (Feed dog) , the WDT counts will overflow, a  WDT overflow reset \nsignal will be  generated, and th e baud rate of UART interface will be  reset to 2400  bps.  \nNote:  \nPlease note that the baud rate of UART interface will be reset to 2400  bps when a WDT overflow event \noccurs, but the configuration of bits “CKUDIV ” (bit[4:2] of SysCtrl, 0x0180) holds on.  \nThe WDT counts will be cleared when a POR reset event occurs, the pin “RX” receives a correct  \ncommand frame for the write, read , or broadcast operati on, or the chip is woken up from the Sleep Mode.  \nUsers can configure the interval (T) for the WDT overflow reset via “bit[17:15] ” of register  “MTPARA0 ” \n(0x0183) to lower the power dissipation or speed up the debugging. The reset interval is affected by the \n“CLK3 ” frequency that has a drift of ± 50%. In practice, 32768  Hz is taken as the “CLK3 ” frequency for \nthe interval calculation, but to protect the UART serial interface from being reset, it is recommended to \nfeed dog before at an interval of \n2T to avoid the WDT overflow reset.  \n \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   9 / 94 \nTable 1-1 Theoretical Reset Interval and Recommended Interval to Feed Dog  \nRegister  Bit Configuration  Reset Interval \n(T) Recommended Interval to Feed Dog \n(\n2T) \n0x018 3 \nMTPARA0  Bit[17:15]  \nWDT 000 2 s 1 s \n001 4 s 2 s \n010 8 s 4 s \n011 16 s 8 s \n100 32 s 16 s \n101 64 s 32 s \n110 128 s 64 s \n111 256 s 128 s \n0xFFFFF\n0xFFFF80x1FFFFF\n0x1FFFF80x2FFFFF\n0x2FFFF8\nACE\nB DWDT counts\nFeed dogFeed dog0x7FFFFF\n0x7FFFF8\nFeed dog\n32s 32s 32s t\nInternal \nreset \nsignalF\nWDT overflow \ninterrupt \noutput_INT\n \nFigure 1-4 WDT Overflow Reset (Reset interval is set to 32  s.) \nAs shown in  \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   10 / 94 \nFigure 1-4,  \nIf the counts are cleared before the timer counts to “0xFFFF8 ” (As “A” in  \n\uf09f Figure 1-4), WDT will count from ‘0’ again. “16 s” is recommended as the interval to feed dog.  \n\uf09f If WDT keeps on counting over “0xFFFF8 ”, a reset signal will be  generated and hold for 8 CLK3 cycles \ntill WDT counts to “0xFFFFF ”. After the reset, WDT will continue  to count, and then,  \nWDT will count from ‘0’ again when the counts are cleared before the timer counts to “0x1FFFF8 ” (As “C” \nin  \n\uf0fc Figure 1-4).  \n\uf0fc WDT will keep on counting until it is cleared or it counts to “0x7FFFFF ” and then are cleared \nautomatically. The UART interface will be reset every 32  s until the counts are cleared.  \nModify the reset interval, and it will not be activated until the dog is fed.  \nWhen WDT overflow reset occurs, the bit “RSTSRC ” (bit[26:24] of SysCtrl, 0x0180) is reset to \n“0b000 ”, and an interrupt is triggered. When the WDT interrupt output is enabled (IEWDT,  bit5 of \nMTPARA0, 0x0183, is set to ‘1’), the pin “INT” will output high logic for 8 CLK3 cycles, and then low logic \nautomatically.  \n1.5.  Registers  \nTable 1-2 Reset Related Registers  \nRegister  Bit Description  \n0x0180  \nSysCtrl  Bit[26:24]  \nRSTSRC  Flag bits to indicate the reset source  \nBit26  Bit25  Bit24  Description  \n0 0 1 A POR event occurred.  \n0 0 0 A WDT overflow event occurred.  \n0 1 1 An RX reset event occurred.  \n0 1 0 Reserved  \n1 0 0 A global software reset occurred.  \n \n0x018 3 \nMTPARA0  Bit[17:15]  \nWDT To set the interval for WDT overflow reset (T)  \n“T” is calculated via equation\n3 CLKfWDT2= T , of which,  \n\uf09f WDT is the value of bit[17:15].  \n000: 16; 001: 17; 010: 18; 011: 19; 100: 20; 101: 21; 110: 22; 111: 23.  \n\uf09f fCLK3 is the actual frequency of “CLK3 ”. In practice, 32768  Hz is taken to \ncalculate the interval (T). But there is an error of ± 50% of the “CLK3 ” \nfrequency, so it is recommended to feed dog at an interval of \n2T  to prevent \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   11 / 94 \nRegister  Bit Description  \nthe baud rate of UART serial interface from being reset by the WDT \noverflow.  \nBit5 \nIEWDT  To enable WDT overflow interrupt output  \n1: Enable  \n0: Mask \n0x01BF, SFTRST  \nSoftware Reset Control \nRegister  Readable and writable, in the form of 32 -bit 2’ complement  \nWrite  “0x4572BEAF ” to the register to reset the system  \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   12 / 94 \n2. Clock  \nThe on -chip RC oscillator circuit s and the crystal oscillation circuit provide clock s for V9260F :  \n\uf09f On-chip crystal oscillation circuit: An external 6.5536 -MHz or 3.2768 -MHz crystal  connect s to the pins \n“CTI” and “CTO” to generate the clock (CLK1) that works as the  clock source for the Vango  metering \narchitecture , ADCs, and UART serial interface . After a POR, RX reset , or global software reset  occurs, \nthis oscillation circuit starts to run .  \n\uf09f On-chip 3.2 -MHz ( ±30%) RC oscillator generates the clock (CLK2)  that works as an optional clock \nsource for the Vango  metering architecture, ADCs , and UART serial interface . This circuit can be \ndisabled. After a POR, RX reset , or global software reset  occur s, this circuit stops running .  \n\uf09f On-chip 32 -kHz ( ±50%) RC oscillator generates the clock (CLK3) that works as the  clock source for \nthe watchdog timer, wake-up circuit , internal crystal  supervising  and stimulating  circuit, and the \nfilters for some key  IO ports. T his circuit  keeps on working until the system is powered off.  \n6.5536 MHz/\n3.2768 MHz6.5536 MHz/\n3.2768 MHz\nCrystal½ DIV*CLK1\n3.2768 MHz\nCLK2\n3.2 MHz (± 30%) RC\nCLK3\n32 kHz(± 50%) RCSupervising \nand stimulating \ncircuitON\nOFFMetering clock \nMEACLK\nUART clock\nUARTCLK\nADC clock\nADCCLK\nWatchdog \ntimer\nWake-up\nIO ports filterUDIV\nADIVMDIV\n*The Vango metering architecture and ADCs can  normally work only when the “CLK1” frequency is 3.2768 MHz. Thus, the 1/2 \ndivider must be enabled to divide “ XTCLK”  by 2 when a 6.5536-MHz crystal is used, or the 1/2 divider must be disabled when a \n3.2768-MHz crystal is used. \n \nFigure 2-1 Clock Generation  \n2.1.  Crystal Oscillation Circuit  \nIn the on -chip crystal oscillation circuit, ther e is fixed load capacitance (CL) of 12  pF. In applications, \nusers can adjust the capacitance via configuring bits “XCSEL<1:0> ” (bit[17:16] of ANCtrl2, 0x0187) or \nconnecting additional capacitors around pins “CTI” and “CTO” to adjust the oscillation frequen cy. \nWhen powered on, the crystal oscillation circuit starts to run to generate a clock , “XTCLK ”, to be the \nsource of clock “CLK1 ”. The “CLK1 ” frequency is divided by different clock scalars to generate clocks for \nthe Vango  metering architecture (MEACLK), ADCs (ADCCLK) , and UART interface (UARTCLK). The master \nMCU can configure the bit “XTALPD ” (bit20 of ANCtrl0, 0x0185) to disable the oscillation circuit. When \nthe oscillation circuit stops working, the on -chip 3.2-MHz ( The deviation is within ± 30% from chip to chip \nfor mass production. The temperature deviation from -40~85 degree for each specific chip is less than \n3%.) RC oscillator  will start to run automatically to generate clock “CLK2”  to replace “CLK1”  to provide \nclock pulses for the Vango metering architecture, ADCs , and UART interface. However, please be noted \nthat the  “CLK2”  frequency is not accurate enough for the UART communication.  \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   13 / 94 \nBoth 3.2768 -MHz and 6.5536 -MHz crystals can be connected around the pins “CTI” and “CTO”. Thus,  \nthe “XTCLK ” frequency can be 3.2768  MHz or 6.5536  MHz. However,  the Vango  metering architecture \nand ADCs can work normally only when the “CLK1 ” frequency is 3.2768  MHz. Thus, the 1/2 divider must \nbe enabled when a 6.5536 -MHz crystal is used; otherwise, it must be disabled. Users can enable or disable \nthis divider via configuring the bit “XTAL3P2M ” (bit19 of ANCtlr0, 0x0185).  \nPlease be noted that  the 1/2 divider is enabled after a POR, RX reset , or global software reset  occurs. \nThus,  the UART interface will communicate at a half of the expected baud rate when the 3.2768 -MHz \ncrystal is used. Users must disable the divider via the bit “XTAL3P2M ” (bit19 of ANCtrl0, 0x0185).  \nUsers can adjust the clock frequency for ADCs and me tering architecture via bits “ADCCLKSEL<1:0> ” \n(bit[17:16] of ANCtrl0, 0x0185) and “CKMDIV ” (bit1 of SysCtrl, 0x0180), and the baud rate for the UART \ncommunication via bits “CKUDIV ” (bit[4:2] of SysCtrl, 0x0180).  \nThe typical power dissipation of the crysta l oscillation circuit is 130  μA. When a 3.2768 -MHz crystal is \nused, users must set the bit “XTALLP ” to ‘1’ to lower the power dissipation to a half. When a 6.5536 -MHz \ncrystal is used, setting this bit has no effect on the power dissipation of this circuit.  When a crystal of \nhigher than 60 -Ω ESR ( Equivalent Serial Resistance) is used, users must set the bit “XRSEL<0> ” (bit18 \nof ANCtrl2, 0x0187) to ‘1’ to improve the driving ability of the oscillation circuit to ensure the crystal to \nwork, which needs additio nal 55 -μA load current.  \nIn the Metering Mode, some error s can stop the oscillation circuit. Thus, an internal supervising and \nstimulating circuit, which is sourced by “CLK3 ”, is designed to monitor the crystal all the time. When the \ncrystal stops oscillat ing, this circuit will generate a 1 -ms wide pulse every second to stimulate the crystal \nto restore oscillating. The stimulating function of this circuit is disabled by default. Users can set the bit \n“XRSTEN”  (bit21 of ANCtrl0, 0x0185) to ‘1’ to enable this  function.  \nIn the Sleep Mode, this crystal oscillation circuit stops working, and it will not get back to work \nautomatically even though the system is woken up from the Sleep Mode to get to the Current Detection \nMode.  \nWhen the crystal stops working, an i nterrupt signal is generated and the flag bit “HSEFAIL ” (bit27 of \nSysCtrl, 0x0180) is set to ‘1’, which will be cleared when the crystal restores to work. If the external \ncrystal failure interrupt output is enabled (IEHSE, bit4 of MTPARA0, is set to ‘1’), the pin “INT” will output \nhigh logic and hold the state till the crystal works again.  \nPlease be noted that  the “CLK2 ” frequency is not accurate enough for the UART communication, so the \nmaster MCU cannot read the actual state of the flag bit “HSEFAIL ”.  \n2.2.  3.2-MHz RC Oscillator  \nIn V9260F , an on -chip 3.2 -MHz RC oscillator is designed to generate a 3.2768 -MHz ( The deviation is \nwithin ± 30% from chip to chip for mass production. The temperature deviation from -40~85 degree for \neach specific chip is less than 3%. ) clock , “CLK2 ”, to work as an optional clock source for the Vango  \nmetering architecture, ADCs , and UART serial interface. But the “CLK2 ” frequency is not accurate enough \nfor the UART communication. In the Metering Mode, this circuit will start to run auto matically when the \ncrystal stops working, and it will stop running automatically when the crystal restores to work.  \nAfter a POR, RX reset , or global software reset  occurs , this circuit stops running. To enable this circuit, \nit is mandatory to enable the Bandgap  and global biasing current circuits firstly which provides the biasing \ncurrent and reference voltage for the 3.2 -MHz RC oscillator.  \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   14 / 94 \nIn the Sleep Mode, this circuit stops running, and it will get back to work automatically when the chip is \nwoken up from the Sleep Mode to go to the Current Detection Mode.  \n2.3.  32-kHz RC Oscillator  \nThe on -chip 32 -kHz RC oscillator can generate a 32 -kHz (± 50%)  RC clock (CLK3) to drive the watchdog \ntimer, wake -up circuit, internal crystal supervising and stimulating circuit, and the filters for some key  IO \nports. This oscillator cannot be disabled until the system is powered off.  \n \n \n \n  \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   15 / 94 \n2.4.  Registers  \nTable 2-1 Clock Generation Related Registers  \nRegister  Bit Default  Description  \n0x0185  \nANCtrl0  Bit29 \nPDRCCLK  N/A Clear this bit to enable the 3.2 -MHz RC Clock. It is mandatory to \nenable the Bandgap  circuit and biasing circuit firstly. The value \nof the bit is uncertain when the system is reset.  \nIn the Sleep Mode, this bit is set to ‘1’ automatically. In the \nCurrent Detection Mode, this bit is cleared automatically.  \nIn the Metering Mode, when the chi p operates with full \nfunctions, it is recommended to disable  this circuit  (Set the bit \nto ‘1’). \nBit28 \nBIASPDN  0 Set this bit to ‘1’ to enable the biasing circuit to provide the \nglobal biasing current for ADCs and the 3.2 -MHz RC oscillator. \nTherefore, in the Metering Mode, when the chip operates with \nfull functions, this bit must be set to ‘1’ before enabling ADCs \nand the 3.2 -MHz RC oscillator. By default the biasing circuit is \ndisabled.  \nIn the Sleep Mode, this bit is cleared automatically. In the \nCurrent  Detection Mode, this bit is set to ‘1’ automatically.   \nIn the Metering Mode, this biasing circuit must be enabled.  \nBit27 \nBGPPDN  0 Set this bit to ‘1’ to enable the Bandgap  circuit to provide ADCs \nand the 3.2 -MHz RC oscillator with the reference voltage and \nbiasing voltage. Therefore, in the Metering Mode, when the chip \noperates with full functions, this bit must be set to ‘1’ before \nenabling ADCs and the 3.2 -MHz RC oscillator. By default the \nBandgap  circuit is disabled.  \nIn the Sleep Mode, this bit is cleared automatically. In the \nCurrent Detection Mode, this bit is set to ‘1’ automatically.  \nIn the Metering Mode, this Bandgap  circuit must be enabled.  \nBit21 \nXRSTEN  0 Set this bit to ‘1’ to enable the function of stimulating the \nexternal crystal when it stops running. By default this function is \ndisabled.  \nIn the Metering Mode, when the chip operates with full \nfunctions, it is recommended to enable this function for the best \nperformance.  \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   16 / 94 \nRegister  Bit Default  Description  \nBit20 \nXTALPD  0 Set this bit to ‘1’ to disable the crystal oscillation circuit. By \ndefault this circuit is enabled. In the Metering Mode, when the \nchip operates with full functions, this bit will be set to ‘1’ when \nthe external crystal stops running, but it will be cleared \nautomatically when  the crystal restores running.  \nBoth in the Sleep Mode and in the Current Detection Mode, this \nbit is set to ‘1’ automatically.  \nBit19 \nXTAL3P2M  0 When a 3.2768 -MHz external crystal is used, this bit must be \nset to ‘1’ to disable the 1/2 divider in the cry stal oscillation \ncircuit.  \nWhen a 6.5536 -MHz crystal is used, this bit must be cleared to \nenable the 1/2 divider.  \nBit18 \nXTALLP  0 When a 3.2768 -MHz crystal is used, it is mandatory to set this \nbit to ‘1’ to lower the power dissipation of the crystal oscil lation \ncircuit to a half.  \nWhen a 6.5536 -MHz crystal is used, this bit must hold its default \nvalue.  \nBit[17:16]  \nADCLKSEL<1:0>  0 To select the sampling frequency of the oversampling ADC (ADC \nclock, ADCCLK). The sampling frequency of  ADCs must be a \nquarter or one eighth of the metering clock (MEACLK) frequency \nwhen the chip operates with full functions in the Metering Mode.  \n00: 819.2  kHz \n01: 409.6  kHz  \n10: 204.8  kHz  \n11: 102.4  kHz  \nIn the Current Detection Mode, these bits must be set to \n“0b10 ” to lower the power dissipation.  \nWhen the chip operates with full functions in the Metering Mode, \ntheir default values are recommended to  be used for the best \nperformance.  \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   17 / 94 \nRegister  Bit Default  Description  \n0x0187  \nANCtrl2  Bit[29:24]  \nRCTRIM<5:0>  0 To adjust the 3.2 -MHz RC clock cycle  \nThe resolution is 1% per LSB. When these bits are in their \ndefault state, no adjustment is applied.  \nFrom “0b000000 ” to “0b100000 ”, the RC clock cycle is \ndecreased by 1% per LSB; from “0b100001 ” to “0b111111 ”, \nthe RC clock cycle is increased by 1% per LSB.  \nWhen the chip operates with full functions in the Metering Mode, \nit is recommended to hold their default values for the best \nperformance.  \nBit19 \nXRSEL<1>  0 To adjust the negative resistance of the crystal oscillator  \nIt is not recommended to set this bit to ‘1’, which will lead to \nadditional 18 -μA load current.  \nBit18 \nXRSEL<0>  0 To adjust the negative resistance of the crystal oscillator  \nWhen the equivalent series resistance of the crystal is higher \nthan 60  Ω, it is recommended to set this bit to ‘1’, which will \nlead to additional 55 -μA load current.  \nBit[17:16]  \nXCSEL<1:0>  0 To adjust the load capacitance of the crystal oscillator  \nBy default the load capacitance is 12  pF.  \n00: No adjustment  \n01: +2  pF \n10: +4  pF  \n11: +6  pF \n0x018 3 \nMTPARA0  Bit4 \nIEHSE  0 To enable external crystal failure interrupt output  \n1: Enable  \n0: Mask \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   18 / 94 \nRegister  Bit Default  Description  \n0x0180  \nSysCtrl  Bit27 \nHSEFAIL  0 External crystal failure interrupt flag bit  \nWhen the external crystal stops running, this bit will be set bit \nand hold the state till the crystal starts to oscillate again.  \nWhen the crystal stops running, the UART serial interface is \nsourced by the 3.2 -MHz RC clock (CLK2) ,which  is not accurate \nenough for the UART communication, so the master MCU cannot \nread the value of this bit to detect the state of the crystal. In this \ncircumstance, users should enable the external crystal failure \ninterrupt output on the pin “INT” to help to detect the state of \nthe crystal.  \nBit[4:2]  \nCKUDIV  1 To set the baud rate for the UART communication, in unit of bps.  \n000: 1200; 001: 2400; 010: 4800; 011: 9600; 100: 19200 ; \n101: 38400 ; 110/111: 1200.  \nNote: When a 3.2768 -MHz crystal is used, after a power -on \nreset (POR), RX reset , or global software reset  occurs , the \nactual baud rate is a half of the desired baud rate. In this case, \nusers must set the bit “XTAL3P2M ” (bit19 of ANCtrl0, 0x0185) \nto ‘1’ to disable the 1/2 divider to generate 3.2768 -MHz CLK1 to \nsource the UART interface. After the WDT overflow reset, the \nbaud rate is reset to 2400  bps, but these bits holds their \nconfigurations.  \nBit1 \nCKMDIV  0 To select the clock frequency for the Vango  metering \narchitecture (MEACLK)  \n1: 819.2  kHz  \n0: 3.2768  MHz \nBit0 \nSLEEP  0 Set this bit to ‘1’ to disable “CLK1 ” and “CLK2 ” and force the \nsystem to enter the Sleep Mode  \n \n \n  \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   19 / 94 \n3. Operation Mode  \nWhen V9260F  is powered off, the chip stops working and it will go to the Default State when being \npowered on.  \nWhen the chip is working, it can be reset to the Default State when a POR, RX reset, or global software \nreset occurs. Table 3 -1 lists the states of functional units in V 9260F  in the Default State.  \nIn the Default State, the typical load current is 500  μA. Some easy configuration s can drive the chip to \nwork in the Metering Mode or Sleep Mode.  \nTable 3-1 States of Functional Units in Default State  \nFunctiona l Unit  State  \nRAM Cleared to all zeros  \nCrystal oscillation circuit  Enabled  \n3.2-MHz RC  oscillator  Disabled  \n32-kHz RC  oscillator  Enabled  \nBandgap  circuit  Disabled  \nBiasing circuit  Disabled  \nPower supply monitoring circuit  Enabled  \nPOR circuit  Enabled  \nLDO Enabled  \nADC Disabled  \nVango  metering architecture  Enabled, but for configuration verification only  \nInterrupt management circuits  Enabled. Output system control register self -check ing interrupt and \nconfiguration verification interrupt only  \nUART  serial interface  Enabled. When a 3.2768 -MHz crystal is used, the actual baud rate will \nbe a half of desired baud rate. Users must set the “XTAL3P2M”  bit \n(Bit19, 0X0185,ANCtrl0) to  ‘1’ to disable the 1/2 divider to make the \nUART interface work in the expected baud  rate. \nWDT Enabled  \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   20 / 94 \n*Reset events include POR, RX reset, \nand global software reset. Power off, the \nchip stops \nworking\nDefault State\nSleep ModeMetering ModeCurrent \nDetection ModePower on\nConfiguration\nSLEEP=1SLEEP=1\nReset\nReset\nRX input to wakeup \nthe system.Current \ndetection is \ncompleted. Reset \nFigure 3-1 Operating Modes  \n3.1.  Metering  Mode  \nIn the Default State, V 9260F  will enter the Metering Mode via some easy configuration s:  \n\uf09f To select “CLK1”  to source the clocks of the Vango  metering architecture (MEACLK), UART serial \ninterface (UARTCLK), and ADCs (ADCCLK)  \n\uf09f To enable or disable ADCs, to configure the sampling frequency to 819.2  kHz or 204.8  kHz, and to \nadjust the global biasing current to low er the power dissipation of ADCs  \n\uf09f To configure the MEACLK frequency to 3.2768  MHz or 819.2  kHz, which  must be four or eight times \nof the ADCCLK frequency, and to configure the function of the Vango  metering architecture  \n\uf09f To configure the baud rate of the UA RT serial interface  through the “CKUDIV ” bit (bit[4:2], SysCtrl, \n0X0180)  \nIn the Metering Mode, when a reset event, such as a POR, RX reset , or global software reset occurs, the \nchip will get back to  the Default State.  \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   21 / 94 \nTable 3-2 States of Functional Units in Metering Mode  \nFunctional Unit  State  \nCrystal oscillation circuit  Enabled by default  \nIt is mandatory to set the bit “XRSTEN ” to ‘1’ to enable the function of \nstimulating the external crystal when it stops running.  \n3.2-MHz RC  oscillator  It is recommended to disable this unit to lower the power dissipation. \nWhen the crystal oscillation circuit stops running, this unit will start to \nrun automatically.  \n32-kHz RC  oscillator  Enabled  \nBandgap  circuit  It is mandatory to enable this unit.  \nBiasing circuit  It is mandatory to enable this unit.  \nPower supply monitoring \ncircuit  Enabled  \nPOR circuit  Enabled  \nLDO Enabled  \nConfigure the DVCCLDO output voltage to lower the power dissipation of \nthe Vango  metering architecture  \nADC Enable ADCs, configure the sampling frequency, and adjust the global \nbiasing current to lower the power dissipation, to meet the application \nrequir ements  \nVango  metering architecture  It is mandatory to enable this unit, and configure its functions to meet \nthe application requirements.  \nInterrupt management circuits  Enabled  \nOutput the system control register self -check ing interrupt and \nconfiguration  verification interrupt all the time, and output the desired \ninterrupts to meet the application requirements  \nUART  serial interface  Enabled  \nBaud rate is configured to meet the application requirements.  \nWDT Enabled  \nConfigure the interval for the WDT overflow reset to meet the \napplication requirements  \n \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   22 / 94 \n3.2.  Sleep Mode  \nWhen V 9260F  is in the Default State or Metering Mode, set the bit “SLEEP ” (bit0, SysCtrl, 0x0180) to \n‘1’ to enable the system to enter the Sleep Mode.  \nTable 3-3 States of Functional Units in Sleep Mode  \nFunctional Units  State  \nCrystal oscillation circuit  Disabled  \n3.2-MHz RC  oscillator  Disabled  \n32-kHz RC  oscillator  Enabled  \nBandgap  circuit  Disabled automatically  \nBiasing circuit  Disabled automatically  \nPower supply monitoring circuit  Enabled  \nPOR circuit  Enabled  \nLDO Enabled  \nADC Disabled automatically  \nVango  metering architecture  Disabled automatically  \nInterrupt management circuits  Enabled  \nIt is recommended to mask all interrupt output s before the Sleep \nMode, except for the system control register self -check ing interrupt, \nwhich outputs all the time.  \nUART  serial interface  IDLE \nWDT Enabled  \nConfigure the interval for the WDT overflow reset to meet the \napplication requirements  \nIn the Sleep Mode, the clock generation circuits, except for the 32-kHz RC oscillator, stop working, so \nthe Vango  metering architecture and ADCs stop working, the UART interface is idle, but the interrupt \nmanagement circuits keep working. In this mode, the pin “TX” outputs high logic, and the pin “INT” \noutputs interrupt pulses if some interrupt output s are enabled. I t is recommended to disable the interrupt \noutput before entering the Sleep Mode , except for the system control register self -check ing interrupt.  \nThe typical load current in the Sleep Mode is 10  μA. \nIn the Sleep Mode, a low -to-high transition ( Holding low for 250  μs and then high for 250  μs) on the pin \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   23 / 94 \n“RX” can wake up the system to work in the Current Detection Mode . When a reset event, such as a POR, \nRX reset, or global software reset , occurs, the system will go to the Default State.  \n3.3.  Current Detection Mode  \nIn the Sleep Mode, a low -to-high transition ( Holding low for 250  μs and then high for 250  μs) on the pin \n“RX” can wake up the system to work in the Current Detection Mode.  \nIn the Current Detection Mode,  \n\uf09f The 3.2 -MHz RC oscillator generates “CLK2”  to source “MEACLK ”, “ADCCLK ”, and “UARTCLK ”. \nThe RC oscillator will oscillate in 1  ms.  \n\uf09f The “MEACLK ” frequency is fixed at 3.2768  MHz to ensure the current signal is sampled 256 times \nevery cycle.   \n\uf09f Only the current channel ADC is enabled. To lower the power d issipation and speed up the detection, \nit is recommended to lower the sampling frequency to 204.8  kHz, lower the global biasing current by \n66%, and decrease the DVCCLDO output voltage by 0. 2 V. All these configurations can lower the \npower dissipation to 0. 85 mA.  \nIt takes no more than 30  ms to complete the current detection. When the detection is completed, the \nsystem will get back to the Sleep Mode automatically.  \nIn the Current Detection Mode, all interrupt outputs, except for those of the system control register \nself-check ing interrupt, configuration verification interrupt , and current detection interrupt, are masked.  \nTable 3-4 States of Functional Units in Current Detection Mode  \nFunctional Units  State  \nCrystal oscillation \ncircuit  Disabled  \n3.2-MHz RC  \noscillator  Enabled automatically  \n32-kHz RC  oscillator  Enabled  \nBandgap  circuit  Enabled automatically  \nBiasing circuit  Enabled automatically  \nIt is recommended to lower the global biasing current by 66% to lower the power \ndissipation.  \nPower supply \nmonitoring circuit  Enabled  \nPOR circuit  Enabled  \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   24 / 94 \nFunctional Units  State  \nLDO Enabled  \nIt is recommended to lower the DVCCLDO output voltage by 0. 2 V to lower the \npower dissipation of the Vango  metering architecture.  \nADC Only current channel ADC is enabled. It is mandatory to lower the “ADCCLK ” \nfrequency to 204.8  kHz to accelerate  the current detection when the global biasing \ncurrent is lowered by 66%.  \nVango mete ring \narchitecture  Enabled and configured to compute for the configuration verification and current \ndetection only automatically  \nInterrupt \nmanagement \ncircuits  Enabled  \nAll interrupt outputs, except for those of the system control register self -check ing \ninterrupt, current detection interrupt , and configuration verification interrupt, are \nmasked.  \nUART  serial \ninterface  The “UARTCLK ” frequency is not accurate enough for the UART communication.  \nWDT Enabled  \nConfigure the interval for the WDT overflow rese t to meet the application \nrequirements  \n3.4.  Power Dissipation  \nThe global power dissipation of V 9260F  is affected by the DVCCLDO output voltage, ADC sampling \nfrequency (ADCCLK), metering clock frequency (MEACLK) , and the global biasing current.  \n \n \nTable 3-5 Factors Affecting Power Dissipation  \nFunctional Unit  Affected by  \nLoad \nCurrent  \n(μA)  DVCCLDO  \nOutput \nVoltage  ADCCLK  MEACLK  Global Biasing \nCurrent  \nBandgap  circuit  × × × × 79 \nBiasing circuit  × × × × 69 \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   25 / 94 \nFunctional Unit  Affected by  \nLoad \nCurrent  \n(μA)  DVCCLDO  \nOutput \nVoltage  ADCCLK  MEACLK  Global Biasing \nCurrent  \nVoltage channel ADC × ● × ● - \nCurrent channel ADC × ● × ● - \nVango metering \narchitecture  ● × ● × - \nCrystal oscillation circuit  × × × × 130* \n3.2-MHz RC  oscillator  × × × × 40 \nX: No effect on the power dissipation  \n●: Affect the power dissipation  \n*When a  crystal of higher than 60 -Ω ESR is used, it is recommended to set the bit “XRSEL<0> ” (bit18 \nof ANCtlr2, 0x0187) to  ‘1’ to improve the driving capability of the oscillation circuit. This configuration \nwill lead to additional 55 -μA load current. When a 3.27 68-MHz crystal is used, it is mandatory to set the \nbit “XTALLP ” (bit18 of ANCtrl0, 0x0185) to ‘1’ to lower its power dissipation to a half.  \nTable 3-6 Effects on ADCs Power Dissipation  \nFunctional Unit  ADCCLK  Global Biasing Current Adjustment  Load Current (μA)  \nVoltage channel ADC 819.2  kHz 0 289 \n-33% 215 \n204.8  kHz -66% 113 \nCurrent channel ADC 819.2  kHz 0 420 \n-33% 309 \n204.8  kHz -66% 155 \n \nTable 3-7 Effect on Vango Metering Architecture  Power Dissipation  \nFunctional Unit  MEACLK  DVCC LDO Output Voltage \nAdjustment  (V) Load Current (μA)  \nVango metering 3.2768  MHz 0 720 \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   26 / 94 \narchitecture  -0.2  620 \nThe “MEACLK ” frequency can affect the power dissipation of the Vango  metering architecture. But \nlower ing the “MEACLK ” frequency will weaken the metering accuracy, and s low down the voltage and \ncurrent RMS update. So in the Metering Mode, users should not adjust the “MEACLK ” frequency to lower \nthe power dissipation.  \nTable 3-8 lists the typical power dissipation in each operating mode.  \nTable 3-8 Power Dissipation in Each Operating Mode  \nOperating Mode  Metering Mode  Current \nDetection \nMode  Sleep \nMode  Configuration \n1 Configuration \n2 Configuration \n3 \nTest Condition  DVCC LDO \nOutput Voltage \nAdjustment  0 0 0 -0.2 V 0 \nADCCLK \nFrequency  819.2  kHz 819.2  kHz 204.8  kHz 204.8  kHz - \nMEACLK \nFrequency  3.2768  MHz 3.2768  MHz 3.2768  MHz 3.2768  MHz - \nGlobal Biasing \nCurrent \nAdjustment  -33% -33% -66% -66% 0 \nCrystal \nOscillation \nCircuit  6.5536  MHz 3.2768  MHz 3.2768  MHz Disabled  Disabled  \n3.2-MHz RC \nOscillator  Disabled  Disabled  Disabled  Enabled  Disabled  \nTypical Load Current  1.45 mA 1.39 mA 1.14 mA 0.85 mA 10 μA \n \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   27 / 94 \n4. Power Supply  \nVDD5Analog \ncircuits\nDVCCLDO\nDigital circuitsOscillator\nDVCCPower supply \nmonitorPOR\n4.7 μF 0.1 μF0.1 μFAVCCLDO\nmonitorAVCC\n4.7 μF 0.1 μFmonitor\n \nFigure 4-1 Power Supply Architecture  \nV9260F  supports single  power input of 5 V (3.0 V ~ 5.5 V ). The analog circuits, such as ADCs, Bandgap  \ncircuits, and the oscillators, are powered by the out put of AVCCLDO . And the digital circuits are powered \nby the output of DVCC LDO, the digital power supply circuit.  \nWhen the input voltage  is higher than 3.3V, the internal LDO circuit ( AVCCLDO ) will keep the power of \nAVCC 3.3V output to prevent the performance variation in analog circuit caused by the ripple from the \nVDD5  source.  When VDD5  is lower than 3.3V, V9260F  will disable the AVCCLDO  automatically , and then \nthe power  of AVCC will be switched to VDD5  power.  \nThe driving capability of AVCC  is 30mA. It means AVCC  could keep stable output voltage when the \npower consumption is less than 30mA. Otherwise, the output voltage of AVCC  will drop when the load \ncurrent in analog circuit increased. AVCC  should be connected to one parallel circuit combined with a ≥\n4.7uF capac itor and a 0.1uF decoupling capacitor.  \n4.1.  Power Supply Monitoring Circuit  \nIn the V9260F , an internal power supply monitoring circuit is designed to supervise the power AVCC . \nWhen the AVCC  is lower  than 2.8V (± 5%), a power -down interrupt signal is triggered, and the flag bit PDN \n(bit28 of SysCtrl, 0x0180) is set to 1 , that will be cleared automatically when the power down event \ndisappears .  \nWhen the voltage  on pin AVCC  is lower  than 2.8V , “PDN_R” (bit22,0x0180)  is set to ‘1’, that will be fix \nas “1”,  when the power supply is higher than 2.8 V (± 5%), until user clear it by writing any data to SysCtrl  \nregister (0x0180 ). \nWhen the voltage  on pin AVCC  is lower  than 2.8V , if the interrupt output is enabled (IEPDN=1, bit3 of \nMTPARA0, 0x0183), the pin INT will output high logic signaling the master MCU that the V9260 F has been \npowered down , until the power down event disappears . \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   28 / 94 \nAVCC\n2.8V（±5%）\nPDN flag\nPDN_R flagCLR operation\nINT \nFigure 4-2 Power -Down Interrupt \n4.2.  Digital Power  Supply  \nThe digital power supply for the digital circuits, and is derived by an on -chip LDO from the power input \n(AVCCLDO ). This DVCC LDO keeps working even though the system is powered down.  \nDVCC LDO has a driving capability of 35  mA, which means when the load current on the digital circuits \nis less than 35  mA, DVCC LDO will output  the stable voltage; but when the load current is higher than 35  \nmA, the output will reduce as the current increases.  \nIt is recommended to decouple the pin “DVCC ” externally with a ≥ 4.7-μF capacitor in parallel with a \n0.1-μF capacitor.  \n4.3.  Registers  \nTable 4-1 DVCC LDO Output Voltage Adjustment  \nRegister  Bit Default  Description  \nANCtrl2 \n0x0187  Bit[14:12] \nLDOVSEL<2:0>  0 To adjust the DVCC LDO output voltage  \n000: No adjustment  \n001: -0.1 V \n010: +0.2  V  \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   29 / 94 \n011: +0.1  V  \n100: -0.4 V  \n101: -0.5 V  \n110: -0.2 V  \n111: -0.3 V  \n \n \n  \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   30 / 94 \n5. Bandgap Circuit  \nIn V9260F , the Bandgap  circuit outputs a reference voltage and bias voltage, about 1.188V with a typical \ntemperature coefficient of 10ppm/˚C, for ADCs and the 3.2MHz RC oscillator. The Bandgap  circuit must be \nenabled before ADCs and the RC oscillator, and typically, this circui t consumes about 0.08mA.  \nBy default the Bandgap  circuit is disabled. Users can set  the bit “BGPPDN”  (bit27 of ANCtrl0, 0x0185) \nto ‘1’ to enable the Bandgap  circuit. In the Sleep Mode, this circuit is disabled automatically; and in the \nCurrent Detection Mode, this circuit is enabled automatically.  \nUsers can configure “bit[14:12] ” and “bit[9:8]”  of “ANCtrl0 ” register (0x0185) to adjust the \ntemperature coefficient to kill the temperature coefficient introd uced by the external components, with \nthe following steps:  \n1) Assume the current settings of relative bits are REST<2:0>= ’010’ and RESTL<1:0>= ’00’, which \nmeans an additional  +20ppm  for temperature coefficient  of Bandgap . \n2) Measure meter error s in high and low temperature  conditions. Assu me user has calibrated the meter \nerror to 0 at 20℃, and the measuring error s are 0.6%  at 80℃ and -0.4% at -40℃ separately . Then a \n-(0.6% -(-0.4%))/2= -0.5%  measuring error needs to be compensated relative to high temperature \nworking condition , equivalent to -0.5%/(80 -20)=-5000/60= -83ppm,  rounding to -80ppm.  \n3) As measuring error is minus two times of REF temperature coefficient  error, to compensate a -80ppm \nerror, a n additional  +40ppm  of Bandgap  REF temperature coefficient  adjustment is needed.  Taking the \ninitial +20ppm  setting into consideration , the actual adjustment should be +60ppm . According to the \nlookup table of RESTL<1:0>  and REST<2:0> , user should set register RESTL<1:0>  to ‘01’ and REST<2:0>  \nto ‘111’, whose combination equals to a + 60ppm temperature coefficient  adjustment . \n \nA temperature coefficient drift of “x” in the Bandgap  circuit results in a drift of “-2x” in the measurement \nerror.  \nTable 5-1 Configuration for Bandgap  Circuit  \nRegister  bit Description  \nANCtrl0, \n0x0185, \nR/W Bit27 \nBGPPDN  Set this bit to ‘1’ to enable Bandgap  circuit to provide ADCs and the 3.2 -MHz \nRC oscillator with the reference voltage and biasing voltage.  \nTherefore, in the Metering Mode, this bit must be set to ‘1’ before enabling \nthe ADCs and the 3.2 -MHz RC oscillator. By default the Bandgap  circuit is \ndisabled.  \nIn the Sleep Mode, this bit is cleared automatically. In the Current Detection \nMode, this bit is set to ‘1’ automatically.  \nBit[14:12] \nREST<2:0>  To finely adjust the temperature coefficient of the Bandgap  circuit.  In order \nto obtain the best metering performance and temperature performance \nduring normal metering, it must be configured according to the calculated \nresult.  The calculation method , please refer to Bandgap  Circuit chapter.  \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   31 / 94 \nRegister  bit Description  \n000: No adjustment  \n001: +10  ppm  \n010: +20  ppm  \n011: +30  ppm  \n100: -40 ppm  \n101: -30 ppm  \n110: -20 ppm  \n111: -10 ppm \nBit[9:8] \nRESTL<1:0>  To roughly adjust the temperature coefficient of the Bandgap  circuit . In order \nto obtain the best metering performance and temperature performance \nduring normal metering, it must be configured according to the calculated \nresult.  The calculation method , please refer to Bandgap  Circuit chapter.  \n00: 0  \n01: +70  ppm  \n10: -140 ppm  \n11: -70 ppm  \n \n \n  \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   32 / 94 \n6. UART Interface  \nV9260F  supports the communication with the master MCU as a slave via the UART serial interface. The \nUART serial interface has features:  \n\uf09f Asynchronous, half -duplex communication;  \n\uf09f A 11-bit byte, composed of 1 -bit Start bit, 8 -bit Data bits, 1 -bit Parity bit ( Odd), and 1 -bit Stop bit;  \n\uf09f Least significant bit (lsb) shifted in or out firstly when the chip receives or transmits a byte;  \n\uf09f Configurable baud rate.  \nWhen a reset event, such as  a POR WDT overflow reset, RX reset , or global software reset, occurs, the \nUART serial interface will be  reset. In the Sleep Mode, the interface is idle.  \n6.1.  Data Byte  \nThe data byte received and transmitted via the UART serial interface of V 9260F  is composed of 11 bits, \nincluding 1 -bit Start bit ( Logic low), 8 -bit Data bits, 1 -bit odd Parity bit and 1 -bit Stop bit ( Logic high), as \nshown in Figure 6-1. When V 9260F  receives or sends a data byte, the least significant bit always is shifted \nin or out firstly.  \nSTART B0 B1 B2 B3 B4 B5 B6 B7 P STOP\n \nFigure 6-1 Structure of an 11 -Bit Data Byte  \n6.2.  Baud Rate Configuration  \nIn V9260F , “UARTCLK ” is divided to generate the baud rate. When the crystal oscillation circuit works, \n“UARTCLK ” will be  sourced by “CLK1”  that is accurate enough for the UART communication. When  the \ncrystal stops running, “UARTCLK ” is sourced by “CLK2 ” that is not accurate enough for the UART \ncommunication. In V 9260F , users can configure the baud rate via the bit “CKUDIV”  (bit[4:2] of SysCtrl, \n0x0180).  \nTable 6-1 Baud Rate Configuration  \nBit[4:2]  \nCKUDIV  fUARTCLK（kHz） Theoretical Baud Rate (bps)  Actual Baud Rate (bps)  \n000/110/111  51.2 1200 1190.70  \n001 102.4  2400 2381.40  \n010 204.8  4800 4762.79  \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   33 / 94 \nBit[4:2]  \nCKUDIV  fUARTCLK（kHz） Theoretical Baud Rate (bps)  Actual Baud Rate (bps)  \n011 409.6  9600 9525.58  \n100 819.2  19200  19051.16  \n101 1638.4  38400  38102.33  \nWhen a 3.2768 -MHz crystal is used, after any global reset the actual baud rate is a half of the desired \nrate. So users must set the bit “XTAL3P2M ” (bit19 of ANCtrl0, 0x0185) to ‘1’ to disable the 1/2 divider. \nIn V9260F , the baud rate will be reset to 2400  bps when the WDT overflow event occurs, but the bit \n“CKUDIV”  will hold its configuration.  \n6.3.  Communication Protocol  \nIn the read, write , or broadcast communication, the master MCU needs a command frame that is \ncomposed of 8 data bytes to operate a 32 -bit data in V 9260F .  \nHead Byte Control ByteAddress \nByteData Byte 0 Data Byte 1 Data Byte 2 Data Byte 3 Check Byte\n \nFigure 6-2 Command Frame for Read/Write/Broadcast Operation  \nIn the read or write operation, when V 9260F  receives the command frame from the master MCU, it will \nreply to the master MCU with a respond frame of different structures. In the broadcast communication, \nV9260F will not reply to the master MCU to avoid the communication conflict.  \nRX\nTX8-bit data , 1-bit parity STARTSTART\nSTART STOPSTOP//\n//START STOP\n1st to 7th bytes \nof the command frametRTDV92xx receives a command frame and sends a respond frame Receive and send \nthe next frame\ntTRD//\n//////\ntRB\ntTF8-bit data , 1-bit parity START STOP\ntTBDtR tF\ntTB tRF\n \nFigure 6-3 depicts the timing of UART communication.  \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   34 / 94 \nRX\nTX8-bit data , 1-bit parity STARTSTART\nSTART STOPSTOP//\n//START STOP\n1st to 7th bytes \nof the command frametRTDV92xx receives a command frame and sends a respond frame Receive and send \nthe next frame\ntTRD//\n//////\ntRB\ntTF8-bit data , 1-bit parity START STOP\ntTBDtR tF\ntTB tRF \nFigure 6-3 Timing of UART Communication  \n \nTable 6-2 UART Communication Timing Parameters  \nParameter  Description  \ntRB Time to receive a data byte on pin “RX”  \ntRB=\nbaudrate11  \nWhere, “baudrate ” is the actual baud rate, please refer to  Table 6-1 for more detail ed \ninformation .  \ntRF The maximum time between two bytes  when receiv ing a command frame on pin  “RX”  \ntRF=\nbaudrate16  \nWhen the the  actual baud rate is 2400  bps, t RF = 80 ms. After a timeout event, the UART \ninterface is idle and waits for the next command frame.  \ntRTD The delay between the command frame reception on pin “RX” and respond frame \ntransmission on pin “TX”.  \n0 ms ≤ tRTD ≤ 20 ms \nPlease note no respond frame w ill be transmitted in the broadcast communication, and at \nleast 1 -ms delay is recommended between two continuous command frames for the \nbroadcast communications.  \ntTF Time to transmit a respond frame in the read or write operation, depending on the structure \nof the frame.  \ntTB Time to transmit a data byte.  \ntTB=\nbaudrate11  \nWhere “baudrate ” is the actual baud rate, please refer to  Table 6-1 for more detail ed \ninformation .  \nTTBD Delay between two continuous data bytes in a respond frame  \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   35 / 94 \nParameter  Description  \n0 ms ≤ tTBD ≤ 20 ms \ntTRD The delay between the respond frame transmission on pin “TX” and the next command \nframe reception on pin “RX”.  \nMore than 1  ms is recommended.  \ntR Rising time of “RX” and “TX”, about 300  ns  \ntF Falling time of “RX” and “TX”, about 300  ns  \n6.3.1.  Write Operation  \nThe master MCU needs a command frame, composed of 8 data bytes, to write of a 32 -bit data to the \nregister of V 9260F . When it receives the command frame, V 9260F  will transmit a respond frame, \ncomposed of 4 data bytes, to reply to the master MCU. On both transmission and reception, the lsb is \nshifted in or out fir stly.  \nIn Control Byte, “B3” and “B2”, determined by the input on pins  “A1” and “A0”, are used to select the \nslave chip when more than one chip are used.  \nTable 6-3 Structure of Data Byte (B7:B0) From Master MCU to V 9260F  on Write Operation  \nOrder  Byte B7 B6 B5 B4 B3 B2 B1 B0 \n1 Head Byte  1 1 1 1 1 1 1 0 \n2 Control Byte  The higher 4 bits of the target register address  A1 A0 1 0 \n3 Address Byte  The lower 8 bits of the target register address  \n4 Data Byte 0 Bit [7:0] of the target data  \n5 Data Byte 1 Bit[15:8] of the target data  \n6 Data Byte 2 Bit[23:16] of the target data  \n7 Data Byte 3 Bit[31:24] of the target data  \n8 Check Byte  The checksum  \nAdd the above 7 data bytes, invert the sum, and then add it to “0x33” to obtain \nthe checksum.  \nTable 6-4 Structure of Data Byte (B7:B0) From V 9260F  to Master MCU on Write Operation  \nOrder  Byte B7 B6 B5 B4 B3 B2 B1 B0 \n1 Head Byte  1 1 1 1 1 1 1 0 \n2 Control Byte  The higher 4 bits of the target register address  A1 A0 1 0 \n3 Address Byte  The lower 8 bits of the target register address  \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   36 / 94 \nOrder  Byte B7 B6 B5 B4 B3 B2 B1 B0 \n4 Check Byte  The checksum  \nAdd the above three  data bytes, invert the sum, and then add it to “0x33 ” to \nobtain the checksum.  \n6.3.2.  Read Operation  \nThe master MCU needs a command frame, composed of 8 data bytes, to read of a 32 -bit data of a \nregister of V 9260F . When it receives the command frame, V 9260F  will transmit a respond frame, \ncomposed of 4× N+4 (1  ≤ N ≤ 255) data bytes, to reply to the master MCU. On both transmission and \nreception, the lsb is shifted in or out firstly.  \nIn Control Byte, “B3” and “B2”, determined by the input on pins “A1” and “A0”, are used to select the \nslave chip when more than one chip are used.  \nTable 6-5 Structure of Data Byte (B7:B0) From Master MCU to V 9260F  on Read Operation  \nOrder  Byte B7 B6 B5 B4 B3 B2 B1 B0 \n1 Head Byte  1 1 1 1 1 1 1 0 \n2 Control Byte  The higher 4 bits of the target register address (D 1)  A1 A0 0 1 \n3 Address Byte  The lower 8 bits of the target register address (D 1)  \n4 Data Byte 0 The length (N, in unit of “Word ”) of the data to be read from the registers \nlocated at the addresses beginning with the target address (D 1) given by the \nControl Byte and Address Byte. When Data Byte 0 is ‘0’, it means 1 data word \n(4 bytes) is read out.  \nWhen the master MCU reads of the target address only, N will be  ‘1’. \nWhen more  than one register located at continuous addresses beginning with \nthe target address (D 1), N will be  equal to the number of the address. The \nmaximum value of N is 255, which means no more than 255 continuous \nregisters can be read at a time.  \n5 Data Byte 1 \nNo actual function  6 Data Byte 2 \n7 Data Byte 3 \n8 Check Byte  The checksum  \nAdd the above seven  data bytes, invert the sum, and then add it to “0x33 ” to \nobtain the checksum.  \nTable 6-6 Structure of Data Byte (B7:B0) From V 9260F  to Master MCU on Read Operation  \nOrder  Byte B7 B6 B5 B4 B3 B2 B1 B0 \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   37 / 94 \nOrder  Byte B7 B6 B5 B4 B3 B2 B1 B0 \n1 Head Byte  1 1 1 1 1 1 1 0 \n2 Control Byte  The higher 4 bits of the target register address (D 1) A1 A0 0 1 \n3 Length Byte  N, equal to Data Byte  0 sent from master MCU to V 9260F  on read operation. \nWhen Data Byte 0 is  ‘0’, N will be  equal to ‘1’. \n4 Data Byte 10  Bit[7:0] of the register located at target address (D 1)  \n5 Data Byte 11  Bit[15:8] of the register located at target address (D 1)  \n6 Data Byte 12  Bit[23:16] of the register located at target address (D 1)  \n7 Data Byte 13  Bit[31:24] of the register located at target address (D 1)  \n8 Data Byte 20  Bit[7:0] of the register located at address D 2 (D2=D1+1)  \n9 Data Byte 21  Bit[15:8] of the regist er located at address D 2 (D2=D1+1).  \n… … … \n4× N+0  Data Byte N0  Bit[7:0] of the register located at address D N (DN=D1+N-1)  \n4× N+1  Data Byte N1  Bit[15:8] of the register located at address D N (DN=D1+N-1)  \n4× N+2  Data Byte N2  Bit[23:16] of the register located at address D N (DN=D1+N-1)  \n4× N+3  Data Byte N3  Bit[31:24] of the register located at address D N (DN=D1+N-1)  \n4× N+4  Check Byte  The checksum  \nAdd the above 4×N+3 data bytes, invert the sum, and then add it to “0x33” to \nobtain the checksum.  \n6.3.3.  Broadcast Communication  \nThe master MCU needs a command frame, composed of 8 data bytes, to write a 32 -bit data to the \nregisters of more than one V 9260F  in the broadcast communication. When receiving a command frame, \nV9260F  should not transmit a respond fra me to reply to the master MCU to avoid the communication error. \nOn receiving a data frame, the lsb is shifted in or out firstly.  \nTable 6-7 Structure of Data Byte (B7:B0) From Master MCU to V 9260F  on Broadcast  Operation  \nOrder  Byte B7 B6 B5 B4 B3 B2 B1 B0 \n1 Head Byte  1 1 1 1 1 1 1 0 \n2 Control Byte  The higher 4 bits of the target register address  X* X* 0 0 \n3 Address Byte  The lower 8 bits of the target register address  \n4 Data Byte 0 Bit [7:0] of the target data  \n5 Data Byte 1 Bit[15:8] of the target data  \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   38 / 94 \nOrder  Byte B7 B6 B5 B4 B3 B2 B1 B0 \n6 Data Byte 2 Bit[23:16] of the target data  \n7 Data Byte 3 Bit[31:24] of the target data  \n8 Check Byte  The checksum  \nAdd the above seven  data bytes, invert the sum, and then add it to “0x33 ” to \nobtain the checksum.  \n\uf06c “X” can be  ‘0’ or ‘1’.  \n \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   39 / 94 \n7. RMS & Power Measurement  \nThe specific metering architecture in the V92 60F has features:  \n- 2 independent oversampling Σ/Δ ADCs: one for voltage (U), and one for current (I)  \n-  High metering accuracy:  \n\uf09f Less than 0.1% of active energy metering accuracy over dynamic range of 5000:1  \n\uf09f Less than 0.1% of reactive energy metering accuracy over dynamic range of 3000:1  \n- Current detection  \n- supports line frequency meas urement  \n \nAPGA ADC\nADCIUPhase compensation90˚\nPhase shift90˚\nphase shiftAPGAUP\nUN\nIAP\nIANRMS Calculation\nTotal \nWatt\nFund. \nWatt\nTotal \nVAR\nFund. \nVARInst.\nAvg.\nInst.\nAvg.Inst.\nAvg.Inst.\nAvg.\nFreq. \nMeasurementLPF HPFLPF\nDPGA\nLPF HPFLPF\nDPGA\nCurrent \ndetectionDC\nAC\nDC\nAC-\n-BIAS\nBIAS\nLPFLPF\n \nFigure 7-1 Signal Processing in Specific Metering Architecture  \n \n7.1.  Metering Clock (MEACLK)  \nThe metering clock (MEACLK) is sourced by “CLK1 ”, generated by the crystal oscillation circuit, or \n“CLK2 ”, generated by the 3.2 -MHz RC oscillator. When both circuits stop running, the Vango metering \narchitecture  will stop working.  \n7.2.  Analog Input  \nV9260F  has two analog inputs forming one current channel and one voltage chann el. Each current \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   40 / 94 \nchannel consists of two fully differential voltage inputs. And the voltage channel consists of two pseudo \ndifferential voltage inputs: “ UP” is the positive input for the voltage channel, and “UN”, connected to the \nground, is the negative i nput for the voltage channel. Each input has a maximum voltage of ±200 mV, \nand each pair of a maximum differential voltage of ±400  mV.  \nFor the current channel, a shunt resistor can be used for analog inputs.  \nIP\nIN\nL NCT R1\nR2R3\nCT\nShunt ResistorN L\nShunt \nResistor\nR2R1 Load\nIP\nINC1\nC2C3\nC1\nC2C3R4\n \nFigure 7-2 Analog Input of Current Channels  \nFor voltage channels, a potential transformer (PT) or a resistor -divider network can be used for analog \ninputs.  \nR1PT\nN L\nRaPotential Transformer\nResistor Divider NetworkUP\nUNC1\nC2\nUP\nUNC1\nC2R1R2\nR2\nN L\n \nFigure 7-3 Analog Input of Voltage Channels  \nTo match the output signal s of the transformers to the measurement scale of ADCs, Analog \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   41 / 94 \nProgrammable Gain Amplifiers (APGA) with the possible gain selection of 1, 4, 16, and 32 for the current  \ninput, and of 1 and 4 for the voltage input, are set. The analog PGA gain is determined by the output signal \nof the transformer. The product of the output signal and PGA gain ( Including digital and analog PGA) must \nbe no higher than the voltage reference.  Equation 7-1 depicts the signal processing of current and \nvoltage:  \n] DCi + ) ψ+ tωsin( ×Ai[ × PGAi ='I) DCu + t ωsin ×Au( × PGAu ='U\n      Equation 7-1 \nWhere, “PGAu”  and “PGAi” is the analog PGA gain for voltage and current; “Au” and “Ai” are the \namplitude of the input signals (V); “DCu” and “DCi” are the DC components of the raw voltage and \ncurrent.  \nTable 7-1 Analog PGA Configuration  \nRegister  Bit  Default  Description  \nANCtrl0  \n0x0185 Bit7 \nGU 0 To set analog PGA gain of analog input of Voltage Channel  \n0: × 4 (Recommended)   \n1: ×1  \nBit[1:0] \nGI<1:0> 0 To set the analog PGA gain of analog input of Current Channel. The \nanalog PGA gain is determined by the output signal of the sensor. The \nproduct of the output signal and PGA gain ( Both analog and digital) \nmust be no more than  the voltage reference.  \n00: × 32 \n01: × 16  \n10: ×4  \n11: ×1 \n \n7.3.  Analog -to-Digital Conversion  \nSecond -order Σ -ΔADCs are applied in the voltage and current channels in V 9260F . Σ-ΔADCs can be \nenabled or disabled via configuring the “ANCtrl0 ” register (0x0185).  \nTable 7-2 Enable/Disable ADCs of Each Channel  \nRegister  Bit Default  Description  \nANCtrl0  \n0x0185 Bit26 \nADCUPDN 0 Set this bit to  ‘1’ to enable Voltage Channel ADC. The Bandgap  circuit \nmust be enabled before this ADC.  \nBoth in the Sleep Mode and in the Current Detection Mode, this bit is \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   42 / 94 \nRegister  Bit Default  Description  \ncleared automatically.  \nBit24 \nADCIPDN 0 Set this bit to ‘1’ to enable Current Channel ADC. The Bandgap  circuit \nmust be enabled before this ADC.  \nIn the Sleep Mode, this bit is cleared automatically. In the Current \nDetection Mode, this bit is set to ‘1’ automatically.  \nThe sampling frequency of ADCs, or ADC clock (ADCCLK), is derived from “CLK1 ”. By default, it is  \n819.2  kHz, a quarter of the metering clock (MEACLK), and can be adjusted via “bit[17:16] ” of “ANCtrl0 ” \n(0x0185).  \nTable 7-3 Configuring ADCCLK  \nRegister  Bit  Description  \nANCtrl 0 \n0x0185 Bit[17:16] \nADCLKSEL<1:0>  To select the sampling frequency of the oversampling ADC (ADC clock, \nADCCLK). The sampling frequency of ADCs must be a quarter or one \neighth of the metering clock (MEACLK) frequency when the chip operates \nwith full functions in the Metering Mode.  \n00: 819.2  kHz \n01: 409.6  kHz  \n10: 204.8  kHz  \n11: 102.4  kHz  \nIn the Current Detection Mode, these bits must be set to “0b10 ” to lower \nthe power dissipation.  \nWhen the chip operates with full functions in the Metering Mode, their \ndefault values are recommended to be used for the best performance.  \nThe signal output from ADCs must be input to a phase compensation circuit to correct the phase error \nbetween the current and voltage signal introduced by the mismatch of the transformers and ADCs.  \n7.4.  Phase Compensation  \nA phase compensation circuit composed of a chain of time -delay units is applied to correct the phase \nerror between the current and voltage signals. Either the current or voltage signal can be selected to be \ndelayed via the bit “PHCIU ” (bit18 of MTPARA1, 0x 0184). The phase compensation resolution is \n0.0055° /lsb, and the maximum phase error correction range is ± 1.4° .  \nTable 7-4 Registers for phase compensation  \nRegister  Bit Default  Description  \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   43 / 94 \nRegister  Bit Default  Description  \nMTPARA1  \n0x0184  Bit19 \nENPHC  0 Set this bit to ‘1’ to enable phase compensation  \nBy default this function is disabled.  \nBit18 \nPHCIU  0 Set this bit to ‘1’ to delay voltage for phase compensation  \nClear this bit to delay current for phase compensation.  \nBit[15:8]  \nPHC 0 To set the absolute value for phase compensation.  \nBy default the resolution is 0.0055° /lsb, and a phase error up to 1.4°  \ncan be calibrated.  \nUI\nPHC_U_ITime-delay circuitPHC_U_I\nUI\n \nFigure 7-4 Phase Compensation  \nCompens ate the phase error at power factor of 0.5L:  \n)819200fsmpl× E ×23011( Round = N\n      Equation 7-2 \nwhere  \nN is the value to be set in bit[15:8] of register MTPARA1 (0x0184);  \nE is the error displayed in LCD screen of the calibration equipment.  \nfsmpl is determined by the configuration of MEACLKSEL bits (Bit1, SysCtrl, 0x0180).  \nTable 7-5 Resolution and correction range at different f requencies  \nN value configure fsmpl（Hz） resolution （°/lsb） correction range\n（°） \n[-255, +255]  CKMDIV  \nbit1, 0x0180  0 3276800  0.005  1.4  \n1 819200  0.022  5.6  \n \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   44 / 94 \n7.5.  Digital Input and DC Removement  \n-BIAS\nfrom ADC\nCurrent \ndetectionACDC\nDPGA\nLPF1LPF2\nHPF\n \nFigure 7-5 Digital Input and DC Removement (Current Signal is Taken as an Example .) \nThe 1 -bit code stream output from the oversampling Σ/Δ ADC can be enabled to be sent to the \ndecimation filter to suppress the high -frequency noise and to lower the sampling frequency to get the raw \nwaveform of each signal. The raw waveform is transferred to a subtractor to remove the direct drift \nintroduced by th e external components and ADCs, with the help of the DC bias preset in registers “ZZDCI ” \n(0x0123) and “ZZDCU ” (0x0124). Then, the signals are processed as follows:  \n- The signals are transferred to low -pass filter , “LPF2 ” to obtain the DC components of the s ignals that \ncan be read out from registers for DC components located at “0x0114 ” (DCI) and “0x0115 ” (DCU) .  \n- By default the signals are transferred to a high -pass filter (HPF) to remove the DC components of the \nraw waveforms and obtain the AC components to calculate power and RMS .  \n- In Channel I, the current signal is transferred for  the current detection. Please refer to  “Current \nDetection Interrupt ” for more detail ed information .  \nThe registers for DC components of voltage and current, located at addresses of  “0x0114 ” and \n“0x0115 ”, are in format of 32 -bit 2’ complement. When the “MEACLK ” frequency is 3.2768  MHz, the \ndata are updated in 160  ms and settled in 300  ms; when the “MEACLK ” frequency is 819.2  kHz, the data \nare updated in 640  ms and settled in 1200  ms. The signal input to the decimation filter is enabled or \ndisabled via configuring “bit[17:16] ” of “MTPARA1 ” (0x0184). When this function is enabled, the code \nstream is accumulated to the filter; when this function is disabled, a constant ‘0’ will be  input for the \ndigital signal processing. Users can disable th is HPF via configuring this bit “BPHPF ” (bit20 of MTPARA1, \n0x0184).  \nTable 7-6 Enable/Disable Digital Inputs  \nRegister  Bit Description  \nMTPARA 1 \n0x0184 Bit17 ONI To enable digital signal input of current channel for digital signal processing  \n1: Enable  \n0: Disable. When this bit is cleared, a constant ‘0’ will be input for  the digital \nsignal processing.  \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   45 / 94 \nRegister  Bit Description  \nBit16 ONU To enable digital signal input of voltage  channel for digital signal processing  \n1: Enable  \n0: Disable. When this bit is cleared, a constant ‘0’ will be  input for the digital \nsignal processing.  \nDigital Programmable Gain Amplifiers (DPGA) with possible gain selection of 1/32~32, via “MTPARA1 ” \n(0x0184), are applied to digital signals output from the high -pass filter to amplify the signals. The product \nof the signal and PGA gains ( Including digital and analog PGA) must be no higher than the voltage \nreference.  \nTable 7-7 DPGA Gain Selection for Digital Signals  \nRegister  Bit Default  Description  \nMTPARA1  \n0x0184 Bit[7:4] \nPGAI 0 To set digital PGA gain of current input  \n0000: ×1; 0001: ×1/2; 0010: ×1/4; 0011: ×1/8; 0100: ×1/16; 0101: \n×1/32;  \n1000: ×1; 1001: ×2; 1010: ×4; 1011: ×8; 1100: ×16; 1101: ×32. \nBit[3:0] \nPGAU  0 To set digital PGA gain of voltage input  \n0000: ×1; 0001: ×1/2; 0010: ×1/4; 0011: ×1/8; 0100: ×1/16; 0101: \n×1/32;  \n1000: ×1; 1001: ×2; 1010: ×4; 1011: ×8; 1100: ×16; 1101: ×32. \nEquation 7-3 depicts the signal processing:  \n188 . 1)φ+ tωsin( ×Ai× PGAi× PGAdi = I188 . 1tωsin ×Au× PGAu× PGAdu = U\n       Equation 7-3 \nWhere, “PGAd u” and “PGAdi” are the DPGA gains; “PGAu” and “PGAi” are the APGA gains; “Au” and \n“Ai” are the amplitude of current and voltage inputs; and 1.188 is the reference voltage.  \n7.6.  RMS Calculation  \nThe alternating component (AC) of the current and voltage can be used for:  \n1. The total current and voltage RMS calculation directly;  \n2. The fundamental current and voltage RMS calculation after being processed by the band -pass filter \n(BPF) that introduces a g ain of 0.85197.  \nThe values of the total current and voltage RMS are acquired from the following equations:  \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   46 / 94 \n188. 1Ai× PGAi× PGAdi × 0.99992×22= Irms      Equation 7-4 \n188. 1Au× PGAu× PGAdu × 0.99992×22= Urms\n      Equation 7-5 \nAnd the fundamental current and voltage RMS are acquired from the following equations:  \n188 . 1Ai× PGAi× PGAdi × 0.85197×22= BIrms\n      Equation 7-6 \n188 . 1Au× PGAu× PGAdu × 0.85197×22= BUrms\n     Equation 7-7 \nWhere,  \n“PGAdi” and “PGAdu” are the digital PGA gains of current and voltage;  \n“PGAi” and “PGAu” are the analog PGA gains of current and voltage;  \n“Ai” and “Au” are the amplitude of current and voltage inputs;  \n‘1.188 ’ is the reference voltage;  \n‘0.99992 ’ and ‘0.85197 ’ are the gains introduced by the filters.  \nLPF Multiplier Gain Calibration\nAC of IA(t)\nS32\nWARTIBPFSWBRTI\nARTIBRTI\nx\nxAVG\nAVGABRTI\nAARTI\n \nFigure 7-6 Total/Fundamental  RMS Calculation  \nThe current or voltage RMS calculated via the above equations must be gain calibrated, as depicted in \nthe following equation:  \n( )S + 1 × ’RMS = RMS\n      Equation 7-8 \nWhere,  \nRMS’ is the raw current or voltage RMS, calculated via the above equations;  \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   47 / 94 \nRMS is the current or voltage RMS after calibration;  \nS is the gain calibration, set in registers located at addresses “0x012C” , “0x0132 ”, “0x0126 ” and \n“0x012B” . \nAfter gain calibratio n, the instantaneous RMS, which will be averaged to obtain the average RMS, is \nstored in the registers for total/fundamental current/voltage RMS. All the registers are in the format of \n32-bit 2’-complement. When the “MEACLK ” frequency is 3.2768  MHz, regist ers for raw and \ninstantaneous RMS are updated in 160  ms and settled in 500ms; and registers for average RMS are \nupdated in 1.28  s and settled in 3  s. When the “MEACLK ” frequency is 819.2  kHz, registers for raw and \ninstantaneous RMS are updated in 640  ms an d settled in 2000  ms; and registers for average RMS are \nupdated in 5.12  s and settled in 12  s.  \n7.7.  Power Calculation  \nThe alternating component (AC) of the current and voltage can be used for:  \n1. The total active power calculation directly;  \n2. The total reactive p ower calculation after a phase shift by 90 degrees via the Hilbert filter.  \nAnd after being processed by the band -pass filter, the current and voltage signal are used to compute \nthe fundamental active and reactive power.  \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   48 / 94 \nLPF MultiplierGain \nCalibration\nAC of IA(t)\nAC of UA(t)\nS32\n32\nWAPTBPFSWBPT\nLPF MultiplierGain \nCalibration\nAC of IA(t)\nAC of UA(t)\nS32\n32\nWAQTBPFSWBQT\nPhase shift \n90˚IBP\nIAP\nIBQ\nIAQOffset Cali\nOffset Cali\nOffset Cali\nOffset CaliAVG\nAVG\nAVG\nAVGWWBQT\nWWAQTWWAPTWWBPT\nTotal/Fundamental Active Power\nTotal/Fundamental Reactive Power \nFigure 7-7 Active/Reactive Power Calculation  \nThe total signals, including the fundamental wave and harmonic wave, are used to calculate total active \nand reactive power directly. The active power is acquired v ia the following equation:  \n312 99985 . 0 cos188 . 1 22\n188 . 1 22\uf0b4 \uf0b4 \uf0b4\uf0b4 \uf0b4\uf0b4 \uf0b4\uf0b4 \uf0b4\uf0b4 \uf03d \uf071PGAdu PGAuAu PGAdi PGAiAiP\n      Equation 7-9 \nAnd the reactive power is acquired via the following equation:  \n312 78402 . 0 sin\n188 . 1 22\n188 . 1 22\uf0b4 \uf0b4 \uf0b4\uf0b4 \uf0b4\uf0b4 \uf0b4\uf0b4 \uf0b4\uf0b4 \uf03d \uf071PGAdu PGAuAu PGAdi PGAiAiQ\n      Equation 7-10 \nWhere, “PGAdi” and “PGAdu” are digital PGA gains of current and voltage; “PGAi” and “PGAu”  are \nanalog PGA gains of current and voltage; “Ai” and “Au” are the peak values  of current and voltage inputs; \n“θ” is the phase difference between voltage and current signals; “0.99985 ” and “0.78402 ” are the \ngains introduced by the filters.  \nFiltered by the band -pass filter, the signals are used to calculate the fundamental active and reactive \npower.  \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   49 / 94 \nFundamental activ e power : \n312 72585 . 0 cos\n188 . 1 22\n188 . 1 22\uf0b4 \uf0b4 \uf0b4\uf0b4 \uf0b4\uf0b4 \uf0b4\uf0b4 \uf0b4\uf0b4 \uf03d \uf071PGAdu PGAuAu PGAdi PGAiAiBP  Equation 7-11 \nFundamental reactive power : \n312 36292 . 0 sin188 . 1 22\n188 . 1 22\uf0b4 \uf0b4 \uf0b4\uf0b4 \uf0b4\uf0b4 \uf0b4\uf0b4 \uf0b4\uf0b4 \uf03d \uf071PGAdu PGAuAu PGAdi PGAiAiBQ  Equation \n7-12 \nWhere, “PGAdi” and “PGAdu” are digital PGA gains of current and voltage; “PGAi” and “PGAu”  are \nanalog PGA gains of current and voltage; “Ai” and “Au” are the peak values of current and voltage inputs; \n“θ” is the phase difference between voltage and current signals; “0.72585 ” and “0.36292 ” are the \ngains introduced by the filters.  \nThe active or reactive power must be gain and offset calibrated, as depicted in the following equation,  \n( ) C + S + 1 × ’P = P\n      Equation 7-13 \nWhere,  \nP’ is the raw active or reactive power calculated via the above equations;  \nP is the active or reactive power after calibration;  \nS is the gain calibration set in the registers listed in Table 9-12;  \nC is the offset calibration set in the registers listed in Table 9 -12. \nAfter gain a nd offset calibration, the instantaneous active and reactive power, which will be averaged to \nobtain the average active and reactive power, is stored in the total and fundamental active/reactive power \nregisters. All the registers are in the format of 32 -bit 2’-complement. When the “MEACLK ” frequency is \n3.2768  MHz, registers for raw and instantaneous power are updated in 160  ms and settled in 500  ms; and \nregisters for average power are updated in 1.28  s and settled in 3  s. When the “MEACLK ” frequency is \n819.2 kHz, registers for raw and instantaneous power are updated in 640  ms and settled in 2000  ms; and \nregisters for average power are updated in 5.12  s and settled in 12  s. \n7.8.  Line Frequency Measurement  \nV9260F  supports the line frequency measurement.  \nIn the lin e frequency measurement circuit, the fundamental voltage signal is sampled at a frequency of \n3200 Hz for the negative -to-positive zero -crossing detection, and the number of the samples among two \ncontinuous negative -to-positive transitions is equal to the i nstantaneous line frequency. So the \ninstantaneous line frequency is calculated as follows:  \nFREQ3200= f\n      Equation 7-14 \nWhere, f is the line frequency to be measured; FREQ is the content of the instantaneous line frequency \nregister (0x019A), in the form of decimal.  \nThe instantaneous line frequency will be accumulated 256 times every 1.28s to be averaged to acquire \nthe avera ge line frequency per second:  \nASFREQ256× 3200= ' f\n    Equation 7-15 \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   50 / 94 \nWhere, f’ is the line frequency to be measured; ASFREQ is the average line frequency per second read out \nof the register (0x011D), in the form of decimal.  \nTo improve the measurement accuracy, the above average line frequency per second will be \naccumulated 8 times every 10.24s to be averaged to acquire the average line frequency:  \nAFREQ8 × 256× 3200= ' ' f\n    Equation 7-16 \nWhere, f’’ is the line frequency to be measured; AFREQ is the average line frequency read out of the \nregister (0x011E), in the form of decimal.  \nIn V9260F , a band -pass filter is applied to remove the direct component, the noi se and the harmonic \nwave of the voltage signal to obtain the fundamental voltage for line frequency measurement. The \nperformance of the band -pass filter is affected by the number of bits to be shifted and the filter coefficient. \nWhen fewer bits are shifted , the filter needs less time to respond, is less sensitive to the frequency \ndeviation, and has less capability to depress the noise and harmonics.  \nTable 7-8 Bandpass Filter Parameters  \nGroup  Shift bits (0x0183 , MTPARA0)  Bandpass filter \ncoefficient  Frequency deviation  \nBPFSFT, \nbit[14:13]  Bits to be \nshifted  BPFPARA, 0x0125  47.5Hz(db)  150Hz(db)  \n0 00 >>8 0x811D2BA7  -4.2 -30.5 \n1 01 >>9  0x80DD7A8C  -8.9 -36.5 \n2 10 >>10  0x80BDA1FE  -14.1 -42.6 \n3 11 >>11  0x80ADB5B8  -20 -48.6 \nGenerally, Group 0 is preferred.  \n \n \n7.9.  Calibration  \n7.9.1.  Registers for Meter Calibration  \nTable 7-9 Registers for Meter Calibration  \nAddress  Register  R/W  Format  \n0x011B  AARTU  The average total voltage RMS  R/W 32-bit 2’-complement  \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   51 / 94 \nAddress  Register  R/W  Format  \n0x011C  AARTI  The average total current RMS  R/W 32-bit 2’-complement  \n0x0121  ABRTU  The average fundamental voltage RMS  R/W 32-bit 2’-complement  \n0x0122  ABRTI  The average fundamental current RMS  R/W 32-bit 2’-complement  \n0x0119  AAP The average total active power  R/W 32-bit 2’-complement  \n0x011A  AAQ The average total reactive power  R/W 32-bit 2’-complement  \n0x011F  ABP The average fundamental active power  R/W 32-bit 2’-complement  \n0x0120  ABQ The average fundamental reactive  power  R/W 32-bit 2’-complement  \n0x012C  WARTI  Set a value to gain calibrate the total current RMS.  R/W 32-bit 2’-complement  \n0x0132  WARTU  Set a value to gain calibrate the total voltage RMS.  R/W 32-bit 2’-complement  \n0x0126  WBRTI  Set a value to gain calibrate the fundamental \ncurrent RMS.  R/W 32-bit 2’-complement  \n0x012B  WBRTU  Set a value to gain calibrate the fundamental \nvoltage RMS.  R/W 32-bit 2’-complement  \n0x012E  WAPT  Set a value to gain calibrate the total active power.  R/W 32-bit 2’-complement  \n0x0130  WAQT  Set a value to gain calibrate the total reactive \npower.  R/W 32-bit 2’-complement  \n0x012F  WWAPT  Set a value to offset calibrate the total active power.  R/W 32-bit 2’-complement  \n0x0131  WWAQT  Set a value to offset calibrate the total reactive \npower.  R/W 32-bit 2’-complement  \n0x0127  WBPT  Set a value to gain calibrate the fundamental active \npower.  R/W 32-bit 2’-complement  \n0x0129  WBQT  Set a value to gain calibrate the fundamental \nreactive power.  R/W 32-bit 2’-complement  \n0x0128  WWBPT  Set a value to offset calibrate the fundamental \nactive power.  R/W 32-bit 2’-complement  \n0x012A  WWBQT  Set a value to offset calibrate the fundamental \nreactive power.  R/W 32-bit 2’-complement  \n7.9.2.  Equations for Calibration  \n1. Equation for current/voltage RMS registers  \nK × G × V = Value\n      Equation 7-17 \nWhere, V is the RMS value of the input signal; G is the gain; and K is a coefficient, 1.486× 109 for \nfundamental RMS and 1.745× 109 for total RMS.  \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   52 / 94 \n2. Equation for active power registers.  \nθcos ×pB ×Gv×Vv×Gi×Vi= P\n      Equation 7-18 \nWhere, Vi and Vv are the input current and voltage; Gi and Gv are the analog PGA gains for current and \nvoltage respectively; cosθ is the power factor; Bp is a coefficient, 1.419× 109 for total active power and \n1.030× 109 for fundamental active power.  \n3. Equation for reactive power registers  \nθins ×qB ×Gv×Vv×Gi×Vi= Q\n      Equation 7-19 \nWhere, Vi and Vv are the input current and voltage; Gi and Gv are the analog PGA gains for current and \nvoltage respectively; θ is phase difference between current and voltage; Bq is a coefficient, 1.111× 109 for \ntotal reactive power and 0.514× 109 for fundame ntal reactive power.  \n4. Equation for ratio of RMS and power  \nThe value acquired by Equation 7-17, Equation 7-18, or Equation 7-19 is the theoretical value of the \nregister of RMS or power. It must b e multiplie d by a ratio to get the actual value ( Accurate to the second \ndecimal place).  \nValuenV= D\n      Equation 7-20 \nWhere, Value  is the theoretical value of the registers acquired by Equation 7-17, Equation 7-18, or \nEquation 7-19; D is the ratio; and Vn is the rated voltage/current/power.  \n5. Equation for registers for phase  compensation  \nCompensate the phase error at power factor of 0.5L:  \n)819200fsmpl× E ×23011( Round = N\n      Equation 7-21 \nWhere  \nN is the value to be set in bit[15:8] of register MTPARA1 (0x0184);  \nE is the error displayed in LCD screen of the calibration equipment.  \nfsmpl is determined by the configuration of MEACLKSEL bits (Bit1, SysCtrl, 0x0180).  \n \n6. Equation for gain calibration registers  \n)e + 11(1S + ) 1 -e + 11(312 = S\n      Equation 7-22 \nWhere, S is the content to be set in the registers for gain calibration of active/reactive power or \ncurrent/voltage RMS, in the form of 2’ -complement; S1 is the original value of the registers; e is the error: \nwhen this equation is used for the power gain calibration, e is equal to the error (E p) calculated by  \nEquation 7-26; when this equation is used for the RMS gain calibration, e is equal to the error (E u/Ei) \ncalculated by Equation 7-23 and Equation 7-24:  \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   53 / 94 \nnUnU -1U=uE       Equation 7-23 \nbIbI -1I=iE\n       Equation 7-24 \nWhere, U1/I1 is the voltage/current RMS displayed on the LCD screen of the meter to be calibrated, Un is \nthe rated voltage, and Ib is the base current.  \n7. Equation for power offset calibration registers  \na%× P × E - = C\n      Equation 7-25 \nWhere, E is the error calculated by  Equation 7-26 when a%I b are applied at power factor 1.0; and P is \nvalue calcul ated via Equation 7 -18.  \n7.9.3.  Calibration Steps  \n7.9.3.1.  Parameters Configuration \nUsers must configure the following parameters when designing an energy meter:  \n- Parameters for a meter, including basic current,  and rated voltage  \n- Parameters for design, including the current and voltage RMS when rated current and rated voltage \nare applied  \n- The analog PGA gains of the current and voltage channels  \n- The ratio (D) of RM S and power calculated via Equation 7-20.  \n7.9.3.2.  Calibrating Power  \nThe step of getting  the gain calibration value of the power data  (E): \n1. Read the Pn displayed on  the LCD screen of the calibration equipment . \n2. Read the power data  P1 from the meter LCD ( P1 is the product of the value of the average power \ndata register and the power data  scale coefficient  D). \n3. Calculate the gain calibration value of the power data  according to the following method  \nEP=P1−Pn\nPn                             Equation 7-26 \n1. Gain calibration  (Take total  active power for example ) \nFor example, at power fact of 1.0, apply 100%  Ib and 100%  Un to the calibration equipment . \nGet the gain calibration value of the power data  (E) calculated by  Equation 7-26, and read the value of \nthe gain calibration register WAPT  (0x012E ), (the raw value for gain calibration , S1) and then calculate the \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   54 / 94 \nvalue for gain calibration via Equation 7-22 and write it to the register WAPT (0x012E) . \n2. Phase compensation  \nAfter completing  the power gain calibration , in the case of PF = 0.5 L, apply 100% Ib and 100% Un  to the \ncalibration equipment for the phase calibration.  \nDuring the gain calibration,  “bit[15:8] ” of register “MTPARA1 ” (0x0184)  must be cleared first . Get \nthe gain calibration value of the power data  (E) calculated by  Equation 7-26, calibrate the values of phase \ncompensation  according to Equation 7-21, and write to the corresponding bi t of the register.  \n3. Power offset calibration (optional)  \nPF = 1.0, 5% Ib (usua lly, 2% Ib) and 100% Un are applied  to the calibration equipment . Get the gain \ncalibration value of the power data  (E) calculated by  Equation 7-26. The offset calibration values  \ncalculated according to Equation 7-25 must be written into the correspond ing power offset calibration  \nregister.  \n7.9.3.3.  Calibrating Current RMS  \n1. Clear the registers “WARTI ” (0x012C) or  “WBRTI ” (0x0126).  \n2. Apply 100%I b to the calibration equipment at power factor 1.0.  \n3. Read the current RMS  “I1” shown on the LCD screen of the calibration equipment ( “I1” is the product \nof the value of RMS registers and the coefficient “D”).  \n4. Calculate the value to gain calibrate current RMS via Equation 7-22.  \nNote: When the current through the energy meter is less than the starting current, the current RMS “I1” \nwill not be shown on the LCD  screen .  \n7.9.3.4.  Calibrating Voltage RMS  \n1. Clear the registers “WARTU ” (0x0132) or “WBRTU”  (0x012B)  \n2. Apply 100%U n to the calibration equipment  \n3. Read the voltage RMS “U1” shown on the LCD screen of the calibration equipment ( “U1” is the \nproduct of the value of RMS registers and the coefficient  “D”).  \n4. Calculate the value to gain calibrate voltage RMS via Equation 7-22.  \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   55 / 94 \n8. Interrupt  \nIn V9260F , eight kinds of events can trigger the interrupt signals , which  will set the flag bits to “1 s”. \nWhen the interrupt output is enabled, the pin  “INT” will output the interrupt pulse according to the \nconfiguration to warn the master MCU.  \n\uf09f System control register self -check interrupt : Interrupt output cannot be masked .  \n\uf09f Configuration verification interrupt : Interrupt output cannot be masked .  \n\uf09f Zero-crossing interrupt : The voltage sign bit is output as the zero -crossing interrupt; interrupt \noutput can be masked . \n\uf09f Current detection interrupt : Interrupt output cannot be masked in the Current Detection Mode, \nand can be masked in other operation modes .  \n\uf09f Power down interrupt : Interrupt output can be masked. Please refer to  “Power Supply \nMonitoring Circuit ” for more detail ed information.   \n\uf09f WDT overflow reset interrupt : Interrupt output can be masked. Please refer to  “WDT Overflow \nReset ” for more detail ed information.   \n\uf09f External crystal failure interrupt : Interrupt output can be masked. Please refer to  “Crystal \nOscillation Circuit ” for more detail ed information .  \n\uf09f REF capacitor damage alarm  interrupt : Interrupt output can be masked.  \nThe interrupt management circuit keeps on working until it is powered off.  \n8.1.  System Contr ol Register Self -Checking \nInterrupt  \nIn V9260F , “bit[8:0] ” of the register “SysCtrl ” (0x0180) are used for the key configuration for the \nsystem operation mode, and “bit[24:16]”  are designed as the backup of these bits. Invert the values of \n“bit[8:0] ”, and write them into “bit[24:16] ” sequentially. The internal self -check ing circuit compares \nthe content of these bits all the time. If they are opposite to each other sequentially, it indicates the \nconfigurations are right; otherwise, an interrupt signal will be triggered, the flag bit “SYSERR ” (bit20 of \nSysCtrl, 0x0180) is set to ‘1’, and the “INT” pin outputs the high logic to warn the master MCU that \nsomething wrong with these configurations. The flag bit holds the state until the self -check ing is \ncorrected.  \nThis interrupt output cannot be masked.  \nIn the Default State, the pin “INT” always output  the high logic to indicate something wrong with the \nconfigurations.  \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   56 / 94 \n8.2.  Configuration Verification Interrupt  \nTo ensure the important configuration of control, co nfiguration and calibration registers are in their \ndesired states, V 9260F  introduces the configuration verification measure: Add the content of the register \n“CKSUM ” (0x0133) and that of the other 24 registers listed in Table 8-1. If the sum is “0xFFFFFFFF ”, it \nindicates all the configurations are right; otherwise, it indicates some change s have occurred to the \nregisters, an interrupt signal will be triggered, the flag bit “CHKERR ” (bit19 of SysCtrl, 0x0180) will be \nset to ‘1’, and an interrupt pulse will be output on the pin “INT” to warn the master MCU. This interrupt \noutput cannot be masked. The configuration verification is executed all the time, and the sum is calculated \nonce every 5  ms. The flag bit will hold its state until the sum of the content of 25 registers is \n“0xFFFFFFF F”.  \nThe register “CKSUM ” should be written of the difference between “0xFFFFFFFF ” and the sum of the \ncontent of the other 24 registers.  \nIn the Default State, the pin “INT” always output high logic to indicate something wrong with the \nconfigurations.  \nTable 8-1 Registers for Configuration Verification  \nNo. Address  Register  R/W  Default \nValue  \n1 0x0123  ZZDCI  To preset the bias for the direct current  R/W 0 \n2 0x0124  ZZDCU  To preset the bias for the direct voltage  R/W 0 \n3 0x0125  BPPARA  To set the coefficient of the bandpass filter  R/W 0 \n4 0x0126  WBRTI  To set the gain calibration of the \nfundamental current RMS  R/W 0 \n5 0x0127  WBPT  To set the gain calibration of the \nfundamental active power  R/W 0 \n6 0x0128  WWBPT  To set the offset calibration of the \nfundamental active power  R/W 0 \n7 0x0129  WBQT  To set the gain calibration of the \nfundamental reactive power  R/W 0 \n8 0x012A  WWB QT To set the offset calibration of the \nfundamental reactive power  R/W 0 \n9 0x012B  WBRTU  To set the gain calibration of the \nfundamental voltage RMS  R/W 0 \n10 0x012C  WARTI  To set the gain calibration of the total \ncurrent RMS  R/W 0 \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   57 / 94 \nNo. Address  Register  R/W  Default \nValue  \n11 0x012D   It is recommended to write of 0s.  R/W 0 \n12 0x012E  WAPT  To set the gain calibration of the total active \npower  R/W 0 \n13 0x012F  WWAPT  To set the offset calibration of the total \nactive power  R/W 0 \n14 0x0130  WAQT  To set the gain calibration of the total \nreactive power  R/W 0 \n15 0x0131  WWAQT  To set the offset calibration of the total \nreactive power  R/W 0 \n16 0x0132  WARTU  To set the gain calibration of the total \nvoltage RMS  R/W 0 \n17 0x0134  IDETTH  To set the threshold for current detection  R/W 0 \n18~19  0x0181~0x0182   It is recommended to write of 0s .  R/W 0 \n20 0x0183  MTPARA0  Metering control register 0 R/W 0 \n21 0x0184  MTPARA1  Metering control register 1 R/W 0x400000  \n22 0x0185  ANCtrl0  Analog Control Register 0 R/W 0x20000000  \n23 0x0186  ANCtrl1  Analog Control Register 1 R/W 0 \n24 0x0187  ANCtrl2  Analog Control Register 2 R/W 0 \n25 0x0133  CKSUM  Checksum register  R/W 0 \n8.3.  Zero-Crossing Interrupt  \nV9260F  supports  the voltage zero -crossing interrupt.  \nWhen the voltage signal crosses the zero point, a zero -crossing interrupt will be  triggered, the sign bit \n“USIGN”  (bit17 of SysCtrl) will toggle according to  the voltage signal.  \nWhen the voltage sign output is enabled ( Setting IESUL, bit1 of SysCtrl, to ‘1’), the pin “INT” will output \nthe voltage sign when the voltage signal crosses the zero point, and the logic will toggle following the \nsignal tra nsition. The  “INT” outputs the high logic for the negative voltage signal, and it turns to the low \nlogic for the positive voltage signal.  \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   58 / 94 \nVoltage sign \noutput_INTUSIGN_flag bitVoltage \nFigure 8-1 Zero -Crossing Interrupt  \n8.4.  Current Detection Interrupt  \nV9260F  integrates a current detection circuit, and supports the current detection interrupt.  \nSet the bit “IDETEN ” (bit12 of MTPARA0, 0x0183) to ‘1’ to enable the current detection. The detection \ncircuit will compare the preset threshold for the current detection (IDETTH, 0x0134, R/W) with the \nabsolute value of the current signal, from which the DC component introduced by the external \ncomponents and internal ADCs has been removed. Equation 8-1 depicts the signal processing:  \nBIASi -188 . 1] DCi + ) φ+ tωsin( ×Ai[ × PGAi= I\n      Equation 8-1 \n-BIAS\nfrom ADC\nCurrent \ndetectionACDC\nDPGA\nLPF1LPF2\nHPF\n \nFigure 8-2 Signal Processing for Current Detection \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   59 / 94 \nConfigure the window width for the current detection via the bit “IDETLEN ” (bit[11:8], MTPARA0, \n0x0183). For instance, if the window width is set to ‘4’, it means only when four contin uous samples of the \ncurrent signal is higher than the threshold can the current signal be strong enough for the measurement \nand can a current detection interrupt signal be triggered. The interrupt signal will set the flag bit “DETCST”  \n(bit18, SysCtrl) to ‘1’, which can be cleared by writing ‘0’ when the absolute value of the current signal is \nlower than the threshold. If the current detection interrupt output is enabled ( Setting IDIDET, bit2 of \nSysCtrl, to ‘1’), the pin “INT” will output the logic high and holds its state till the current signal is lower \nthan the threshold. In the Current Detection Mode, this interrupt output cannot be masked.  \nAbsolute value of \ncurrent signalThreshold\nDETCST_flag bit\ncurrent detection \ninterrupt_INTWrite‘ 0’to \nclear flag bit\n \nFigure 8-3 Current Dete ction Interrupt  \n8.5.  Registers  \nTable 8-2 Interrupt Output Enable Bits  \nRegister  Bit Default  Description  \n0x0183  \nMTPARA 0 Bit6 \nIEREF 0 To enable REF capacitor damage alarm  interrupt output.  \n1：Enabled ；0：mask  \nBit5 \nIEWDT  0 To enable WDT overflow interrupt output  \n1: Enable  \n0: Mask \nBit4 \nIEHSE  0 To enable external crystal failure interrupt output  \n1: Enable  \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   60 / 94 \nRegister  Bit Default  Description  \n0: Mask \nBit3 \nIEPDN  0 To enable power -down interrupt output  \n1: Enable  \n0: Mask  \nBit2 \nIEIDET  0 To enable current detection interrupt output  \n1: Enable  \n0: Mask \nBit1 \nIESUL  0 To enable voltage sign output  \n1: Enable  \n0: Mask \nTable 8-3 Interrupt Flag Bits  \nRegister  Bit R/W  Description  \n0x0180  \nSysCtrl  Bit28 \nPDN R Power -down interrupt flag bit  \nWhen the input voltage on the pin “AVCC ” is lower than 2. 8 V, this bit will \nbe set to  ‘1’. When the input is higher than 2. 8 V, this bit will be cleared.  \nBit27 \nHSEFAIL  R External crystal failure interrupt flag bit  \nWhen the external crystal stops running, this bit will be set bit and hold \nthe state till the crystal starts to oscillate again.  \nWhen the crystal stops running, the UART serial interface will be  sourced \nby the 3.2 -MHz RC clock , “CLK2 ”, that is not accurate enough for the \nUART communication, so the master MCU cannot read the value of this bit \nto detect the state of the crystal. In this circumstance, users should \nenable the external crystal failure interrupt output on the pin “INT” to \nhelp to detect the state of the crystal.  \nBit[26:24]  \nRSTSRC   “Bit[26:25] ” is read only, and “bit24 ” is readable and writable.  \nRead of “bit24 ” together with “bit[26:25] ” to detect the reset source \nWhen these bits are read as “0b000 ”, the WDT overflow interrupt occurs.  \nInvert the value of “bit8” of “SysCtrl ” and write it to “bit24 ” for the \nsystem control register self -check ing. \nBit23 \nReserved  R/W The reading remains ‘0’.  \nInvert the value of “bit7” of “SysCtrl ” and write it to “bit23” for the \nsystem control register self -check ing. \nBit22 R/W The latch of “PDN”. When the reset occurs, it will be ‘0’. After the reset, the \nvalue will be determined by the working environment.  \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   61 / 94 \nRegister  Bit R/W  Description  \nPDN_R If “PDN” is high, “PDN_R” will be put to high.  \nIf “PDN” is low, “PDN_R” will remain the same.  \nIf performing the write operation to “0x180 ”, no matter what data is \nwritten into, “PDN_R” will be put to low.  \nInvert the value of “bit6” of “SysCtrl ” and write it to “bit22” for the \nsystem control register self -check ing. \nBit21 \nREF R/W When the leakage occurs in the external capacitor of “REF”, this bit will be \nset to high. Otherwise, this bit will be set to low. The level of this bit will \nnot be changed by the read/write operation.  \nThe default value is relevant to the working environment.  \nInvert the value of “bit5” of “SysCtrl ” and write it to “bit21” for the \nsystem control register self -check ing. \nBit20 \nSYSERR  R/W Read this flag bit for the state of the system control register self-check ing \nBy default it is read out as  ‘1’. If the values of “bit[8:0] ” and \n“bit[24:16] ” are opposite to each other bit by bit, the system control \nregister self -check ing will  pass, and this bit will be  read out as ‘0’; \notherwise, the self -check ing will  fail, and this bit will be  read out as ‘1’. \nOnly writing the exact opposite values of “bit[8:0] ” to “bit[24:16] ” can \nclear this bit.  \nInvert the value of “bit4” of “SysCtrl ” and write it to “bit20 ” for the \nsystem control register self -check ing. \nBit19 \nCHKERR  R/W Read this bit for the state of configuration verification  \nAdd the content of the registers for calibration, metering control registers, \nanalog control registers, and three  reserved internal registers to the \ncontent of the checksum register to e nsure that all the important \nconfigurations are in their desired states. If the sum is “0xFFFFFFFF ”, \nthe verification will pass, and this bit will be  read out as ‘0’; otherwise, the \nverification will fail, and this bit will be  read out as ‘1’.  \nInvert the value of “bit3” of “SysCtrl ” and write it to “bit19 ” for the \nsystem control register self -check ing. \nBit18 \nDETCST  R/W Current detection interrupt flag bit  \nWhen some continuous samples of the current signal are higher than the \npreset threshold, this bit will be set to ‘1’ to indicate that a current signal \nis caught. This bit can be cleared only by writing ‘0’ to it when the current \nsamples are lower than the threshold.  \nInvert the value of “bit2” of “SysCtrl ” and write it to “bit18 ” for the \nsystem control register self -check ing. \nBit17 R/W Voltage sign bit  \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   62 / 94 \nRegister  Bit R/W  Description  \nUSIGN  1: Negative  \n0: Positive  \nRead this bit to detect the sign of the voltage.  \nThis bit toggles following the sign of the voltage.  \nInvert the value of “bit1” of “SysCtrl ” and write it to “bit17 ” for the \nsystem control register self -check ing. \n \n \n  \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   63 / 94 \n9. Registers  \n9.1.  Analog Control Registers  \nAll analog control registers of V 9260F , located at addresses “0x0185 ” ~ “0x0187 ”, will be reset to \ntheir default values when a Power-On Reset (POR), RX reset , or global software reset occurs. All the \ndefault values in the following tables are in the format of hexadecimal. Al l analog control registers are \nreadable and writable. Their configurations must be verified all the time.  \nThe register “ANCtrl1 ” located at address “0x0186 ” must be set to “0x30000000 ” for proper \noperation.  \nTable 9-1 Analog Control Register 0 (ANCtrl0, 0x0185)  \n0x0185, R/W, Analog Control Register 0, ANCtrl0  \nBit  Default  Function Description  \nBit[31:30]  Reserved  0 These bits must hold their default values for proper operation.  \nBit29  PDRCCLK  N/A Clear this bit to enable the 3.2 -MHz RC Clock. It is mandatory \nto enable the Bandgap  circuit and biasing circuit firstly. The \nvalue of the bit is uncertain when the system is reset.  \nIn the Sleep Mode, this bit is set to ‘1’ automatically. In the \nCurrent Detection Mode, this bit is cleared automatically.  \nIn the Metering Mode, when the chip operates with full \nfunctions, it is recommended to disable  this circuit  (Set the bit \nto ‘1’). \nBit28  BIASPDN  0 Set this bit to ‘1’ to enable the biasing circuit to provide global \nbiasing current for ADCs and the 3.2 -MHz RC oscillator. \nTherefore, in the Metering Mode, when the chip operates with \nfull functions, this bit must be set to  ‘1’ before enabling ADCs \nand the 3.2 -MHz RC oscill ator. By default the biasing circuit is \ndisabled.  \nIn the Sleep Mode, this bit is cleared automatically. In the \nCurrent Detection Mode, this bit is set to ‘1’ automatically.  \nBit27  BGPPDN  0 Set this bit to ‘1’ to enable  the Bandgap  circuit to provide ADCs  \nand the 3.2 -MHz RC oscillator with reference voltage and \nbiasing voltage. Therefore, in the Metering Mode, when the \nchip operates with full functions, this bit must be set to ‘1’ \nbefore enabling ADCs and the 3.2 -MHz RC oscillator. By default \nthe Bandgap  circuit is disabled.  \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   64 / 94 \n0x0185, R/W, Analog Control Register 0, ANCtrl0  \nBit  Default  Function Description  \nIn the Sleep Mode, this bit is cleared automatically. In the \nCurrent Detection Mode, this bit is set to ‘1’ automatically.  \nBit26  ADCUPDN  0 Set this bit to ‘1’ to enable Voltage Channel ADC. The Bandgap  \ncircuit must be enabled before this ADC.  \nBoth in the Sleep Mode and in the Current Detection Mode, this \nbit is cleared automatically.  \nBit25  Reserved  0 This bit must hold its default value for proper operation.  \nBit24  ADCIPDN  0 Set this bit to ‘1’ to enable Current Channel ADC. The Bandgap  \ncircuit must be enabled before this ADC.  \nIn the Sleep Mode, this bit is cleared automatically. In the \nCurrent Detection Mode, this bit is set to ‘1’ automatically.  \nBit[23:22]  Reserved  0 These bits must hold th eir default values for proper operation.  \nBit21  XRSTEN  0 Set this bit to ‘1’ to enable the function of stimulating the \nexternal crystal when it stops running. By default this function \nis disabled.  \nIn the Metering Mode, when the chip operates with full \nfunctions, it is recommended to enable this function for the \nbest performance.  \nBit20  XTALPD  0 Set this bit to ‘1’ to disable the crystal oscillation circuit. By \ndefault this circuit is enabled. In the Metering Mode, when the \nchip operates with full function s, this bit will be set to ‘1’ when \nthe external crystal stops running, but it will be cleared \nautomatically when the crystal restores running.  \nBoth in the Sleep Mode and in the Current Detection Mode, this \nbit is set to ‘1’ automatically.  \nBit19  XTAL3P2M  0 When a 3.2768 -MHz external crystal is used, this bit must be \nset to ‘1’ to disable the 1/2 divider in the crystal oscillation \ncircuit.  \nWhen a 6.5536 -MHz crystal is used, this bit must be cleared to \nenable the 1/2 divider.  \nBit18  XTALLP  0 When a 3.2768 -MHz crystal is used, it is mandatory to set this \nbit to ‘1’ to lower the power dissipation of the crystal oscillation \ncircuit to a half.  \nWhen a 6.5536 -MHz crystal is used, this bit must hold its \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   65 / 94 \n0x0185, R/W, Analog Control Register 0, ANCtrl0  \nBit  Default  Function Description  \ndefault value.  \nBit[17:16]  ADCLKSEL<1:0>  0 To select the sampling frequency of the oversampling ADC \n(ADC clock, ADCCLK). The sampling frequency of ADCs must \nbe a quarter or one eighth of the metering clock (MEACLK) \nfrequency when the chip operates with full functions in the \nMetering Mode.  \n00: 819.2  kHz  \n01: 409.6  kHz  \n10: 204.8  kHz  \n11: 102.4  kHz  \nIn the Current Detection Mode, these bits must be set to \n“0b10 ” to lower the power dissipation.  \nWhen the chip operates with full functions in the Metering \nMode, their default values are recommended to be used for the \nbest performance.  \nBit15  Reserved  0 This bit must hold its default value for proper operation.  \nBit[14:12]  REST<2:0>  0 To finely adjust the temperature coefficient of the Bandgap  \ncircuit. In order to obtain the best metering performance and \ntemperature performance during normal metering, it must be \nconfigured according to the calculated result.  The calculation \nmethod , please refer to Bandgap  Circuit chapter.  \n000: No adjustment  \n001: +10  ppm  \n010: +20  ppm  \n011: +30  ppm  \n100: -40 ppm  \n101: -30 ppm  \n110: -20 ppm  \n111: -10 ppm  \nBit[11:10]  IT<1:0>  0 To adjust the global bias current  \n00: No adjustment  \n01: by -33%  \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   66 / 94 \n0x0185, R/W, Analog Control Register 0, ANCtrl0  \nBit  Default  Function Description  \n10: by -66%  \n11: by -75%  \nIn the Current Detection Mode, it is recommended to set these \nbits to “0b10 ” and lower the “ADCCLK ” frequency to 204.8  \nkHz to accelerate the detection .  \nWhen the chip operates with full functions in the Metering \nMode, it is recommended to set these bits to “0b01” for the \nbest performance.  \nBit[9:8]  RESTL<1:0>  0 To roughly adjust the temperature coefficient of the Bandgap  \ncircuit . In order to obtain the best metering performance and \ntemperature performance during normal metering, it must be \nconfigured according to  the calculated result.  The calculation \nmethod , please refer to Bandgap  Circuit chapter.  \n00: No adjustment  \n01: +70  ppm  \n10: -140 ppm  \n11: -70 ppm \nBit7 GU 0 To set analog PGA gain of analog input of Voltage Channel ADC  \n0: × 4 ( Recommended)   \n1: ×1  \nBit6 Reserved  0 This bit must be set to ‘1’ for proper operation.  \nBit[5:2]  Reserved  0 These bits must hold their default values for proper operation.  \nBit[1:0]  GI<1:0>  0 To set analog PGA gain of analog input of Current Channel \nADC. The analog PGA gain is determined by the output signal \nof the sensor. The product of the output signal and PGA gain \n(Both analog and digital) must be no more than the voltage \nreference.  \n00: × 32;  \n01: × 16  \n10: ×4  \n11: × 1  \nTable 9-2 Analog Control Register 2 (ANCtrl2, 0x0187)  \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   67 / 94 \n0x0187, R/W, Analog Control Register 2, ANCtrl2  \nBit  Default  Function Description  \nBit[31:30]  Reserved  0 These bits must hold their default values for proper operation.  \nBit[29:24]  RCTRIM<5:0>  0 To adjust the 3.2 -MHz RC clock cycle. The resolution is 1% per \nLSB. When these bits are in their default state, no adjustment is \napplied.  \nFrom “0b000000 ” to “0b100000 ”, the RC clock cycle is \ndecreased by 1% per LSB; from “0b100001 ” ~ “0b111111 ”, \nthe RC cl ock cycle is increased by 1% per LSB. When the chip \noperates with full functions in the Metering Mode, it is \nrecommended to hold their default values for the best \nperformance.  \nBit[23: 20] Reserved  0 These bits must hold their default values for proper oper ation.  \nBit19  XRSEL<1>  0 To adjust the negative resistance of the crystal oscillator  \nIt is not recommended to set this bit to ‘1’ that will lead to \nadditional 18 -μA load current.  \nBit18  XRSEL<0>  0 To adjust the negative resistance of the crystal oscillator  \nWhen the equivalent series resistance of the crystal is higher \nthan 60  Ω, it is recommended to set this bit to ‘1’ that will lead \nto additional 55 -μA load current.  \nBit[17:16]  XCSEL<1:0>  0 To adj ust the load capacitance of the crystal oscillator  \nBy default the load capacitance is 12  pF.  \n00: No adjustment  \n01: +2  pF  \n10: +4  pF  \n11: +6  pF  \nBit15  Reserved  0 This bit must hold its default value for proper operation.  \nBit[14:12]  LDOVSEL<2:0>  0 To adjust the DVCC LDO output voltage  \n000: No adjustment  \n001: -0.1 V  \n010: +0.2  V  \n011: +0.1  V  \n100: -0.4 V  \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   68 / 94 \n0x0187, R/W, Analog Control Register 2, ANCtrl2  \nBit  Default  Function Description  \n101: -0.5 V  \n110: -0.2 V  \n111: -0.3 V  \nBit11  Reserved  0 This bit must hold its default value for proper operation.  \nBit10  SHORTU  0 When a DC voltage signal is applied to Voltage Channel, it is \nrecommended to set this bit to ‘1’ to short the amplifier in the \nvoltage channel to obtain the bias voltage of ADC itself. By \ndefault this function is disabled.  \nBit9 Reserved  0 This bit must hold its default value for proper operation.  \nBit8 SHORTI  0 When a DC current signal is applied to Current Channel, it is \nrecommended to set this bit to ‘1’ to short the amplifier in the \ncurrent channel to obtain the bias current of ADC itself. By \ndefault this function is disabled.  \nBit[7:0] Reserved  0 These bits must hold their default values for proper operation.  \n9.2.  System Control Register  \nWhen a Power-On Reset (POR), RX reset or global software reset occurs, the system control register will \nbe reset to it s default state. If not specifically noted, the default values in the tables of this section are in \nthe format of hexadecimal.  \nIn V9260F , “bit[8:0] ” of register “SysCtrl ” (0x0180) are used for key configuration for the operation \nmode, and “bit[24:16] ” are designed as the backup of their configurations. Invert the values of  \n“bit[8:0] ”, and write them into “bit[24:16]”  sequentially. The internal self -check ing circuit compares \nthe content of both parts all the time. If they are opposite to each other bit by b it, it indicates the \nconfigurations are right; otherwise, an interrupt signal will be triggered, flag bit “SYSERR ” (bit20 of \nSysCtrl) is set to ‘1’, and “INT” pin outputs the high logic to warn the master MCU that something wrong \nwith these configurations.  \nTable 9-3 System Control Register (0x0180, SysCtrl)  \n0x0180, System Control Register, SysCtrl  \nBit R/W  Default  Function Description  \nBit[31:30]  Reserved  R 0 These bits are read out as 0s.  \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   69 / 94 \n0x0180, System Control Register, SysCtrl  \nBit R/W  Default  Function Description  \nBit29  BISTERR  R 0 The internal RAM will be self -checked immediately once a global \nreset event occurs. The self -check ing will be finished in 1.25  \nms. After the self-check ing, If this bit is read out as ‘1’, it \nindicates that the self -check ing of the internal RAM fails. If th is \nbit is read out as ‘0’, it indicates that the internal RAM is ready \nto be accessed; but if this bit is read out as ‘1’ again after \nanother reset event, it indicates that there is something wrong \nwith RAM.  \nBit28  PDN R 0 Power -down interrupt flag bit  \nWhen the input voltage on the pin “AVCC ” is lower than 2. 8 V, \nthis bit will be set to  ‘1’. When the input is higher than 2. 8 V, \nthis bit will be cleared.  \nBit27 HSEFAIL  R 0 External crystal failure interrupt flag bit  \nWhen the external crystal stops running, this bit will be set bit \nand hold the state till the crystal starts to oscillate again.  \nWhen the crystal stops running, the UART serial interface is \nsourced by the 3.2 -MHz RC clock , “CLK2 ”, that is not accurate \nenough for the UART communication, so the master MCU \ncannot read the value of this bit to detect the state of the \ncrystal. In this circumstance, users should enable the external \ncrystal failure interrupt output on pin “INT” to help to detect \nthe state of the crystal.  \nBit[26:25] \nRSTSRC  R \n Flag bits to indicate the reset source  \nBit26  Bit25  Bit24  Description  \n0 0 1 A POR event occurred.  \n0 0 0 A WDT overflow event occurred.  \n0 1 1 An RX reset event occurred.  \n0 1 0  \n1 0 0 A global software reset occurred.  \nRead of “bit24 ” together with “bit[26:25] ” to detect the \nreset source.  \nInvert the value of “bit8” of “SysCtrl ” and write it to “bit24 ” \nfor the system control register self -check ing. Bit24  R/W \nbit23 Reserved  R/W 0 The reading remains ‘0’.  \nInvert the value of “bit7” of “SysCtrl ” and write it to “bit23” \nfor the system control register self -check ing. \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   70 / 94 \n0x0180, System Control Register, SysCtrl  \nBit R/W  Default  Function Description  \nbit22 PDN_R R/W N/A The latch of “PDN”. When the reset occurs, it will be ‘0’. After the \nreset, the value will be determined by the working \nenvironment.  \nIf “PDN” is high, “PDN_R” will be put to high.  \nIf “PDN” is low, “PDN_R” will remain the same.  \nIf performing the write operation to “0x180 ”, no matter what \ndata is written into, “PDN_R” will be put to low.  \nInvert the value of “bit6” of “SysCtrl ” and write it to “bit22” \nfor the system control register self -check ing. \nbit21 REF R/W N/A When the leakage occurs in the external capacitor of “REF”, this \nbit will be set to high. Otherwise, this bit will be set to low. The \nlevel of this bit will not be changed by the read/write operation.  \nThe default value is relevant to the working environment.  \nInvert the value of “bit5” of “SysCtrl ” and write it to “bit21” \nfor the system control  register self -check ing. \nBit20 SYSERR  R/W 1 Read this flag bit for the state of the system control register \nself-check ing.  \nBy default it is read out as ‘1’. If the values of “bit[8:0] ” and \n“bit[24:16] ” are opposite to each other bit by bit, the system \ncontrol register self -check ing will  pass, and this bit will be  read \nout as ‘0’; otherwise, the self -check ing will fail, and this bit will \nbe read out as ‘1’. Only writing the exact opposite values of \n“bit[8:0]” to “bit[24:16] ” can clear this bit.  \nInvert the value of “bit4” of “SysCtrl ” and write it to “bit20 ” \nfor the system control register self -check ing. \nBit19 CHKERR  R/W 0 Read this bit for the state of configuration verification  \nAdd the content of the registers for calibration, metering \ncontrol registers, analog control registers, and three  reserved \ninternal registers to the content of the checksum register to \nensure that all the important configurations are in their desired \nstates. If the sum is “0xFFFFFFFF ”, the verification will pass, \nand this bit will be  read out as ‘0’; otherwise, the verification \nwill fail, and this bit will be  read out as ‘1’.  \nInvert the value of “bit3” of “SysCtrl ” and write it to “bit19 ” \nfor the system control register self -check ing. \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   71 / 94 \n0x0180, System Control Register, SysCtrl  \nBit R/W  Default  Function Description  \nBit18  DETCST  R/W 0 Current detection interrupt flag bit  \nWhen some continuous samples of the current signal are higher \nthan the preset threshold, this bit will be set to ‘1’ to indicate \nthat a current signal is caught. This bit can be cleared only by \nwriting ‘0’ to it when the current samples are lower than the \nthreshold.  \nInvert the value of “bit2” of “SysCtrl ” and write it to “bit18 ” \nfor the system control register self -check ing. \nBit17  USIGN  R/W 0 Voltage sign bit  \n1: Negative  \n0: Positive  \nRead this bit to detect the sign of the voltage. This bit toggles \nfollowing the sign of the voltage.  \nInvert the value of “bit1” of “SysCtrl ” and write it to “bit17 ” \nfor the system control register self -check ing. \nBit16  Reserved  R/W 0 It is meaningless to read of this bit.  \nInvert the value of “bit0” of “SysCtrl ” and write it to “bit16 ” \nfor the system control register self -check ing. \nBit[15:9]  Reserved  R 0 These bits are read out as 0s.  \nBit[8:5]  Reserved  R/W 0 By default these bits are read out as 0s. These bits are writable, \nbut it is meaningless to write of them.  \nInvert the values of these bits and write them to “bit[24:21] ” \nfor the system control register self -check ing. \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   72 / 94 \n0x0180, System Control Register, SysCtrl  \nBit R/W  Default  Function Description  \nBit[4:2]  CKUDIV  R/W 1 To set the baud rate for UART communication, in unit of “bps” \n000: 1200  \n001: 2400  \n010: 4800  \n011: 9600  \n100: 19200   \n101: 38400   \n110/111: 1200  \nNote: When a 3.2768 -MHz crystal is used, after Power-On \nReset (POR) RX reset or global software reset, the actual baud \nrate is a half of the desired baud rate. In this case, users must \nset the bit “XTAL3P2M ” (bit19 of ANCtrl0, 0x0185) to ‘1’ to \ndisable the 1/2 divider to generate 3.2768 -MHz “CLK1 ” to \nsource the UART interface. After the WDT overflow reset, the \nbaud rate is reset to 2400  bps, but these bits holds their \nconfigurations.  \nInvert the values of these bits and write them to “bit[20:18] ” \nfor the system control register self -check ing.  \nBit1 CKMDIV  R/W 0 To select the clock frequency for the Vango metering \narchitecture  (MEACLK)  \n1: 819.2  kHz  \n0: 3.2768  MHz  \nInvert the value of this bit and write it to “bit17 ” for the system \ncontrol register self -check ing. \nBit0 SLEEP  R/W 0 Set this bit to ‘1’ to disable “CLK1 ” and “CLK2 ” and force the \nsystem to enter the Sleep Mode.  \nInvert the value of this bit and write it to “bit16 ” for the system \ncontrol register self -check ing. \n9.3.  Metering Control Registers  \nAll metering control registers, located at addresses “0x0183 ” and “0x0184 ”, will be reset to their \ndefault values when a power -on reset, RX reset , or global software reset occurs. If not specifically noted, \nthe default values in the following tables are in the format of hexadecimal. All metering control registers \nare readable and writable. Their configurations must be verified all the time.  \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   73 / 94 \nTable 9-4 Metering Control Register 0 ( 0x0183, MTPARA0)  \n0x0183, R/W, Metering Control Register 0, MTPARA0  \nBit  Default  Function Description  \nBit[31:18]  Reserved  0 These bits must hold their default values for proper operation.  \nBit[17:15]  WDT 0 To set the interval for WDT overflow reset (T).  \nT is calculated via the equation\n3 CLKfWDT2= T , of which,  \n\uf09f WDT is the value of bit[17:15]. 000: 16; 001: 17; 010: 18; 011: \n19; 100: 20; 101: 21; 110: 22; 111: 23.  \n\uf09f fCLK3 is the actual “CLK3 ” frequency. In practice, 32768Hz is taken \nto calculate the interval (T). But there is an error of ± 50% of the \n“CLK3 ” frequency, so it is recommended to feed dog at interval of \n2T\n to prevent the UART serial interface from being reset by the \nWDT overflow.  \nBit[14:13]  BPFSFT  0 To set the number of the bits of the bandpass filter to be shifted  \n00: 8 bits  \n01: 9 bits  \n10: 10 bits  \n11: 11 bits  \nThe fewer bits are shifted, the less time the filter needs to response, \nand the lower sensitivity of it to the frequency deviation is.  \nBit12  IDETEN  0 To enable current detection  \n1: Enable  \n0: Disable  \nBit[11:8]  IDETLEN  0 To set the width of filtering window for current detection  \n0000: 1; 0001: 2; 0010: 3; 0011: 4; 0100: 5; 0101: 6; 0110: 7; 0111: \n8; 1000: 9; 1001: 10; 1010: 11; 1011: 12; 1100: 13; 1101: 14; 1110: \n15; 1111: 16.  \nFor instance, if “IDETLE N” is set to “0b0011 ”, the filtering window \nwidth is set to ‘4’, which means only when four continuous current \nsamples are higher than the threshold is it defined that a current signal \nis caught.  \nBit[7:6]  Reserved  0 These bits must hold their default values for proper operation.  \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   74 / 94 \n0x0183, R/W, Metering Control Register 0, MTPARA0  \nBit  Default  Function Description  \nBit5 IEWDT  0 To enable WDT overflow interrupt output  \n1: Enable  \n0: Mask \nBit4 IEHSE  0 To enable external crystal failure interrupt output  \n1: Enable  \n0: Mask \nBit3 IEPDN  0 To enable power -down interrupt output  \n1: Enable  \n0: Mask \nBit2 IEIDET  0 To enable current detection interrupt output  \n1: Enable  \n0: Mask \nBit1 IESUL  0 To enable voltage sign output  \n1: Enable  \n0: Mask \nBit0 Reserved  0 This bit must hold its default value for proper operation.  \n \n \n \n \nTable 9-5 Metering Control Register 1 (0x0184, MTPARA1)  \n0x0184, R/W, Metering Control Register 1, MTPARA1  \nBit  Default  Function Description  \nBit[31:23]  Reserved  0 These bits must hold their default values for proper operation.  \nBit22  CKSUM  1 When this bit is set to ‘1’, only configuration verification will be  \nactivated. When this bit is cleared, all functions of the Vango metering \narchitecture  will be  activated.  \nIn the Current Detection Mode, this bit is cleared automatically.  \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   75 / 94 \n0x0184, R/W, Metering Control Register 1, MTPARA1  \nBit  Default  Function Description  \nBit21 IDET 0 When bit “CKSUM ” (bit22) is cleared, set this to ‘1’ to activate the \nconfiguration verification and current detection only; clear this bit to \nexecute all computations.  \nIn the Current Detection Mode, this bit is set to ‘1’ automatically.  \nBit20  BPHPF 0 By default the high pass filter is enabled to remove the DC component \nfrom the signals, and only the AC component of the signals are sent for \nRMS and power calculation.  \nWhen this bit is set to ‘1’, the high pass filter is disabled.  \nBit19 ENPHC  0 Set this bit to ‘1’ to enable phase compensation. By default this \nfunction is disabled.  \nBit18 PHCIU  0 Set this bit to ‘1’ to delay voltage for the phase compensation. Clear \nthis bit to delay current for phase compensation.  \nBit17 ONI 0 To enable digital  signal input of current channel for digital signal \nprocessing  \n1: Enable  \n0: Disable. When this bit is cleared, a constant ‘0’ is input for the digital \nsignal processing.  \nBit16  ONU 0 To enable digital signal input of voltage channel for digital signal \nprocessing  \n1: Enable  \n0: Disable. When this bit is cleared, a constant ‘0’ will be  input for the \ndigital signal processing.  \nBit[15:8]  PHC 0 To set the absolute value for phase compensation  \nThe resolution is 0.0055° /lsb, and a phase error up to 1.4°  can b e \ncalibrated.  \nBit[7:4]  PGAI 0 To set digital PGA gain of current input  \n0000: ×1; 0001: ×1/2; 0010: ×1/4; 0011: ×1/8; 0100: ×1/16; 0101: \n×1/32;  \n1000: ×1; 1001: ×2; 1010: ×4; 1011: ×8; 1100: ×16; 1101: ×32.  \nBit[3:0]  PGAU  0 To set digital PGA gain of voltage input  \n0000: ×1; 0001: ×1/2; 0010: ×1/4; 0011: ×1/8; 0100: ×1/16; 0101: \n×1/32;  \n1000: ×1; 1001: ×2; 1010: ×4; 1011: ×8; 1100: ×16; 1101: ×32.  \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   76 / 94 \n9.4.  Data Registers  \nWhen a Power-On Reset (POR), RX reset , or global software reset occurs, all data registers will be  reset \nto their default states. If not specifically noted, all the default values in the following tables are in the \nformat of hexadecimal.  \nTable 9-6 Registers for DC Component (R/W)  \nRegister  R/W  Format  Description  \n0x0114 DCU R/W 32-bit, \n2’-complement  The DC component of voltage signal  \nWhen the “MEACLK ” frequency is 3.2768  MHz, this register will \nbe updated in 160  ms, and settled in 300  ms.  \nWhen the “MEACLK ” frequency is 819.2  kHz, this register will \nbe updated in 640  ms and settled in  \n1200 ms. \n0x0115 DCI R/W 32-bit, \n2’-complement  The DC component of current signal  \nWhen the “MEACLK ” frequency is 3.2768  MHz, this register will \nbe updated in 160  ms, and settled in  \n300 ms.  \nWhen the “MEACLK ” frequency is 819.2  kHz, this register will \nbe updated in 640  ms and settled in  \n1200 ms. \nTable 9-7 Registers for Line Frequency (R)  \nRegister  R/W  Format  Description  \n0x019A FREQ  R 32-bit, \n2’-complement  The instantaneous line frequency  \nWhen the “MEACLK ” frequency is 3.2768  MHz, this register \nwill be  updated in 20  ms; when the “MEACLK ” frequency is \n819.2  kHz, this register will be  updated in 80  ms. The \nsettling time for the register is determined by the amplitude \nand quality of the signal.  \n0x011D  SAFREQ  R 32-bit, \n2’-complement  The line frequency per second  \nWhen the “MEACLK ” frequency is 3.2768  MHz, this register \nwill be  updated in 1.28  s; when the “MEACLK ” frequency is \n819.2  kHz, this register will be  updated in 5.12  s. The \nsettling time for the register is determined by the amplitude \nand quality of the signal.  \n0x011E AFREQ  R 32-bit, \n2’-complement  The average line frequency  \nWhen the “MEACLK ” frequency is 3 .2768  MHz, this register \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   77 / 94 \nRegister  R/W  Format  Description  \nwill be  updated in 10.24  s; when the “MEACLK ” frequency \nis 819.2  kHz, this register is updated in 40.96  s. The settling \ntime for the register is determined by the amplitude and \nquality of the signal.  \nTable 9-8 Registers for RMS Values of Total/Fundamental Signals (R/W)  \nRegister  R/W  Format  Description  \n0x0105 ARRTI R/W 32-bit, \n2’-complement  The raw total current RMS  \nWhen the “MEACLK ” frequency is 3.2768  MHz, the register \nwill be  updated in 160  ms and settled in 500  ms. When the \n“MEACLK ” frequency is 819.2  kHz, the register will be  \nupdated in 640  ms and settled in 2000  ms.  \n0x0104 ARRTU R/W 32-bit, \n2’-complement  The raw total voltage RMS  \nWhen the “MEACLK ” frequency is 3.2768  MHz, the register \nwill be  updated in 160  ms and settled in 500  ms. When the \n“MEACLK ” frequency is 819.2  kHz, the register will be  \nupdated in 640  ms and settled in 2000  ms. \n0x0109 BRRTU  R/W 32-bit, \n2’-complement  The raw fundamental voltage RMS  \nWhen the “MEACLK ” frequency is 3.2768  MHz, the register \nwill be  updated in 160  ms and settled in 500  ms. When the \n“MEACLK ” frequency is 819.2  kHz, the register will be  \nupdated in 640  ms and settled in 2000  ms. \n0x010A BRRTI  R/W 32-bit, \n2’-complement  The raw fundamental current RMS  \nWhen the “MEACLK ” frequency is 3.2768  MHz, the register \nwill be  updated in 160  ms and settled in 500  ms. When the \n“MEACLK ” frequency is 819.2  kHz, the register will be  \nupdated in 640  ms and settled in 2000  ms.  \n0x010E ARTI R/W 32-bit, \n2’-complement  The instantaneous total current RMS  \nWhen the “MEACLK ” frequency is 3.2768  MHz, the register \nwill be  updated in 160  ms and settled in 500  ms. When the \n“MEACLK ” frequency is 819.2  kHz, the register will be  \nupdated in 640  ms and settled in 2000  ms. \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   78 / 94 \nRegister  R/W  Format  Description  \n0x010D  ARTU  R/W 32-bit, \n2’-complement  The instantaneous total voltage RMS  \nWhen the “MEACLK ” frequency is 3.2768  MHz, the register \nwill be  updated in 160  ms and settled in 500  ms. When the \n“MEACLK ” frequency is 819.2  kHz, the register will be  \nupdated in 640  ms and settled in 2000  ms. \n0x0112 BRTU  R/W 32-bit, \n2’-complement  The instantaneous fundamental voltage RMS  \nWhen the “MEACLK ” frequency is 3.2768  MHz, the register \nwill be  updated in 160  ms and settled in 500  ms. When the \n“MEACLK ” frequency  is 819.2  kHz, the register will be \nupdated in 640  ms and settled in 2000  ms. \n0x0113 BRTI R/W 32-bit, \n2’-complement  The instantaneous fundamental current RMS  \nWhen the “MEACLK ” frequency is 3.2768  MHz, the register \nwill be  updated in 160  ms and settled in 500 ms. When the \n“MEACLK ” frequency is 819.2  kHz, the register will be  \nupdated in 640  ms and settled in 2000  ms.  \n0x011B AARTU  R/W 32-bit, \n2’-complement  The average total voltage RMS  \nWhen the “MEACLK ” frequency is 3.2768  MHz, the register \nwill be  updated in 1.28  s and settled in 3  s. When the \n“MEACLK ” frequency is 819.2  kHz, the register will be  \nupdated in 5.12  s and settled in 12  s. \n0x011C AARTI  R/W 32-bit, \n2’-complement  The average total current RMS  \nWhen the “MEACLK ” frequency is 3.2768  MHz, the register \nwill be  updated in 1.28  s and settled in 3  s. When the \n“MEACLK ” frequency is 819.2  kHz, the register will be  \nupdated in 5.12  s and settled in 12  s.  \n0x0121 ABRTU  R/W 32-bit, \n2’-complement  The average fundamental voltage RMS  \nWhen the “MEACLK ” frequency is 3.2768  MHz, the register \nwill be  updated in 1.28  s and settled in 3  s. When the \n“MEACLK ” frequency is 819.2  kHz, the register will be  \nupdated in 5.12  s and settled in 12  s. \n0x0122 ABRTI  R/W 32-bit, \n2’-complement  The average fundamenta l current RMS  \nWhen  the “MEACLK ” frequency is 3.2768  MHz, the register \nwill be  updated in 1.28  s and settled in 3  s. When the \n“MEACLK ” frequency is 819.2  kHz, the register will be  \nupdated in 5.12  s and settled in 12  s.  \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   79 / 94 \n \nTable 9-9 Total/Fundamental Active/Reactive Power Registers (R/W)  \nRegister  R/W  Format  Description  \n0x0102 RAP R/W 32-bit, \n2’-complement  The raw total active power  \nWhen the “MEACLK ” frequency is 3.2768MHz, the register will \nbe updated in 160  ms and settled in 500  ms. When the \n“MEACLK ” frequency is 819.2  kHz, the register will be  updated \nin 640  ms and settled in 2000  ms. \n0x0103 RAQ R/W 32-bit, \n2’-complement  The raw total reactive power  \nWhen the “MEACLK ” frequency is 3.2768  MHz, the register will \nbe updated in 160  ms and settled in 500  ms. When the \n“MEACLK ” frequency is 819.2  kHz, the register will be  updated \nin 640  ms and settled in 2000  ms. \n0x0107 RBP R/W 32-bit, \n2’-complement  The raw fundamental active power  \nWhen the “MEACLK ” frequency is 3.2768  MHz, the register will \nbe updated in 160  ms and settled in 500  ms. When the \n“MEACLK ” frequency is 819.2  kHz, the register will be  updated \nin 640  ms and settled in 2000  ms. \n0x0108 RBQ R/W 32-bit, \n2’-complement  The raw fundamental reactive power  \nWhen the “MEACLK ” frequency is 3.2768  MHz, the register will \nbe updated in 160  ms and settled in 500  ms. When the \n“MEACLK ” frequency is 819.2  kHz, the register will be  updated \nin 640  ms and settled in 2000  ms. \n0x010B IAP R/W 32-bit, \n2’-complement  The instantaneous total active power  \nWhen the “MEACLK ” frequency is 3.2768  MHz, the register will \nbe updated in 160  ms and settled in 500  ms. When the \n“MEACLK ” frequency is 819.2  kHz, the register will be  updated \nin 640  ms and settled  in 2000  ms. \n0x010C IAQ R/W 32-bit, \n2’-complement  The instantaneous total reactive power  \nWhen the “MEACLK ” frequency is 3.2768  MHz, the register will \nbe updated in 160  ms and settled in 500  ms. When the \n“MEACLK ” frequency is 819.2  kHz, the register will be updated \nin 640  ms and settled in 2000  ms. \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   80 / 94 \nRegister  R/W  Format  Description  \n0x0110 IBP R/W 32-bit, \n2’-complement  The instantaneous fundamental active power  \nWhen the “MEACLK ” frequency is 3.2768MHz, the register will \nbe updated in 160  ms and settled in 500  ms. When the \n“MEACLK ” frequency is 819.2  kHz, the register will be  updated \nin 640  ms and settled in 2000  ms. \n0x0111 IBQ R/W 32-bit, \n2’-complement  The instantaneous fundamental reactive power  \nWhen the “MEACLK ” frequency is 3.2768  MHz, the register will \nbe updated in 160  ms and settled in 500  ms. When the \n“MEACLK ” frequency is 819.2  kHz, the register will be  updated \nin 640  ms and settled in 2000  ms. \n0x0119 AAP R/W 32-bit, \n2’-complement  The average total active power  \nWhen the “MEACLK ” frequency is 3.2768  MHz, the register will \nbe updated in 1.28  s and settled in 3  s. When the “MEACLK ” \nfrequency is 819.2  kHz, the register will be  updated in 5.12  s \nand settled in 12  s. \n0x011A AAQ R/W 32-bit, \n2’-complement  The average total reactive power  \nWhen the “MEACLK ” frequency is 3.2768  MHz, the register will \nbe updated in 1.28  s and settled in 3  s. When the “MEACLK ” \nfrequency is 819.2  kHz, the register will be  updated in 5.12  s \nand settled in 12  s. \n0x011F ABP R/W 32-bit, \n2’-complement  The average fundamental active power  \nWhen the “MEACLK ” frequency is 3.2768  MHz, the register will \nbe updated in 1.28  s and settled in 3  s. When the “MEACLK ” \nfrequency is 819.2  kHz, the register will be  updated in 5.12  s \nand settled in 12  s. \n0x0120 ABQ R/W 32-bit, \n2’-complement  The average fundamental reactive power  \nWhen the “MEACLK ” frequency is 3.2768  MHz, the register will \nbe updated in 1.28  s and settled in 3  s. When the “MEACLK ” \nfrequency is 819.2  kHz, the register will be  updated in 5.12  s \nand settled in 12  s. \n9.5.  Registers for Calibration  \nWhen a Power-On Reset (POR), RX reset , or global software reset occurs, all registers for calibration will \nbe reset to their default states. If not specifically noted, all the default values in the following tables are \nin the format of hexadecimal. Their contents must be verified all the time.  \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   81 / 94 \nTable 9-10 Registers for Presetting Bias for Direct Current/Voltage  \nRegister  Default  R/W  Format  Description  \n0x0123 ZZDCI  0 R/W 32-bit \n2’-complement  Preset a value to remove the  DC bias from the \ncurrent signal. The content of this register must be \nverified.  \n0x0124 ZZDC U 0 R/W 32-bit \n2’-complement  Preset a value to remove the DC bias from the \nvoltage signal. The content of this register must be \nverified.  \nTable 9-11 Registers for Calibrating Voltage/Current RMS (R/W)  \nRegister  Default  R/W  Format  Description  \n0x012C WARTI  0 R/W 32-bit, \n2’-complement  Set a value to gain \ncalibrate the total \ncurrent RMS.  The actual value in the \ndecimal form is acquired \nby dividing the register \nreading by 2^31.  \nThe value s of RMS before \nand after calibration \nhave a relationship as \nfollows:  \nRMS=RMS ’×(1+S) \nWhere,  \nRMS is the value of RMS \nafter calibration;  \nRMS’ is the value of RMS \nbefore calibration;  \nS is the gain calibration \nof RMS.  \nThe content of these \nregisters must be \nverified.  0x0132 WARTU  0 R/W 32-bit, \n2’-complement  Set a value to gain \ncalibrate the total \nvoltage RMS.  \n0x0126 WBRTI 0 R/W 32-bit, \n2’-complement  Set a value to gain \ncalibrate the \nfundamental current \nRMS. \n0x012B WBRTU 0 R/W 32-bit, \n2’-complement  Set a value to gain \ncalibrate the \nfundamental voltage \nRMS. \nTable 9-12 Registers for Calibrating Active/Reactive Power (R/W)  \nRegister  Default  R/W  Format  Description  \n0x012E WAPT  0 R/W 32-bit \n2’-complement  Set a value to gain \ncalibrate the total \nactive power.  The actual value in the \ndecimal form is acquired by \ndividing the register reading \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   82 / 94 \nRegister  Default  R/W  Format  Description  \n0x0130 WAQT 0 R/W 32-bit \n2’-complement  Set a value to gain \ncalibra te the total \nreactive power.  by 2^31.  \nThe value s of power before \nand after calibration have a \nrelationship as follows:  \nP=P’×(1+S)+C \nWhere,  \nP is the active or reactive \npower after calibration;  \nP’ is the active or reactive \npower before calibration;  \nS is the gain calibration of \nthe power;  \nC is the offset calibration of \nthe power.  \nThe content of these \nregisters must be verified.  0x012F WWAPT 0 R/W 32-bit \n2’-complement  Set a value to \noffset calibrate the \ntotal active power.  \n0x0131 WWAQT 0 R/W 32-bit \n2’-complement  Set a value to \noffset calibrate the \ntotal reactive \npower.  \n0x0127 WBPT 0 R/W 32-bit \n2’-complement  Set a value to gain \ncalibrate the \nfundamental \nactive power.  \n0x0129 WBQT 0 R/W 32-bit \n2’-complement  Set a value to gain \ncalibrate the \nfundamental \nreactive power.  \n0x0128 WWBPT 0 R/W 32-bit \n2’-complement  Set a value to \noffset calibrate the \nfundamental \nactive power.  \n0x012A WWBQT 0 R/W 32-bit \n2’-complement  Set a value to \noffset calibrate the \nfundamental \nreactive power.  \nTable 9-13 Threshold Register  \nRegister  Default  R/W  Format  Description  \n0x0134 IDETTH  0 R/W 32-bit \n2’-complement  Set a threshold for current detection  \nWhen the current detection is enabled, the current \ndetection circuit will compare the absolute value of \nthe instantaneous current signal to the preset \ncurrent detection threshold in this register. When \nsome continuous samples of the current signal are \nhigher than t he threshold, it means a current \nsignal is caught.  \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   83 / 94 \nRegister  Default  R/W  Format  Description  \nThe content of this register must be verified.  \nTable 9-14 Register for Bandpass Filter Coefficient Configuration ( 0x0125, BPFPARA, R/W ) \nRegister  Default  R/W  Format  Description  \n0x0125 BPFPARA  0 R/W 32-bit \n2’-complement  Set the coefficient of the bandpass filter. \nGenerally, it is set to “0x811D2BA7 ” for the \nbest performance.  \nThis coefficient and the bits to be shift ed in the \nbandpass filter have effect on  the filter response \ntime, the sensitivity to the frequency deviation, \nand the suppression on the harmonics and noise.  \nThe content of this register must be verified.  \n9.6.  Checksum Register  \nTable 9-15 Checksum Register (0x0133, CKSUM, R/W)  \nRegister  Default  R/W  Format  Description  \n0x0133 CKSUM  0 R/W 32-bit \n2’-complement  Add the value of this register and other 24 \nregisters ( Including the metering control registers, \nanalog control registers, registers for calibration, \nand three  reserved internal registers, please refer \nto “Interrupt ” for more detail ed information ) to \ncompute the checksum for the configuration \nverification to ensure the configuration of all the \nregisters are in the desired states. If the sum is \n“0xFFFFFFF F”, the verification will pass.  \nThis register should be set to the difference of \n“0xFFFFFFFF ” and the sum of the other 24 \nregisters.  \n \n \n \nVangotech\nV9260F Datash eet \n Hangzhou Vango Technologies, Inc.   84 / 94 \n10. Outline Dimensions  \nE\nE1D\neA\nA2\nA1θ3\nL1Lθ4θ1h\nh\nθ2A\nA\nb\nb1c\nIndex Area (0.25D+0.75E)1 2 3 89 16Xc1“X”\nA-A\nSymbol Min. Nom. Max.\nA 1.40 1.73\nA1 0.05 0.18\nA2 1.35 1.55\nE 5.84 6.24\nE1 3.84 4.04\nD 9.90 10.10\nL 0.40 0.70\ne\nb 0.36 0.46\nb1 0.36 0.46\nc\nc1\nθ1\nθ2\nθ3\nθ4 15° TYPDimensions (Unit: mm)\n1.27TYP\n0.2TYP\n0.2TYP\n8° TYP\n8° TYP\n4° TYP\n \n \nVangotech\n"}]
!==============================================================================!
### V9260F Component Summary

**Component Type:** Integrated Circuit (IC) for Energy Metering

**Description:**
The V9260F is a highly accurate energy metering IC designed for measuring electrical parameters such as voltage, current, active power, and reactive power. It features dual independent oversampling Σ/Δ ADCs for voltage and current, ensuring high precision in energy measurement. The device supports various communication protocols, including UART, and is compliant with IEC standards for energy metering.

### Key Specifications:

- **Voltage Ratings:**
  - Power Supply Voltage (VDD5): 3.0 V to 5.5 V
  - Analog Power Supply (AVCC): 3.3 V (with LDO)
  - Digital Power Supply (DVCC): 1.8 V (programmable)

- **Current Ratings:**
  - Typical Power Dissipation: 1.5 mA during full operation
  - Maximum Current for AVCC: 30 mA
  - Maximum Current for DVCC: 35 mA

- **Power Consumption:**
  - Typical load current in Metering Mode: 1.45 mA
  - Typical load current in Sleep Mode: 10 μA

- **Operating Temperature Range:**
  - Operating: -40 °C to +85 °C
  - Storage: -55 °C to +150 °C

- **Package Type:**
  - 16-SOP (Small Outline Package)

- **Special Features:**
  - High metering accuracy: <0.1% error in active/reactive energy metering over dynamic ranges of 5000:1 and 3000:1, respectively.
  - Integrated watchdog timer (WDT).
  - Supports UART serial interface with configurable baud rates.
  - Built-in current detection capabilities.
  - Phase compensation for accurate power measurement.

- **Moisture Sensitive Level (MSL):**
  - MSL according to JEDEC J-STD-020E: Not specified in the provided data.

### Typical Applications:
- **Energy Metering:** Used in smart meters for residential and industrial applications to measure energy consumption accurately.
- **Power Management:** Suitable for applications requiring precise monitoring of power usage and efficiency.
- **Data Logging:** Can be integrated into systems for logging energy consumption data for analysis and reporting.
- **Home Automation:** Utilized in smart home devices to monitor and control energy usage.

### Conclusion:
The V9260F from Vango Technologies is a versatile and precise energy metering IC, ideal for applications in smart metering and power management systems. Its robust features and compliance with international standards make it suitable for a wide range of energy measurement applications.