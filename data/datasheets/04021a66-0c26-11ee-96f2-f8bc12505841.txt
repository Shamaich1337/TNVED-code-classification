[{'role': 'system', 'content': 'You are a technical specialist with expertise in electronics. Your task is to analyze datasheets for electronic components and provide a concise summary of the product’s key characteristics and specifications. In addition, you need to gather textual information about the component, including its description and typical applications.Instructions:    Identify the correct component in the datasheet using the provided product code.    Summarize key parameters, including:        Voltage ratings        Current ratings        Power consumption        Operating temperature range        Package type        Special features or notes (if applicable)        Moisture Sensetive Level JEDEC J-STD-020E    Provide a short description of the component, including what it is (e.g., transistor, microcontroller, sensor) and its primary function.    Explain typical applications for the component (e.g., power management, signal processing, data storage, etc.).    Be thorough and accurate: Ensure the information corresponds specifically to the product code, as some datasheets cover multiple variants.Your goal is to create a clear and accurate technical summary that includes both key specifications and a description of what the component is used for.'}, {'role': 'user', 'content': 'Give me information about the component of SX1276IMLTRT production of SEMTECH from the text:SX1276/77/78/79\nwww.semtech.com Page 1WIRELESS, SENSING & TIMING  DATASHEET\nSX1276/77/78/79 - 137 MHz to 1020 MHz Low Power Long Range Transceiver\nRev. 4 - March 2015\n©2015 Semtech CorporationThe SX1276/77/78/79 transc eivers feature the LoRaTM long \nrange modem that provides ultra-long range spread spectrum communication and high interference immunity whilst minimising current consumption.\nUsing Semtech’s patented LoRaTM modulation technique \nSX1276/77/78/79 can achieve a sensitivity of over -148dBm \nusing a low cost crystal and bill of materials. The high \nsensitivity combined with the integrated +20 dBm power amplifier yields industry leading link budget making it optimal for any application requiring range or robustness. \nLoRa\nTM also provides significant advantages in both \nblocking and selectivity over conventional modulation techniques, solving the traditional design compromise between range, interference immunity and energy consumption.\nThese devices also support high performance (G)FSK modes for systems including WMBus, IEEE802 .15.4g. The \nSX1276/77/78/79 deliver exceptional phase noise, selectivity, receiver linearity and IIP3 for significantly lower \ncurrent consumption than competing devices.\n\uf077QFN 28 Package - Operating Range [-40;+85°C]\n\uf077Pb-free, Halogen free, Ro HS/WEEE compliant product\uf077LoRaTM Modem\n\uf077168 dB maximum link budget\n\uf077+20 dBm - 100 mW constant RF output vs. V supply\n\uf077+14 dBm high efficiency PA\n\uf077Programmable bit rate up to 300 kbps\n\uf077High sensitivity: down to -148 dBm\n\uf077Bullet-proof front end: IIP3 = -11 dBm\n\uf077Excellent blocking immunity\n\uf077Low RX current of 9.9 mA, 200 nA register retention\n\uf077Fully integrated synthesizer with a resolution of 61 Hz\n\uf077FSK, GFSK, M SK, GMSK, LoRaTMand OOK modulation\n\uf077Built-in bit synchronize r for clock recovery\n\uf077Preamble detection\n\uf077127 dB Dynamic Range RSSI\n\uf077Automatic RF Sense and CAD with ultra-fast AFC\n\uf077Packet engine up to 256 bytes with CRC\n\uf077Built-in temperature sensor and low battery indicator\n\uf077Automated Meter Reading.\n\uf077Home and Building Automation.\n\uf077Wireless Alarm and Security Systems.\n\uf077Industrial Monitoring and Control\n\uf077Long range Irrigation SystemsGENERAL DESCRIPTION\nORDERING INFORMATION\nPart Number Delivery MOQ / Multiple\nSX1276IMLTRT T&R 3000 pieces\nSX1277IMLTRT T&R 3000 pieces\nSX1278IMLTRT T&R 3000 pieces\nSX1279IMLTRT T&R 3000 piecesKEY PRODUCT FEATURES\nAPPLICATIONS\n\nwww.semtech.com Page 2Section PageTable of contentsSX1276/77/78/79\nWIRELESS, SENSING & TIMING  DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation1.  General Description ........................................................................................................ ......................................... 9\n1.1.  Simplified Block Diagram ................................................................................................. ................................ 9\n1.2.  Product Versions ........................................................................................................ ....................................10\n1.3.  Pin Diagram .............................................................................................................. ..................................... 10\n1.4.  Pin Description ......................................................................................................... ......................................11\n1.5.  Package Marking ......................................................................................................... ..................................12\n2.  Electrical Characteristics ................................................................................................. ...................................... 13\n2.1.  ESD Notice ............................................................................................................... ..................................... 13\n2.2.  Absolute Maximum Ratings ....................... .......................................................................... .......................... 13\n2.3.  Operating Range.......................................................................................................... .................................. 13\n2.4.  Thermal Properties ....................................................................................................... ................................. 13\n2.5.  Chip Specification ...................................................................................................... ....................................14\n2.5.1.  Power Consumption...................................................................................................... ............................ 14\n2.5.2.  Frequency Synthesis.................................................................................................... ............................. 14\n2.5.3.  FSK/OOK Mode Receiver ................................................................................................. ........................16\n2.5.4.  FSK/OOK Mode Transmitter ............................................................................................... ...................... 17\n2.5.5.  Electrical Specification for LoRaTM Modulation ........................................................................ ................19\n2.5.6.  Digital Specification ................................................................................................. ..................................22\n3.  SX1276/77/78/79 Features................................................................................................... ................................. 23\n3.1.  LoRaTM Modem ............................................................................................................. ............................... 24\n3.2.  FSK/OOK Modem ............................................................................................................ .............................. 24\n4.  SX1276/77/78/79 Digital Electronics ........................................................................................ ............................. 25\n4.1.  The LoRaTM Modem ......................................................................................................... ............................ 25\n4.1.1.  Link Design Using the LoRaTM Modem .................................................................................... ................26\n4.1.2.  LoRaTM Digital Interface .............................................................................................. .............................34\n4.1.3.  Operation of the LoRaTM  Modem.......................................................................................... ................... 36\n4.1.4.  Frequency Settings .................................................................................................... ...............................37\n4.1.5.  Frequency Error Indication............................................................................................. ........................... 37\n4.1.6.  LoRaTM Modem State Machine Sequences .................................................................................. ...........38\n4.1.7.  Modem Status Indicators................................................................................................ ........................... 46\n4.2.  FSK/OOK Modem ............................................................................................................ .............................. 46\n4.2.1.  Bit Rate Setting ....................................................................................................... .................................. 46\n4.2.2.  FSK/OOK Transmission................................................................................................... ......................... 47\n4.2.3.  FSK/OOK Reception ...................................................................................................... ........................... 48\n4.2.4.  Operating Modes in FSK/OOK Mode............. ........................................................................... ................ 54\n4.2.5.  Startup Times ......................................................................................................... ...................................56\n4.2.6.  Receiver Startup Options ............................................................................................... ........................... 59\n4.2.7.  Receiver Restart Meth ods............................................................................................... .......................... 60\n4.2.8.  Top Level Sequencer .................................................................................................... ............................ 61\nwww.semtech.com Page 3Section PageTable of contentsSX1276/77/78/79\nWIRELESS, SENSING & TIMING  DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation4.2.9.  Data Processing in FSK/OOK Mode ........................................................................................ ................. 65\n4.2.10.  FIFO ................................................................................................................. .......................................66\n4.2.11.  Digital IO Pins Mapping .............................................................................................. .............................69\n4.2.12.  Continuous Mode ...................................................................................................... ..............................70\n4.2.13.  Packet Mode ........................................................................................................... ................................ 71\n4.2.14.  io-homecontrol® Compatibility Mode .................................................................................... .................. 79\n4.3.  SPI Interface ........................................................................................................... .......................................80\n5.  SX1276/77/78/79 Analog & RF Frontend Electronics........................................................................... ................. 81\n5.1.  Power Supply Strategy .................................................................................................... .............................. 81\n5.2.  Low Battery Detector ..................................................................................................... ................................ 81\n5.3.  Frequency Synthesis ...................................................................................................... ............................... 81\n5.3.1.  Crystal Oscillator ..................................................................................................... .................................. 81\n5.3.2.  CLKOUT Output.......................................................................................................... .............................. 82\n5.3.3.  PLL.................................................................................................................... ........................................ 82\n5.3.4.  RC Oscillator .......................................................................................................... ................................... 82\n5.4.  Transmitter Description ................................................................................................. .................................83\n5.4.1.  Architecture Description ............................................................................................... ............................. 83\n5.4.2.  RF Power Amplifiers.......................... .......................................................................... .............................. 83\n5.4.3.  High Power +20 dBm Operation ........................................................................................... .................... 84\n5.4.4.  Over Current Protection ............................................................................................... .............................85\n5.5.  Receiver Description..................................................................................................... ................................. 85\n5.5.1.  Overview ............................................................................................................... .................................... 85\n5.5.2.  Receiver Enable d and Receiver Active St ates............................................................................ .............. 85\n5.5.3.  Automatic Gain Control In FSK/OOK Mode ................................................................................. ............. 85\n5.5.4.  RSSI in FSK/OOK Mode ................................................................................................... ........................ 86\n5.5.5.  RSSI and SNR in LoRaTM Mode............................................................................................ .................. 87\n5.5.6.  Channel Filter......................................................................................................... ................................... 88\n5.5.7.  Temperature Measuremen t................................................................................................ ....................... 89\n6.  Description of the Registers..................... .......................................................................... .................................... 90\n6.1.  Register Table Summary ................................................................................................... ............................ 90\n6.2.  FSK/OOK Mode Register Map ............................................................................................... ........................93\n6.3.  Band Specific Additional  Registers ....................................................................................... ....................... 106\n6.4.  LoRaTM Mode Register Map................................................................................................. ...................... 108\n7.  Application Information .. .................................................................................................. .................................... 115\n7.1.  Crystal Resonator Specification.......................................................................................... ......................... 115\n7.2.  Reset of the Chip ........................................................................................................ ................................. 115\n7.2.1.  POR.................................................................................................................... ..................................... 115\n7.2.2.  Manual Reset .......................................................................................................... ................................116\n7.3.  Top Sequencer: Listen Mode Examples .......... ............................................................................ ................ 116\nwww.semtech.com Page 4Section PageTable of contentsSX1276/77/78/79\nWIRELESS, SENSING & TIMING  DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation7.3.1.  Wake on Preamble Interrupt ................. ............................................................................ ...................... 116\n7.3.2.  Wake on SyncAddress In terrupt ......................................................................................... .....................119\n7.4.  Top Sequencer: Beacon Mode .............................................................................................. ......................122\n7.4.1.  Timing diagram......................................................................................................... ............................... 122\n7.4.2.  Sequencer Configuration................................................................................................ ......................... 122\n7.5.  Example CRC Calculation ................................................................................................. ..........................124\n7.6.  Example Temperature Reading ............................................................................................. ......................125\n8.  Packaging Information............................. ......................................................................... ................................... 127\n8.1.  Package Outline Drawing .......................... ........................................................................ .......................... 127\n8.2.  Recommended Land Pattern ................................................................................................. ...................... 128\n8.3.  Tape & Reel Information .................................................................................................. ............................ 129\n9.  Revision History........................................................................................................... ........................................ 130\nwww.semtech.com Page 5Section PageTable of contentsSX1276/77/78/79\nWIRELESS, SENSING & TIMING  DATASHEET\nRev. 4 - March 2015\n©2015 Semtech CorporationTable 1.  SX1276/77/78/79 Device Variants and Key Pa rameters .................................................................. ...............10\nTable 2.  Pin Description ..................................................................................................... ...........................................11\nTable 3.  Absolute Maximum Ratings ................. ........................................................................... .................................13\nTable 4.  Operating Range ..................................................................................................... ........................................13\nTable 5.  Thermal Properties .................................................................................................. ........................................13\nTable 6.  Power Consumption Specification ....... .............................................................................. ..............................14\nTable 7.  Frequency Synthesizer Specification .. ............................................................................... .............................14\nTable 8.  FSK/OOK Receiver Specification ...................................................................................... ..............................16\nTable 9.  Transmitter Specific ation ........................................................................................... ......................................17\nTable 10.  LoRa Receiver Specif ication ........................................................................................ .................................19\nTable 11.  Digital Specification ..................... ......................................................................... .........................................22\nTable 12.  Example LoRaTM Modem Performances, 868MH z Band ..................................................................... ........25\nTable 13.  Range of Spreading Factors .............. ........................................................................... .................................27\nTable 14.  Cyclic Coding Overhead ............................................................................................. ...................................27\nTable 15.  LoRa Bandwidth Options ............................................................................................. ..................................28\nTable 16.  LoRaTM Operating Mode  Functionality ................................................................................ .........................36\nTable 17.  LoRa CAD Consumption Figures ......... .............................................................................. ...........................45\nTable 18.  DIO Mapping LoRaTM Mode ............................................................................................ .............................46\nTable 19.  Bit Rate Examples .................................................................................................. .......................................47\nTable 20.  Preamble Detector Settings ............... .......................................................................... ..................................53\nTable 21.  RxTrigger Settings to Enable Timeout In terrupts .................................................................... ......................54\nTable 22.  Basic Transceiver Modes .................. .......................................................................... ..................................54\nTable 23.  Receiver Startup Time  Summary ...................................................................................... ............................57\nTable 24.  Receiver Startup Op tions ........................................................................................... ...................................60\nTable 25.  Sequencer States . .................................................................................................. .......................................61\nTable 26.  Sequencer Tran sition Options ....................................................................................... ................................62\nTable 27.  Sequencer Ti mer Settings ........................................................................................... ..................................63\nTable 28.  Status of FIFO when Switching Between Differ ent Modes of the Chip .................................................. .......67\nTable 29.  DIO Mapping, Continuous Mode ....... ................................................................................ ............................69\nTable 30.  DIO Mapping, Packet Mode ........................................................................................... ...............................69\nTable 31.   CRC Description ................................................................................................... ........................................77\nTable 32.  Frequency Bands .................................................................................................... ......................................82\nTable 33.  Power Amplifie r Mode Selection Truth Table ......................................................................... .......................83\nTable 34.  High Power Settings ................................................................................................ ......................................84\nTable 35.  Operating Range, +20d Bm Operation .................................................................................. .........................84\nTable 36.  Operating Range, +20d Bm Operation .................................................................................. .........................84\nTable 37.  Trimming of the OCP Current ........................................................................................ ................................85\nTable 38.  LNA Gain Control and Performances .................................................................................. ..........................86\nTable 39.  RssiSmoothing Option s .............................................................................................. ...................................86\nwww.semtech.com Page 6Section PageTable of contentsSX1276/77/78/79\nWIRELESS, SENSING & TIMING  DATASHEET\nRev. 4 - March 2015\n©2015 Semtech CorporationTable 40.  Available RxBw Settings ............................................................................................ ....................................88\nTable 41.  Registers Summary .................................................................................................. .....................................90\nTable 42.  Register Map ....................................................................................................... ..........................................93\nTable 43.  Low Frequency Addition al Registers ................................................................................. ..........................106\nTable 44.  High Frequency Addition al Registers ................................................................................ ..........................107\nTable 45.  Crystal Specification .............................................................................................. ......................................115\nTable 46.  Listen Mode with Preamb leDetect Condition Settings ................................................................. ................118\nTable 47.  Listen Mode with Preamble Detect Condition Recommended DIO Mapping ...............................................118\nTable 48.  Listen Mode with SyncA ddress Condition Settings ............... ..................................................... .................121\nTable 49.  Listen Mode with Preamble Detect Condition Recommended DIO Mapping ...............................................121\nTable 50.  Beacon Mode Settings ............................................................................................... .................................123\nTable 51.  Revision History ................................................................................................... ........................................130\nwww.semtech.com Page 7Section PageTable of contentsSX1276/77/78/79\nWIRELESS, SENSING & TIMING  DATASHEET\nRev. 4 - March 2015\n©2015 Semtech CorporationFigure 1.   Block Diagram ... .................................................................................................. ............................................9\nFigure 2.   Pin Diagrams ...................................................................................................... ...........................................10\nFigure 3.   Marking Diagram ................................................................................................... ........................................12\nFigure 4.   SX1276/77/78/79 Block Schematic Diagr am ........................................................................... .....................23\nFigure 5.   LoRaTM Modem Connectivity ........ ................................................................................. ..............................26\nFigure 6.   LoRaTM Packet Stru cture ........................................................................................... ..................................29\nFigure 7.   Interrupts Gene rated in the Case of Successful Frequency Hopping Communication. ................................33\nFigure 8.   LoRaTM Data Buff er ................................................................................................ .....................................34\nFigure 9.   LoRaTM Modulation Transmission Sequence. .......................................................................... ...................38\nFigure 10.   LoRaTM Receive Sequence. ............. ............................................................................ .............................39\nFigure 11.   LoRaTM CAD Flow ...................... ............................................................................ ...................................43\nFigure 12.   CAD Time as a Function of Spreading Factor ....................................................................... ......................44\nFigure 13.   Consumption Profile of the LoRa CAD Process ...................................................................... ....................45\nFigure 14.   OOK Peak Demodula tor Description ................................................................................. ..........................49\nFigure 15.   Floor Threshold Op timization ..................................................................................... .................................50\nFigure 16.   Bit Synchronizer Description ..................................................................................... ..................................51\nFigure 17.   Startup Process .................................................................................................. .........................................56\nFigure 18.   Time to RSSI Sample ................ .............................................................................. ....................................57\nFigure 19.   Tx to Rx Turnar ound .............................................................................................. .....................................58\nFigure 20.   Rx to Tx Turnaround ................. ............................................................................. .....................................58\nFigure 21.   Receiver Hoppin g ................................................................................................. .......................................59\nFigure 22.   Transmitter Hopping .................. ............................................................................ ......................................59\nFigure 23.   Timer1 and Timer2 Mechanism ....... ............................................................................... .............................63\nFigure 24.   Sequencer State Machine .......................................................................................... .................................64\nFigure 25.   SX1276/77/78/79 Data Processing Conceptual View .................................................................. ...............65\nFigure 26.   FIFO and Shift Register (SR) ..................................................................................... .................................66\nFigure 27.   FifoLevel IRQ Source Behavior .... ................................................................................ ...............................67\nFigure 28.   Sync Word Recognition ............................................................................................ ...................................68\nFigure 29.   Continuous Mode Conceptual View .................................................................................. ..........................70\nFigure 30.   Tx Processing in Continuous Mode ................................................................................. ............................70\nFigure 31.   Rx Processing in Continuous Mode ................................................................................. ...........................71\nFigure 32.   Packet Mode Conceptual View .... .................................................................................. .............................72\nFigure 33.   Fixed Length Packet Format ........... ............................................................................ ................................73\nFigure 34.   Variable Length Pa cket Format .................................................................................... ...............................74\nFigure 35.   Unlimited Length Pa cket Format ................................................................................... ..............................74\nFigure 36.   Manchester Encodi ng/Decoding ..................................................................................... ............................78\nFigure 37.   Data Whitening Po lynomial ........................................................................................ .................................79\nFigure 38.   SPI Timing Diagram  (single access) ............................................................................... ............................80\nFigure 39.   TCXO Connection ..................... ............................................................................. .....................................81\nwww.semtech.com Page 8Section PageTable of contentsSX1276/77/78/79\nWIRELESS, SENSING & TIMING  DATASHEET\nRev. 4 - March 2015\n©2015 Semtech CorporationFigure 40.   RF Front-end Architectu re Shows the Internal PA Configuration. ................................................... ............83\nFigure 41.   Temperature Sensor Response ......... ............................................................................. ............................89\nFigure 42.   POR Timing Diagram ...................... ......................................................................... .................................115\nFigure 43.   Manual Reset Timi ng Diagram ...................................................................................... ............................116\nFigure 44.   Listen Mode: Prin ciple ........................................................................................... ....................................116\nFigure 45.   Listen Mode with No  Preamble Received .................... ........................................................ .....................117\nFigure 46.   Listen Mode with Preamble Received ............................................................................... ........................117\nFigure 47.   Wake On Pr eambleDetect State Machine ............................................................................. ....................118\nFigure 48.   Listen Mode with no SyncAddress Detected ......................................................................... ....................119\nFigure 49.   Listen Mode with Pr eamble Received and no SyncAddress ............................................................ .........119\nFigure 50.   Listen Mode with Pr eamble Received & Valid SyncAddress . .......................................................... .........120\nFigure 51.   Wake On SyncAddres s State Machine ................................................................................ .....................120\nFigure 52.   Beacon Mode Timing Diagram ........... ............................................................................ ...........................122\nFigure 53.   Beacon Mode State Machine ........................................................................................ ............................122\nFigure 54.   Example CRC Code ................................................................................................. .................................124\nFigure 55.   Example Temperatur e Reading ...................................................................................... ..........................125\nFigure 56.   Example Temperatur e Reading (continued) .......................................................................... ...................126\nFigure 57.   Package Outline Drawing .......................................................................................... ................................127\nFigure 58.   Recommended Land Pattern ......................................................................................... ...........................128\nFigure 59.   Tape and Reel In formation ........................................................................................ ................................129\nwww.semtech.com Page 9SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation1.  General Description\nThe SX1276/77/78/79 incorporates the LoRaTM spread spectrum modem which is capabl e of achieving significantly longer \nrange than existing systems based on FSK or OOK modulation. At maximum data rates of LoRaTM the sensitivity is 8dB \nbetter than FSK, but using a low cost b ill of materials with a 20ppm XTAL LoRaTM can improve receiver sensitivity by more \nthan 20dB compared to FSK. LoRaTM also provides significant advances in se lectivity and blocking performance, further \nimproving communication reliab ility. For maximum flexibility the user may de cide on the spread spectrum modulation \nbandwidth (BW), spreading factor (SF) and error correction rate (CR). Another benefit of the spread modulation is that each spreading factor is orthogonal - thus multiple transmitt ed signals can occupy the same channel without interfering. \nThis also permits simple coexistence with existing FSK based systems. Standard GFSK, FSK, OOK, and GMSK \nmodulation is also provided to allow compatibility with exis ting systems or standards su ch as wireless MBUS and IEEE \n802.15.4g. \nThe SX1276 and SX1279 offer bandwidth options ranging from 7.8 kHz to 500 kHz with spreading factors ranging from 6 to 12, and covering all available frequency bands. The SX1277 offers the same bandwidth and frequency band options with spreading factors from 6 to 9. The SX1278 offers bandwidths and spreading factor options, but only covers the lower UHF \nbands.\n1.1.  Simplified Block Diagram\nFigure 1.   Block Diagram\n\nwww.semtech.com Page 10SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation1.2.  Product Versions\nThe features of the four product variants are detailed in the following table. \nTable 1 SX1276/77/78/79 Device Variants and Key Parameters\n1.3.  Pin Diagram\nThe following diagram shows the pin arrangement of the QFN package, top view.\nFigure 2.   Pin DiagramsPart Number Frequency Range Spreading Factor Bandwidth Effective Bitrate Est. Sensitivity\nSX1276 137 - 1020 MHz 6 - 12 7.8 - 500 kHz .018 - 37.5 kbps -111 to -148 dBm\nSX1277 137 - 1020 MHz 6 - 9 7.8 - 500 kHz 0.11 - 37.5 kbps -111 to -139 dBm\nSX1278 137 - 525 MHz 6- 12 7.8 - 500 kHz .018 - 37.5 kbps -111 to -148 dBm\nSX1279 137 - 960MHz 6- 12 7.8 - 500 kHz .018 - 37.5 kbps -111 to -148 dBm\n1  RFI_LF\n3  VBAT_ANA\n4  VR_DIG\n5  XTA\n6  XTB\n7  NRESET\n8  DIO0\n9  DIO1\n10  DIO2\n11  DIO3\n12  DIO4\n13  DIO5\n14  VBAT_DIG21  RFI_HF\n20  RXTX/RFMOD\n19  NSS\n18  MOSI\n17  MISO\n16  SCK\n15 GND25  VR_PA27  PA_BOOST\n26  GND28  RFO_LF\n23  GND\n0 GND\nSX1276/77/79 SX12782  VR_ANA\n24  VBAT_RF\n22  RFO_HF\n1  RFI_LF\n3  VBAT_ANA\n4  VR_DIG\n5  XTA\n6  XTB\n7  NRESET\n8  DIO0\n9  DIO1\n10  DIO2\n11  DIO3\n12  DIO4\n13  DIO5\n14  VBAT_DIG21 GND\n20  RXTX/RFMOD\n19  NSS\n18  MOSI\n17  MISO\n16  SCK\n15 GND25  VR_PA27  PA_BOOST\n26  GND28  RFO_LF\n23  GND\n0 GND2  VR_ANA\n24  VBAT_RF\n22 GND\nwww.semtech.com Page 11SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation1.4.  Pin Description\nTable 2 Pin Description\nNumber Name Type Description\nSX1276/77/79/(78) SX1276/77/79/(78) SX1276/77/79/(78)\n0 GROUND - Exposed ground pad\n1 RFI_LF I RF input for bands 2&3\n2V R _ A N A - Regulated supply voltage for analogue circuitry\n3 VBAT_ANA - Supply voltage for analogue circuitry\n4 VR_DIG - Regulated supply voltage for digital blocks\n5X T A I/O XTAL connection or TCXO input\n6X T B I/O XTAL connection\n7 NRESET I/O Reset trigger input\n8D I O 0 I/O Digital I/O, software configured\n9 DIO1/DCLK I/O Digital I/O, software configured\n10 DIO2/DATA I/O Digital I/O, software configured\n11 DIO3 I/O Digital I/O, software configured\n12 DIO4 I/O Digital I/O, software configured\n13 DIO5 I/O Digital I/O, software configured\n14 VBAT_DIG - Supply voltage for digital blocks\n15 GND - Ground\n16 SCK I SPI Clock input\n17 MISO O SPI Data output\n18 MOSI I SPI Data input\n19 NSS I SPI Chip select input\n20 RXTX/RF_MOD O Rx/Tx switch control: high in Tx\n21 RFI_HF (GND) I (-) RF input for band 1 (Ground)\n22 RFO_HF (GND) O (-) RF output for band 1 (Ground)\n23 GND - Ground\n24 VBAT_RF - Supply voltage for RF blocks\n25 VR_PA - Regulated supply for the PA\n26 GND - Ground\n27 PA_BOOST O Optional high-power PA output, all frequency bands\n28 RFO_LF O RF output for bands 2&3\nwww.semtech.com Page 12SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation1.5.  Package Marking\nFigure 3.   Marking Diagram\n\nwww.semtech.com Page 13SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation2.  Electrical Characteristics\n2.1.  ESD Notice\nThe SX1276/77/78/79 is a high performanc e radio frequency device. It satisfies:\n\uf077Class 2 of the JEDEC standard JESD22-A114 (Human Body Model) on all pins.\n\uf077Class III of the JEDEC standard JESD22-C10 1 (Charged Device Model) on all pins\nIt should thus be handled with all the necessary ESD precautions to avoid any permanent damage.\n2.2.  Absolute Maximum Ratings\nStresses above the values listed below may cause permanent device failure. Exposure to absolute maximum ratings for \nextended periods may af fect device reliability.\nTable 3 Absolute Maximum Ratings\nNote Specific ratings apply to +20 dBm operation (see Section 5.4.3). \n2.3.  Operating Range\nTable 4 Operating Range\nNote A specific supply voltage range applies to +20 dBm operation (see Section 5.4.3).\n2.4.  Thermal Properties\nTable 5 Thermal PropertiesSymbol Description Min Max Unit\nVDDmr Supply Voltage -0.5 3.9 V\nTmr Temperature -55 +115 ° C\nTj Junction temperature - +125 ° C\nPmr RF Input Level - +10 dBm\nSymbol Description Min Max Unit\nVDDop Supply voltage 1.8 3.7 V\nTop Operational temperature range -40 +85 °C\nClop Load capacitance on digital ports - 25 pF\nML RF Input Level - +10 dBm\nSymbol Description Min Typ Max Unit\nTHETA_JA Package θja (Junction to ambient) - 22.185 - °C/W\nTHETA_JC Package θjc (Junction to case ground paddle) - 0.757 - °C/W\n\nwww.semtech.com Page 14SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation2.5.  Chip Specification\nThe tables below give the electrical specifications of th e transceiver under the following conditions: Supply voltage \nVDD=3.3 V, temperature = 25 °C,  FXOSC  = 32 MHz, FRF = 169/434/868/915 MHz (see specific indication), Pout = \n+13dBm, 2-level FSK modulation without pre-filtering, FDA = 5 kHz, Bit Rate = 4.8 kb/s and terminated in a matched 50 \nOhm impedance, shared Rx and Tx path  matching, unless otherwise specified. \nNote Specification whose symbol is appende d with “_LF” corresponds to the perfor mance in Band 2 and/or Band 3, as \ndescribed in section 5.3.3. “_HF” refers to the upper Band 1\n2.5.1.  Power Consumption\nTable 6 Power Consumption Specification\n2.5.2.  Frequency Synthesis\nTable 7 Frequency Synthesizer SpecificationSymbol Description Conditions Min Typ Max Unit\nIDDSL Supply current in Sleep mode - 0.2 1 uA\nIDDIDLE Supply current in Idle mode RC oscillator enabled - 1.5 - uA\nIDDST Supply current in Standby mode Crystal oscillator enabled - 1.6 1.8 mA\nIDDFSSupply current in Synthesizer \nmodeFSRx - 5.8 - mA\nIDDR Supply current in Receive modeLnaBoost  Off, band 1\nLnaBoost  On, band 1\nBands 2&3-\n-\n-10.8\n11.5\n12.0-\n-\n-mA\nIDDTSupply current in Transmit mode \nwith impedance matchingRFOP = +20 dBm, on PA_BOOST\nRFOP = +17 dBm, on PA_BOOST\nRFOP = +13 dBm, on RFO_LF/HF pin\nRFOP = + 7 dBm, on RFO_LF/HF pin-\n-\n-\n-120\n87\n29\n20-\n-\n-\n-mA\nmA\nmA\nmA\nSymbol Description Conditions Min Typ Max Unit\nFR Synthesizer frequency rangeBand 3\nProgrammable                   Band 2\n(*for SX1279)                      Band 1137\n410\n862 (*779)-\n-\n-175 (*160)\n525 (*480)\n1020 (*960)MHz\nFXOSC Crystal oscillator frequency - 32 - MHz\nTS_OSC Crystal oscillator wake-up time - 250 - us\nTS_FSFrequency synthesizer wake-up time to PllLock signalFrom Standby mode - 60 - us\nwww.semtech.com Page 15SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech CorporationNote: For Maximum Bit rate, the maximum modulation index is 0.5.TS_HOPFrequency synthesizer hop time \nat most 10 kHz away from the \ntarget frequency200 kHz step\n1 MHz step5 MHz step\n7 MHz step\n12 MHz step20 MHz step\n25 MHz step-\n-\n-\n-\n-\n-\n-20\n20\n50\n50\n50\n50\n50-\n-\n-\n-\n-\n-\n-us\nus\nus\nus\nus\nus\nus\nFSTEP Frequency synthesizer step FSTEP = FXOSC/219 - 61.0 - Hz\nFRC RC Oscillator frequency After calibration - 62.5 - kHz\nBRF Bit rate, FSK Programmable values (1) 1.2 - 300 kbps\nBRA Bit rate Accuracy, FSK ABS(wanted BR - available BR) - - 250 ppm\nBRO Bit rate, OOK Programmable 1.2 - 32.768 kbps\nBR_L Bit rate, LoRa Mode From SF6, BW=500kHz to\nSF12, BW=7.8kHz0.018 - 37.5 kbps\nFDA Frequency deviation, FSK (1) Programmable\nFDA + BRF/2 =< 250 kHz0.6 - 200 kHz\nwww.semtech.com Page 16SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation2.5.3.  FSK/OOK Mode Receiver\nAll receiver tests are performed with RxBw = 10 kHz (Single Side Bandwidth) as programmed in RegRxBw , receiving a \nPN15 sequence. Sensitivities are reported for a 0.1% BER ( with Bit Synchronizer enabled), unless otherwise specified. \nBlocking tests are performed with an unmodulated interferer. The wanted signal power for the Blocking Immunity, ACR, IIP2, IIP3 and AMR tests is set 3 dB above the receiver sensitivity level.\nTable 8 FSK/OOK Receiver Specification\nSymbol Description Conditions Min Typ Max Unit\nRFS_F_LFDirect tie of RFI and RFO pins, \nshared Rx, Tx paths FSK sensitiv -\nity, highest LNA gain.\nBands 2&3FDA = 5 kHz,   BR = 1.2 kb/s\nFDA = 5 kHz,   BR = 4.8 kb/s\nFDA = 40 kHz, BR = 38.4 kb/s*\nFDA = 20 kHz, BR = 38.4 kb/s**\nFDA = 62.5 kHz, BR = 250 kb/s***-\n-\n-\n-\n--121\n-117\n-107\n-108\n-95-\n-\n-\n-\n-dBm\ndBm\ndBm\ndBm\ndBm\nSplit RF paths, the RF switch insertion loss is not accounted for.\nBands 2&3FDA = 5 kHz,   BR = 1.2 kb/s\nFDA = 5 kHz,   BR = 4.8 kb/s\nFDA = 40 kHz, BR = 38.4 kb/s*\nFDA = 20 kHz, BR = 38.4 kb/s**\nFDA = 62.5 kHz, BR = 250 kb/s***-\n-\n-\n-\n--123\n-119\n-109\n-110\n-97-\n-\n-\n-\n-dBm\ndBm\ndBm\ndBm\ndBm\nRFS_F_HFDirect tie of RFI and RFO pins, shared Rx, Tx paths FSK sensitiv\n-\nity, highest LNA gain.\nBand 1FDA = 5 kHz,   BR = 1.2 kb/s\nFDA = 5 kHz,   BR = 4.8 kb/s\nFDA = 40 kHz, BR = 38.4 kb/s*\nFDA = 20 kHz, BR = 38.4 kb/s**\nFDA = 62.5 kHz, BR = 250 kb/s***-\n-\n-\n-\n--119\n-115\n-105\n-105\n-92-\n-\n-\n-\n-dBm\ndBm\ndBm\ndBm\ndBm\nSplit RF paths, LnaBoost  is turned \non, the RF switch insertion loss is not accounted for.\nBand 1FDA = 5 kHz,   BR = 1.2 kb/s\nFDA = 5 kHz,   BR = 4.8 kb/s\nFDA = 40 kHz, BR = 38.4 kb/s*\nFDA = 20 kHz, BR = 38.4 kb/s**\nFDA = 62.5 kHz, BR = 250 kb/s***-\n-\n-\n-\n--123\n-119\n-109\n-109\n-96-\n-\n-\n-\n-dBm\ndBm\ndBm\ndBm\ndBm\nRFS_OOOK sensitivity, highest LNA gain\nshared Rx, Tx pathsBR = 4.8 kb/s\nBR = 32 kb/s-\n--117\n-108-\n-dBm\ndBm\nCCR Co-Channel Rejection, FSK - -9 - dB\nACR Adjacent Channel RejectionFDA = 5 kHz, BR=4.8kb/s\nOffset =  +/- 25 kHz or +/- 50kHz\nBand 1 Band 2\nBand 3-\n-\n-50\n56\n60-\n-\n-dB\ndB\ndB\nBI_HF Blocking Immunity, Band 1Offset = +/- 1 MHz\nOffset = +/- 2 MHz\nOffset = +/- 10 MHz-\n-\n-71\n76\n84-\n-\n-dB\ndB\ndB\nBI_LF Blocking Immunity, Bands 2&3Offset = +/- 1 MHz\nOffset = +/- 2 MHz\nOffset = +/- 10 MHz-\n-\n-71\n72\n78-\n-\n-dB\ndB\ndB\nwww.semtech.com Page 17SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation* RxBw = 83 kHz (Single Side Bandwidth)\n** RxBw = 50 kHz (Single Side Bandwidth)*** RxBw = 250 kHz (Single Side Bandwidth)\n2.5.4.  FSK/OOK Mode Transmitter\nTable 9 Transmitter SpecificationIIP22nd order Input Intercept Point\nUnwanted tones are 20 MHz \nabove the LOHighest LNA gain - +55 - dBm\nIIP3_HF3rd order Input Intercept point\nUnwanted tones are 1MHz and \n1.995 MHz above the LOBand 1\nHighest LNA gain G1\nLNA gain G2, 5dB sensitivity hit-\n--11\n-6-\n-dBm\ndBm\nIIP3_LF3rd order Input Intercept point\nUnwanted tones are 1MHz and 1.995 MHz above the LOBand 2\nHighest LNA gain G1\nLNA gain G2, 2.5dB sensitivity hit-\n--22\n-15-\n-dBm\ndBm\nBand 3\nHighest LNA gain G1\nLNA gain G2, 2.5dB sensitivity hit-\n--15\n-11-\n-dBm\ndBm\nBW_SSB Single Side channel filter BW Programmable 2.7 - 250 kHz\nIMR Image RejectionWanted signal 3dB over sensitivity\nBER=0.1%- 50 - dB\nIMA Image Attenuation - 57 - dB\nDR_RSSI RSSI Dynamic RangeAGC enabled                               Min\n                                                     Max-\n--127\n0-\n-dBm\ndBm\nSymbol Description Conditions Min Typ Max Unit\nRF_OPRF output power in 50 ohms\non RFO pin (High efficiency PA).Programmable with steps\n                                                        Max\n                                                        Min-\n-+14\n-1-\n-dBm\ndBm\nΔRF_\nOP_VRF output power stability on RFO pin versus voltage supply.                             VDD = 2.5 V to 3.3 V\n                            VDD = 1.8 V to 3.7 V-\n-3\n8-\n-dB\ndB\nRF_OPHRF output power in 50 ohms, on PA_BOOST pin (Regulated PA). Programmable with 1dB steps        Max\nMin-\n-+17\n+2-\n-dBm\ndBm\nRF_OPH_MAX Max RF output power, on\nPA_BOOST pinHigh power mode - +20 - dBm\nΔRF_\nOPH_VRF output power stability on PA_ -\nBOOST pin versus voltage supply.                            VDD = 2.4 V to 3.7 V - +/-1 - dB\nΔRF_TRF output power stability versus temperature on PA_BOOST pin.From T = -40 °C to +85 °C - +/-1 - dB\nwww.semtech.com Page 18SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech CorporationPHN Transmitter Phase Noise169 MHz, Band 3\n                                      10kHz Offset\n                                      50kHz Offset\n                                      400kHz Offset\n                                      1MHz Offset-\n-\n-\n--118\n-118\n-128\n-134-\n-\n-\n-dBc/Hz\n433 MHz, Band 2\n                                      10kHz Offset\n                                      50kHz Offset\n                                      400kHz Offset\n                                      1MHz Offset-\n-\n-\n--110\n-110\n-122 \n-129-\n-\n-\n-dBc/Hz\n868/915 MHz, Band 1\n                                      10kHz Offset\n                                      50kHz Offset\n                                      400kHz Offset\n                                      1MHz Offset-\n-\n-\n--103\n-103\n-115 \n-122-\n-\n-\n-dBc/Hz\nACPTransmitter adjacent channel \npower (measured at 25 kHz offset)BT=1. Measurement conditions as defined by EN 300 220-1 V2.3.1- - -37 dBm\nTS_TRTransmitter wake up time, to the first rising edge of DCLK Frequency Synthesizer enabled, PaR-\namp = 10us, BR = 4.8 kb/s- 120 - us\nwww.semtech.com Page 19SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation2.5.5.  Electrical Specification for LoRaTM Modulation\nThe table below gives the electrical specificat ions for the transceiver operating with LoRaTM modulation. Following \nconditions apply unless otherwise specified:\n\uf077Supply voltage = 3.3 V\n\uf077Temperature = 25° C\n\uf077fXOSC  = 32 MHz\n\uf077bandwidth (BW) = 125 kHz\n\uf077Spreading Factor (SF) = 12\n\uf077Error Correction Code (EC) =  4/6\n\uf077Packet Error Rate (PER)= 1%\n\uf077CRC on payload enabled\n\uf077Output power = 13 dBm  in transmission\n\uf077Payload length = 64 bytes\n\uf077Preamble Length = 12 symbols (programmed register PreambleLength=8 )\n\uf077With matched impedances\nTable 10 LoRa Receiver Specification\nSymbol Description Conditions Min. Typ Max Unit\nIDDR_LSupply current in receiver LoRaTM \nmode, LnaBoost  offBands 2&3, BW=7.8 to 62.5 kHz\nBands 2&3, BW = 125 kHzBands 2&3, BW = 250 kHz\nBands 2&3, BW = 500 kHz-\n--\n-11.0\n11.5\n12.4\n13.8-\n--\n-mA\nmAmA\nmA\nBand 1, BW=7.8 to 62.5 kHz\nBand 1, BW = 125 kHz\nBand 1, BW = 250 kHz\nBand 1, BW = 500 kHz-\n-\n-\n-9.9\n10.3\n11.1\n12.6-\n-\n-\n-mA\nmA\nmA\nmA\nIDDT_L Supply current in transmitter modeRFOP = 13 dBm\nRFOP = 7 dBm-\n-28\n20-\n-mA\nmA\nIDDT_H_LSupply current in transmitter mode \nwith an external impedance \ntransformationUsing PA_BOOST pin\nRFOP = 17 dBm-9 0- m A\nBI_LBlocking immunity,\nCW interfereroffset = +/- 1 MHz\noffset = +/- 2 MHz\noffset = +/- 10 MHz-89\n94\n100-dB\ndB\ndB\nIIP2_L2nd order Input Intercept Point\nUnwanted tones are 20 MHz above \nthe LOHighest LNA gain - +55 - dBm\nIIP3_L_HF3rd order Input Intercept point\nUnwanted tones are 1MHz and 1.995 MHz above the LOBand 1\nHighest LNA gain G1\nLNA gain G2, 5dB sensitivity hit-\n--11\n-6-\n-dBm\ndBm\nwww.semtech.com Page 20SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech CorporationIIP3_L_LF3rd order Input Intercept point\nUnwanted tones are 1MHz and 1.995 MHz above the LOBand 2\nHighest LNA gain G1\nLNA gain G2,2.5dB sensitivity hit-\n--22\n-15-\n-dBm\ndBm\nRFS_L10_HFRF sensitivity, Long-Range Mode, \nhighest LNA gain, LnaBoost  for Band \n1, using split Rx/Tx path\n10.4 kHz bandwidthSF = 6\nSF = 7\nSF = 8\nSF = 11-\n-\n-\n--131\n-134\n-138\n-146-\n-\n-\n-dBm\ndBm\ndBm\ndBm\nRFS_L62_HFRF sensitivity, Long-Range Mode, \nhighest LNA gain, LnaBoost  for Band \n1, using split Rx/Tx path62.5 kHz bandwidthSF = 6\nSF = 7\nSF = 8SF = 9\nSF = 10\nSF = 11SF = 12-\n-\n--\n-\n---121\n-126\n-129-132\n-135\n-137-139-\n-\n--\n-\n--dBm\ndBm\ndBmdBm\ndBm\ndBmdBm\nRFS_L125_HFRF sensitivity, Long-Range Mode, \nhighest LNA gain, LnaBoost  for Band \n1, using split Rx/Tx path\n125 kHz bandwidthSF = 6\nSF = 7SF = 8\nSF = 9\nSF = 10SF = 11\nSF = 12-\n--\n-\n--\n--118\n-123-126\n-129\n-132-133\n-136-\n--\n-\n--\n-dBm\ndBmdBm\ndBm\ndBmdBm\ndBm\nRFS_L250_HFRF sensitivity, Long-Range Mode, \nhighest LNA gain, LnaBoost  for Band \n1, using split Rx/Tx path\n250 kHz bandwidthSF = 6\nSF = 7\nSF = 8\nSF = 9\nSF = 10\nSF = 11\nSF = 12-\n-\n-\n--\n-\n--115\n-120\n-123\n-125-128\n-130\n-133-\n-\n-\n--\n-\n-dBm\ndBm\ndBm\ndBmdBm\ndBm\ndBm\nRFS_L500_HFRF sensitivity, Long-Range Mode, \nhighest LNA gain, LnaBoost for Band \n1, using split Rx/Tx path500 kHz bandwidthSF = 6\nSF = 7\nSF = 8SF = 9\nSF = 10\nSF = 11\nSF = 12-\n-\n--\n-\n-\n--111\n-116\n-119\n-122\n-125\n-128\n-130-\n-\n--\n-\n-\n-dBm\ndBm\ndBmdBm\ndBm\ndBm\ndBm\nRFS_L7.8_LFRF sensitivity, Long-Range Mode, \nhighest LNA gain, Band 2 or 3, using \nsplit Rx/Tx path\n7.8 kHz bandwidthSF = 12\nSF = 11-\n--148\n-145-\n-dBm\ndBm\nRFS_L10_LFRF sensitivity, Long-Range Mode, \nhighest LNA gain, Band 3,\n10.4 kHz bandwidthSF = 6\nSF = 7\nSF = 8-\n-\n--132\n-136\n-138-\n-\n-dBm\ndBm\ndBm\nRFS_L62_LFRF sensitivity, Long-Range Mode, \nhighest LNA gain, Band 3, \n62.5 kHz bandwidthSF = 6\nSF = 7\nSF = 8SF = 9\nSF = 10\nSF = 11SF = 12-\n-\n--\n-\n---123\n-128\n-131-134\n-135\n-137-140-\n-\n--\n-\n--dBm\ndBm\ndBmdBm\ndBm\ndBmdBmSymbol Description Conditions Min. Typ Max Unit\nwww.semtech.com Page 21SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech CorporationRFS_L125_LFRF sensitivity, Long-Range Mode, \nhighest LNA gain, Band 3,\n125 kHz bandwidthSF = 6\nSF = 7SF = 8\nSF = 9\nSF = 10SF = 11\nSF = 12-\n--\n-\n--\n--121\n-125-128\n-131\n-134-136\n-137-\n--\n-\n--\n-dBm\ndBmdBm\ndBm\ndBmdBm\ndBm\nRFS_L250_LFRF sensitivity, Long-Range Mode, \nhighest LNA gain, Band 3250 kHz bandwidthSF = 6\nSF = 7\nSF = 8\nSF = 9SF = 10\nSF = 11\nSF = 12-\n-\n-\n--\n-\n--118\n-122\n-125\n-128-131\n-133\n-134-\n-\n-\n--\n-\n-dBm\ndBm\ndBm\ndBmdBm\ndBm\ndBm\nRFS_L500_LFRF sensitivity, Long-Range Mode, \nhighest LNA gain, Band 3\n500 kHz bandwidthSF = 6\nSF = 7\nSF = 8SF = 9\nSF = 10\nSF = 11SF = 12-\n-\n--\n-\n---112\n-118\n-121-124\n-127\n-129-130-\n-\n--\n-\n--dBm\ndBm\ndBmdBm\ndBm\ndBmdBm\nCCR_LCWCo-channel rejection\nSingle CW tone = Sens +6 dB1% PERSF = 7\nSF = 8SF = 9\nSF = 10\nSF = 11SF = 12-\n-\n-\n-\n--5\n9.5\n12\n14.4\n17\n19.5-\n--\n-\n--dB\ndBdB\ndB\ndBdB\nCCR_LL Co-channel rejectionInterferer is a \nLoRaTM signal \nusing same BW and same SF.\nPw = Sensitivity + 3 dB-6      \n   dB\nACR_LCW Adjacent channel rejectionInterferer is 1.5*BW_L from the \nwanted signal center frequency\n1% PER, Single CW tone = \nSens + 3 dB\nSF = 7\nSF = 12-\n-60\n72-\n-dB\ndB\nIMR_LCWImage rejection after calibration. 1% PER, Single CW tone = \nSens +3 dB-6 6-d B\nFERR_LMaximum tolerated frequency offset \nbetween transmitter and receiver, no \nsensitivity degradation, SF6 thru 12All BW, +/-25% of BW\nThe tighter limit applies (see \nbelow)+/-25% BW\nMaximum tolerated frequency offset \nbetween transmitter and receiver, no \nsensitivity degradation, SF10 thru 12SF = 12\nSF = 11\nSF = 10-50\n-100\n-200-\n-\n-50\n100\n200ppm\nppm\nppmSymbol Description Conditions Min. Typ Max Unit\nwww.semtech.com Page 22SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation2.5.6.  Digital Specification\nConditions: Temp = 25° C, VDD = 3.3 V, FX OSC = 32 MHz, unless otherwise specified.\nTable 11 Digital Specification\nSymbol Description Conditions Min Typ Max Unit\nVIH Digital input level high 0.8 - - VDD\nVIL Digital input level low - - 0.2 VDD\nVOH Digital output level high Imax = 1 mA 0.9 - - VDD\nVOL Digital output level low Imax = -1 mA - - 0.1 VDD\nFSCK SCK frequency - - 10 MHz\ntch SCK high time 50 - - ns\ntcl SCK low time 50 - - ns\ntrise SCK rise time - 5 - ns\ntfall SCK fall time - 5 - ns\ntsetup MOSI setup time From MOSI change to SCK rising \nedge.30 - - ns\nthold MOSI hold time From SCK rising edge to MOSI change. 20 - - ns\ntnsetup NSS setup time From NSS falling edge to SCK rising edge. 30 - - ns\ntnhold NSS hold time From SCK falling edge to NSS rising edge, normal mode. 100 - - ns\ntnhigh NSS high time between SPI accesses 20 - - ns\nT_DATA DATA hold and setup time 250 - - ns\nwww.semtech.com Page 23SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation3.  SX1276/77/78/79 Features\nThis section gives a high-level overview of the functi onality of the SX1276/77/78/79 low-power, highly integrated \ntransceiver. The following figure shows a si mplified block diagram of the SX1276/77/78/79.\nFigure 4.   SX1276/77/78/79 Block Schematic Diagram\nSX1276/77/78/79 is a half-duplex, low-IF transceiver. Here the received RF signal is first amplified by the LNA. The LNA \ninputs are single ended to minimize the external BoM and for ease of design. Following the LNA inputs, the conversion to \ndifferential is made to improve the second order linearity and harmonic rejection. The signal is then down-converted to in-phase and quadrature (I&Q) components at the intermediate frequen cy (IF) by the mixer stage. A pair of sigma delta ADCs \nthen perform data conversion, with all s ubsequent signal processing and demodula tion performed in the digital domain. \nThe digital state machine also controls the automatic frequency correction (AFC), received si gnal strength indicator (RSSI) \nand automatic gain control (AGC). It also features the higher-level packet and protocol level functionality of the top level sequencer (TLS), only available with traditional FSK and OOK modulation schemes.\nThe frequency synthesizers generate the local oscilla tor (LO) frequency for both receiver  and transmitter, one covering the \nlower UHF bands (up to 525 MHz), and the other one covering the upper UHF bands (from 779 MHz). The PLLs are optimized for user-transparent low lock time and fast auto-c alibrating operation. In transmission, frequency modulation is \nperformed digitally within the PLL bandwidth. The PLL also feat ures optional pre-filtering of  the bit stream to improve \nspectral purity.\nSX1276/77/78/79 feature three distinct RF power amplifiers. Tw o of those, connected to RFO_LF and RFO_HF, can deliver \nup to +14 dBm, are unregulated for high power efficiency and can be connected directly to their respective RF receiver \ninputs via a pair of passive components to form a single antenna  port high efficiency transceive r. The third PA, connected to \nthe PA_BOOST pin and can deliver up to +20  dBm via a dedicated matching network. Unlike the high efficiency PAs, this \nhigh-stability PA covers all frequency bands that the frequency syn thesizer addresses.\nSX1276/77/78/7 9 also include two timing references, an RC  oscillator and a 32 MHz crystal oscillator.\n\nwww.semtech.com Page 24SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech CorporationAll major parameters of the RF front end and digital state machine are fully configurable via an SPI interface which gives \naccess to SX1276/77/78/79’s co nfiguration registers. This includes a mode auto sequencer that oversees the transition \nand calibration of the SX1276/77/78/79 between intermediat e modes of operation in the fastest time possible.\nThe SX1276/77/78/79 are equipped with both standard FSK and long range spread spectrum (LoRaTM) modems. \nDepending upon the mode selected either conventional OOK or FSK modulation may be employed or the LoRaTM spread \nspectrum modem.\n3.1.  LoRaTM Modem\nThe LoRaTM modem uses a proprietary spread spectrum modulation technique. This modulation , in contrast to legacy \nmodulation techniques, permits an increase in link budget and increased immunity to in-band interference. At the same \ntime the frequency tolerance re quirement of the crystal refere nce oscillator is relaxed - allo wing a performanc e increase for \na reduction in system cost. For a detailed description of the design trade-offs and operation of the SX1276/77/78/79 please \nconsult Section 4.1 of the datasheet.\n3.2.  FSK/OOK Modem\nIn FSK/OOK mode the SX1276/77/78/79 supports standard modulation techniques including OOK, FSK, GFSK, MSK and \nGMSK. The SX1276/77/78/79 is especially suited to narrow band communication thanks the low-IF architecture employed \nand the built-in AFC functionality.  For full information on the FSK/OOK modem please consult Section 4.2 of this document.\nwww.semtech.com Page 25SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation4.  SX1276/77/78/79 Digital Electronics\n4.1.  The LoRaTM Modem\nThe LoRaTM modem uses spread spectrum modulation and forward error correction techniques to increase the range and \nrobustness of radio communication links compared to tradi tional FSK or OOK based modulation. Examples of the \nperformance improvement possible, for several possible settin gs, are summarised in the table below. Here the spreading \nfactor and error correction rate are design variables that allow the designer to optimise the trade-off between occupied \nbandwidth, data rate, link budget improvement and immunity to interference.\nTable 12 Example LoRaTM Modem Performances, 868MHz Band\nNotes - for all bandwidths lower than 62.5 kHz, it is advised to  use a TCXO as a frequency reference. This is required to \nmeet the frequency error tolerance specificat ions given in the Electrical Specification\n- Higher spreading factors and longer transmission times impose more stringent constraints on the short term \nfrequency stability of the refe rence. Please get in touch with a Semtech representative to im plement extremely low \nsensitivity products.\nFor European operation the range of crystal tolerances accept able for each sub-band (of the ERC 70-03) is given in the \nspecifications table. For US based operation a frequency hopping mode is available that automates both the LoRaTM\nspread spectrum and frequency hopping spread spectrum processes.\nAnother important facet of the LoRaTM modem is its increased immunity to interference. The LoRaTM modem is capable of \nco-channel GMSK rejection of up to 20 dB. This immunity  to interference permits the simple coexistence of LoRaTM\nmodulated systems either in bands of heavy spectral us age or in hybrid communication networks that use LoRaTM to \nextend range when legacy modulation schemes fail.Bandwidth\n(kHz)Spreading Factor Coding rateNominal Rb\n(bps)Sensitivity\nindication\n(dBm)Frequency\nReference\n10.4 6 4/5 782 -131\nTCXO12 4/5 24 -147\n20.8 6 4/5 1562 -128\n12 4/5 49 -144\n62.5 6 4/5 4688 -121\nXTAL12 4/5 146 -139\n125 6 4/5 9380 -118\n12 4/5 293 -136\nwww.semtech.com Page 26SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation4.1.1.  Link Design Using the LoRaTM Modem\n4.1.1.1.  Overview\nThe LoRaTM modem is setup as shown in the following figure. This  configuration permits the simple replacement of the \nFSK modem with the LoRaTM modem via the configuration register setting RegOpMode.  This change can be performed on \nthe fly (in Sleep operating mode) thus pe rmitting the use of both standard FSK or OOK in conjunction with the long range \ncapability. The LoRaTM modulation and demodulation process is proprietary,  it uses a form of spread spectrum modulation \ncombined with cyclic error correction coding. The combined influe nce of these two factors is an increase in link budget and \nenhanced immunity to interference.\nFigure 5.   LoRaTM Modem Connectivity\nA simplified outline of the transmit an d receive processes is also shown above. Here we see that the LoRaTM modem has \nan independent dual port data buffer FIFO that is accessed through an SPI interface common to all modes. Upon selection \nof LoRaTM mode, the configuration register mapping of the SX12 76/77/78/79 changes. For full details of this change \nplease consult the register description of Section 6.\nSo that it is possible to optimise the LoRaTM modulation for a given application, access is given to the designer to three \ncritical design parameters. Each one permitting a trade of f between link budget, immunity  to interference, spectral \noccupancy and nominal data rate. These parameters are spreading factor, modulation bandwidth and error coding rate.\n\nwww.semtech.com Page 27SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation4.1.1.2.  Spreading Factor\nThe spread spectrum LoRaTM modulation is performed by representing each bi t of payload information by multiple chips of \ninformation. The rate at which the spread information is sent is referred to as the symbol rate (Rs), the ratio between the \nnominal symbol rate and chip rate is the spreading factor and represents the number of symbols sent per bit of information. \nThe range of values accessible with the LoRaTM modem are shown in the following table.\nTable 13 Range of Spreading Factors\nNote that the spreading factor, SpreadingFactor , must be known in advance on both transmit and receive sides of the link \nas different spreading factors are orthogonal to each other. Note also the resulting signal to noise ratio (SNR) required at \nthe receiver input. It is the ca pability to receive signals with negative SNR th at increases the sensit ivity, so link budget an d \nrange, of the LoRa receiver.\nSpreading Factor 6\nSF = 6 Is a special use case for the highest data rate tr ansmission possible with the LoRa modem. To this end several \nsettings must be activated in the SX1276/77/78/79 registers w hen it is in use. These settings are only valid for SF6 and \nshould be set back to their default values for other spreading factors:\n\uf077Set SpreadingFactor = 6 in RegModemConfig2\n\uf077The header must be set to Implicit mode.\n\uf077Set the bit field DetectionOptimize  of register RegLoRaDetectOptimize  to value "0b101".\n\uf077Write 0x0C in the register RegDetectionThreshold .\n4.1.1.3.  Coding Rate\nTo further improve the robustness of the link the LoRaTM modem employs cyclic error coding to perform forward error \ndetection and correction. Such error coding incurs a transmission overhead - the resultant additional data overhead per transmission is shown in the table below.\nTable 14 Cyclic Coding OverheadSpreadingFactor\n(RegModulationCfg)Spreading Factor \n(Chips / symbol)LoRa Demodulator \nSNR\n6 64 -5 dB\n7 128 -7.5 dB\n8 256 -10 dB\n9 512 -12.5 dB\n10 1024 -15 dB\n11 2048 -17.5 dB\n12 4096 -20 dB\nCodingRate\n(RegTxCfg1)Cyclic Coding \nRateOverhead Ratio\n1 4/5 1.25\n2 4/6 1.5\n3 4/7 1.75\n4 4/8 2\nwww.semtech.com Page 28SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech CorporationForward error correction is part icularly efficient in improvin g the reliability of the link in the presence of interference. So  that \nthe coding rate (and so robustness to interference) can be changed in response to channel conditions - the coding rate can optionally be included in the packet header for use by the receiver. Please consult Section \n4.1.1.6  for more information on \nthe LoRaTM packet and header. \n4.1.1.4.  Signal Bandwidth\nAn increase in signal bandwidth permits the use of a higher effective data rate, thus reduc ing transmission time at the \nexpense of reduced sensitivity improvement. There are of course regulatory constraints in most countries on the \npermissible occupied bandwidth. Contrary to the FSK modem which is described in terms of the single sideband \nbandwidth, the LoRaTM modem bandwidth refers to the double sideband bandwidth (or total channel bandwidth). The \nrange of bandwidths relevant to most regulatory situations is given in the LoRaTM modem specifications table (see Section \n2.5.5 ).\nTable 15 LoRa Bandwidth Options\nNote In the lower band (169 MHz), the 250 kHz and 500 kHz bandwidths are not supported.\n4.1.1.5.  LoRaTM Transmission Parameter Relationship\nWith a knowledge of the key parameters that ca n be controlled by the user we define the LoRaTM symbol rate as:\nwhere BW is the programmed bandwidth and SF is the spread ing factor. The transmitted si gnal is a constant envelope \nsignal. Equivalently, one chip is s ent per second per Hz of bandwidth.Bandwidth\n(kHz)Spreading Factor Coding rateNominal Rb\n(bps)\n7.8 12 4/5 18\n10.4 12 4/5 24\n15.6 12 4/5 37\n20.8 12 4/5 49\n31.2 12 4/5 73\n41.7 12 4/5 98\n62.5 12 4/5 146\n125 12 4/5 293\n250 12 4/5 586\n500 12 4/5 1172\nRsBW\n2SF--------- =\nwww.semtech.com Page 29SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation4.1.1.6.  LoRaTM Packet Structure\nThe LoRaTM modem employs two types of packet format, explicit and implicit. The explicit packet  includes a short header \nthat contains information about the numb er of bytes, coding rate and whether a CRC is used in the packet. The packet \nformat is shown in the following figure. \n \nThe LoRaTM packet comprises three elements:\n\uf077A preamble.\n\uf077An optional header.\n\uf077The data payload.\nFigure 6.   LoRaTM Packet Structure\nPreamble\nThe preamble is used to synchronize receiver with the incomi ng data flow. By default the packet is configured with a 12 \nsymbol long sequence. This is a programmable variable so the preamble length may be extended, for example in the \ninterest of reducing to receiver duty cycle in receive intens ive applications. However, the mi nimum length suffices for all \ncommunication. The transmitted preamble lengt h may be changed by setting the register PreambleLength  from 6 to 65535, \nyielding total preamble lengths of 6+4 to 65535+4 symbols, once the fixed overhead of the preamble data is considered. \nThis permits the transmission of a near arbitrarily long preamble sequence.\nThe receiver undertakes a preamble detection process that periodically restarts. For this reason the preamble length should be configured identical to the transmitter preamble length . Where the preamble length is not known, or can vary, the \nmaximum preamble length should be programmed on the receiver side. \nHeader\nDepending upon the chosen mode of operation two types of he ader are available. The header type is selected by the \nImplicitHeaderModeOn  bit found within the RegModemConfig1  register.\nExplicit Header Mode\nThis is the default mode of operation. Here the header provides information on the payload, namely:\n\uf077The payload length in bytes.\n\uf077The forward error correction code rate \n\uf077The presence of an optional 16-bits CRC for the payload.\n\nwww.semtech.com Page 30SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech CorporationThe header is transmitted with maximum error correction code (4/8). It also has its own CRC to allow the receiver to \ndiscard invalid headers.\nImplicit Header Mode\nIn certain scenarios, where the payload, coding rate and CRC presence are fixed or known in advance, it may be \nadvantageous to reduce transmission time by invoking implicit header mode. In this mode the header is removed from the \npacket. In this case the payload length, error coding rate and presence of the payload CRC must be manually configured \non both sides of the radio link.\nNote With SF = 6 selected, implicit header mode is the only mode of operation possible.\nExplicit Header Mode:\nIn Explicit Header Mode, the presence of the CRC at the end of the payload in selected only on the transmitter side through the bit RxPayloadCrcOn  in the register RegModemConfig1 . \nOn the receiver side, the bit RxPayloadCrcOn  in the register RegModemConfig1  is not used and once the payload has \nbeen received, the user should check the bit CrcOnPayload  in the register RegHopChannel.  If the bit CrcOnPayload  is at \n‘1’, the user should then check the Irq Flag PayloadCrcError  to make sure the CRC is valid.\nIf the bit CrcOnPayload  is at ‘0’, it means there was no CRC  on the payload and thus the IRQ Flag PayloadCrcError  will not \nbe trigged even if the payload has errors.\nImplicit Header Mode;\nIn Implicit Header Mode, it is  necessary to set the bit RxPayloadCrcOn in the register RegModemConfig1  on both sides \n(TX and RX)Explicit Header Transmitter Receiver CRC Status\nValue of the bit \nRxPayloadCrcOn0 0 CRC is not checked\n0 1 CRC is not checked\n1 0 CRC is checked\n1 1 CRC is checked\nImplicit Header Transmitter Receiver CRC Status\nValue of the bit \nRxPayloadCrcOn0 0 CRC is not checked\n0 1CRC is always \nwrong\n1 0 CRC is not checked\n1 1 CRC is checked\nwww.semtech.com Page 31SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech CorporationLow Data Rate Optimization\nGiven the potentially long duratio n of the packet at high spreading factors the option is given to improve the robustness of \nthe transmission to variations in frequency over the dur ation of the packet transmission and reception. The bit \nLowDataRateOptimize  increases the robustness of the LoRa link at thes e low effective data rates. Its use is mandated \nwhen the symbol duration exceeds 16ms. Note that both the tr ansmitter and the receiver must have the same setting for \nLowDataRateOptimize .\nPayload\nThe packet payload is a variable-length field that contains the ac tual data coded at the error ra te either as specified in the \nheader in explicit mode or in the register settings in  implicit mode. An optional CRC may be appended. For more \ninformation on the payload and how it is loaded from the data buffer FIFO please see Section 4.1.2.3 .\n4.1.1.7.  Time on air\nFor a given combination of spreading factor (SF), coding rate (CR) and signal bandwidth (BW) the total on-the-air transmission time of a LoRa\nTM packet can be calculated as follows. From the definition of the symbol rate it is convenient \nto define the symbol rate:\nThe LoRa packet duration is the sum of the duration of the pr eamble and the transmitted packet. The preamble length is calculat ed as \nfollows:\nwhere npreamble  is the programmed preamble length, taken from the registers RegPreambleMsb  and RegPreambleLsb .The \npayload duration depends upon the header mode that is ena bled. The following formula gives the number of payload \nsymbols.\nWith the following dependencies:\n\uf077PL is the number of Payload bytes (1 to 255)\n\uf077SF is the spreading factor (6 to 12)\n\uf077IH=0 when the header is enabled, IH=1 when no header is present\n\uf077DE=1 when LowDataRateOptimize =1, DE=0 otherwise\n\uf077CR is the coding rate (1 corresponding to 4/5, 4 to 4/8)\nThe Payload duration is then the symbol period multiplie d by the number of Payload symbols\nThe time on air, or packet duration, in simply then the sum of the preamble and payload duration.Ts1\nRs------=\nTpreamblenpreamble4.25+ () Tsym=\nnpayload8max ceil8PL 4SF–2 8 1 6 CRC 20IH– ++ ()\n4SF 2DE–()---------------------------------------------------------------------------------------- CR 4+ () 0,\uf0e8\uf0f8\uf0e6\uf0f6+=\nTpayloadnpayloadTs× =\nTpacketTpreambleTpayload+ =\nwww.semtech.com Page 32SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation4.1.1.8.  Frequency Hopping with  LoRaTM\nFrequency hopping spread spectrum (FHSS) is typically empl oyed when the duration of a single packet could exceed \nregulatory requirements relating to the maximum permissible ch annel dwell time. This is mo st notably the case in US \noperation where the 902 to 928 MHz ISM band which makes provision for frequency hopping operation. To ease the \nimplementation of FHSS systems the frequency hopping mode of the LoRaTM modem can be enabled by setting \nFreqHoppingPeriod  to a non-zero value in register RegHopPeriod .\nPrinciple of Operation\nThe principle behind the FHSS scheme is that a portion of each LoRaTM packet is transmitted on each hopping channel \nfrom a look up table of frequencies managed by the host microcontroller. After a predetermined hopping period the \ntransmitter and receiver change to the next channel in a pr edefined list of hopping frequencies to continue transmission \nand reception of the next portion of the packet. The time which the transmi ssion will dwell in any given channel is \ndetermined by FreqHoppingPeriod  which is an integer mult iple of symbol periods:\nThe frequency hopping transmission and reception process star ts at channel 0. The preamble and header are transmitted \nfirst on channel 0. At the beginning of each transmission the channel counter FhssPresentChannel (located in the register\nRegHopChannel ) is incremented and the interrupt signal FhssChangeChannel  is generated. The new frequency must then \nbe programmed within the hopping period to ensure it is taken into account for the next hop, the interrupt ChangeChannelFhss is then to be cleared by writing a logical ‘1’.\nFHSS Reception always starts on channel 0. The receiver waits for a valid preamble detection before starting the \nfrequency hopping process as described above. Note that in  the eventuality of header CRC  corruption, the receiver will \nautomatically request channel 0 and recommence the valid preamble detection process.\nTiming of Channel Updates\nThe interrupt requesting the channel change, FhssChangeChannel,  is generated upon transition to the new frequency. The \nfrequency hopping process is illu strated in the diagram below:HoppingPeriod Ts FreqHoppingPeriod × =\nwww.semtech.com Page 33SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech CorporationFigure 7.   Interrupts Generated in the Case  of Successful Frequenc y Hopping Communication.\n\nwww.semtech.com Page 34SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation4.1.2.  LoRaTM Digital Interface\nThe LoRaTM modem comprises three types of digital interface, static  configuration registers, st atus registers and a FIFO \ndata buffer. All are accessed through the SX1276/77/78/79’s SPI interface - full details of each type of register are given \nbelow. Full listings of the register addresses used for SPI access are given in Section 6.4.\n4.1.2.1.  LoRaTM Configuration Registers\nConfiguration registers are accessed through the SPI interface.  Registers are readable in all device mode including Sleep. \nHowever, they should be written only in Sleep and Standby modes . Please note that the automatic top level \nsequencer (TLS modes) are not available in LoRaTM mode and the configuration register mapping changes as \nshown in Table 41. The content of the LoRaTM configuration registers is retained in FSK/OOK mode. For the functionality \nof mode registers common to both FSK/OOK and LoRaTM mode, please consult the Analog  and RF Front End section of \nthis document (Section 5).\n4.1.2.2.  Status Registers\nStatus registers provide status info rmation during receiver operation. \n4.1.2.3.  LoRaTM Mode FIFO Data Buffer\nOverview\nThe SX1276/77/78/79 is equipped with a 256 byte RAM data buff er which is uniquely accessib le in LoRa mode. This RAM \narea, herein referred to as the FIFO Data buffer, is fully customizable by the user and allows access to the received, or to \nbe transmitted, data. All access to the LoRaTM FIFO data buffer is done via the SPI in terface. A diagram of the user defined \nmemory mapping of the FIFO data buffer is shown below. These FIFO data buffer can be read in all operating modes except sleep and store data related to the last receive operat ion performed. It is automatically  cleared of old content upon \neach new transition to receive mode.\nFigure 8.   LoRaTM Data Buffer\n\nwww.semtech.com Page 35SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech CorporationPrinciple of Operation\nThanks to its dual port configuration, it is possible to simult aneously store both transmit and receive information in the FIFO  \ndata buffer. The register RegFifoTxBaseAddr  specifies the point in memory where the transmit inform ation is stored. \nSimilarly, for receiver operation, the register RegFifoRxBaseAddr  indicates the point in the da ta buffer where information \nwill be written to in event of a receive operation. \nBy default, the device is configured at power up so th at half of the available memory is dedicated to Rx \n(RegFifoRxBaseAddr initialized at address 0x00) and the other half is dedicated for Tx ( RegFifoTxBaseAddr  initialized at \naddress 0x80). \nHowever, due to the contiguous nature of the FIFO data buffer, the base addresse s for Tx and Rx are fully configurable \nacross the 256 byte memory area. Each pointer can be set independently anywhere within the FIFO. To exploit the maximum FIFO data buffer size in tran smit or receive mode, the whole FIFO data buffer can be used in each mode by \nsetting the base addresses RegFifoTxBaseAddr and RegFifoRxBaseAddr  at the bottom of the memory (0x00).\nThe FIFO data buffer is cleared when the device is put in  SLEEP mode, consequently no access to the FI FO data buffer is \npossible in sleep mode. However, the data in the FIFO data buffer are retained when switching across the other LoRaTM\nmodes of operation, so that a received packet can be retransmitted with minimum data handling on the controller side. The \nFIFO data buffer is not self-clearing (unless if the device is put in sl eep mode) and the data will on ly be “erase d” when a \nnew set of data is written into  the occupied memory location. \nThe FIFO data buffer location to be read from, or written to, via the SPI interface is defined by the address pointer \nRegFifoAddrPtr . Before any read or write operation it is hence necessa ry to initialize this pointe r to the corresponding base \nvalue. Upon reading or writing to the FIFO data buffer ( RegFifo ) the address pointer will then  increment automatically.\nThe register RegRxNbBytes defines the size of the memory location to be written in the event of a successful receive \noperation. The register RegPayloadLength  indicates the size of the memory location to be transmitted. In implicit header \nmode, the register RegRxNbBytes is not used as the number of payload bytes is known. Otherwise, in explicit header \nmode, the initial size of the receive buffer is set to the packet length in the received header. The register RegFifoRxCurrentAddr  indicates the location of the last packet received in the FIFO so that the last packet received can be \neasily read by pointing the register RegFifoAddrPtr to this register.\nIt is important to notice that all the rece ived data will be written to the FIFO data buffer even if the CRC is invalid, permit ting \nuser defined post processing of corrupted da ta. It is also important to note that when receiving, if the packet size exceeds \nthe buffer memory allocated for t he Rx, it will overwrite the transm it portion of the data buffer.\n4.1.2.4.  Interrupts in LoRa Mode\nTwo registers are used to control the IRQ in LoRa mode, the register RegIrqFlagsMask  which is used to mask the \ninterrupts and the register RegIrqFlags  which indicates which IRQ has been trigged.\nIn the register RegIrqFlagsMask,  setting a bit to ‘1’ will mask the interrupt, meanin g this interrupt is disactivated. By default \nall the interrupt are available.\nIn the register RegIrqFlags , a ‘1’ indicates a given IRQ has been trigged and then the IRQ must be clear by writing a ‘1’.\nwww.semtech.com Page 36SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation4.1.3.  Operation of the LoRaTM Modem\n4.1.3.1.  Operating Mode Control\nThe operating modes of the LoRaTM modem are accessed by enabling LoRaTM mode (setting the LongRangeMode  bit of \nRegOpMode ). Depending upon the operating mode selected the rang e of functionality and register access is given by the \nfollowing table:\nTable 16 LoRaTM Operating Mode Functionality\nIt is possible to access any mode from any other mode by changing the value in the RegOpMode  register. Operating Mode  Description\nSLEEPLow-power mode. In this mode only SPI and  configuration registers are accessible. Lora FIFO is not \naccessible.\nNote that this is the only mode permissible to  switch between FSK/OOK mode and LoRa mode.\nSTANDBY both Crystal oscillator and Lora baseband blocks are turned on.RF part and PLLs are disabled\nFSTXThis is a frequency synthesis mode for transmission. The PLL selected for transmission is locked and active \nat the transmit frequency. The RF part is off. \nFSRXThis is a frequency synthesis mode for reception. The PL L selected for reception is locked and active at the \nreceive frequency. The RF part is off. \nTXWhen activated the SX1276/77/78/79 powers all remain ing blocks required for transmit, ramps the PA, \ntransmits the packet and returns to Standby mode.\nRXCONTINUOUSWhen activated the SX1276/77/78/79 powers all remain ing blocks required for reception, processing all \nreceived data until a new user request is made to change operating mode.\nRXSINGLEWhen activated the SX1276/77/78/79 powers all remaini ng blocks required for reception, remains in this \nstate until a valid packet has been received and then returns to Standby mode.\nCAD When in CAD mode, the device will check a given channel to detect LoRa preamble signal\nwww.semtech.com Page 37SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation4.1.4.  Frequency Settings\n Recalling that the freque ncy step is given by:\nIn order to set LO frequency values following registers are available.\nFrf is a 24-bit register which defines carrier frequency. The ca rrier frequency relates to the register contents by following \nformula:\n4.1.5.  Frequency Error Indication\nThe SX1276/77/78/79 derives its RF cent re frequency from a crysta l reference oscillator whic h has a finite frequency \nprecision. Errors in reference frequency will manifest themselves as errors of the same proportion fr om the RF centre \nfrequency.\nIn LoRa receive mode the SX1276/77/78/79 is capable of me asuring the frequency offset between the receiver centre \nfrequency and that of an incoming LoRa signal. The modem is intolerant of frequency offsets in the region of +/- 25% of the bandwidth and will accurate ly report the error over this  same range.\nThe error is read by reading the three RegFei  registers. The contents of which ar e a signed 20 bit two\'s compliment word, \nFreqError . The frequency error is determined from the register contents by:\nWhere Fxtal is the crystal frequency.\nTo correct the measured frequency error there are two steps to be taken. First the frequency error is subtracted from the \nRF centre frequency. This calculation must be performed locally (or in a look-up-table), no provision is made in the circuit to  \napply the correction automatically.\nSecondly, assuming that the fre quency error is due to re ference oscillator drift, the data ra te of the LoRa modem must also \nbe compensated accordingly. This is done by \nPpmOffset = 0.95 * me asured Offset [PPM]\nWhere PpmOffset is the value to be programmed into register 0x 27 and the measured Offset is the PPM drift equivalent to \nthe frequency error reported by the LoRa frequency error indicator. The PpmOffset value is a signed two’s compliment \nvalue.FSTEPFXOSC\n219----------------=\nFRFFSTEPFrf23 0(, ) × =\nFErrorFreqError 224×\nFxtal----------------------------------------- -BW kHz[]\n500----------------------- - × =\nwww.semtech.com Page 38SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation4.1.6.  LoRaTM Modem State Machine Sequences\nThe sequence for transmission and reception of data to and from the LoRaTM modem, together with flow charts of typical \nsequences of operation, are detailed below.\nData Transmission Sequence\nIn transmit mode power consumption is optimized by enabling RF, PLL and PA blocks only when packet data needs to be \ntransmitted. Figure  9 shows a typical LoRaTM transmit sequence.\nFigure 9.   LoRaTM Modulation Transmission Sequence.\n\uf077Static configuration registers can only be acce ssed in Sleep mode, Standby mode or FSTX mode.\n\uf077The LoRaTM FIFO can only be f illed in Standby mode.\n\uf077Data transmission is initiated by sending TX mode request. \n\uf077Upon completion the TxDone  interrupt is issued and the radio returns to Standby mode.\n\uf077Following transmission the radio can be manually placed in  Sleep mode or the FIFO refilled for a subsequent Tx \noperation. \n\nwww.semtech.com Page 39SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation LoRaTM Transmit Data FIFO Filling\nIn order to write packet data into FIFO user should:\n1S e t  FifoPtrAddr to FifoTxPtrBase .\n2W r i t e  PayloadLength bytes to the FIFO ( RegFifo )\nData Reception Sequence\nFigure  10 shows typical LoRaTM receive sequences for both single and continuous receiver modes of operation.  \nFigure 10.   LoRaTM Receive Sequence.\n\nwww.semtech.com Page 40SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech CorporationThe LoRa receive modem can work in two distinct mode\n1. Single receive mode\n2.        Continuous receive mode \nThose two modes correspond to different use cases and it is important to understand the subtle differences between them.\nSingle Reception Operating Mode\nIn this mode, the modem searches for a preamble during a given period of time. If a preamble hasn’t been found at the end \nof the time window, the chip generates the RxTimeout  interrupt and goes back to Standby mode. The length of the \nreception window (in symbols) is defined by the RegSymbTimeout  register and should be in the range of 4 (minimum time \nfor the modem to acquire lock on a preamble) up to 1023 symbols.\nAt the end of the payload, the RxDone  interrupt is generated together with the interrupt PayloadCrcError  if the payload \nCRC is not valid. However, even when the CR C is not valid, the data are written in the FIFO data buffer for post processing. \nFollowing the RxDone  interrupt the radio goes to Standby mode.\nThe modem will also automatically return in Standby mode when the interrupts RxDone  is generated. Therefore, this mode \nshould only be used when the time window of arrival of the pa cket is known. In other cases, the RX continuous mode \nshould be used.\nIn Rx single mode, low-power is achieved by turning off PL L and RF blocks as soon as a packet has been received. The \nflow is as follows:\n1   Set FifoAddrPtr to FifoRxBaseAddr .\n2   Static configuration register device can be writ ten in either Sleep mode, Standby mode or FSRX mode. \n3   A single packet receive o peration is initiated by select ing the operating mode RXSINGLE.\n4   The receiver will then await the recept ion of a valid preamble. Once  received, the gain of the receive chain is set.   \nFollowing the ensuing reception of a valid header, indicated by the ValidHeader  interrupt in explicit mode. The packet \nreception process commences. Once the reception process is complete the RxDone  interrupt is set. The radio then returns \nautomatically to Standby mode to reduce power consumption.\n5   The receiver status register PayloadCrcError should be checked for packet payload integrity. \n6   If a valid packet payload has been received then the FIFO should be read (See Payload Data Extraction below). Should \na subsequent single packet reception need to be triggered, then the RXSINGLE operating mode must be re-selected to \nlaunch the receive process again - taking care to reset the SPI pointer ( FifoAddrPtr ) to the base location in memory \n(FifoRxBaseAddr ).\nContinuous Reception Operating Mode\nIn continuous receive mode, the modem scans the channel cont inuously for a preamble. Each time a preamble is detected \nthe modem tracks it until the packet is received and then carries on waiting for the next preamble.\nIf the preamble length exceeds the anticipated value set by the registers RegPreambleMsb  and RegPreambleLsb  (measured in \nsymbol periods) the preamble will be dropped and the search for a preamb le restarted. However, th is scenario will not be \nflagged by any interrupt. In continuous RX  mode, opposite to the single RX mode , the RxTimeout inte rrupt will never occur \nand the device will ne ver go in Standby mode automatically. \nIt is also important to note that the demodulated bytes are wri tten in the data buffer memory in the order received. Meaning, \nthe first byte of a new packet is written just after the last byte of the preceding packet. The RX modem address pointer is \nnever reset as long as this mode is enabled. It is therefore necessary for the companion microcontroller to handle the address pointer to make sure the FIFO data buffer is never full.\nwww.semtech.com Page 41SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech CorporationIn continuous mode the received packet  processing sequence is given below.\n1 Whilst in Sleep or Standby mode select RXCONT mode.\n2 Upon reception of a valid header CRC the RxDone  interrupt is set. The radio remains in RXCONT mode waiting for the \nnext RX LoRaTM packet.\n3 The PayloadCrcError  flag should be checked for packet integrity.\n4 If packet has been correctly received the FIFO data buffer can be read (see below).5 The reception process (steps 2 - 4) can be repeated  or receiver operating mode exited as desired.\nIn continuous mode status information are available only fo r the last packet received, i.e. the corresponding registers \nshould be read before the next RxDone  arrives.\nRx Single and Rx Continuous Use Cases\nThe LoRa single reception mode is used mainly in battery operated systems or in systems where the companion microcontroller has a limited availability of  timers. In such systems, t he use of the timeout present  in Rx Single reception \nmode allows the end user to limit the amount of time spent in  reception (and thus limiting t he power consumption) while not \nusing any of the companion MCU timers (the MCU can then be in sleep mode while the radio is in the reception mode). The \nRxTimeout interrupt generated at the end of the reception period is then used to wake-up the companion MCU. One of the \nadvantages of the RxSingle mode is that the interrupt RxTimeout will not  be triggered if the device  is currently receiving \ndata, thus giving the priority to the reception of the data over the timeout. However, if during  the reception, the device lose s \ntrack of the data due to  external perturbation, the device  will drop the reception, flag t he interrupt RxTimeout and go in \nStandBy mode to decrease the power consumption of the system.\nOn the other hand, The LoRa continuous reception mode is used  in systems which do not have  power restrictions or on \nsystem where the use of a companion MCU timer is preferred over the radio embedded timeou t system. In RxContinuous \nmode, the radio will track any LoRa  signal present in the air and carry on the reception of packets until the companion MCU \nsets the radio into another mode  of operation. Upon reception the interrupt RxDone will be trigged  but the device will stay in \nRx Mode, ready for the reception of the next packet.\nPayload Data Extraction from FIFO\nIn order to retrieve received data from FIFO the user must ensure that ValidHeader , PayloadCrcError,  RxDone  and \nRxTimeout interrupts in the status register RegIrqFlags are not asserted to ensure that packet reception has terminated \nsuccessfully (i.e. no flags should be set). \nIn case of errors the steps below should be skipped and the packet discarded. In order to retrieve valid received data from the FIFO the user must:\n\uf077RegRxNbBytes Indicates the number of bytes that have been received thus far.\n\uf077RegFifoAddr Ptr is a dynamic pointer that indicates precisely w here the Lora modem received data has been written up \nto.\n\uf077Set RegFifoAddr Ptr to RegFifoRxCurrentAddr . This sets the FIFO pointer to the location of the last packet received in \nthe FIFO. The payload can then be extracted by reading the register RegFifo,  RegRxNbBytes  times.\n\uf077Alternatively, it is possible to manually point to the locati on of the last packet received, from the start of the current \npacket, by setting RegFifoAddrPtr to RegFifoRxByteAddr  minus RegRxNbBytes . The payload bytes can then be read \nfrom the FIFO by reading the RegFifo  address RegRxNbBytes  times. \nwww.semtech.com Page 42SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech CorporationPacket Filtering based on Preamble Start\nThe LoRa modem does automatically filter received packet s based upon any addressing. However the SX1276/77/78/79 \npermit software filtering of the received packets based on the contents of the first few bytes of payload. A brief example is \ngiven below for a 4 byte address, however, the ad dress length can be selected by the designer.\nThe objective of the packet filtering process is to determine the presence, or otherwise, of a valid packet designed for the \nreceiver. If the packet is not for the receiver then the r adio returns to sleep mode in order to improve battery life.\nThe software packet filtering process follows the steps below:\n\uf077Each time the RxDone interr upt is received, latch the RegFifoRxByteAddr [7:0] register content in a variable, this \nvariable will be called start_address. The RegFifoRxByteAddr [7:0] register of the SX1276/ 77/78/79 gives in real time \nthe address of the last byte wr itten in the data buffer + 1 (o r the address at which the next  byte will be written) by the \nreceive LoRa modem. So by doing this, we make sure that the variable start_address  always contains the start address \nof the next packet.\n\uf077Upon reception of the interrupt ValidHeader , start polling the RegFifoRxByteAddr [7:0] register until it begins to \nincrement. The speed at which this regist er will increment de pends on the Spreading factor , the error correction code \nand the modulation bandwi dth. (Note that this interrupt is st ill generated in im plicit mode).\n\uf077As soon as RegFifoRxByteAddr [7:0] >= start address + 4, the first 4 bytes (address) are stored in the FIFO data buffer. \nThese can be read and tested to see if the packet is destined for the radio and either remaining in Rx mode to receive \nthe packet or returning to sleep mode if not.\nReceiver Timeout Operation\nIn LoRaTM Rx Single mode, a receiver timeout  functionality is available that pe rmits the receiver to listen for a \npredetermined period of time before generating an interrupt signal to indicate that no valid packets have been received. \nThe timer is absolute and commences as soon as the radio is placed in single receive mode. The interrupt itself, RxTimeout , \ncan be found in the interrupt register RegIrqFlags . In Rx Single mode, the device will re turn to Standby mode as soon as \nthe interrupt occurs. The user must then clear the interrupt or go into Sleep mode before returning into Rx Single mode. \nThe programmed timeout value is expressed as a mu ltiple of the symbol period and is given by:\nTimeOut LoraRxTimeout Ts ⋅ =\nwww.semtech.com Page 43SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech CorporationChannel Activity Detection\nThe use of a spread spectrum modulation technique presents c hallenges in determining whether the channel is already in \nuse by a signal that may be below the noise floor of the receiver. The use of the R SSI in this situation would clearly be \nimpracticable. To this end the channel activity det ector is used to detect the presence of other LoRaTM signals. Figure  11 \nshows the channel activity detection (CAD) process:\n \nFigure 11.   LoRaTM CAD Flow\n\nwww.semtech.com Page 44SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech CorporationPrinciple of Operation\nThe channel activity detection mode is designed to detect a LoRa preamble on the radio channel with the best possible \npower efficiency. Once in CAD mode, t he SX1276/77/78/79 will perform a very quick scan of the band to detect a LoRa \npacket preamble. \nDuring a CAD the following operations take place:\n\uf077The PLL locks\n\uf077The radio receiver captures LoRa preambl e symbol of data from the channel. The radio current consumption during that \nphase corresponds to the specified Rx mode current\n\uf077The radio receiver and the PLL turn off, and the modem digital processing starts. \n\uf077The modem searches for a correlation between the radio captured samples and the ideal preamble waveform. This correlation process takes a little bit less than a symbol peri od to perform. The radio current consumption during that \nphase is greatly reduced.\n\uf077Once the calculation is fini shed the modem generates the CadDone  interrupt. If the correlation was successful, \nCadDetected  is generated simultaneously.\n\uf077The chip goes back to Standby mode.\n\uf077If a preamble was detected, clear the interr upt, then initiate the reception by puttin g the radio in RX single mode or RX \ncontinuous mode.\nThe time taken for the channel activity detection is dep endent upon the LoRa modulation settings used. For a given \nconfiguration the typical CAD detection time is shown in t he graph below, expressed as a multiple of the LoRa symbol \nperiod. Of this period the radio is in receiver mode for (2SF + 32) / BW seconds. For the remainder of the CAD cycle the \nradio is in a reduced consumption state.\nFigure 12.   CAD Time as a Function of Spreading Factor\n\nwww.semtech.com Page 45SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech CorporationTo illustrate this process and the respec tive consumption in each mode, the CAD process follows the sequence of events \noutlined below:\nFigure 13.   Consumption Profile of the LoRa CAD Process\nThe receiver is then in full receiver mode for just over half  of the activity detection, fo llowed by a reduced consumption \nprocessing phase where the consumption varies with the LoRa bandwidth as shown in the table below.\nTable 17 LoRa CAD Consumption Figures\nNote These numbers can be slightly lower when using Band 2 and 3, on the low frequency port.\n4.1.6.1.  Digital IO Pin Mapping\nSix of SX1276/77/78/79’s ge neral purpose IO pins are available used in LoRaTM mode. Their mapping is shown below and \ndepends upon the configuration of registers RegDioMapping1  and RegDioMapping2.Bandwidth\n(kHz)Full Rx, IDDR_L\n(mA)Processing, IDDC_L\n(mA)\n7.8 to 41.7 11 5.2\n62.5 11 5.6\n125 11.5 6\n250 12.4 6.8\n500 13.8 8.3\n\nwww.semtech.com Page 46SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech CorporationTable 18 DIO Mapping LoRaTM Mode\n4.1.7.  Modem Status Indicators\nThe state of the LoRa modem is accessible with the ModemStatus  bits in RegModemStat.  They can mostly used for debug \nin Rx mode and the useful indicators are:\n\uf077Bit 0: Signal Detected  indicates that a valid LoRa preamble has been detected\n\uf077Bit 1: Signal Synchronized  indicates that the end of Preamble has been detected, the modem is in lock\n\uf077Bit 3: Header Info Valid  toggles high when a valid Header (with correct CRC) is detected\n4.2.  FSK/OOK Modem\n4.2.1.  Bit Rate Setting\nThe bitrate setting is referenced  to the crystal oscillator and provides a precise means of se tting the bit rate (or equivalent ly \nchip) rate of the radio. In continuous transmit mode (Section 4.2.12 ) the data stream to be transmitted can be input directly \nto the modulator via pin 10 (DIO2/DATA) in an asynchronous manner, unless Gaussian filtering is used, in which case the \nDCLK signal on pin 9 (DIO1/DCLK) is used to synchronize the data stream. See section 4.2.2.3  for details on the Gaussian \nfilter.\nIn Packet mode or in Continuous mode with Gaussian filt ering enabled, the Bit Rate (BR) is controlled by bits Bitrate  in \nRegBitrateMsb and RegBitrateLsb\nNote: BitrateFrac bits have no effect (i.e may be considered equal to 0) in OOK  modulation mode.\nThe quantity BitrateFrac  is hence designed to allow very high precision (max. 250 ppm programing resolution) for any \nbitrate in the programmable range. Table  19 below shows a range of standard bitrat es and the accuracy to within which \nthey may be reached.Operating \nModeDIOx \nMappingDIO5 DIO4 DIO3 DIO2 DIO1 DIO0\nALL00 ModeReady CadDetected CadDone FhssChangeChannel RxTimeout RxDone\n01 ClkOut PllLock ValidHeader FhssChangeChannel FhssChangeChannel TxDone\n10 ClkOut PllLock PayloadCrcError FhssChangeChannel CadDetected CadDone\n11 - - - - - -\nBitRateFXOSC\nBitRate 15 0(, )BitrateFrac\n16-------------------------------+-------------------------------------------------------------------------=\nwww.semtech.com Page 47SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech CorporationTable 19 Bit Rate Examples\n4.2.2.  FSK/OOK Transmission\n4.2.2.1.  FSK Modulation\nFSK modulation is performed inside the PLL bandwidth, by chan ging the fractional divider ratio in the feedback loop of the \nPLL. The high resolution of the sigma-delt a modulator, allows for very narrow frequ ency deviation. The frequency deviation \nFDEV is given by:\nTo ensure correct modulation , the following limit applies:\nNote No constraint applies to the modulation index of the transmitter, but the frequency deviation must be set between \n600 Hz and 200 kHz.TypeBitRate\n(15:8)BitRate\n(7:0)(G)FSK\n(G)MSKOOKActual BR\n(b/s)\nClassical modem baud rates \n(multiples of 1.2 kbps)0x68 0x2B 1.2 kbps 1.2 kbps 1200.015\n0x34 0x15 2.4 kbps 2.4 kbps 2400.060\n0x1A 0x0B 4.8 kbps 4.8 kbps 4799.760\n0x0D 0x05 9.6 kbps 9.6 kbps 9600.960\n0x06 0x83 19.2 kbps 19.2 kbps 19196.16\n0x03 0x41 38.4 kbps 38415.36\n0x01 0xA1 76.8 kbps 76738.60\n0x00 0xD0 153.6 kbps 153846.1\nClassical modem baud rates \n(multiples of 0.9 kbps)0x02 0x2C 57.6 kbps 57553.95\n0x01 0x16 115.2 kbps 115107.9\nRound bit rates\n(multiples of 12.5, 25 and\n50 kbps)0x0A 0x00 12.5 kbps 12.5 kbps 12500.00\n0x05 0x00 25 kbps 25 kbps 25000.00\n0x80 0x00 50 kbps 50000.00\n0x01 0x40 100 kbps 100000.0\n0x00 0xD5 150 kbps 150234.7\n0x00 0xA0 200 kbps 200000.0\n0x00 0x80 250 kbps 250000.0\n0x00 0x6B 300 kbps 299065.4\nWatch Xtal frequency 0x03 0xD1 32.768 kbps 32.768 kbps 32753.32\nFDEVFSTEPFdev 13 0(, ) × =\nFDEVBR\n2------- 250() kHz ≤ +\nwww.semtech.com Page 48SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation4.2.2.2.  OOK Modulation\nOOK modulation is applied by switching on and off the power amp lifier. Digital control and ramp ing are available to improve \nthe transient power response of the OOK transmitter.\n4.2.2.3.  Modulation Shaping\nModulation shaping can be applied in both OOK and FSK mo dulation modes, to improve the narrow band response of the \ntransmitter. Both shaping features are controlled with PaRamp  bits in RegPaRamp .\n\uf077In FSK mode, a Gaussian filter with BT = 0.5 or 1 is used to filter the modulation stream, at the input of the sigma-delta \nmodulator. If the Gaussian filter is enabled when the SX127 6/77/78/79 is in Continuous mode, DCLK signal on pin 10 \n(DIO1/DCLK) will trigger an inte rrupt on the uC each time a new bit has to  be transmitted. Pl ease refer to section \n4.2.12.2 for details.\n\uf077When OOK modulation is used, the PA bias voltages are ramped up and down smoothly when the PA is turned on and \noff, to reduce spectral splatter.\nNote The transmitter must be restarted if the ModulationShaping setting is changed, in order to recalibrate the built-in \nfilter.\n4.2.3.  FSK/OOK Reception\n4.2.3.1.  FSK Demodulator\nThe FSK demodulator of the SX1276/77/78/79 is desi gned to demodulate FSK, GFSK, MSK and GMSK modulated \nsignals. It is most efficient when the modulation inde x of the signal is greater than 0.5 and below 10:\nThe output of the FSK demodulator can be fed to the Bit Synchronizer to provide the companion processor with a \nsynchronous data stream in Continuous mode.\n4.2.3.2.  OOK Demodulator\nThe OOK demodulator performs a comparison of the RSSI outpu t and a threshold value. Three different threshold modes \nare available, configured through bits OokThreshType  in RegOokPeak .\nThe recommended mo de of operation is the “Peak”  threshold mode, illustrated in Figure  14:0.5 β≤2FDEV×\nBR---------------------- 10≤ =\nwww.semtech.com Page 49SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech CorporationFigure 14.   OOK Peak Demodulator Description\nIn peak threshold mode the comparison threshold level is the peak value of the RSSI, reduc ed by 6dB. In the absence of \nan input signal, or during the reception of a logical ‘0’, the acquired peak value is decremented by one OokPeakThreshStep\nevery OokPeakThreshDec  period.\nWhen the RSSI output is null for a long time (for instance after a long string of “0” received, or  if no transmitter is present ), \nthe peak threshold level will continue  falling until it reaches the “Fl oor Threshold”, programmed in OokFixedThresh .\nThe default settings of the OOK demodulator lead to the perfor mance stated in the electrical  specification. However, in \napplications in which sudden signal drops are awaited duri ng a reception, the three parameters should be optimized \naccordingly.\nOptimizing the Floor Threshold\nOokFixedThresh  determines the sensitivity of the OOK receiver, as it  sets the comparison thres hold for weak input signals \n(i.e. those close to the noise floor). Significant sensitiv ity improvements can be gener ated if configured correctly.\nNote that the noise floor of the receiver at the demodulator input depends on:\n\uf077The noise figure of the receiver.\n\uf077The gain of the receive chain from antenna to base band.\n\uf077The matching - includin g SAW filter if any.\n\uf077The bandwidth of the channel filters.Zoom \nPeriod as defined in \nOokPeakThreshDec Decay in dB as defined in \nOokPeakThreshStep Fixed 6dB difference RSSI \n[dBm] \nNoise floor of \nreceiver ‘’Floor’’ threshold defined by \nOokFixedThresh \nTime ‘’Peak -6dB’’ Threshold\nZoom \nwww.semtech.com Page 50SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech CorporationIt is therefore important to note that the setting of OokFixedThresh  will be application depende nt. The followi ng procedure \nis recommended to optimize OokFixedThresh .\nFigure 15.   Floor Threshold Optimization\nThe new floor threshold value found during this test should be used for OOK reception wi th those receiver settings.\nOptimizing OOK Demodulator for Fast Fading Signals\nA sudden drop in signal strength can cause the bit error rate to increase. For applications where the expected signal drop \ncan be estimated, the following OOK demodulator parameters OokPeakThreshStep  and OokPeakThreshDec  can be \noptimized as described below for a given number of threshold decrements per bit. Refer to RegOokPeak  to access those \nsettings. \nSet SX1276/7/8/9 in OOK Rx mode \nAdjust Bit Rate, Channel filter BW \nDefault OokFixedThresh  setting \nNo input signal \nContinuous Mode\n \nOptimization complete  \nGlitch activity \non DATA ? \nMonitor DIO2/DATA pin \nIncrement \nOokFixedThresh  \nwww.semtech.com Page 51SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech CorporationAlternative OOK Demodulator Threshold Modes\nIn addition to the Peak OOK threshold mode, the user can alternatively select two other types of threshold detectors:\n\uf077Fixed Threshold: The value is selected through OokFixedThresh\n\uf077Average Threshold: Data supplied by the RSSI block is av eraged, and this operation mode should only be used with \nDC-free encoded data.\n4.2.3.3.  Bit Synchronizer\nThe bit synchronizer provides a clean and  synchronized digital output based upo n timing recovery information gleaned \nfrom the received data edge transitions. Its output is made available on pin DIO1/DCLK in Continuous mode and can be \ndisabled through register settings. However, for optimum receiv er performance, especially in Continuous receive mode, its \nuse is strongly advised.\nThe Bit Synchronizer is automatically activated in Packet mode. Its bit rate is controlled by BitRateMsb  and BitRateLsb  in \nRegBitrate.\nFigure 16.   Bit Synchronizer Description\nTo ensure correct operation of the Bit Synchroniz er, the following conditions have to be satisfied:\n\uf077A preamble (0x55 or 0xAA) of at least 12 bits is required fo r synchronization, the longer the synchronization phase is the \nbetter the ensuing pack et detection rate will be.\n\uf077The subsequent paylo ad bit stream must have at least one edge transition (eit her rising or falling) every 16 bits during \ndata transmission.\n\uf077The absolute error between transmitted and received bit rate must not exceed 6.5%. \nRaw demodulator \noutput \n(FSK or OOK) \nDCLK DATA \nBitSync Output \nTo pin DATA and \nDCLK in continuous \nmode \n\nwww.semtech.com Page 52SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation4.2.3.4.  Frequency Error Indicator\nThis frequency error indicator measures the frequency error between the programmed RF centre frequency and the carrier \nfrequency of the modulated input signal to the receiver. When  the FEI is performed, the frequency error is measured and \nthe signed result is loaded in FeiValue  in RegFei , in 2’s complement format. The time required for an FEI evaluation is 4 bit \nperiods.\nTo ensure correct operation of the FEI:\n\uf077The measurement must be launched during the reception of preamble.\n\uf077The sum of the frequency offset and the 20 dB signal bandwidth  must be lower than the base band filter bandwidth. i.e. \nThe whole modulated spectrum must be received.\nThe 20 dB bandwidth of the signal can be evaluated as follows (double-side bandwidth):\nThe frequency error, in Hz, can be calculated with the following formula:\nThe FEI is enabled automatically upon the transition to  receive mode and automatically updated every 4 bits.\n4.2.3.5.  AFC\nThe AFC is based on the FEI measurement, therefore the same  input signal and receiver setting conditions apply. When \nthe AFC procedure is performed the AfcValue  is directly subtracted from the regi ster that defines the frequency of \noperation of the chip, FRF. The AFC is executed each time  the receiver is enabled, if AfcAutoOn  = 1.\nWhen the AFC is enabled ( AfcAutoOn = 1), the user has the option to:\n\uf077Clear the former AFC correction value, if AfcAutoClearOn  = 1. Allowing the next frequency correction to be performed \nfrom the initial centre frequency.\n\uf077Start the AFC evaluation from the previously corrected fre quency. This may be useful in systems in which the centre \nfrequency experiences cumulative drift - such as the ageing of a crystal reference.\nThe SX1276/77/78/79 offers an alternate receiver bandwidth setting during the AFC phase allowing the accommodation of \nlarger frequency errors. The setting RegAfcBw  sets the receive bandwidth during the AFC process. In a typical receiver \napplication the, once the AFC is perfor med, the radio will revert to  the receiver communicati on or channel bandwidth \n(RegRxBw ) for the ensuing communication phase.\nNote that the FEI measurement is valid only during the reception of preamble. The provision of the PreambleDetect  flag \ncan hence be used to detect this condition and allow a reliable AFC or FEI operation to be triggered. This process can be \nperformed automatically by using the appropriate options in StartDemodOnPreamble  found in the RegRxConfig  register.\nA detailed description of the receiver setup to enable the AFC is provided in section 4.2.6 .BW20dB2 FDEVBR\n2-------+\uf0e8\uf0f8\uf0e6\uf0f6×=\nFEI FSTEPFeiValue× =\nwww.semtech.com Page 53SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation4.2.3.6.  Preamble Detector\nThe Preamble Detector indicates the reception of a carrier modulated with a 0101...sequence. It is insensitive to the \nfrequency offset, as long as the receiver bandwidth is large enough. The size of detection can be programmed from 1 to 3 \nbytes with PreambleDetectorSize  in RegPreambleDetect  as defined in the next table.\nTable 20 Preamble Detector Settings\nFor normal operation, PreambleDetectTol  should be set to be set to 10 (0x0A), with a qualifying preamble size of 2 bytes.\nThe PreambleDetect  interrupt (either in RegIrqFlags1  or mapped to a specific DIO) then goes high every time a valid \npreamble is detected, assuming PreambleDetectorOn =1.\nThe preamble detector can also be used as a gate to ensure that AFC and AGC are performed on valid preamble. See \nsection 4.2.6 . for details. \n4.2.3.7.  Image Rejection Mixer\nThe SX1276/77/78/79 employs an image reje ction mixer (IRM) which, uncalibrated, 35 dB imag e rejection. A low phase \nnoise PLL is used to perform calibration of the receiver chain. This increases the typical image rejection to 48 dB.\n4.2.3.8.  Image and RSSI Calibration\nAn automated process is implemented to calibrate the phase and gain imbalances of I and Q receive paths. This calibration \nenhances image rejection and improv es RSSI precision. It is launch ed under the following circumstances:\n\uf077Automatically at Power On Reset or after a Manual Reset of the chip (refer to section 7.2), only for the Low Frequency \nfront-end , and is performed at 434MHz\n\uf077Automatically when a pre-defined temperat ure change is observed, if the option is enabled. A selectable temperature \nchange, set with TempThreshold  (5, 10, 15 or 20°C), is detected and reported in TempChange , if the temperature \nmonitoring is turned On with TempMonitorOff =0.This interrupt flag can be used by the application to launch a new \nimage calibration at a convenient time if AutoImageCalOn =0, or immediately when this temperature variation is \ndetected, if AutoImageCalOn =1\n\uf077Upon user request, by setting bit ImageCalStart  in RegImageCal , when the device is in Standby mode\nNotes - The calibration procedure takes approximately 10 ms. It is recommended to disable the fully automated \n(temperature-dependent) calibration, to better control when it is triggered (and avoid unexpected packet losses)\n- To perform the calibration, the radio must  be temporarily retu rned to FSK/OOK mode\n- The automatic IQ and RSSI calibration done at POR and Re set is only valid at 434 MHz (the value of RegFrf at \nPOR). To improve accuracy of RSSI and image rejection, th is calibration should be rep licated at the frequency (ies) PreambleDetectorSize # of Bytes\n00 1\n01 2 (recommended)10 3\n11 reserved\nwww.semtech.com Page 54SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporationof interest, for instance a calibration should be launched  with Frf set to 868.3 MHz if the high frequency port \nsupports communication in this frequency band. Conversely if the product is used at 169 MHz, the calibration should be repeated with Frf=169MHz\n- FormerTemp and TempChange in SX1276/77/79 are frequency-specific and the IC keeps a copy of these \nvariables when switching between the low frequency and the high frequency domains (along with the corresponding calibration values, stored in test registers)\n- FormerTemp and TempChange cannot be read in Sleep mode (although they are saved). They should be read in \nStandby mode\n4.2.3.9.  Timeout Function\nThe SX1276/77/78/79 includes a Timeout fu nction, which allows it to automatically  shut-down the receiver after a receive \nsequence and therefore save energy.\n\uf077Timeout  interrupt is generated TimeoutRxRssi x 16 x Tbit after switching to Rx mode if the Rssi flag does not raise \nwithin this time frame ( RssiValue  > RssiThreshold )\n\uf077Timeout  interrupt is generated TimeoutRxPreamble x 16 x Tbit after switching to Rx mode if the PreambleDetect  flag \ndoes not raise within this time frame\n\uf077Timeout  interrupt is generated TimeoutSignalSync x 16 x Tbit after switching to Rx mode if the SyncAddress flag does \nnot raise within this time frame\nThis timeout interrupt can be used to warn the companion processor to shut down the receiver and return to a lower power \nmode. To become active, these timeouts must also be enabled by setting the correct RxTrigger  parameters in \nRegRxConfig:\nTable 21 RxTrigger Settings to Enable Timeout Interrupts\n4.2.4.  Operating Modes in FSK/OOK Mode\nThe SX1276/77/78/79 has several working modes, manually programmed in RegOpMode . Fully automated mode \nselection, packet transmission and reception is also po ssible using the Top Level Sequencer described in Section 4.2.8 .\nTable 22 Basic Transceiver ModesReceiver\nTriggering EventRxTrigger\n(2:0)Timeout on\nRssiTimeout on\nPreambleTimeout on\nSyncAddress\nNone 000 Off Off\nActiveRssi Interrupt 001 Active Off\nPreambleDetect 110 Off Active\nRssi Interrupt & PreambleDetect 111 Active Active\nMode Selected mode Symbol Enabled blocks\n000 Sleep mode Sleep None\n001 Standby mode Stdby Top regulator and crystal oscillator\n010Frequency synthesiser to Tx \nfrequencyFSTx Frequency synthesizer at Tx frequency (Frf)\n011 Transmit mode Tx Frequency synthesizer and transmitter\nwww.semtech.com Page 55SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech CorporationWhen switching from a mode to another the sub-blocks ar e woken up according to a pr e-defined optimized sequence.100Frequency synthesiser to Rx \nfrequencyFSRx Frequency synthesizer at fr equency for reception (Frf-IF)\n101 Receive mode Rx Frequency synthesizer and receiverMode Selected mode Symbol Enabled blocks\nwww.semtech.com Page 56SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation4.2.5.  Startup Times\nThe startup time of the transmitter or the receiver is Depen dant upon which mode the transceiver was in at the beginning. \nFor a complete description, Figure  17 below shows a complete startup process, from the lower power mode “Sleep”.\nFigure 17.   Startup Process\nTS_OSC is the startup time of the crystal  oscillator which depends on t he electrical characteristics of the crystal. TS_FS is \nthe startup time of the PLL including systematic calibration of the VCO.\nTypical values of TS_OSC and TS_FS are given in Section 2.5.2 .\n4.2.5.1.  Transmitter Startup Time\nThe transmitter startup time, TS_TR, is  calculated as follows in FSK mode:\n,\nwhere PaRamp  is the ramp-up time programmed in RegPaRamp  and Tbit is the bit time.\nIn OOK mode, this equation can be simplified to the following:\n4.2.5.2.  Receiver Startup Time\nThe receiver startup time, TS_RE, only depends upon the receiver  bandwidth effective at the ti me of startup. When AFC is \nenabled ( AfcAutoOn =1), AfcBw  should be used instead of RxBw  to extract the receiver startup time:Sleep\nmodeTransmit\nStdby\nmodeFSTx\nFSRx ReceiveTimeline\n0 TS_OSC TS_OSC\n+TS_FSTS_OSC\n+TS_FS\n+TS_TRTS_OSC\n+TS_FS\n+TS_RECurrent\nDrain\nIDDSLIDDSTIDDFSIDDR (Rx) or IDDT (Tx)\nTbit PaRamp s TR TS ×+ × + =2125.1 5 _ μ\nTbit s TR TS ×+ =215 _ μ\nwww.semtech.com Page 57SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech CorporationTable 23 Receiver Startup Time Summary\nTS_RE or later after setting the devic e in Receive mode, any incoming packet will be detected and demodulated by the \ntransceiver.\n4.2.5.3.  Time to RSSI Evaluation\nThe first RSSI sample will be available TS _RSSI after the receiver is  ready, in other words TS_RE + TS_RSSI after the \nreceiver was req uested to turn on.\nFigure 18.   Time to RSSI Sample\nTS_RSSI depends on the receiver bandwidth, as well as the RssiSmoothing  option that was selected. The formula used to \ncalculate TS_RSSI is provided in section 5.5.4 .RxBw if AfcAutoOn=0\nRxBwAfc if AfcAutoOn=1TS_RE\n(+/-5%)\n2.6 kHz 2.33 ms\n3.1 kHz 1.94 ms\n3.9 kHz 1.56 ms\n5.2 kHz 1.18 ms6.3 kHz 984 us\n7.8 kHz 791 us\n10.4 kHz 601 us12.5 kHz 504 us\n15.6 kHz 407 us\n20.8 kHz 313 us25.0 kHz 264 us\n31.3 kHz 215 us\n41.7 kHz 169 us50.0 kHz 144 us\n62.5 kHz 119 us\n83.3 kHz 97 us\n100.0 kHz 84 us\n125.0 kHz 71 us\n166.7 kHz 85 us200.0 kHz 74 us\n250.0 kHz 63 us\nFSRx RxRssi IRQ\nRssi sample \nreadyTimeline\n0T S _ R E T S _ R E\n+TS_RSSI\nwww.semtech.com Page 58SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation4.2.5.4.  Tx to Rx Turnaround Time\nFigure 19.   Tx to Rx Turnaround\nNote The SPI instruction times are omitted, as they can gener ally be very small as compared to other timings (up to \n10MHz SPI clock).\n4.2.5.5.  Rx to Tx\nFigure 20.   Rx to Tx TurnaroundTx Mode1. set new Frf (*)\n2. set Rx modeTimeline\n0T S _ H O P\n+TS_RE\n(*) OptionalRx Mode\nRx Mode1. set new Frf (*)\n2. set Tx modeTimeline\n0T S _ H O P\n+TS_TR\n(*) OptionalTx Mode\nwww.semtech.com Page 59SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation4.2.5.6.  Receiver Hopping, Rx to Rx\nTwo methods are possible:\nFigure 21.   Receiver Hopping\nThe second method is quicker, and should be used if a very quick RF sniffing mech anism is to be implemented.\n4.2.5.7.  Tx to Tx\nFigure 22.   Transmitter Hopping\n4.2.6.  Receiver Startup Options\nThe SX1276/77/78/79 receiver can automatically control the gain  of the receive chain (AGC) and adjust the receiver LO \nfrequency (AFC). Those processes are carried out on a packet-by-packet basis. They occur:\n\uf077When the receiver is turned On.\n\uf077When the Receiver is restarted upon user request, through the use of trigger bits RestartRxWithoutPllLock or \nRestartRxWithPllLock , in RegRxConfig.\n\uf077When the receiver is automatically re started after the re ception of a valid packet, or after a packet collision.Rx Mode,\nChannel A1. set new Frf\n2. set RestartRxWithPllLockTimeline\n0T S _ H O P\n+TS_RE\nRx Mode,\nChannel BFirst method\nRx Mode,\nChannel A1. set FastHopOn =1\n2. set new Frf (*)\n3. wait for TS_HOPTimeline\n0 ~TS_HOP\nRx Mode,\nChannel BSecond method\n(*) RegFrfLsb  must be written to \ntrigger a frequency change\n1. set new Frf (*)\n2. set FSTx modeFSTxTimeline\n~PaRamp\n+TS_HOP~PaRamp\n+TS_HOP\n+TS_TR0\nTx Mode,\nChannel ATx Mode,\nChannel BSet Tx mode\nwww.semtech.com Page 60SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech CorporationAutomatic restart capabilitie s are detailed in Section 4.2.7 .\nThe receiver startup options available in SX1276/77/78/79 are described in Table  24. \nTable 24 Receiver Startup Options\nWhen AgcAutoOn =0, the LNA gain is manually selected by choosing LnaGain  bits in RegLna.\n4.2.7.  Receiver Restart Methods\nThe options for restart of the receiver are covered below. This is typically of use to prepare for the reception of a new signa l \nwhose strength or carrier frequency is different from the pr eceding packet to allow the AGC or AFC to be re-evaluated.\n4.2.7.1.  Restart Upon User Request\nIn Receive mode the user can request a receiver restart - th is can be useful in conjunction with the use of a Timeout \ninterrupt following a period of inactivity in the channel of in terest. Two options are available:\n\uf077No change in the Local Oscillator upon restart: the AFC is disabled, and the Frf register has not been changed through \nSPI before the restart instruction: set bit RestartRxWithoutPllLock  in RegRxConfig  to 1.\n\uf077Local Oscillator change upon restart:  if AFC is enabled ( AfcAutoOn =1), and/or the Frf register had been changed during \nthe last Rx period: set bit RestartRxWithPllLock  in RegRxConfig  to 1.\nNote ModeReady must be at logic level 1 for a new RestartRx command to be taken into account.\n4.2.7.2.  Automatic Restart after valid Pack et Reception\nThe bits AutoRestartRxMode  in RegSyncConfig  control the automatic restart feat ure of the SX1276/77/78/79 receiver, \nwhen a valid packet has been received:\n\uf077If AutoRestartRxMode = 00 , the function is off, and the user should ma nually restart the rece iver upon valid packet \nreception (see section 4.2.7.1 ).\n\uf077If AutoRestartRxMode = 01, after the user has emptied the FIFO following a PayloadReady  interrupt, the receiver will \nautomatically restart itself after a delay of InterPacketRxDelay , allowing for the distant transmitter to ramp down, hence \navoiding a false RSSI detection on the ‘tail’ of the previous packet.\n\uf077If AutoRestartRxMode = 10 should be used if the next reception is expected on a new frequency, i.e. Frf is changed \nafter the reception of the previous packet. An additional dela y is systematically added, in order for the PLL to lock at a \nnew frequency.Triggering Event Realized Function AgcAutoOn AfcAutoOnRxTrigger\n(2:0)\nNone None 0 0 000\nRssi InterruptAGC 1 0 001\nAGC & AFC 1 1 001\nPreambleDetectAGC 1 0 110\nAGC & AFC 1 1 110\nRssi Interrupt\n&\nPreambleDetectAGC 1 0 111\nAGC & AFC 1 1 111\nwww.semtech.com Page 61SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation4.2.7.3.  Automatic Restart when Packet Collision is Detected\nIn receive mode the SX1276/ 77/78/79 is able to detect pa cket collision and restart the receiv er. Collisions are detected by \na sudden rise in received signal strength, detected by the RSS I. This functionality can be usef ul in network configurations \nwhere many asynchronous slaves attempt periodic communication with a single a master node.\nThe collision detector is enabled by setting bit RestartRxOnCollision  to 1.\nThe decision to restart the receiver is based on the detection of  RSSI change. The sensitivity of  the system can be adjusted \nin 1 dB steps by using register RssiCollisionThreshold  in RegRxConfig .\n4.2.8.  Top Level Sequencer \nDepending on the application, it is desirable to be able to change the mode of the circuit according to a predefined \nsequence without access to the serial inte rface. In order to define different seque nces or scenarios, a user-programmable \nstate machine, called Top Level Sequencer (Sequencer in  short), can automatically control the chip modes. \nNOTE THAT THIS FUNCTIONALITY IS ONLY AVAILABLE IN FSK/OOK MODE.\nThe Sequencer is activated by setting the SequencerStart  bit in RegSeqConfig1  to 1 in Sleep or Standby mode (called \ninitial mode). \nIt is also possible to force the Sequencer off by setting the Stop bit in RegSeqConfig1  to 1 at any time.\nNote SequencerStart and Stop bit must never be set at the same time.\n4.2.8.1.  Sequencer States\nAs shown in the table below, with the aid of a pair of interrupt  timers (T1 and T2), the sequencer can take control of the chip  \noperation in all modes.\nTable 25 Sequencer States\nSequencer\nStateDescription\nSequencerOff StateThe Sequencer is not activated. Sending a SequencerStart  command will launch it.\nWhen coming from LowPowerSelection  state, the Sequencer will be Off, whilst the chip will \nreturn to its initial mode (either Sleep or Standby mode).\nIdle State The chip is in low- power mode, either Standby  or Sleep , as defined by IdleMode  in \nRegSeqConfig1 . The Sequencer waits only for the T1 interrupt.\nTransmit State The transmitter in on.\nReceive State The receiver in on.\nPacketReceived The receiver is on and a packet has been received. It is stored in the FIFO.\nLowPowerSelection Selects low power state ( SequencerOff  or Idle State)\nRxTimeout Defines the action to be taken on a RxTimeout interrupt.\nRxTimeout interrupt can be a TimeoutRxRssi , TimeoutRxPreamble  or TimeoutSignalSync        \ninterrupt.\nwww.semtech.com Page 62SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation4.2.8.2.  Sequencer Transitions\nThe transitions between sequencer states  are listed in the forthcoming table.\nTable 26 Sequencer Transition Options\nVariable Transition\nIdleModeSelects the chip mode during Idle state:\n0: Standby  mode\n1: Sleep  mode\nFromStartControls the Sequencer transition when the SequencerStart  bit is set to 1 in Sleep  or Standby  mode:\n00: to LowPowerSelection \n01: to Receive state \n10: to Transmit  state \n11: to Transmit  state on a FifoThreshold  interrupt\nLowPowerSelectionSelects Sequencer LowPower state after a to LowPowerSelection  transition\n0: SequencerOff state  with chip on Initial mode\n1: Idle state with chip on Standby  or Sleep  mode depending on IdleMode\nNote: Initial mode is the chip LowPower mode at Sequencer start.\nFromIdleControls the Sequencer transition from the Idle state on a T1 interrupt:\n0: to Transmit  state  \n1: to Receive state\nFromTransmitControls the Sequencer transition from the Transmit  state:\n0: to LowPowerSelection  on a PacketSent  interrupt\n1: to Receive state on a PacketSent  interrupt\nFromReceiveControls the Sequencer transition from the Receive  state:\n000 and 111: unused001: to PacketReceived  state on a PayloadReady  interrupt\n010: to LowPowerSelection  on a PayloadReady  interrupt\n011: to PacketReceived  state on a CrcOk  interrupt. If CRC is wrong (corrupted packet, with CRC on but \nCrcAutoClearOn is off), the PayloadReady interr upt will drive the sequenc er to RxTimeout state.\n100: to \nSequencerOff  state on a Rssi interrupt\n101: to SequencerOff  state on a SyncAddress  interrupt\n110: to SequencerOff  state on a PreambleDetect  interrupt\nIrrespective of this setting, transition to LowPowerSelection on a T2 interrupt\nFromRxTimeoutControls the state-machine transition from the Receive  state on a RxTimeout  interrupt (and on \nPayloadReady  if FromReceive  = 011):\n00: to Receive state via ReceiveRestart\n01: to Transmit  state\n10: to LowPowerSelection\n11: to SequencerOff  state\nNote: RxTimeout interrupt is a TimeoutRxRssi , TimeoutRxPreamble  or TimeoutSignalSync  interrupt.\nFromPacketReceivedControls the state-machine transition from the PacketReceived  state:\n000: to SequencerOff  state\n001: to Transmit  on a FifoEmpty  interrupt\n010: to LowPowerSelection\n011: to Receive  via FS mode, if frequency was changed\n100: to Receive  state (no frequency change)\nwww.semtech.com Page 63SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation4.2.8.3.  Timers\nTwo timers (Timer1 and Timer2) are also available in order to define periodic sequences. These timers are used to \ngenerate interrupts, which can trigger transitions of the Sequencer.\nT1 interrupt is generated (Timer1Resolution * Timer1Coefficient) after T2 interrupt  or SequencerStart . command.\nT2 interrupt is generated (Timer2Resolution * Timer2Coefficient) after T1 interrupt .\nThe timers’ mechanism is summarized on the following diagram.\nFigure 23.   Timer1 and Timer2 Mechanism\nNote The timer sequence is completed independently of the actual Sequencer state. Thus, both timers need to be on to \nachieve periodic cycling.\nTable 27 Sequencer Timer Settings\nVariable Description\nTimer1ResolutionResolution of Timer1\n00: disabled\n01: 64 us10: 4.1 ms\n11: 262 ms\nTimer2ResolutionResolution of Timer2\n00: disabled\n01: 64 us10: 4.1 ms\n11: 262 ms\nTimer1Coefficient Multiplying coefficient for Timer1\nTimer2Coefficient Multiplying coefficient for Timer2T2\ninterrupt\nT1\ninterruptTimer1 Timer2Sequencer Start\nwww.semtech.com Page 64SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation4.2.8.4.  Sequencer State Machine\nThe following graphs summarize every possible transition be tween each Sequencer state. The Sequencer states are \nhighlighted in grey. The transitions are represented by arrows. The condition activating them is described over the transition arrow. For better readability, the start transitions are separated fr om the rest of the graph.\nTransitory states are highlighted in light grey, and exit stat es are represented in red. It is also possible to force the \nSequencer off by setting the Stop bit in RegSeqConfig1  to 1 at any time.\nFigure 24.   Sequencer State MachineSequencer: Start transitions\nSequencer: State machine\nTransmitLowPower\nSelectionIdle\nReceivePacket\nReceived\nRxTimeoutIf LowPowerSelection = 1\nOn T1 if FromIdle = 0\nOn PacketSent\nif FromTransmit = 1On PayloadReady if FromReceive = 001\nOn CrcOk if FromReceive = 011On PayloadReady\nif FromReceive = 010\nIf FromRxTimeout = 01If FromRxTimeout = 10If FromPacketReceived = 010\nIf FromPacketReceived = 100\nVia FS mode if FromPacketReceived = 011\nOn PacketSent\nif FromTransmit = 0 Via ReceiveRestart\nif FromRxTimeout = 00On RxTimeoutOn T2On T1 if FromIdle = 1If LowPowerSelection = 0\n( Mode \uf0f8\uf083Initial mode )\nOn Rssi if FromReceive = 100\n On SyncAdress if FromReceive = 101\n On Preamble if FromReceive = 110\nIf FromRxTimeout = 11If FromPacketReceived = 000\nSequencer OffStandby if IdleMode = 0\nSleep if IdleMode = 1TransmitLowPower\nSelectionReceiveStart\nIf FromStart = 00\nIf FromStart = 01 If FromStart = 10\nSequencer OffSequencer Off\n&\nInitial mode = Sleep or Standby\nOn SequencerStart bit rising edge\nOn FifoThreshold\nif FromStart = 11\nOn PayloadReady if FromReceive = 011\n(CRC failed and CrcAutoClearOn =0)\nwww.semtech.com Page 65SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation4.2.9.  Data Processing in FSK/OOK Mode\n4.2.9.1.  Block Diagram\nFigure below illustrates the SX1276/77/78/79 data processing circuit. Its role is to  interface the data to/from the modulator/\ndemodulator and the uC access points (SPI and DIO pins ). It also controls all the configuration registers. \nThe circuit contains several control blocks wh ich are described in the following paragraphs.\n \nFigure 25.   SX1276/77/78/79 Data Processing Conceptual View\nThe SX1276/77/78/79 implements several data operation modes, each with their own data path through the data \nprocessing. Depending on the data operation mode selected, some  control blocks are active whilst others remain disabled.\n4.2.9.2.  Data Operation Modes\nThe SX1276/77/78/79 has two different data operation modes selectable by the user:\n\uf077Continuous mode:  each bit transmitted or received is accessed in re al time at the DIO2/DATA pin. This mode may be \nused if adequate external signal processing is available.\n\uf077Packet mode (recommended):  user only provides/retrieves payload bytes to/from the FIFO. The packet is automatically \nbuilt with preamble, Sync word, and optional CRC and DC-f ree encoding schemes The reverse operation is performed \nin reception. The uC processing overhead is hence signific antly reduced compared to Continuous mode. Depending on \nthe optional features activated (CRC, etc) the maximum payload length is limited to 255, 2047 bytes or unlimited.\nEach of these data operation modes is fully described in the following s. \nCONTROL \nSPI PACKET \nHANDLER \n SYNC \nRECOG. \n DIO1 \nMISO MOSI SCK NSS Rx \nTx Tx/Rx \nData \nFIFO \n(+SR) \n \nPotential datapaths (data operation mode dependant) DIO2 DIO0 \nDIO3 \nDIO4 \nDIO5 \nwww.semtech.com Page 66SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation4.2.10.  FIFO\nOverview and Shift Register (SR)\nIn packet mode of operation, both data to be transmitted and that has been received are stor ed in a configurable FIFO \n(First In First Out) device. It is acce ssed via the SPI interface and provides several interrupts for transfer management.\nThe FIFO is 1 byte wide hence it only performs byte (paralle l) operations, whereas the demodulator functions serially. A \nshift register is therefore employed to interface the two device s. In transmit mode it takes bytes from the FIFO and outputs \nthem serially (MSB first) at the programmed bit rate to the modu lator. Similarly, in Rx the sh ift register gets bit by bit data  \nfrom the demodulator and writes th em byte by byte to the FIFO. Th is is illustrated in figure below.\n \nFigure 26.   FIFO and Shift Register (SR)\nNote When switching to Sleep mode, the FIFO can only be used once the ModeReady flag is  set (quasi immediate from \nall modes except from Tx)\nThe FIFO size is fixed to 64 bytes.\nInterrupt Sources and Flags\n\uf077FifoEmpty : FifoEmpty  interrupt source is high when byte 0, i.e. whole FI FO, is empty. Otherwise it is low. Note that when \nretrieving data from the FIFO, FifoEmpty  is updated on NSS falling edge, i.e. when FifoEmpty  is updated to low state \nthe currently started read operation mu st be completed. In other words, FifoEmpty  state must be checked after each \nread operation for a decision on the next one ( FifoEmpty  = 0: more byte(s) to read; FifoEmpty  = 1: no more byte to \nread).\n\uf077FifoFull : FifoFull  interrupt source is high when the last FIFO byte , i.e. the whole FIFO, is full. Otherwise it is low.\n\uf077FifoOverrunFlag : FifoOverrunFlag  is set when a new byte is written by the user (in Tx or Standby modes) or the SR (in \nRx mode) while the FIFO is already full. Da ta is lost and the flag should be cleared  by writing a 1, note that the FIFO will \nalso be cleared.\n\uf077PacketSent : PacketSent  interrupt source goes high when the SR\'s last bit has been sent. \n\uf077FifoLevel : Threshold can be programmed by FifoThreshold  in RegFifoThresh . Its behavior is illust rated in figure below. \nData Tx/Rx 8 \n1 SR (8bits) byte0byte1FIFO \nMSB LSB \nwww.semtech.com Page 67SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation \nFigure 27.   FifoLevel IRQ Source Behavior\nNotes - FifoLevel interrupt is updated only after a read or  write operation on the FIFO. Thus the interrupt cannot be \ndynamically updated by only changing the FifoThreshold parameter\n- FifoLevel interrupt is  valid as long as FifoFull does not occur. An empty FIFO will restor e its normal operation\nFIFO Clearing \nTable below summarizes the status of the FI FO when switching between different modes\nTable 28 Status of FIFO when Switching Between Different Modes of the Chip\n4.2.10.1.  Sync Word Recognition\nOverview\nSync word recognition (als o called Pattern recognition) is activated by setting SyncOn  in RegSyncConfig . The bit \nsynchronizer must also be activated in Conti nuous mode (automatically done in Packet mode).\nThe block behaves like a shift register; it continuously comp ares the incoming data with its internally programmed Sync \nword and sets SyncAddressMatch  when a match is detected.  This is illustrated in Figure  28 below. From To FIFO status Comments\nStdby Sleep Not cleared\nSleep Stdby Not cleared\nStdby/Sleep Tx Not cleared To allow the user to write the FIFO in Stdby/Sleep before TxStdby/Sleep Rx Cleared\nRx Tx Cleared\nRx Stdby/Sleep Not cleared To allow the user to read FIFO in Stdby/Sleep mode after Rx \nTx Any Cleared# of bytes in FIFO FifoLevel \n0 1 \nB B+1 \nwww.semtech.com Page 68SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech CorporationFigure 28.   Sync Word Recognition\nDuring the comparison of the demodulated data, the fi rst bit received is compared with bit 7 (MSB) of RegSyncValue1  and \nthe last bit received is compared with bit 0 (LSB) of the last  byte whose address is determi ned by the length of the Sync \nword.\nWhen the programmed Sync word is detected the user can assume  that this incoming packet is for the node and can be \nprocessed accordingly.\nSyncAddressMatch  is cleared when leaving Rx or FIFO is emptied.\nConfiguration\n\uf077Size: Sync word size can be set from 1 to 8 bytes (i.e. 8 to 64 bits) via SyncSize  in RegSyncConfig . In Packet mode this \nfield is also used for Sync word generation in Tx mode.\n\uf077Value: The Sync word va lue is configured in SyncValue(63:0) . In Packet mode this field is also used for Sync word \ngeneration in Tx mode.\nNote SyncValue choices containing 0x00 bytes are not allowed\nPacket Handler\nThe packet handler is the block used in Packet mode.  Its functionality is fully described in Section 4.2.13 .\nControl\nThe control block configures and controls the full chip\'s beha vior according to the settings programmed in the configuration \nregisters. \nRx DATA  \n(NRZ)  \nDCLK  Bit N-x =  \nSync_value[x]  Bit N-1 =\nSync_value[1]Bit N = \nSync_value[0]\nSyncAddressMatch  \nwww.semtech.com Page 69SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation4.2.11.  Digital IO Pins Mapping\nSix general purpose IO pins are available on the SX1276/77/78/ 79, and their configuration in Continuous or Packet mode \nis controlled through RegDioMapping1  and RegDioMapping2.\nTable 29 DIO Mapping,  Continuous Mode\nTable 30 DIO Mapping, Packet ModeDIOx Mapping Sleep Standby FSRx/Tx Rx Tx\n00 SyncAddress TxReady\n01 Rssi / PreambleDetect -\n10 RxReady TxReady\n11\n00\n01 Rssi / PreambleDetect -\n10\n11\n00\n0110\n11\n00 Timeout -\n01 Rssi / PreambleDetect -\n10\n11 -\n00\n0110 TimeOut -\n11 -\n00 ClkOut if RC\n0110 Rssi / PreambleDetect -\n11 -PllLock\nModeReady ModeReadyDIO0\nDIO1\nDIO3DIO2\n--\n-\nDIO5DIO4-\n-\n-\n-\n--\n--\n-\n-\n-\n-\nModeReady ModeReadyDclk\nData\nDataData\nClkOut ClkOutTempChange / LowBat TempChange / LowBat\nTempChange / LowBat\nPllLockData-\n-\n--\n-\nDIOx Mapping Sleep Standby FSRx/Tx Rx Tx\n00 PayloadReady PacketSent\n01 CrcOk -\n10\n11 -\n00 FifoLevel\n01 FifoEmpty10 FifoFull\n11\n00 FifoFull\n01 RxReady -\n10 TimeOut FifoFull\n11 SyncAddress FifoFull\n00 FifoEmpty\n01 TxReady\n10 FifoEmpty\n11 FifoEmpt y\n00 -\n0110 TimeOut -\n11 Rssi / PreambleDetect -\n00 ClkOut if RC\n0110\n11 -FifoEmpty\nModeReadyFifoEmpty\nFifoEmpty\nFifoEmpty\nDIO5- PllLock\n-D a t aClkOut ClkOut\nModeReadyDIO4- PllLock\n-\n-TempChange / LowBat TempChange / LowBatDIO3-\nFifoEmptyDIO2-\nFifoFull\nFifoFullFifoFull FifoFull\nFifoEmptyDIO1\n-FifoLevel\nFifoEmpty FifoEmptyFifoLevel\nFifoFull FifoFullDIO0-\n-\n-\nTempChange / LowBat TempChange / LowBat\nwww.semtech.com Page 70SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation4.2.12.  Continuous Mode\n4.2.12.1.  General Description\nAs illustrated in Figure  29, in Continuous mode the NRZ data to (from) the (de )modulator is directly accessed by the uC on \nthe bidirectional DIO2/DATA pin. The FIFO  and packet handler are thus inactive.\n \nFigure 29.   Continuous Mode Conceptual View\n4.2.12.2.  Tx Processing\nIn Tx mode, a synchronous data clock for an external uC is provided on DIO1/DCLK pin. Clock timing with respect to the \ndata is illustrated in Figure  30. DATA is internally sampled on the rising e dge of DCLK so the uC can change logic state \nanytime outside the grayed out setup/hold zone.\n \nFigure 30.   Tx Processing in Continuous Mode\nNote the use of DCLK is required wh en the modulation shaping is enabled. \nCONTROL \nSPI SYNC \nRECOG. \n DIO1/DCLK \nMISO MOSI SCK NSS Rx Tx/Rx \nData DIO2/DATADIO0 \nDIO3 \nDIO4 \nDIO5 \n \nDCLK  T_DATA T_DATA  \nDATA  \n(NRZ)  \nwww.semtech.com Page 71SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation4.2.12.3.  Rx Processing\nIf the bit synchronizer is disabled, the raw demodulator output is made directly available on DATA pin and no DCLK signal \nis provided.\nConversely, if the bit synchronizer is enabled, synchronous cleaned data and clock are made available respectively on \nDIO2/DATA and DIO1/DCLK pins. DATA is sampled on the ri sing edge of DCLK and upd ated on the fa lling edge as \nillustrated below.\n \nFigure 31.   Rx Processing in Continuous Mode\nNote In Continuous mode it is always recommended to enable the bit synchronizer to clean the DATA signal even if the \nDCLK signal is not used by the uC (bit synchron izer is automatically enabled in Packet mode).\n \n4.2.13.  Packet Mode \n4.2.13.1.  General Description\nIn Packet mode the NRZ data to (from) the (de)modulator is no t directly accessed by the uC  but stored in the FIFO and \naccessed via the SPI interface. \nIn addition, the SX1276/77/78/79 packet handler performs several packet oriented tasks such as Preamble and Sync word \ngeneration, CRC calculation/che ck, whitening/dewhitening of data, Manchester encoding/decoding, addr ess filtering, etc. \nThis simplifies software and reduces uC overhead by perform ing these repetitive tasks wi thin the RF chip itself.\nAnother important feature is ability to fill and empty the FI FO in Sleep/Stdby mode, ensu ring optimum power consumption \nand adding more flexib ility for the software. DATA (NRZ)  \nDCLK  \nwww.semtech.com Page 72SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation \nFigure 32.   Packet Mode Conceptual View\nNote The Bit Synchronizer is automa tically enabled in Packet mode.\n4.2.13.2.  Packet Format\nFixed Length Packet Format\nFixed length packet format is selected when bit PacketFormat is set to 0 and  PayloadLength  is set to any value greater \nthan 0. \nIn applications where the packet length is fixed in advance, this mode of operatio n may be of interest to minimize RF \noverhead (no length byte field is required). All nodes, whet her Tx only, Rx only, or Tx/Rx should be programmed with the \nsame packet length value.\nThe length of the payload is limited to 2047 bytes.\nThe length programmed in PayloadLength  relates only to the pa yload which includes the message and the optional \naddress byte. In this mode, the payload must contai n at least one byte, i.e. address or message byte.\nAn illustration of a fixed length packet is shown below. It contains the following fields:\n\uf077Preamble (1010...)\n\uf077Sync word (Network ID)\n\uf077Optional Address byte (Node ID)\n\uf077Message data\n\uf077Optional 2-bytes CRC checksum \nCONTROL \nSPI PACKET \nHANDLER \n SYNC RECOG. \n DIO1\nMISO MOSI SCK NSS Rx \nTx Data \nFIFO \n(+SR) \n DIO2 DIO0 \nDIO3 \nDIO4 \nDIO5 \nwww.semtech.com Page 73SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech CorporationFigure 33.   Fixed Length Packet Format\nVariable Length Packet Format\nVariable length packet format is selected when bit PacketFormat  is set to 1.\nThis mode is useful in applications where the length of the pack et is not known in advance and can vary over time. It is then \nnecessary for the transmitter to send the length information together with each packet in order for the receiver to operate properly.\nIn this mode the length of the payload, indicated by the length  byte, is given by the first byte  of the FIFO and is limited to \n255 bytes. Note that the length byte itself is not included in its calculation. In this mode, th e payload must contain at least  2 \nbytes, i.e. length + address or message byte.\nAn illustration of a variable length packet is  shown below. It contains the following fields:\n\uf077Preamble (1010...)\n\uf077Sync word (Network ID)\n\uf077Length byte \n\uf077Optional Address byte (Node ID)\n\uf077Message data \nMessage\nUp  to 2047 bytes Address\nbyteCRC\n2-bytesSync Word  \n0 to 8 bytes  \nPayload \n(min 1 b yte)CRC checksum calculation\nFields added by the packet handler in Tx and processed and removed in Rx \nOptional User provided fields which are part of the payload\nMessage part of the payloadOptional DC free data coding\nPreamble  \n0 to 65536 bytes  \nwww.semtech.com Page 74SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation\uf077Optional 2-bytes CRC checksum\nFigure 34.   Variable Length Packet Format\nUnlimited Length Packet Format\nUnlimited length packet forma t is selected when bit PacketFormat  is set to 0 and PayloadLength  is set to 0. The user can \nthen transmit and receive packet of arbitrary length and PayloadLength  register is not used in Tx/Rx modes for counting \nthe length of the bytes transmitted/received.\nIn Tx the data is transmitted depending on the TxStartCondition  bit. On the Rx side the data processing features like \nAddress filtering, Manchester encoding and data whitening are not available if the sync pattern length is set to zero \n(SyncOn = 0 ). The CRC detection in Rx is also not supported in this mode of the packet hand ler, however CRC generation \nin Tx is operational. The interrupts like CrcOk  & PayloadReady are not available either.    \nAn unlimited length packet shown belo w is made up of the following fields: \n\uf077Preamble (1010...).\n\uf077Sync word (Network ID).\n\uf077Optional Address byte (Node ID).\n\uf077Message data\n\uf077Optional 2-bytes CRC checksum (Tx only)\nFigure 35.   Unlimited Length Packet Format\n4.2.13.3.  Tx Processing \nMessage\nUp to 255 bytesAddress\nbyteLength\nbyteCRC  \n2-bytes  Sync Word  \n0 to 8 bytes  Preamble  \n0 to 65536 bytes\nPayload \n(min 2 bytes)CRC checksum calculation\nFields added by the packet handler in Tx and processed and removed in Rx\nOptional User provided fields which are part of the payload\nMessage part of the payload  Optional DC free data coding  \nMessage\n \n \n  unlimited length\n  \n \n Address\n \n byteSync Word  \n \n \n 0 to 8  bytes \n \n \n  \n \n Preamble  \n \n \n \n \n  \n 0 to 65535  \n \n \n bytes \n \n \n \n  \n Payload\n \n \n \n Fields added by the packet handler in Tx and processed and removed in Rx  \nOptional User provided fields which are part of the payloadMessage part of the payload\n DC free Data encoding\n \n  \n \n  \n \n \n \nwww.semtech.com Page 75SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech CorporationIn Tx mode the packet handler dynamically builds the pa cket by performing the following operations on the payload \navailable in the FIFO:\n\uf077Add a programmable number of preamble bytes\n\uf077Add a programmable Sync word\n\uf077Optionally calculating CRC over complete  payload field (optional length byte + optional address byte + message) and \nappending the 2 bytes checksum.\n\uf077Optional DC-free encoding of the data (Manchester or whitening)\nOnly the payload (including optional address and length fi elds) is required to be provided by the user in the FIFO.\nThe transmission of packet data is initiated by the Packet Handler only if the chip is in  Tx mode and the transmission \ncondition defined by TxStartCondition  is fulfilled. If transmission condition is not fulfilled then the packet handler transmits a \npreamble sequence until the condit ion is met. This happens only if the preamble length /= 0, otherwise it transmits a zero or \none until the condition is me t to transmit the packet data.\nThe transmission condition itself is defined as: \n\uf077if TxStartCondition  = 1, the packet handler waits until the first byte is  written into the FIFO, then it starts sending the \npreamble followed by the sync word and user payload\n\uf077If TxStartCondition  = 0, the packet handler waits until the number of bytes written in the FIFO is equal to the number \ndefined in RegFifoThresh  + 1\n\uf077If the condition for transmission was al ready fulfilled i.e. the FIFO  was filled in Sleep/Stdb y then the transmission of \npacket starts immediately on enabling Tx\n4.2.13.4.  Rx Processing\nIn Rx mode the packet handler extracts the user payl oad to the FIFO by performing the following operations:\n\uf077Receiving the preamble and stripping it off\n\uf077Detecting the Sync word  and stripping it off\n\uf077Optional DC-free decoding of data\n\uf077Optionally checking the address byte\n\uf077Optionally checking CRC and reflecting the result on CrcOk.  \nOnly the payload (including optional address and length fields) is made available in the FIFO.\nWhen the Rx mode is enabled the demodulator receives the pr eamble followed by the detecti on of sync word. If fixed \nlength packet format is enabled then the number of bytes received as the payload is given by the PayloadLength\nparameter. \nIn variable length mode the first byte receiv ed after the sync word is interpreted as  the length of the received packet. The \ninternal length counter is initializ ed to this received length. The PayloadLength register is set to a value which is greater \nthan the maximum expected length of the received packet. If th e received length is greater than the maximum length stored \nin PayloadLength register the packet is discarded other wise the complete packet is received. \nIf the address check is enabled then the second byte received in  case of variable length and first byte in case of fixed \nlength is the address byte. If the address matches to the one in the NodeAddress  field, reception of the data continues \notherwise it\'s stopped. The CR C check is performed if CrcOn  = 1 and the result is available in CrcOk  indicating that the \nwww.semtech.com Page 76SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech CorporationCRC was successful. An interrupt ( PayloadReady ) is also generated on DIO0 as soon  as the payload is available in the \nFIFO. The payload available in the FIFO can also be read in Sleep/Standby mode. \nIf the CRC fails the PayloadReady  interrupt is not generated and the FIFO is cleared. This function can be overridden by \nsetting CrcAutoClearOff  = 1, forcing the availability of PayloadReady  interrupt and the payload in  the FIFO even if the CRC \nfails. \n4.2.13.5.  Handling Large Packets\nWhen PayloadLength  exceeds FIFO size (64 byte s) whether in fixed, variable or unlimited length packet format, in addition \nto PacketSent  in Tx and PayloadReady  or CrcOk  in Rx, the FIFO interrupts/flags can be used as described below: \n\uf077For Tx:\nFIFO can be prefilled in Slee p/Standby but must be refille d “on-the-fly” duri ng Tx with the rest of the payload.\n1) Pre-fill FIFO (in Sleep/Standby fi rst or directly in Tx mode) until FifoThreshold  or FifoFull  is set\n2) In Tx, wait for FifoThreshold  or FifoEmpty  to be set (i.e. FIFO is nearly empty)\n3) Write bytes into the FIFO until FifoThreshold  or FifoFull  is set.\n4) Continue to step 2 until the entire message has been written to the FIFO ( PacketSent  will fire when the last bit of the \npacket has been sent).\n\uf077For Rx:\nFIFO must be unfilled “o n-the-fly” during Rx to  prevent FIFO overrun.\n1) Start reading bytes from the FIFO when FifoEmpty  is cleared or FifoThreshold  becomes set.\n2) Suspend reading from the FIFO if FifoEmpty  fires before all bytes of the message have been read\n3) Continue to step 1 until PayloadReady  or CrcOk  fires\n4) Read all remaining bytes from the FIFO either in Rx or Sleep/Standby mode\n4.2.13.6.  Packet Filtering \nThe SX1276/77/78/79 packet handler offers several mechanisms fo r packet filtering, ensuring that only useful packets are \nmade available to the uC, reducing significantly sy stem power consumption an d software complexity.\nSync Word Based\nSync word filtering/recognition  is used for identifying the start of the pa yload and also for network identification. As \npreviously described, the Sync word recognit ion block is configured (size, value) in RegSyncConfig  and RegSyncValue(i) \nregisters. This information is used, both for appendi ng Sync word in Tx, and filtering packets in Rx.\nEvery received packet which does not st art with this locally config ured Sync word is automat ically discarded and no \ninterrupt is generated. \nWhen the Sync word is detected, payloa d reception automatically starts and SyncAddressMatch  is asserted.\nNote Sync Word values containing 0x00 byte(s) are forbidden\nwww.semtech.com Page 77SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation Address Based\nAddress filtering can be enabled via the AddressFiltering  bits. It adds another level of filt ering, above Sync word (i.e. Sync \nmust match first), typically useful in a multi-node networks where a network ID is shared between all nodes (Sync word) \nand each node has its own ID (address).\nTwo address based filtering options are available:\n\uf077AddressFiltering = 01 : Received address field is co mpared with internal register NodeAddress . If they match then the \npacket is accepted and processed, otherwise it is discarded.\n\uf077AddressFiltering = 10 : Received address field is compared with internal registers NodeAddress  and BroadcastAddress . \nIf either is a match, the received packet is accepted and proc essed, otherwise it is discarded. This additional check with \na constant is useful for implementing  broadcast in a multi-node networks\nPlease note that the received address byte, as part of the pa yload, is not stripped off the packet and is made available in \nthe FIFO. In addition, NodeAddress  and AddressFiltering  only apply to Rx. On Tx side, if  address filtering is expected, the \naddress byte should simply be put into the FIFO like any other byte of the payload. \nAs address filtering requires a Sync word match,  both features share th e same interrupt flag SyncAddressMatch .\nLength Based\nIn variable length Packet mode, PayloadLength  must be programmed with the maxi mum payload length permitted. If \nreceived length byte is smaller than this maximum then th e packet is accepted and processed, otherwise it is discarded.\nPlease note that the received le ngth byte, as part of the payload, is not stri pped off the packet and is made available in the \nFIFO.\nTo disable this function the user should set the value of the PayloadLength  to 2047.\nCRC Based\nThe CRC check is enabled by setting bit CrcOn  in RegPacketConfig1 . It is used for checking the integrity of the message.\n\uf077On Tx side a two byte CRC checksum is calculated on th e payload part of the packet and appended to the end of the \nmessage\n\uf077On Rx side the checksum is calculated on the received pa yload and compared with the two checksum bytes received. \nThe result of the comparison is stored in bit CrcOk.\nBy default, if the CRC check fails then the FIFO is automatically cleared and no inte rrupt is generated. This filtering functio n \ncan be disabled via CrcAutoClearOff  bit and in this case, even if CRC fa ils, the FIFO is not cleared and only PayloadReady\ninterrupt goes high. Please note that in  both cases, the two CRC checksum bytes ar e stripped off by the packet handler \nand only the payload is made av ailable in the FIFO. Two CRC implem entations are selected with bit CrcWhiteningType .\nTable 31  CRC Description\nA C code implementation of each CRC type  is proposed in Application Section 7.Crc Type CrcWhiteningType Polynomial Seed Value Complemented\nCCITT 0 (default) X16 + X12 + X5 + 1 0x1D0F Yes\nIBM 1 X16 + X15 + X2 + 1 0xFFFF No\nwww.semtech.com Page 78SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation4.2.13.7.  DC-Free Data Mechanisms\nThe payload to be transmitted may contain long sequences of 1\'s and 0\'s, which introduces a DC bias in the transmitted \nsignal. The radio signal thus produced has a non uniform power distribution over the occupied channel bandwidth. It also \nintroduces data dependencies in the normal operation of the demodu lator. Thus it is useful if the transmitted data is random \nand DC free.\nFor such purposes, two techniques are made available in th e packet handler: Manchester encoding and data whitening.\nNote Only one of the two methods can be enabled at a time.\nManchester Encoding\nManchester encoding/decoding is enabled if DcFree = 01  and can only be used in Packet mode. \nThe NRZ data is converted to Manchester code  by coding \'1\' as “10” and \'0\' as “01”. \nIn this case, the maximum chip rate is the maximum bit rate giv en in the specifications and the ac tual bit rate is half the chi p \nrate. \nManchester encoding and decoding is only applied to the payload and CRC checksum while preamble and Sync word are kept NRZ. However, the chip rate from preamble to CRC is the same and defined by BitRate  in RegBitRate  (Chip Rate = \nBit Rate NRZ = 2 x Bit Rate Manchester).\nManchester encoding/dec oding is thus made transparent for the user, who still provides/retrieves NRZ data to/from the \nFIFO.\n \nFigure 36.   Manchester Encoding/Decoding\nData Whitening\nAnother technique called whitening or scrambling is widely us ed for randomizing the user data before radio transmission. \nThe data is whitened using a random sequence on the Tx side and de-whitened on the Rx side using the same sequence. \nComparing to Manchester technique it has the advantage of ke eping NRZ data rate i.e. actual bit rate is not halved.\nThe whitening/de-whitening process is enabled if DcFree = 10 . A 9-bit LFSR is used to generate a random sequence. The \npayload and 2-byte CRC checksum is then XORed with this random sequence as shown belo w. The data is de-whitened \non the receiver side by XORing with the same random sequence. \nPayload whitening/de-white ning is thus made transparent for the user, who still provides/r etrieves NRZ data to/from the \nFIFO. ...Sync Payload... \nRF chips @ BR ... 1 1 1 0 1 0 0 1 0 0 1 0 1 1 0 1 0 ... \nUser/NRZ bits \nManchester OFF ... 1 1 1 0 1 0 0 1 0 0 1 0 1 1 0 1 0 ... \nUser/NRZ bits \nManchester ON ... 1 1 1 0 1 0 0 1 0 0 1 1 ... t1/BR  1/BR\nwww.semtech.com Page 79SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation \nFigure 37.   Data Whitening Polynomial\n4.2.13.8.  Beacon Tx Mode\nIn some short range wireless network topologies a repetitive  message, also known as beacon, is transmitted periodically \nby a transmitter. The Beacon Tx mode a llows for the re-transmission of the same packet withou t having to fill the FIFO \nmultiple times with the same data.\nWhen BeaconOn  in RegPacketConfig2 is set to 1, the FIFO can be filled only  once in Sleep or Stdby mode with the \nrequired payload. After a first transmission, FifoEmpty  will go high as usual, but the FIFO  content will be restored when the \nchip exits Transmit mode. FifoEmpty , FifoFull  and FifoLevel  flags are also restored.\nThis feature is only available in Fixed packet format, with t he Payload Length smaller than the FIFO size. The control of the \nchip modes (Tx-Sleep-Tx....) can either be undertaken by the microcontroller, or be automated in the Top Sequencer. See \nexample in Section 4.2.13.8 .\nThe Beacon Tx mode is exited by setting BeaconOn  to 0, and clearing the FIFO by setting FifoOverrun  to 1.\n4.2.14.  io-homecontrol® Compatibility Mode\nThe SX1276/77/78/79 features a io-homecontrol® compatibility mode. Please contact your local Semtech representative \nfor details on its implementation.  X7  X6  X5  X4  X3  X2  X1  X0  X8LFSR Polynomial =X9 + X5  + 1\nTransmit dataWhitened data\nwww.semtech.com Page 80SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation4.3.  SPI Interface\nThe SPI interface gives access to the configuration register  via a synchronous full-duplex protocol corresponding to \nCPOL  = 0 and CPHA = 0 in Motorola/Freescale nomenclature. Only the slave side is implemented.\nThree access modes to the registers are provided:\n\uf077SINGLE access: an address byte followed by a data byte is s ent for a write access whereas an address byte is sent and \na read byte is received for the read access. The NSS pin goes low at the beginning of the frame and goes high after the \ndata byte.\n\uf077BURST access: the address byte is followe d by several data bytes. The address is automatically incremented internally \nbetween each data byte. This mode is available for both read and write accesses. The NSS pin goes low at the \nbeginning of the frame and stay low between each byte . It goes high only afte r the last byte transfer.\n\uf077FIFO access: if the address byte corr esponds to the address of the FIFO, then succeeding data byte will address the \nFIFO. The address is not automatically incremented but is me morized and does not need to be sent between each data \nbyte. The NSS pin goes low at the beginning of the frame an d stay low between each byte. It goes high only after the \nlast byte transfer.\nThe figure below shows a typical SPI single access to a register.\nFigure 38.   SPI Timing Diagram (single access)\nMOSI is generated by th e master on the falling edge of SCK and is sample d by the slave (i.e. this SPI interface) on the \nrising edge of SCK. MISO  is generated by the slav e on the falling edge of SCK.\nA transfer is always started by the NSS pin goin g low. MISO is high impedance when NSS is high.\nThe first byte is the address byte. It is comprises:\n\uf077A wnr bit, which is 1 for write access and 0 for read access.\n\uf077Then 7 bits of address, MSB first.\nThe second byte is a data byte, either s ent on MOSI by the master in case of a write access or received by the master on \nMISO in case of read access. The data byte is transmitted MSB first.\nProceeding bytes may be sent on MOSI (for write access) or  received on MISO (for read access) without a rising NSS \nedge and re-sending the address. In FIFO mode , if the address was the FIFO address then the by tes will be written / read \nat the FIFO address. In Burst mode, if the address was not t he FIFO address, then it is automatically incremented for each \nnew byte received.\nThe frame ends when NSS goes high. The next frame must st art with an address byte. The SINGLE access mode is \ntherefore a special case of FIFO / BURST mode with only 1 data byte transferred.\nDuring the write access, the byte transferred from the slave to the master on the MISO line is the value of the written \nregister before the write operation.\n\nwww.semtech.com Page 81SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation5.  SX1276/77/78/79 Analog & RF Frontend Electronics\n5.1.  Power Supply Strategy\nThe SX1276/77/78/79 employs an internal voltage regulation sc heme which provides stable operating voltage, and hence \ndevice characteristics, over the full in dustrial temperature and operating voltage range of operation. This includes up to \n+17 dBm of RF output power whic h is maintained from 1.8  V to 3.7 V and +20 dBm from 2.4 V to 3.7 V.\nThe SX1276/77/78/79 can be powered from any low-noise vo ltage source via pins VBAT_ ANA, VBAT_RF and VBAT_DIG. \nDecoupling capacitors should be connected, as suggested in the reference design of the applications section of this \ndocument, on VR_PA, VR_DIG and VR_ANA pins to ensure  correct operation of the built-in voltage regulators.\n5.2.  Low Battery Detector\nA low battery detector is also included allowing the generation  of an interrupt signal in response to the supply voltage \ndropping below a programmable threshold that is adjustable through the register RegLowBat . The interrupt signal can be \nmapped to any of the DIO pins by programming RegDioMapping .\n5.3.  Frequency Synthesis\n5.3.1.  Crystal Oscillator\nThe crystal oscillator is the main timing reference of the SX1276/77/78 /79. It is used as the reference for the PLL’s \nfrequency synthesis and as the clock signal for all digital processing.\nThe crystal oscillator startup time, TS_OSC , depends on the electrical characterist ics of the crystal reference used, for \nmore information on the electrical specification of the crystal see section 7.1. The crystal connects to  the Pierce oscillator \non pins XTA and XTB. The SX1276/77/78/79 optimizes the st artup time and automatically triggers the PLL when the \noscillator signal is stable.\nOptionally, an external clock can be used to replace the crystal oscillator. This typi cally takes the form of a tight tolerance  \ntemperature compensated crystal oscillator (TCXO). When using an ex ternal clock so urce the bit TcxoInputOn of register\nRegTcxo  should be set to 1 and the external clock has to be provided on XTA (pin 5). XTB (pin 6) should be left open.\nThe peak-peak amplitude of the input signal must never e xceed 1.8 V. Please consult your TCXO supplier for an \nappropriate value of decoupling capacitor, CD.\nFigure 39.   TCXO ConnectionXTA XTB\n32 MHzTCXONC\nOP\nVcc\nGNDCDVcc\nwww.semtech.com Page 82SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation5.3.2.  CLKOUT Output\nThe reference frequency, or a fraction of it, can be  provided on DIO5 (pin  13) by modifying bits ClkOut  in RegDioMapping2 . \nTwo typical applications of the CLKOUT output include:\n\uf077To provide a clock output for a companion processor, thus saving the cost of an  additional oscillator. CLKOUT can be \nmade available in any operation mode except Sleep mode and is automatically enabled at power on reset.\n\uf077To provide an oscillator refer ence output. Measurement of th e CLKOUT signal enables simp le software tr imming of the \ninitial crystal tolerance.\nNote To minimize the current consumption of the SX1276/77/78/ 79, please ensure that the CLKOUT signal is disabled \nwhen not required.\n5.3.3.  PLL \nThe local oscillator of the SX1276/ 77/78/79 is derived from two al most identical fractional-N PLLs  that are referenced to the \ncrystal oscillator circuit. Both PLLs feat ure a programmable bandwidth setting where one of four discrete preset bandwidths \nmay be accessed.\nThe SX1276/77/78/79 PLL uses a 19-bit sigma-delta modulator whose frequency resolution, constant over the whole \nfrequency range, is given by:\nThe carrier frequency is programmed through RegFrf , split across addresses 0x06 to 0x08:\nNote The Frf setting is split across 3 byte s. A change in the center frequency w ill only be taken into account when the \nleast significant byte FrfLsb in RegFrf Lsb is written. This allo ws the potential for user generation of m-ary FSK at \nvery low bit rates. This is possible where frequency modulation is achieved by direct programming of the \nprogrammed RF centre frequency. To enable this func tionality set the FastHopOn bit of register RegPllHop.\nThree frequency bands are supported, defined as follows:\nTable 32 Frequency Bands\n      * For SX1279\n5.3.4.  RC Oscillator\nAll timing operations in the low-power Sleep state of the Top Level Sequencer rely on the accuracy of the internal low-\npower RC oscillator. This osc illator is automatically calibra ted at the device power-up not requir ing any user input.Name Frequency Limits Products\nBand 1 (HF) 862 (*779)-1020 (*960) MHz SX1276/77/79\nBand 2 (LF) 410-525 (*480) MHz SX1276/77/78/79\nBand 3 (LF) 137-175 (*160)MHz SX1276/77/78/79FSTEPFXOSC\n219----------------=\nFRFFSTEPFrf23 0(, ) × =\nwww.semtech.com Page 83SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation5.4.  Transmitter Description\nThe transmitter of SX1276/77/78/79 comprises the frequency synthesizer, modulator (both LoRaTM and FSK/OOK) and \npower amplifier blocks, together with the DC biasing and ramping functionality that is provided through the VR_PA block.\n5.4.1.  Architecture Description\nThe architecture of the RF front end  is shown in the following diagram:\nFigure 40.   RF Front-end Architecture Shows the Internal PA Configuration.\n5.4.2.  RF Power Amplifiers\nPA_HF and PA_LF are high efficiency amplifiers capable of yielding RF power programmable in 1 dB steps from -4 to \n+14dBm directly into a 50 ohm load with low current consum ption. PA_LF covers the lower bands (up to 525 MHz), whilst \nPA_HF will cover the upper ba nds (from 779 MHz). The ou tput power is sensitive to the po wer supply voltage, and typically \ntheir performance is expressed at 3.3V.\nPA_HP (High Power), connected to the PA_BOOST pin, covers all frequency bands that the chip addresses. It permits continuous operation at up to +17 dBm an d duty cycled operation at up to +20dBm. For full details of operation at +20dBm \nplease consult section \n5.4.3\nTable 33 Power Amplifier Mode Selection Truth Table\nNotes - For +20 dBm restrictions on oper ation please consult the following .\n- To ensure correct operation at the highest power levels ensure that the current limiter OcpTrim is adjusted to \npermit delivery of the requisite supply current.\n- If the PA_BOOST pin is not used it may be left floating.PaSelect Mode Power Range Pout Formula\n0 PA_HF or PA_LF on RFO_HF or RFO_LF -4 to +15dBm Pout=Pmax-(15-OutputPower)\nPmax=10.8+0.6*MaxPower [dBm]\n1 PA_HP on PA_BOOST, any frequency +2 to +17dBm Pout=17-(15-Out putPower) [dBm]\n\nwww.semtech.com Page 84SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation5.4.3.  High Power +20 dBm Operation\nThe SX1276/77/78/79 ha ve a high power +20 dBm capability on PA _BOOST pin, with the following settings:\nTable 34 High Power Settings\nNotes - High Power settings must be turned off when using PA_LF or PA_HF\n- The Over Current Protection limit should be adapted to the actual power level, in RegOcp\nSpecific Absolute Maximum Ratings and O perating Range restrictions apply to the +20 dBm operation. They are listed in \nTable  35 and Table  36.\nTable 35 Operating Range, +20dBm Operation\nTable 36 Operating Range, +20dBm Operation\nThe duty cycle of transmission at +20 dBm is limited to 1%, with a maximum VSWR of 3:1 at antenna port, over the \nstandard operating range [-40;+85°C]. For any other opera ting condition, contact your Semtech representative.Register AddressValue for\nHigh PowerDefault value\nPA_HF/LF or \n+17dBmDescription\nRegPaDac 0x4d 0x87 0x84 Set Pmax to +20dBm for PA_HP\nSymbol Description Min Max Unit\nDC_20dBm Duty Cycle of transmission at +20 dBm output - 1 %\nVSWR_20dBm Maximum VSWR at antenna port, +20 dBm output - 3:1 -\nSymbol Description Min Max Unit\nVDDop_20dBm Supply voltage, +20 dBm output 2.4 3.7 V\nwww.semtech.com Page 85SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation5.4.4.  Over Current Protection\nThe power amplifiers of SX1276/77/78/79 ar e protected against current over supply in adverse RF load conditions by the \nover current protection block. This has the added benefit of protecting battery chemistries with limited peak current \ncapability and minimising worst case PA co nsumption in battery life calculation. Th e current limiter value is controlled by \nthe OcpTrim  bits in RegOcp , and is calculated accord ing to the following formulae:\nTable 37 Trimming of the OCP Current\nNote   Imax sets a limit on the current drain of the Po wer Amplifier only, hence the maximum current drain of the SX1276/\n77/78/79  is equal to Imax + IDDFS .\n5.5.  Receiver Description\n5.5.1.  Overview\nThe SX1276/77/78/79 features a digital re ceiver with the analog to digital conv ersion process being performed directly \nfollowing the LNA-Mixers block. In addition to the LoRaTM modulation scheme the low-IF receiver is able to demodulate \nASK, OOK, (G)FSK and (G)M SK modulation. All filtering, de modulation, gain contro l, synchronization and packet handling \nis performed digitally allowing a high degr ee of programmable flexibility.  The receiver also has aut omatic gain calibration, \nthis improves the precision of RSSI measurement and enhances image rejection.\n5.5.2.  Receiver Enabled and Receiver Active States\nIn the receiver operating mode two states of functionality are defined. Upon initial transition to receiver operating mode the receiver is in the ‘receiver-enabled’ state. In this state the receiver awaits for either the user defined valid preamble or RS SI \ndetection criterion to be fulfilled. Once met the receiver enters  ‘receiver-active’ state. In th is second state the received \nsignal is processed by the pack et engine and top level sequencer. For a complete  description of the digital functions of the \nSX1276/77/78/79 receiver please see section \n4 of the datasheet.\n5.5.3.  Automatic Gain Control In FSK/OOK Mode\nThe AGC feature allows receiver to hand le a wide Rx input dynamic range from th e sensitivity level up to maximum input \nlevel of 0dBm or more, whilst optimizing the system linearity.\nThe following table shows typical NF and IIP3 perform ances for the SX1276/77/78/79 LNA gains available.OcpTrim IMAX Imax Formula\n0 to 15 45 to 120 mA 45 + 5* OcpTrim  [mA]\n16 to 27 130 to 240 mA -30 + 10* OcpTrim  [mA]\n27+ 240 mA 240 mA\nwww.semtech.com Page 86SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech CorporationTable 38 LNA Gain Control and Performances\n5.5.4.  RSSI in FSK/OOK Mode\nThe RSSI provides a measure of the incoming signal power at  RF input port, measured within the receiver bandwidth. The \nsignal power is available in RssiValue . This value is absolute in units of dBm an d with a resolution of 0.5 dB. The formula \nbelow relates the register value to the absolut e input signal level at the RF input port:\nThe RSSI value can be compensated to take into account the loss in the matching network or even the gain of an \nadditional LNA by using RssiOffset . The offset can be chosen in 1 dB steps from -16 to +15 dB. When compensation is \napplied, the effective signal strength is read as follows:\nThe RSSI value is smoothed on a user de fined number of measured RSSI samples.  The precision of the RSSI value is \nrelated to the number of RSSI samples used. RssiSmoothing  selects the number of RSSI samples from a minimum of 2 \nsamples up to 256 samples in increments of power of 2. Table  39 gives the estimation of the RSSI accuracy for a 10  dB \nSNR and response time versus the number of RSSI samples programmed in RssiSmoothing .\nTable 39 RssiSmoothing Options\nThe RSSI is calibrated when the image and RSSI calibration process is launched.RX input level (Pin)Gain\nSettingLnaGainRelative LNA \nGain [dB]NF\nBand 3/2/1\n[dB]IIP3\nBand 3/2/1\n[dBm]\nPin <= AgcThresh1 G1 ‘001’ 0 dB 4/5.5/7 -15/-22/-11\nAgcThresh1 < Pin <= AgcThresh2 G2 ‘010’ -6 dB 6.5/8/12 -11/-15/-6\nAgcThresh2 < Pin <= AgcThresh3 G3 ‘011’ -12 dB 11/12/17 -11/-12/0\nAgcThresh3 < Pin <= AgcThresh4 G4 ‘100’ -24 dB 20/21/27 2/3/9\nAgcThresh4 < Pin <= AgcThresh5 G5 ‘110’ -26 dB 32/33/35 10/10/14\nAgcThresh5 < Pin G6 ‘111’ -48 dB 44/45/43 11/12/14\nRssiSmoothing Number of Samples Estimated Accuracy Response Time\n‘000’ 2 ± 6 dB‘001’ 4 ± 5 dB\n‘010’ 8 ± 4 dB\n‘011’ 16 ± 3 dB\n‘100’ 32 ± 2 dB\n‘101’ 64 ± 1.5 dB\n‘110’ 128 ± 1.2 dB\n‘111’ 256 ± 1.1 dB[] [ ] dB RssiOffset dBm levelRF RssiValue + ⋅−=2\n[]2RssiValuedBm RSSI −=\n()\n[][]mskHz RxBwing RssiSmooth\n⋅+\n421\nwww.semtech.com Page 87SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation5.5.5.  RSSI and SNR in  LoRaTM Mode\nThe RSSI values reported by the LoRaTM modem differ from those expressed by the FSK/OOK modem. The following \nformula shows the method us ed to interpret the LoRaTM RSSI values:\n                                              RSSI (dBm) = -157 + Rssi, (when using the High Frequency (HF) port)\n                                        or\n                                              RSSI (dBm) = -164 + Rssi, (when using the Low Frequency (LF) port)\nThe same formula can be re-used to evaluate the signal strength of the received packet:\n                                 Packet Strength (dBm) = -157 + Rssi, (when using the High Frequency (HF) port)\n                           or\n                                 Packet Strength (dBm) = -164 + Rssi, (when using the Low Frequency (LF) port)\nDue to the nature of the LoRa modulation, it is possible to re ceive packets below the noise floor. In this situation, the SNR \nis used in conjunction of the PacketRssi to co mpute the signal strength of the received packet: \n                        Packet Strength (dBm) = -157 + PacketRssi  + PacketSnr  * 0.25 (when using the HF port and SNR < 0)\n                  or\n                        Packet Strength (dBm) = -164 + PacketRssi  + PacketSnr  * 0.25 (when using the LF port and SNR < 0)\nNote:\n1.         PacketRssi  (in RegPktRssiValue), is an averaged version of Rssi (in RegRssiValue). Rssi can be read at any time \n(during packet reception or not), and should be averaged to give more precise results.\n2.         The constants, -157 and -164, may vary with the front-end setup of the SX1276/77/78/79 ( LnaBoost  =1 or 0, \npresence of an external LNA, mismatch at the LNA input…). It  is recommended to adjust these values with a single-point \ncalibration procedure to increase RSSI accuracy.\n3.          As signal strength in creases (RSSI>-100dBm), the linearity of PacketR ssi is not guaranteed and results will diverge  \nfrom the ideal 1dB/dB ideal curve. When very good RSSI pr ecision is required over t he whole dynamic range of the \nreceiver, two options are proposed:\n                 - Rssi in RegRssiValue offers better linearity. Rssi can be sampled during the reception of the payload (between \nValidHeader and RxDone IRQ), and used to extract a more high-signal RSSI measurement\n                - When SNR>=0, the standard formula can be adjusted to correct the slope:\nRSSI = -157+16/15 * PacketRssi (or RSSI = -164+16/15 * PacketRssi)\nwww.semtech.com Page 88SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation5.5.6.  Channel Filter\nThe role of the channel filter is to reject noise and inte rference outside of the wanted  channel. The SX1276/77/78/79 \nchannel filtering is implemented with a 16-tap finite impulse re sponse (FIR) filter. Rejection of  the filter is high enough tha t \nthe filter stop-band performance is not the dominant influence on adjacent channel rejection performance . This is instead \nlimited by the SX127 6/77/78/79 local osc illator phase noise.\nNote To respect sampling criterion in the decimation chain of the receiver, the communication bit rate cannot be set at a \nhigher than twice the single side receiver bandwidth (BitRate < 2 x RxBw)\nThe single-side channel filter bandwidth RxBw  is controlled by the parameters RxBwMant and RxBwExp  in RegRxBw:\nThe following channel filter  bandwidths are hence acce ssible in the case of a 32 MHz reference oscillator:\nTable 40 Available RxBw Settings\nRxBwMant\n(binary/value)RxBwExp\n(decimal)RxBw (kHz)\nFSK/OOK\n10b / 24 7 2.6\n01b / 20 7 3.1\n00b / 16 7 3.910b / 24 6 5.2\n01b / 20 6 6.3\n00b / 16 6 7.810b / 24 5 10.401b / 20 5 12.5\n00b / 16 5 15.6\n10b / 24 4 20.801b / 20 4 25.0\n00b / 16 4 31.3\n10b / 24 3 41.701b / 20 3 50.0\n00b / 16 3 62.5\n10b / 24 2 83.301b / 20 2 100.0\n00b / 16 2 125.0\n10b / 24 1 166.701b / 20 1 200.0\n00b / 16 1 250.0\nOther settings reservedRxBwFXOSC\nRxBwMant 2RxBwExp 2+×----------------------------------------------------------------- - =\nwww.semtech.com Page 89SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation5.5.7.  Temperature Measurement\nA stand alone temperature measurement block is used in orde r to measure the temperature in any mode except Sleep and \nStandby. It is enabled by defau lt, and can be stopped by setting TempMonitorOff  to 1. The result of the measurement is \nstored in TempValue  in RegTemp .\nDue to process variations, the absolute accuracy of the result is  +/- 10 °C. Higher precision requires a calibration procedure \nat a known temperature. The figure below shows the influence of just such a calibration process. For more information, including source code, please consult the applications section of this document.\nFigure 41.   Temperature Sensor Response\nWhen using the temperature sensor in the application, the following sequence should be followed:\n\uf077Set the device to Standby an d wait for oscillator startup\n\uf077Set the device to FSRx mode\n\uf077Set TempMonitorOff  = 0 (enables the sensor). It is not re quired to wait for the PLL Lock indication\n\uf077Wait for 140 microseconds\n\uf077Set TempMonitorOff  = 1\n\uf077Set device back to Sleep of Standby mode\n\uf077Access temperature value in RegTemp\n\nwww.semtech.com Page 90SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation6.  Description of the Registers\nThe register mapping depends upon whether FSK/OOK or LoRaTM mode has been selected. The following table \nsummarises the location and function of each register and gi ves an overview of the changes in register mapping between \nboth modes of operation.\n6.1.  Register Table Summary\nTable 41 Registers Summary\nAddressRegister NameReset\n(POR)Default\n(FSK)Description\nFSK/OOK Mode LoRaTM Mode FSK Mode LoRaTM Mode\n0x00 RegFifo 0x00 FIFO read/write access\n0x01 RegOpMode 0x01 Operating mode & LoRaTM / FSK selection\n0x02 RegBitrateMsb\nUnused0x1A Bit Rate setting, Most Significant Bits\n0x03 RegBitrateLsb 0x0B Bit Rate setting, Least Significant Bits\n0x04 RegFdevMsb 0x00 Frequency Deviation setting, Most Significant Bits\n0x05 RegFdevLsb 0x52 Frequency Deviation setting, Least Significant Bits\n0x06 RegFrfMsb 0x6C RF Carrier Frequency, Most Significant Bits\n0x07 RegFrfMid 0x80 RF Carrier Frequency, Intermediate Bits\n0x08 RegFrfLsb 0x00 RF Carrier Frequency, Least Significant Bits\n0x09 RegPaConfig 0x4F PA selection and Output Power control\n0x0A RegPaRamp 0x09 Control of PA ramp time, low phase noise PLL\n0x0B RegOcp 0x2B Over Current Protection control\n0x0C RegLna 0x20 LNA settings\n0x0D RegRxConfig RegFifoAddrPtr 0x08 0x0E AFC, AGC, ctrl FIFO SPI pointer\n0x0E RegRssiConfigRegFifoTxBa -\nseAddr0x02 RSSI Start Tx data\n0x0F RegRssiCollisionRegFifoRxBa -\nseAddr0x0A RSSI Collision detector Start Rx data\n0x10 RegRssiThreshFifoRxCurren -\ntAddr0xFF RSSI Threshold controlStart address of last packet received\n0x11 RegRssiValue RegIrqFlagsMask n/a n/a RSSI value in dBm Optional IRQ flag mask\n0x12 RegRxBw RegIrqFlags 0x15 Channel Filter BW Control IRQ flags\n0x13 RegAfcBw RegRxNbBytes 0x0B AFC Channel Filter BW Number of received bytes\n0x14 RegOokPeakRegRxHeaderCnt\nValueMsb0x28 OOK demodulatorNumber of valid headers \nreceived0x15 RegOokFixRegRxHeaderCnt\nValueLsb0x0C Threshold of the OOK demod\n0x16 RegOokAvgRegRxPacketCnt\nValueMsb0x12 Average of the OOK demod\nNumber of valid packets \nreceived\n0x17 Reserved17RegRxPacketCnt\nValueLsb0x47 -\n0x18 Reserved18 RegModemStat 0x32 -Live LoRa TM modem \nstatus\n0x19 Reserved19 RegPktSnrValue 0x3E -Espimation of last packet\nSNR\n0x1A RegAfcFei RegPktRssiValue 0x00 AFC and FEI control RSSI of last packet\nwww.semtech.com Page 91SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation0x1B RegAfcMsb RegRssiValue 0x00 n/a Frequency correction value of the AFC Current RSSI\n0x1C RegAfcLsb RegHopChannel 0x00 n/a FHSS start channel\n0x1D RegFeiMsb RegModemConfig\n10x00 n/a\nValue of the calculated\nfrequency errorModem PHY config 1\n0x1E RegFeiLsb RegModemConfig\n20x00 n/aModem PHY config 2\n0x1F RegPreambleDe -\ntectRegSymbTimeout\nLsb0x40 0xAA Settings of the Preamble \nDetectorReceiver timeout value\n0x20 RegRxTimeout1 RegPreambleMsb 0x00 Timeout Rx request and RSSI\nSize of preamble 0x21 RegRxTimeout2 RegPreambleLsb 0x00 Timeout RSSI and Pay-\nloadReady\n0x22 RegRxTimeout3 RegPay -\nloadLength0x00 Timeout RSSI and SyncAd -\ndressLoRa TM payload length\n0x23 RegRxDelay RegMaxPayloadL\nength0x00Delay between Rx cyclesLoRaTM maximum pay -\nload length\n0x24 RegOsc RegHopPeriod 0x05 0x07 RC Oscillators Settings, CLK -\nOUT frequencyFHSS Hop period\n0x25 RegPreambleMsb RegFifoRxByteAd\ndr0x00Preamble length, MSB Address of last byte\nwritten in FIFO\n0x26 RegPreambleLsb RegModemCon -\nfig30x03Preamble length, LSB Modem PHY config 3\n0x27 RegSyncConfig RESERVED 0x93 Sync Word Recognition control RESERVED\n0x28 RegSyncValue1 RegFeiMsb 0x55 0x01 Sync Word bytes 1\nEstimated frequency \nerror0x29 RegSyncValue2 RegFeiMid 0x55 0x01 Sync Word bytes 2\n0x2A RegSyncValue3 RegFeiLsb 0x55 0x01 Sync Word bytes 3\n0x2B RegSyncValue4 RESERVED 0x55 0x01 Sync Word bytes 4 RESERVED\n0x2C RegSyncValue5 RegRssiWide -\nband0x55 0x01Sync Word bytes 5Wideband RSSI meas -\nurement\n0x2D-\n0x2FRegSyncValue6-8 RESERVED 0x55 0x01 Sync Word bytes, 6 to 8\nRESERVED\n0x30 RegPacketConfig1 RESERVED 0x90 Packet mode settings\n0x31 RegPacketConfig2 RegDetectOpti -\nmize0x40Packet mode settingsLoRa detection Optimize for SF6\n0x32 RegPayloadLength RESERVED 0x40 Payload length setting RESERVED\n0x33 RegNodeAdrs RegInvertIQ 0x00Node addressInvert LoRa I and Q signals\n0x34 RegBroadcastAdrs\nRESERVED0x00 Broadcast address\nRESERVED0x35 RegFifoThresh 0x0F 0x1F Fifo threshold, Tx start condi -\ntion\n0x36 RegSeqConfig1 0x00 Top level Sequencer settings\n0x37 RegSeqConfig2 RegDetection -\nThreshold0x00Top level Sequencer settingsLoRa detection threshold\nfor SF6\n0x38 RegTimerResol RESERVED 0x00 Timer 1 and 2 resolution control RESERVED\n0x39 RegTimer1Coef RegSyncWord 0xF5 0x12 Timer 1 setting LoRa Sync WordAddressRegister NameReset\n(POR)Default\n(FSK)Description\nFSK/OOK Mode LoRaTM Mode FSK Mode LoRaTM Mode\nwww.semtech.com Page 92SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech CorporationNote - Reset values are auto matically refreshed in the chip at Power On Reset\n- Default values are the Semtech recommended regi ster values, optimizing the device operation\n- Registers for which the Default value differs from the Rese t value are denoted by a * in the tables of section 6.20x3A RegTimer2Coef\nRESERVED0x20 Timer 2 setting\nRESERVED0x3B RegImageCal 0x82 0x02 Image calibration engine con -\ntrol\n0x3C RegTemp - Temperature Sensor value\n0x3D RegLowBat 0x02 Low Battery Indicator Settings\n0x3E RegIrqFlags1 0x80 Status register: PLL Lock state, \nTimeout, RSSI\n0x3F RegIrqFlags2 0x40 Status register: FIFO handling flags, Low Battery \n0x40 RegDioMapping1 0x00 Mapping of pins DIO0 to DIO3\n0x41 RegDioMapping2 0x00 Mapping of pins DIO4 and DIO5, ClkOut frequency\n0x42 RegVersion 0x12 Semtech ID relating the silicon revision\n0x44RegPllHop Unused0x2D Control the fast frequency hop -\nping modeUnused\n0x4B RegTcxo 0x09 TCXO or XTAL input setting\n0x4D RegPaDac 0x84 Higher power settings of the PA\n0x5B RegFormerTemp - Stored temperature during the former IQ Calibration\n0x5DRegBitRateFrac Unused 0x00Fractional part in the Bit Rate division ratioUnused\n0x61 RegAgcRef 0x13\nAdjustment of the AGC thresholds0x62 RegAgcThresh1 0x0E\n0x63 RegAgcThresh2 0x5B\n0x64 RegAgcThresh3 0xDB\n0x70 RegPll 0xD0 Control of the PLL bandwidth\nothers RegTest - Internal test registers. Do not overwriteAddressRegister NameReset\n(POR)Default\n(FSK)Description\nFSK/OOK Mode LoRaTM Mode FSK Mode LoRaTM Mode\nwww.semtech.com Page 93SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation6.2.  FSK/OOK Mode Register Map\nThis section details the SX1276/77/78/79 register mapping and the precise contents of each register in FSK/OOK mode. \nConvention: r: read, w: write, t:trigger, c: clear\nTable 42 Register Map\nName\n(Address)Bits Variable Name ModeDefault \nvalueFSK/OOK Description\nRegFifo\n(0x00)7-0 Fifo rw 0x00 FIFO data input/output\nRegisters for Common settings\nRegOpMode\n(0x01)7 LongRangeMode r 0x000 \uf0e0 FSK/OOK Mode\n1\uf0e0 LoRaTM Mode\nThis bit can be modified only in Sleep mode. A write operation on \nother device modes is ignored.\n6-5 ModulationType rw 0x00Modulation scheme:\n00 \uf0e0 FSK\n01 \uf0e0 OOK\n10 \uf0e0 11 \uf0e0 reserved\n4 reserved r 0x0 reserved\n3 LowFrequencyModeOn rw 0x01Access Low Frequency Mode registers (from address 0x61 on)\n0 \uf0e0 High Frequency Mode (access to HF test registers)\n1 \uf0e0 Low Frequency Mode (access to LF test registers)\n2-0 Mode rw 0x01Transceiver modes\n000 \uf0e0 Sleep mode\n001 \uf0e0 Stdby mode\n010 \uf0e0 FS mode TX (FSTx)\n011 \uf0e0 Transmitter mode (Tx)\n100 \uf0e0 FS mode RX (FSRx)\n101 \uf0e0 Receiver mode (Rx)\n110 \uf0e0 reserved\n111 \uf0e0 reserved\nRegBitrateMsb\n(0x02)7-0 BitRate(15:8) rw 0x1a MSB of Bit Rate (chip rate if Manchester encoding is enabled)\nRegBitrateLsb\n(0x03)7-0 BitRate(7:0) rw 0x0bLSB of bit rate (chip rate if Manchester encoding is enabled)\nDefault value: 4.8 kb/s\nRegFdevMsb\n(0x04)7-6 reserved rw 0x00 reserved\n5-0 Fdev(13:8) rw 0x00 MSB of the frequency deviation\nRegFdevLsb\n(0x05)7-0 Fdev(7:0) rw 0x52LSB of the frequency deviation\nDefault value: 5 kHzBitRateFXOSC\nBitRate 15 0(, )BitrateFrac\n16-------------------------------+-------------------------------------------------------------------------=\nFdev Fstep Fdev 15 0(, ) × =\nwww.semtech.com Page 94SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech CorporationRegFrfMsb\n(0x06)7-0 Frf(23:16) rw 0x6c MSB of the RF carrier frequency\nRegFrfMid\n(0x07)7-0 Frf(15:8) rw 0x80 MSB of the RF carrier frequency\nRegFrfLsb\n(0x08)7-0 Frf(7:0) rw 0x00LSB of RF carrier frequency\nDefault value: 434.000 MHz\nThe RF frequency is taken into account internally only when:\n- entering FSRX/FSTX modes- re-starting the receiver\nRegisters for the Transmitter\nRegPaConfig\n(0x09)7 PaSelect rw 0x00Selects PA output pin\n0 \uf0e0 RFO pin. Maximum power of +14 dBm\n1 \uf0e0 PA_BOOST pin. Maximum power of +20 dBm\n6-4 MaxPower rw 0x04 Select max output power: Pmax=10.8+0.6*MaxPower [dBm]\n3-0 OutputPower rw 0x0fPout=Pmax-(15-OutputPower) if  PaSelect = 0 (RFO pins)\nPout=17-(15-OutputPower)      if PaSelect = 1 (PA_BOOST pin)\nRegPaRamp\n(0x0A)7 unused r 0x00 unused\n6-5 ModulationShaping rw 0x00Data shaping:\nIn FSK:\n00 \uf0e0 no shaping\n01 \uf0e0 Gaussian filter BT = 1.0\n10 \uf0e0 Gaussian filter BT = 0.5\n11 \uf0e0 Gaussian filter BT = 0.3\nIn OOK:\n00 \uf0e0 no shaping\n01 \uf0e0 filtering with f cutoff = bit_rate\n10 \uf0e0 filtering with f cutoff = 2*bit_rate (for bit_rate < 125 kb/s)\n11 \uf0e0 reserved\n4 reserved rw 0x00 reserved\n3-0 PaRamp rw 0x09Rise/Fall time of ramp up/down in FSK\n0000 \uf0e0 3.4 ms\n0001 \uf0e0 2 ms\n0010 \uf0e0 1 ms\n0011 \uf0e0 500 us\n0100 \uf0e0 250 us\n0101 \uf0e0 125 us\n0110 \uf0e0 100 us\n0111 \uf0e0 62 us\n1000 \uf0e0 50 us\n1001 \uf0e0 40 us (d)\n1010 \uf0e0 31 us\n1011 \uf0e0 25 us\n1100 \uf0e0 20 us\n1101 \uf0e0 15 us\n1110 \uf0e0 12 us\n1111 \uf0e0 10 usName\n(Address)Bits Variable Name ModeDefault \nvalueFSK/OOK Description\nFrf Fstep Frf 23 0;() × =\nwww.semtech.com Page 95SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech CorporationRegOcp\n(0x0B)7-6 unused r 0x00 unused\n5 OcpOn rw 0x01Enables overload current protection (OCP) for the PA:\n0 \uf0e0 OCP disabled\n1 \uf0e0 OCP enabled\n4-0 OcpTrim rw 0x0bTrimming of OCP current:\nImax = 45+5*OcpTrim [mA] if OcpTrim <= 15 (120 mA) /\nImax = -30+10*OcpTrim [mA] if 15 < OcpTrim <= 27 (130 to 240 \nmA)\nImax = 240mA for higher settings\nDefault Imax = 100mA\nRegisters for the Receiver\nRegLna\n(0x0C)7-5 LnaGain rw 0x01LNA gain setting:\n000 \uf0e0 reserved\n001 \uf0e0 G1 = highest gain\n010 \uf0e0 G2 = highest gain – 6 dB\n011 \uf0e0 G3 = highest gain – 12 dB\n100 \uf0e0 G4 = highest gain – 24 dB\n101 \uf0e0 G5 = highest gain – 36 dB\n110 \uf0e0 G6 = highest gain – 48 dB\n111 \uf0e0 reserved\nNote:\nReading this address always returns the current LNA gain (which \nmay be different from what had been previously selected if AGC \nis enabled.\n4-3 LnaBoostLf rw 0x00Low Frequency (RFI_LF) LNA current adjustment\n00 \uf0e0 Default LNA current\nOther \uf0e0 Reserved\n2 reserved rw 0x00 reserved\n1-0 LnaBoostHf rw 0x00High Frequency (RFI_HF) LNA current adjustment\n00 \uf0e0 Default LNA current\n11 \uf0e0 Boost on, 150% LNA currentName\n(Address)Bits Variable Name ModeDefault \nvalueFSK/OOK Description\nwww.semtech.com Page 96SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech CorporationRegRxConfig\n(0x0d)7 RestartRxOnCollision rw 0x00Turns on the mechanism restarting the receiver automatically if it \ngets saturated or a packet collision is detected\n0 \uf0e0 No automatic Restart\n1 \uf0e0 Automatic restart On\n6 RestartRxWithoutPllLock wt 0x00Triggers a manual Restart of the Receiver chain when set to 1.\nUse this bit when there is no frequency change, \nRestartRxWithPllLock otherwise.\n5 RestartRxWithPllLock wt 0x00Triggers a manual Restart of the Receiver chain when set to 1.\nUse this bit when there is a frequency change, requiring some \ntime for the PLL to re-lock.\n4 AfcAutoOn rw 0x000 \uf0e0 No AFC performed at receiver startup\n1 \uf0e0 AFC is performed at each receiver startup\n3 AgcAutoOn rw 0x010 \uf0e0 LNA gain forced by the LnaGain Setting\n1 \uf0e0 LNA gain is controlled by the AGC\n2-0 RxTrigger rw0x06\n*Selects the event triggering AGC and/or AFC at receiver startup. \nSee Table 24 for a description.\n      RegRssiConfig\n(0x0e)7-3 RssiOffset rw 0x00Signed RSSI offset, to compensate for the possible losses/gains \nin the front-end (LNA, SAW filter...)\n1dB / LSB, 2’s complement format\n2-0 RssiSmoothing rw 0x02Defines the number of samples taken to average the RSSI result:\n000 \uf0e0 2 samples used\n001 \uf0e0 4 samples used\n010 \uf0e0 8 samples used\n011 \uf0e0 16 samples used\n100 \uf0e0 32 samples used\n101 \uf0e0 64 samples used\n110 \uf0e0 128 samples used\n111 \uf0e0 256 samples used\nRegRssiCollision\n(0x0f)7-0 RssiCollisionThreshold rw 0x0aSets the threshold used to consider that an interferer is detected, \nwitnessing a packet collision. 1dB/LSB (only RSSI increase)\nDefault: 10dB\nRegRssiThresh\n(0x10)7-0 RssiThreshold rw 0xffRSSI trigger level for the Rssi interrupt:\n- RssiThreshold / 2 [dBm]\nRegRssiValue\n(0x11)7-0 RssiValue r -Absolute value of the RSSI in dBm, 0.5dB steps.\nRSSI = - RssiValue/2 [dBm]\nRegRxBw\n(0x12)7 unused r - unused\n6-5 reserved rw 0x00 reserved\n4-3 RxBwMant rw 0x02Channel filter bandwidth control:\n00 \uf0e0 RxBwMant = 16             10 \uf0e0 RxBwMant = 24\n01 \uf0e0 RxBwMant = 20             11 \uf0e0 reserved\n2-0 RxBwExp rw 0x05 Channel filter bandwidth control\nRegAfcBw\n(0x13)7-5 reserved rw 0x00 reserved\n4-3 RxBwMantAfc rw 0x01 RxBwMant parameter used during the AFC\n2-0 RxBwExpAfc rw 0x03 RxBwExp parameter used during the AFCName\n(Address)Bits Variable Name ModeDefault \nvalueFSK/OOK Description\nwww.semtech.com Page 97SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech CorporationRegOokPeak\n(0x14)7-6 reserved rw 0x00 reserved\n5 BitSyncOn rw 0x01Enables the Bit Synchronizer.\n0 \uf0e0 Bit Sync disabled (not possible in Packet mode)\n1 \uf0e0 Bit Sync enabled\n4-3 OokThreshType rw 0x01Selects the type of threshold in the OOK data slicer:\n00 \uf0e0 fixed threshold                10 \uf0e0 average mode\n01 \uf0e0 peak mode (default)        11 \uf0e0 reserved\n2-0 OokPeakTheshStep rw 0x00Size of each decrement of the RSSI threshold in the OOK demodulator:\n000 \uf0e0 0.5 dB            001 \uf0e0 1.0 dB\n010 \uf0e0 1.5 dB            011 \uf0e0 2.0 dB\n100 \uf0e0 3.0 dB            101 \uf0e0 4.0 dB\n110 \uf0e0 5.0 dB           111  \uf0e0 6.0 dB\nRegOokFix\n(0x15)7-0 OokFixedThreshold rw 0x0CFixed threshold for the Data Slicer in OOK mode\nFloor threshold for the Data Slicer in OOK when Peak mode is used\nRegOokAvg\n(0x16)7-5 OokPeakThreshDec rw 0x00Period of decrement of the RSSI threshold in the OOK \ndemodulator:\n000 \uf0e0 once per chip              001 \uf0e0 once every 2 chips\n010 \uf0e0 once every 4 chips      011 \uf0e0 once every 8 chips\n100 \uf0e0 twice in each chip       101 \uf0e0 4 times in each chip\n110 \uf0e0 8 times in each chip    111 \uf0e0 16 times in each chip\n4 reserved rw 0x01 reserved\n3-2 OokAverageOffset rw 0x00Static offset added to the threshold in average mode in order to \nreduce glitching activity (OOK only):\n00 \uf0e0 0.0 dB                          10 \uf0e0 4.0 dB\n01 \uf0e0 2.0 dB                          11 \uf0e0 6.0 dB\n1-0 OokAverageThreshFilt rw 0x02Filter coefficients in average mode of the OOK demodulator:\n00 \uf0e0 fC ≈ chip rate / 32. π       01  \uf0e0 fC ≈ chip rate / 8. π\n10 \uf0e0 fC ≈ chip rate / 4. π         11 \uf0e0fC ≈ chip rate / 2. π\nRegRes17\nto\nRegRes197-0 reserved rw0x47\n0x32\n0x3Ereserved. Keep the Reset values.\nRegAfcFei\n(0x1a)7-5 unused r - unused\n4 AgcStart wt 0x00 Triggers an AGC sequence when set to 1. \n3 reserved rw 0x00 reserved\n2 unused - - unused\n1 AfcClear wc 0x00 Clear AFC register set in Rx mode. Always reads 0.\n0 AfcAutoClearOn rw 0x00Only valid if AfcAutoOn is set\n0 \uf0e0 AFC register is not cleared at the beginning of the automatic \nAFC phase\n1 \uf0e0 AFC register is cleared at the beginning of the automatic \nAFC phaseName\n(Address)Bits Variable Name ModeDefault \nvalueFSK/OOK Description\nwww.semtech.com Page 98SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech CorporationRegAfcMsb\n(0x1b)7-0 AfcValue(15:8) rw 0x00MSB of the AfcValue, 2’s complement format. Can be used to \noverwrite the current AFC value\nRegAfcLsb\n(0x1c)7-0 AfcValue(7:0) rw 0x00LSB of the AfcValue, 2’s complement format. Can be used to \noverwrite the current AFC value\nRegFeiMsb\n(0x1d)7-0 FeiValue(15:8) rw -MSB of the measured frequency offset, 2’s complement. Must be \nread before RegFeiLsb.\nRegFeiLsb\n(0x1e)7-0 FeiValue(7:0) rw -LSB of the measured frequency offset, 2’s complement\nFrequency error =  FeiValue x Fstep\nRegPreambleDetect\n (0x1f)7 PreambleDetectorOn rw0x01\n*Enables Preamble detector when set to 1. The AGC settings \nsupersede this bit during the startup / AGC phase.\n0 \uf0e0 Turned off\n1 \uf0e0 Turned on\n6-5 PreambleDetectorSize rw0x01\n*Number of Preamble bytes to detect to trigger an interrupt\n00 \uf0e0 1 byte                             10 \uf0e0 3 bytes\n01 \uf0e0 2 bytes                            11 \uf0e0 Reserved\n4-0 PreambleDetectorTol rw0x0A\n*Number or chip errors tolerated over PreambleDetectorSize. \n4 chips per bit.\nRegRxTimeout1\n(0x20)7-0 TimeoutRxRssi rw 0x00Timeout  interrupt is generated TimeoutRxRssi *16*Tbit after \nswitching to Rx mode if Rssi interrupt doesn’t occur (i.e. \nRssiValue > RssiThreshold)\n0x00: TimeoutRxRssi  is disabled\nRegRxTimeout2\n(0x21)7-0 TimeoutRxPreamble rw 0x00Timeout  interrupt is generated TimeoutRxPreamble *16*Tbit after \nswitching to Rx mode if Preamble  interrupt doesn’t occur\n0x00: TimeoutRxPreamble  is disabled\nRegRxTimeout3\n(0x22)7-0 TimeoutSignalSync rw 0x00Timeout  interrupt is generated TimeoutSignalSync *16*Tbit after \nthe Rx mode is programmed, if SyncAddress  doesn’t occur\n0x00: TimeoutSignalSync  is disabled\nRegRxDelay\n(0x23)7-0 InterPacketRxDelay rw 0x00Additional delay before an automatic receiver restart is launched:\nDelay = InterPacke tRxDelay*4*Tbit\nRC Oscillator registers\nRegOsc\n(0x24)7-4 unused r - unused\n3 RcCalStart wt 0x00Triggers the calibration of the RC oscillator when set. Always \nreads 0. RC calibration must be triggered in Standby mode.\n2-0 ClkOut rw0x07\n*Selects CLKOUT frequency:\n000 \uf0e0 FXOSC\n001 \uf0e0 FXOSC / 2\n010 \uf0e0 FXOSC / 4\n011 \uf0e0 FXOSC / 8\n100 \uf0e0 FXOSC / 16\n101 \uf0e0 FXOSC / 32\n110 \uf0e0 RC (automatically enabled)\n111 \uf0e0 OFF\nPacket Handling registersName\n(Address)Bits Variable Name ModeDefault \nvalueFSK/OOK Description\nwww.semtech.com Page 99SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech CorporationRegPreambleMsb\n(0x25)7-0 PreambleSize(15:8) rw 0x00Size of the preamble to be sent (from TxStartCondition  fulfilled). \n(MSB byte)\nRegPreambleLsb\n(0x26)7-0 PreambleSize(7:0) rw 0x03Size of the preamble to be sent (from TxStartCondition  fulfilled). \n(LSB byte)\nRegSyncConfig\n(0x27)7-6 AutoRestartRxMode rw 0x02Controls the automatic restart of the receiver after the reception of \na valid packet (PayloadReady or CrcOk):\n00 \uf0e0 Off\n01 \uf0e0 On, without waiting for the PLL to re-lock\n10 \uf0e0 On, wait for the PLL to lock (frequency changed)\n11 \uf0e0 reserved\n5 PreamblePolarity rw 0x00Sets the polarity of the Preamble\n0 \uf0e0 0xAA (default)\n1 \uf0e0 0x55\n 4 SyncOn rw 0x01Enables the Sync word generation and detection:\n0 \uf0e0 Off\n1 \uf0e0 On\n3 reserved rw 0x00 reserved\n2-0 SyncSize rw 0x03Size of the Sync word:\n(SyncSize  + 1) bytes, ( SyncSize ) bytes if ioHomeOn =1\nRegSyncValue1\n(0x28)7-0 SyncValue(63:56) rw0x01\n*1st byte of Sync word. (MSB byte)\nUsed if SyncOn  is set.\nRegSyncValue2\n(0x29)7-0 SyncValue(55:48) rw0x01\n*2nd byte of Sync word\nUsed if SyncOn  is set and (SyncSize +1) >= 2.\nRegSyncValue3\n(0x2a)7-0 SyncValue(47:40) rw0x01\n*3rd byte of Sync word. \nUsed if SyncOn  is set and (SyncSize +1) >= 3.\nRegSyncValue4\n(0x2b)7-0 SyncValue(39:32) rw0x01\n*4th byte of Sync word. \nUsed if SyncOn  is set and (SyncSize +1) >= 4.\nRegSyncValue5\n(0x2c)7-0 SyncValue(31:24) rw0x01\n*5th byte of Sync word.\nUsed if SyncOn  is set and (SyncSize +1) >= 5.\nRegSyncValue6\n(0x2d)7-0 SyncValue(23:16) rw0x01\n*6th byte of Sync word. \nUsed if SyncOn  is set and (SyncSize +1) >= 6.\nRegSyncValue7\n(0x2e)7-0 SyncValue(15:8) rw0x01\n*7th byte of Sync word. \nUsed if SyncOn  is set and (SyncSize +1) >= 7.\nRegSyncValue8\n(0x2f)7-0 SyncValue(7:0) rw0x01\n*8th byte of Sync word. \nUsed if SyncOn  is set and (SyncSize +1) = 8.Name\n(Address)Bits Variable Name ModeDefault \nvalueFSK/OOK Description\nwww.semtech.com Page 100SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech CorporationRegPacketConfig1\n(0x30)7 PacketFormat rw 0x01Defines the packet format used:\n0 \uf0e0 Fixed length\n1 \uf0e0 Variable length\n6-5 DcFree rw 0x00Defines DC-free encoding/decoding performed:\n00 \uf0e0 None (Off)\n01 \uf0e0 Manchester\n10 \uf0e0 Whitening\n11 \uf0e0 reserved\n4 CrcOn rw 0x01Enables CRC calculation/check (Tx/Rx):\n0 \uf0e0 Off \n1 \uf0e0 On\n3 CrcAutoClearOff rw 0x00Defines the behavior of the packet handler when CRC check fails:\n0 \uf0e0 Clear FIFO and restart new packet reception. No \nPayloadReady  interrupt issued.\n1 \uf0e0 Do not clear FIFO. PayloadReady  interrupt issued.\n2-1 AddressFiltering rw 0x00Defines address based filtering in Rx:\n00 \uf0e0 None (Off)\n01 \uf0e0 Address field must match NodeAddress\n10 \uf0e0 Address field must match NodeAddress  or \nBroadcastAddress\n11 \uf0e0 reserved\n0 CrcWhiteningType rw 0x00Selects the CRC and whitening algorithms:\n0 \uf0e0 CCITT CRC implementation with standard whitening\n1 \uf0e0 IBM CRC implementation with alternate whitening\nRegPacketConfig2\n(0x31)7 unused r - unused\n6 DataMode rw 0x01Data processing mode:\n0 \uf0e0 Continuous mode\n1 \uf0e0 Packet mode\n5 IoHomeOn rw 0x00Enables the io-homecontrol® compatibility mode\n0 \uf0e0 Disabled\n1 \uf0e0 Enabled\n4 IoHomePowerFrame rw 0x00 reserved - Linked to io-homecontrol® compatibility mode\n3 BeaconOn rw 0x00 Enables the Beacon mode in Fixed packet format\n2-0 PayloadLength(10:8) rw 0x00 Packet Length Most significant bits\nRegPayloadLength\n(0x32)7-0 PayloadLength(7:0) rw 0x40If PacketFormat = 0 (fixed), payload length.\nIf PacketFormat = 1 (variable), max length in Rx, not used in Tx.\nRegNodeAdrs\n(0x33)7-0 NodeAddress rw 0x00Node address used in address filtering.\nRegBroadcastAdrs\n(0x34)7-0 BroadcastAddress rw 0x00 Broadcast address used in address filtering.Name\n(Address)Bits Variable Name ModeDefault \nvalueFSK/OOK Description\nwww.semtech.com Page 101SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech CorporationRegFifoThresh\n(0x35)7 TxStartCondition rw0x01\n*Defines the condition to start packet transmission:\n0 \uf0e0 FifoLevel (i.e. the number of bytes in the FIFO exceeds \nFifoThreshold)\n1 \uf0e0 FifoEmpty goes low (i.e. at least one byte in the FIFO)\n6 unused r - unused\n5-0 FifoThreshold rw 0x0fUsed to trigger FifoLevel  interrupt, when:\nnumber of bytes in FIFO >= FifoThreshold + 1\nSequencer registers\nRegSeqConfig1\n(0x36)7 SequencerStart wt 0x00Controls the top level Sequencer\nWhen set to ‘1’, executes the “Start” transition.\nThe sequencer can only be enabled when the chip is in Sleep or \nStandby mode.\n6 SequencerStop wt 0x00Forces the Sequencer Off.\nAlways reads ‘0’\n5 IdleMode rw 0x00Selects chip mode during the state:\n0: Standby mode\n1: Sleep mode\n4-3 FromStart rw 0x00Controls the Sequencer transition when SequencerStart  is set to 1 \nin Sleep or Standby mode:00: to LowPowerSelection \n01: to Receive state \n10: to Transmit state\n11: to Transmit state on a \nFifoLevel  interrupt\n2 LowPowerSelection rw 0x00Selects the Sequencer LowPower state after a to \nLowPowerSelection  transition:\n0: SequencerOff  state  with chip on Initial mode\n1: Idle  state with chip on Standby  or Sleep  mode depending on \nIdleMode\nNote:    Initial mode is the chip LowPower mode at \nSequencer Start.\n1 FromIdle rw 0x00Controls the Sequencer transition from the Idle state on a T1 \ninterrupt:0: to Transmit state\n \n1: to Receive state\n0 FromTransmit rw 0x00Controls the Sequencer transition from the Transmit state:\n0: to LowPowerSelection on a PacketSent  interrupt\n1: to Receive state on a PacketSent  interruptName\n(Address)Bits Variable Name ModeDefault \nvalueFSK/OOK Description\nwww.semtech.com Page 102SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech CorporationRegSeqConfig2\n(0x37)7-5 FromReceive rw 0x00Controls the Sequencer transition from the Receive state\n000 and 111: unused001: to PacketReceived state on a \nPayloadReady  interrupt\n010: to LowPowerSelection on a PayloadReady  interrupt\n011: to PacketReceived state on a CrcOk  interrupt (1)\n100: to SequencerOff state on a Rssi interrupt\n101: to SequencerOff state on a SyncAddress  interrupt\n110: to SequencerOff state on a PreambleDetect  interrupt\nIrrespective of this setting, transition to LowPowerSelection on a \nT2 interrupt\n(1) If the CRC is wrong (corrupted packet, with CRC on but \nCrcAutoClearOn =0), the PayloadReady  interrupt will drive the \nsequencer to RxTimeout state.\n4-3 FromRxTimeout rw 0x00Controls the state-machine transition from the Receive state on a \nRxTimeout  interrupt (and on PayloadReady  if FromReceive = \n011):\n00: to Receive State, via ReceiveRestart01: to Transmit state\n10: to LowPowerSelection\n11: to SequencerOff state\nNote:    RxTimeout interrupt is a TimeoutRxRssi, TimeoutRxPreamble or TimeoutSignalSync interrupt\n2-0 FromPacketReceived rw 0x00Controls the state-machine transition from the PacketReceived \nstate:\n000: to SequencerOff state\n001: to Transmit state on a FifoEmpty  interrupt\n010: to LowPowerSelection\n011: to Receive via FS mode , if frequency was changed\n100: to Receive state (no frequency change)\nRegTimerResol\n(0x38)7-4 unused r - unused\n3-2 Timer1Resolution rw 0x00Resolution of Timer 1\n00: Timer1 disabled\n01: 64 us\n10: 4.1 ms11: 262 ms\n1-0 Timer2Resolution rw 0x00Resolution of Timer 2\n00: Timer2 disabled01: 64 us\n10: 4.1 ms\n11: 262 ms\nRegTimer1Coef\n(0x39) 7-0 Timer1Coefficient rw 0xf5 Multiplying coefficient for Timer 1\nRegTimer2Coef\n(0x3a) 7-0 Timer2Coefficient rw 0x20Multiplying coefficient for Timer 2Name\n(Address)Bits Variable Name ModeDefault \nvalueFSK/OOK Description\nwww.semtech.com Page 103SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech CorporationService registers\nRegImageCal\n(0x3b)7 AutoImageCalOn rw0x00\n*Controls the Image calibration mechanism\n0 \uf0e0 Calibration of the receiver depending on the temperature is \ndisabled1 \n\uf0e0 Calibration of the receiver depending on the temperature \nenabled.\n6 ImageCalStart wt - Triggers the IQ and RSSI calibration when set in Standby mode.\n5 ImageCalRunning r 0x00Set to 1 while the Image and RSSI calibration are running. \nToggles back to 0 when the process is completed\n4 unused r - unused\n3 TempChange r 0x00IRQ flag witnessing a temperature change exceeding \nTempThreshold since the last Image and RSSI calibration:\n0 \uf0e0 Temperature change lower than TempThreshold\n1 \uf0e0 Temperature change greater than TempThreshold\n2-1 TempThreshold rw 0x01Temperature change threshold to trigger a new I/Q calibration\n00 \uf0e0 5 °C\n01 \uf0e0 10 °C\n10 \uf0e0 15 °C\n11 \uf0e0 20 °C\n0 TempMonitorOff rw 0x00Controls the temperature monitor operation:\n0 \uf0e0 Temperature monitoring done in all modes except Sleep and \nStandby\n1 \uf0e0 Temperature monitoring stopped.\nRegTemp\n(0x3c)7-0 TempValue r -Measured temperature\n -1°C per Lsb\nNeeds calibration for absolute accuracy\nRegLowBat\n(0x3d)7-4 unused r - unused\n3 LowBatOn rw 0x00Low Battery detector enable signal\n0 \uf0e0 LowBat detector disabled\n1 \uf0e0 LowBat detector enabled\n2-0 LowBatTrim rw 0x02Trimming of the LowBat threshold:\n000 \uf0e0 1.695 V\n001 \uf0e0 1.764 V\n010 \uf0e0 1.835 V (d)\n011 \uf0e0 1.905 V\n100 \uf0e0 1.976 V\n101 \uf0e0 2.045 V\n110 \uf0e0 2.116 V\n111 \uf0e0 2.185 V\nStatus registersName\n(Address)Bits Variable Name ModeDefault \nvalueFSK/OOK Description\nwww.semtech.com Page 104SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech CorporationRegIrqFlags1\n(0x3e)7 ModeReady r -Set when the operation mode requested in Mode , is ready\n- Sleep: Entering Sleep mode\n- Standby: XO is running\n- FS: PLL is locked\n- Rx: RSSI sampling starts\n- Tx: PA ramp-up completed\nCleared when changing the operating mode.\n6 RxReady r -Set in Rx mode, after RSSI, AGC and AFC.\nCleared when leaving Rx.\n5 TxReady r -Set in Tx mode, after PA ramp-up.\nCleared when leaving Tx.\n4 PllLock r -Set (in FS, Rx or Tx) when the PLL is locked.\nCleared when it is not.\n3 Rssi rwc -Set in Rx when the RssiValue  exceeds RssiThreshold.  \nCleared when leaving Rx or setting this bit to 1.\n2 Timeout r -Set when a timeout occurs\nCleared when leaving Rx or FIFO is emptied.\n1 PreambleDetect rwc -Set when the Preamble Detector has found valid Preamble.\nbit clear when set to 1\n0 SyncAddressMatch rwc -Set when Sync and Address (if enabled) are detected.\nCleared when leaving Rx or FIFO is emptied.\nThis bit is read only in Packet mode, rwc in Continuous mode\nRegIrqFlags2\n(0x3f)7 FifoFull r - Set when FIFO is full (i.e. contains 66 bytes), else cleared.\n6 FifoEmpty r -Set when FIFO is empty, and cleared when there is at least 1 byte \nin the FIFO.\n5 FifoLevel r -Set when the number of bytes in the FIFO strictly exceeds \nFifoThreshold , else cleared.\n4 FifoOverrun rwc -Set when FIFO overrun occurs. (except in Sleep mode)\nFlag(s) and FIFO are cleared when this bit is set. The FIFO then \nbecomes immediately available for the next transmission / \nreception.\n3 PacketSent r -Set in Tx when the complete packet has been sent.\nCleared when exiting Tx\n2 PayloadReady r -Set in Rx when the payload is ready (i.e. last byte received and \nCRC, if enabled and CrcAutoClearOff is cleared , is Ok). Cleared \nwhen FIFO is empty.\n1 CrcOk r -Set in Rx when the CRC of the payload is Ok. Cleared when FIFO \nis empty.\n0 LowBat rwc -Set when the battery voltage drops below the Low Battery \nthreshold. Cleared only when set to 1 by the user.\nIO control registersName\n(Address)Bits Variable Name ModeDefault \nvalueFSK/OOK Description\nwww.semtech.com Page 105SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech CorporationRegDioMapping1\n(0x40)7-6 Dio0Mapping rw 0x00\nMapping of pins DIO0 to DIO5\nSee Table  18 for mapping in LoRa mode\nSee Table  29 for mapping in Continuous mode\nSeeTable 30 for mapping in Packet mode5-4 Dio1Mapping rw 0x00\n3-2 Dio2Mapping rw 0x00\n1-0 Dio3Mapping rw 0x00\nRegDioMapping2\n(0x41)7-6 Dio4Mapping rw 0x00\n5-4 Dio5Mapping rw 0x00\n3-1 reserved rw 0x00 reserved. Retain default value\n0 MapPreambleDetect rw 0x00Allows the mapping of either Rssi Or PreambleDetect  to the DIO \npins, as summarized on Table 29 and Table 30 \n0 \uf0e0 Rssi interrupt\n1 \uf0e0 PreambleDetect  interrupt\nVersion register\nRegVersion\n(0x42)7-0 Version r 0x12Version code of the chip. Bits 7-4 give the full revision number; \nbits 3-0 give the metal mask revision number.\nAdditional registers\nRegPllHop\n(0x44)7 FastHopOn rw 0x00Bypasses the main state machine for a quick frequency hop. \nWriting RegFrfLsb will trigger the frequency change.\n0 \uf0e0 Frf is validated when FSTx or FSRx is requested\n1 \uf0e0 Frf is validated triggered when RegFrfLsb is written \n6-0 reserved rw 0x2d reserved\nRegTcxo\n(0x4b)7-5 reserved rw 0x00 reserved. Retain default value\n4 TcxoInputOn rw 0x00Controls the crystal oscillator\n0 \uf0e0 Crystal Oscillator with external Crystal\n1 \uf0e0 External clipped sine TCXO AC-connected to XTA pin\n3-0 reserved rw 0x09 Reserved. Retain default value.\nRegPaDac\n(0x4d)7-3 reserved rw 0x10 reserved. Retain default value\n2-0 PaDac rw 0x04Enables the +20dBm option on PA_BOOST pin\n0x04 \uf0e0 Default value\n0x07 \uf0e0 +20dBm on PA_BOOST when OutputPower=1111\nRegFormerTemp\n(0x5b)7-0 FormerTemp rw -Temperature saved during the latest IQ (RSSI and Image) \ncalibration. Same format as TempValue  in RegTemp .\nRegBitrateFrac\n(0x5d)7-4 unused r 0x00 unused\n3-0 BitRateFrac rw 0x00Fractional part of the bit rate divider (Only valid for FSK)\nIf BitRateFrac > 0 then:Name\n(Address)Bits Variable Name ModeDefault \nvalueFSK/OOK Description\nBitRateFXOSC\nBitRate 15 0(, )BitrateFrac\n16-------------------------------+-------------------------------------------------------------------------=\nwww.semtech.com Page 106SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation6.3.  Band Specific Additional Registers\nThe registers in the address space from 0x61 to 0x73 are sp ecific for operation in the lower frequency bands (below 525 \nMHz), or in the upper frequency bands (above 779 MHz). Their programmed value may differ, and are retained when switching from lower to high frequency and vice-versa. The acce ss to the band specific registers is granted by enabling or \ndisabling the bit 3 LowFrequencyModeOn  of the RegOpMode  register.\n By default, the bit LowFrequencyModeOn  is at ‘1’ \nindicating that the registers are configured for the low frequency band.\nTable 43 Low Frequency Additional RegistersRegAgcRef\n(0x61)7-6 unused r - unused\n5-0 AgcReferenceLevel rw 0x19Sets the floor reference for all AGC thresholds:\nAGC Reference[dBm]=\n-174dBm+10*log(2* RxBw )+SNR+ AgcReferenceLevel\nSNR = 8dB, fixed value\nRegAgcThresh1\n(0x62)7-5 unused r - unused\n4-0 AgcStep1 rw 0x0c Defines the 1st AGC Threshold\nRegAgcThresh2\n(0x63)7-4 AgcStep2 rw 0x04 Defines the 2nd AGC Threshold:\n3-0 AgcStep3 rw 0x0b Defines the 3rd AGC Threshold:\nRegAgcThresh3\n(0x64)7-4 AgcStep4 rw 0x0c Defines the 4th AGC Threshold:\n3-0 AgcStep5 rw 0x0c Defines the 5th AGC Threshold:\nName\n(Address)Bits Variable Name ModeDefault \nvalueLow Frequency Additional Registers\nRegAgcRefLf\n(0x61)7-6 unused r - unused\n5-0 AgcReferenceLevel rw 0x19Sets the floor reference for all AGC thresholds:\nAGC Reference[dBm]=\n-174dBm+10*log(2* RxBw )+SNR+ AgcReferenceLevel\nSNR = 8dB, fixed value\nRegAgcThresh1Lf\n(0x62)7-5 unused r - unused\n4-0 AgcStep1 rw 0x0c Defines the 1st AGC Threshold\nRegAgcThresh2Lf\n(0x63)7-4 AgcStep2 rw 0x04 Defines the 2nd AGC Threshold:\n3-0 AgcStep3 rw 0x0b Defines the 3rd AGC Threshold:\nRegAgcThresh3Lf\n(0x64)7-4 AgcStep4 rw 0x0c Defines the 4th AGC Threshold:\n3-0 AgcStep5 rw 0x0c Defines the 5th AGC Threshold:\nRegPllLf\n(0x70)7-6 PllBandwidth rw 0x03Controls the PLL bandwidth:\n00 \uf0e0 75 kHz                           10 \uf0e0 225 kHz\n01 \uf0e0 150 kHz                         11 \uf0e0 300 kHz\n5-0 reserved rw 0x10 reserved. Retain default valueName\n(Address)Bits Variable Name ModeDefault \nvalueFSK/OOK Description\nwww.semtech.com Page 107SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech CorporationTable 44 High Frequency Additional Registers\nName\n(Address)Bits Variable Name ModeDefault \nvalueLow Frequency Additional Registers\nRegAgcRefHf\n(0x61)7-6 unused r - unused\n5-0 AgcReferenceLevel rw 0x1cSets the floor reference for all AGC thresholds:\nAGC Reference[dBm]=\n-174dBm+10*log(2* RxBw )+SNR+ AgcReferenceLevel\nSNR = 8dB, fixed value\nRegAgcThresh1Hf\n(0x62)7-5 unused r - unused\n4-0 AgcStep1 rw 0x0e Defines the 1st AGC Threshold\nRegAgcThresh2Hf\n(0x63)7-4 AgcStep2 rw 0x05 Defines the 2nd AGC Threshold:\n3-0 AgcStep3 rw 0x0b Defines the 3rd AGC Threshold:\nRegAgcThresh3Hf\n(0x64)7-4 AgcStep4 rw 0x0c Defines the 4th AGC Threshold:\n3-0 AgcStep5 rw 0x0c Defines the 5th AGC Threshold:\nRegPllHf\n(0x70)7-6 PllBandwidth rw 0x03Controls the PLL bandwidth:\n00 \uf0e0 75 kHz                           10 \uf0e0 225 kHz\n01 \uf0e0 150 kHz                         11 \uf0e0 300 kHz\n5-0 reserved rw 0x10 reserved. Retain default value\nwww.semtech.com Page 108SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation6.4.  LoRaTM Mode Register Map\nThis  details the SX1276/77/78/79 register mapping and the precise contents of each register in LoRaTM mode. \nIt is essential to understand that the LoRaTM modem is controlled independently of the FSK modem. Therefore, care \nshould be taken when accessing the registers, especially  as some register may have the same name in LoRaTM or FSK \nmode.\nThe LoRa registers are only accessible when the device is set in Lora mode (and, in the same way, the FSK register are only accessible in FSK mode). However, in some cases, it may be necessary to access some of the FSK register while in \nLoRa mode. To this aim, the AccesSharedReg bit was created in the RegOpMode register. This bit, when set to ‘1’, will \ngrant access to the FSK register 0x0D up to the register 0x 3F. Once the setup has been done, it is strongly recommended \nto clear this bit so that LoRa register can be accessed normally.\nConvention: r: read, w: write, c : set to clear and t: trigger.\nName\n(Address)Bits Variable Name Mode Reset LoRaTM Description\nRegFifo(0x00)7-0 Fifo rw 0x00LoRaTM base-band FIFO data input/output. FIFO is cleared an \nnot accessible when device is in SLEEP mode\nCommon Register Settings\nRegOpMode\n(0x01)7 LongRangeMode rw 0x00 \uf0e0 FSK/OOK Mode\n1 \uf0e0 LoRaTM Mode\nThis bit can be modified only in Sleep mode. A write operation on \nother device modes is ignored.\n6 AccessSharedReg rw 0x0This bit operates when device is in Lora mode; if set it allows\naccess to FSK registers page located in address space \n(0x0D:0x3F) while in LoRa mode0 \n\uf0e0 Access LoRa registers page 0x0D: 0x3F\n1 \uf0e0 Access FSK registers page (in mode LoRa) 0x0D: 0x3F\n5-4 reserved r 0x00 reserved\n3 LowFrequencyModeOn rw 0x01Access Low Frequency Mode registers\n0 \uf0e0 High Frequency Mode (access to HF test registers)\n1 \uf0e0 Low Frequency Mode (access to LF test registers)\n2-0 Mode rwt 0x01Device modes\n000 \uf0e0 SLEEP \n001 \uf0e0 STDBY \n010 \uf0e0 Frequency synthesis TX (FSTX)\n011 \uf0e0 Transmit (TX)\n100 \uf0e0 Frequency synthesis RX (FSRX)\n101 \uf0e0 Receive continuous (RXCONTINUOUS)\n110 \uf0e0 receive single (RXSINGLE)\n111 \uf0e0 Channel activity detection (CAD)\n(0x02) 7-0 reserved r 0x00 -\n(0x03) 7-0 reserved r 0x00 -\n(0x04) 7-0 reserved rw 0x00 -\n(0x05) 7-0 reserved r 0x00 -\nRegFrMsb(0x06)7-0 Frf(23:16) rw 0x6c MSB of RF carrier frequency\nwww.semtech.com Page 109SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech CorporationRegFrMid(0x07)7-0 Frf(15:8) rw 0x80 MSB of RF carrier frequency\nRegFrLsb(0x08)7-0 Frf(7:0) rwt 0x00LSB of RF carrier frequency\nResolution is 61.035 Hz if F(XOSC) = 32 MHz. Default value is \n0x6c8000 = 434 MHz. Register values must be modified only \nwhen device is in SLEEP or STAND-BY mode.\nRegisters for RF blocks\nRegPaConfig\n(0x09)7 PaSelect rw 0x00Selects PA output pin\n0 \uf0e0 RFO pin. Output power is limited to +14 dBm.\n1 \uf0e0 PA_BOOST pin. Output power is limited to +20 dBm\n6-4 MaxPower rw 0x04 Select max output power: Pmax=10.8+0.6*MaxPower [dBm]\n3-0 OutputPower rw 0x0fPout=Pmax-(15-OutputPower)  if PaSelect = 0 (RFO pin)\nPout=17-(15-OutputPower)       if PaSelect = 1 (PA_BOOST pin)\nRegPaRamp\n(0x0A)7-5 unused r - unused\n4 reserved rw 0x00 reserved\n3-0 PaRamp(3:0) rw 0x09Rise/Fall time of ramp up/down in FSK\n0000 \uf0e0 3.4 ms\n0001 \uf0e0 2 ms\n0010 \uf0e0 1 ms\n0011 \uf0e0 500 us\n0100 \uf0e0 250 us\n0101 \uf0e0 125 us\n0110 \uf0e0 100 us\n0111 \uf0e0 62 us\n1000 \uf0e0 50 us\n1001 \uf0e0 40 us \n1010 \uf0e0 31 us\n1011 \uf0e0 25 us\n1100 \uf0e0 20 us\n1101 \uf0e0 15 us\n1110 \uf0e0 12 us\n1111 \uf0e0 10 us\nRegOcp(0x0B7-6 unused r 0x00 unused\n5 OcpOn rw 0x01Enables overload current protection (OCP) for PA:\n0 \uf0e0 OCP disabled\n1 \uf0e0 OCP enabled\n4-0 OcpTrim rw 0x0bTrimming of OCP current:\nImax = 45+5*OcpTrim [mA] if OcpTrim <= 15 (120 mA) /\nImax = -30+10*OcpTrim [mA] if 15 < OcpTrim <= 27 (130 to\n240 mA)\nImax = 240mA for higher settings\nDefault I max = 100mAName\n(Address)Bits Variable Name Mode Reset LoRaTM Description\nfRFF(XOSC) Frf⋅\n219----------------- ------------------ - =\nwww.semtech.com Page 110SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech CorporationRegLna(0x0C)7-5 LnaGain rwx 0x01LNA gain setting:\n000 \uf0e0 not used\n001 \uf0e0 G1 = maximum gain\n010 \uf0e0 G2\n011 \uf0e0 G3 \n100 \uf0e0 G4\n101 \uf0e0 G5\n110 \uf0e0 G6 = minimum gain\n111 \uf0e0 not used\n4-3 LnaBoostLf rw 0x00Low Frequency (RFI_LF) LNA current adjustment\n00 \uf0e0 Default LNA current\nOther \uf0e0 Reserved\n2 reserved rw 0x00 reserved\n1-0 LnaBoostHf rw 0x00High Frequency (RFI_HF) LNA current adjustment\n00 \uf0e0 Default LNA current\n11 \uf0e0 Boost on, 150% LNA current\nLora page registers\nRegFifoAddrPtr(0x0D) 7-0FifoAddrPtr rw 0x00 SPI interface address pointer in FIFO data buffer.\nRegFifoTxBaseAd\ndr\n(0x0E)7-0FifoTxBaseAddr rw 0x80 write base address in FIFO data buffer for TX modulator\nRegFifoRxBaseAd\ndr\n(0x0F)7-0FifoRxBaseAddr rw 0x00 read base address in FIFO data buffer for RX demodulator\nRegFifoRxCurrent\nAddr\n(0x10)7-0 FifoRxCurrentAddr r n/a Start address (in data buffer) of last packet received\nRegIrqFlagsMask \n(0x11)7 RxTimeoutMask rw 0x00Timeout interrupt mask:  setting this bit ma sks the corresponding \nIRQ in RegIrqFlags\n6 RxDoneMask rw 0x00Packet reception complete interrupt mask: setting this bit masks \nthe corresponding IRQ in RegIrqFlags\n5 PayloadCrcErrorMask rw 0x00Payload CRC error interrupt mask: setting this bit masks the \ncorresponding IRQ in RegIrqFlags\n4 ValidHeaderMask rw 0x00Valid header received in Rx mask: setting this bit masks the \ncorresponding IRQ in RegIrqFlags\n3 TxDoneMask rw 0x00FIFO Payload transmission complete  interrupt mask: setting this \nbit masks the corresponding IRQ in RegIrqFlags\n2 CadDoneMask rw 0x00CAD complete interrupt mask:  setting this bit masks the \ncorresponding IRQ in RegIrqFlags\n1FhssChangeChannelM\naskrw 0x00FHSS change channel interrupt mask: setting this bit masks the \ncorresponding IRQ in RegIrqFlags\n0 CadDetectedMask rw 0x00Cad Detected Interrupt Mask: setting this bit masks the \ncorresponding IRQ in RegIrqFlagsName\n(Address)Bits Variable Name Mode Reset LoRaTM Description\nwww.semtech.com Page 111SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech CorporationRegIrqFlags\n(0x12)7 RxTimeout rc 0x00Timeout interrupt: writing a 1 clears the IRQ\n6 RxDone rc 0x00Packet reception complete interrupt: writing a 1 clears the IRQ\n5 PayloadCrcError rc 0x00Payload CRC error interrupt: writing a 1 clears the IRQ\n4 ValidHeader rc 0x00Valid header received in Rx: writing a 1 clears the IRQ\n3 TxDone rc 0x00FIFO Payload transmission complete interrupt: writing a 1 clears \nthe IRQ\n2 CadDone rc 0x00CAD complete: write to clear: writing a 1 clears the IRQ\n1 FhssChangeChannel rc 0x00FHSS change channel interrupt: writing a 1 clears the IRQ\n0 CadDetected rc 0x00Valid Lora signal detected during CAD operation: writing a 1 \nclears the IRQ\nRegRxNbBytes\n(0x13)7-0 FifoRxBytesNb r n/a Number of payload bytes of latest packet received\nRegRxHeaderCnt\nValueMsb\n(0x14)7-0ValidHeaderCntMsb(15:\n8)rn / aNumber of valid headers received since last transition into Rx \nmode, MSB(15:8). Header and packet counters are reseted in \nSleep mode.\nRegRxHeaderCnt\nValueLsb\n(0x15)7-0 ValidHeaderCntLsb(7:0) r n/aNumber of valid headers received since last transition into Rx \nmode, LSB(7:0). Header and packet counters are reseted in \nSleep mode.\nRegRxPacketCntV\nalueMsb\n(0x16)7-0ValidPacketCntMsb(15:\n8)rc n/aNumber of valid packets received since last transition into Rx \nmode, MSB(15:8). Header and packet counters are reseted in \nSleep mode.\nRegRxPacketCntV\nalueLsb\n(0x17)7-0 ValidPacketCntLsb(7:0) r n/aNumber of valid packets received since last transition into Rx \nmode, LSB(7:0). Header and packet counters are reseted in \nSleep mode.\nRegModemStat\n(0x18)7-5 RxCodingRate r n/a Coding rate of last header received\n4\nModemStatusr ‘1’ Modem clear\n3 r ‘0’ Header info valid \n2 r ‘0’ RX on-going\n1 r ‘0’ Signal synchronized\n0 r ‘0’ Signal detected\nRegPktSnrValue\n(0x19)7-0PacketSnrrn / aEstimation of SNR on last packet received.In two’s compliment \nformat mutiplied by 4.Name\n(Address)Bits Variable Name Mode Reset LoRaTM Description\nSNR dB []PacketSnr two s complement []\n4-----------------------------------------------------------------------------------=\nwww.semtech.com Page 112SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech CorporationRegPktRssiValue(0x1A)7-0 PacketRssi r n/aRSSI of the latest packet received (dBm):\nRSSI[dBm] = -157 + Rssi (using HF output port, SNR >= 0) \nor \nRSSI[dBm] = -164 + Rssi (using LF output port, SNR >= 0)\n(see section 5.5.5 for details)\nRegRssiValue\n(0x1B)7-0 Rssi r n/aCurrent RSSI value (dBm)\nRSSI[dBm] = -157 + Rssi (using HF output port) \nor \nRSSI[dBm] = -164 + Rssi (using LF output port)\n(see section 5.5.5 for details)\nRegHopChannel\n(0x1C)7 PllTimeout rn/aPLL failed to lock while attempting a TX/RX/CAD operation\n1 \uf0e0 PLL did not lock\n0 \uf0e0 PLL did lock\n6 CrcOnPayload r n/aCRC Information extracted from the received packet header \n(Explicit header mode only)\n0 \uf0e0 Header indicates CRC off\n1 \uf0e0 Header indicates CRC on\n5-0 FhssPresentChannel r n/a Current value of frequency hopping channel in use.\nRegModemConfig\n1(0x1D)7-4 Bw rw 0x07Signal bandwidth:\n0000 \uf0e0 7.8 kHz\n0001 \uf0e0 10.4 kHz\n0010 \uf0e0 15.6 kHz\n0011 \uf0e0 20.8kHz\n0100 \uf0e0 31.25 kHz\n0101 \uf0e0 41.7 kHz\n0110 \uf0e0 62.5 kHz\n0111 \uf0e0 125 kHz\n1000 \uf0e0 250 kHz\n1001 \uf0e0 500 kHz\nother values \uf0e0 reserved\nIn the lower band (169MHz), signal bandwidths 8&9 are not\nsupported)\n3-1 CodingRate rw ‘001’Error coding rate\n001 \uf0e0 4/5\n010 \uf0e0 4/6\n011 \uf0e0 4/7\n100 \uf0e0 4/8\nAll other values \uf0e0 reserved\nIn implicit header mode should be set on receiver to determine \nexpected coding rate. See 4.1.1.3\n0 ImplicitHeaderModeOn rw 0x00 \uf0e0 Explicit Header mode\n1 \uf0e0 Implicit Header modeName\n(Address)Bits Variable Name Mode Reset LoRaTM Description\nwww.semtech.com Page 113SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech CorporationRegModemConfig\n2\n(0x1E)7-4 SpreadingFactor rw 0x07SF rate (expre ssed as a base-2 logarithm)\n6 \uf0e0 64 chips / symbol\n7 \uf0e0 128 chips / symbol\n8 \uf0e0 256 chips / symbol\n9 \uf0e0 512 chips / symbol\n10 \uf0e0 1024 chips / symbol\n11 \uf0e0 2048 chips / symbol\n12 \uf0e0 4096 chips / symbol\nother values reserved.\n3 TxContinuousMode rw 00 \uf0e0 normal mode, a single packet is sent\n1 \uf0e0 continuous mode, send multiple packets across the FIFO \n(used for spectral analysis)\n2 RxPayloadCrcOn rw 0x00Enable CRC generation and check on payload: \n0 \uf0e0\uf020CRC disable \n1 \uf0e0\uf020CRC enable \nIf CRC is needed, RxPayloadCrcOn should be set: - in Implicit header mode: on Tx and Rx side \n- in Explicit header mode: on the Tx side alone (recovered from \nthe header in Rx side) \n1-0 SymbTimeout(9:8) rw 0x00 RX Time-Out MSB \nRegSymbTimeoutLsb(0x1F)\n7-0 SymbTimeout(7:0) rw 0x64RX Time-Out LSB\nRX operation time-out value expressed as number of symbols:\nRegPreambleMsb\n(0x20)7-0 PreambleLength(15:8) rw 0x0Preamble length MSB, = PreambleLength + 4.25 Symbols\nSee  4.1.1 for more details.\nRegPreambleLsb\n(0x21)7-0 PreambleLength(7:0) rw 0x8 Preamble Length LSB\nRegPayloadLength\n(0x22)7-0PayloadLength(7:0)rw 0x1Payload length in bytes. The register needs to be set in implicit \nheader mode for the expected packet length. A 0 value is not permitted\nRegMaxPayloadLength(0x23)\n7-0PayloadMaxLength(7:0)rw 0xffMaximum payload length; if header payload length exceeds \nvalue a header CRC error is generated. Allows filtering of packet with a bad size.\nRegHopPeriod(0x24)7-0FreqHoppingPeriod(7:0)rw 0x0Symbol periods between frequency hops. (0 = disabled). 1st hop \nalways happen after the 1st header symbol\nRegFifoRxByteAddr(0x25) \n7-0 FifoRxByteAddrPtr r n/aCurrent value of RX databuffer pointer (address of last byte \nwritten by Lora receiver)Name\n(Address)Bits Variable Name Mode Reset LoRaTM Description\nTimeOut SymbTimeout Ts ⋅ =\nwww.semtech.com Page 114SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech CorporationRegModemConfig3\n(0x26)7-4 Unused r 0x00\n3LowDataRateOptimize rw 0x00 0 \uf0e0 Disabled\n1 \uf0e0 Enabled; mandated for when the symbol length exceeds \n16ms\n2AgcAutoOn rw 0x00 0 \uf0e0 LNA gain set by register LnaGain\n1 \uf0e0 LNA gain set by the internal AGC loop\n1-0 Reserved rw 0x00 Reserved\n(0x27) 7-0 PpmCorrection rw 0x00 Data rate offset value, used in conjunction with AFC\nRegFeiMsb(0x28)7-4 Reserved r n/a Reserved\n3-0 FreqError(19:16) r 0x0Estimated frequency error from modem\nMSB of RF Frequency Error\nRegFeiMid\n(0x29) 7-0 FreqError(15:8) r 0x0 Middle byte of RF Frequency Error\nRegFeiLsb(0x2A)\n7-0 FreqError(7:0) r 0x0LSB of RF Frequency Error\n(0x2B) - Reserved r n/a Reserved\nRegRssiWideband\n(0x2C)7-0 RssiWideband(7:0) r n/aWideband RSSI measurement used to locally generate a \nrandom number\n(0x2D) - (0x30) - Reserved r n/a Reserved\nRegDetectOptimiz\ne\n(0x31)7-3 Reserved r 0xC0 Reserved\n2-0 DetectionOptimize rw 0x03LoRa Detection Optimize\n0x03 \uf0e0 SF7 to SF12\n0x05 \uf0e0 SF6\n(0x32) - Reserved r n/a Reserved\nRegInvertIQ(0x33)7 Reserved rw 0x0Reserved\n6 InvertIQ rw 0x0Invert the LoRa I and Q signals\n0 \uf0e0 normal mode\n1 \uf0e0 I and Q signals are inverted\n5-0 Reserved rw 0x27 Reserved\n(0x34) - (0x36) 7-0 Reserved r n/a Reserved\nRegDetectionThre\nshold(0x37) 7-0 DetectionThreshold rw 0x0ALoRa detection threshold\n0x0A \uf0e0 SF7 to SF12\n0x0C \uf0e0 SF6\n(0x38) - Reserved r n/a Reserved\nRegSyncWord(0x39)7-0 SyncWord rw 0x12LoRa Sync Word \nValue 0x34 is reserved for LoRaWAN networksName\n(Address)Bits Variable Name Mode Reset LoRaTM Description\nFErrorFreqError 224×\nFxtal----------------------------------------- -BW kHz[]\n500----------------------- - × =\nwww.semtech.com Page 115SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation(0x3A) - (0x3F) - Reserved r n/a ReservedName\n(Address)Bits Variable Name Mode Reset LoRaTM Description\nwww.semtech.com Page 115SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation7.  Application Information\n7.1.  Crystal Resonator Specification\nTable  45 shows the crystal resonator specificat ion for the crystal refere nce oscillator circuit of the SX1276/77/78 /79. This \nspecification covers the full range of operation of the SX1276/77/78/79 and is employed in the reference design.\nTable 45 Crystal Specification\nNotes - the initial frequency to lerance, temperature stability and aging performanc e should be chosen in accordance with \nthe target operating temperature range and the receiver bandwidth selected.\n- the loading capacitance should be applied externally, a nd adapted to the actual Cload  specification of the XTAL.\n7.2.  Reset of the Chip\nA power-on reset of the SX1276/77/78/79 is triggered at power up. Additionally, a manual reset can be issued by \ncontrolling pin 7.\n7.2.1.  POR\nIf the application requires the disconnection of VDD from th e SX1276/77/78/79, despite of the extremely low Sleep Mode \ncurrent, the user should wait for 10 ms from of the end of the POR cycle before commencing commun ications over the SPI \nbus. Pin 7 (NRESET) should be left  floating during the POR sequence.\nFigure 42.   POR Timing Diagram\nPlease note that any CLKOUT activity can also  be used to detect that the chip is ready.Symbol Description Conditions Min Typ Max Unit\nFXOSC XTAL Frequency - 32 - MHz\nRS XTAL Serial Resistance - 15 100 ohms\nC0 XTAL Shunt Capacitance - 1 3 pF\nCFOOT External Foot Capacitance On each pin XTA and XTB 10 15 22 pF\nCLOAD Crystal Load Capacitance 6 - 12 pF\n\nwww.semtech.com Page 116SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation7.2.2.  Manual Reset\nA manual reset of the SX1276/77/78/79 is possible even for ap plications in which VDD cannot  be physically disconnected. \nPin 7 should be pulled low for a hundred microseconds, and then released. The user should then wait for 5 ms before using \nthe chip.\nFigure 43.   Manual Reset Timing Diagram\nNote whilst pin 7 is driven low, an over current consum ption of up to one milliamp ere can be seen on VDD.\n7.3.  Top Sequencer: Listen Mode Examples\nIn this scenario, the circuit spe nds most of the time in Idle m ode, during which only the RC o scillator is on. Periodically the  \nreceiver wakes up and looks for incoming signal. If a wanted signal is detected, the receiver is kept on and data are \nanalyzed. Otherwise, if there was no wanted signal for a defined period of time, the receiver is switched off until the next \nreceive period.\nDuring Listen mode, the Radio stays most of the time in a Low Power mode, resulting in very low average power consumption. The general timing diagram of this scenario is given in \nFigure  44.\n \nFigure 44.   Listen Mode: Principle\nAn interrupt request is generated on a packet rec eption. The user can then take appropriate action.\nDepending on the application and environment, ther e are several ways to implement Listen mode:\n\uf077Wake on a PreambleDetect  interrupt\n\uf077Wake on a SyncAddress  interrupt\n\uf077Wake on a PayloadReady  interrupt\n7.3.1.  Wake on Preamble Interrupt\nIn one possible scenario, the sequencer polls for a Preamble de tection. If a preamble signal is detected, the sequencer is \nswitched off and the circuit stays in Receive mode until the user  switches modes. Otherwise, th e receiver is switched off \nuntil the next Rx period.\nListen mode : principle\nReceive Receive Idle ( Sleep + RC ) Idle\nwww.semtech.com Page 117SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation7.3.1.1.  Timing Diagram\nWhen no signal is received, the circuit wakes every Timer1 + Timer2 and switches to Receive mode for a time defined by \nTimer2, as shown on the following diagram. If no Preamble is detected, it then switches back to Idle mode, i.e. Sleep mode \nwith RC oscillator on.\n \nFigure 45.   Listen Mode with No Preamble Received\nIf a Preamble signal is detected, the Sequencer is switched off. The PreambleDetect  signal can be mapped to DIO4, in \norder to request the user\'s attention. T he user can then take appropriate action.\n \nFigure 46.   Listen Mode with Preamble ReceivedNo received signal\nReceive Receive Idle ( Sleep + RC ) Idle\nTimer2\nTimer1Timer2\nTimer1 Timer1\nTimer2Received signal\nPreamble ( As long as T1 + 2 * T2 )Sync\nWordPayload Crc\nReceive Idle ( Sleep + RC )\nTimer1\nPreamble \nDetectTimer2\nwww.semtech.com Page 118SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation7.3.1.2.  Sequencer Configuration\nThe following graph shows Listen mode - Wake on PreambleDetect  state machine:\nFigure 47.   Wake On PreambleDetect State Machine\nThis example configuration is achieved as follows:\nTable 46 Listen Mode with PreambleDetect Condition Settings\nTTimer2  defines the maximum duration the chip stays in Receive mode as long as no Preamble is detected. In order to \noptimize power consumption, Timer2 must be set just long enough for Preamble detection.\nTTimer1  + TTimer2  defines the cycling period, i.e. time between two Pr eamble polling starts. In or der to optimize average \npower consumption, Timer1 should be re latively long. However, increasing Timer1  also extends packet reception duration.\nIn order to insure packet detection and optimize the receiv er\'s power consumption, the received packet Preamble should \nbe as long as TTimer1  + 2 x TTimer2 .\nAn example of DIO configuration for this mode is described in the following table:\nTable 47 Listen Mode with PreambleDetect Condition Recommended DIO MappingVariable Effect\nIdleMode 1: Sleep  mode\nFromStart 00: To  LowPowerSelection\nLowPowerSelection 1: To Idle state\nFromIdle 1: To Receive  state on T1 interrupt\nFromReceive 110: To Sequencer Off  on PreambleDetect  interrupt\nDIO Value Description\n00 1 C r c O k1 00 FifoLevel\n30 0 F i f o E m p t y\n4 11 PreambleDetect – Note: \nMapPreambleDetect  bit should be set.State Machine\nLowPower\nSelectionIdle\nReceiveLowPowerSelection = 1\nOn T2On T1\nFromIdle = 1\nOn PreambleDetect\nFromReceive = 110Sequencer OffIdleMode = 1 : Sleep\nStartSequencer Off\n&\nInitial mode = Sleep or Standby\nStart bit set\nFromStart = 00\nwww.semtech.com Page 119SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation7.3.2.  Wake on SyncAddress Interrupt\nIn another possible scenario, the sequencer polls for a Preamble detection and then for a valid SyncAddress  interrupt. If \nevents occur, the sequencer is switched off and the circui t stays in Receive mode unt il the user switches modes. \nOtherwise, the receiver is switch ed off until the next Rx period.\n7.3.2.1.  Timing Diagram\nMost of the sequencer running time is spent while no want ed signal is received. As shown by the timing diagram in \nFigure  48, the circuit wakes periodically for a short time, defined by RxTimeout. The circuit is in a Low Power mode for the \nrest of Timer1 + Timer2 (i.e. Timer1 + Timer2 - TrxTimeout)\n \nFigure 48.   Listen Mode with no SyncAddress Detected\nIf a preamble is detected before RxTimeout  timer ends, the circuit stays in Receive mode and waits for a valid \nSyncAddress  detection. If none is de tected by the end of Time r2, Receive mode is deacti vated and the polling cycle \nresumes, without any user intervention.\n \nFigure 49.   Listen Mode with Pr eamble Received and no SyncAddress\nBut if a valid Sync Word is detected, a SyncAddress  interrupt is fired, the Sequencer is switched off and the circuit stays in \nReceive mode as long as the user doesn\'t switch modes.No wanted signal\nReceive Receive Idle ( Sleep + RC ) Idle Idle\nTimer2\nTimer1Timer2\nTimer1 Timer1\nRxTimeout RxTimeout\nUnwanted Signal\nPreamble ( Preamble + Sync = T2 )Wrong\nWordPayload Crc\nPreamble \nDetectReceive Receive Idle Idle Idle\nTimer2\nTimer1Timer2\nTimer1 Timer1\nRxTimeoutRxTimeout\nwww.semtech.com Page 120SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech CorporationFigure 50.   Listen Mode with Preamble Received & Valid SyncAddress\n7.3.2.2.  Sequencer Configuration\nThe following graph shows Listen mode - Wake on SyncAddress state machine:\nFigure 51.   Wake On SyncAddress State MachineWanted Signal\nPreamble ( Preamble + Sync = T2 )Sync\nWordPayload Crc\nPreamble \nDetectReceive Idle\nTimer2\nTimer1\nSync\nAddressFifo\nLevelRxTimeout\nState Machine\nLowPower\nSelectionIdle\nReceive RxTimeoutLowPowerSelection = 1\nFromRxTimeout = 10\nOn RxTimeoutOn T2On T1\nFromIdle = 1\nOn SyncAdress\nFromReceive = 101Sequencer OffIdleMode = 1 : Sleep\nStart\nFromStart = 00Sequencer Off\n&\nInitial mode = Sleep or Standby\nStart bit set\nwww.semtech.com Page 121SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech CorporationThis example configuration is achieved as follows:\nTable 48 Listen Mode with SyncAddress Condition Settings\nTTimeoutRxPreamble  should be set to just long enough to catch a preamble (depends on PreambleDetectSize  and BitRate ).\nTTimer1  should be set to 64 µs (shortest possible duration).\nTTimer2   is set so that TTimer1 + TTimer2   defines the time between two start of reception. \nIn order to insure packet detection and optimize the receiver power consumption, the received packet Preamble should be \ndefined so that TPreamble = TTimer2 - TSyncAddress  with TSyncAddress  = (SyncSize + 1)*8/BitRate .\nAn example of DIO configuration for this mode is described in the following table:\nTable 49 Listen Mode with PreambleDetect Condition Recommended DIO MappingVariable Effect\nIdleMode 1: Sleep  mode\nFromStart 00: To  LowPowerSelection\nLowPowerSelection 1: To Idle state\nFromIdle 1: To Receive  state on T1 interrupt\nFromReceive 101: To Sequencer off  on SyncAddress  interrupt\nFromRxTimeout 10: To  LowPowerSelection\nDIO Value Description\n00 1 C r c O k\n1 00 FifoLevel\n2 11 SyncAddress30 0 F i f o E m p t y\n4 11 PreambleDetect – Note: \nMapPreambleDetect  bit should be set.\nwww.semtech.com Page 122SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation7.4.  Top Sequencer: Beacon Mode\nIn this mode, a repetitive message is  transmitted periodically. If the Payload being sent is always identical, and \nPayloadLength  is smaller than the FIFO size, the use of the BeaconOn  bit in RegPacketConfig2  together with the \nSequencer permit to achieve periodic beacon without any user intervention.\n7.4.1.  Timing diagram\nIn this mode, the Radio is switched to Transmit mode every TTimer1  + TTimer2  and back to Idle mode after PacketSent , as \nshown in the diagram below. The Sequencer insures minima l time is spent in Transmit mode, and therefore power \nconsumption is optimized.\nFigure 52.   Beacon Mode Timing Diagram\n7.4.2.  Sequencer Configuration\nThe Beacon mode state machine is presented in the following gr aph. It is noticeable that the sequencer enters an infinite \nloop and can only be stopped by setting SequencerStop  bit in RegSeqConfig1 .\nFigure 53.   Beacon Mode State MachineBeacon mode\nTransmit Transmit Idle ( Sleep + RC ) Idle Idle\nTimer2\nTimer1 Timer1 Timer1Timer2\nPacket\nSentPacket\nSent\nState Machine\nTransmitOn T1\nFromIdle = 0\nOn PacketSent\nFromTransmit = 0LowPower\nSelectionIdleLowPowerSelection = 1IdleMode = 1 : Sleep\nStart\nFromStart = 00Sequencer Off\n&\nInitial mode = Sleep or Standby\nStart bit set\nwww.semtech.com Page 123SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech CorporationThis example is achieved by programming the Sequencer as follows:\nTable 50 Beacon Mode Settings\nTTimer1 + TTimer2   define the time between the start of two transmissions.Variable Effect\nIdleMode 1: Sleep  mode\nFromStart 00: To  LowPowerSelection\nLowPowerSelection 1: To Idle state\nFromIdle 0: To Transmit  state on T1 interrupt\nFromTransmit 0: To LowPowerSelection  on PacketSent  interrupt\nwww.semtech.com Page 124SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation7.5.  Example CRC Calculation\nThe following routine(s) may be implemented to mimic the CRC calc ulation of the SX1276/77/78/79:\nFigure 54.   Example CRC Code\n \n\nwww.semtech.com Page 125SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation7.6.  Example Temperature Reading\nThe following routine(s) may be implemented to read the temperature and calibrate the sensor:\nFigure 55.   Example Temperature Reading\n\nwww.semtech.com Page 126SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech CorporationFigure 56.   Example Temperature Reading (continued)\n\nwww.semtech.com Page 127SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation8.  Packaging Information\n8.1.  Package Outline Drawing\nThe SX1276/77/78/79 is available in a 28-lead QFN package as shown in Figure  57.\nFigure 57.   Package Outline Drawing\n\nwww.semtech.com Page 128SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation8.2.  Recommended Land Pattern\nFigure 58.   Recommended Land Pattern\n\nwww.semtech.com Page 129SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation8.3.  Tape & Reel Information\nFigure 59.   Tape and Reel Information\n\nwww.semtech.com Page 130SX1276/77/78/79\nWIRELESS, SENSING & TIMING DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation9.  Revision History\nTable 51 Revision History\nRevision Date Comment\n1 Sept 2013  First FINAL release\n2Nov 2014 Miscellaneous typographical corrections\n Correction of RxPayloadCrcOn  description \n Improve description in the RSSI and IQ calibration mechanism\n Correction of ToA formulae\n Inclusion of FEI and automatic frequency correction for LoRa\n Corrected Rssi Formula in Lora mode\n3 Nov 2014  Addition of part SX1279\n4 March 2015 Clarified operation modes for Rx Single and Rx Continuous mode in LoRa\n Added use cases for Rx Single and Rx Continuous mode in LoRa mode\n Clarified used of LoRa RxPayloadCrcOn in Register Table\n Added description of register RegSyncWord in LoRa register table\n Changed Stand-By typo into Standby\nwww.semtech.com Page 131Semtech Corporation\nWireless,Sensing & Timi ng Products Division\n200 Flynn Road, Ca marillo, CA 93012\nPhone: (805) 498-2111   Fax: (805) 498-3804\nE-mail: sales@semtech.com\nsupport_rf@semtech.com\nInternet: http://www.semtech.comContact informationSX1276/77/78/79\nWIRELESS, SENSING & TIMING  DATASHEET\nRev. 4 - March 2015\n©2015 Semtech Corporation© Semtech 2015 \nAll rights reserved. Reproduction in whole or in part is prohibited without the prior written consent of the copyright owner.  The \ninformation presented in this document does not form part of any quotation or contract, is believed to be accurate and reliable  \nand may be changed without notice. No liability will be accepted by the publisher for any consequence of its use. Publication \nthereof does not convey nor imply any license under patent or other industrial or intellectual property rights. Semtech assumes  \nno responsibility or liability whatsoever for any failure or unexpected operation resulting from misuse, neglect improper installation, repair or improper handling or unusual physical or electrical stress including, but not limited to, exposure to parameters beyond the specified maximum ratings or operation outside the specified range. \n \nSEMTECH PRODUCTS ARE NOT DESIGNED , INTENDED, AUTHORIZED  OR WARRANTED TO BE SUITABLE FOR USE IN \nLIFE-SUPPORT APPLICATIONS, DEVICES OR SYSTEMS OR OTHER CRITICAL APPLICATIONS. INCLUSION OF \nSEMTECH PRODUCTS IN SUCH APPLICATIONS IS UNDERSTOOD TO BE UNDERTAKEN SOLELY AT THE CUSTOMER’S \nOWN RISK. Should a customer purchase or use Semtech products for any such unauthorized application, the customer shall \nindemnify and hold Semtech and its officers, employees, subsidiaries, affiliates, and distributors harmless against all claims,  \ncosts damages and attorney fees which could arise.\n \n \n'}]
!==============================================================================!
### Component Summary: SX1276IMLTRT

**Key Characteristics and Specifications:**

- **Voltage Ratings:**
  - Supply Voltage: 1.8V to 3.7V
  - Maximum RF Output Power: +20 dBm (requires specific conditions)

- **Current Ratings:**
  - Low RX Current: 9.9 mA
  - Transmit Current (varies with output power):
    - +20 dBm: up to 120 mA
    - +14 dBm: 87 mA
    - +13 dBm: 29 mA

- **Power Consumption:**
  - Sleep Mode: 200 nA
  - Standby Mode: 1.6 to 1.8 mA
  - RX Mode: 10.8 to 12.0 mA (depending on settings)

- **Operating Temperature Range:**
  - -40°C to +85°C

- **Package Type:**
  - QFN 28 (Quad Flat No-lead)

- **Special Features:**
  - LoRa™ long-range modem with high sensitivity (-148 dBm)
  - Integrated +20 dBm power amplifier
  - Supports multiple modulation schemes: LoRa™, FSK, GFSK, MSK, GMSK, OOK
  - Built-in temperature sensor and low battery indicator
  - Automatic frequency correction (AFC) and channel activity detection (CAD)

- **Moisture Sensitive Level (MSL):**
  - MSL Level 1 (JEDEC J-STD-020E)

**Description:**
The SX1276IMLTRT is a low-power, long-range transceiver designed for wireless communication applications. It features Semtech's proprietary LoRa™ modulation technology, which enables ultra-long-range spread spectrum communication with high interference immunity while minimizing current consumption. The device operates in various frequency bands from 137 MHz to 1020 MHz and supports multiple modulation schemes, making it versatile for different applications.

**Typical Applications:**
- **Automated Meter Reading (AMR):** Ideal for remote monitoring and data collection.
- **Home and Building Automation:** Used in smart home devices for communication.
- **Wireless Alarm and Security Systems:** Provides reliable communication for security applications.
- **Industrial Monitoring and Control:** Suitable for industrial IoT applications requiring robust communication over long distances.
- **Long Range Irrigation Systems:** Enables efficient control and monitoring of irrigation systems.

This component is particularly well-suited for applications that require long-range communication with low power consumption, making it a popular choice in the growing field of IoT and smart devices.