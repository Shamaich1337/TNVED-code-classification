[{'role': 'system', 'content': 'You are a technical specialist with expertise in electronics. Your task is to analyze datasheets for electronic components and provide a concise summary of the product’s key characteristics and specifications. In addition, you need to gather textual information about the component, including its description and typical applications.Instructions:    Identify the correct component in the datasheet using the provided product code.    Summarize key parameters, including:        Voltage ratings        Current ratings        Power consumption        Operating temperature range        Package type        Special features or notes (if applicable)        Moisture Sensetive Level JEDEC J-STD-020E    Provide a short description of the component, including what it is (e.g., transistor, microcontroller, sensor) and its primary function.    Explain typical applications for the component (e.g., power management, signal processing, data storage, etc.).    Be thorough and accurate: Ensure the information corresponds specifically to the product code, as some datasheets cover multiple variants.Your goal is to create a clear and accurate technical summary that includes both key specifications and a description of what the component is used for.'}, {'role': 'user', 'content': 'Give me information about the component of STM32L151RCT6 production of ST MICROELECTRONICS from the text:This is information on a product in full production. August 2017 DocID022799 Rev 13 1/136STM32L15xCC STM32L15xRC \nSTM32L15xUC STM32L15xVC\nUltra-low-power 32-bit MCU ARM®-based Cortex®-M3, \n256KB Flash, 32KB SRAM, 8KB EEPROM, LCD, USB, ADC, DAC\nDatasheet - production data\nFeatures\n•Ultra-low-power platform\n– 1.65 V to 3.6 V power supply–-40 °C to 105 °C  temperature range\n– 0.29µA Standby mode (3 wakeup pins)–1.15 µA Standby mode + RTC\n– 0.44 µA Stop mode (16 wakeup lines)\n– 1.4 µA Stop mode + RTC\n– 8.6 µA Low-power run mode\n– 185 µA/MHz Run mode\n– 10 nA ultra-low I/O leakage– 8 µs wakeup time\n•Core: ARM\n® Cortex®-M3 32-bit CPU\n– From 32 kHz up to 32 MHz ma x\n–1.25 DMIPS/MHz (Dhrystone 2.1)\n– Memory protection unit\n•Reset and supply management– Low-power, ultrasafe BOR (brownout reset)\nwith 5 selectable thresholds\n– Ultra-low-power POR/PDR\n– Programmable voltage detector (PVD)\n•Clock sources– 1 to 24 MHz crystal oscillator\n– 32 kHz oscillator for RTC with calibration– High Speed Internal 16  MHz\nfactory-trimmed RC (+/- 1%)\n– Internal Low-power 37 kHz RC– Internal multispeed low-power 65 kHz to\n4.2 MHz PLL for CPU clock an d USB\n(48 MHz)\n•Pre-programmed bootloader– USB and USART supported\n•Development support– Serial wire debug supported– JTAG and trace supported\n•Up to 83 fast I/Os (7 0 I/Os 5V tolerant), all\nmappable on 16 external interrupt vectors•Memories\n– 256 Kbytes of Flash memory with ECC\n– 32 Kbytes of RAM– 8 Kbytes of true EEPROM with ECC\n– 128-byte backup register\n•LCD Driver (except STM32L151xC devices) up \nto 8x40 segments, contrast adjustm ent,\nblinking mode, step-up converter\n•Rich analog peripherals (down to 1.8 V)– 2x operational amplifiers\n– 12-bit ADC 1Msps up to 25 channels\n– 12-bit DAC 2 channels with output buffers\n– 2x ultra-low-power-comparators\n(window mode and wa ke up capability)\n•DMA controller 12x channels\n•9x peripheral communication interfaces\n– 1x USB 2.0 (internal 48 MHz PLL)\n– 3x USARTs\n– Up to 8x SPIs (2x I2S, 3x 16 Mbit/s)\n– 2x I2Cs (SMBus/PMBus)\n•11x timers: 1x 32-bit, 6x 16-bit with up to 4\nIC/OC/PWM channels, 2x 16-bit basic timers,\n2x watchdog timers (i ndependent and window)\n•Up to 23 capacitive sensing channels\n•CRC calculation unit, 96-bit unique ID\nTable 1. Device summary\nReference Part number\nSTM32L151CC  \nSTM32L151RC(1) \nSTM32L151UC  \nSTM32L151VC(1)\n1. For sales types ending with “A” and STM32L15xxC products \nin WLCSP64 package, please refer to STM32L15xxC/C-A \ndatasheet .STM32 L151CCT6, STM32L151CCU6  \nSTM32L151RCT6  \nSTM32L151UCY6  \nSTM32L151VCT6, STM32L151VCH6\nSTM32L152CC  \nSTM32L152RC(1) \nSTM32L152UC  \nSTM32L152VC(1)STM32L152CCT6, STM32L152CCU6  \nSTM32L152RCT6  \nSTM32L152UCY6  \nSTM32L152VCT6, STM32L152VCH6LQFP100 (14 × 14 mm)  \nLQFP64 (10 × 10 mm)  \nLQFP48 (7 x 7 mm)UFBGA100\n(7 x 7 mm)WLCSP63\n(0.4 mm pitch)UFQFPN48\n(7x7 mm)\nwww.st.com\nContents STM32L151xC STM32L152xC\n2/136 DocID022799 Rev 13Contents\n1 Introduction . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 9\n2 Description . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 10\n2.1 Device overview . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .11\n2.2 Ultra-low-power device continuum . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 12\n2.2.1 Performance  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 12\n2.2.2 Shared peripherals  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 12\n2.2.3 Common system strategy. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 122.2.4 Features . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 12\n3 Functional overview  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 13\n3.1 Low-power modes  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 14\n3.2 ARM® Cortex®-M3 core with MPU . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 18\n3.3 Reset and supply management  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 19\n3.3.1 Power supply schemes  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 19\n3.3.2 Power supply supervisor  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 19\n3.3.3 Voltage regulator  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 20\n3.3.4 Boot modes  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 20\n3.4 Clock management  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 21\n3.5 Low-power real-time clock and backup registers . . . . . . . . . . . . . . . . . . . 233.6 GPIOs (general-purpose inputs/outputs)  . . . . . . . . . . . . . . . . . . . . . . . . . 23\n3.7 Memories  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 24\n3.8 DMA (direct memory access) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 243.9 LCD (liquid crystal display) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 25\n3.10 ADC (analog-to-digital converter) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 25\n3.10.1 Temperature sensor . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 26\n3.10.2 Internal voltage reference (VREFINT )  . . . . . . . . . . . . . . . . . . . . . . . . . . . 26\n3.11 DAC (digital-to-analog converter) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 26\n3.12 Operational amplifier  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 27\n3.13 Ultra-low-power comparators and reference voltage . . . . . . . . . . . . . . . . 273.14 System configuration controller and routi ng interface  . . . . . . . . . . . . . . . 27\n3.15 Touch sensing  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 27\nDocID022799 Rev 13 3/136STM32L151xC STM32L152xC Contents\n43.16 Timers and watchdogs . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 28\n3.16.1 General-purpose timers (TIM2, TIM3, TIM4, TIM5, TIM9, TIM10 and  \nTIM11)  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 28\n3.16.2 Basic timers (TIM6 and TIM7) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 29\n3.16.3 SysTick timer . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 29\n3.16.4 Independent watchdog (IWDG) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 293.16.5 Window watchdog (WWDG)  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 29\n3.17 Communication interfaces  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 29\n3.17.1 I²C bus . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 29\n3.17.2 Universal synchronous/asynchronous receiver transmitter (USART)  . . 30\n3.17.3 Serial peripheral interface (SPI) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 303.17.4 Inter-integrated sound (I2S) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 30\n3.17.5 Universal serial bus (USB) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 30\n3.18 CRC (cyclic redundancy check)  calculation unit  . . . . . . . . . . . . . . . . . . . 30\n3.19 Development support . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 31\n3.19.1 Serial wire JTAG debug port (SWJ-DP) . . . . . . . . . . . . . . . . . . . . . . . . . 31\n3.19.2 Embedded Trace Macrocell™ . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 31\n4 Pin descriptions  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 32\n5 Memory mapping . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 51\n6 Electrical characteristi cs  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 52\n6.1 Parameter conditions . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 52\n6.1.1 Minimum and maximum values . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 52\n6.1.2 Typical values  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 526.1.3 Typical curves  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 52\n6.1.4 Loading capacitor  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 52\n6.1.5 Pin input voltage  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 526.1.6 Power supply scheme  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 53\n6.1.7 Optional LCD power supply scheme . . . . . . . . . . . . . . . . . . . . . . . . . . . 54\n6.1.8 Current consumption measurement  . . . . . . . . . . . . . . . . . . . . . . . . . . . 54\n6.2 Absolute maximum ratings . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 55\n6.3 Operating conditions  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 56\n6.3.1 General operating conditions . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 56\n6.3.2 Embedded reset and power control bloc k characteristics . . . . . . . . . . . 57\n6.3.3 Embedded internal reference voltage  . . . . . . . . . . . . . . . . . . . . . . . . . . 59\nContents STM32L151xC STM32L152xC\n4/136 DocID022799 Rev 136.3.4 Supply current characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 60\n6.3.5 Wakeup time from low-power mode  . . . . . . . . . . . . . . . . . . . . . . . . . . . 716.3.6 External clock source characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . 72\n6.3.7 Internal clock source charac teristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . 77\n6.3.8 PLL characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 80\n6.3.9 Memory characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 80\n6.3.10 EMC characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 826.3.11 Electrical sensitivity characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . 83\n6.3.12 I/O current injection characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . 84\n6.3.13 I/O port characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 856.3.14 NRST pin characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 88\n6.3.15 TIM timer characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 89\n6.3.16 Communications interfaces . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 906.3.17 12-bit ADC characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 98\n6.3.18 DAC electrical specifications . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 103\n6.3.19 Operational amplifier characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . 1056.3.20 Temperature sensor characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . 107\n6.3.21 Comparator  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 107\n6.3.22 LCD controller  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 109\n7 Package information . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 110\n7.1 LQFP100, 14 x 14 mm, 100-pin low-profile quad flat package  \ninformation  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .110\n7.2 LQFP64, 10 x 10 mm, 64-pin low-profile quad flat package  \ninformation  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .113\n7.3 LQFP48, 7 x 7 mm, 48-pin low-profile quad flat package  \ninformation  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .116\n7.4 UFQFPN48 7 x 7 mm, 0.5 mm pitch, package information  . . . . . . . . . . .119\n7.5 UFBGA100, 7 x 7 mm, 100-ball ultra thin, fine pitch ball grid  \narray package information  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 122\n7.6 WLCSP63, 0.400 mm pitch wafer level chip size package  \ninformation  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 125\n7.7 Thermal characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 128\n7.7.1 Reference document . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 129\n8 Part numbering  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 130\n9 Revision History  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 131\nDocID022799 Rev 13 5/136STM32L151xC STM32L152xC List of tables\n6List of tables\nTable 1. Device summary . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . . . 1\nTable 2. Ultra-low-power STM32L151xC and STM32L152xC device features  \nand peripheral counts . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 11\nTable 3. Functionalities depending on the operating power supply range . . . . . . . . . . . . . . . . . . . . 15\nTable 4. CPU frequency range depending on dynamic voltag e scaling . . . . . . . . . . . . . . . . . . . . . . 16\nTable 5. Functionalities depending on the wo rking mode (from Run/active down to  \nstandby)  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 17\nTable 6. VLCD rail decoupling . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 25\nTable 7. Timer feature comparison. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . 28\nTable 8. Legend/abbreviations used in the pinout table . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 38Table 9. STM32L151xC and STM32L152xC pin definitions. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 38\nTable 10. Alternate function input/output  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 46\nTable 11. Voltage characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 55\nTable 12. Current characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 55\nTable 13. Thermal characteristics.  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . . 56\nTable 14. General operating conditions . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . 56\nTable 15. Embedded reset and power control block characterist ics. . . . . . . . . . . . . . . . . . . . . . . . . . 57\nTable 16. Embedded internal reference voltage calibration valu es  . . . . . . . . . . . . . . . . . . . . . . . . . . 59\nTable 17. Embedded internal reference voltage. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 5 9\nTable 18. Current consumption in Run mode, code with data processing running from Flash. . . . . . 61\nTable 19. Current consumption in Run mode, code wit h data processing running from RAM . . . . . . 62\nTable 20. Current consumption in Sleep mode  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 63Table 21. Current consumption in Low-power run mode . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 64Table 22. Current consumption in Low-power sleep mode  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 65Table 23. Typical and maximum current consumptions in St op mode . . . . . . . . . . . . . . . . . . . . . . . . 66\nTable 24. Typical and maximum current consumptions in Standby mode . . . . . . . . . . . . . . . . . . . . . 68\nTable 25. Peripheral current consumption . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . 69\nTable 26. Low-power mode wakeup timings  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 71Table 27. High-speed external user clock characteristics. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 72\nTable 28. Low-speed external user clock characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 73\nTable 29. HSE oscillator characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 74\nTable 30. LSE oscillator characteristics (f\nLSE = 32.768 kHz) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 75\nTable 31. HSI oscillator characteristics. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 77\nTable 32. LSI oscillator characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 77\nTable 33. MSI oscillator ch aracteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . 78\nTable 34. PLL characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . . . 80\nTable 35. RAM and hardware registers  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . 80\nTable 36. Flash memory and dat a EEPROM characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 81\nTable 37. Flash memory and data EEPROM endurance and retention . . . . . . . . . . . . . . . . . . . . . . . 81\nTable 38. EMS characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 82\nTable 39. EMI characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . . . 83\nTable 40. ESD absolute maximum ratings . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 83\nTable 41. Electrical sensitivities . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . . . . 84\nTable 42. I/O current injection susceptibility . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 84\nTable 43. I/O static characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . . . 85\nTable 44. Output voltage characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . 86\nTable 45. I/O AC characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 87\nTable 46. NRST pin characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . 88\nList of tables STM32L151xC STM32L152xC\n6/136 DocID022799 Rev 13Table 47. TIMx characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . . . 89\nTable 48. I2C characteristics. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 90\nTable 49. SCL frequency (fPCLK1 = 32 MHz, VDD = VDD_I2C = 3.3 V). . . . . . . . . . . . . . . . . . . . . . . . 91\nTable 50. SPI characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 92\nTable 51. USB startup time. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 95\nTable 52. USB DC electrical characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . 95\nTable 53. USB: full speed electrical characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  95\nTable 54. I2S characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 96\nTable 55. ADC clock frequency  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 98\nTable 56. ADC characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 98\nTable 57. ADC accuracy. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 100\nTable 58. Maximum source impedance RAIN max . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 102\nTable 59. DAC characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 103\nTable 60. Operational amplifier characteristic s. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  105\nTable 61. Temperature sensor calibration values. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 107\nTable 62. Temperature sensor characteristic s . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 10 7\nTable 63. Comparator 1 characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . 107\nTable 64. Comparator 2 characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . 108\nTable 65. LCD controller characteristics. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 109\nTable 66. LQPF100, 14 x 14 mm, 100-pin low-profile quad flat package mechanical data . . . . . . . 110\nTable 67. LQFP64, 10 x 10 mm 64-pin low-profile quad flat package mechanical data. . . . . . . . . . 113Table 68. LQFP48, 7 x 7 mm, 48-pin low-profile quad flat package mechanical data . . . . . . . . . . . 117Table 69. UFQFPN48 – ultra thin fine pitch quad flat pack no-lead 7 × 7 mm,  \n 0.5 mm pitch package mechanical data  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 120\nTable 70. UFBGA100, 7 x 7 mm, 0.5 mm pitch package mech anical data  . . . . . . . . . . . . . . . . . . . 122\nTable 71. UFBGA100, 7 x 7 mm, 0.50 mm pitch, recomme nded PCB design rules  . . . . . . . . . . . . 123\nTable 72. WLCSP63, 0.400 mm pitch wafer level chip si ze package mechanical data . . . . . . . . . . 126\nTable 73. Thermal characteristics.  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . 128\nTable 74. STM32L151xC and STM32L152xC ordering informa tion scheme . . . . . . . . . . . . . . . . . . 130\nTable 75. Document revision history  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 131\nDocID022799 Rev 13 7/136STM32L151xC STM32L152xC List of figures\n8List of figures\nFigure 1. Ultra-low-power STM32L151xC and STM32L152xC block diagram  . . . . . . . . . . . . . . . . . 13\nFigure 2. Clock tree . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . . . . . . 22\nFigure 3.  STM32L15xVC UFBGA100 ballout . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 32\nFigure 4. STM32L15xVC LQFP100 pinout  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 33Figure 5. STM32L15xRC LQFP64 pinout  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 34Figure 6. STM32L15xUC WLCSP63 ballout . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 35\nFigure 7. STM32L15xCC UFQFPN48 pinout. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 36\nFigure 8. STM32L15xCC LQFP48 pinout  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 37Figure 9. Memory map. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 51\nFigure 10. Pin loading conditions. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . . . 52\nFigure 11. Pin input voltage . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 52\nFigure 12. Power supply scheme. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 53\nFigure 13. Optional LCD power supply scheme  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 54\nFigure 14. Current consumption measurement scheme . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 54\nFigure 15. High-speed external clock source AC timing diagra m  . . . . . . . . . . . . . . . . . . . . . . . . . . . . 72\nFigure 16. Low-speed external clock source AC timing diagram.  . . . . . . . . . . . . . . . . . . . . . . . . . . . . 73\nFigure 17. HSE oscillator circuit diagram. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . 75\nFigure 18. Typical application with a 32.768 kHz crystal . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 76\nFigure 19. I/O AC characteristics definition . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . 88\nFigure 20. Recommended NRST pin protection  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 89\nFigure 21. I\n2C bus AC waveforms and measurement ci rcuit . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 91\nFigure 22. SPI timing diagram - slave mode and CPHA = 0 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 93Figure 23. SPI timing diagram - slave mode and CPHA = 1\n(1) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 93\nFigure 24. SPI timing diagram - master mode(1) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 94\nFigure 25. USB timings: definition of data signal rise and fa ll time  . . . . . . . . . . . . . . . . . . . . . . . . . . . 95\nFigure 26. I2S slave timing diagram (Philips protocol)(1) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 97\nFigure 27. I2S master timing diag ram (Philips protocol)(1). . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 97\nFigure 28. ADC accuracy characteristics. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . 101\nFigure 29. Typical connection diagram using the ADC . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 101Figure 30. Maximum dynamic current consumption on V\nREF+ supply pin during ADC  \nconversion  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 102\nFigure 31. 12-bit buffered /non-buffered DAC . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  105\nFigure 32. LQFP100, 14 x 14 mm, 100-pin low-profile quad flat package outline . . . . . . . . . . . . . . . 110\nFigure 33. LQFP100, 14 x 14 mm, 100-pin low-profile quad flat package  \nrecommended footprint. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 111\nFigure 34. LQFP100, 14 x 14 mm, 100-pin low-profile quad flat package top view example  . . . . . . 112\nFigure 35. LQFP64, 10 x 10 mm, 64-pin low-profile quad flat package outline . . . . . . . . . . . . . . . . . 113\nFigure 36. LQFP64, 10 x 10 mm, 64-pin low-profile quad flat package  \nrecommended footprint. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 114\nFigure 37. LQFP64 10 x 10 mm, 64-pin low-profile quad flat package top view example . . . . . . . . . 115\nFigure 38. LQFP48, 7 x 7 mm, 48-pin low-profile quad flat  package outline . . . . . . . . . . . . . . . . . . . 116\nFigure 39. LQFP48 recommended footprint  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 11 7\nFigure 40. LQFP48 package top view example . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 118\nFigure 41. UFQFPN48 7 x 7 mm, 0.5 mm pitch, package outli ne . . . . . . . . . . . . . . . . . . . . . . . . . . . 119\nFigure 42. UFQFPN48 recommended footprint . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 120Figure 43. UFQFPN48 package top view example . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 121Figure 44. UFBGA100, 7 x 7 mm, 0.5 mm pitch package outlin e . . . . . . . . . . . . . . . . . . . . . . . . . . . 122\nFigure 45. UFBGA100, 7 x 7 mm, 0.5 mm pitch, packa ge recommended footprint. . . . . . . . . . . . . . 123\nList of figures STM32L151xC STM32L152xC\n8/136 DocID022799 Rev 13Figure 46. UFBGA100, 7 x 7 mm, 0.5 mm pitch, package top view example . . . . . . . . . . . . . . . . . . 124\nFigure 47. WLCSP63, 0.400 mm pitch wafer level chip size  package outline . . . . . . . . . . . . . . . . . . 125\nFigure 48. WLCSP63 device marking example .  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 127\nFigure 49. Thermal resistance suffix 6  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 129\nFigure 50. Thermal resistance suffix 7    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 129\nDocID022799 Rev 13 9/136STM32L151xC STM32L152xC Introduction\n511 Introduction\nThis datasheet provides the ordering informat ion and mechanical devic e characteristics of \nthe STM32L151xC and STM32L152xC ultra-low-power ARM® Cortex®-M3 based \nmicrocontroller product line with a Flash memory of 256 Kbytes.\nThe ultra-low-power STM32L151xC and STM32L152xC family includes devices in 6 \ndifferent package types: from 48 pins to 100 pins. Depending on the device chosen, different sets of peripherals are included, the description below gives an overview of the complete range of peripherals proposed in this family.\nThese features make the ultra-low-power STM32L151xC and STM32L152xC microcontroller family suitable for a wide range of applications:\n• Medical and handheld equipment\n• Application control and user interface\n• PC peripherals, gaming, GPS and sport equipment\n• Alarm systems, wired and wireless sensors, video intercom\n• Utility metering\nThis STM32L151xC and STM32L152xC datasheet should be read in conjunction with the \nSTM32L1xxxx reference manual (RM0038). The application note “Getting started with \nSTM32L1xxxx hardware development” (AN3216) gives a hardware implementation overview. Both documents are available from the STMicroelectronics website www.st.com .\nFor information on the ARM® Cortex®-M3 core please refer to the ARM® Cortex®-M3 \ntechnical reference manual, availabl e from the www.arm.com website. Figure  1 shows the \ngeneral block diagram of the device family.\nDescription STM32L151xC STM32L152xC\n10/136 DocID022799 Rev 132 Description\nThe ultra-low-power STM32L151xC and STM32L152xC devices incorporate the \nconnectivity power of the universal seri al bus (USB) with the high-performance ARM® \nCortex®-M3 32-bit RISC core operating at a frequ ency of 32 MHz (33.3 DMIPS), a memory \nprotection unit (MPU), high-speed embedded memories (Flash memory up to 256  Kbytes \nand RAM up to 32 Kbytes) and an extensiv e range of enhanced I/Os and peripherals \nconnected to two APB buses.\nThe STM32L151xC and STM32L152xC devices offer two operational amplifiers, one 12-bit ADC, two DACs, two ultra-low-power comparators, one general-purpose 32-bit timer, six general-purpose 16-bit timers and two basic  timers, which can be used as time bases.\nMoreover, the STM32L151xC and STM32L152xC devices contain standard and advanced \ncommunication interfaces: up to  two I2Cs, three SPIs, two I2S, three USARTs and an USB. \nThe STM32L151xC and STM32L152xC devices offer up to 23  capacitive sensing channels \nto simply add a touch sensing functionality to any application.\nThey also include a real-time clock and a set of backup registers that remain powered in Standby mode.\nFinally, the integrated LCD controller (except STM32L151xC devices) has a built-in LCD voltage generator that allows to drive up  to 8 multiplexed LCDs with the contrast \nindependent of the supply voltage.\nThe ultra-low-power STM32L151xC and STM32L152xC devices operate from a 1.8 to 3.6  V \npower supply (down to 1.65  V at power down) with BOR and from a 1.65 to 3.6  V power \nsupply without BOR option. They are available in the -40 to +85 °C and -40 to +105 °C temperature ranges. A comprehensive set of po wer-saving modes allows the design of low-\npower applications.\n \nDocID022799 Rev 13 11/136STM32L151xC STM32L152xC Description\n512.1 Device overview\n          Table 2. Ultra-low-power STM32L151xC and STM32L152xC device features\nand peripheral counts \nPeripheral STM32L15xCCSTM32L15xUC\nSTM32L15xRCSTM32L15xVC\nFlash (Kbytes) 256\nData EEPROM (Kbytes) 8\nRAM (Kbytes) 32\nTimers32 bit 1\nGeneral-\npurpose6\nBasic 2\nCommunica  \ntion interfacesSPI 8(3)(1)\n1. 5 SPIs are USART configured in synchronous mode emulating SPI master.I2S 2\nI2C 2\nUSART 3\nUSB 1\nGPIOs 37 51 83\nOperation amplifiers 2\n12-bit synchronized ADC  \nNumber of channels1\n141\n211\n25\n12-bit DAC  \nNumber of channels2\n2\nLCD (2)  \nCOM x SEG\n2. STM32L152xx devices only.1\n4x181\n4x32 or 8x281\n4x44 or 8x40\nComparators 2\nCapacitive sensing channels 16 23\nMax. CPU frequency 32 MHz\nOperating voltage1.8 V to 3.6 V (down to 1.65 V at power-down) with BOR option\n1.65 V to 3.6 V without BOR option\nOperating temperaturesAmbient operating temperature: -40 °C to 85 °C / -40 °C to 105 °C\nJunction temperature: –40 to + 110 °C\nPackagesLQFP48,\nUFQFPN48LQFP64,\nWLCSP63LQFP100,\nUFBGA100\nDescription STM32L151xC STM32L152xC\n12/136 DocID022799 Rev 132.2 Ultra-low-power device continuum\nThe ultra-low-power family offers a large choice of cores and features. From proprietary 8-\nbit to up to Cortex-M3, including the Cortex-M0+, the STM32Lx series are the best choice to answer the user needs, in terms of ultra-lo w-power features. The STM32 ultra-low-power \nseries are the best fit, for instance, for gas/water meter, keyboard/mouse or fitness and healthcare, wearable applications. Several bu ilt-in features like LCD drivers, dual-bank \nmemory, Low-power run mode , op-amp, AES 128-bit, DAC, USB crystal-less and many \nothers will clearly allow to bu ild very cost-optimized app lications by reducing BOM.\nNote: STMicroelectronics as a reliable and long-term manufacturer ensures as much as possible \nthe pin-to-pin compatibility between an y STM8Lxxxxx and STM3 2Lxxxxx devices and \nbetween any of the STM32Lx and STM32Fx series. Thanks to this unprecedented scalability, the old applications can be upgraded to respond to t he latest market  features and \nefficiency demand.\n2.2.1 Performance\nAll the families incorporate high ly energy-efficient cores with both Harvard ar chitecture and \npipelined execution: advanced STM8 core fo r STM8L families and AR M Cortex-M3 core for \nSTM32L family. In addition specific care for the design architecture has been taken to optimize the mA/DMIPS and mA/MHz ratios.\nThis allows the ultra-low-power performance to range from 5 up to 33.3  DMIPs.\n2.2.2 Shared peripherals\nSTM8L15xxx, STM32L15xxx and STM32L162xx share identical peripherals which ensure a very easy migration from one family to another:\n• Analog peripherals: ADC, DAC and comparators\n• Digital peripherals: RTC and some communication interfaces\n2.2.3 Common system strategy.\nTo offer flexibility and opt imize performance, the ST M8L15xxx, STM32L15xxx and \nSTM32L162xx family uses a common architecture:\n• Same power supply range from 1.65 V to 3.6 V\n• Architecture optimized to reach ultra-low consumption both in low-power modes and \nRun mode\n• Fast startup strategy from low-power modes\n• Flexible system clock\n• Ultrasafe reset: same  reset strategy including powe r-on reset, power-down reset, \nbrownout reset and programmable voltage detector\n2.2.4 Features\nST ultra-low-power continuum al so lies in feature compatibility:\n• More than 15 packages with pin count from 20 to 144 pins and size down to 3 x 3 mm\n• Memory density ranging from 2 to 512 Kbytes\nDocID022799 Rev 13 13/136STM32L151xC STM32L152xC Functional overview\n513 Functional overview\nFigure 1. Ultra-low-power STM32L151xC and STM32L152xC block diagram\n-7\',1-7567\n\x15[\x0b\x1b[\x14\x19ELW\x0c,QWHUIDFH((ð\n#9\'\'$\n\x14\x15ELW\x03\'$&\x14\n),),\n\x14\x15ELW\x03\'$&\x150389UHI\n57&B2873\'5\n*HQHUDO\x03SXUSRVH\nWLPHUV\x15[\x0b\x1b75$&(&.\x0f\x0375$&(\'\x13\x0f\x0375$&(\'\x14\x0f\x0375$&(\'\x15\x0f\x0375$&(\'\x17\nSEXV\n&DS\x11\x03VHQV6XSSO\\\nPRQLWRULQJ\x03\x03\n#9\'\'$#9\'\'$\n#9\'\'$\n#9\'\'$6XSSO\\\x03PRQLWRULQJ\n06Y\x16\x17\x14\x1a\x1a9\x153//\x03\t\n&ORFN\n0JPW\n9,13\n9,10\n92879,13\n9,109287$+%\x12$3%\x15 $+%\x12$3%\x14((3520\x03\x03\x19\x17ELWV\n\x15\x18\x19.%\x03352*5$0\x03\n\x1b.%\x03\'$7$\n\x1b.%\x03%227-&7.\x03\x12\x036:&/.\n-706\x03\x12\x036:\'$7\n*3\x03\'0$\x03\x1a\x03FKDQQHOV\n*3\x03\'0$\x15\x03\x18\x03FKDQQHOV6\\VWHP\n65$0\x03\x03\x16\x15.-7\'20\x16\x03&38\n%25\x03\x12\x03%JDS\n39\'\n*3\x03&RPS\n*3,2\x033257\x03+*3,2\x033257\x03(*3,2\x033257\x03\'*3,2\x033257\x03&*3,2\x033257\x03%*3,2\x033257\x03$$V\x03$)-7$*\x03\t\x036:\n\'EXV,EXV\n3\'5\n;7$/\x0326&\n\x14\x03\x10\x03\x15\x17\x030+]\n;7$/\x03\x16\x15N+]\n%DFNXS\n5HJ\x03\x14\x15\x1b57&\x039\x15\n$:85&\x03\x03\x03+6,\n5&\x03\x03\x0306,\n5&\x03\x03\x03/6,\n%DFNXS\x03LQWHUIDFH9\'\'$\x03\x12\n966$\n7,0(5\x1c\n7,0(5\x14\x13\n7,0(5\x14\x1423$03\x14\n23$03\x15,\x15&\x15,\x15&\x1463,\x16\x12,\x15663,\x15\x12,\x15686$57\x1686$57\x157,0(56\x03\x0b\x16\x15\x03ELWV\x0c7,0(5\x177,0(5\x167,0(5\x15/&\'\x03%RRVWHU#9\'\'\x03\x16\x16#\x039\'\'\x03\x16\x16\n9\'\'\x03&25(\n$+%3&/.\n$3%3&/.\n+&/.\n)&/. :\'*\x03\x16\x15.\n6WDQGE\\\x03\nLQWHUIDFH7UDFH\x03&RQWUROOHU\x03(70\n92/7\x03\x11\x035(*\n26&B,1\n26&B287\n26&\x16\x15B,1\n26&\x16\x15B287\n7$03(5\n9/&\'\x03 \x03\x15\x11\x189\x03WR\x03\x16\x11\x199\n\x17\x03&KDQQHOV\n\x17\x03&KDQQHOV\n\x17\x03&KDQQHOV\n\x17\x03&KDQQHOV\n\x18\x04\x12ͺKhdϭ\x03ĂƐ\x03\x04&\n\x18\x04\x12ͺKhdϮ\x03ĂƐ\x03\x04&5;\x0f\x037;\x0f\x03&76\x0f\x03576\x0f\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\n6PDUW&DUG\x03DV\x03$)\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\n5;\x0f\x037;\x0f\x03&76\x0f\x03576\x0f\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\n6PDUW&DUG\x03DV\x03$)\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\n026,\x0f\x030,62\x0f\x036&.\x0f166\x0f:6\x0f\x03&.\n0&.\x0f\x036\'\x03DV\x03$)\n026,\x0f\x030,62\x0f\x036&.\x0f166\x0f:6\x0f\x03&.\n0&.\x0f\x036\'\x03DV\x03$)\n6&/\x0f\x036\'$$V\x03$)\n6&/\x0f\x036\'$\x0f\x0360%XV\x0f\x0330%XV$V\x03$)\n86%B\'3\n86%B\'0\n3[\n6(*[\n&20[\n/&&DS\x11\x03VHQVLQJ\n/&\'\x03\x1b[\x17\x1386%\x15\x11\x13\x03)6\x03GHYLFH$3%\x14\x1d\x03)PD[\x03 \x03\x16\x15\x030+]7,0(5\x1a7,0(5\x19:LQ:$7&+\'2*86%\x0365$0\x03\x18\x14\x15\x03%$3%\x15\x1d\x03)PD[\x03 \x03\x16\x15\x030+]/&\n7HPS\x03VHQVRU\x14\x15ELW\x03$\'&86$57\x1463,\x14(;7\x11,7\n:.8338\x03\x12\x033\'%25\n,QW)PD[\x1d\x03\x16\x15\x030+]\n19,&\n&203[B,1[\n3$>\x14\x18\x1d\x13@\n\x1b\x16\x03$)3+>\x15\x1d\x13@3%>\x14\x18\x1d\x13@\n3&>\x14\x18\x1d\x13@\n3\'>\x14\x18\x1d\x13@\n3(>\x14\x18\x1d\x13@\n\x15\x03FKDQQHOV\n\x14\x03FKDQQHO\n\x14\x03FKDQQHO026,\x0f\x030,62\x0f\n6&.\x0f\x03166\x03DV\x03$)\n5;\x0f\x037;\x0f\x03&76\x0f\x03576\x0f\x03\n6PDUW&DUG\x03DV\x03$)\n\x15\x18\x03$)\n9\'\'5()B$\'&\r\n9665()B$\'&\r\n$+%\x1d\x03\x03)PD[\x03 \x03\x16\x15\x030+]%XV\x030DWUL[\x03\x180\x03\x12\x03\x186EZ^d9\'\'\x16\x16 \x14\x11\x19\x189\x03WR\x03\x16\x11\x199\n9VV\n#\x039\'\'\x03\x16\x169\x03/&\'32:(5REO\nFunctional overview STM32L151xC STM32L152xC\n14/136 DocID022799 Rev 133.1 Low-power modes\nThe ultra-low-power STM32L151xC and STM32L152xC devices support dynamic voltage \nscaling to optimize its power consumption in run mode. The voltage from the internal low-drop regulator that supplies the logic can be adjusted according to the system’s maximum \noperating frequency and the external voltage supply. \nThere are three power consumption ranges: \n• Range 1 (VDD range limited to 1.71 V - 3.6 V), with the CPU running at up to 32  MHz\n• Range 2 (full VDD range), with a maximum CPU frequency of 16 MHz\n• Range 3 (full VDD range), with a maximum CPU frequency limited to 4 MHz (generated \nonly with the multispeed intern al RC oscillator clock source)\nSeven low-power modes are provided to achieve the best compromise between low-power \nconsumption, short startup time and available wakeup sources:\n• Sleep  mode\nIn Sleep mode, only the CPU is stopped. All peripherals continue to operate and can \nwake up the CPU when an interrupt/event occurs. Sleep mode power consumption at 16 MHz is about 1 mA with all peripherals off.\n• Low-power run  mode\nThis mode is achieved with t he multispeed in ternal (MSI) RC oscilla tor set to the MSI \nrange 0 or MSI range 1 clock range (maximum 131 kHz), execution from SRAM or Flash memory, and internal regulator in low-power mode to minimize the regulator\'s operating current. In low-power run mode, the clock frequency and the number of enabled peripherals are both limited.\n• Low-power sleep  mode\nThis mode is achieved by entering Sleep mode with the internal voltage regulator in \nLow-power mode to minimize the regulator’s  operating current. In Low-power sleep \nmode, both the clock frequency and the number of enabled peripherals are limited; a typical example would be to have a timer running at 32 kHz.\nWhen wakeup is triggered by an event or an interrupt, the system reverts to the run \nmode with the regulator on.\n• Stop  mode with RTC\nStop mode achieves the lowest power consumption while retaining the RAM and \nregister contents and real time clock. All clocks in the V\nCORE  domain are stopped, the \nPLL, MSI RC, HSI RC and HSE crystal oscillato rs are disabled. The LSE or LSI is still \nrunning. The voltage regulator is in the low-power mode.\nThe device can be woken up from Stop mode by any of the EXTI line, in 8 µs. The EXTI \nline source can be one of the 16 external  lines. It can be the PVD output, the \nComparator 1 event or Comparator 2 event (if internal reference voltage is on), it can \nbe the RTC alarm(s), the USB wakeup, the RTC tamper events, the RTC timestamp event or the RTC wakeup.\nDocID022799 Rev 13 15/136STM32L151xC STM32L152xC Functional overview\n51• Stop  mode without RTC\nStop mode achieves the lowest power consumption while retaining the RAM and \nregister contents. All clocks are stopped,  the PLL, MSI RC, HSI and LSI RC, LSE and \nHSE crystal oscillators are disabled. The vo ltage regulator is in  the low-power mode. \nThe device can be woken up from Stop mode by any of the EXTI line, in 8 µs. The EXTI line source can be one of the 16 external  lines. It can be the PVD output, the \nComparator 1 event or Comparator 2 event (if internal reference voltage is on). It can \nalso be wakened by the USB wakeup.\n• Standby  mode with RTC\nStandby mode is used to achieve the lowest  power consumption and real time clock. \nThe internal voltage regulator is switched off so that the entire V\nCORE  domain is \npowered off. The PLL, MSI RC, HSI RC and HSE crystal oscillators  are also switched \noff. The LSE or LSI is still running. After entering Standby mode, the RAM and register \ncontents are lost except fo r registers in the Standby circuitry (wakeup logic, IWDG, \nRTC, LSI, LSE Crystal 32K osc, RCC_CSR).\nThe device exits Standby mode in 60 µs when an external reset (NRST pin), an IWDG \nreset, a rising edge on one of the three WKUP pins, RTC alarm (Alarm A or Alarm B), RTC tamper event, RTC timestamp event or RTC Wakeup event occurs.\n• Standby  mode without RTC\nStandby mode is used to achieve the lowest  power consumption. The internal voltage \nregulator is switched off so that the entire V\nCORE  domain is powered off. The PLL, MSI \nRC, HSI and LSI RC, HSE and LSE crystal os cillators are also switched off. After \nentering Standby mode, the RAM and register contents are lost except for registers in the Standby circuitry (wakeup logic, IW DG, RTC, LSI, LSE Crystal 32K osc, \nRCC_CSR).\nThe device exits Standby mode in 60 µs when an external reset (NRST pin) or a rising \nedge on one of the three WKUP pin occurs.\nNote: The RTC, the IWDG, and the corresponding clock sources are not stopped automatically by \nentering Stop or Standby mode.\nTable 3. Functionalities depending on  the operating power supply range \nFunctionalities depending on the operating power supply \nrange(1)\nOperating power supply \nrangeDAC and ADC \noperationUSBDynamic voltage scaling \nrange\nVDD= VDDA = 1.65 to 1.71 V Not functional Not functional Range 2 or Range 3\nVDD=VDDA= 1.71 to 1.8 V(2)Not functional Not functionalRange 1, Range 2 or \nRange 3\nVDD=VDDA= 1.8 to 2.0 V(2) Conversion time up \nto 500 KspsNot functionalRange 1, Range 2 or \nRange 3\nFunctional overview STM32L151xC STM32L152xC\n16/136 DocID022799 Rev 13          VDD=VDDA = 2.0 to 2.4 VConversion time up \nto 500 KspsFunctional(3) Range 1, Range 2 or \nRange 3\nVDD=VDDA = 2.4 to 3.6 VConversion time up \nto 1 MspsFunctional(3) Range 1, Range 2 or \nRange 3\n1. The GPIO speed also depends from VDD vo ltage and the user has to refer to Table 45: I/O AC \ncharacteristics  for more information about I/O speed.\n2. CPU frequency changes from initial to final must respect “FCPU initial < 4*FCPU final” to limit VCORE  drop \ndue to current consumption peak when frequency increases . It must also respect 5 µs delay between two \nchanges. For example to switch from 4.2 MHz to 32 MH z, the user can switch from 4.2 MHz to 16 MHz, \nwait 5 µs, then switch from 16 MHz to 32 MHz.\n3. Should be USB compliant from I/O voltage standpoint, the minimum VDD is 3.0 V.\nTable 4. CPU frequency range depending on dynamic voltage scaling \n CPU frequency range Dynamic voltage scaling range\n16 MHz to 32 MHz (1ws)\n32 kHz to 16 MHz (0ws)Range 1\n8 MHz to 16 MHz (1ws)\n32 kHz to 8 MHz (0ws)Range 2\n2.1MHz to 4.2 MHz (1ws)\n32 kHz to 2.1 MHz (0ws)Range 3Table 3. Functionalities depending on the operating power supply range (continued)\nFunctionalities depending on the operating power supply \nrange(1)\nOperating power supply \nrangeDAC and ADC \noperationUSBDynamic voltage scaling \nrange\nDocID022799 Rev 13 17/136STM32L151xC STM32L152xC Functional overview\n51          Table 5. Functionalities depending on the working mode (from Run/active down to \nstandby) \nIps Run/Active SleepLow-\npower \nRunLow-\npower \nSleepStop Standby\nWakeup \ncapabilityWakeup \ncapability\nCPU Y -- Y -- -- -- -- --\nFlash Y Y Y Y -- -- -- --\nRAM Y Y Y Y Y -- -- --\nBackup Registers Y Y Y Y Y -- Y --EEPROM Y Y Y Y Y -- -- --\nBrown-out rest \n(BOR)YY Y Y Y Y Y - -\nDMA Y Y Y Y -- -- -- --\nProgrammable \nVoltage Detector \n(PVD)YY Y Y Y Y Y - -\nPower On Reset \n(POR)YY Y Y Y Y Y - -\nPower Down Rest \n(PDR)YY Y Y Y - - Y - -\nHigh Speed \nInternal (HSI)Y Y -- -- -- -- -- --\nHigh Speed \nExternal (HSE)Y Y -- -- -- -- -- --\nLow Speed Internal \n(LSI)YY Y Y Y - - Y - -\nLow Speed \nExternal (LSE)YY Y Y Y - - Y - -\nMulti-Speed \nInternal (MSI)Y Y Y Y -- -- -- --\nInter-Connect \nControllerY Y Y Y -- -- -- --\nRTC Y Y Y Y Y Y Y --\nRTC Tamper Y Y Y Y Y Y Y Y\nAuto WakeUp \n(AWU)YY Y Y Y Y Y Y\nLCD Y Y Y Y Y -- -- --\nUSB Y Y -- -- -- Y -- --USART Y Y Y Y Y\n(1)-- --\nSPI Y Y Y Y -- -- -- --\nI2C Y Y -- -- --(1)-- --\nFunctional overview STM32L151xC STM32L152xC\n18/136 DocID022799 Rev 133.2 ARM® Cortex®-M3 core with MPU\nThe ARM® Cortex®-M3 processor is the industry lead ing processor for embedded systems. \nIt has been developed to provide a low-cost platform that meets the needs of MCU implementation, with a reduced pin count and low-power consumption, while delivering outstanding computational performance and an advanced system response to interrupts.\nThe ARM® Cortex®-M3 32-bit RISC processor features exceptional code-efficiency, \ndelivering the high-performance expected from an ARM core in the memory size usually \nassociated with 8- and 16-bit devices.ADC Y Y -- -- -- -- -- --\nDAC Y Y Y Y Y -- -- --Tempsensor Y Y Y Y Y -- -- --\nOP amp Y Y Y Y Y -- -- --\nComparators Y Y Y Y Y Y -- --16-bit and 32-bit \nTimersY Y Y Y -- -- -- --\nIWDG Y Y Y Y Y Y Y Y\nWWDG Y Y Y Y -- -- -- --\nTouch sensing Y Y -- -- -- -- -- --Systic Timer Y Y Y Y -- -- --\nGPIOs Y Y Y Y Y Y -- 3 pins\nWakeup time to \nRun mode0 µs 0.4  µs 3 µs 46  µs < 8 µs 58  µs\nConsumption \nV\nDD=1.8 to 3.6 V \n(Typ)Down to 185 \nµA/MHz (from \nFlash)Down to 34.5 \nµA/MHz (from \nFlash)Down to \n8.6 µADown to \n4.4 µA0.43 µA \n(no RTC)\nVDD=1.8V0.29 µA \n(no RTC) \nVDD=1.8V\n1.15 µA \n(with RTC) \nVDD=1.8V0.9 µA \n(with RTC) \nVDD=1.8V\n0.44 µA \n(no RTC) \nVDD=3.0V0.29 µA \n(no RTC) \nVDD=3.0V\n1.4 µA \n(with RTC) \nVDD=3.0V1.15 µA \n(with RTC) \nVDD=3.0V\n1. The startup on communication line wakes the CPU which wa s made possible by an EXTI, th is induces a delay before \nentering run mode.Table 5. Functionalities depending on the working mode (from Run/active down to \nstandby) (continued)\nIps Run/Active SleepLow-\npower \nRunLow-\npower \nSleepStop Standby\nWakeup \ncapabilityWakeup \ncapability\nDocID022799 Rev 13 19/136STM32L151xC STM32L152xC Functional overview\n51The memory protection unit (MPU) improves  system reliability by defining the memory \nattributes (such as read/write access permissions ) for different memory regions. It provides \nup to eight different regions and an optional predefined background region.\nOwing to its embedded ARM core, the STM32L151xC and STM32L152xC devices are \ncompatible with all ARM tools and software.\nNested vectored interrupt controller (NVIC)\nThe ultra-low-power STM32L151xC and STM32L152xC devices embed a nested vectored interrupt controller able to handle up to 53 maskable interrupt channels (not including the 16 interrupt lines of ARM\n® Cortex®-M3) and 16 priority levels.\n• Closely coupled NVIC gives low-latency interrupt processing\n• Interrupt entry vector table address passed directly to the core\n• Closely coupled NVIC core interface\n• Allows early processing of interrupts\n• Processing of late arriving , higher-priority interrupts\n• Support for tail-chaining\n• Processor state automatically saved on interr upt entry, and restored on interrupt exit, \nwith no instruction overhead\nThis hardware block provides flexible interrupt management features with minimal interrupt \nlatency.\n3.3 Reset and supply management\n3.3.1 Power supply schemes\n• VDD = 1.65 to 3.6 V: external power supply fo r I/Os and the internal regulator. Provided \nexternally through VDD pins.\n• VSSA, VDDA = 1.65 to 3.6 V: external analog power supplies for ADC, reset blocks, RCs \nand PLL (minimum voltage to be applied to VDDA is 1.8 V when the ADC is used). VDDA \nand VSSA must be connected to VDD and VSS, respectively.\n3.3.2 Power supply supervisor\nThe device has an integrated ZEROPOWER power-on reset (POR)/power-down reset (PDR) that can be coupled with a brownout reset (BOR) circuitry. \nThe device exists in two versions:\n• The version with BOR activated at power-on operates between 1.8 V and 3.6 V.\n• The other version without BOR oper ates between 1.65 V and 3.6 V. \nAfter the VDD threshold is reached (1.65 V or 1.8 V depending on the BOR which is active or \nnot at power-on), the option byte loading process starts, either to confirm or modify default \nthresholds, or to disable the BOR permanently: in this case, the VDD min value becomes \n1.65 V (whatever the version, BO R active or not, at power-on).\nWhen BOR is active at power-on, it ensures proper operation starting from 1.8  V whatever \nthe power ramp-up phase before it reaches 1.8 V. When BOR is not active at power-up, the power ramp-up should guarantee that 1.65\n V is reached on VDD at least 1 ms after it exits \nthe POR area.\nFunctional overview STM32L151xC STM32L152xC\n20/136 DocID022799 Rev 13Five BOR thresholds are available thro ugh option bytes, starting from 1.8  V to 3  V. To \nreduce the power consumption in Stop mode, it is possible to automatically switch off the internal reference voltage (V\nREFINT ) in Stop mode. The device remains in reset mode when \nVDD is below a specified threshold, VPOR/PDR or VBOR, without the need for any external \nreset circuit.\nNote: The start-up time at power-on is typically 3.3 ms when BOR is active  at power-up, the start-\nup time at power-on can be decreased down to 1  ms typically for  device s with BOR inactive \nat power-up.\nThe device features an embedded programmable voltage detector (PVD) that monitors the \nVDD/VDDA power supply and compares it to the VPVD threshold. This PVD offers 7 different \nlevels between 1.85  V and 3.05  V, chosen by software, with a step around 200  mV. An \ninterrupt can be generated when VDD/VDDA drops below the VPVD threshold and/or when \nVDD/VDDA is higher than the VPVD threshold. The interrupt service routine can then generate \na warning message and/or put the MCU into a safe state. The PVD is enabled by software.\n3.3.3 Voltage regulator\nThe regulator has three operation modes: main (MR), low-power (LPR) and power down.\n• MR is used in Run mode (nominal regulation)\n• LPR is used in the Low-power run, Low-power sleep and Stop modes\n• Power down is used in Standby mode. The regulator output is high impedance, the \nkernel circuitry is powered down, inducing zero consumption but the contents of the registers and RAM are lost except for the st andby circuitry (wakeup logic, IWDG, RTC, \nLSI, LSE crystal 32K osc, RCC_CSR).\n3.3.4 Boot modes\nAt startup, boot pins are used to  select one of three boot options:\n• Boot from Flash memory\n• Boot from System memory\n• Boot from embedded RAM\nThe boot loader is located in System memory. It is used to reprogram the Flash memory by \nusing USART1, USART2 or USB. See Applic ation note “STM32 microcontroller system \nmemory boot mode” (AN2606) for details.\nDocID022799 Rev 13 21/136STM32L151xC STM32L152xC Functional overview\n513.4 Clock management\nThe clock controller distributes the clocks coming  from different oscillators to the core and \nthe peripherals. It also manages clock gating for low-power modes and ensures clock robustness. It features:\n• Clock prescaler : to get the best trade-off between speed and current consumption, the \nclock frequency to the CPU and peripherals can be adjusted by a programmable prescaler.\n• Safe clock switching : clock sources can be changed safely on the fly in run mode \nthrough a configuration register.\n• Clock management : to reduce power consumption, the clock controller can stop the \nclock to the core, individual peripherals or memory.\n• System clock source : three different clock sources can be used to drive the master \nclock SYSCLK:\n– 1-24 MHz high-speed external crystal (HSE), that can supply a PLL– 16 MHz high-speed internal RC oscillator (H SI), trimmable by software, that can \nsupply a PLL\n– Multispeed internal RC oscilla tor (MSI), trimmable by soft ware, able to generate 7 \nfrequencies (65 kHz, 131 kHz, 262 kHz, 524 kHz, 1.05 MHz, 2.1 MHz, 4.2 MHz). \nWhen a 32.768 kHz clock source is available in the system (LSE), the MSI frequency can be trimmed by software down to a ±0.5% accuracy.\n• Auxiliary clock source : two ultra-low-power clock sources that can be used to drive \nthe LCD controller and the real-time clock:\n– 32.768 kHz low-speed external crystal (LSE)– 37 kHz low-speed internal RC (LSI), also used to drive the independent watchdog. \nThe LSI clock can be measured using the high-speed internal RC oscillator for greater precision.\n• RTC and LCD clock sources: the LSI, LSE or HSE sources can be chosen to clock \nthe RTC and the LCD, whatever the system clock.\n• USB clock source: the embedded PLL has a dedicated 48 MHz clock output to supply \nthe USB interface.\n• Startup clock : after reset, the microcontroller restarts by default with an internal 2 MHz \nclock (MSI). The prescaler ratio and clock source can be changed by the application program as soon as the code execution starts.\n• Clock security system (CSS):  this feature can be enabled by software. If a HSE clock \nfailure occurs, the master cl ock is automatically switched to HSI and a software \ninterrupt is generated if enabled.\n• Clock-out capability (MCO: microcontroller clock output):  it outputs one of the \ninternal clocks for external use by the application.\nSeveral prescalers allow the configuration of the AHB fr equency, each APB (APB1 and \nAPB2) domains. The maximum frequency of the AHB and the APB domains  is 32 MHz. See \nFigure  2 for details on the clock tree.\nFunctional overview STM32L151xC STM32L152xC\n22/136 DocID022799 Rev 13Figure 2. Clock tree\n-3\x11\x18\x15\x18\x136\x11,3)\x002#\n,3%\x00/3#\n(3)\x002#\n(3%\n/3# 6\x13\x13\n 6$$#/2%\n 6\x13\x13LEVEL\x00SHIFTERS\nLEVEL\x00SHIFTERS\n0,,\n8\x00\x13\x0c\x14\x0c\x16\x0c\x18\x0c\x11\x12 6\x13\x13\nLEVEL\x00SHIFTERS,3%\x00TEMPO\n\x00\x11\x00-(Z\x00CLOCK\nDETECTOR 6\x13\x13,37ATCHDOG\nCK?PLLIN\nSOURCE\nCONTROL#LOCK7ATCHDOGENABLE\n24#\x00ENABLE\nCK?HSI\nCK?HSE\n(3%\x00PRESENT\x00OR\x00NOT,3)\x00TEMPO\nCK?PLL!("\nPRESCALER\n\x00\x0f\x00\x11\x0c\x12\x0c\x0e\x0e\x15\x11\x12\n!0"\x12\n\x0f\x00\x11\x0c\x12\x0c\x14\x0c\x18\x0c\x11\x16!0"\x11\n\x0f\x00\x11\x0c\x12\x0c\x14\x0c\x18\x0c\x11\x16\nCK?USB\x00\x1d\x006CO\x00\x0f\x00\x12\x00\x086CO\x00MUST\x00BE\x00AT\x00\x19\x16\x00-( Z\t\x0f\x00\x18#+?4)-393#+?#05#+?&#,+#+?072\n#+?53"\x14\x18\n#+?4)-4\'/\n#+?!0"\x11\n#+?!0"\x12USBEN\x00AND\x00\x08NOT\x00DEEPSLEEP\t\nTIMER\x19EN\x00AND\x00\x08NOT\x00DEEPSLEEP\t\nAPB\x11\x00PERIPHEN\x00AND\x00\x08NOT\x00DEEPSLEEP\t\nAPB\x12\x00PERIPHEN\x00AND\x00\x08NOT\x00DEEPSLEEP\tNOT\x00\x08SLEEP\x00OR\nDEEPSLEEP\tNOT\x00\x08SLEEP\x00OR\nDEEPSLEEPNOT\x00DEEPSLEEP\nNOT\x00DEEPSLEEP3TANDBY\x00SUPPLIED\x00VOLTAGE\x00DOMAIN\n3YSTEM\x00\nCLOCK-#/\nIF\x00\x08!0"\x11\x00PRESC\x00\x1d\x00\x11\t X\x11\nELSEX\x12\x11\x16\x0c\x12\x14\x0c\x13\x12\x0c\x14\x18CK?LSE#+?,#$\n\x0f\x00\x12\x0c\x00\x13\x0c\x00\x14\x11\x00-(Z\n 6$$#/2%\n 6$$#/2% 6$$#/2%\n\x0f\x00\x11\x0c\x12\x0c\x14\x0c\x18\x0c\x11\x16,#$\x00ENABLE\n-3)\x002# 6\x13\x13\n 6$$#/2%LEVEL\x00SHIFTERS\nCK?MSICK?LSI#+?!$#\n!$#\x00ENABLE,3 ,3 ,3 ,3\n,3\n,3\x0f\x00\x12\x0c\x14\x0c\x18\x0c\x11\x16\nPRESCALER PRESCALER2ADIO\x003LEEP\x004IMER24#\n2ADIO\x003LEEP\x004IMER\x00ENABLE\nDocID022799 Rev 13 23/136STM32L151xC STM32L152xC Functional overview\n513.5 Low-power real-time cl ock and backup registers\nThe real-time clock (RTC) is an independent BC D timer/counter. Dedica ted registers contain \nthe sub-second, second, minute, hour (12/24 h our), week day, date, month, year, in BCD \n(binary-coded decimal) format. Correction for 28, 29 (leap year), 30, and 31 day of the month are made automatically. The RTC provides two programmable alarms and programmable periodic interrupts with wakeup from Stop and Standby modes.\nThe programmable wakeup time ranges from 120 µs to 36 hours.\nThe RTC can be calibrated with an external 512  Hz output, and a digital compensation \ncircuit helps reduce drift due to crystal deviation.\nThe RTC can also be automatically corrected with a 50/60Hz stable powerline.\nThe RTC calendar can be updated on the fly down to sub second precision, which enables network system synchronization.\nA time stamp can record an external event occurrence, and generates an interrupt.\nThere are thirty-two 32-bit backup registers pr ovided to store 128 bytes of user application \ndata. They are cleared in case of tamper detection.\nThree pins can be used to detect tamper event s. A change on one of these pins can reset \nbackup register and generate an interrupt. To prevent false tamper event, like ESD event, these three tamper inputs can be digitally filtered.\n3.6 GPIOs (general-pur pose inputs/outputs)\nEach of the GPIO pins can be configured by so ftware as output (push-pull or open-drain), as \ninput (with or without pull-up or pull-down) or as peripheral alternate function. Most of the \nGPIO pins are shared with digital or analog alternate functions, and can be individually \nremapped using dedicated AFIO registers. All GPIOs are high current capable. The \nalternate function configuration of I/Os can be locked if needed following a specific \nsequence in order to avoid spurious writing to the I/O registers. The I/O controller is \nconnected to the AHB with a toggling speed of up to 16 MHz.\nExternal interrupt/event controller (EXTI)\nThe external interrupt/event controller consists  of 24 edge detector lines used to generate \ninterrupt/event requests. Each line can be individually configured to select the trigger event (rising edge, falling edge, both) and can be masked independently. A pending register maintains the status of the interrupt requests. The EXTI can detect an external line with a pulse width shorter than the In ternal APB2 clock period. Up to 83 GPIOs can be connected \nto the 16 external interrupt lines. The 8 other lines are connected to RTC, PVD, USB, comparator events or capacitive sensing acquisition.\nFunctional overview STM32L151xC STM32L152xC\n24/136 DocID022799 Rev 133.7 Memories\nThe STM32L151xC and STM32L152xC devices have the following features:\n• 32 Kbytes of embedded RAM accessed (rea d/write) at CPU clock speed with 0 wait \nstates. With the enhanced bus matrix, op erating the RAM does not lead to any \nperformance penalty during  accesses to th e system bus (AHB and APB buses).\n• The non-volatile memory is divided into three arrays:\n– 256 Kbytes of embedded Flash program memory– 8 Kbytes of data EEPROM– Options bytesThe options bytes are used to write-protec t or read-out protect the memory (with 4 \nKbytes granularity) and/or readout-prot ect the whole memory with the following \noptions:\n– Level 0: no readout protection– Level 1: memory readout protection, th e Flash memory cannot be read from or \nwritten to if either debug features ar e connected or boot in RAM is selected\n– Level 2: chip readout protection, debug features (ARM Cortex-M3 JTAG and serial \nwire) and boot in RAM selection disabled (JTAG fuse)\nThe whole non-volatile memory embeds the error correction code (ECC) feature.\nThe user area of the Flash memory can be  protected against Dbus read access by \nPCROP feature (see RM0038 for details).\n3.8 DMA (direct memory access)\nThe flexible 12-channel, general-purpose DMA is able to manage memory-to-memory, peripheral-to-memory and memory-to-peripheral transfers. The DMA controller supports circular buffer management, avoiding the generation of interrupts when the controller reaches the end of the buffer.\nEach channel is connected to dedicated hardware DMA requests, with software trigger support for each channel. Configuration is done by software and transfer sizes between source and destination are independent.\nThe DMA can be used with the main peripherals: SPI, I2C, USART, general-purpose timers, \nDAC and ADC.\nDocID022799 Rev 13 25/136STM32L151xC STM32L152xC Functional overview\n513.9 LCD (liquid crystal display)\nThe LCD drives up to 8 common terminals and 44 segment terminals to drive up to 320 \npixels.\n• Internal step-up converter to guarantee functi onality and contrast control irrespective of \nVDD. This converter can be deactivated, in which case the VLCD pin is used to provide \nthe voltage to the LCD\n• Supports static, 1/2, 1/3, 1/4 and 1/8 duty\n• Supports static, 1/2, 1/3 and 1/4 bias\n• Phase inversion to reduce power consumption and EMI\n• Up to 8 pixels can be programmed to blink\n• Unneeded segments and common pins can be used as general I/O pins\n• LCD RAM can be updated at any time owing to a double-buffer\n• The LCD controller can operate in Stop mode\n• VLCD rail decoupling capability\n          \n3.10 ADC (analog-to-digital converter)\nA 12-bit analog-to-digital converters is embedded into STM32L151xC and STM32L152xC \ndevices with up to 25 external channels, perfo rming conversions in single-shot or scan \nmode. In scan mode, automati c conversion is performed on  a selected group of analog \ninputs with up to 24 external channels in a group.\nThe ADC can be served by the DMA controller.\nAn analog watchdog feature allows very precis e monitoring of the converted voltage of one, \nsome or all scanned channels. An interrupt is generated when the converted voltage is outside the programmed thresholds.\nThe events generated by the general-purpose timers (TIMx) can be internally connected to the ADC start triggers, to allow the application to synchronize A/D conversions and timers. An injection mode allows high priority conversions to be done by interrupting a scan mode which runs in as a background task.\nThe ADC includes a specific low-power mode. The converter is able to operate at maximum \nspeed even if the CPU is operating at a very low frequency and has an auto-shutdown \nfunction. The ADC’s runtime and analog front- end current consumpti on are thus minimized \nwhatever the MCU operating mode.Table 6. VLCD rail decoupling \nBias\nPin\n 1/2  1/3  1/4\nVLCDRAIL1 1/2 VLCD 2/3 VLCD 1/2 VLCD PB2\nVLCDRAIL2 N/A 1/3 VLCD 1/4 VLCD PB12 PE11\nVLCDRAIL3 N/A N/A 3/4 VLCD PB0 PE12\nFunctional overview STM32L151xC STM32L152xC\n26/136 DocID022799 Rev 133.10.1 Temperature sensor\nThe temperature sensor (TS) generates a voltage VSENSE that varies linearly with \ntemperature.\nThe temperature sensor is internally connec ted to the ADC_IN16 input channel which is \nused to convert the sensor output voltage into a digital value. \nThe sensor provides good linearity but it has to be calibrated to obtain good overall accuracy of the temperature measurement. As the offset of the temperature sensor varies from chip to chip due to process variation, the uncalibrated internal temperature sensor is suitable for applications that detect temperature changes only.\nTo improve the accuracy of the temperature sensor measurement, each device is individually factory-calibrated by ST. The te mperature sensor factory calibration data are \nstored by ST in the system memory area, accessible in read-only mode. See \nTable  61: \nTemperature sensor calibration values .\n3.10.2 Internal voltage reference (VREFINT )\nThe internal voltage reference (VREFINT ) provides a stable (bandgap) voltage output for the \nADC and Comparators. VREFINT  is internally con nected to the ADC_IN17 input channel. It \nenables accurate monitoring of the VDD value (when no external voltage, VREF+, is \navailable for ADC). The precise voltage of VREFINT  is individually measured for each part by \nST during production test and stored in the s ystem memory area. It is accessible in read-\nonly mode. See Table  16: Embedded internal reference voltage calibration values .\n3.11 DAC (digital-to-analog converter)\nThe two 12-bit buffered DAC channels can be used to convert two digital signals into two \nanalog voltage signal outputs. The chosen design structure is composed of integrated resistor strings and an amplifier in non-inverting configuration.\nThis dual digital Interface supports the following features:\n• Two DAC converters: one for each output channel\n• 8-bit or 12-bit monotonic output\n• Left or right data alignment in 12-bit mode\n• Synchronized update capability\n• Noise-wave generation\n• Triangular-wave generation\n• Dual DAC channels, independent or simultaneous conversions\n• DMA capability for each channel (i ncluding the unde rrun in terrupt)\n• External triggers for conversion\n• Input reference voltage VREF+\nEight DAC trigger inputs are used in the STM32L151xC and STM32L152xC devices. The \nDAC channels are triggered through the timer update outputs that are also connected to \ndifferent DMA channels.\nDocID022799 Rev 13 27/136STM32L151xC STM32L152xC Functional overview\n513.12 Operational amplifier\nThe STM32L151xC and STM32L152xC devices embed two operational amplifiers with \nexternal or internal follower routing capability (or even am plifier and filter capability with \nexternal components). When one operational amplifier is selected, one external ADC channel is used to enable output measurement.\nThe operational amplifiers feature:\n• Low input bias current\n• Low offset voltage\n• Low-power mode\n• Rail-to-rail input\n3.13 Ultra-low-power comparators and reference voltage\nThe STM32L151xC and STM32L152xC devices embed two comparators sharing the same \ncurrent bias and reference voltage. The reference voltage can be internal or external (coming from an I/O).\n• One comparator with fixed threshold\n• One comparator with rail-to-rail inputs, fast or slow mode. The threshold can be one of \nthe following:\n– DAC output– External I/O– Internal reference voltage (V\nREFINT ) or a sub-multiple (1/4, 1/2, 3/4)\nBoth comparators can wake up from Stop mode, and be combined into a window \ncomparator.\nThe internal reference voltage is available externally via a low-power / low-current output buffer (driving current capability of 1\n µA typical).\n3.14 System configur ation controller an d routing interface\nThe system configuration cont roller provides the capabilit y to remap some alternate \nfunctions on different I/O ports.\nThe highly flexible routing inte rface allows the application firm ware to control the routing of \ndifferent I/Os to the TIM2, TIM3 and TIM4 timer in put captures. It also controls the routing of \ninternal analog signals to ADC1, COMP1 and COMP2 and the internal reference voltage V\nREFINT . \n3.15 Touch sensing\nThe STM32L151xC and STM32L152xC devices provide a simple solution for adding \ncapacitive sensing functionality to any application. These devices offer up to 23 capacitive \nsensing channels distributed over 10 analog I/ O groups. Both software  and timer capacitive \nsensing acquisition modes are supported.\nCapacitive sensing technology is able to detect  the presence of a finger near a sensor which \nis protected from direct touch by a dielectric (glass, plastic ...). The capacitive variation \nFunctional overview STM32L151xC STM32L152xC\n28/136 DocID022799 Rev 13introduced by the finger (or any conduct ive object) is measured using a proven \nimplementation based on a surface charge transfer acquisition principle. It consists of charging the sensor capacitance and then transferring a part of the accumulated charges into a sampling capacitor unt il the voltage across this capa citor has reached a specific \nthreshold. The capacitive sensing acquisition only requires few external components to \noperate. This acquisition is managed directly  by the GPIOs, timers and analog I/O groups \n(see \nSection  3.14: System configuration controller and routing interface ).\nReliable touch sensing functionality can be quickly and easily implemented using the free STM32L1xx STMTouch touch sensing firmware library. \n3.16 Timers and watchdogs\nThe ultra-low-power STM32L151xC and STM32L152xC devices include seven general-purpose timers, two basic time rs, and two watchdog timers.\nTable  7 compares the features of the general-purpose and basic timers.\n          \n3.16.1 General-purpose timers (TIM2, TIM3, TIM4, TIM5, TIM9, TIM10 and  \nTIM11)\nThere are seven synchronizable general-purpose timers embedded in the STM32L151xC \nand STM32L152xC devices (see Table  7 for differences).\nTIM2, TIM3, TIM4, TIM5\nTIM2, TIM3, TIM4 are based on 16-bit auto-rel oad up/down counter. TIM5 is based on a 32-\nbit auto-reload up/down counter. They incl ude a 16-bit prescaler. They feature four \nindependent channels each for input capture/output compare, PWM or one-pulse mode output. This gives up to 16 input captures/o utput compares/PWMs on the largest packages.\nTIM2, TIM3, TIM4, TIM5 genera l-purpose timers can work to gether or with the TIM10, \nTIM11 and TIM9 general-purpose timers via th e Timer Link feature for synchronization or \nevent chaining. Their counter can be frozen in debug mode. Any of the general-purpose timers can be used to generate PWM outputs.Table 7. Timer feature comparison \nTimerCounter \nresolutionCounter type Prescaler factorDMA \nrequest \ngenerationCapture/compare \nchannelsComplementary\noutputs\nTIM2, \nTIM3, \nTIM416-bitUp, down, \nup/downAny integer between \n1 and 65536Yes 4 No\nTIM5 32-bitUp, down, \nup/downAny integer between \n1 and 65536Yes 4 No\nTIM9 16-bitUp, down, \nup/downAny integer between \n1 and 65536No 2 No\nTIM10, \nTIM1116-bit UpAny integer between \n1 and 65536No 1 No\nTIM6, \nTIM716-bit UpAny integer between \n1 and 65536Yes 0 No\nDocID022799 Rev 13 29/136STM32L151xC STM32L152xC Functional overview\n51TIM2, TIM3, TIM4, TIM5 all have in dependent DMA request generation.\nThese timers are capable of handling quadrat ure (incremental) encoder signals and the \ndigital outputs from 1 to 3 hall-effect sensors.\nTIM10, TIM11 and TIM9\nTIM10 and TIM11 are based on a 16-bit auto-r eload upcounter. TIM9 is based on a 16-bit \nauto-reload up/down counter. They include a 16 -bit prescaler. TIM10 and TIM11 feature one \nindependent channel, whereas TIM9 has two in dependent channels for input capture/output \ncompare, PWM or one-pulse mode output. They can be synchronized with the TIM2, TIM3, TIM4, TIM5 full-featured general-purpose timers.\nThey can also be used as simple time bases and be clocked by the LSE clock source (32.768 kHz) to provide time bases independent from the main CPU clock.\n3.16.2 Basic timers (TIM6 and TIM7)\nThese timers are mainly used for DAC trigger g eneration. They can also be used as generic \n16-bit time bases.\n3.16.3 SysTick timer\nThis timer is dedicated to the OS, but could also be used as a standard downcounter. It is \nbased on a 24-bit downcounter with autore load capability and a programmable clock \nsource. It features a maskable system interr upt generation when the counter reaches 0.\n3.16.4 Independent watchdog (IWDG)\nThe independent watchdog is based on a 12-bit downcounter and 8-bit prescaler. It is \nclocked from an independent 37 kHz internal RC and, as it operates independently of the \nmain clock, it can operate in Stop and Stan dby modes. It can be used either as a watchdog \nto reset the device when a problem occurs, or as a free-running timer for application timeout management. It is hardware- or software-configurable through the option bytes. The counter can be frozen in debug mode.\n3.16.5 Window watchdog (WWDG)\nThe window watchdog is based on a 7-bit downcounter that can be set as free-running. It can be used as a watchdog to reset the device when a problem occurs. It is clocked from the main clock. It  has an early warning interrupt capab ility and the counter can be frozen in \ndebug mode.\n3.17 Communication interfaces\n3.17.1 I²C bus\nUp to two I²C bus interfaces can operate in multimaster and slave mo des. They can support \nstandard and fast modes.\nThey support dual slave addressing (7-bit only) and both 7- and 10-bit addressing in master \nmode. A hardware CRC generation/verification is embedded.\nThey can be served by DMA and they support SM Bus 2.0/PM Bus.\nFunctional overview STM32L151xC STM32L152xC\n30/136 DocID022799 Rev 133.17.2 Universal synchronous/asynchr onous receiver tran smitter (USART)\nThe three USART interfaces are able to commun icate at speeds of up to 4 Mbit/s. They \nsupport IrDA SIR ENDEC and ha ve LIN Master/Slave capabilit y. The three USARTs provide \nhardware management of the CTS and RTS signals and are ISO 7816 compliant.\nAll USART interfaces can be served by the DMA controller.\n3.17.3 Serial peripheral interface (SPI)\nUp to three SPIs are able to communicate at up to 16 Mbits/s in slave and master modes in full-duplex and half-duplex communication mo des. The 3-bit prescaler gives 8 master mode \nfrequencies and the frame is configurable to 8 bits or 16 bits. The hardware CRC generation/verification support s basic SD Card/MMC modes. \nThe SPIs can be served by the DMA controller.\n3.17.4 Inter-integrated sound (I2S)\nTwo standard I2S interfaces (multiplexed with SPI2 and SPI3) are available. They can \noperate in master or slave mode, and can be configured to operate with a 16-/32-bit \nresolution as input or output channels. Audio sampling frequencies from 8 kHz up to 192 kHz are supported. When either or both of th e I2S interfaces is/are configured in master \nmode, the master clock can be output to the external DAC/CODEC at 256 times the \nsampling frequency. \nThe I2Ss can be served by the DMA controller.\n3.17.5 Universal se rial bus (USB)\nThe STM32L151xC and STM32L152xC devices embed a USB device peripheral \ncompatible with the USB full-speed 12  Mbit/s. The USB interface implements a full-speed \n(12 Mbit/s) function interface. It has software-configurable endpoint setting and supports suspend/resume. The dedicated 48\n MHz clock is generated from the internal main PLL (the \nclock source must use a HSE crystal oscillator).\n3.18 CRC (cyclic redundancy  check) calculation unit\nThe CRC (cyclic redundancy check) calculation unit  is used to get a CRC code from a 32-bit \ndata word and a fixed generator polynomial.\nAmong other applications, CRC-based techniques are used to verify data transmission or storage integrity. In the scope of the EN/IEC 60335-1 standard, they offer a means of verifying the Flash memory integrity. The CRC calculation unit helps compute a signature of the software during runtime, to be compared  with a reference signature generated at link-\ntime and stored at a given memory location.\nDocID022799 Rev 13 31/136STM32L151xC STM32L152xC Functional overview\n513.19 Development support\n3.19.1 Serial wire JT AG debug port (SWJ-DP)\nThe ARM SWJ-DP interface is embedded, and is a combined JTAG and serial wire debug \nport that enables either a serial wire debug or a JTAG probe to be connected to the target. The JTAG JTMS and JTCK pins are shared with SWDAT and SWCLK, respectively, and a specific sequence on the JTMS pin is us ed to switch between JTAG-DP and SW-DP.\nThe JTAG port can be permanently disabled with a JTAG fuse.\n3.19.2 Embedded Trace Macrocell™\nThe ARM® Embedded Trace Macrocell provides a greater visibility of the instruction and \ndata flow inside the CPU core by streaming compressed data at a very high rate from the STM32L151xC and STM32L152xC device through a small number of ETM pins to an \nexternal hardware trace port analyzer (TPA) device. The TPA is connected to a host computer using USB, Ethernet, or any other high-speed channel. Real-time instruction and \ndata flow activity can be recorded and then formatted for display on the host computer \nrunning debugger software. TPA hardware is commercially available from common development tool vendors. It operates with third party debugger software tools.\nPin descriptions STM32L151xC STM32L152xC\n32/136 DocID022799 Rev 134 Pin descriptions\nFigure 3.  STM32L15xVC UFBGA100 ballout\n1. This figure shows the package top view.AI\x11\x17\x10\x19\x16F$\n%\n(\'&\n)\n*\n+\n-\n.\n/\n03(\x16\n26&B,13&\x14\x18\n26&\x16\x15B2873&\x14\x173&\x14\x16\n:.83\x153(\x17\n26&B287\n3&\x13\n966$\n95()\x10\n95()\x0e\n9\'\'$3(\x14\n3(\x183(\x15\n3(\x19\n:8.3\x16\n9/&\'\n966B\x18\n9\'\'B\x18\n1567\n3&\x14\n3&\x16\n3$\x13\n:.83\x14\n3$\x143%\x1b\n3(\x133%\x1c\n966B\x16\n966B\x17\n9\'\'B\x17\n3&\x15\n3$\x15\n3$\x16\n3$\x17%227\x13\n3%\x1a\n9\'\'B\x16\n3$\x18\n3$\x19\n3$\x1a3\'\x1a\n3%\x193%\x18\n3&\x17\n3&\x18\n3%\x133\'\x18\n3\'\x19\n3%\x15\n3%\x143%\x17\n3\'\x17\n3(\x1b\n3(\x1a3%\x16\n3\'\x16\n3\'\x15\n3\'\x1c\n3(\x14\x13\n3(\x1c3$\x14\x18\n3\'\x14\n3\'\x13\n3\'\x1b\n3(\x14\x15\n3(\x14\x143$\x14\x17\n3&\x14\x15\n3&\x14\x14\n3&\x1b3$\x1c\n3\'\x14\x18\n3\'\x14\x15\n3%\x14\x18\n3%\x14\x13\n3(\x14\x163$\x14\x16\n3&\x14\x13\n3+\x15\n3$\x1b\n3&\x1a\n3\'\x14\x17\n3\'\x14\x14\n3%\x14\x17\n3%\x14\x14\n3(\x14\x17966B\x15\n9\'\'B\x153$\x14\x15\n3$\x14\x14\n3$\x14\x13\n3&\x1c3&\x19\n3\'\x14\x16\n3\'\x14\x13\n3%\x14\x16\n3%\x14\x15\n3(\x14\x18966B\x14\n9\'\'B\x14\x15 \x16 \x17 \x18 \x19 \x1a \x1b \x1c \x14\x13 \x14\x14 \x14\x15 \x14\n3+\x13\n3+\x1426&\x16\x15B,1\nDocID022799 Rev 13 33/136STM32L151xC STM32L152xC Pin descriptions\n51Figure 4. STM32L15xVC LQFP100 pinout\n1. This figure shows the package top view.\n\x11\x10\x10\n\x19\x19\n\x19\x18\n\x19\x17\n\x19\x16\n\x19\x15\n\x19\x14\n\x19\x13\n\x19\x12\n\x19\x11\n\x19\x10\n\x18\x19\n\x18\x18\n\x18\x17\n\x18\x16\n\x18\x15\n\x18\x14\n\x18\x13\n\x18\x12\n\x18\x11\n\x18\x10\n\x17\x19\n\x17\x18\n\x17\x17\n\x17\x16\n\x11\n\x12\n\x13\x14\n\x15\n\x16\n\x17\n\x18\n\x19\n\x11\x10\n\x11\x11\n\x11\x12\n\x11\x13\n\x11\x14\n\x11\x15\n\x11\x16\n\x11\x17\n\x11\x18\x11\x19\n\x12\x10\n\x12\x11\n\x12\x12\n\x12\x13\n\x12\x14\x12\x15\x17\x15\n\x17\x14\n\x17\x13\x17\x12\n\x17\x11\n\x17\x10\n\x16\x19\n\x16\x18\n\x16\x17\n\x16\x16\n\x16\x15\n\x16\x14\n\x16\x13\n\x16\x12\n\x16\x11\n\x16\x10\n\x15\x19\n\x15\x18\x15\x17\n\x15\x16\n\x15\x15\n\x15\x14\n\x15\x13\n\x15\x12\x15\x116$$?\x12\x00\n633?\x12\x00\x000(\x12\x00\x00\n0!\x11\x13 \x00\x00\n0!\x11\x120!\x11\x11\n0!\x11\x10\n0#\x19\x00\x00\n0#\x18\x00\x000#\x17\x00\x00\n0#\x16\x00\x00\n0$\x11\x15\x00\x000$\x11\x14\x00\x00\n0$\x11\x13\x00\x00\n0$\x11\x12\x00\x000$\x11\x11\x00\x00\n0$\x11\x10\x00\x00\n0$\x19\x00\x00\n0$\x18\x00\x00\n0"\x11\x15\x00\x00\n0"\x11\x14\x00\x00\n0"\x11\x13\x00\x00\n0"\x11\x12\x00\x000!\x13\n633?\x14\n6$$?\x14\n0!\x140!\x15\n0!\x16\n0!\x17\n0#\x14\n0#\x15\n0"\x10\n0"\x11\n0"\x12\n0%\x170%\x18\n0%\x19\n0%\x11\x100%\x11\x11\n0%\x11\x12\n0%\x11\x13\n0%\x11\x14\n0%\x11\x15\n0"\x11\x10\n0"\x11\x11\n633?\x11\n6$$?\x116$$?\x13\x00\x00\n633?\x13\x00\x00\n0%\x11\x00\x00\n0%\x10\x00\x00\n0"\x19\x00\x00\n0"\x18\x00\x00"//4\x10\x00\x00\n0"\x17\x00\x00\n0"\x16\x00\x00\n0"\x15\x00\x00\n0"\x14\x00\x00\n0"\x13\x00\x00\n0$\x17\x00\x00\n0$\x16\x00\x00\n0$\x15\x00\x00\n0$\x14\x00\x00\n0$\x13\x00\x00\n0$\x12\x00\x00\n0$\x11\x00\x00\n0$\x10\x00\x00\n0#\x11\x12\x00\x00\n0#\x11\x11\x00\x00\n0#\x11\x10\x00\x00\n0!\x11\x15\x00\x00\n0!\x11\x14\x00\x12\x16\n\x12\x17\n\x12\x18\n\x12\x19\n\x13\x10\n\x13\x11\n\x13\x12\n\x13\x13\n\x13\x14\n\x13\x15\n\x13\x16\n\x13\x17\n\x13\x18\n\x13\x19\n\x14\x10\n\x14\x11\n\x14\x12\n\x14\x13\n\x14\x14\n\x14\x15\n\x14\x16\n\x14\x17\n\x14\x18\n\x14\x19\n\x15\x100%\x12\n0%\x13\n0%\x140%\x15\n0%\x16\r7+50\x13\n6\n,#$\n0#\x11\x13\r7+50\x12\n0#\x11\x14\r/3#\x13\x12?).\n0#\x11\x15\r/3#\x13\x12?/54\n633?\x15\n6$$?\x15\n0(\x10\r/3#?).\n0(\x11\r/3#?/54\n.234\n0#\x10\n0#\x11\n0#\x12\n0#\x13\n633!\n62%&\r\n62%&\x0b\n6$$!\n0!\x10\r7+50\x11\n0!\x11\n0!\x12\nAI\x11\x15\x16\x19\x12C,1&0\x11\x10\x100!\x180!\x19\nPin descriptions STM32L151xC STM32L152xC\n34/136 DocID022799 Rev 13Figure 5. STM32L15xRC LQFP64 pinout \n1. This figure shows the package top view.\x19\x17 \x19\x16 \x19\x15 \x19\x14 \x19\x13 \x18\x1c \x18\x1b \x18\x1a \x18\x19 \x18\x18 \x18\x17 \x18\x16 \x18\x15 \x18\x14 \x18\x13 \x17\x1c\n\x17\x1b\n\x17\x1a\n\x03\x17\x19\n\x03\x17\x18\n\x03\x17\x17\x03\x17\x16\n\x17\x15\n\x17\x14\n\x17\x13\n\x16\x1c\n\x16\x1b\n\x16\x1a\n\x16\x19\n\x16\x18\n\x16\x17\n\x16\x16\n\x14\x1a \x14\x1b \x14\x1c \x15\x13 \x15\x14 \x15\x15 \x15\x16 \x15\x17 \x15\x1c \x16\x13 \x16\x14 \x16\x15 \x15\x18 \x15\x19 \x15\x1a \x15\x1b\x14\n\x15\n\x16\n\x17\n\x18\n\x19\x03\n\x1a\x03\n\x1b\x03\x1c\x03\n\x14\x13\n\x14\x14\x03\n\x14\x15\x03\n\x14\x16\n\x14\x17\n\x14\x18\n\x14\x196,#$\n0#\x11\x13\r7+50\x12\n0#\x11\x14\r/3#\x13\x12?).\n0#\x11\x15\r/3#\x13\x12?/54\n0(\x10\x00\r/3#?).\n0(\x11\r\x00/3#?/54\n.234\n0#\x10\n0#\x11\n0#\x12\n0#\x13\n633!\n6$$!\n0!\x10\r7+50\x11\n0!\x11\n0!\x12\n6$$?\x13\x00\x00\n633?\x13\x00\x00\n0"\x19\x00\x000"\x18\x00\x00\n"//4\x10\x00\x00\n0"\x17\x00\x00\n0"\x16\x00\x00\n0"\x15\x00\x00\n0"\x14\x00\x000"\x13\x00\x00\n0$\x12\x00\x00\n0#\x11\x12\x00\x00\n0#\x11\x11\x00\x00\n0#\x11\x10\x00\x00\n0!\x11\x15\x00\x00\n0!\x11\x14\x00\n6$$?\x12\x00\x00633?\x12\x00\x00\n0!\x11\x13\x00\x000!\x11\x12\x00\x00\n0!\x11\x11\x00\x00\n0!\x11\x10\x00\x00\n0!\x19\x00\x00\n0!\x18\x00\x00\n0#\x19\x00\x000#\x18\x00\x00\n0#\x17\x00\x00\n0#\x16\x00\x00\n0"\x11\x15\x00\x00\n0"\x11\x14\x00\x00\n0"\x11\x13\x00\x00\n0"\x11\x12\x000!\x13\n633?\x14\n6$$?\x14\n0!\x14\n0!\x15\n0!\x16\n0!\x17\n0#\x14\n0#\x15\n0"\x10\n0"\x11\n0"\x12\n0"\x11\x10\n0"\x11\x11\n633?\x11\n6$$?\x11,1&0\x16\x14\nAI\x11\x15\x16\x19\x13C\nDocID022799 Rev 13 35/136STM32L151xC STM32L152xC Pin descriptions\n51Figure 6. STM32L15xUC WLCSP63 ballout\n1. This figure shows the package top view.-3\x13\x11\x10\x17\x116\x11!\n"\n%$#\n&\n\'\n(633?\x12\n0#\x170#\x180!\x11\x11\n6$$?\x110!\x11\x15\n0!\x11\x136$$?\x12\n0!\x11\x10\n0#\x19\n0"\x11\x15\n0"\x11\x12\n0"\x11\x110#\x11\x11\n0#\x11\x10\n0!\x11\x14\n0!\x18\n0"\x11\x14\n0"\x12\n0"\x110$\x12\n0#\x11\x12\n0!\x11\x12\n0!\x16\n0!\x150"\x15\n0"\x16\n0"\x17\n633"//4\x10\n0"\x18633?\x13\n6$$?\x13\n0"\x19\n0#\x13\n0!\x120#\x11\x14\n.2346,#$\n0#\x12\n6$$!0(\x110#\x11\x15\n0#\x10\n0(\x10\x18\x17\x16\x15\x14\x13\x12\n0!\x19\n0#\x16\n0"\x11\x130"\x13\n0!\x110#\x140!\x100"\x140#\x11\x13\n0#\x11\n633!\n*633?\x110"\x11\x100"\x100#\x150!\x170!\x140!\x13\nPin descriptions STM32L151xC STM32L152xC\n36/136 DocID022799 Rev 13Figure 7. STM32L15xCC UFQFPN48 pinout\n1. This figure shows the package top view.\n633?\x13\n"//4\x10\n0"\x17\n0"\x16\n0"\x150"\x140"\x13\n0!\x11\x15\n0!\x11\x14\n\x14\x18 \x14\x17 \x14\x16 \x14\x15 \x14\x14 \x14\x13 \x14\x12 \x14\x11 \x14\x10\n\x11 \x13\x166$$?\x12\n\x12 \x13\x15633?\x12\n\x13 \x13\x140!\x11\x13\n\x14\n5&1&0.\x14\x18\x13\x130!\x11\x12\n633!\x15 \x13\x12 0!\x11\x11\n6$$!\x16 \x13\x110!\x11\x10\n0!\x10\r7+50\x11\x17 \x13\x100!\x19\n0!\x11\x18 \x12\x190!\x18\n0!\x12\x19 \x12\x18 6$$?\x11\x11\x13 \x11\x14 \x11\x15 \x11\x16 \x11\x17 \x11\x18 \x11\x19 \x12\x10 \x12\x11\n0!\x13\n0!\x14\n0!\x15\n0!\x16\n0!\x17\n0"\x10\n0"\x11\n0"\x12\n633?\x11\nAI\x11\x15\x16\x19\x15D\x11\x10\n\x11\x11\n\x11\x12\x12\x17\n\x12\x16\n\x12\x15\n\x12\x12 \x12\x13 \x12\x14\x13\x19 \x13\x18 \x13\x170"\x11\x10\n0"\x11\x110"\x11\x15\x00\x00\n0"\x11\x14\x00\x00\n0"\x11\x13\x00\x00\n0"\x11\x12\x006,#$\n0#\x11\x13\r7+50\x12\n0#\x11\x14\r/3#\x13\x12?).\n0#\x11\x15\r/3#\x13\x12?/54\n0(\x10\r/3#?).\n0(\x11\r/3#?/54\n.234\n0"\x19\x00\x00\n0"\x18\x00\x006$$?\x13\nDocID022799 Rev 13 37/136STM32L151xC STM32L152xC Pin descriptions\n51Figure 8. STM32L15xCC LQFP48 pinout\n1. This figure shows the package top view.\x17\x17 \x17\x16 \x17\x15 \x17\x14 \x17\x13 \x16\x1b \x16\x1a\n\x16\x19\n\x16\x18\n\x16\x17\n\x16\x16\n\x16\x15\n\x16\x14\n\x16\x13\n\x15\x1b\n\x15\x1a\n\x15\x19\n\x15\x18\n\x15\x17\x15\x16 \x14\x16 \x14\x17 \x14\x18 \x14\x19 \x14\x1a \x14\x1b \x15\x13 \x15\x14 \x15\x15\x17\x1b \x17\x1a \x17\x19 \x17\x18\x03\n\x03\n\x039\'\'B\x16\x03\x03\n966B\x16\x03\x03\n3%\x1c\x03\x03\n3%\x1b\x03\x03\n\x03\n3%\x1a\x03\x03\n3%\x19\x03\x03\n3%\x18\x03\x03\n3%\x17\x03\x03\n3%\x16\x03\x03\n\x03\n\x03\n/4)3\x17\x1b\n06\x16\x17\x14\x1a\x1b9\x14\x033&\x14\x16\x10:.83\x15\n\x033&\x14\x17\x1026&\x16\x15B,1\n\x033&\x14\x18\x1026&\x16\x15B287\n\x033+\x13\x1026&B,1\n\x033+\x14\x1026&B287\n\x031567\n\x03966$\n9\'\'$\n3$\x13\x10:.83\x14\n3$\x14\n3$\x159/&\' \x14\n\x15\n\x16\n\x17\n\x189\'\'B\x15\n966B\x15\n\x03\n\x033$\x14\x16\n3$\x14\x15\n\x03\n\x033$\x14\x14\n3$\x14\x13\n3$\x1c\n3$\x1b\n3%\x14\x18\n3%\x14\x17\n\x03\n\x033%\x14\x16\n3%\x14\x15\x19\n\x1a\n\x1b\n\x1c\n\x14\x13\n\x14\x15\n\x14\x1c%227\x13\n3$\x14\x18\x03\n3$\x14\x17\x033$\x16\x03\n3$\x17\n3$\x18\n3$\x19\n3%\x13\n3%\x14\n3%\x15\n3%\x14\x13\n3%\x14\x143$\x1a\n966B\x14\n9\'\'B\x14\x15\x1c\x16\x1c\n\x14\x14\nPin descriptions STM32L151xC STM32L152xC\n38/136 DocID022799 Rev 13          \n          Table 8. Legend/abbreviations  used in the pinout table \nName Abbreviation Definition\nPin nameUnless otherwise specified in brackets below the pin name, the pin function \nduring and after reset is the same as the actual pin name\nPin typeS Supply pin\nI Input only pin\nI/O Input / output pin\nI/O structureFT 5 V tolerant I/O\nTC Standard 3.3 V I/O\nB Dedicated BOOT0 pin\nRST Bidirectional reset pin with embedded weak pull-up resistor\nNotesUnless otherwise specified by a note, all I/Os are set as floating inputs during \nand after reset\nPin \nfunctionsAlternate \nfunctionsFunctions selected through GPIOx_AFR registers\nAdditional \nfunctionsFunctions directly selected/enabled through peripheral registers\nTable 9. STM32L151xC and ST M32L152xC pin definitions \nPins\nPin name\nPin type(1)\nI / O StructureMain \nfunction(2) \n(after \nreset)Pin functionsUFBGA100\nLQFP100\nLQFP64\nWLCSP63\nLQFP48 or UFQFPN48Alternate functions Additional functions\nB2 1 - - - PE2 I/O FT PE2TIM3_ETR/LCD_SEG38\n/TRACECLK-\nA1 2 - - - PE3 I/O FT PE3TIM3_CH1/LCD_SEG39\n/TRACED0-\nB1 3 - - - PE4 I/O FT PE4 TIM3_CH2/TRACED1 -\nC2 4 - - - PE5 I/O FT PE5 TIM9_CH1/TRACED2 -\nD2 5 - - -PE6-\nWKUP3I/O FT PE6TIM9_CH2/ TRACED3 WKUP3/ \nRTC_TAMP3\nE2 6 1 C7 1 VLCD(3)S- VLCD --\nDocID022799 Rev 13 39/136STM32L151xC STM32L152xC Pin descriptions\n51C1 7 2 D5 2PC13-\nWKUP2I/O FT PC13 -WKUP2/ \nRTC_TAMP1/ \nRTC_TS/RTC_OUT\nD1 8 3 D7 3PC14-\nOSC32_IN(4)I/O TC PC14 - OSC32_IN\nE1 9 4 D6 4PC15-\nOSC32_OUTI/O TC PC15 - OSC32_OUT\nF2 10 - - - VSS_5 S- VSS_5 --\nG2 11 - - - VDD_5 S- VDD_5 --\nF1 12 5 F6 5PH0-\nOSC_IN(5) I/O TC PH0 - OSC_IN\nG1 13 6 F7 6PH1-\nOSC_OUT(5)I/O TC PH1 - OSC_OUT\nH2 14 7 E7 7 NRST I/O RST NRST - -H1 15 8 E6 - PC0 I/O FT PC0 LCD_SEG18ADC_IN10/\nCOMP1_INP\nJ2 16 9 E5 - PC1 I/O FT PC1 LCD_SEG19ADC_IN11/\nCOMP1_INP\nJ3 17 10 G7 - PC2 I/O FT PC2 LCD_SEG20ADC_IN12/\nCOMP1_INP\nK2 18 11 G6 - PC3 I/O TC PC3 LCD_SEG21ADC_IN13/\nCOMP1_INP\nJ1 19 12 F5 8 VSSA S- VSSA --\nK1 20 - - - VREF- S- VREF- --\nL1 21 - - - VREF+ S- VREF+ --\nM1 22 13 H7 9 VDDA S- VDDA --\nL2 23 14 E4 10 PA0-WKUP1 I/O FT PA0TIM2_CH1_ETR/ \nTIM5_CH1/\nUSART2_CTSWKUP1/ \nRTC_TAMP2/ \nADC_IN0/ \nCOMP1_INPTable 9. STM32L151xC and STM32L152xC pin definitions (continued)\nPins\nPin name\nPin type(1)\nI / O StructureMain \nfunction(2) \n(after \nreset)Pin functionsUFBGA100\nLQFP100\nLQFP64\nWLCSP63\nLQFP48 or UFQFPN48Alternate functions Additional functions\nPin descriptions STM32L151xC STM32L152xC\n40/136 DocID022799 Rev 13M2 24 15 G5 11 PA1 I/O FT PA1 TIM2_CH2/TIM5_CH2/\nUSART2_RTS/ \nLCD_SEG0ADC_IN1/ \nCOMP1_INP/\nOPAMP1_VINP\nK3 25 16 H6 12 PA2 I/O FT PA2TIM2_CH3/TIM5_CH3/\nTIM9_CH1/USART2_TX\n/LCD_SEG1ADC_IN2/\nCOMP1_INP/ \nOPAMP1_VINM\nL3 26 17 J7 13 PA3 I/O TC PA3TIM2_CH4/TIM5_CH4/\nTIM9_CH2/USART2_RX\n/LCD_SEG2ADC_IN3/\nCOMP1_INP/ \nOPAMP1_VOUT\nE3 27 18 - - VSS_4 S- VSS_4 --\nH3 28 19 - - VDD_4 S- VDD_4 --\nM3 29 20 J6 14 PA4 I/O TC PA4SPI1_NSS/SPI3_NSS/ \nI2S3_WS/\nUSART2_CKADC_IN4/\nDAC_OUT1/ \nCOMP1_INP\nK4 30 21 H4 15 PA5 I/O TC PA5TIM2_CH1_ETR/ \nSPI1_SCKADC_IN5/ \nDAC_OUT2/\nCOMP1_INP\nL4 31 22 G4 16 PA6 I/O FT PA6TIM3_CH1/TIM10_CH1/\nSPI1_MISO/LCD_SEG3ADC_IN6/ \nCOMP1_INP/\nOPAMP2_VINP\nM4 32 23 J5 17 PA7 I/O FT PA7TIM3_CH2/TIM11_CH1/\nSPI1_MOSI/LCD_SEG4ADC_IN7/ \nCOMP1_INP/\nOPAMP2_VINM\nK5 33 24 F4 - PC4 I/O FT PC4 LCD_SEG22ADC_IN14/\nCOMP1_INP\nL5 34 25 J4 - PC5 I/O FT PC5 LCD_SEG23ADC_IN15/\nCOMP1_INP\nM5 35 26 J3 18 PB0 I/O TC PB0 TIM3_CH3/LCD_SEG5ADC_IN8/ \nCOMP1_INP/ \nOPAMP2_VOUT/ \nVLCDRAIL3/ \nVREF_OUTTable 9. STM32L151xC and STM32L152xC pin definitions (continued)\nPins\nPin name\nPin type(1)\nI / O StructureMain \nfunction(2) \n(after \nreset)Pin functionsUFBGA100\nLQFP100\nLQFP64\nWLCSP63\nLQFP48 or UFQFPN48Alternate functions Additional functions\nDocID022799 Rev 13 41/136STM32L151xC STM32L152xC Pin descriptions\n51M6 36 27 H3 19 PB1 I/O FT PB1 TIM3_CH4/LCD_SEG6ADC_IN9/ \nCOMP1_INP/ \nVREF_OUT\nL6 37 28 G3 20 PB2 I/O FTPB2\n/BOOT1BOOT1VLCDRAIL1/ \nADCIN0b\nM7 38 - - - PE7 I/O TC PE7 -ADC_IN22/ \nCOMP1_INP\nL7 39 - - - PE8 I/O TC PE8 -ADC_IN23/ \nCOMP1_INP\nM8 40 - - - PE9 - TC PE9TIM2_CH1_ETR/ \nTIM5_ETRADC_IN24/\nCOMP1_INP\nL8 41 - - - PE10 I/O TC PE10 TIM2_CH2ADC_IN25/\nCOMP1_INP\nM9 42 - - - PE11 I/O FT PE11 TIM2_CH3 VLCDRAIL2\nL9 43 - - - PE12 I/O FT PE12 TIM2_CH4/SPI1_NSS VLCDRAIL3\nM10 44 - - - PE13 I/O FT PE13 SPI1_SCK -\nM11 45 - - - PE14 I/O FT PE14 SPI1_MISO -\nM12 46 - - - PE15 I/O FT PE15 SPI1_MOSI -\nL10 47 29 J2 21 PB10 I/O FT PB10TIM2_CH3/I2C2_SCL/\nUSART3_TX/ \nLCD_SEG10-\nL11 48 30 H2 22 PB11 I/O FT PB11TIM2_CH4/I2C2_SDA/\nUSART3_RX/ \nLCD_SEG11-\n-- - H 5 - VSS S- VSS --\nF12 49 31 J1 23 VSS_1 S- VSS_1 --\nG12 50 32 H1 24 VDD_1 S- VDD_1 --Table 9. STM32L151xC and STM32L152xC pin definitions (continued)\nPins\nPin name\nPin type(1)\nI / O StructureMain \nfunction(2) \n(after \nreset)Pin functionsUFBGA100\nLQFP100\nLQFP64\nWLCSP63\nLQFP48 or UFQFPN48Alternate functions Additional functions\nPin descriptions STM32L151xC STM32L152xC\n42/136 DocID022799 Rev 13L12 51 33 G2 25 PB12 I/O FT PB12TIM10_CH1 \n/I2C2_SMBA/\nSPI2_NSS/I2S2_WS/\nUSART3_CK/ \nLCD_SEG12ADC_IN18/ \nCOMP1_INP/ \nVLCDRAIL2\nK12 52 34 G1 26 PB13 I/O FT PB13TIM9_CH1/SPI2_SCK/ \nI2S2_CK/\nUSART3_CTS/ \nLCD_SEG13ADC_IN19/ \nCOMP1_INP\nK11 53 35 F3 27 PB14 I/O FT PB14TIM9_CH2/SPI2_MISO/\nUSART3_RTS/ \nLCD_SEG14ADC_IN20/ \nCOMP1_INP\nK10 54 36 F2 28 PB15 I/O FT PB15TIM11_CH1/SPI2_MOSI\n/I2S2_SD/LCD_SEG15ADC_IN21/ \nCOMP1_INP/\nRTC_REFIN\nK9 55 - - - PD8 I/O FT PD8USART3_TX/ \nLCD_SEG28-\nK8 56 - - - PD9 I/O FT PD9USART3_RX/ \nLCD_SEG29-\nJ12 57 - - - PD10 I/O FT PD10USART3_CK/ \nLCD_SEG30-\nJ11 58 - - - PD11 I/O FT PD11USART3_CTS/ \nLCD_SEG31-\nJ10 59 - - - PD12 I/O FT PD12TIM4_CH1/ \nUSART3_RTS/ \nLCD_SEG32-\nH12 60 - - - PD13 I/O FT PD13 TIM4_CH2/LCD_SEG33 -\nH11 61 - - - PD14 I/O FT PD14 TIM4_CH3/LCD_SEG34 -\nH10 62 - - - PD15 I/O FT PD15 TIM4_CH4/LCD_SEG35 -\nE12 63 37 F1 - PC6 I/O FT PC6TIM3_CH1/I2S2_MCK/\nLCD_SEG24-Table 9. STM32L151xC and STM32L152xC pin definitions (continued)\nPins\nPin name\nPin type(1)\nI / O StructureMain \nfunction(2) \n(after \nreset)Pin functionsUFBGA100\nLQFP100\nLQFP64\nWLCSP63\nLQFP48 or UFQFPN48Alternate functions Additional functions\nDocID022799 Rev 13 43/136STM32L151xC STM32L152xC Pin descriptions\n51E11 64 38 E1 - PC7 I/O FT PC7TIM3_CH2/I2S3_MCK/\nLCD_SEG25-\nE10 65 39 D1 - PC8 I/O FT PC 8 TIM3_CH3/LCD_SEG26 -\nD12 66 40 E2 - PC9 I/O FT PC 9 TIM3_CH4/LCD_SEG27 -\nD11 67 41 E3 29 PA8 I/O FT PA8USART1_CK/MCO/ \nLCD_COM0-\nD10 68 42 C1 30 PA9 I/O FT PA9USART1_TX/ \nLCD_COM1-\nC12 69 43 D2 31 PA10 I/O FT PA10USART1_RX/ \nLCD_COM2-\nB12 70 44 B1 32 PA11 I/O FT PA11USART1_CTS/\nSPI1_MISOUSB_DM\nA12 71 45 D3 33 PA12 I/O FT PA12USART1_RTS/\nSPI1_MOSIUSB_DP\nA11 72 46 C2 34 PA13 I/O FTJTMS-\nSWDIOJTMS-SWDIO -\nC11 73 - - - PH2 I/O FT PH2 - -\nF11 74 47 A1 35 VSS_2 S- VSS_2 --\nG11 75 48 B2 36 VDD_2 S- VDD_2 --\nA10 76 49 C3 37 PA14 I/O FTJTCK-\nSWCLKJTCK-SWCLK -\nA9 77 50 A2 38 PA15 I/O FT JTDITIM2_CH1_ETR/ \nSPI1_NSS/\nSPI3_NSS/I2S3_WS/\nLCD_SEG17/JTDI-\nB11 78 51 B3 - PC10 I/O FT PC10SPI3_SCK/I2S3_CK/\nUSART3_TX/ \nLCD_SEG28/LCD_SEG40/ \nLCD_COM4-Table 9. STM32L151xC and STM32L152xC pin definitions (continued)\nPins\nPin name\nPin type(1)\nI / O StructureMain \nfunction(2) \n(after \nreset)Pin functionsUFBGA100\nLQFP100\nLQFP64\nWLCSP63\nLQFP48 or UFQFPN48Alternate functions Additional functions\nPin descriptions STM32L151xC STM32L152xC\n44/136 DocID022799 Rev 13C10 79 52 A3 - PC11 I/O FT PC11SPI3_MISO/ \nUSART3_RX/\nLCD_SEG29/ \nLCD_SEG41/\nLCD_COM5-\nB10 80 53 B4 - PC12 I/O FT PC12SPI3_MOSI/I2S3_SD/\nUSART3_CK/ \nLCD_SEG30/\nLCD_SEG42/ \nLCD_COM6-\nC9 81 - - - PD0 I/O FT PD0TIM9_CH1/SPI2_NSS/ \nI2S2_WS-\nB9 82 - - - PD1 I/O FT PD1 SPI2_SCK/I2S2_CK -\nC8 83 54 A4 - PD2 I/O FT PD2TIM3_ETR/LCD_SEG31\n/LCD_SEG43/ \nLCD_COM7-\nB8 84 - - - PD3 I/O FT PD3SPI2_MISO/ \nUSART2_CTS-\nB7 85 - - - PD4 I/O FT PD4SPI2_MOSI/I2S2_SD/\nUSART2_RTS-\nA6 86 - - PD5 I/O FT PD5 USART2_TX -\nB6 87 - - - PD6 I/O FT PD6 USART2_RX -A5 88 - - - PD7 I/O FT PD7 TIM9_CH2/USART2_CK -\nA8 89 55 C4 39 PB3 I/O FT JTDOTIM2_CH2/SPI1_SCK/\nSPI3_SCK/I2S3_CK/ \nLCD_SEG7/JTDOCOMP2_INM\nA7 90 56 D4 40 PB4 I/O FT NJTRSTTIM3_CH1/SPI1_MISO/\nSPI3_MISO/LCD_SEG8\n/NJTRSTCOMP2_INP\nC5 91 57 A5 41 PB5 I/O FT PB5TIM3_CH2/I2C1_SMBA/\nSPI1_MOSI/SPI3_MOSI\n/I2S3_SD/LCD_SEG9COMP2_INP Table 9. STM32L151xC and STM32L152xC pin definitions (continued)\nPins\nPin name\nPin type(1)\nI / O StructureMain \nfunction(2) \n(after \nreset)Pin functionsUFBGA100\nLQFP100\nLQFP64\nWLCSP63\nLQFP48 or UFQFPN48Alternate functions Additional functions\nDocID022799 Rev 13 45/136STM32L151xC STM32L152xC Pin descriptions\n51B5 92 58 B5 42 PB6 I/O FT PB6TIM4_CH1/I2C1_SCL/\nUSART1_TXCOMP2_INP\nB4 93 59 C5 43 PB7 I/O FT PB7TIM4_CH2/I2C1_SDA/\nUSART1_RXCOMP2_INP/PVD_IN\nA4 94 60 A6 44 BOOT0 I B BOOT0 - -A3 95 61 B6 45 PB8 I/O FT PB8TIM4_CH3/TIM10_CH1/\nI2C1_SCL/LCD_SEG16-\nB3 96 62 C6 46 PB9 I/O FT PB9TIM4_CH4/TIM11_CH1/\nI2C1_SDA/LCD_COM3-\nC3 97 - - - PE0 I/O FT PE0TIM4_ETR/TIM10_CH1/\nLCD_SEG36-\nA2 98 - - - PE1 I/O FT PE1TIM11_CH1/ \nLCD_SEG37-\nD3 99 63 A7 47 V\nSS_3 S- VSS_3 --\nC4 100 64 B7 48 VDD_3 S- VDD_3 --\n1. I = input, O = output, S = supply.\n2. Function availability depends on the chosen device.\n3. Applicable to STM32L152xC devices  only. In STM32L151xC devices, th is pin should be connected to VDD.\n4. The PC14 and PC15 I/Os are only configured as OSC32_IN/OS C32_OUT when the LSE oscillator is ON (by setting the \nLSEON bit in the RCC_CSR register). The LSE oscillat or pins OSC32_IN/OSC32_OUT can be used as general-purpose \nPH0/PH1 I/Os, respectively, when the LSE osci llator is off (after reset, the LSE oscill ator is off). The LSE has priority over \nthe GPIO function. For more details, refer to Using t he OSC32_IN/OSC32_OUT pins as GPIO PC14/PC15 port pins \nsection in the STM32L151xx, STM32L152xx and STM32L162xx reference manual (RM0038).\n5. The PH0 and PH1 I/Os are only configured as OSC_IN/OSC_OUT  when the HSE oscillator is ON (by setting the HSEON \nbit in the RCC_CR register). The HSE oscillator pins OS C_IN/OSC_OUT can be used as general-purpose PH0/PH1 I/Os, \nrespectively, when the HSE oscillat or is off ( after reset, the HSE oscillator is  off ). The HSE has priority over the GPIO \nfunction.Table 9. STM32L151xC and STM32L152xC pin definitions (continued)\nPins\nPin name\nPin type(1)\nI / O StructureMain \nfunction(2) \n(after \nreset)Pin functionsUFBGA100\nLQFP100\nLQFP64\nWLCSP63\nLQFP48 or UFQFPN48Alternate functions Additional functions\nPin descriptions STM32L151xC STM32L152xC\n46/136 DocID022799 Rev 13Alternate functions\nTable 10. Alternate function input/output \nPort \nnameDigital alternate function number\nAFIO0 AFIO1 AFIO2 AFIO3 AFIO4 AFIO5 AFIO6 AFIO7.\n.AFIO11.\n.AFIO14 AFIO15\nAlternate function\nSYSTEM TIM2 TIM3/4/5TIM9/ \n10/11I2C1/2 SPI1/2 SPI3 USART1/2/3 LCD CPRI SYSTEM\nBOOT0 BOOT0 - - - - - - - - - EVENT OUT\nNRST NRST - - - - - - - - - -PA0-\nWKUP1- TIM2_CH1_ ETR TIM5_CH1 - - - - USART2_CTS - TIMx_IC1 EVENT OUT\nPA1 - TIM2_CH2 TIM5_CH2 - - - - USART2_RTS SEG0 TIMx_IC2 EVENT OUT\nPA2 - TIM2_CH3 TIM5_CH3 TIM9_CH1 - - - USART2_TX SEG1 TIMx_IC3 EVENT OUTPA3 - TIM2_CH4 TIM5_CH4 TIM9_CH2 - - - USART2_RX SEG2 TIMx_IC4 EVENT OUT\nPA4 - - - - - SPI1_NSS SPI3_NSS  \nI2S3_WSUSART2_CK - TIMx_IC1 EVENT OUT\nPA5 - TIM2_CH1_ETR - - - SPI1_SCK - - - TIMx_IC2 EVENT OUT\nPA6 - - TIM3_CH1 TIM10_ CH1 - SPI1_MISO - - SEG3 TIMx_IC3 EVENT OUTPA7 - - TIM3_CH2 TIM11_ CH1 - SPI1_MOSI - - SEG4 TIMx_IC4 EVENT OUTPA8 MCO - - - - - - USART1_CK COM0 TIMx_IC1 EVENT OUTPA9 - - - - - - - USART1_TX COM1 TIMx_IC2 EVENT OUTPA10 - - - - - - - USART1_RX COM2 TIMx_IC3 EVENT OUTPA11 - - - - - SPI1_MISO - USART1_CTS - TIMx_IC4 EVENT OUTPA12 - - - - - SPI1_MOSI - USART1_RTS - TIMx_IC1 EVENT OUTPA13 JTMS-SWDIO - - - - - - - - TIMx_IC2 EVENT OUTPA14 JTCK-SWCLK - - - - - - - - TIMx_IC3 EVEN TOUT\nPA15 JTDI TIM2_CH1_ETR - - - SPI1_NSS SPI3_NSS  \nI2S3_WS- SEG17 TIMx_IC4 EVEN TOUT\nSTM32L151xC STM32L152xC Pin descriptions\nDocID022799 Rev 13 47/136PB0 - - TIM3_CH3 - - - - - SEG5 - EVEN TOUT\nPB1 - - TIM3_CH4 - - - - - SEG6 - EVENT OUTPB2 BOOT1 - - - - - - - - EVENT OUT\nPB3 JTDO TIM2_CH2 - - - SPI1_SCK SPI3_SCK  \nI2S3_CK- SEG7 - EVENT OUT\nPB4 NJTRST - TIM3_CH1 - - SPI1_MISO SPI3_MISO - SEG8 - EVENT OUTPB5 - - TIM3_CH2 - I2C1_SMBA SPI1_MOSI SPI3_MOSI  \nI2S3_SD- SEG9 - EVENT OUT\nPB6 - TIM4_CH1 - I2C1_SCL - - USART1_TX - - EVENT OUT\nPB7 - - TIM4_CH2 - I2C1_SDA - - USART1_RX - - EVENT OUTPB8 - - TIM4_CH3 TIM10_CH1 I2C1_SCL - - - SEG16 - EVENT OUTPB9 - - TIM4_CH4 TIM11_CH1 I2C1_SDA - - - COM3 - EVENT OUTPB10 - TIM2_CH3 - - I2C2_SCL - - USART3_TX SEG10 - EVENT OUTPB11 - TIM2_CH4 - - I2C2_SDA - - USART3_RX SEG11 - EVENT OUT\nPB12 - - - TIM10_CH1 I2C2_SMBA SPI2_NSS  \nI2S2_WS- USART3_CK SEG12 - EVENT OUT\nPB13 - - - TIM9_CH1 -SPI2_SCK  \nI2S2_CK- USART3_CTS SEG13 - EVENT OUT\nPB14 - - - TIM9_CH2 - SPI2_MISO - USART3_RTS SEG14 - EVENT OUTPB15 - - - TIM11_CH1 -SPI2_MOSI  \nI2S2_SD-- S E G 1 5  - E V E N T  O U T\nPC0 - - - - - - - - SEG18 TIMx_IC1 EVENT OUT\nPC1 - - - - - - - - SEG19 TIMx_IC2 EVENT OUTPC2 - - - - - - - - SEG20 TIMx_IC3 EVENT OUTPC3 - - - - - - - - SEG21 TIMx_IC4 EVENT OUTTable 10. Alternate function input/output (continued)\nPort \nnameDigital alternate function number\nAFIO0 AFIO1 AFIO2 AFIO3 AFIO4 AFIO5 AFIO6 AFIO7.\n.AFIO11.\n.AFIO14 AFIO15\nAlternate function\nSYSTEM TIM2 TIM3/4/5TIM9/ \n10/11I2C1/2 SPI1/2 SPI3 USART1/2/3 LCD CPRI SYSTEM\nPin descriptions STM32L151xC STM32L152xC\n48/136 DocID022799 Rev 13\nPC4 - - - - - - - - SEG22 TIMx_IC1 EVENT OUT\nPC5 - - - - - - - - SEG23 TIMx_IC2 EVENT OUTPC6 - - TIM3_CH1 - - I2S2_MCK - - SEG24 TIMx_IC3 EVENT OUTPC7 - - TIM3_CH2 - - - I2S3_MCK - SEG25 TIMx_IC4 EVENT OUTPC8 - - TIM3_CH3 - - - - - SEG26 TIMx_IC1 EVENT OUT\nPC9 - - TIM3_CH4 - - - - - SEG27 TIMx_IC2 EVENT OUT\nPC10 - - - - - -SPI3_SCK  \nI2S3_CKUSART3_TX COM4/ \nSEG28/ SEG40 TIMx_IC3 EVENT OUT\nPC11 - - - - - - SPI3_MISO USART3_RX COM5/ \nSEG29 \n/SEG41 TIMx_IC4 EVENT OUT\nPC12 - - - - - -SPI3_MOSI  \nI2S3_SDUSART3_CK COM6/ \nSEG30/ \nSEG42 TIMx_IC1 EVENT OUT\nPC13-\nWKUP2- - - - - - - - - TIMx_IC2 EVENT OUT\nPC14 \nOSC32_IN- - - - - - - - - TIMx_IC3 EVENT OUT\nPC15 \nOSC32_  \nOUT- - - - - - - - - TIMx_IC4 EVENT OUT\nPD0 - - - TIM9_CH1 -SPI2_NSS  \nI2S2_WS- - - TIMx_IC1 EVENT OUT\nPD1 - - - - -SPI2 SCK  \nI2S2_CK- - - TIMx_IC2 EVENT OUT\nPD2 - - TIM3_ETR - - - - -COM7/ \nSEG31/ SEG43 TIMx_IC3 EVENT OUTTable 10. Alternate function input/output (continued)\nPort \nnameDigital alternate function number\nAFIO0 AFIO1 AFIO2 AFIO3 AFIO4 AFIO5 AFIO6 AFIO7.\n.AFIO11.\n.AFIO14 AFIO15\nAlternate function\nSYSTEM TIM2 TIM3/4/5TIM9/ \n10/11I2C1/2 SPI1/2 SPI3 USART1/2/3 LCD CPRI SYSTEM\nSTM32L151xC STM32L152xC Pin descriptions\nDocID022799 Rev 13 49/136PD3 - - - - - SPI2_MISO - USART2_CTS - TIMx_IC4 EVENT OUT\nPD4 - - - - -SPI2_MOSI\nI2S2_SD - USART2_RTS - TIMx_IC1 EVENT OUT\nPD5 - - - - - - USART2_TX - TIMx_IC2 EVENT OUT\nPD6 - - - - - - USART2_RX - TIMx_IC3 EVENT OUTPD7 - - - TIM9_CH2 - - - USART2_CK - TIMx_IC4 EVENT OUTPD8 - - - - - - - USART3_TX SEG28 TIMx_IC1 EVENT OUTPD9 - - - - - - - USART3_RX SEG29 TIMx_IC2 EVENT OUTPD10 - - - - - - - USART3_CK SEG30 TIMx_IC3 EVENT OUTPD11 - - - - - - - USART3_CTS SEG31 TIMx_IC4 EVENT OUTPD12 - - TIM4_CH1 - - - - USART3_RTS SEG32 TIMx_IC1 EVENT OUTPD13 - - TIM4_CH2 - - - - - SEG33 TIMx_IC2 EVENT OUTPD14 - - TIM4_CH3 - - - - - SEG34 TIMx_IC3 EVENT OUTPD15 - - TIM4_CH4 - - - - - SEG35 TIMx_IC4 EVENT OUTPE0 - - TIM4_ETR TIM10_CH1 - - - - SEG36 TIMx_IC1 EVENT OUTPE1 - - - TIM11_CH1 - - - - SEG37 TIMx_IC2 EVENT OUTPE2 TRACECK - TIM3_ETR - - SEG 38 TIMx_IC3 EVENT OUTPE3 TRACED0 - TIM3_CH1 - - - - - SEG 39 TIMx_IC4 EVENT OUTPE4 TRACED1 - TIM3_CH2 - - - - - - TIMx_IC1 EVENT OUTPE5 TRACED2 - - TIM9_CH1 - - - - - TIMx_IC2 EVENT OUTPE6-  \nWKUP3 TRACED3 - - TIM9_CH2 - - - - - TIMx_IC3 EVENT OUT\nPE7 - - - - - - - - - TIMx_IC4 EVENT OUTTable 10. Alternate function input/output (continued)\nPort \nnameDigital alternate function number\nAFIO0 AFIO1 AFIO2 AFIO3 AFIO4 AFIO5 AFIO6 AFIO7.\n.AFIO11.\n.AFIO14 AFIO15\nAlternate function\nSYSTEM TIM2 TIM3/4/5TIM9/ \n10/11I2C1/2 SPI1/2 SPI3 USART1/2/3 LCD CPRI SYSTEM\nPin descriptions STM32L151xC STM32L152xC\n50/136 DocID022799 Rev 13\nPE8 - - - - - - - - - TIMx_IC1 EVENT OUT\nPE9 - TIM2_CH1_ETR TIM5_ETR - - - - - - TIMx_IC2 EVENT OUTPE10 - TIM2_CH2 - - - - - - - TIMx_IC3 EVENT OUTPE11 - TIM2_CH3 - - - - - - - TIMx_IC4 EVENT OUTPE12 - TIM2_CH4 - - - SPI1_NSS - - - TIMx_IC1 EVENT OUT\nPE13 - - - - - SPI1_SCK - - - TIMx_IC2 EVENT OUT\nPE14 - - - - - SPI1_MISO - - - TIMx_IC3 EVENT OUTPE15 - - - - - SPI1_MOSI - - - TIMx_IC4 EVENT OUTPH0OSC  \n_IN-- - - - - - - - - -\nPH1OSC_\nOUT-- - - - - - - - - -\nPH2 - - - - - - - - - - -Table 10. Alternate function input/output (continued)\nPort \nnameDigital alternate function number\nAFIO0 AFIO1 AFIO2 AFIO3 AFIO4 AFIO5 AFIO6 AFIO7.\n.AFIO11.\n.AFIO14 AFIO15\nAlternate function\nSYSTEM TIM2 TIM3/4/5TIM9/ \n10/11I2C1/2 SPI1/2 SPI3 USART1/2/3 LCD CPRI SYSTEM\nDocID022799 Rev 13 51/136STM32L151xC STM32L152xC Memory mapping\n515 Memory mapping\n             Figure 9. Memory map\n          \nRESERVED\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00#2#\n\x00\n4)-\x122ESERVED\x00\x00\x00\x00\x00\x00\n4)-\x134)-\x1424#77$\')7$\'30)\x1253!24\x1253!24\x13393#&\'4)-\x194)-\x11\x11RESERVED!$#53!24\x11RESERVED\x00\n\x00\n\x00\x00\n30)\x1330)\x11\n)\x12#\x11\x00\n\x000724)-\x11\x10\n)\x12#\x12RESERVED%84)RESERVED2##&LASH\x00)NTERFACERESERVED$-!\x12\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\n53"\x002EGISTERS\n\x10\x11\x12\x13\x14\x15\x16\x17\n0ERIPHERALS\n32!-O# RTEX\r-\x13\x00)NTERNAL\x00\n0ERIPHERALS\n-3\x13\x17\x15\x12\x136\x11\x15\x11\x12\x00BYTE53"\n4)-\x164)-\x17,#$\n4)-\x15\x10X\x14\x10\x10\x10\x00\x11\x10\x10\x10\x10X\x14\x10\x10\x10\x00\x11\x14\x10\x10\x10X\x14\x10\x10\x10\x00\x12\x14\x10\x10\n\x10X\x14\x10\x10\x10\x00\x11#\x10\x10$!#\x11\x00\x06\x00\x12\x10X\x14\x10\x10\x10\x00\x17\x18\x10\x100ORT\x00!0ORT\x00"0ORT\x00#0ORT\x00$0ORT\x00%0ORT\x00(\x10X\x14\x10\x10\x12\x00\x11\x18\x10\x10\n\x10X\x14\x10\x10\x12\x00\x11\x14\x10\x10\n\x10X\x14\x10\x10\x12\x00\x11\x10\x10\x10\x10X\x14\x10\x10\x12\x00\x10#\x10\x10\n\x10X\x14\x10\x10\x12\x00\x10\x18\x10\x10\n\x10X\x14\x10\x10\x12\x00\x10\x14\x10\x10\n#/-0\x00\x0b\x002)\n&LASH\x00MEMORY\n\x00\x00\x00\x00\n3YSTEM\x00MEMORY\x00\n\x00\x00\n!LIASED\x00TO\x00&LASH\x00OR\x00SYSTEM\nMEMORY\x00DEPENDING\x00ON\n"//4\x00PINS\x00$ATA%%02/-\n\x00\x00\x00\nRESERVED\n\x00\x00RESERVED\n\x00RESERVED\n\x00\x00\x00\nRESERVEDRESERVED.ON\r\nVOLATILE\nMEMORYRESERVED\x00\x00\x00\n/PTIONBYTE\nRESERVEDRESERVED\nRESERVEDRESERVED\nRESERVED\nRESERVED$-!\x11\x10X\x14\x10\x10\x12\x00\x16\x17&&\n\x10X\x14\x10\x10\x12\x00\x16\x14\x10\x10\n\x10X\x14\x10\x10\x12\x00\x16\x10\x10\x10\n\x10X\x14\x10\x10\x12\x00\x14\x10\x10\x10\n\x10X\x14\x10\x10\x12\x00\x13#\x10\x10\n\x10X\x14\x10\x10\x12\x00\x13\x18\x10\x10\n\x10X\x14\x10\x10\x12\x00\x13\x14\x10\x10\n\x10X\x14\x10\x10\x12\x00\x13\x10\x10\x10\n\x10X\x14\x10\x10\x12\x00\x10\x10\x10\x10\n\x10X\x14\x10\x10\x11\x00\x13#\x10\x10\n\x10X\x14\x10\x10\x11\x00\x13\x18\x10\x10\n\x10X\x14\x10\x10\x11\x00\x13\x14\x10\x10\n\x10X\x14\x10\x10\x11\x00\x13\x10\x10\x10\n\x10X\x14\x10\x10\x11\x00\x12\x18\x10\x10\n\x10X\x14\x10\x10\x11\x00\x12\x14\x10\x10\n\x10X\x14\x10\x10\x11\x00\x11\x14\x10\x10\n\x10X\x14\x10\x10\x11\x00\x11\x10\x10\x10\n\x10X\x14\x10\x10\x11\x00\x10#\x10\x10\n\x10X\x14\x10\x10\x11\x00\x10\x18\x10\x10\n\x10X\x14\x10\x10\x11\x00\x10\x14\x10\x10\n\x10X\x14\x10\x10\x11\x00\x10\x10\x10\x10\n\x10X\x14\x10\x10\x10\x00\x18\x10\x10\x10\n\x10X\x14\x10\x10\x10\x00\x17#\x10\x10\n\x10X\x14\x10\x10\x10\x00\x17\x14\x10\x10\n\x10X\x14\x10\x10\x10\x00\x17\x10\x10\x10\n\x10X\x14\x10\x10\x10\x00\x16\x14\x10\x10\n\x10X\x14\x10\x10\x10\x00\x16\x10\x10\x10\n\x10X\x14\x10\x10\x10\x00\x15#\x10\x10\n\x10X\x14\x10\x10\x10\x00\x15\x18\x10\x10\n\x10X\x14\x10\x10\x10\x00\x15\x14\x10\x10\n\x10X\x14\x10\x10\x10\x00\x14#\x10\x10\n\x10X\x14\x10\x10\x10\x00\x14\x18\x10\x10\n\x10X\x14\x10\x10\x10\x00\x14\x14\x10\x10\n\x10X\x14\x10\x10\x10\x00\x14\x10\x10\x10\n\x10X\x14\x10\x10\x10\x00\x13#\x10\x10\n\x10X\x14\x10\x10\x10\x00\x13\x18\x10\x10\n\x10X\x14\x10\x10\x10\x00\x13\x14\x10\x10\n\x10X\x14\x10\x10\x10\x00\x13\x10\x10\x10\n\x10X\x14\x10\x10\x10\x00\x12#\x10\x10\n\x10X\x14\x10\x10\x10\x00\x12\x18\x10\x10\n\x10X\x14\x10\x10\x10\x00\x10#\x10\x10\n\x10X\x14\x10\x10\x10\x00\x10\x18\x10\x10\n\x10X\x14\x10\x10\x10\x00\x10\x14\x10\x10\n\x10X\x14\x10\x10\x10\x00\x10\x10\x10\x10\x10X\x11&&\x18\x00\x10\x10\x19&\n\x10X\x11&&\x18\x00\x10\x10\x12\x10\n\x10X\x11&&\x18\x00\x10\x10\x10\x10\n\x10X\x11&&\x10\x00\x12\x10\x10\x10\n\x10X\x11&&\x10\x00\x10\x10\x10\x10\n\x10X\x10\x18\x10\x18\x00\x12\x10\x10\x10\n\x10X\x10\x18\x10\x18\x00\x10\x10\x10\x10\n\x10X\x10\x18\x10\x14\x00\x10\x10\x10\x10\n\x10X\x10\x18\x10\x10\x00\x10\x10\x10\x10\n\x10X\x10\x10\x10\x10\x00\x10\x10\x10\x10\x10X&&&&\x00&&&&\n\x10X%\x10\x11\x10\x00\x10\x10\x10\x10\n\x10X%\x10\x10\x10\x00\x10\x10\x10\x10\n\x10X#\x10\x10\x10\x00\x10\x10\x10\x10\n\x10X!\x10\x10\x10\x00\x10\x10\x10\x10\n\x10X\x18\x10\x10\x10\x00\x10\x10\x10\x10\n\x10X\x16\x10\x10\x10\x00\x10\x10\x10\x10\n\x10X\x14\x10\x10\x10\x00\x10\x10\x10\x10\n\x10X\x12\x10\x10\x10\x00\x10\x10\x10\x10\n\x10X\x10\x10\x10\x10\x00\x10\x10\x10\x10\nElectrical characteristics STM32L151xC STM32L152xC\n52/136 DocID022799 Rev 136 Electrical characteristics\n6.1 Parameter conditions\nUnless otherwise specified, all voltages are referenced to VSS.\n6.1.1 Minimum and maximum values\nUnless otherwise specified the minimum and ma ximum values are guaranteed in the worst \nconditions of ambient temperature, supply voltage and frequencies by tests in production on 100% of the devices with an ambient temperature at T\nA = 25 °C and TA = TAmax (given by \nthe selected temperature range).\nData based on characterization results, design  simulation and/or technology characteristics \nare indicated in the table footnotes. Based on characterization, the minimum and maximum values refer to sample tests and represent the mean value plus or minus three times the standard deviation (mean\n ±3σ).\n6.1.2 Typical values\nUnless otherwise specified, typical data are based on TA = 25 °C, VDD = 3.6  V (for the \n1.65 V ≤ VDD ≤ 3.6 V voltage range). They are given only as design guidelines and are not \ntested.\nTypical ADC accuracy values are determined by characterization of a batch of samples from \na standard diffusion lot over the full temperature range, where 95% of the devices have an error less than or equal to the value indicated\n (mean  ±2σ).\n6.1.3 Typical curves\nUnless otherwise specified, all typical curves  are given only as design guidelines and are \nnot tested.\n6.1.4 Loading capacitor\nThe loading conditions used for pin parameter measurement are shown in Figure  10.\n6.1.5 Pin input voltage\nThe input voltage measurement on a pin of the device is described in Figure  11.\n          \n          Figure 10. Pin loading conditions Figure 11. Pin input voltage\nDL\x14\x1a\x1b\x18\x14F&\x03 \x03\x18\x13\x03S)0&8\x03SLQ\nDL\x14\x1a\x1b\x18\x15G0&8\x03SLQ\n9,1\nDocID022799 Rev 13 53/136STM32L151xC STM32L152xC Electrical characteristics\n1096.1.6 Power supply scheme\nFigure 12. Power supply scheme\n06\x16\x15\x17\x19\x149\x16$QDORJ\x1d\x03\n26&\x0f3//\x0f&203\x0f\n«\x119\'\'*3\x03,\x122V287\n,1.HUQHO\x03ORJLF\x03\n\x0b&38\x0f\x03\n\'LJLWDO\x03\t\x03\n0HPRULHV\x0c\x03\x036WDQGE\\\x10SRZHU\x03FLUFXLWU\\\n\x0b/6(\x0f57&\x0f:DNH\x10XS\x03\nORJLF\x0f\x0357&\x03EDFNXS\x03\nUHJLVWHUV\x0c\n1\x03î\x03\x14\x13\x13\x03Q)\x03\x0e\x03\n\x14\x03î\x03\x17\x11\x1a\x03\x97)5HJXODWRU\n966\n9\'\'$\n95()\x0e\n95()\x10\n966$$\'&\x12\'$&\n/HYHO\x03VKLIWHU,2\n/RJLF\n9\'\'\n\x14\x13\x13\x03Q)\x03\x0e\x03\x14\x03\x97)95()\n\x14\x13\x13\x03Q)\x03\x0e\x03\x14\x03\x97)9\'\'$\n1\x03±\x03QXPEHU\x03RI\x03\n9\'\'\x12966\x03SDLUV\nElectrical characteristics STM32L151xC STM32L152xC\n54/136 DocID022799 Rev 136.1.7 Optional LCD power supply scheme\nFigure 13. Optional LCD power supply scheme\n1. Option 1: LCD power supply is provided by a dedicated VLCD supply source, VSEL switch is open.\n2. Option 2: LCD power supply is provided by the in ternal step-up converter, VSEL switch is closed, an \nexternal capacitance is needed for co rrect behavior of this converter.\n6.1.8 Current consumption measurement\nFigure 14. Current consum ption measurement scheme06\x16\x15\x17\x1b\x189\x149\'\'\x14\x12\x15\x12\x11\x11\x11\x1211\x03[\x03\x14\x13\x13\x03Q)\n\x0e\x03\x14\x03[\x03\x14\x13\x03\x97)6WHS\x10XS&RQYHUWHU\n966\x14\x12\x15\x12\x11\x11\x11\x1219\'\'\n\x14\x13\x13\x03\nQ)9/&\'\n9/&\'UDLO\x149/&\'UDLO\x159/&\'UDLO\x169/&\'\n3%\x13\x03RU\x033(\x14\x15\n3%\x15\n3%\x14\x15\x03RU\x033(\x14\x14&(;7\n&UDLO\x16/&\'96(/\n&UDLO\x15&UDLO\x142SWLRQ\x03\x14\n2SWLRQ\x03\x15\n1\x03[\x03\x14\x13\x13\x03Q)\n\x0e\x14\x03[\x03\x14\x13\x03\x97)\n1\x03[\x039661\x03[\x039\'\'\n966$\x14\x13\x13\x03Q)\n\x0e\x14\x03\x97)$\n\x0e\n\x10\n95()\x0e\n95()\x109\'\'$9/&\'\n06\x16\x16\x13\x15\x1b9\x14\nDocID022799 Rev 13 55/136STM32L151xC STM32L152xC Electrical characteristics\n1096.2 Absolute maximum ratings\nStresses above the absolute maximum ratings listed in Table  11: Voltage characteristics , \nTable  12: Current characteristics , and Table  13: Thermal characteristics  may cause \npermanent damage to the device. These are stress ratings only and functional operation of \nthe device at these conditions is not implied.  Exposure to maximum rating conditions for \nextended periods may af fect device reliability.\n           \n           Table 11. Voltage characteristics \nSymbol Ratings Min Max Unit\nVDD–VSSExternal main supply voltage  \n(including VDDA and VDD)(1) –0.3 4.0\nV\nVIN(2)Input voltage on five-volt tolerant pin VSS − 0.3 VDD+4.0\nInput voltage on any other pin VSS − 0.3 4.0\n|ΔVDDx| Variations between different VDD power pins - 50\nmV\n|VSSX − VSS| Variations between all different ground pins(3)-5 0\nVREF+ –VDDA Allowed voltage difference for VREF+ > VDDA -0 . 4 V\nVESD(HBM)Electrostatic discharge voltage  \n(human body model)see Section 6.3.11\n1. All main power (VDD, VDDA) and ground (VSS, VSSA) pins must always be connected to the external power supply, in the \npermitted range.\n2. VIN maximum must always be respected. Refer to Table 12  for maximum allowed injected current values.\n3. Include VREF- pin.\nTable 12. Current characteristics \nSymbol Ratings  Max. Unit\nIVDD(Σ) Total current into sum of all VDD_x power lines (source)(1)100\nmAIVSS(Σ)(2)Total current out of sum of all VSS_x ground lines (sink)(1)100\nIVDD(PIN)  Maximum current into each VDD_x power pin (source)(1)70\nIVSS(PIN) Maximum current out of each VSS_x ground pin (sink)(1)-70\nIIOOutput current sunk by any I/O and control pin 25\nOutput current sourced by any I/O and control pin - 25\nΣIIO(PIN)Total output current sunk by su m of all IOs and control pins(2)60\n Total output current sourced by sum of all IOs and control pins(2)-60\nIINJ(PIN) (3)Injected current on fi ve-volt tolerant I/O(4), RST and B pins -5/+0\nInjected current on any other pin (5)± 5 \nΣIINJ(PIN) Total injected current (sum of all I/O and control pins)(6)± 25\n1. All main power (VDD, VDDA) and ground (VSS, VSSA) pins must always be connected to the external power supply, in the \npermitted range.\n2. This current consumption must be correc tly distributed over all I/Os and control pi ns. The total output current must not be \nsunk/sourced between two consecutive power supply pins referring to high pi n count LQFP packages.\n3. Negative injection disturbs the analog performance of the device. See note in Section 6.3.17 .\nElectrical characteristics STM32L151xC STM32L152xC\n56/136 DocID022799 Rev 136.3 Operating conditions\n6.3.1 General operating conditions\n          4. Positive current injection is not possible on these I/Os. A negative in jection is induced by VIN<VSS. IINJ(PIN)  must never be \nexceeded. Refer to Table 11  for maximum allowed input voltage values.\n5. A positive injection is induced by VIN > VDD while a negative injection is induced by VIN < VSS. IINJ(PIN)  must never be \nexceeded. Refer to Table 11: Voltage characteristics  for the maximum allowed input voltage values.\n6. When several inputs are submitted to a current injection, the maximum ΣIINJ(PIN)  is the absolute sum of the positive and \nnegative injected currents (instantaneous values).\nTable 13. Thermal characteristics\nSymbol Ratings  Value Unit\nTSTG Storage temperature range –65 to +150 °C\nTJ Maximum junction temperature 150 °C\nTable 14. General operating conditions \nSymbol Parameter  Conditions Min Max Unit\nfHCLK Internal AHB clock frequency - 0 32\nMHz fPCLK1 Internal APB1 clock frequency - 0 32\nfPCLK2 Internal APB2 clock frequency - 0 32\nVDD Standard operating voltageBOR detector disabled 1.65 3.6\nVBOR detector enabled, at \npower on1.8 3.6\nBOR detector disabled, after \npower on1.65 3.6\nVDDA(1)Analog operating voltage  \n(ADC and DAC not used)Must be the same voltage as \nVDD(2)1.65 3.6\nV\nAnalog operating voltage  \n(ADC or DAC used)1.8 3.6\nVIN I/O input voltageFT pins; 2.0 V ≤ VDD -0.3 5.5(3)\nVFT pins; VDD < 2.0 V -0.3 5.25(3)\nBOOT0 pin 0 5.5\nAny other pin -0.3 VDD+0.3\nPDPower dissipation at  TA = 85 °C for \nsuffix 6 or TA = 105 °C for suffix 7(4)LQFP48 package - 364\nmWLQFP100 package - 465\nLQFP64 package - 435UFQFPN48 package - 625\nUFBGA100 - 339\nWLCSP63 package - 408\nDocID022799 Rev 13 57/136STM32L151xC STM32L152xC Electrical characteristics\n109          \n6.3.2 Embedded reset and power control block characteristics\nThe parameters given in the following table are derived from the tests performed under the \nconditions su mmarized in Table  14.\n           TA Ambient temperature for 6 suffix version Maximum power dissipation(5) –40 85\n°C\nAmbient temperature for 7 suffix version Maximum power dissipation –40 105\nTJ Junction temperature range6 suffix version –40 105\n°C\n7 suffix version –40 110\n1. When the ADC is used, refer to Table 56: ADC characteristics .\n2. It is recommended to power VDD and VDDA from the same source. A maximum difference of 300 mV between VDD and \nVDDA can be tolerated during power-up and up to 140 mV in operation.\n3. To sustain a voltage higher than VDD+0.3V, the inte rnal pull-up/pull-down resi stors must be disabled.\n4. If TA is lower, higher PD values are allowed as long as TJ does not exceed TJ max (see Table 73: Thermal characteristics \non page 128 ).\n5. In low-power dissipation state, TA can be extended to -40°C to 105°C temperature range as long as TJ does not exceed TJ max (see Table 73: Thermal characteristics on page 128 ).Table 14. General operating conditions (continued)\nSymbol Parameter  Conditions Min Max Unit\nTable 15. Embedded reset and power control block characteristics \nSymbol Parameter Conditions Min Typ  Max Unit\ntVDD(1)VDD rise time rateBOR detector enabled 0 - ∞\nµs/VBOR detector disabled 0 - 1000\nVDD fall time rateBOR detector enabled 20 - ∞\nBOR detector disabled 0 - 1000\nTRSTTEMPO(1)Reset temporizationVDD rising, BOR enabled - 2 3.3\nms\nVDD rising, BOR disabled(2)0.4 0.7 1.6\nVPOR/PDRPower on/power down reset \nthresholdFalling edge 1 1.5 1.65\nVRising edge 1.3 1.5 1.65\nVBOR0 Brown-out reset threshold 0Falling edge 1.67 1.7 1.74\nRising edge 1.69 1.76 1.8\nVBOR1 Brown-out reset threshold 1Falling edge 1.87 1.93 1.97\nRising edge 1.96 2.03 2.07\nVBOR2 Brown-out reset threshold 2Falling edge 2.22 2.30 2.35\nRising edge 2.31 2.41 2.44\nElectrical characteristics STM32L151xC STM32L152xC\n58/136 DocID022799 Rev 13VBOR3 Brown-out reset threshold 3Falling edge 2.45 2.55 2.6\nVRising edge 2.54 2.66 2.7\nVBOR4 Brown-out reset threshold 4Falling edge 2.68 2.8 2.85\nRising edge 2.78 2.9 2.95\nVPVD0Programmable voltage detector \nthreshold 0Falling edge 1.8 1.85 1.88\nRising edge 1.88 1.94 1.99\nVPVD1 PVD threshold 1Falling edge 1.98 2.04 2.09\nRising edge 2.08 2.14 2.18\nVPVD2 PVD threshold 2Falling edge 2.20 2.24 2.28\nRising edge 2.28 2.34 2.38\nVPVD3 PVD threshold 3Falling edge 2.39 2.44 2.48\nRising edge 2.47 2.54 2.58\nVPVD4 PVD threshold 4Falling edge 2.57 2.64 2.69\nRising edge 2.68 2.74 2.79\nVPVD5 PVD threshold 5Falling edge 2.77 2.83 2.88\nRising edge 2.87 2.94 2.99\nVPVD6 PVD threshold 6Falling edge 2.97 3.05 3.09\nRising edge 3.08 3.15 3.20\nVhyst Hysteresis voltageBOR0 threshold - 40 -\nmVAll BOR and PVD \nthresholds excepting BOR0- 100 -\n1. Guaranteed by characterization results.\n2. Valid for device version without BOR at power up. Please see option “D” in Orderi ng information scheme for more details.Table 15. Embedded reset and power control block characteristics (continued)\nSymbol Parameter Conditions Min Typ  Max Unit\nDocID022799 Rev 13 59/136STM32L151xC STM32L152xC Electrical characteristics\n1096.3.3 Embedded internal  reference voltage\nThe parameters given in Table  17 are based on characterization results, unless otherwise \nspecified.\n          \n           Table 16. Embedded internal reference voltage calibration values \nCalibration value name Description Memory address\nVREFINT_CALRaw data acquired at \ntemperature of 30 °C ±5 °C  \nVDDA= 3 V ±10 mV0x1FF8 00F8 - 0x1FF8 00F9\nTable 17. Embedded internal reference voltage \nSymbol Parameter Conditions Min Typ Max Unit\nVREFINT out (1)Internal reference voltage – 40 °C < TJ < +110 °C 1.202 1.224 1.242 V\nIREFINTInternal reference current \nconsumption-- 1 . 4 2 . 3 µ A\nTVREFINT Internal reference startup time - - 2 3 ms\nVVREF_MEASVDDA and VREF+ voltage during \nVREFINT  factory measure-2 . 9 9 3 3 . 0 1 V\nAVREF_MEASAccuracy of factory-measured VREF \nvalue(2)Including uncertainties \ndue to ADC and \nVDDA/VREF+ values-- ± 5 m V\nTCoeff(3)Temperature coefficient –40 °C < TJ < +110 °C - 25 100ppm/°\nC\nACoeff(3)Long-term stability 1000 hours, T= 25 °C - - 1000 ppm\nVDDCoeff(3)Voltage coefficient 3.0 V < VDDA < 3.6 V - - 2000 ppm/V\nTS_vrefint(3) ADC sampling time when reading \nthe internal reference voltage-4 - - µ s\nTADC_BUF(3) (4) Startup time of reference voltage \nbuffer for ADC-- - 1 0 µ s\nIBUF_ADC(3) Consumption of reference voltage \nbuffer for ADC- - 13.5 25 µA\nIVREF_OUT(3)VREF_OUT output current (5)-- - 1 µ A\nCVREF_OUT(3)VREF_OUT output load - - - 50 pF\nILPBUF(3) Consumption of reference voltage \nbuffer for VREF_OUT and COMP - - 730 1200 nA\nVREFINT_DIV1(3)1/4 reference voltage - 24 25 26% \nVREFIN\nTVREFINT_DIV2(3)1/2 reference voltage - 49 50 51\nVREFINT_DIV3(3)3/4 reference voltage - 74 75 76\n1. Guaranteed by test in production.\n2. The internal VREF value is individually measured in produc tion and stored in dedicated EEPROM bytes.\n3. Guaranteed by characterization results.4. Shortest sampling time can be determined in  the application by multiple iterations.\nElectrical characteristics STM32L151xC STM32L152xC\n60/136 DocID022799 Rev 136.3.4 Supply current characteristics\nThe current consumption is a function of several parameters and factors such as the \noperating voltage, temperature, I/O pin loadi ng, device software conf iguration, operating \nfrequencies, I/O pin switching rate, program lo cation in memory and executed binary code. \nThe current consumption is measured as described in Figure  14: Current consumption \nmeasurement scheme .\nAll Run-mode current consumption measurements  given in this section are performed with a \nreduced code that gives a consumption equ ivalent to the Dhrystone 2.1 code, unless \notherwise specified. The current consumptio n values are derived from tests performed \nunder ambient temperature TA = 25 °C and VDD supply voltage conditions summarized in \nTable  14: General operating conditions , unless otherwise specified.\nThe MCU is placed under the following conditions: \n• All I/O pins are configured in analog input mode\n• All peripherals are disabled ex cept when explicitly mentioned.\n• The Flash memory access time, 64-bit access and prefetch is adjusted depending on \nfHCLK  frequency and voltage range to provide the best CPU performance.\n• When the peripherals are enabled fAPB1 = fAPB2 = fAHB.\n• When PLL is ON, the PLL inputs are equal to HSI = 16 MHz (if internal clock is used) or \nHSE = 16 MHz (if HSE bypass mode is used).\n• The HSE user clock applied to OSCI_IN input follows the characteristic specified in \nTable 27: High-speed external user clock characteristics .\n• For maximum current consumption VDD = VDDA = 3.6 V is applied to all supply pins.\n• For typical current consumption VDD = VDDA = 3.0 V is applied to all supply pins if not \nspecified otherwise.5. To guarantee less than 1% VREF_OUT deviation.\nDocID022799 Rev 13 61/136STM32L151xC STM32L152xC Electrical characteristics\n109          \n              Table 18. Current consumption in Run mode, code with data processing running from Flash \nSymbol Parameter Conditions fHCLK Typ Max(1)Unit\nIDD \n(Run \nfrom \nFlash)Supply \ncurrent in \nRun mode, code \nexecuted \nfrom Flashf\nHSE = fHCLK  up to 16 \nMHz included, fHSE = \nfHCLK /2 above 16 MHz \n(PLL ON)(2)Range 3, VCORE =1.2 V \nVOS[1:0] = 111 MHz 215 400\nµA 2 MHz 400 600\n4 MHz 725 960\nRange 2, VCORE =1.5 V \nVOS[1:0] = 104 MHz 0.915 1.1\nmA8 MHz 1.75 2.1\n16 MHz 3.4 3.9\nRange 1, VCORE =1.8 V \nVOS[1:0] = 018 MHz 2.1 2.8\n16 MHz 4.2 4.932 MHz 8.25 9.4\nHSI clock source (16 \nMHz)Range 2, V\nCORE =1.5 V \nVOS[1:0] = 1016 MHz 3.5 4\nRange 1, VCORE =1.8 V \nVOS[1:0] = 0132 MHz 8.2 9.6\nMSI clock, 65 kHz\nRange 3, VCORE =1.2 V \nVOS[1:0] = 1165 kHz 40.5 110\nµA MSI clock, 524 kHz 524 kHz 125 190\nMSI clock,  4.2 MHz 4.2 MHz 775 900\n1. Guaranteed by characterization re sults, unless otherwise specified.\n2. Oscillator bypassed (H SEBYP = 1 in RCC_CR register).\nElectrical characteristics STM32L151xC STM32L152xC\n62/136 DocID022799 Rev 13              Table 19. Current consumption in Run mode, code with data processing running from RAM \nSymbol Parameter Conditions fHCLK Typ Max(1)Unit\nIDD (Run \nfrom RAM)Supply current in \nRun mode, code \nexecuted from RAM, Flash \nswitched offf\nHSE = fHCLK   \nup to 16 MHz, included  \nf\nHSE = fHCLK /2 above \n16 MHz  \n(PLL ON)(2)Range 3,  \nVCORE =1.2 V VOS[1:0] \n= 111 MHz 185 240\nµA 2 MHz 345 410\n4 MHz 645 880(3)\nRange 2,  \nVCORE =1.5 V VOS[1:0] \n= 104 MHz 0.755 1.4\nmA8 MHz 1.5 2.1\n16 MHz 33 . 5\nRange 1,  \nVCORE =1.8 V  \nVOS[1:0] = 018 MHz 1.8 2.8\n16 MHz 3.6 4.1\n32 MHz 7.15 8.3\nHSI clock source (16 \nMHz)Range 2,  \nVCORE =1.5 V VOS[1:0] \n= 1016 MHz 2.95 3.5\nRange 1,  \nVCORE =1.8 V VOS[1:0] \n= 0132 MHz 7.15 8.4\nMSI clock, 65 kHzRange 3,  \nVCORE =1.2 V VOS[1:0] \n= 1165 kHz 38.5 85\nµA MSI clock, 524 kHz 524 kHz 110 160\nMSI clock, 4.2 MHz 4.2 MHz 690 810\n1. Guaranteed by characterization re sults, unless other wise specified.\n2. Oscillator bypassed (HSEBYP = 1 in RCC_CR register).3. Guaranteed by test in production.\nDocID022799 Rev 13 63/136STM32L151xC STM32L152xC Electrical characteristics\n109          Table 20. Current consumption in Sleep mode \nSymbol Parameter Conditions fHCLK Typ Max(1)Unit\nIDD (Sleep)Supply current \nin Sleep \nmode, Flash \nOFFfHSE = fHCLK  up to \n16 MHz included, \nfHSE = fHCLK /2 \nabove 16 MHz (PLL \nON)(2)Range 3, \nVCORE =1.2 V \nVOS[1:0] = 111 MHz 50 130\nµA2 MHz 78.5 195\n4 MHz 140 310\nRange 2, \nVCORE =1.5 V \nVOS[1:0] = 104 MHz 165 310\n8 MHz 310 440\n16 MHz 590 830\nRange 1, \nVCORE =1.8 V \nVOS[1:0] = 018 MHz 350 550\n16 MHz 680 99032 MHz 1600 2100\nHSI clock source \n(16 MHz)Range 2, \nV\nCORE =1.5 V \nVOS[1:0] = 1016 MHz 640 890\nRange 1, \nVCORE =1.8 V \nVOS[1:0] = 0132 MHz 1600 2200\nMSI clock, 65 kHzRange 3, \nVCORE =1.2 V \nVOS[1:0] = 1165 kHz 19 60\nMSI clock, 524 kHz 524 kHz 33 99\nMSI clock, 4.2 MHz 4.2 MHz 145 210\nSupply current \nin Sleep \nmode, Flash ONf\nHSE = fHCLK  up to \n16 MHz included,  f\nHSE = fHCLK /2 \nabove 16 MHz (PLL \nON)(2)Range 3, V\nCORE =1.2 V \nVOS[1:0] = 111 MHz 60.5 130\n2 MHz 89.5 190\n4 MHz 150 320\nRange 2, \nVCORE =1.5 V \nVOS[1:0] = 104 MHz 180 320\n8 MHz 320 460\n16 MHz 605 840\nRange 1, \nVCORE =1.8 V \nVOS[1:0] = 018 MHz 380 540\n16 MHz 695 1000\n32 MHz 1600 2100\nHSI clock source \n(16 MHz)Range 2, \nVCORE =1.5 V \nVOS[1:0] = 1016 MHz 650 910\nRange 1, \nVCORE =1.8 V \nVOS[1:0] = 0132 MHz 1600 2200\nSupply current \nin Sleep \nmode, Flash ONMSI clock, 65 kHzRange 3, \nV\nCORE =1.2V \nVOS[1:0] = 1165 kHz 30 90\nMSI clock, 524 kHz 524 kHz 44 96\nMSI clock, 4.2 MHz 4.2 MHz 155 220\n1. Guaranteed by characterization re sults, unless otherwise specified.\n2. Oscillator bypassed (HSEBYP = 1 in RCC_CR register)\nElectrical characteristics STM32L151xC STM32L152xC\n64/136 DocID022799 Rev 13           Table 21. Current consumption in Low-power run mode \nSymbol Parameter Conditions Typ Max(1)Unit\nIDD (LP \nRun)Supply \ncurrent in \nLow-power \nrun modeAll \nperipherals OFF, code \nexecuted \nfrom RAM, Flash \nswitched \nOFF, V\nDD \nfrom 1.65 V \nto 3.6 VMSI clock, 65 kHz  \nfHCLK  = 32 kHzTA = -40 °C to 25 °C 8.6 12\nµATA = 85 °C 19 25\nTA = 105 °C 35 47\nMSI clock, 65 kHz  \nfHCLK  = 65 kHzTA =-40 °C to 25 °C 14 16\nTA = 85 °C 24 29\nTA = 105 °C 40 51\nMSI clock, 131 kHz  \nfHCLK  = 131 kHzTA = -40 °C to 25 °C 26 29\nTA = 55 °C 28 31\nTA = 85 °C 36 42\nTA = 105 °C 52 64\nAll \nperipherals OFF, code \nexecuted \nfrom Flash, V\nDD from \n1.65 V to \n3.6 VMSI clock, 65 kHz  \nfHCLK  = 32 kHzTA = -40 °C to 25 °C 20 24\nTA = 85 °C 32 37\nTA = 105 °C 49 61\nMSI clock, 65 kHz  \nfHCLK  = 65 kHzTA = -40 °C to 25 °C 26 30\nTA = 85 °C 38 44\nTA = 105 °C 55 67\nMSI clock, 131 kHz  \nfHCLK  = 131 kHzTA = -40 °C to 25 °C 41 46\nTA = 55 °C 44 50\nTA = 85 °C 56 87\nTA = 105 °C 73 110\nIDD max \n(LP Run)Max allowed \ncurrent in Low-power \nrun modeV\nDD from \n1.65 V to \n3.6 V- - - 200\n1. Guaranteed by characterization re sults, unless otherwise specified.\nDocID022799 Rev 13 65/136STM32L151xC STM32L152xC Electrical characteristics\n109           Table 22. Current consumption in Low-power sleep mode \nSymbol Parameter Conditions Typ Max(1)Unit\nIDD  \n(LP Sleep)Supply \ncurrent in \nLow-power \nsleep modeAll peripherals \nOFF, VDD from \n1.65 V to 3.6 VMSI clock, 65 kHz  \nfHCLK  = 32 kHz  \nFlash OFFTA = -40 °C to 25 °C 4.4 -\nµAMSI clock, 65 kHz  \nfHCLK  = 32 kHz  \nFlash ONTA = -40 °C to 25 °C 14 16\nTA = 85 °C 19 23\nTA = 105 °C 27 33\nMSI clock, 65 kHz  \nfHCLK  = 65 kHz, \nFlash ONTA = -40 °C to 25 °C 15 17\nTA = 85 °C 20 23\nTA = 105 °C 28 33\nMSI clock, 131 kHz  \nfHCLK  = 131 kHz, \nFlash ONTA = -40 °C to 25 °C 17 19\nTA = 55 °C 18 21\nTA = 85 °C 22 25\nTA = 105 °C 30 35\nTIM9 and \nUSART1 enabled, Flash \nON, V\nDD from \n1.65 V to 3.6 VMSI clock, 65 kHz  \nfHCLK  = 32 kHzTA = -40 °C to 25 °C 14 16\nTA = 85 °C 19 22\nTA = 105 °C 27 32\nMSI clock, 65 kHz  \nfHCLK  = 65 kHzTA = -40 °C to 25 °C 15 17\nTA = 85 °C 20 23\nTA = 105 °C 28 33\nMSI clock, 131 kHz  \nfHCLK  = 131 kHzTA = -40 °C to 25 °C 17 19\nTA = 55 °C 18 21\nTA = 85 °C 22 25\nTA = 105 °C 30 36\nIDD max \n(LP Sleep)Max \nallowed current in \nLow-power \nsleep modeV\nDD from 1.65 V \nto 3.6 V-- - 2 0 0\n1. Guaranteed by characterization resu lts, unless otherwise specified.\nElectrical characteristics STM32L151xC STM32L152xC\n66/136 DocID022799 Rev 13Table 23. Typical and maximum current consumptions in Stop mode \nSymbol Parameter Conditions Typ Max(1)Unit\nIDD (Stop \nwith RTC)Supply current in \nStop mode with RTC \nenabledRTC clocked by LSI \nor LSE external clock \n(32.768kHz), \nregulator in LP mode, HSI and HSE OFF \n(no independent \nwatchdog)LCD \nOFFT\nA = -40°C to 25°C  \nVDD = 1.8 V1.15 -\nµATA = -40°C to 25°C 1.4 -\nTA = 55°C 2 -\nTA= 85°C 3.4 10\nTA = 105°C 6.35 23\nLCD \nON \n(static \nduty)(2)TA = -40°C to 25°C 1.55 6\nTA = 55°C 2.15 7\nTA= 85°C 3.55 12\nTA = 105°C 6.3 27\nLCD \nON (1/8 \nduty)(3)TA = -40°C to 25°C 3.9 10\nTA = 55°C 4.65 11\nTA= 85°C 6.25 16\nTA = 105°C 9.1 44\nRTC clocked by LSE \nexternal quartz (32.768kHz), \nregulator in LP mode, \nHSI and HSE OFF (no independent \nwatchdog\n(4)LCD \nOFFTA = -40°C to 25°C 1.5 -\nTA = 55°C 2.15 -\nTA= 85°C 3.7 -\nTA = 105°C 6.75 -\nLCD \nON \n(static \nduty)(2)TA = -40°C to 25°C 1.6 -\nTA = 55°C 2.3 -\nTA= 85°C 3.8 -\nTA = 105°C 6.85 -\nLCD \nON (1/8 \nduty)(3)TA = -40°C to 25°C 4 -\nTA = 55°C 4.85 -\nTA= 85°C 6.5 -\nTA = 105°C 9.1 -\nLCD \nOFFTA = -40°C to 25°C  \nVDD = 1.8V1.2 -\nTA = -40°C to 25°C  \nVDD = 3.0V1.5 -\nTA = -40°C to 25°C  \nVDD = 3.6V1.75 -\nDocID022799 Rev 13 67/136STM32L151xC STM32L152xC Electrical characteristics\n109IDD (Stop)Supply current in \nStop mode (RTC \ndisabled)Regulator in LP mode, HSI and \nHSE OFF, independent \nwatchdog and LSI enabledTA = -40°C to 25°C 1.8 2.2\nµA\nRegulator in LP mode, LSI, HSI \nand HSE OFF (no independent \nwatchdog)TA = -40°C to 25°C 0.435 1\nTA = 55°C 0.99 3\nTA= 85°C 2.4 9\nTA = 105°C 5.5 22(5)\nIDD \n(WU from \nStop)Supply current during \nwakeup from Stop modeMSI = 4.2 MHz\nT\nA = -40°C to 25°C2-\nmA MSI = 1.05 MHz 1.45 -\nMSI = 65 kHz(6)1.45 -\n1. Guaranteed by characterization re sults, unless otherwise specified.\n2. LCD enabled with external VLCD, static duty, divisi on ratio = 256, all pixels active, no LCD connected.\n3. LCD enabled with external VLCD, 1/8 duty, 1/3 bias, di vision ratio = 64, all pixe ls active, no LCD connected.\n4. Based on characterization done with a 32.768 kHz crystal (MC 306-G-06Q-32.768, manufacturer JFVNY) with two 6.8 pF \nloading capacitors.\n5. Guaranteed by test in production.\n6. When MSI = 64 kHz, the RMS current is measured over the fi rst 15 µs following the wakeup event. For the remaining part \nof the wakeup period, the current corresponds the Run mode current.Table 23. Typical and maximum current consumptions in Stop mode (continued)\nSymbol Parameter Conditions Typ Max(1)Unit\nElectrical characteristics STM32L151xC STM32L152xC\n68/136 DocID022799 Rev 13On-chip peripheral current consumption\nThe current consumption of the on-chip peripher als is given in the following table. The MCU \nis placed under the following conditions:\n• all I/O pins are in input mode with a static value at VDD or VSS (no load)\n• all peripherals are disabled unless otherwise mentioned\n• the given value is calculated by measuring the current consumption\n– with all peripherals clocked off– with only one peripheral clocked onTable 24. Typical and maximum current consumptions in Standby mode \nSymbol Parameter Conditions Typ Max(1)Unit\nIDD \n(Standby \nwith RTC)Supply current in \nStandby mode with RTC \nenabledRTC clocked by LSI (no \nindependent watchdog)TA = -40 °C to 25 °C \nVDD = 1.8 V0.905 -\nµATA = -40 °C to 25 °C 1.15 1.9\nTA = 55 °C 1.5 2.2\nTA= 85 °C 1.75 4\nTA = 105 °C 2.1 8.3(2)\nRTC clocked by LSE \nexternal quartz (no independent \nwatchdog)\n(3)TA = -40 °C to 25 °C \nVDD = 1.8 V0.98 -\nTA = -40 °C to 25 °C 1.3 -\nTA = 55 °C 1.7 -\nTA= 85 °C 2.05 -\nTA = 105 °C 2.45 -\nIDD \n(Standby)Supply current in \nStandby mode (RTC disabled)Independent watchdog \nand LSI enabledT\nA = -40 °C to 25 °C 1 1.7\nIndependent watchdog \nand LSI OFFTA = -40 °C to 25 °C 0.29 0.6\nTA = 55 °C 0.345 0.9\nTA = 85 °C 0.575 2.75\nTA = 105 °C 1.45 7(2)\nIDD \n(WU from \nStandby)Supply current during \nwakeup time from Standby mode-T\nA = -40 °C to 25 °C 1 - mA\n1. Guaranteed by characterization resu lts, unless otherwise specified.\n2. Guaranteed by test in production.\n3. Based on characterization done with a 32.768 kHz crystal (M C306-G-06Q-32.768, manufacturer JFVNY) with two 6.8pF \nloading capacitors.\nDocID022799 Rev 13 69/136STM32L151xC STM32L152xC Electrical characteristics\n109          Table 25. Peripheral current consumption(1) \nPeripheralTypical consumption, VDD = 3.0 V, TA = 25 °C\nUnitRange 1, \nVCORE =\n1.8 V \nVOS[1:0] = \n01Range 2, \nVCORE =\n1.5 V \nVOS[1:0] = \n10Range 3, \nVCORE =\n1.2 V \nVOS[1:0] = \n11Low-power \nsleep and \nrun\nAPB1TIM2 11.2 8.9 7.0 8.9\nµA/MHz \n(fHCLK )TIM3 11.2 9.0 7.1 9.0\nTIM4 12.9 10.4 8.2 10.4\nTIM5 14.4 11.5 9.0 11.5TIM6 4.0 3.1 2.4 3.1\nTIM7 3.8 3.0 2.3 3.0\nLCD 5.8 4.6 3.6 4.6\nWWDG 2.9 2.3 1.8 2.3\nSPI2 6.5 5.2 4.1 5.2SPI3 5.9 4.6 3.6 4.6\nUSART2 8.8 7.0 5.5 7.0\nUSART3 8.4 6.8 5.3 6.8I2C1 7.3 5.8 4.6 5.8\nI2C2 7.9 6.3 5.0 6.3\nUSB 13.3 10.6 8.3 10.6PWR 2.8 2.2 1.8 2.2\nDAC 6.1 4.9 3.9 4.9\nCOMP 4.8 3.8 3.0 3.8\nElectrical characteristics STM32L151xC STM32L152xC\n70/136 DocID022799 Rev 13APB2SYSCFG & \nRI2.6 2.0 1.6 2.0\nµA/MHz \n(fHCLK )TIM9 7.9 6.4 5.0 6.4\nTIM10 5.9 4.7 3.8 4.7\nTIM11 5.9 4.6 3.7 4.6ADC\n(2)10.5 8.3 6.6 8.3\nSPI1 4.3 3.4 2.8 3.4\nUSART1 8.8 7.1 5.6 7.1\nAHBGPIOA 4.3 3.3 2.6 3.3\nGPIOB 4.3 3.5 2.8 3.5GPIOC 4.0 3.2 2.5 3.2\nGPIOD 4.1 3.3 2.5 3.3\nGPIOE 4.2 3.4 2.7 3.4GPIOH 3.7 3.0 2.3 3.0\nCRC 0.8 0.6 0.5 0.6\nFLASH 11.1 9.4 8 -\n(3)\nDMA1 15.6 12.7 10 12.7\nDMA2 16.3 13.4 10.5 13.4\nAll enabled 187 154 120 144.6I\nDD (RTC) 0.4\nµAIDD (LCD) 3.1\nIDD (ADC)(4)1450\nIDD (DAC)(5)340\nIDD (COMP1) 0.16\nIDD (COMP2)Slow mode 2\nFast mode 5\nIDD (PVD / BOR)(6)2.6\nIDD (IWDG) 0.25\n1. Data based on differential IDD measurement between all peripherals  OFF an one peripheral with clock \nenabled, in the following conditions: fHCLK  = 32 MHz (range 1), fHCLK  = 16 MHz (range 2), fHCLK  = 4 MHz \n(range 3), fHCLK  = 64kHz (Low-power run/sleep), fAPB1 = fHCLK , fAPB2 = fHCLK , default prescaler value for \neach peripheral. The CPU is in Sleep mode in both cases. No I/O pins toggling.\n2. HSI oscillator is OFF for this measure.Table 25. Peripheral current consumption(1) (continued)\nPeripheralTypical consumption, VDD = 3.0 V, TA = 25 °C\nUnitRange 1, \nVCORE =\n1.8 V \nVOS[1:0] = \n01Range 2, \nVCORE =\n1.5 V \nVOS[1:0] = \n10Range 3, \nVCORE =\n1.2 V \nVOS[1:0] = \n11Low-power \nsleep and \nrun\nDocID022799 Rev 13 71/136STM32L151xC STM32L152xC Electrical characteristics\n1096.3.5 Wakeup time from low-power mode\nThe wakeup times given in the following table are measured with the MSI RC oscillator. The \nclock source used to wake up the device depends on the current operating mode:\n• Sleep mode: the clock source is the clock that was set before entering Sleep mode\n• Stop mode: the clock source is the MSI o scillator in the range configured before \nentering Stop mode\n• Standby mode: the clock source is the MSI oscillator running at 2.1 MHz\nAll timings are derived from tests performed under the conditions summarized in Table  14. \n          3. In Low-power sleep and run mode, the Flash memory must always be in power-down mode.\n4. Data based on a differential I DD measurement between ADC in reset configuration and continuous ADC \nconversion (HSI consumption not included).\n5. Data based on a differential I DD measurement between DAC in reset configuration and continuous DAC \nconversion of V DD/2. DAC is in buffered mode, output is left floating.\n6. Including supply current of internal reference voltage.\nTable 26. Low-power mode wakeup timings \nSymbol Parameter Conditions Typ Max(1)\n1. Guaranteed by characterizati on, unless otherwise specifiedUnit\ntWUSLEEP Wakeup from Sleep mode fHCLK  = 32 MHz 0.4 -\nµstWUSLEEP_LPWakeup from Low-power sleep \nmode, fHCLK  = 262 kHzfHCLK  = 262 kHz  \nFlash enabled46 -\nfHCLK  = 262 kHz  \nFlash switched OFF46 -\ntWUSTOPWakeup from Stop mode, \nregulator in Run mode\nULP bit = 1 and FWU bit = 1fHCLK  = fMSI = 4.2 MHz 8.2 -\nWakeup from Stop mode, \nregulator in low-power mode \nULP bit = 1 and FWU bit = 1fHCLK  = fMSI = 4.2 MHz  \nVoltage range 1 and 27.7 8.9\nfHCLK  = fMSI = 4.2 MHz  \nVoltage range 38.2 13.1\nfHCLK  = fMSI = 2.1 MHz 10.2 13.4\nfHCLK  = fMSI = 1.05 MHz 16 20\nfHCLK  = fMSI = 524 kHz 31 37\nfHCLK  = fMSI = 262 kHz 57 66\nfHCLK  = fMSI = 131 kHz 112 123\nfHCLK  = MSI = 65 kHz 221 236\ntWUSTDBYWakeup from Standby mode  \nULP bit = 1 and FWU bit = 1fHCLK  = MSI = 2.1 MHz 58 104\nWakeup from Standby mode  \nFWU bit = 0fHCLK  = MSI = 2.1 MHz 2.6 3.25 ms\nElectrical characteristics STM32L151xC STM32L152xC\n72/136 DocID022799 Rev 136.3.6 External clock source characteristics\nHigh-speed external user clock generated from an external source\nIn bypass mode the HSE oscillator is switched off and the input pin is a standard GPIO.The \nexternal clock signal has to re spect the I/O characteristics in Section  6.3.12 . However, the \nrecommended clock input waveform is shown in Figure  15.\n          \nFigure 15. High-speed external clock source AC timing diagram\n          Table 27. High-speed external user clock characteristics(1) \n1. Guaranteed by design.Symbol Parameter Conditions Min Typ Max Unit\nfHSE_extUser external clock source \nfrequencyCSS is on or \nPLL is used18 3 2 M H z\nCSS is off, PLL \nnot used08 3 2 M H z\nVHSEH OSC_IN input pin high level voltage\n-0.7VDD -VDDV\nVHSEL OSC_IN input pin low level voltage VSS -0 . 3 VDD\ntw(HSEH)\ntw(HSEL)OSC_IN high or low time 12 - -\nns\ntr(HSE)\ntf(HSE)OSC_IN rise or fall time - - 20\nCin(HSE) OSC_IN input capacitance - 2.6 - pF\n06\x14\x1c\x15\x14\x179\x159+6(+\nWI\x0b+6(\x0c\x1c\x13\x08\n\x14\x13\x08\n7+6(WWU\x0b+6(\x0c9+6(/WZ\x0b+6(+\x0c\nWZ\x0b+6(/\x0c\nDocID022799 Rev 13 73/136STM32L151xC STM32L152xC Electrical characteristics\n109Low-speed external user clock generated from an external source\nThe characteristics given in the following table result from tests performed using a low-\nspeed external clock source, and under the conditions summarized in Table  14.\n          \nFigure 16. Low-speed external clock source AC timing diagram\nHigh-speed external clock generated from a crystal/ceramic resonator\nThe high-speed external (HSE) clock can be  supplied with a 1 to 24 MHz crystal/ceramic \nresonator oscillator. All th e information given in this  paragraph are based on \ncharacterization results obtained with typical external components specified in Table  29. In \nthe application, the resonator and the load capacitors have to be placed as close as \npossible to the oscillator pins in order to minimize output distortion an d startup stabilization \ntime. Refer to the crystal resonator manufacturer for more details on the resonator characteristics (frequenc y, package, accuracy).Table 28. Low-speed external user clock characteristics(1) \n1. Guaranteed by design.Symbol Parameter Conditions Min Typ Max Unit\nfLSE_extUser external clock source \nfrequency\n-1 32.768 1000 kHz\nVLSEHOSC32_IN input pin high level \nvoltage0.7VDD -VDD\nV\nVLSELOSC32_IN input pin low level \nvoltageVSS -0 . 3 VDD\ntw(LSEH)\ntw(LSEL)OSC32_IN high or low time 465 - -\nns\ntr(LSE)\ntf(LSE)OSC32_IN rise or fall time - - 10\nCIN(LSE) OSC32_IN input capacitance - - 0.6 - pF\n06\x14\x1c\x15\x14\x189\x159/6(+\nWI\x0b/6(\x0c\x1c\x13\x08\n\x14\x13\x08\n7/6(WWU\x0b/6(\x0c9/6(/WZ\x0b/6(+\x0c\nWZ\x0b/6(/\x0c\nElectrical characteristics STM32L151xC STM32L152xC\n74/136 DocID022799 Rev 13          \nFor CL1 and CL2, it is recommended to use high-quality external ceramic capacitors in the \n5 pF to 25  pF range (typ.), designed for high-freque ncy applications, and selected to match \nthe requirements of the crystal or resonator (see Figure  17). CL1 and CL2 are usually the \nsame size. The crystal manufacturer typically  specifies a load capacitance which is the \nseries combination of CL1 and CL2. PCB and MCU pin capacitance must be included (10  pF \ncan be used as a rough estimate of the comb ined pin and board capacitance) when sizing \nCL1 and CL2. Refer to the application note AN28 67 “Oscillator design guide for ST \nmicrocontrollers” availabl e from the ST website www.st.com .Table 29. HSE oscilla tor characteristics(1)(2)\n \nSymbol Parameter Conditions Min Typ Max Unit\nfOSC_IN Oscillator frequency - 1 24 MHz\nRF Feedback resistor - - 200 - k Ω \nCRecommended load \ncapacitance versus \nequivalent serial resistance of the crystal \n(R\nS)(3)RS = 30  Ω -2 0 - p F\nIHSE HSE driving currentVDD= 3.3 V, \nVIN = VSS with 30 pF \nload-- 3 m A\nIDD(HSE)HSE oscillator power \nconsumptionC = 20 pF\nfOSC = 16 MHz--2.5 (startup)\n0.7 (stabilized)\nmA\nC = 10 pF\nfOSC = 16 MHz--2.5 (startup)\n0.46 (stabilized)\ngmOscillator \ntransconductanceStartup 3.5 - - mA /V\ntSU(HSE)(4)Startup time  VDD is stabilized - 1 - ms\n1. Resonator characteristics given by the crystal/ceramic resonator manufacturer.\n2. Guaranteed by characterization results.3. The relatively low value of the RF resistor offers a good protection against issues resulting from use in a humid \nenvironment, due to the induced leakage and t he bias condition change. However, it is recommended to take this point into \naccount if the MCU is used in tough humidity conditions.\n4. t\nSU(HSE)  is the startup time measured from the moment it is  enabled (by software) to a stabilized 8 MHz oscillation is \nreached. This value is measured for a standar d crystal resonator and it can vary signi ficantly with the crystal manufacturer.\nDocID022799 Rev 13 75/136STM32L151xC STM32L152xC Electrical characteristics\n109Figure 17. HSE oscilla tor circuit diagram\n1. REXT value depends on the cr ystal characteristics.\nLow-speed external clock generated from a crystal/ceramic resonator\nThe low-speed external (LSE) clock can be supplied with a 32.768 kHz crystal/ceramic \nresonator oscillator. All th e information given in this  paragraph are based on \ncharacterization results obtained with typical external components specified in Table  30. In \nthe application, the resonator and the load capacitors have to be placed as close as \npossible to the oscillator pins in order to minimize output distortion an d startup stabilization \ntime. Refer to the crystal resonator manufacturer for more details on the resonator characteristics (frequenc y, package, accuracy).\n          Table 30. LSE oscillator characteristics (fLSE = 32.768 kHz)(1) \n1. Guaranteed by characterization results.Symbol Parameter Conditions Min Typ Max Unit\nfLSELow speed external oscillator \nfrequency- - 32.768 - kHz\nRF Feedback resistor - - 1.2 - M Ω \nC(2)\n2. Refer to the note and caution paragraphs below the table, and to the applicat ion note AN2867 “Oscillator \ndesign guide for ST microcontrollers”.Recommended load capacitance \nversus equivalent serial resistance of the crystal (R\nS)(3)\n3. The oscillator selection can be optimized in terms of  supply current using an hi gh quality resonator with \nsmall RS value for example MSIV-TIN32.768kHz. Refer to crystal manufacturer for more details.RS = 30 k Ω -8 - p F\nILSE LSE driving current VDD = 3.3 V, VIN = VSS -- 1 . 1 µ A\nIDD (LSE)LSE oscillator current \nconsumptionVDD = 1.8 V - 450 -\nnA VDD = 3.0 V - 600 -\nVDD = 3.6V - 750 -\ngm Oscillator transconductance - 3 - - µA/V\ntSU(LSE)(4)Startup time  VDD is stabilized - 1 - s26&B28726&B,1I+6(\x03WR\x03FRUH\n&/\x14\n&/\x155)\n670\x16\x155HVRQDWRU\n&RQVXPSWLRQ\x03\nFRQWUROJP5P\n&P/P&2\n5HVRQDWRU\nDL\x14\x1b\x15\x16\x18E\nElectrical characteristics STM32L151xC STM32L152xC\n76/136 DocID022799 Rev 13Note: For CL1 and CL2, it is recommended to use high-quality ceramic capacitors in the 5 pF to \n15 pF range selected to match the requirements of the crystal or resonator (see Figure  18). \nCL1 and CL2, are usually the same size. The crystal ma nufacturer typically specifies a load \ncapacitance which is the series combination of CL1 and CL2. \nLoad capacitance CL has the following formula: CL = CL1 x CL2 / (CL1 + CL2) + Cstray where \nCstray is the pin capacitance and board or trace PCB-related capacitance. Typically, it is \nbetween 2 pF and 7 pF.\nCaution: To avoid exceeding the maximum value of CL1 and CL2 (15 pF) it is strongly recommended \nto use a resonator with a load capacitance CL ≤ 7 pF. Never use a resonator with a load \ncapacitance of 12.5 pF.  \nExample:  if the user chooses a resonator with a load capacitance of CL = 6 pF and Cstray = \n2 pF, then CL1 = CL2 = 8 pF.\nFigure 18. Typical applicati on with a 32.768 kHz crystal4.  tSU(LSE)  is the startup time measured from the moment  it is enabled (by software) to a stabilized \n32.768 kHz oscillation is reached. This value is m easured for a standard crystal resonator and it can vary \nsignificantly with the crystal manufacturer.\nDL\x14\x1a\x1b\x18\x16E26&\x16\x15B28726&\x16\x15B,1 I/6(&/\x14\n5)\n670\x16\x15/\x14[[\x16\x15\x11\x1a\x19\x1b\x03N+]\x03\nUHVRQDWRU\n&/\x155HVRQDWRU\x03ZLWK\x03\nLQWHJUDWHG\x03FDSDFLWRUV\n%LDV\x03\nFRQWUROOHG\x03\nJDLQ\nDocID022799 Rev 13 77/136STM32L151xC STM32L152xC Electrical characteristics\n1096.3.7 Internal clock source characteristics\nThe parameters given in Table  31 are derived from tests performed under the conditions \nsummarized in Table  14.\nHigh-speed internal (HSI) RC oscillator\n          \nLow-speed internal (LSI) RC oscillator\n          Table 31. HSI oscillator characteristics \nSymbol Parameter Conditions Min Typ Max Unit\nfHSI Frequency VDD = 3.0 V - 16 - MHz \nTRIM(1)(2)\n1. The trimming step differs depending on the trimming code. It is usually negativ e on the codes which are \nmultiples of 16 (0x00, 0x10, 0x20, 0x30...0xE0).HSI user-trimmed \nresolutionTrimming code is not a multiple of 16 - ± 0.4 0.7 %\nTrimming code is a multiple of 16 - - ± 1.5 %\nACCHSI(2)\n2. Guaranteed by characterization results.Accuracy of the \nfactory-calibrated \nHSI oscillatorVDDA = 3.0 V, TA = 25 °C -1(3)\n3. Guaranteed by test in production.-1(3)%\nVDDA = 3.0 V, TA = 0 to 55 °C -1.5 - 1.5 %\nVDDA = 3.0 V, TA = -10 to 70 °C -2 - 2 %\nVDDA = 3.0 V, TA = -10 to 85 °C -2.5 - 2 %\nVDDA = 3.0 V, TA = -10 to 105 °C -4 - 2 %\nVDDA = 1.65 V to 3.6 V  \nTA = -40 to 105 °C-4 - 3 %\ntSU(HSI)(2)HSI oscillator \nstartup time- - 3.7 6 µs\nIDD(HSI)(2)HSI oscillator \npower consumption- - 100 140 µA\nTable 32. LSI oscillato r characteristics  \nSymbol Parameter Min Typ Max Unit\nfLSI(1)\n1. Guaranteed by test in production.LSI frequency 26 38 56 kHz \nDLSI(2)\n2. This is a deviation for an individual part, once the init ial frequency has been measured.LSI oscillator frequency drift  \n0°C ≤ TA ≤  105°C-10 - 4 %\ntsu(LSI)(3)\n3. Guaranteed by design.LSI oscillator startup time - - 200 µs\nIDD(LSI)(3)LSI oscillator power consumption - 400 510 nA\nElectrical characteristics STM32L151xC STM32L152xC\n78/136 DocID022799 Rev 13Multi-speed internal (MSI) RC oscillator\n          Table 33. MSI oscillator characteristics \nSymbol Parameter Condition Typ Max Unit\nfMSIFrequency after factory calibration, done at \nVDD= 3.3 V and TA = 25 °CMSI range 0 65.5 -\nkHz MSI range 1 131 -\nMSI range 2 262 -\nMSI range 3 524 -MSI range 4 1.05 -\nMHz MSI range 5 2.1 -\nMSI range 6 4.2 -\nACC\nMSI Frequency error after factory calibration - ±0.5 - %\nDTEMP(MSI)(1)MSI oscillator frequency drift  \n0 °C ≤ TA ≤ 105 °C- ±3- %\nDVOLT(MSI)(1)MSI oscillator frequency drift  \n1.65 V ≤ VDD ≤ 3.6 V, TA = 25 °C-- 2 . 5 % / V\nIDD(MSI)(2)MSI oscillator power consumptionMSI range 0 0.75 -\nµAMSI range 1 1 -\nMSI range 2 1.5 -MSI range 3 2.5 -\nMSI range 4 4.5 -\nMSI range 5 8 -MSI range 6 15 -\nt\nSU(MSI) MSI oscillator startup timeMSI range 0 30 -\nµsMSI range 1 20 -\nMSI range 2 15 -\nMSI range 3 10 -\nMSI range 4 6 -MSI range 5 5 -\nMSI range 6, \nVoltage range 1 and 23.5 -\nMSI range 6, \nVoltage range 35-\nDocID022799 Rev 13 79/136STM32L151xC STM32L152xC Electrical characteristics\n109tSTAB(MSI)(2)MSI oscillator stabilization timeMSI range 0 - 40\nµsMSI range 1 - 20\nMSI range 2 - 10MSI range 3 - 4\nMSI range 4 - 2.5\nMSI range 5 - 2MSI range 6, \nVoltage range 1 \nand 2-2\nMSI range 3, \nVoltage range 3-3\nf\nOVER(MSI) MSI oscillator frequency overshootAny range to \nrange 5-4\nMHz\nAny range to \nrange 6-6\n1. This is a deviation for an individual part, once the init ial frequency has been measured.\n2. Guaranteed by characterization results.Table 33. MSI oscillator characteristics (continued)\nSymbol Parameter Condition Typ Max Unit\nElectrical characteristics STM32L151xC STM32L152xC\n80/136 DocID022799 Rev 136.3.8 PLL characteristics\nThe parameters given in Table  34 are derived from tests performed under the conditions \nsummarized in Table  14.\n          \n6.3.9 Memory characteristics\nThe characteristics are given at TA = -40 to 105 °C unless otherwise specified.\nRAM memory\n          Table 34. PLL characteristics \nSymbol ParameterValue\nUnit\nMin Typ Max(1)\n1. Guaranteed by characterization results.fPLL_INPLL input clock(2)\n2. Take care of using the appropriate multiplier factors so as to have PLL input cloc k values compatible with \nthe range defined by fPLL_OUT .2- 2 4 M H z\nPLL input clock duty cycle 45 - 55 %\nfPLL_OUT PLL output clock 2 - 32 MHz\ntLOCKPLL lock time  \nPLL input = 16 MHz  \nPLL VCO = 96 MHz-1 1 5 1 6 0 µ s\nJitter Cycle-to-cycle jitter - - ± 600 ps\nIDDA(PLL) Current consumption on VDDA -2 2 0 4 5 0\nµA\nIDD(PLL) Current consumption on VDD -1 2 0 1 5 0\nTable 35. RAM and hardware registers \nSymbol Parameter  Cond itions Min Typ Max Unit\nVRM Data retention mode(1)\n1. Minimum supply voltage without losing data stored in RAM (in Stop mode or under Reset) or in hardware \nregisters (only in Stop mode).STOP mode (or RESET) 1.65 - - V\nDocID022799 Rev 13 81/136STM32L151xC STM32L152xC Electrical characteristics\n109Flash memory and data EEPROM\n          \n          Table 36. Flash memory and data EEPROM characteristics \nSymbol Parameter  Conditions Min Typ Max(1)\n1. Guaranteed by design.Unit\nVDDOperating voltage\nRead / Write / Erase-1 . 6 5 - 3 . 6 V\ntprogProgramming/ erasing \ntime for byte / word / \ndouble word / half-pageErasing - 3.28 3.94\nms\nProgramming - 3.28 3.94\nIDDAverage current during \nthe whole programming / \nerase operation\nTA = 25 °C, VDD = 3.6 V- 600 900 µA\nMaximum current (peak) \nduring the whole \nprogramming / erase \noperation-1 . 5 2 . 5 m A\nTable 37. Flash memory and data EEPROM endurance and retention \nSymbol Parameter  ConditionsValue\nUnit\nMin(1)\n1. Guaranteed by characterization results.Typ Max\nNCYC(2)Cycling (erase / write)  \nProgram memoryTA = -40°C to  \n105 °C10 --\nkcycles\nCycling (erase / write)  \nEEPROM data memory300 --\ntRET(2)\n2. Characterization is done according to JEDEC JESD22-A117.Data retention (program memory) after \n10 kcycles at TA = 85 °C\nTRET = +85 °C30 - -\nyearsData retention (EEPROM data memory) \nafter 300 kcycles at TA = 85 °C30 - -\nData retention (program memory) after \n10 kcycles at TA = 105 °C\nTRET = +105 °C10 - -\nData retention (EEPROM data memory) \nafter 300 kcycles at TA = 105 °C10 - -\nElectrical characteristics STM32L151xC STM32L152xC\n82/136 DocID022799 Rev 136.3.10 EMC characteristics\nSusceptibility tests are perf ormed on a sample basis duri ng device characterization.\nFunctional EMS (electromagnetic susceptibility)\nWhile a simple application is executed on t he device (toggling 2 LEDs through I/O ports). \nthe device is stressed by two electromagnetic  events until a failure o ccurs. The failure is \nindicated by the LEDs:\n• Electrostatic discharge (ESD) (positive and negative) is applied to all device pins until \na functional disturbance occurs. This test is compliant with the IEC 61000-4-2 standard.\n• FTB: A Burst of Fast Transient voltage (positive and negative) is applied to VDD and \nVSS through a 100 pF capacitor, until a func tional disturbance occurs. This test is \ncompliant with the IEC 61000-4-4 standard.\nA device reset allows normal operations to be resumed. \nThe test results are given in Table  38. They are based on the EMS levels and classes \ndefined in application note AN1709.\n          \nDesigning hardened software to avoid noise problems\nEMC characterization and optimization are per formed at component level with a typical \napplication environment and simplified MCU soft ware. It should be noted that good EMC \nperformance is highly dependent on the user application and the software in particular.\nTherefore it is recommended that the user  applies EMC software optimization and \nprequalification tests in re lation with the EMC level requested for his application.\nSoftware recommendations\nThe software flowchart must include the m anagement of runaway conditions such as:\n• Corrupted program counter\n• Unexpected reset\n• Critical data corruption (control registers...)\nPrequalification trials\nMost of the common failures (unexpected reset and program counter corruption) can be \nreproduced by manually forci ng a low state on the NRST pin or the oscillator pins for 1 \nsecond.Table 38. EMS characteristics \nSymbol Parameter ConditionsLevel/\nClass\nVFESDVoltage limits to be applied on any I/O pin to \ninduce a functional disturbanceVDD = 3.3 V, LQFP100, TA = +25 °C,  \nfHCLK = 32 MHz  \nconforms to IEC 61000-4-22B\nVEFTBFast transient voltage burst limits to be \napplied through 100 pF on VDD and VSS \npins to induce a functional disturbanceVDD = 3.3 V, LQFP100, TA = +25 \n°C,  \nfHCLK = 32 MHz  \nconforms to IEC 61000-4-44A\nDocID022799 Rev 13 83/136STM32L151xC STM32L152xC Electrical characteristics\n109To complete these trials, ESD stress can be applie d directly on the device, over the range of \nspecification values. When unexpected behavior is detected, the software can be hardened \nto prevent unrecoverable errors occurring (see application note AN1015).\nElectromagnetic Interference (EMI)\nThe electromagnetic field emitted by the device are monitored while a simple application is executed (toggling 2 LEDs through the I/O por ts). This emission test is compliant with \nIEC\n 61967-2 standard which specifies the test board and the pin loading.\n          \n6.3.11 Electrical sens itivity characteristics\nBased on three different tests (ESD, LU) using specific measurement methods, the device is \nstressed in order to determ ine its performance in terms of electrical sensitivity.\nElectrostatic discharge (ESD)\nElectrostatic discharges (a positive then a negative pulse separated by 1 second) are \napplied to the pins of each sample according to each pin combinati on. The sample size \ndepends on the number of supply pins in the device (3 parts × (n+1) supply pins). This test conforms to the JESD22-A114, ANSI/ESD STM5.3.1. standard.\n           Table 39. EMI characteristics \nSymbol Parameter ConditionsMonitored\nfrequency bandMax vs. frequency range\nUnit 4 MHz\nvoltage \nrange 316 MHz\nvoltage \nrange 232 MHz \nvoltage \nrange 1\nSEMI Peak levelVDD = 3.3 V,\nTA = 25 °C,  \nLQFP100 package  \ncompliant with IEC \n61967-20.1 to 30 MHz 3 -6 -5\ndBµV 30 to 130 MHz 18 4 -7\n130 MHz to 1GHz 15 5 -7SAE EMI Level 2.5 2 1 -\nTable 40. ESD absolute maximum ratings \nSymbol Ratings Conditions ClassMaximum \nvalue(1)\n1. Guaranteed by characterization results.Unit\nVESD(HBM)Electrostatic \ndischarge voltage \n(human body model)TA = +25 °C, conforming  \nto JESD22-A1142 2000 V\nVESD(CDM)Electrostatic \ndischarge voltage \n(charge device model)TA = +25 °C, conforming  \nto ANSI/ESD STM5.3.1.C4 500 V\nElectrical characteristics STM32L151xC STM32L152xC\n84/136 DocID022799 Rev 13Static latch-up\nTwo complementary static te sts are required on six pa rts to assess the latch-up \nperformance: \n• A supply overvoltage is applied to each power supply pin\n• A current injection is applied to each input, output and configurable I/O pin\nThese tests are compliant with EIA/JESD 78A IC latch-up standard.\n          \n6.3.12 I/O current in jection characteristics\nAs a general rule, current injection to the I/O pins, due to external voltage below VSS or \nabove VDD (for standard pins) should be avoided during normal product operation. \nHowever, in order to give an indication of the robustness of the microcontroller in cases when abnormal injection acci dentally happens, susceptibility tests are performed on a \nsample basis during device characterization.\nFunctional susceptibility to I/O current injection \nWhile a simple application is executed on the device, the device is stressed by injecting \ncurrent into the I/O pins  programmed in floating input mode . While current is  injected into \nthe I/O pin, one at a time, the device is checked for functional failures. \nThe failure is indicated by an out of range parameter: ADC error above a certain limit (higher than 5 LSB TUE), out of conventional limits of induced leakage current on adjacent pins (out of –5 µA/+0 µA range), or ot her functional failure (for ex ample reset occurrence oscillator \nfrequency deviation, LCD levels).\nThe test results are given in the Table  42.\n          Table 41. Electrical sensitivities \nSymbol Parameter Conditions Class\nLU Static latch-up class TA = +105 °C conforming to JESD78A II level A\nTable 42. I/O current in jection susceptibility \nSymbol DescriptionFunctional susceptibility \nUnitNegative \ninjectionPositive \ninjection\nIINJInjected current on all 5 V tolerant (FT) pins -5 (1)\n1. It is recommended to add a Schottky diode (pin to ground) to analog pins which may potentially inject \nnegative currents.NA(2)\n2. Injection is not possible.mA Injected current on BOOT0 -0 NA(2)\nInjected current on any other pin -5 (1)+5\nDocID022799 Rev 13 85/136STM32L151xC STM32L152xC Electrical characteristics\n1096.3.13 I/O port characteristics\nGeneral input/output characteristics\nUnless otherwise specified,  the parameters given in Table  49 are derived from tests \nperformed under the conditions summarized in Table  14. All I/Os are CMOS and TTL \ncompliant.\n          Table 43. I/O static characteristics \nSymbol Parameter Conditions Min Typ Max Unit\nVIL Input low level voltageTC and FT I/O - - 0.3 VDD(1)(2)\nVBOOT0 - - 0.14 VDD(2)\nVIH Input high level voltageTC I/O 0.45 VDD+0.38(2)--\nFT I/O 0.39 VDD+0.59(2)--\nBOOT0 0.15 VDD+0.56(2)--\nVhysI/O Schmitt trigger voltage \nhysteresis(2)TC and FT I/O - 10% VDD(3)-\nBOOT0 -  0.01 -\nIlkg Input leakage current (4)VSS ≤ VIN ≤ VDD\nI/Os with LCD-- ± 5 0\nnAVSS ≤ VIN ≤ VDD\nI/Os with analog \nswitches-- ± 5 0\nVSS ≤ VIN ≤ VDD\nI/Os with analog \nswitches and LCD-- ± 5 0\nVSS ≤ VIN ≤ VDD\nI/Os with USB-- ± 2 5 0\nVSS ≤ VIN ≤ VDD\nTC and FT I/Os-- ± 5 0\nFT I/O\nVDD ≤ VIN ≤ 5V-- ± 1 0 µ A\nRPUWeak pull-up equivalent \nresistor(5)(1) VIN = VSS 25 45 65 k Ω\nRPDWeak pull-down equivalent \nresistor(5) VIN = VDD 25 45 65 k Ω\nCIO I/O pin capacitance - - 5 - pF\n1. Guaranteed by test in production.\n2. Guaranteed by design.3. With a minimum of 200 mV.4. The max. value may be exceeded if negative current is injected on adjacent pins.\n5. Pull-up and pull-down resistor s are designed with a true resistance in seri es with a switchable PMOS/NMOS. This \nMOS/NMOS contribution to the series  resistance is minimum (~10% order).\nElectrical characteristics STM32L151xC STM32L152xC\n86/136 DocID022799 Rev 13Output driving current\nThe GPIOs (general purpose input/outputs) can sink or source up to ±8  mA, and sink or \nsource up to ±20  mA with the non-standard VOL/VOH specifications given in Table  44.\nIn the user application, the number of I/O pi ns which can drive curr ent must be limited to \nrespect the absolute maximum rating specified in Section  6.2:\n• The sum of the currents sourced by all the I/Os on VDD, plus the maximum Run \nconsumption of the MCU sourced on VDD, cannot exceed the absolute maximum rating \nIVDD(Σ) (see Table 12 ). \n• The sum of the currents sunk by all the I/Os on VSS plus the maximum Run \nconsumption of the MCU sunk on VSS cannot exceed the absolute maximum rating \nIVSS(Σ) (see Table 12 ). \nOutput voltage levels\nUnless otherwise specified,  the parameters given in Table  44 are derived from tests \nperformed under the conditions summarized in Table  14. All I/Os are CMOS and TTL \ncompliant.\n          Table 44. Output voltage characteristics \nSymbol Parameter Conditions Min Max Unit\nVOL(1)(2)\n1. The IIO current sunk by the device must always re spect the absolute maximu m rating specified in Table 12  \nand the sum of IIO (I/O ports and control pins) must not exceed IVSS.\n2. Guaranteed by test in production.Output low level voltage for an I/O pinIIO = 8 mA\n2.7 V < VDD < 3.6 V-0 . 4\nVVOH(2)(3)\n3. The IIO current sourced by the device must always re spect the absolute maximum rating specified in \nTable 12  and the sum of IIO (I/O ports and control pins) must not exceed IVDD.Output high level voltage for an I/O pin VDD-0.4 -\nVOL (3)(4)Output low level voltage for an I/O pinIIO = 4 mA\n1.65 V < VDD < 3.6 V-0 . 4 5\nVOH (3)(4)Output high level voltage for an I/O pin VDD-0.45 -\nVOL(1)(4)\n4. Guaranteed by characterization results.Output low level voltage for an I/O pinIIO = 20 mA\n2.7 V < VDD < 3.6 V-1 . 3\nVOH(3)(4)Output high level voltage for an I/O pin VDD-1.3 -\nDocID022799 Rev 13 87/136STM32L151xC STM32L152xC Electrical characteristics\n109Input/output AC characteristics\nThe definition and values of input/output AC characteristics are given in Figure  19 and \nTable  45, respectively.\nUnless otherwise specified,  the parameters given in Table  45 are derived from tests \nperformed under the conditions summarized in Table  14. \n          Table 45. I/O AC characteristics(1)  \nOSPEEDRx\n[1:0] bit \nvalue(1)Symbol Parameter Conditions Min Max(2)Unit\n00fmax(IO)out Maximum frequency(3)CL = 50 pF, VDD = 2.7 V to 3.6 V - 400\nkHz\nCL = 50 pF, VDD = 1.65 V to 2.7 V - 400\ntf(IO)out\ntr(IO)outOutput rise and fall timeCL = 50 pF, VDD = 2.7 V to 3.6 V - 625\nns\nCL = 50 pF, VDD = 1.65 V to 2.7 V - 625\n01fmax(IO)out Maximum frequency(3)CL = 50 pF, VDD = 2.7 V to 3.6 V - 2\nMHz\nCL = 50 pF, VDD = 1.65 V to 2.7 V - 1\ntf(IO)out\ntr(IO)outOutput rise and fall timeCL = 50 pF, VDD = 2.7 V to 3.6 V - 125\nns\nCL = 50 pF, VDD = 1.65 V to 2.7 V - 250\n10Fmax(IO)out Maximum frequency(3)CL = 50 pF, VDD = 2.7 V to 3.6 V - 10\nMHz\nCL = 50 pF, VDD = 1.65 V to 2.7 V - 2\ntf(IO)out\ntr(IO)outOutput rise and fall timeCL = 50 pF, VDD = 2.7 V to 3.6 V - 25\nns\nCL = 50 pF, VDD = 1.65 V to 2.7 V - 125\n11Fmax(IO)out Maximum frequency(3)CL = 30 pF, VDD = 2.7 V to 3.6  V - 50\nMHz\nCL = 50 pF, VDD = 1.65 V to 2.7 V - 8\ntf(IO)out\ntr(IO)outOutput rise and fall timeCL = 30 pF, VDD = 2.7 V to 3.6 V - 5\nnsCL = 50 pF, VDD = 1.65 V to 2.7 V - 30\n-tEXTIpwPulse width of external \nsignals detected by the \nEXTI controller-8 -\n1. The I/O speed is configured using the OSPEEDRx[1:0] bits. Refer to the STM32L151xx, STM32L152xx and STM32L162xx \nreference manual for a description of GPIO Port configuration register.\n2. Guaranteed by design.3. The maximum frequency is defined in Figure 19 .\nElectrical characteristics STM32L151xC STM32L152xC\n88/136 DocID022799 Rev 13Figure 19. I/O AC charac teristics definition \n6.3.14 NRST pin characteristics\nThe NRST pin input driver uses CMOS technology. It is connected to a permanent pull-up \nresistor, RPU (see Table  46)\nUnless otherwise specified,  the parameters given in Table  46 are derived from tests \nperformed under the conditions summarized in Table  14. \n          AI\x11\x14\x11\x13\x11C\x11\x10\x05\x19\x10\x05\n\x15\x10\x05\nTR\x08)/\tOUT\n/54054%84%2.!,\n/.\x00\x15\x10P&\n-AXIMUM\x00FREQUENCY\x00IS\x00ACHIEVED\x00IF\x00\x08TR\x00\x0b\x00TF\t\x00\x94\x00\x12\x0f\x13\t4\x00AND\x00IF\x00THE\x00DUTY\x00CYCLE\x00IS\x00\x08\x14\x15\r\x15\x15\x05\t\x00\n\x00\x11\x10\x05\n\x15\x10\x05\n\x19\x10\x05\nWHEN\x00LOADED\x00BY\x00\x15\x10P&4TF\x08)/\tOUT\nTable 46. NRST pin characteristics \nSymbol Parameter Conditions Min Typ Max Unit\nVIL(NRST)(1) NRST input low level \nvoltage-- - 0 . 3  VDD\nVVIH(NRST)(1) NRST input high \nlevel voltage- 0.39VDD+0.59 - -\nVOL(NRST)(1) NRST output low \nlevel voltageIOL = 2 mA\n2.7 V < VDD < 3.6 V--\n0.4\nIOL = 1.5 mA\n1.65 V < VDD < 2.7 V--\nVhys(NRST)(1)NRST Schmitt trigger \nvoltage hysteresis -- 1 0 % VDD(2)-m V\nRPUWeak pull-up \nequivalent resistor(3) VIN = VSS 25 45 65 k Ω\nVF(NRST)(1) NRST input filtered \npulse-- - 5 0 n s\nVNF(NRST)(3) NRST input not \nfiltered pulse- 350 - - ns\n1. Guaranteed by design.\n2. With a minimum of 200 mV.3. The pull-up is designed with a true resistan ce in series with a switchable PMOS. This PMOS contribution to the series \nresistance is around 10%.\nDocID022799 Rev 13 89/136STM32L151xC STM32L152xC Electrical characteristics\n109Figure 20. Recommended NRST pin protection \n1. The reset network protects the device against parasitic resets. 0.1 uF capacitor mu st be placed as close as \npossible to the chip.\n2. The user must ensure that the level on the NRST pin can go below the VIL(NRST)  max level specified in \nTable 46 . Otherwise the reset will not be taken into account by the device.\n6.3.15 TIM time r characteristics\nThe parameters given in the Table  47 are guaranteed by design.\nRefer to Section  6.3.13: I/O port characteristics  for details on the input/output ction \ncharacteristics (output compare, input capture, external clock, PWM output).\n           DL\x14\x1a\x1b\x18\x17E670\x16\x15/\x14[[5381567\x0b\x15\x0c9\'\'\n)LOWHU,QWHUQDO\x03UHVHW\n\x13\x11\x14\x03\x97)([WHUQDO\x03UHVHW\x03FLUFXLW\x0b\x14\x0c\nTable 47. TIMx(1) characteristics \n1. TIMx is used as a general term to refer to the TIM2, TIM3 and TIM4 timers.Symbol Parameter Conditions Min Max Unit\ntres(TIM) Timer resolution time-1 - tTIMxCLK\n fTIMxCLK  = 32 MHz 31.25 - ns\nfEXTTimer external clock \nfrequency on CH1 to CH4-0 fTIMxCLK /2 MHz\nfTIMxCLK  = 32 MHz 0 16 MHz\nResTIM Timer resolution - 16 bit\ntCOUNTER16-bit counter clock \nperiod when internal clock \nis selected (timer’s prescaler disabled)- 1 65536 t\nTIMxCLK\n fTIMxCLK  = 32 MHz 0.0312 2048 µs\ntMAX_COUNT Maximum possible count- - 65536 × 65536 tTIMxCLK\n fTIMxCLK  = 32 MHz - 134.2 s\nElectrical characteristics STM32L151xC STM32L152xC\n90/136 DocID022799 Rev 136.3.16 Communications interfaces\nI2C interface  characteristics\nThe device I2C interface meets the requirements of the standard I2C communication \nprotocol with the following restrictions: SDA and SCL are not “true” open-drain I/O pins. When configured as open-drain, the PM OS connected between the I/O pin and V\nDD is \ndisabled, but is still present.\nThe I2C characteristics are described in Table  48. Refer also to  Section  6.3.13: I/O port \ncharacteristics  for more details on the input/output ction characteristics (SDA and SCL) .\n          Table 48. I2C characteristics  \nSymbol ParameterStandard mode \nI2C(1)(2)\n1.Guaranteed by design.Fast mode I2C(1)(2)\n2. fPCLK1  must be at least 2 MHz to achieve standard mode I ²C frequencies. It must be at least 4 MHz to \nachieve fast mode I²C frequencies. It must be a multiple of 10 MHz to reach the 400 kHz maximum I²C fast mode clock.Unit\nMin Max Min Max\ntw(SCLL) SCL clock low time 4.7 - 1.3 -\nµs\ntw(SCLH) SCL clock high time 4.0 - 0.6 -\ntsu(SDA) SDA setup time 250 - 100 -\nnsth(SDA) SDA data hold time - 3450(3)-9 0 0(3)\n3.The maximum Data hold time has only to be met if the interface does not stretch the low period of SCL \nsignal.tr(SDA)\ntr(SCL)SDA and SCL rise time - 1000 - 300\ntf(SDA)\ntf(SCL)SDA and SCL fall time - 300 - 300 \nth(STA) Start condition hold time 4.0 - 0.6 -\nµs\ntsu(STA)Repeated Start condition \nsetup time4.7 - 0.6 -\ntsu(STO) Stop condition setup time 4.0 - 0.6 - μs\ntw(STO:STA)Stop to Start condition time \n(bus free)4.7 - 1.3 - μs\nCbCapacitive load for each bus \nline- 400 - 400 pF\ntSPPulse width of spikes that \nare suppressed by the analog filter05 0\n(4)\n4. The minimum width of the spikes fi ltered by the analog filter is above tSP(max) . 05 0(4)ns\nDocID022799 Rev 13 91/136STM32L151xC STM32L152xC Electrical characteristics\n109Figure 21. I2C bus AC waveforms and measurement circuit\n1. RS = series protection resistor.\n2. RP = external pull-up resistor.\n3. VDD_I2C  is the I2C bus power supply.\n4.Measurement points are done at CMOS levels: 0.3VDD and 0.7VDD.\n          Table 49. SCL frequency (fPCLK1 = 32 MHz, VDD = VDD_I2C  = 3.3 V)(1)(2) \n1. RP = External pull-up resistance, fSCL = I2C speed.\n2. For speeds around 200 kHz, the tole rance on the achieved speed is of ±5%. For other speed ranges, the \ntolerance on the achieved speed is ±2%. These variations depend on the accuracy of the external \ncomponents used to design the application.fSCL (kHz)I2C_CCR value\nRP = 4.7 k Ω\n400 0x801B\n300 0x8024\n200 0x8035\n100 0x00A0\n50 0x0140\n20 0x0320ĂŝϭϳϴϱϱĐ^d\x04Zd\n^\x18\x04Z^ZW\n/Ϯ\x12\x03ďƵƐZW\nZ^s\x18\x18ͺ/Ϯ\x12 s\x18\x18ͺ/Ϯ\x12\n^dDϯϮ>ϭǆǆ\n^\x18\x04\n^\x12>\nƚĨ;^\x18\x04Ϳ ƚƌ;^\x18\x04Ϳ\n^\x12>ƚŚ;^d\x04Ϳ\nƚǁ;^\x12<,Ϳƚǁ;^\x12<>ͿƚƐƵ;^\x18\x04Ϳ\nƚƌ;^\x12<Ϳ ƚĨ;^\x12<ͿƚŚ;^\x18\x04Ϳ^d\x04Zd\x03Z\x1cW\x1c\x04d\x1c\x18\n^d\x04ZdƚƐƵ;^d\x04Ϳ\nƚƐƵ;^dKͿ^dKWƚƐƵ;^d\x04͗^dKͿ\nElectrical characteristics STM32L151xC STM32L152xC\n92/136 DocID022799 Rev 13SPI characteristics\nUnless otherwise specified, th e parameters given in the following table are derived from \ntests performed under the conditions summarized in Table  14.\nRefer to Section  6.3.12: I/O current inje ction characteristics  for more details on the \ninput/output alternate function char acteristics (NSS, SCK, MOSI, MISO).\n          Table 50. SPI characteristics(1) \nSymbol Parameter Conditions Min Max(2)Unit\nfSCK\n1/tc(SCK)SPI clock frequencyMaster mode - 16\nMHz Slave mode - 16\nSlave transmitter - 12(3)\ntr(SCK)(2)\ntf(SCK)(2) SPI clock rise and fall time Ca pacitive load: C = 30 pF -  6 ns\nDuCy(SCK) SPI slave input clock duty cycle Slave mode 30 70 %\ntsu(NSS) NSS setup time Slave mode 4tHCLK -\nnsth(NSS) NSS hold time Slave mode 2tHCLK -\ntw(SCKH)(2)\ntw(SCKL)(2) SCK high and low time Master mode tSCK/2−5tSCK/2+3\ntsu(MI)(2)\nData input setup timeMaster mode 5 -\ntsu(SI)(2)Slave mode 6 -\nth(MI)(2)\nData input hold timeMaster mode 5 -\nth(SI)(2)Slave mode 5 -\nta(SO)(4)Data output access time Slave mode  0 3tHCLK\ntv(SO) (2)Data output valid time Slave mode -  33\ntv(MO)(2)Data output valid time Master mode -  6.5\nth(SO)(2)\nData output hold timeSlave mode  17 -\nth(MO)(2)Master mode  0.5 -\n1. The characteristics above are given for voltage range 1.\n2. Guaranteed by characterization results.3. The maximum SPI clock frequency in slave transmitter mode is given for an SPI sl ave input clock duty cycle (DuCy(SCK)) \nranging between 40 to 60%. \n4. Min time is for the minimum time to drive the output and max time is for the maximum time to validate the data.\nDocID022799 Rev 13 93/136STM32L151xC STM32L152xC Electrical characteristics\n109Figure 22. SPI timing diagram - slave mode and CPHA = 0\nFigure 23. SPI timing diagram - slave mode and CPHA = 1(1)\n1. Measurement points are done at CMOS levels: 0.3VDD and 0.7VDD.DL\x14\x17\x14\x16\x18E166\x03LQSXW\nW68\x0b166\x0c WF\x0b6&.\x0c WK\x0b166\x0c6&.\x03LQSXW&3+$ \x14\n&32/ \x13\n&3+$ \x14\n&32/ \x14WZ\x0b6&.+\x0c\nWZ\x0b6&./\x0c\nWD\x0b62\x0cWY\x0b62\x0c WK\x0b62\x0cWU\x0b6&.\x0c\nWI\x0b6&.\x0cWGLV\x0b62\x0c\n0,62\n287387\n026,\n,1387WVX\x0b6,\x0c WK\x0b6,\x0c06%\x03287\n06%\x03,1%,7\x19\x03287 /6%\x03287\n/6%\x03,1 %,7\x03\x14\x03,1\nElectrical characteristics STM32L151xC STM32L152xC\n94/136 DocID022799 Rev 13Figure 24. SPI timing diagram - master mode(1)\n1. Measurement points are done at CMOS levels: 0.3VDD and 0.7VDD.DL\x14\x17\x14\x16\x19F6&.\x032XWSXW&3+$ \x13\n026,\n2873870,62\n,1387&3+$ \x13\n/6%\x03287/6%\x03,1&32/ \x13\n&32/ \x14\n%,7\x14\x03287166\x03LQSXW\nWF\x0b6&.\x0c\nWZ\x0b6&.+\x0c\nWZ\x0b6&./\x0cWU\x0b6&.\x0c\nWI\x0b6&.\x0c\nWK\x0b0,\x0c+LJK6&.\x032XWSXW&3+$ \x14\n&3+$ \x14&32/ \x13\n&32/ \x14\nWVX\x0b0,\x0c\nWY\x0b02\x0c WK\x0b02\x0c06%\x03,1 %,7\x19\x03,1\n06%\x03287\nDocID022799 Rev 13 95/136STM32L151xC STM32L152xC Electrical characteristics\n109USB characteristics\nThe USB interface is USB-IF  certified (full speed).\n          \n          \nFigure 25. USB timings: definition of data signal rise and fall timeTable 51. USB startup time \nSymbol Parameter  Max  Unit\ntSTARTUP(1)\n1. Guaranteed by design.USB transceiver startup time 1 µs\nTable 52. USB DC electrical characteristics \nSymbol Parameter C onditions Min.(1)\n1. All the voltages are measured from the local ground potential.Max.(1)Unit\nInput levels\nVDD USB operating voltage - 3.0 3.6 V\nVDI(2)\n2. Guaranteed by characterization results.Differential input sensitivity I(USB_DP, USB_DM) 0.2 -\nV VCM(2)Differential common mode range Includes VDI range 0.8 2.5\nVSE(2)Single ended receiver threshold - 1.3 2.0\nOutput levels\nVOL(3)\n3. Guaranteed by test in production.Static output level low RL of 1.5  kΩ to 3.6 V(4)\n4.RL is the load connected on the USB drivers.-0 . 3\nV\nVOH(3)Static output level high RL of 15  kΩ to VSS(4)2.8 3.6\nTable 53. USB: full speed electrical characteristics \nDriver characteristics(1)\nSymbol Parameter Conditions Min Max Unit\ntr Rise time(2)CL = 50 pF 42 0 n s\ntf Fall Time(2)CL = 50 pF 4 20 ns\ntrfm Rise/ fall time matching tr/tf 90 110 %\nVCRS Output signal crossover voltage 1.3 2.0 VDL\x14\x17\x14\x16\x1aE&URVV\x03RYHU\nSRLQWV\n\'LIIHUHQWLDO\nGDWD\x03OLQHV\n9&56\n966\nWI WU\nElectrical characteristics STM32L151xC STM32L152xC\n96/136 DocID022799 Rev 13I2S characteristics\n          \nNote: Refer to the I2S section of the product refe rence manual for more details about the sampling \nfrequency (Fs), fMCK, fCK and DCK values. These values reflect only the digital peripheral \nbehavior, source clock precision might slig htly change them. DCK depends mainly on the \nODD bit value, digital contribution leads to a min of (I2SDIV/(2*I2SDIV+ODD) and a max of \n(I2SDIV+ODD)/(2*I2SDIV+ODD). Fs max is supported for each mode/condition.1. Guaranteed by design.\n2.Measured from 10% to 90% of the data signal. For more detailed informations, please refer to USB \nSpecification - Chapter 7 (version 2.0).\nTable 54. I2S characteristics \nSymbol Parameter Conditions Min Max Unit\nfMCK I2S Main Clock Output   256 x 8K 256xFs (1)\n1. The maximum for 256xFs is 8 MHzMHz \nfCK I2S clock frequency Master data: 32 bits - 64xFs \nMHz \nSlave data: 32 bits - 64xFs \nDCK I2S clock frequency duty cycle Slave receiver, 48KHz 30 70 % \ntr(CK) I2S clock rise time\nCapacitive load CL=30pF -8\nns tf(CK) I2S clock fall time 8\ntv(WS) WS valid time Master mode 4 24\nth(WS) WS hold time Master mode 0 -\ntsu(WS) WS setup time Slave mode 15 -\nth(WS) WS hold time Slave mode 0 -\ntsu(SD_MR) Data input setup time Master receiver 8 -\ntsu(SD_SR) Data input setup time Slave receiver 9 -\nth(SD_MR)Data input hold timeMaster receiver 5 -\nth(SD_SR) Slave receiver 4 -\ntv(SD_ST) Data output valid time Slave transmitter  \n(after enable edge) -6 4\nth(SD_ST) Data output hold time Slave transmitter  \n(after enable edge) 22 -\ntv(SD_MT) Data output valid time Master transmitter  \n(after enable edge) -1 2\nth(SD_MT) Data output hold time Master transmitter  \n(after enable edge) 8-\nDocID022799 Rev 13 97/136STM32L151xC STM32L152xC Electrical characteristics\n109Figure 26. I2S slave timing diagram (Philips protocol)(1) \n1. Measurement points are done at CMOS levels: 0.3 × VDD and 0.7 × VDD. \n2. LSB transmit/receive of the previ ously transmitted byte. No LSB transmi t/receive is sent before the first \nbyte.\nFigure 27. I2S master timing diagram (Philips protocol)(1) \n1. Guaranteed by characterization results. \n2. LSB transmit/receive of the previ ously transmitted byte. No LSB transmi t/receive is sent before the first \nbyte. \nElectrical characteristics STM32L151xC STM32L152xC\n98/136 DocID022799 Rev 136.3.17 12-bit ADC characteristics\nUnless otherwise specified,  the parameters given in Table  56 are guaranteed by design.\n          \n          Table 55. ADC clock frequency \nSymbol Parameter  Conditions Min Max Unit\nfADCADC clock \nfrequencyVoltage\nrange 1 & 22.4 V ≤ VDDA ≤ 3.6 VVREF+ = VDDA\n0.48016\nMHzVREF+ < VDDA\nVREF+ > 2.4 V8\nVREF+ < VDDA\nVREF+ ≤ 2.4 V4\n1.8 V ≤ VDDA ≤ 2.4 VVREF+ = VDDA 8\nVREF+ < VDDA 4\nVoltage range 3 4\nTable 56. ADC characteristics \nSymbol Parameter  Condit ions Min Typ Max Unit\nVDDA Power supply - 1.8 - 3.6\nV VREF+ Positive reference voltage - 1.8(1)-VDDA\nVREF- Negative reference voltage - - VSSA -\nIVDDA Current on the VDDA input pin - - 1000 1450\nµA\nIVREF(2)Current on the VREF input pinPeak -\n400700\nAverage - 450\nVAIN Conversion voltage range(3)-0(4)-VREF+ V\nfS12-bit sampling rate Direct channels - - 1\nMsps\nMultiplexed channels - - 0.76\n10-bit sampling rate Direct channels - - 1.07\nMsps\nMultiplexed channels - - 0.8\n8-bit sampling rate Direct channels - - 1.23\nMsps\nMultiplexed channels - - 0.89\n6-bit sampling rate Direct channels - - 1.45\nMsps\nMultiplexed channels - - 1\nDocID022799 Rev 13 99/136STM32L151xC STM32L152xC Electrical characteristics\n109tS(5)Sampling timeDirect channels\n2.4 V ≤ VDDA ≤ 3.6 V0.25 - -\nµsMultiplexed channels\n2.4 V ≤ VDDA ≤ 3.6 V0.56 - -\nDirect channels\n1.8 V ≤ VDDA ≤ 2.4 V0.56 - -\nMultiplexed channels\n1.8 V ≤ VDDA ≤ 2.4 V1--\n-4 - 3 8 4 1 / fADC\ntCONVTotal conversion time \n(including sampling time)fADC = 16 MHz 1 - 24.75 µs\n-4 to 384 (sampling phase) +12 \n(successive approximation)1/fADC\nCADCInternal sample and hold \ncapacitorDirect channels -\n16-\npF\nMultiplexed channels - -\nfTRIGExternal trigger frequency  \nRegular sequencer12-bit conversions - - Tconv+1 1/fADC\n6/8/10-bit conversions - - Tconv 1/fADC\nfTRIGExternal trigger frequency  \nInjected sequencer12-bit conversions - - Tconv+2 1/fADC\n6/8/10-bit conversions - - Tconv+1 1/fADC\nRAIN(6)Signal source impedance - - 50 k Ω\ntlatInjection trigger conversion \nlatencyfADC = 16 MHz 219 - 281 ns\n-3 . 5 - 4 . 5 1 / fADC\ntlatrRegular trigger conversion \nlatencyfADC = 16 MHz 156 - 219 ns\n-2 . 5 - 3 . 5 1 / fADC\ntSTAB Power-up time - - - 3.5 µs\n1. The Vref+ input can be grounded if neither the ADC nor the DAC are used (this allows to shut down an external voltage \nreference).\n2. The current consumption through VREF is composed of two parameters:\n- one constant (max 300 µA)- one variable (max 400 µA), only during samp ling time + 2 firs t conversion pulses\nSo, peak consumption is 300+400 = 700 µA and average consumption is 300 + [(4 sampling + 2) /16] x 400 = 450 µA at \n1Msps\n3. V\nREF+ can be internally connected to VDDA and VREF- can be internally connected to VSSA, depending on the package. \nRefer to Section 4: Pin descriptions  for further details.\n4. VSSA or VREF- must be tied to ground.\n5. Minimum sampling time is reached for an external  input impedance limited to a value as defined in Table 58: Maximum \nsource impedance RAIN max .\n6. External impedance has another high value limitati on when using short sampling time as defined in Table 58: Maximum \nsource impedance RAIN max .Table 56. ADC characteristics (continued)\nSymbol Parameter  Condit ions Min Typ Max Unit\nElectrical characteristics STM32L151xC STM32L152xC\n100/136 DocID022799 Rev 13          Table 57. ADC accuracy(1)(2)  \nSymbol Parameter Test conditions Min(3)Typ Max(3)Unit\nET Total unadjusted error\n2.4 V ≤  VDDA ≤  3.6 V  \n2.4 V ≤  VREF+ ≤  3.6 V  \nfADC = 8 MHz, RAIN = 50 Ω \nTA = -40 to 105 °C-2 4\nLSBEO Offset error - 1 2\nEG Gain error - 1.5 3.5\nED Differential linearity error - 1 2\nEL Integral linearity error - 1.7 3\nENOB Effective number of bits\n2.4 V ≤  VDDA ≤  3.6 V  \nVDDA  = VREF+  \nfADC = 16 MHz, RAIN = 50 Ω \nTA = -40 to 105 °C \nFinput=10kHz9.2 10 - bits\nSINADSignal-to-noise and \ndistortion ratio57.5 62 -\ndBSNR Signal-to-noise ratio 57.5 62 -\nTHD Total harmonic distortion - -70 -65\nENOB Effective number of bits\n1.8 V ≤  VDDA ≤  2.4 V  \nVDDA  = VREF+  \nfADC = 8 MHz or 4 MHz, RAIN = 50 Ω \nTA = -40 to 105 °C \nFinput=10kHz9.2 10 - bits\nSINADSignal-to-noise and \ndistortion ratio57.5 62 -\ndBSNR Signal-to-noise ratio 57.5 62 -\nTHD Total harmonic distortion - -70 -65\nET Total unadjusted error\n2.4 V ≤  VDDA ≤  3.6 V  \n1.8 V ≤  VREF+ ≤  2.4 V  \nfADC = 4 MHz, RAIN = 50 Ω \nTA = -40 to 105 °C-4 6 . 5\nLSBEO Offset error - 2 4\nEG Gain error - 4 6\nED Differential linearity error - 1 2\nEL Integral linearity error - 1.5 3\nET Total unadjusted error\n1.8 V ≤  VDDA ≤  2.4 V  \n1.8 V ≤  VREF+ ≤  2.4 V  \nfADC = 4 MHz, RAIN = 50 Ω \nTA = -40 to 105 °C-2 3\nLSBEO Offset error - 1 1.5\nEG Gain error - 1.5 2\nED Differential linearity error - 1 2\nEL Integral linearity error - 1 1.5\n1. ADC DC accuracy values are measured after internal calibration.\n2. ADC accuracy vs. negative injection current: Injecting a n egative current on any analog input pins should be avoided as \nthis significantly reduces the accuracy of the conversion being performed on another analog input. It is recommended to \nadd a Schottky diode (pin to ground) to analog pins which may potentially inject negative currents.  \nAny positive injection current with in the limits specified for IINJ(PIN)  and ΣIINJ(PIN)  in Section 6.3.12  does not affect the ADC \naccuracy.\n3. Guaranteed by characterization results.\nDocID022799 Rev 13 101/136STM32L151xC STM32L152xC Electrical characteristics\n109Figure 28. ADC accuracy characteristics\nFigure 29. Typical connecti on diagram using the ADC\n1. Refer to Table 58: Maximum source impedance RAIN max  for the value of RAIN and Table 56: ADC \ncharacteristics  for the value of CADC.\n2. Cparasitic  represents the capacitance of the PCB (dependent on soldering and PCB layout quality) plus the \npad capacitance (roughly 7  pF). A high Cparasitic  value will downgrade conversion accuracy. To remedy \nthis, fADC should be reduced.\x0b\x14\x0c\x03([DPSOH\x03RI\x03DQ\x03DFWX DO\x03WUDQVIHU\x03FXUYH\n\x0b\x15\x0c\x037KH\x03LGHDO\x03WUDQVIHU\x03FXUYH\n\x0b\x16\x0c\x03(QG\x03SRLQW\x03FRUUHODWLRQ\x03OLQH\x17\x13\x1c\x18\n\x17\x13\x1c\x17\n\x17\x13\x1c\x16\n\x18\n\x17\n\x16\n\x15\n\x14\n\x13\x1a\n\x19\n\x14\x15 \x16 \x17\x18\x19 \x1a \x17\x13\x1c\x16 \x17\x13\x1c\x17 \x17\x13\x1c\x18 \x17\x13\x1c\x19\x0b\x14\x0c\x0b\x15\x0c\n\x0b\x16\x0c\nDL\x14\x17\x16\x1c\x18H(7\x03 \x037RWDO\x03XQDGMXVWHG\x03(UURU\x1d\x03PD[LPXP\x03GHYLDWLRQ\nEHWZHHQ\x03WKH\x03DFWXDO\x03DQG\x03WKH\x03LGHDO\x03WUDQVIHU\x03FXUYHV\x11(\n2\x03 \x032IIVHW\x03(UURU\x1d\x03GHYLDWLRQ\x03EHWZHHQ\x03WKH\x03ILUVW\x03DFWXDO\nWUDQVLWLRQ\x03DQG\x03WKH\x03ODVW\x03DFWXDO\x03RQH\x11(\n*\x03 \x03*DLQ\x03(UURU\x1d\x03GHYLDWLRQ\x03EHWZHHQ\x03WKH\x03ODVW\x03LGHDO\nWUDQVLWLRQ\x03DQG\x03WKH\x03ODVW\x03DFWXDO\x03RQH\x11(\n\'\x03 \x03\'LIIHUHQWLDO\x03/LQHDULW\\\x03(UURU\x1d\x03PD[LPXP\x03GHYLDWLRQ\nEHWZHHQ\x03DFWXDO\x03VWHSV\x03DQG\x03WKH\x03LGHDO\x03RQH\x11\n(/\x03 \x03,QWHJUDO\x03/LQHDULW\\\x03(UURU\x1d\x03PD[LPXP\x03GHYLDWLRQ\nEHWZHHQ\x03DQ\\\x03DFWXDO\x03WUDQVLWLRQ\x03DQG\x03WKH\x03HQG\x10SRLQW\nFRUUHODWLRQ\x03OLQH\x11\n966$ 9\'\'$\x14\x03/6%\x03,\'($/(\'(/ (2(7(*>\x14/6%\x03,\'($/\x03 \x0395()\x0e\n\x17\x13\x1c\x199\'\'$\n\x17\x13\x1c\x19\x0bRU\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03GHSHQGLQJ\x03RQ\x03SDFNDJH\x0c\nDL\x14\x1a\x1b\x18\x19H670\x16\x15/[[9\'\'$\n$,1[\n,/\x93\x03\x18\x13\x03Q$5$,1\x0b\x14\x0c\n&SDUDVLWLF9$,1\x14\x15\x10ELW\nFRQYHUWHU\n&$\'&\x0b\x14\x0c6DPSOH\x03DQG\x03KROG\x03\n$\'&\x03FRQYHUWHU\nElectrical characteristics STM32L151xC STM32L152xC\n102/136 DocID022799 Rev 13Figure 30. Maximum dynamic current consumption on VREF+ supply pin during ADC\nconversion\n          \nGeneral PCB design guidelines\nPower supply decoupling should be performed as shown in Figure  12. The applicable \nprocedure depends on whether VREF+ is connected to VDDA or not. The 100   nF capacitors \nshould be ceramic (good quality). They should be placed as close as possible to the chip.ADC clockSampling (n cycles) Conversion (12 cycles )\nIref+\n300µA700µA\nMS36686V1\nTable 58. Maximum source impedance RAIN max(1) \nTs \n(µs)RAIN max (k Ω)\nTs (cycles) \nfADC=16 MHz(2)Multiplexed channels Direct channels\n2.4 V < VDDA < 3.6 V 1.8 V < VDDA < 2.4 V 2.4 V < VDDA < 3.6 V 1.8 V < VDDA < 2.4 V\n0.25 Not allowed Not allowed 0.7 Not allowed 4\n0.5625 0.8 Not allowed 2.0 1.0 9\n1 2.0 0.8 4.0 3.0 16\n1.5 3.0 1.8 6.0 4.5 24\n3 6.8 4.0 15.0 10.0 48\n6 15.0 10.0 30.0 20.0 96\n12 32.0 25.0 50.0 40.0 192\n24 50.0 50.0 50.0 50.0 384\n1. Guaranteed by design.\n2. Number of samples calculated for fADC = 16 MHz. For fADC = 8 and 4 MHz the number of sampling cycles can be reduced \nwith respect to the minimu m sampling time Ts (µs), \nDocID022799 Rev 13 103/136STM32L151xC STM32L152xC Electrical characteristics\n1096.3.18 DAC electri cal specifications\nData guaranteed by design, unless otherwise specified.\n          Table 59. DAC characteristics \nSymbol Parameter Conditions Min Typ Max Unit\nVDDA Analog supply voltage - 1.8 - 3.6 \nVVREF+Reference supply \nvoltageVREF+ must always be below \nVDDA1.8 - 3.6\nVREF- Lower reference voltage - VSSA\nIDDVREF+(1)Current consumption on \nVREF+ supply  \nVREF+ = 3.3 VNo load, middle code (0x800) - 130 220\nµANo load, worst code (0x000) - 220 350\nIDDA(1)Current consumption on \nVDDA supply  \nVDDA = 3.3 VNo load, middle code (0x800) - 210 320\nNo load, worst code (0xF1C) - 320 520\nRL Resistive loadDAC output \nbuffer ONConnected to \nVSSA5- -\nkΩ\nConected to \nVDDA25 - -\nCL(2)Capacitive load DAC output buffer ON - - 50 pF\nRO Output impedance DAC output buffer OFF 12 16 20 k Ω\nVDAC_OUT  Voltage on DAC_OUT \noutputDAC output buffer ON 0.2 - VDDA – 0.2 V\nDAC output buffer OFF 0.5 -VREF+ – \n1LSBmV\nDNL(1) Differential non \nlinearity(3)CL ≤  50 pF, RL ≥ 5 kΩ \nDAC output buffer ON-1 . 5 3\nLSBNo RL, CL ≤  50 pF  \nDAC output buffer OFF-1 . 5 3\nINL(1)Integral non linearity(4)CL ≤  50 pF, RL ≥ 5 kΩ \nDAC output buffer ON-2 4\nNo RL, CL ≤  50 pF  \nDAC output buffer OFF-2 4\nOffset(1) Offset error at code  \n0x800 (5)CL ≤  50 pF, RL ≥ 5 kΩ \nDAC output buffer ON-± 1 0 ± 2 5\nNo RL, CL ≤  50 pF  \nDAC output buffer OFF-± 5 ± 8\nOffset1(1) Offset error at code \n0x001(6)No RL, CL ≤  50 pF  \nDAC output buffer OFF-± 1 . 5 ± 5\nElectrical characteristics STM32L151xC STM32L152xC\n104/136 DocID022799 Rev 13dOffset/dT(1)Offset error temperature \ncoefficient (code 0x800)VDDA = 3.3V  \nVREF+ = 3.0V  \nTA = 0 to 50 °C \nDAC output buffer OFF-20 -10 0\nµV/°C\nVDDA = 3.3V  \nVREF+ = 3.0V  \nTA = 0 to 50 °C \nDAC output buffer ON02 0 5 0\nGain(1)Gain error(7)CL ≤  50 pF, RL ≥ 5 kΩ \nDAC output buffer ON- +0.1 / -0.2% +0.2 / -0.5%\n%\nNo RL, CL ≤  50 pF  \nDAC output buffer OFF- +0 / -0.2% +0 / -0.4%\ndGain/dT(1) Gain error temperature \ncoefficientVDDA = 3.3V  \nVREF+ = 3.0V  \nTA = 0 to 50 °C \nDAC output buffer OFF-10 -2 0\nµV/°C\nVDDA = 3.3V  \nVREF+ = 3.0V  \nTA = 0 to 50 °C \nDAC output buffer ON-40 -8 0\nTUE(1)Total unadjusted errorCL ≤  50 pF, RL ≥ 5 kΩ \nDAC output buffer ON-1 2 3 0\nLSB\nNo RL, CL ≤  50 pF  \nDAC output buffer OFF-8 1 2\ntSETTLINGSettling time (full scale: \nfor a 12-bit code transition between the \nlowest and the highest \ninput codes till DAC_OUT reaches final \nvalue ±1LSBC\nL ≤  50 pF, RL ≥ 5 kΩ - 7 12 µs\nUpdate rateMax frequency for a \ncorrect DAC_OUT \nchange (95% of final \nvalue) with 1 LSB variation in the input \ncodeC\nL ≤  50 pF, RL ≥ 5 kΩ - - 1 Msps\ntWAKEUPWakeup time from off \nstate (setting the ENx bit \nin the DAC Control \nregister)(8)CL ≤  50 pF, RL ≥ 5 kΩ - 9 15 µs\nPSRR+VDDA supply rejection \nratio (static DC \nmeasurement)CL ≤  50 pF, RL ≥ 5 kΩ - -60 -35 dB\n1. Data based on characterization results.\n2. Connected between DAC_OUT and VSSA.3. Difference between two c onsecutive codes - 1 LSB.Table 59. DAC characteristics (continued)\nSymbol Parameter Conditions Min Typ Max Unit\nDocID022799 Rev 13 105/136STM32L151xC STM32L152xC Electrical characteristics\n109Figure 31. 12-bit buffered /non-buffered DAC\n1. The DAC integrates an output buffer that can be used to reduce the output impedance and to drive external \nloads directly without the use of an external oper ational amplifier. The buffer can be bypassed by \nconfiguring the BOFFx bit in the DAC_CR register.\n6.3.19 Operational am plifier char acteristics\n          4. Difference between measured value at Code i and the value at Code i on a line drawn between Code 0 and last Code 4095.\n5. Difference between the value measured at Code (0x800) and the ideal value = VREF+/2.\n6. Difference between the value measured at Code (0x001) and the ideal value.7. Difference between ideal slope of t he transfer function and measured slope co mputed from code 0x000 and 0xFFF when \nbuffer is OFF, and from code giving 0.2 V and (V\nDDA – 0.2) V when buffer is ON.\n8. In buffered mode, the output can overshoot above the final  value for low input code (starting from min value).\n5/\n&/%XIIHUHG\x121RQ\x10EXIIHUHG\x03\'$&\n\'$&B287[%XIIHU\x0b\x14\x0c\n\x14\x15\x10ELW\x03\nGLJLWDO\x03WR\x03\nDQDORJ\x03\nFRQYHUWHU\x03\nAI\x11\x17\x11\x15\x176\x13\nTable 60. Operational amplifier characteristics \nSymbol Parameter Condition(1)Min(2)Typ Max(2)Unit\nCMIR Common mode input range - 0 - VDD\nVIOFFSET Input offset voltageMaximum \ncalibration range-- - ±15\nmV\nAfter offset \ncalibration-- - ±1.5\nΔVIOFFSETInput offset voltage \ndriftNormal mode - - - ±40 µV/°C\nLow-power mode - - - ±80\nIIB Input current biasDedicated input\n75 °C--1\nnAGeneral purpose \ninput-- 1 0\nILOAD Drive currentNormal mode - - - 500\nµA\nLow-power mode - - - 100\nIDD ConsumptionNormal modeNo load,  \nquiescent mode- 100 220\nµA\nLow-power mode - 30 60\nCMRRCommon mode \nrejection rationNormal mode - - -85 -\ndB\nLow-power mode - - -90 -\nElectrical characteristics STM32L151xC STM32L152xC\n106/136 DocID022799 Rev 13PSRRPower supply \nrejection ratioNormal mode\nDC-- 8 5-\ndB\nLow-power mode - -90 -\nGBW BandwidthNormal mode\nVDD>2.4 V400 1000 3000\nkHZLow-power mode 150 300 800\nNormal mode\nVDD<2.4 V200 500 2200\nLow-power mode 70 150 800\nSR Slew rateNormal modeVDD>2.4 V  \n(between 0.1 V and \nVDD-0.1 V)- 700 -\nV/ms Low-power mode VDD>2.4 V - 100 -\nNormal mode\nVDD<2.4 V- 300 -\nLow-power mode - 50 -\nAO Open loop gainNormal mode 55 100 -\ndB\nLow-power mode 65 110 -\nRL Resistive loadNormal mode\nVDD<2.4 V4- -\nkΩ\nLow-power mode 20 - -\nCL Capacitive load - - - 50 pF\nVOHSATHigh saturation \nvoltageNormal mode\nILOAD  = max or  \nRL = minVDD-\n100--\nmVLow-power mode VDD-50 - -\nVOLSATLow saturation \nvoltageNormal mode - - 100\nLow-power mode - - 50\nϕm Phase margin - - 60 - °\nGM Gain margin - - -12 - dB\ntOFFTRIMOffset trim time: during calibration, \nminimum time needed between two steps to have 1 mV accuracy-- 1 - m s\nt\nWAKEUP Wakeup time Normal modeCL ≤ 50 pf,  \nRL ≥ 4 kΩ-1 0-\nµs\nLow-power modeCL ≤ 50 pf,  \nRL ≥ 20 k Ω-3 0-\n1. Operating conditions are limited to junc tion temperature (0 °C to 105 °C) when VDD is below 2 V. Otherwise to the full \nambient temperature range (-40 °C to 85 °C, -40 °C to 105 °C).\n2. Guaranteed by characterization results.Table 60. Operational amplifier characteristics (continued)\nSymbol Parameter Condition(1)Min(2)Typ Max(2)Unit\nDocID022799 Rev 13 107/136STM32L151xC STM32L152xC Electrical characteristics\n1096.3.20 Temperature sensor characteristics\n           \n          \n6.3.21 Comparator\n          Table 61. Temperature sensor calibration values \nCalibration value name Description Memory address\nTS_CAL1TS ADC raw data acquired at \ntemperature of 30 °C ±5 °C  \nVDDA= 3 V ±10 mV0x1FF8 00FA - 0x1FF8 00FB\nTS_CAL2TS ADC raw data acquired at \ntemperature of 110 °C ±5 °C  \nVDDA= 3 V ±10 mV0x1FF8 00FE - 0x1FF8 00FF\nTable 62. Temperature sensor characteristics \nSymbol Parameter Min Typ Max Unit\nTL(1)\n1. Guaranteed by characterization results.VSENSE  linearity with temperature - ±1 ±2° C\nAvg_Slope(1)Average slope 1.48 1.61 1.75 mV/°C\nV110 Voltage at 110°C ±5°C(2)\n2. Measured at VDD = 3 V ±10 mV. V110 ADC conversion result is stored in the TS_CAL2 byte.612 626.8 641.5 mV\nIDDA (TEMP)(3)Current consumption - 3.4 6 µA\ntSTART(3)\n3. Guaranteed by design.Startup time - - 10\nµs\nTS_temp(3) ADC sampling time when reading the \ntemperature4--\nTable 63. Comparator 1 characteristics \nSymbol Parameter Conditions Min(1)Typ Max(1)Unit\nVDDA Analog supply voltage - 1.65 3.6 V\nR400K R400K value - - 400 -\nkΩ\nR10K R10K value - - 10 -\nVINComparator 1 input \nvoltage range-0 . 6 - VDDA V\ntSTART Comparator startup time - - 7 10\nµs\ntd Propagation delay(2)-- 3 1 0\nVoffset Comparator offset - - ±3 ±10 mV\ndVoffset /dtComparator offset \nvariation in worst voltage \nstress conditionsVDDA = 3.6 V  \nVIN+ = 0 V \nVIN- = VREFINT  \nTA = 25 °C0 1.5 10 mV/1000 h\nICOMP1 Current consumption(3)- - 160 260 nA\nElectrical characteristics STM32L151xC STM32L152xC\n108/136 DocID022799 Rev 13          1. Guaranteed by characterization results.\n2. The delay is characterized for 100 mV input step wi th 10 mV overdrive on the inverting input, the non-\ninverting input set to the reference.\n3. Comparator consumption only. Internal reference voltage not included.\nTable 64. Comparator 2 characteristics \nSymbol Parameter Conditions Min Typ Max(1)\n1. Guaranteed by characterization results.Unit\nVDDA Analog supply voltage - 1.65 - 3.6 V\nVIN Comparator 2 input voltage range - 0 - VDDA V\ntSTART Comparator startup time Fast mode - 15 20\nµsSlow mode - 20 25\ntd slow Propagation delay(2) in slow mode\n2. The delay is characterized for 100 mV input step with 10 mV overdrive on the inverting input, the non-\ninverting input set to the reference.1.65 V ≤ VDDA ≤ 2.7 V - 1.8 3.5\n2.7 V ≤ VDDA ≤ 3.6 V - 2.5 6\ntd fast Propagation delay(2) in fast mode1.65 V ≤ VDDA ≤ 2.7 V - 0.8 2\n2.7 V ≤ VDDA ≤ 3.6 V - 1.2 4\nVoffset Comparator offset error - ±4 ±20 mV\ndThreshold/\ndtThreshold voltage temperature \ncoefficientVDDA = 3.3V  \nTA = 0 to 50 °C \nV- =VREFINT , \n3/4 VREFINT , \n1/2 VREFINT , \n1/4 VREFINT .-1 5 1 0 0ppm\n/°C\nICOMP2 Current consumption(3)\n3. Comparator consumption only. Internal reference voltage (necessary for comparator operation) is not \nincluded.Fast mode - 3.5 5\nµA\nSlow mode - 0.5 2\nDocID022799 Rev 13 109/136STM32L151xC STM32L152xC Electrical characteristics\n1096.3.22 LCD controller\nThe device embeds a built-in st ep-up converter to provide a constant LCD reference voltage \nindependently from the VDD voltage. An external capacitor Cext must be connected to the \nVLCD pin to decouple this converter.\n          \n          Table 65. LCD controller characteristics \nSymbol Parameter Min Typ Max Unit\nVLCD LCD external voltage - - 3.6\nVVLCD0 LCD internal reference voltage 0 - 2.6 -\nVLCD1 LCD internal reference voltage 1 - 2.73 -\nVLCD2 LCD internal reference voltage 2 - 2.86 -\nVLCD3 LCD internal reference voltage 3 - 2.98 -\nVLCD4 LCD internal reference voltage 4 - 3.12 -\nVLCD5 LCD internal reference voltage 5 - 3.26 -\nVLCD6 LCD internal reference voltage 6 - 3.4 -\nVLCD7 LCD internal reference voltage 7 - 3.55 -\nCext VLCD external capacitance 0.1 - 2 µF\nILCD(1)\n1. LCD enabled with 3 V internal step-up active, 1/8 duty, 1/4 bias, division ratio= 64,  all pixels active, no LCD \nconnected.Supply current at VDD = 2.2 V - 3.3 -\nµA\nSupply current at VDD = 3.0 V - 3.1 -\nRHtot(2)\n2. Guaranteed by design.Low drive resistive network overall value 5.28 6.6 7.92 M Ω\nRL(2)High drive resistive network total value 192 240 288 k Ω\nV44 Segment/Common highest level voltage - - VLCD V\nV34 Segment/Common 3/4 level voltage - 3/4 VLCD -\nVV23 Segment/Common 2/3 level voltage - 2/3 VLCD -\nV12 Segment/Common 1/2 level voltage - 1/2 VLCD -\nV13 Segment/Common 1/3 level voltage - 1/3 VLCD -\nV14 Segment/Common 1/4 level voltage - 1/4 VLCD -\nV0 Segment/Common lowest level voltage 0 - -\nΔVxx(3)\n3. Guaranteed by characterization results.Segment/Common level voltage error\nTA = -40 to 105 °C-- ± 50 mV\nPackage information STM32L151xC STM32L152xC\n110/136 DocID022799 Rev 137 Package information\nIn order to meet environmental requirements, ST offers these devices in different grades of \nECOPACK® packages, depending on their level of environmental compliance. ECOPACK® \nspecifications, grade definitions a nd product status are available at: www.st.com . \nECOPACK® is an ST trademark.\n7.1 LQFP100, 14 x 14 mm, 100-pin low-profil e quad flat package  \ninformation\nFigure 32. LQFP100, 14 x 14 mm, 100-pin low-profile quad flat package outline\n1. Drawing is not to scale.\n          Table 66. LQPF100, 14 x 14 mm, 100-pin low-profile quad flat package mechanical \ndata \nSymbolmillimeters inches(1)\nMin Typ Max Min Typ Max\nA - - 1.600 - - 0.0630\nA1 0.050 - 0.150 0.0020 - 0.0059A2 1.350 1.400 1.450 0.0531 0.0551 0.0571E)$%.4)&)#!4)/.0).\x00\x11\'!5\'%\x000,!.%\x10\x0e\x12\x15\x00MM3%!4).\'\x000,!.%\n$\n$\x11\n$\x13\n%\x13\n%\x11\n%+CCC##\n\x11 \x12\x15\x12\x16\x11\x10\x10\x17\x16\x17\x15 \x15\x11\n\x15\x10\n\x11,?-%?6\x15!\x12!\n!\x11\n,\x11,CB\n!\x11\nDocID022799 Rev 13 111/136STM32L151xC STM32L152xC Package information\n135Figure 33. LQFP100, 14 x 14 mm, 100-pin low-profile quad flat package\nrecommended footprint\n1. Dimensions are in millimeters.b 0.170 0.220 0.270 0.0067 0.0087 0.0106\nc 0.090 - 0.200 0.0035 - 0.0079\nD 15.800 16.000 16.200 0.6220 0.6299 0.6378\nD1 13.800 14.000 14.200 0.5433 0.5512 0.5591\nD3 - 12.000 - - 0.4724 -\nE 15.800 16.000 16.200 0.6220 0.6299 0.6378\nE1 13.800 14.000 14.200 0.5433 0.5512 0.5591\nE3 - 12.000 - - 0.4724 -\ne - 0.500 - - 0.0197 -\nL 0.450 0.600 0.750 0.0177 0.0236 0.0295\nL1 - 1.000 - - 0.0394 -\nk 0.0° 3.5° 7.0° 0.0° 3.5° 7.0°\nccc - - 0.080 - - 0.0031\n1. Values in inches are converted from mm and rounded to 4 decimal digits.Table 66. LQPF100, 14 x 14 mm, 100-pin low-profile quad flat package mechanical \ndata (continued)\nSymbolmillimeters inches(1)\nMin Typ Max Min Typ Max\n\x17\x15 \x15\x11\n\x15\x10 \x17\x16\x10\x0e\x15\n\x10\x0e\x13\n\x11\x16\x0e\x17 \x11\x14\x0e\x13\n\x11\x10\x10 \x12\x16\n\x11\x12\x0e\x13\x12\x15\x11\x0e\x12\n\x11\x16\x0e\x17\x11\n06\x16\x17\x14\x1a\x1c9\x14\nPackage information STM32L151xC STM32L152xC\n112/136 DocID022799 Rev 13LQFP100 device marking\nThe following figure gives an example of topsid e marking orientation versus pin 1 identifier \nlocation.\nOther optional marking or inset/upset marks, which identify the parts throughout supply chain operations, are not indicated below.\nFigure 34. LQFP100, 14 x 14 mm, 100-pin lo w-profile quad flat package top view \nexample\n1. Parts marked as ES or E or accompanied by an engin eering sample notification letter are not yet qualified \nand therefore not approved for use in production. ST is not responsible for any consequences resulting \nfrom such use. In no event will ST be liable for t he customer using any of these engineering samples in \nproduction. ST’s Quality department must be contacte d prior to any decision to use these engineering \nsamples to run a qualification activity.06Y\x16\x19\x19\x1c\x189\x145HYLVLRQ\x03FRGH3URGXFW\x03LGHQWLILFDWLRQ\x0b\x14\x0c\n\'DWH\x03FRGH\n3LQ\x03\x14\x03\nLQGHQWLILHU670\x16\x15/\x14\x18\x14\n9&7\x19\x03\x03\x03\x035\n<::\n\nDocID022799 Rev 13 113/136STM32L151xC STM32L152xC Package information\n1357.2 LQFP64, 10 x 10 mm, 64-pin low-profile quad flat package  \ninformation\nFigure 35. LQFP64, 10 x 10 mm, 64-pin low-profile quad flat package outline\n1. Drawing is not to scale.\n          Table 67. LQFP64, 10 x 10 mm 64-pin lo w-profile quad flat package mechanical \ndata \nSymbolmillimeters inches(1)\nMin Typ Max Min Typ Max\nA - - 1.600 - - 0.0630\nA1 0.050 - 0.150 0.0020 - 0.0059\nA2 1.350 1.400 1.450 0.0531 0.0551 0.0571\nb 0.170 0.220 0.270 0.0067 0.0087 0.0106\nc 0.090 - 0.200 0.0035 - 0.0079\nD - 12.000 - - 0.4724 -\nD1 - 10.000 - - 0.3937 -D3 - 7.500 - - 0.2953 -\nE - 12.000 - - 0.4724 -\nE1 - 10.000 - - 0.3937 -\x18:B0(B9\x16$\x14$\x15$6($7,1*\x033/$1(\nFFF&\nE&\nF\n$\x14\n/\n/\x14.\n,\'(17,),&$7,213,1\x03\x14\'\n\'\x14\n\'\x16\nH\x14 \x14\x19\x14\x1a\x16\x15\x16\x16 \x17\x1b\n\x17\x1c\n\x19\x17\n(\x16\n(\x14\n(*$8*(\x033/$1(\x13\x11\x15\x18\x03PP\nPackage information STM32L151xC STM32L152xC\n114/136 DocID022799 Rev 13Figure 36. LQFP64, 10 x 10 mm, 64-pin low-profile quad flat package\nrecommended footprint\n1. Dimensions are in millimeters.E3 - 7.500 - - 0.2953 -\ne - 0.500 - - 0.0197 -\nK 0 °3 . 5 °7 ° 0 °3 . 5 °7 °\nL 0.450 0.600 0.750 0.0177 0.0236 0.0295\nL1 - 1.000 - - 0.0394 -\nccc - - 0.080 - - 0.0031\n1. Values in inches are converted from mm and rounded to 4 decimal digits.Table 67. LQFP64, 10 x 10 mm 64-pin low-pr ofile quad flat package mechanical data \n(continued)\nSymbolmillimeters inches(1)\nMin Typ Max Min Typ Max\n\x14\x18\n\x13\x12 \x14\x19\n\x16\x14 \x11\x17\n\x11 \x11\x16\x11\x0e\x12\x10\x0e\x13\x13\x13\n\x11\x10\x0e\x13\x11\x12\x0e\x17\n\x11\x10\x0e\x13\x10\x0e\x15\n\x17\x0e\x18\n\x11\x12\x0e\x17\nAI\x11\x14\x19\x10\x19C\nDocID022799 Rev 13 115/136STM32L151xC STM32L152xC Package information\n135LQFP64 device marking\nThe following figure gives an example of topsid e marking orientation versus pin 1 identifier \nlocation.\nOther optional marking or inset/upset marks, which identify the parts throughout supply chain operations, are not indicated below.\nFigure 37. LQFP64 10 x 10 mm, 64-pin low-profile quad flat package top view example  \n1. Parts marked as ES or E or accompanied by an engineering sample notification letter are not yet qualified \nand therefore not approved for use in production. ST is not responsible for any consequences resulting \nfrom such use. In no event will ST be liable for t he customer using any of these engineering samples in \nproduction. ST’s Quality department must be contacte d prior to any decision to use these engineering \nsamples to run a qualification activity.06Y\x16\x1a\x18\x13\x149\x145HYLVLRQ\x03FRGH\n670\x16\x15/\x14\x18\x143URGXFW\x03LGHQWLILFDWLRQ\x0b\x14\x0c\n\'DWH\x03FRGH\n<: :\n3LQ\x03\x14\x03\nLQGHQWLILHU\n5&7\x195\nPackage information STM32L151xC STM32L152xC\n116/136 DocID022799 Rev 137.3 LQFP48, 7 x 7 mm, 48-pin low-profile quad flat package  \ninformation\nFigure 38. LQFP48, 7 x 7 mm, 48-pin low-profile quad flat package outline\n1. Drawing is not to scale.\x15"?-%?6\x120).\x00\x11\n)$%.4)&)#!4)/.CCC##\n$\x13\x10\x0e\x12\x15\x00MM\n\'!5\'%\x000,!.%\nB\n!\x11!\n!\x12\nC\n!\x11\n,\x11,$\n$\x11\n%\x13\n%\x11\n%\nE\x11\x12 \x11\x11\x13\x12\x14\x12\x15 \x13\x16\n\x13\x17\n\x14\x183%!4).\'\n0,!.%\n+\nDocID022799 Rev 13 117/136STM32L151xC STM32L152xC Package information\n135          \nFigure 39. LQFP48 recommended footprint\n1. Dimensions are in millimeters.Table 68. LQFP48, 7 x 7 mm, 48-pin low-pr ofile quad flat package mechanical data\nSymbolmillimeters inches(1)\n1. Values in inches are converted from mm and rounded to 4 decimal digits.Min Typ Max Min Typ Max\nA  - - 1.600 - - 0.0630\nA1 0.050 - 0.150 0.0020 - 0.0059A2 1.350 1.400 1.450 0.0531 0.0551 0.0571\nb 0.170 0.220 0.270 0.0067 0.0087 0.0106\nc 0.090  - 0.200 0.0035  - 0.0079\nD 8.800 9.000 9.200 0.3465 0.3543 0.3622\nD1 6.800 7.000 7.200 0.2677 0.2756 0.2835\nD3 - 5.500  - - 0.2165  -\nE 8.800 9.000 9.200 0.3465 0.3543 0.3622\nE1 6.800 7.000 7.200 0.2677 0.2756 0.2835\nE3  - 5.500 - - 0.2165  -\ne  - 0.500  - - 0.0197 - \nL 0.450 0.600 0.750 0.0177 0.0236 0.0295\nL1  - 1.000  - - 0.0394 - \nk 0 °3 . 5 °7 ° 0 °3 . 5 °7 °\nccc - - 0.080 - - 0.0031\n\x19\x0e\x17\x10\x15\x0e\x18\x10\x17\x0e\x13\x10\n\x11\x12\x12\x14\n\x10\x0e\x12\x10\n\x17\x0e\x13\x10\n\x11\x13\x17\x13\x16\n\x11\x0e\x12\x10\n\x15\x0e\x18\x10\n\x19\x0e\x17\x10\x10\x0e\x13\x10\x12\x15\x11\x0e\x12\x10\x10\x0e\x15\x10\nAI\x11\x14\x19\x11\x11D\x11\x13 \x14\x18\nPackage information STM32L151xC STM32L152xC\n118/136 DocID022799 Rev 13LQFP48 device marking\nThe following figure gives an example of topsid e marking orientation versus pin 1 identifier \nlocation.\nOther optional marking or inset/upset marks, which identify the parts throughout supply chain operations, are not indicated below.\nFigure 40. LQFP48 package top view example\n1. Parts marked as ES or E or accompanied by an engin eering sample notification letter are not yet qualified \nand therefore not approved for use in production. ST is not responsible for any consequences resulting \nfrom such use. In no event will ST be liable for t he customer using any of these engineering samples in \nproduction. ST’s Quality department must be contacte d prior to any decision to use these engineering \nsamples to run a qualification activity.\x0b\x14\x0c3URGXFW\nLGHQWLILFDWLRQ 45.\x14\x13-\n\x12\x16\x12$$5\x17\n3:8 8\n3LQ\x03\x14\x03\nLGHQWLILFDWLRQ5HYLVLRQ\x03FRGH\'DWH\x03FRGH\n06\x16\x1a\x18\x13\x169\x14\n\nDocID022799 Rev 13 119/136STM32L151xC STM32L152xC Package information\n1357.4 UFQFPN48 7 x 7 mm, 0.5 mm pitch, package information\nFigure 41. UFQFPN48 7 x 7 mm, 0.5 mm pitch, package outline\n1. Drawing is not to scale.\n2. All leads/pads should also be soldered to the PCB to improve the lead/pad solder joint life.\n3. There is an exposed die pad on the underside of t he UFQFPN package. It is recommended to connect and \nsolder this back-side pad to PCB ground.$\x13%\x1cB0(B9\x16\'3LQ\x03\x14\x03LGHQWLILHU\nODVHU\x03PDUNLQJ\x03DUHD\n((\n\'\n<\n\'\x15\n(\x15([SRVHG\x03SDG\x03\nDUHD\n=\x14\n\x17\x1b\'HWDLO\x03=5\x03\x13\x11\x14\x15\x18\x03W\\S\x11\x14\n\x17\x1b/\n&\x03\x13\x11\x18\x13\x13[\x17\x18\x83\nSLQ\x14\x03FRUQHU$\n6HDWLQJ\x03SODQH\n$\x14\nE HGGG\n\'HWDLO\x03<7\nPackage information STM32L151xC STM32L152xC\n120/136 DocID022799 Rev 13          \nFigure 42. UFQFPN48 recommended footprint\n1. Dimensions are in millimeters.Table 69. UFQFPN48 – ultra thin fine pi tch quad flat pack no-lead 7 × 7 mm, \n 0.5 mm pitch package mechanical data\nSymbolmillimeters inches(1)\n1. Values in inches are converted from mm and rounded to 4 decimal digits.Min Typ Max Min Typ Max\nA 0.500 0.550 0.600 0.0197 0.0217 0.0236\nA1 0.000  0.020 0.050 0.0000  0.0008 0.0020\nD 6.900 7.000 7.100 0.2717 0.2756 0.2795\nE 6.900 7.000 7.100 0.2717 0.2756 0.2795\nD2 5.500 5.600 5.700 0.2165 0.2205 0.2244\nE2 5.500 5.600 5.700 0.2165 0.2205 0.2244\nL 0.300 0.400 0.500 0.0118 0.0157 0.0197\nT - 0.152 - - 0.0060 -\nb 0.200 0.250 0.300 0.0079 0.0098 0.0118\ne - 0.500 - - 0.0197 -\nddd - - 0.080 - - 0.0031\n\x17\x0e\x13\x10\n\x17\x0e\x13\x10\x10\x0e\x12\x10\n\x10\x0e\x13\x10\n\x10\x0e\x15\x15\x10\x0e\x15\x10\n\x15\x0e\x18\x10\x16\x0e\x12\x10\n\x16\x0e\x12\x10\x15\x0e\x16\x10\n\x15\x0e\x16\x10\x15\x0e\x18\x10\n\x10\x0e\x17\x15\n!\x10"\x19?&0?6\x12\x14\x18\n\x11\n\x11\x12\n\x11\x13 \x12\x14\x12\x15\x13\x16\x13\x17\nDocID022799 Rev 13 121/136STM32L151xC STM32L152xC Package information\n135UFQFPN48 device marking\nThe following figure gives an example of topsid e marking orientation versus pin 1 identifier \nlocation.\nOther optional marking or inset/upset marks, which identify the parts throughout supply chain operations, are not indicated below.\nFigure 43. UFQFPN48 package top view example\n1. Parts marked as ES or E or accompanied by an engineering sample notification letter are not yet qualified \nand therefore not approved for use in production. ST is not responsible for any consequences resulting \nfrom such use. In no event will ST be liable for t he customer using any of these engineering samples in \nproduction. ST’s Quality department must be contacte d prior to any decision to use these engineering \nsamples to run a qualification activity.\x0b\x14\x0c3URGXFW\nLGHQWLILFDWLRQ 45.\x14\x13-\n\x12\x16\x12$$6\x17\n3:8 8\n3LQ\x03\x14\x03\nLGHQWLILFDWLRQ5HYLVLRQ\x03FRGH\'DWH\x03FRGH\n06\x16\x1a\x18\x13\x179\x14\n\nPackage information STM32L151xC STM32L152xC\n122/136 DocID022799 Rev 137.5 UFBGA100, 7 x 7 mm, 100-ball ul tra thin, fine pitch ball grid  \narray  package information\nFigure 44. UFBGA100, 7 x 7 mm, 0.5 mm pitch package outline\n1. Drawing is not to scale.\n          Table 70. UFBGA100, 7 x 7 mm, 0.5 mm pitch package mechanical data \nSymbolmillimeters inches(1)\nMin Typ Max Min Typ Max\nA 0.460 0.530 0.600 0.0181 0.0209 0.0236\nA1 0.050 0.080 0.110 0.0020 0.0031 0.0043\nA2 0.400 0.450 0.500 0.0157 0.0177 0.0197\nA3 0.080 0.130 0.180 0.0031 0.0051 0.0071A4 0.270 0.320 0.370 0.0106 0.0126 0.0146\nb 0.200 0.250 0.300 0.0079 0.0098 0.0118\nD 6.950 7.000 7.050 0.2736 0.2756 0.2776\nD1 5.450 5.500 5.550 0.2146 0.2165 0.2185\nE 6.950 7.000 7.050 0.2736 0.2756 0.2776\nE1 5.450 5.500 5.550 0.2146 0.2165 0.2185\ne - 0.500 - - 0.0197 -\nF 0.700 0.750 0.800 0.0276 0.0295 0.0315\nddd - - 0.100 - - 0.0039$\x13&\x15B0(B9\x176HDWLQJ\x03SODQH\n$\x14\nH )\n)\n\'\n0\n\x91E\x03\x0b\x14\x13\x13\x03EDOOV\x0c$(\n723\x039,(: %27720\x039,(:\x14 \x14\x15$\x14\x03EDOO\x03\nLGHQWLILHU\nH$ $\x15\n<;=\nGGG=\n\'\x14(\x14\nHHH = < ;\nIII\x91\n\x910\n0=$\x16$\x17\n$\x14\x03EDOO\x03\nLQGH[\x03DUHD\nDocID022799 Rev 13 123/136STM32L151xC STM32L152xC Package information\n135Figure 45. UFBGA100, 7 x 7 mm, 0.5 mm pi tch, package recommended footprint\n          eee - - 0.150 - - 0.0059\nfff - - 0.050 - - 0.0020\n1. Values in inches are converted from mm and rounded to 4 decimal digits.\nTable 71. UFBGA100, 7 x 7 mm, 0.50 mm pitch, recommended PCB design rules\nDimension Recommended values\nPitch 0.5\nDpad 0.280 mm\nDsm0.370 mm typ. (depends on the soldermask \nregistration tolerance)\nStencil opening 0.280 mm\nStencil thickness Between 0.100 mm and 0.125 mmTable 70. UFBGA100, 7 x 7 mm, 0.5 mm pitch package mechanical data (continued)\nSymbolmillimeters inches(1)\nMin Typ Max Min Typ Max\n$\x13&\x15B)3B9\x14\'SDG\n\'VP\nPackage information STM32L151xC STM32L152xC\n124/136 DocID022799 Rev 13UFBGA100 device marking\nThe following figure gives an example of topside marking orientation versus ball A1 identifier \nlocation.\nOther optional marking or inset/upset marks, which identify the parts throughout supply chain operations, are not indicated below.\nFigure 46. UFBGA100, 7 x 7 mm, 0.5 mm pitch, package top view example\n1. Parts marked as ES or E or accompanied by an engineering sample notification letter are not yet qualified \nand therefore not approved for use in production. ST is not responsible for any consequences resulting \nfrom such use. In no event will ST be liable for t he customer using any of these engineering samples in \nproduction. ST’s Quality department must be contacte d prior to any decision to use these engineering \nsamples to run a qualification activity.\x0b\x14\x0c3URGXFW\nLGHQWLILFDWLRQ 45.\x14\x13-\n\x12\x16\x127$)\x17\n3:8 8\n%DOO\x03$\x14\x03\nLGHQWLILHU5HYLVLRQ\x03FRGH\'DWH\x03FRGH\n06\x16\x1a\x18\x13\x1c9\x14\n\nDocID022799 Rev 13 125/136STM32L151xC STM32L152xC Package information\n1357.6 WLCSP63, 0.400 mm pitch wa fer level chip size package  \ninformation\nFigure 47. WLCSP63, 0.400 mm pitch wafer level chip size package outline\n1. Drawing is not to scale.$\x137*B0(B9\x15%RWWRP\x03YLHZ\n%XPE\x03VLGH$\x14\x03%DOO\x03ORFDWLRQ\n6LGH\x03YLHZ\n7RS\x03YLHZ\x03\n:DIHU\x03EDFN\x036LGH$\x14\x03UHIHUHQFH\nORFDWLRQ\n\'HWDLO\x03$\nURWDWHG\x03\x1c\x13\x83\'HWDLO\x03$\n6HDWLQJ\x03SODQHH\x14\n)\n*\nH\x15\nH\n*\n) H\n\'\n($\n%XPS$\x15\n$\x16EEE\nDDDHHH$\x14\nE\nFFF\nGGG=\n=;<$\x16\nPackage information STM32L151xC STM32L152xC\n126/136 DocID022799 Rev 13          Table 72. WLCSP63, 0.400 mm pitch wafer le vel chip size package mechanical data \nSymbolmillimeters inches(1)\n1. Values in inches are converted fr om mm and rounded to 4 decimal digits.Min Typ Max Min Typ Max\nA 0.540 0.570 0.600 0.0213 0.0224 0.0236\nA1 - 0.190 - - 0.0075 -A2 - 0.380 - - 0.0150 -\nA3 - 0.025 - - 0.0010 -\nØb 0.240 0.270 0.300 0.0094 0.0106 0.0118\nD 3.193 3.228 3.263 0.1257 0.1271 0.1285\nE 4.129 4.164 4.199 0.1626 0.1639 0.1653\ne - 0.400 - - 0.0157 -\ne1 - 2.400 - - 0.0945 -\ne2 - 3.200 - - 0.1260 -\nF - 0.414 - - 0.0163 -\nG - 0.482 - 0.0190 -\naaa - - 0.100 - - 0.0039bbb - - 0.100 - - 0.0039\nccc - - 0.100 - - 0.0039\nddd - - 0.050 - - 0.0020eee - - 0.050 - - 0.0020\nDocID022799 Rev 13 127/136STM32L151xC STM32L152xC Package information\n135WLCSP63 device marking\nThe following figure gives an example of topside marking orientation versus ball A1 identifier \nlocation.\nOther optional marking or inset/upset marks, which identify the parts throughout supply chain operations, are not indicated below.\nFigure 48. WLCSP63 device marking example\n1. Parts marked as ES or E or accompanied by an engin eering sample notification letter are not yet qualified \nand therefore not approved for use in production. ST is not responsible for any consequences resulting \nfrom such use. In no event will ST be liable for t he customer using any of these engineering samples in \nproduction. ST’s Quality department must be contacte d prior to any decision to use these engineering \nsamples to run a qualification activity.06\x16\x1a\x18\x14\x199\x14%DOO\x03$\x14\nLGHQWLILHU-\x12\x16\x126$:\x17\n\'DWH\x03FRGH 5HYLVLRQ\x03FRGH3URGXFW\x03LGHQWLILFDWLRQ\x0b\x14\x0c\n3:88\nPackage information STM32L151xC STM32L152xC\n128/136 DocID022799 Rev 137.7 Thermal characteristics\nThe maximum chip-junction temperature, TJ max, in degrees Celsius, may be calculated \nusing the following equation:\nTJ max = TA max + (PD max × ΘJA)\nWhere:\n• TA max is the maximum ambient temperature in °C,\n•ΘJA is the package junction-to-ambient thermal resistance, in °C/W,\n• PD max is the sum of PINT max and PI/O max (PD max = PINT max + PI/Omax),\n• PINT max is the product of IDD and VDD, expressed in Watts. Th is is the maximum chip \ninternal power.\nPI/O max represents the maximum power dissipation on output pins where:\nPI/O max  = Σ (VOL × IOL) + Σ((VDD – VOH) × IOH),\ntaking into account the actual VOL / IOL and VOH / IOH of the I/Os at low and high level in the \napplication.\n          Table 73. Thermal characteristics\nSymbol Parameter Value Unit\nΘJAThermal resistance junction-ambient  \nUFBGA100 - 7 x 7 mm59\n°C/WThermal resistance junction-ambient  \nLQFP100 - 14 x 14 mm / 0.5 mm pitch43\nThermal resistance junction-ambient  \nLQFP64 - 10 x 10 mm / 0.5 mm pitch46\nThermal resistance junction-ambient  \nWLCSP63 - 0.400 mm pitch49\nThermal resistance junction-ambient  \nLQFP48 - 7 x 7 mm / 0.5 mm pitch55\nThermal resistance junction-ambient  \nUFQFPN48 - 7 x 7 mm / 0.5 mm pitch33\nDocID022799 Rev 13 129/136STM32L151xC STM32L152xC Package information\n135Figure 49. Thermal resistance suffix 6  \nFigure 50. Thermal resistance suffix 7   \n7.7.1 Reference document\nJESD51-2 Integrated Circuits Thermal Test Method Environment Conditions - Natural \nConvection (Still Air). Available from www.jedec.org.D^ϯϭϰϬϱsϱϬ͘ϬϬϱϬϬ͘ϬϬ\nϬ&ŽƌďŝĚĚĞŶ\x03ĂƌĞĂ\nd:\x03х\x03d:\x03ŵĂǆ\n\x14\x13\x13\x13\x11\x13\x13\x15\x13\x13\x13\x11\x13\x13\x15\x18\x13\x13\x11\x13\x13\n/4)3\x19\x17\x03\x14\x13[\x14\x13PP:/&63\x19\x16\n8)%*$\x14\x13\x13\x03\x1a[\x1aPP\n/4)3\x14\x13\x13\x03\x14\x17[\x14\x17PP\n8)4)31\x17\x1b\x03\x1a[\x1aPP\n/4)3\x17\x1b\x03\x1a[\x1aPP\n\x14\x13\x13 \x1a\x18 \x18\x13 \x15\x18\x14\x18\x13\x13\x11\x13\x13\n7HPSHUDWXUH\x03\x0b\x83&\x0c3\'\x03\x0bP:\x0c\x16\x13\x13\x13\x11\x13\x13\n06Y\x16\x17\x14\x1b\x169\x14\x13\x11\x13\x13\x18\x13\x13\x11\x13\x13\x14\x13\x13\x13\x11\x13\x13\x15\x13\x13\x13\x11\x13\x13\x15\x18\x13\x13\x11\x13\x13\n\x13)RUELGGHQ\x03DUHD\n7-\x03!\x037-\x03PD[\n/4)3\x19\x17\x03\x14\x13[\x14\x13PP:/&63\x19\x16\n8)%*$\x14\x13\x13\x03\x1a[\x1aPP\n/4)3\x14\x13\x13\x03\x14\x17[\x14\x17PP\n8)4)31\x17\x1b\x03\x1a[\x1aPP\n/4)3\x17\x1b\x03\x1a[\x1aPP\n\x14\x13\x18 \x1a\x18 \x18\x13 \x15\x18\x14\x18\x13\x13\x11\x13\x13\n7HPSHUDWXUH\x03\x0b\x83&\x0c3\'\x03\x0bP:\x0c\x16\x13\x13\x13\x11\x13\x13\nPart numbering STM32L151xC STM32L152xC\n130/136 DocID022799 Rev 138 Part numbering\n          \nFor a list of available options (speed, package, etc.) or for further information on any aspect \nof this device, please contact the nearest ST sales office.Table 74. STM32L151xC and STM32L152xC ordering information scheme\n \nExample: STM32  L 151 R C T 6  D TR \nDevice family\nSTM32 = ARM-based 32-bit microcontroller\nProduct type\nL = Low-power\nDevice subfamily\n151: Devices without LCD\n152: Devices with LCD\nPin count\nC = 48 pinsU = 63 pins\nR = 64 pins\nV = 100 pins\nFlash memory size\nC = 256 Kbytes of Flash memory\nPackage\nH = BGA\nT = LQFPY = WLCSP\nU = UFQFPN\nTemperature range\n6 = Industrial temperature range, –40 to 85 °C\n7 = Industrial temperature range, –40 to 105 °C\nOptions\nNo character = V\nDD range: 1.8 to 3.6 V and BOR enabled\nD = VDD range: 1.65 to 3.6 V and BOR disabled\nPacking\nTR = tape and reel\nNo character = tray or tube\nDocID022799 Rev 13 131/136STM32L151xC STM32L152xC Revision History\n1359 Revision History\n          Table 75. Document revision history \nDate Revision Changes\n21-Feb-2012 1 Initial release.\n12-Oct-2012 2Added WLCSP63 package.\nUpdated Figure 1: Ultra-low-power STM32L162xC block diagram .\nChanged maximum number of touch sensing channels to 34, and \nupdated Table 2: Ultralow power STM 32L15xxC device features and \nperipheral counts .\nAdded Table 4: Functionalities depending on the working mode (from \nRun/active down to  standby) , and Table 3: ange depending on \ndynamic voltage scaling .\nUpdated Section 3.10: ADC (analog-to-digital converter)  to add \nSection 3.10.1: Temperature sensor  and Section 3.10.2: Internal \nvoltage reference (VREFINT) .\nUpdated Figure 3: STM32L162VC LQFP100 pinout .\nTable 10: STM32L15xxC pin definitions : updated name of reference \nmanual in footnote 5.\nChanged I2C1_SMBAI into I2C1_SMBA in Table 10: STM32L15xxC \npin definitions .\nModified PB10/11/12 for AFIO4 alter nate function, and replaced LBAR \nby NADV for AFIO12 in Table 10: Alternate function input/output .\nRemoved caution note below Figure 8: Power supply scheme .\nAdded Note 2  in Table 15: Embedded reset and power control block \ncharacteristics .\nUpdated Table 14: General operating conditions .\nUpdated Table 22: Typical and maximum current consumptions in Stop \nmode  and added Note 6 . Updated Table 23: Typical and maximum \ncurrent consumptions in Standby mode . Updated tWUSTOP in Table  : .\nUpdated Table 26: Peripheral current consumption .\nUpdated Table 60: SPI characteristics , added Note 1  and Note 3 , and \napplied Note 2  to tr(SCK) , tf(SCK) , tw(SCKH) , tw(SCKL) , tsu(MI) , tsu(SI) , th(MI), \nand th(SI).\nAdded Table 61: I2S characteristics , Figure 29: I2S slave timing \ndiagram (Philips protocol)(1)  and Figure 30: I2S master timing diagram \n(Philips protocol)(1) .\nUpdated Table 72: Temperature s ensor characteristics .\nAdded Figure 40: Thermal resistance .\nRevision History STM32L151xC STM32L152xC\n132/136 DocID022799 Rev 1301-Feb-2013 3Removed AHB1/AHB2 and corrected typo on APB1/APB2 in :Figure 1: \nUltra-low-power STM32L162xC block diagram-low-power \nSTM32L162xC block diagram\nUpdated “OP amp” line in Table 4: Functionalities depending on the \nworking mode (from Run/active down to  standby)\nAdded IWDG and WWDG rows in Table 4: Functionalities depending \non the working mode (from Run/active down to  standby)\nUpdated address range in Table 7: Internal voltage reference \nmeasured values\nThe comment "HSE = 16 MHz(2) (PLL ON for fHCLK above 16 MHz)" \nreplaced by "fHSE = fHCLK up to 16 MHz included, fHSE = fHCLK/2 above 16 MHz (PLL ON)(2)” in table Table 27: Current consumption in \nSleep mode\nreplaced pin names D7,C7,C6,C8,B8,A8 respectively by \nD11,D10,C12,B12,A12,A11 in column UFBGA100 of Table 9: \nSTM32L15xxC pin definitions Added more alternate functions \nsupported on pin K3 and M4 for UFBGA100 package in Table 9: \nSTM32L15xxC pin definitions\nAdded part number STM32L151CC in Table 1: Device summary\nUpdated Stop mode current to \n1.5 µA  in Ultra-low-power platform\nUpdated entire Section 7: Package information\n02-Sep-2013 4Removed UFBGA132 and LQFP144 packages\nRemoved first sentence in Section : I2C interface characteristics\nAdded Section Table 5.: VLCD rail decoupling\nAdded VRAIL functions in Table 9: STM32L15xxC pin definitions\nUpdated PH0-OSC_IN and PH1-OSC_OUT type in Table 9: \nSTM32L15xxC pin definitions .\nAdded Table 6.1.7: Optional LCD power supply scheme .\nUpdated consumption data in Table 6.3.4: Supply current \ncharacteristics\nUpdated Table 7: Pin loading conditions\nUpdated Table 8: Pin input voltage  Updated Table 15: Typical \napplication with a 32.768 kHz crystal\nUpdated Table 25: Recommended NRST pin protection\nTable 26: I2C bus AC waveforms and measurement circuit Updated \nTable 35: Typical connection diagram using the ADC  and\ndefinition of symbol “RAIN” in Table 77: ADC characteristics\nUpdated dThreshold/dt conditions in Table 85: Comparator 2 \ncharacteristics .\nUpdated Table 49: Thermal resistance suffix 6 .\nAdded D2 and E2 in Table 69: UFQFPN48 – ultra thin fine pitch quad \nflat pack no-lead 7 × 7 mm, 0.5 mm pitch package mechanical data\nFixed columns inversion in Table 67: LQFP64, 10 x 10 mm 64-pin low-\nprofile quad flat package mechanical data  and Table 70: UFBGA100, 7 \nx 7 mm, 0.5 mm pitch package mechanical dataTable 75. Document revision history (continued)\nDate Revision Changes\nDocID022799 Rev 13 133/136STM32L151xC STM32L152xC Revision History\n13512-Nov-2013 5Updated Section 3.15: Touch sensing .\nAdded VDD= 1.71 to 1.8 V operating power supply range in Table 4: \nFunctionalities depending on the work ing mode (from Run/active down \nto  standby)\nRenamed "I/O Level" to "I/O structure" in Table 9: STM32L15xxC pin \ndefinitions , added the I/O structure for PC 14, PC15, PC3, PH0, PH1, \nPA3, PA4, PA5, PB0, PE7, PE8 , PE9, PE10, NRST and BOOT0\nUpdated Table 10: Voltage characteristics  added row\nUpdated Table 11: Current characteristics  replaced with the one inside \nSTM32L15xxBxxA datasheet.\nUpdated Table 13: General operating conditions , footnote and added \nrow.\nUpdated Table 15: Embedded internal reference voltage calibration \nvalues  and moved inside Section 6.3.3: Embedded internal reference \nvoltage\nUpdated Section 6.3.4: Supply current characteristics .\nUpdated Table 19: Current consumption in  Run mode, code with data \nprocessing running from Flash .\nUpdated Table 22: Current consumption in  Run mode, code with data \nprocessing running from RAM .\nCreated Section 6.3.5: Wakeup time from low-power mode ..\nUpdated Table 38: High-speed external user clock characteristics .\nMoved Figure 12: High-speed external clock source AC timing diagram  \nafter Table 38: High-speed external user clock characteristics .\nUpdated Table 40: HSE oscillator characteristics .\nUpdated Section 6.3.12: Electrical sensitivity characteristics  (title).\nUpdated Section 6.3.13: I/O current injection characteristics .\nUpdated Table 61: I/O current injection susceptibility  and added \nfootnote.\nUpdated Table 63: I/O static characteristics\nUpdated Section 6.3.15: NRST pin characteristics .\nUpdated Table 77: ADC characteristics .\nAdded footnote(5) and (6) in Table 77: ADC characteristics\nUpdated THD values and added 4 mo re rows ENOB, SINAD, SNR, \nTHD in Table 78: ADC accuracy\nUpdated “SDA data hold time” and “SDA and SCL rise time” values \nand added “Pulse width of spikes t hat are suppressed by the analog \nfilter” row in  Table 68: I2C characteristics\nUpdated direct channels VDDA range in Table 79: RAIN max for fADC = \n16 MHz\nMoved Table 82: Temperature se nsor calibration values  and moved \ninside Section 6.3.23: Temperature sensor characteristics\nUpdated IDD (WU from Standby) unit in Table 31: Typical and \nmaximum current consumptions in Standby mode .\nUpdated Table 67: LQFP64, 10 x 10 mm 64-pin low-profile quad flat \npackage mechanical data  \nUpdated Chapter 8: Part numbering  (title).Table 75. Document revision history (continued)\nDate Revision Changes\nRevision History STM32L151xC STM32L152xC\n134/136 DocID022799 Rev 1309-Dec-2013 6Apply footnote 1 also to VDD= 1.8 to 2.0 V in Table 2: Functionalities \ndepending on the operating power supply range .\nUpdated Iinj pin in Table 11: Current characteristics .\nAdded Input Voltage in Table 13: General operating conditions .\nUpdated Input leakage current conditions in Table 63: I/O static \ncharacteristics\nRemoved minimum value for fSin Table 77: ADC characteristics .\nRemoved Finput for ENOB,SINAD,SNR,THD in Table 78: ADC \naccuracy .\nAdded tolerance for TS_CAL1 and TS_CAL2 in Table 82: Temperature \nsensor calibration values .\n13-Mar-2014 7Updated Section 3.7: Memories , Table 33: Peripheral current \nconsumption  : updated Flash value, Table 61: I/O current injection \nsusceptibility , Table 63: I/O static characteristics :added BOOT0 pin \nTable 66: NRST pin characteristics , Chapter 2.2: Ultra-low-power \ndevice continuum . removed figures “Power supply and reference \ndecoupling (VREF+ not connected to VDDA) and “Power supply and \nreference decoupling(VREF+ connected to VDDA). Updated Table 19: \nCurrent consumption in Run mode, code with data processing running \nfrom Flash\nUpdated Section 6.3.1: General operating conditions .\nUpdated Table 80: DAC characteristics\nAdded marking for LQFP48/UFQFPN48 packagesUpdated Table 66: NRST pin characteristics\nUpdated Table 63: I/O static characteristics\n16-May-2014 8Updated I\nIO in Table 12: Current characteristics .\nUpdated conditions in Table 44: Output voltage characteristics .\nRemoved note 4 in Table 62: Temperature s ensor characteristics\nUpdated the conditions in Table 26: Low-power mode wakeup timings . \nRemoved ambiguity of “ambient temperature” in the electrical \ncharacteristics description.\n13-Oct-2014 9Updated Section 3.17: Communication interfaces  putting I2S \ncharacteristics inside.\nUpdated DMIPS features  in cover page and Section 2: Description .\nUpdated max temperature at 105°C instead of 85°C in the whole \ndatasheet.\nUpdated current consumption in Table 20: Current consumption in \nSleep mode .\nUpdated Table 25: Peripheral current consumption  with new measured \ncurrent values.\nUpdated Table 58: Maximum source impedance RAIN max  adding \nnote 2.\n06-Mar-2015 10Updated Section 7: Package information  with new package device \nmarking.\nUpdated Figure 9: Memory map .Table 75. Document revision history (continued)\nDate Revision Changes\nDocID022799 Rev 13 135/136STM32L151xC STM32L152xC Revision History\n135          20-Aug-2015 11Updated Table 17: Embedded internal reference voltage  temperature \ncoefficient at 100ppm/°C and table footnote 3: “guaranteed by design” \nchanged by “guaranteed by characterization results”.\nUpdated Table 64: Comparator 2 characteristics  new maximum \nthreshold voltage temperature coefficient at 100ppm/°C.\n10-Mar-2016 12Updated cover page putting eight SPIs in the peripheral \ncommunication interface list.\nUpdated Table 2: Ultra-low-power STM32L151xC and STM32L152xC \ndevice features and peripheral counts  SPI and I2S lines.\nUpdated Table 40: ESD absolute maximum ratings  CDM class.\nUpdated all the notes, removing ‘not tested in production’.Updated thermal resistance for UFQFPN48 to value of 33 °C/W.\nUpdated Table 11: Voltage characteristics  adding note about V\nREF- pin.\nUpdated Table 5: Functionalities depending on the working mode (from \nRun/active down to  standby)  LSI and LSE functionalities putting “Y” in \nStandby mode.\nRemoved note 1 below Figure 2: Clock tree .\n25-Aug-2017 13Updated Table 43: I/O static characteristics  pull-up and pull-down \nvalues.\nUpdated Table 46: NRST pin characteristics  pull-up values.\nUpdated Section 7: Package information  adding information about \nother optional marking or inset/upset marks.\nUpdated note 1 below all the package device marking figures.\nUpdated Section 7: Package information  replacing “Marking of \nengineering samples” by “device marking”.\nUpdated Nested vectored inte rrupt controller (NVIC)  in Section 3.2: \nARM® Cortex®-M3 core with MPU  about process state automatically \nsaved.\nUpdated Table 3: Functionalities depending on the operating power \nsupply range  removing I/O operation column and adding note about \nGPIO speed.\nUpdated Table 42: I/O current injection susceptibility  note by ‘injection \nis not possible’.\nUpdated Figure 20: Recommended NRST pin protection  note about \nthe 0.1uF capacitor.\nUpdated Table 59: DAC characteristics  resistive load.\nUpdated Section 3.1: Low-power modes  Low-power run mode (MSI) \nRC oscillator clock.\nUpdated Table 5: Functionalities depending on the working mode \n(from Run/active down to  standby)  disabling I2C functionality in Low-\npower Run and Low-power Sleep modes.Table 75. Document revision history (continued)\nDate Revision Changes\nSTM32L151xC STM32L152xC\n136/136 DocID022799 Rev 13          \nIMPORTANT NOTICE – PLEASE READ CAREFULLY\nSTMicroelectronics NV and its subsidiaries (“ST”) reserve the right to make changes, corrections, enhancements, modifications, and \nimprovements to ST products and/or to this document at any time without notice. Purchasers should obtain the latest relevant in formation on \nST products before placing orders. ST products are sold pursuant to ST’s terms and conditions of sale in place at the time of o rder \nacknowledgement.\nPurchasers are solely responsible for the choice, selection, and use of ST products and ST assumes no liability for application  assistance or \nthe design of Purchasers’ products.\nNo license, express or implied, to any intellectual property right is granted by ST herein.Resale of ST products with provisions different from the information set forth herein shall void any warranty granted by ST for  such product.\nST and the ST logo are trademarks of ST. All other product or service names are the property of their respective owners.Information in this document supersedes and replaces information previously supplied in any prior versions of this document.\n© 2017 STMicroelectronics – All rights reserved\n'}]
!==============================================================================!
### Component Summary: STM32L151RCT6

#### Key Characteristics and Specifications:
- **Voltage Ratings**: 
  - Operating Voltage: 1.65 V to 3.6 V
  - VDD range: 1.8 V to 3.6 V (with BOR enabled)
  - VDD range: 1.65 V to 3.6 V (without BOR)
  
- **Current Ratings**:
  - Maximum current consumption in Run mode: 
    - Up to 4.9 mA at 32 MHz
    - 0.29 µA in Standby mode (no RTC)
    - 1.15 µA in Standby mode (with RTC)
  
- **Power Consumption**:
  - Typical Run mode consumption: 185 µA/MHz
  - Low-power Run mode: 8.6 µA
  - Sleep mode: 0.44 µA (no RTC)
  
- **Operating Temperature Range**: 
  - -40 °C to +105 °C
  
- **Package Type**: 
  - LQFP64 (10 x 10 mm), LQFP48 (7 x 7 mm), UFBGA100 (7 x 7 mm), UFQFPN48 (7 x 7 mm)
  
- **Special Features**:
  - ARM Cortex-M3 core
  - 256 KB Flash memory, 32 KB SRAM, 8 KB EEPROM
  - Integrated LCD driver (except STM32L151xC devices)
  - USB 2.0 support
  - 12-bit ADC with up to 25 channels
  - 12-bit DAC with 2 channels
  - Multiple low-power modes (Sleep, Stop, Standby)
  - 83 fast I/Os, all mappable on 16 external interrupt vectors
  - Memory protection unit (MPU)
  
- **Moisture Sensitive Level**: 
  - MSL Level 3 (according to JEDEC J-STD-020E)

#### Description:
The STM32L151RCT6 is an ultra-low-power 32-bit microcontroller based on the ARM Cortex-M3 architecture. It is designed for applications requiring efficient power management while providing high performance. The microcontroller features a rich set of peripherals, including a USB interface, multiple timers, and advanced analog capabilities such as ADCs and DACs. 

#### Typical Applications:
The STM32L151RCT6 is suitable for a wide range of applications, including:
- Medical and handheld devices
- Application control and user interfaces
- PC peripherals, gaming, GPS, and sports equipment
- Alarm systems and wired/wireless sensors
- Utility metering and smart grid applications
- Wearable devices and fitness trackers

This microcontroller's combination of low power consumption, extensive peripheral support, and high processing capability makes it ideal for battery-operated devices and energy-sensitive applications.