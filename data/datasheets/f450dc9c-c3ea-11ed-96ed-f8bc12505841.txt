[{'role': 'system', 'content': 'You are a technical specialist with expertise in electronics. Your task is to analyze datasheets for electronic components and provide a concise summary of the product’s key characteristics and specifications. In addition, you need to gather textual information about the component, including its description and typical applications.Instructions:    Identify the correct component in the datasheet using the provided product code.    Summarize key parameters, including:        Voltage ratings        Current ratings        Power consumption        Operating temperature range        Package type        Special features or notes (if applicable)        Moisture Sensetive Level JEDEC J-STD-020E    Provide a short description of the component, including what it is (e.g., transistor, microcontroller, sensor) and its primary function.    Explain typical applications for the component (e.g., power management, signal processing, data storage, etc.).    Be thorough and accurate: Ensure the information corresponds specifically to the product code, as some datasheets cover multiple variants.Your goal is to create a clear and accurate technical summary that includes both key specifications and a description of what the component is used for.'}, {'role': 'user', 'content': 'Give me information about the component of STM32WB55CGU6 production of ST MICROELECTRONICS from the text:This is information on a product in full production. August 2022 DS11929 Rev 14 1/196STM32WB55xx  \n STM32WB35xx\nMultiprotocol wireless 32-bit MCU Arm®-based Cortex®-M4 \n with FPU, Bluetooth® 5.3 and 802.15.4 radio solution\nDatasheet - production data\nFeatures\n•Include ST state-of -the-art patented \ntechnology\n•Radio\n– 2.4 GHz\n– RF transceiver supporting Bluetooth® 5.3 \nspecification, IEEE 802.15.4-2011 PHY \nand MAC, supporting Thread and  \nZigbee® 3.0\n– RX sensitivity: -96 dBm (Bluetooth® Low \nEnergy at 1 Mbps), -100 dBm (802.15.4)\n– Programmable output power up to +6 dBm \nwith 1 dB steps\n– Integrated balun to reduce BOM\n– Support for 2 Mbps\n– Support advertising extension– Dedicated Arm\n® 32-bit Cortex® M0+ CPU \nfor real-time Radio layer\n– Accurate RSSI to enable power control\n– Suitable for systems requiring compliance \nwith radio frequency regulations ETSI EN 300 328, EN 300 440, FCC CFR47 Part 15 and ARIB STD-T66\n– Support for external PA\n– Available integrated passive device (IPD) \ncompanion chip for optimized matching solution (MLPF-WB-01E3, or  \nMLPF-WB55-02E3, or MLPF-WB-02D3)\n•Ultra-low-power platform\n– 1.71 to 3.6 V power supply\n– – 40 °C to 85 / 105 °C temperature ranges– 13 nA shutdown mode\n– 600 nA Standby mode + RTC + 32 KB \nRAM\n– 2.1 µA Stop mode + RTC + 256 KB RAM– Active-mode MCU: < 53 µA / MHz when RF \nand SMPS on\n– Radio: Rx 4.5 mA / Tx at 0 dBm 5.2 mA•Core: Arm\n® 32-bit Cortex®-M4 CPU with FPU, \nadaptive real-time accelerator (ART™ Accelerator) allowing 0-wait-state execution from flash memory, frequency up to 64 MHz, MPU, 80 DMIPS and DSP instructions\n•Performance benchmark\n– 1.25 DMIPS/MHz (Drystone 2.1)– 219.48 CoreMark\n® (3.43 CoreMark/MHz at \n64 MHz)\n•Energy benckmark\n– 303 ULPMark™ CP score\n•Supply and reset management\n– High efficiency embedded SMPS  \nstep-down converter with intelligent bypass mode\n– Ultra-safe, low-power BOR (brownout \nreset) with five selectable thresholds\n– Ultra-low-power POR/PDR– Programmable voltage detector (PVD)\n–V\nBAT mode with RTC and backup registers\n•Clock sources\n– 32 MHz crystal oscilla tor with integrated \ntrimming capacitors (Radio and CPU clock)\n– 32 kHz crystal oscillator for RTC (LSE)– Internal low-power 32 kHz (±5%) RC (LSI1)\n– Internal low-power 32 kHz (stability \n±500 ppm) RC (LSI2).\nUFQFPN48 VFQFPN68\nWLCSP100\n 0.4 mm pitch7 x 7 mm solder pad  8 x 8 mm solder pad\nUFBGA129\n 0.5 mm pitchFBGA\nwww.st.com\nSTM32WB55xx   STM32WB35xx\n2/196 DS11929 Rev 14– Internal multispeed 100 kHz to 48 MHz \noscillator, auto-trimmed by LSE (better than ±0.25% accuracy)\n– High speed internal 16 MHz factory \ntrimmed RC (±1%)\n– 2x PLL for system clock, USB, SAI and \nADC\n•Memories\n– Up to 1 MB flash memory with sector \nprotection (PCROP) against R/W operations, enabling radio stack and application\n– Up to 256 KB SRAM, including 64 KB with \nhardware parity check\n– 20x 32-bit backup register\n– Boot loader supporting USART, SPI, I2C \nand USB interfaces\n– OTA (over the air) Bluetooth\n® Low Energy \nand 802.15.4 update\n– Quad SPI memory interface with XIP\n– 1 Kbyte (128 double words) OTP\n•Rich analog peripherals (down to 1.62 V)\n– 12-bit ADC 4.26 Msps, up to 16-bit with \nhardware oversampling, 200 µA/Msps\n– 2x ultra-low-power comparator– Accurate 2.5 V or 2.048 V reference \nvoltage buffered output\n•System peripherals\n– Inter processor co mmunication controller \n(IPCC) for communica tion with Bluetooth\n® \nLow Energy and 802.15.4\n– HW semaphores for resources sharing \nbetween CPUs\n– 2x DMA controllers (7x channels each) \nsupporting ADC, SPI, I2C, USART, QSPI, SAI, AES, timers\n– 1x USART (ISO 7816, IrDA, SPI Master, \nModbus and Smartcard mode)\n– 1x LPUART (low power)\n– 2x SPI 32 Mbit/s– 2x I2C (SMBus/PMBus\n®)\n– 1x SAI (dual channel high quality audio)– 1x USB 2.0 FS device, crystal-less, BCD \nand LPM\n– Touch sensing controller, up to 18 sensors– LCD 8x40 with step-up converter\n– 1x 16-bit, four channels advanced timer\n– 2x 16-bit, two channels timer\n– 1x 32-bit, four channels timer\n– 2x 16-bit ultra-low-power timer– 1x independent Systick\n– 1x independent watchdog\n– 1x window watchdog\n•Security and ID\n– Secure firmware installation (SFI) for \nBluetooth\n® Low Energy and 802.15.4 SW \nstack\n– 3x hardware encryp tion AES maximum \n256-bit for the application, the Bluetooth® \nLow Energy and IEEE802.15.4\n– Customer key storage / key manager \nservices\n– HW public key authority (PKA)\n– Cryptographic algorithms: RSA,  \nDiffie-Helman, ECC over GF(p)\n– True random number generator (RNG)\n– Sector protection against R/W operation \n(PCROP)\n– CRC calculation unit\n– Die information: 96-bit unique ID\n– IEEE 64-bit unique ID, possibility to derive \n802.15.4 64-bit and Bluetooth® Low Energy \n48-bit EUI\n•Up to 72 fast I/Os, 70 of them 5 V-tolerant\n•Development support\n– Serial wire debug (SWD), JTAG for the \napplication processor\n– Application cross trigger with input / output– Embedded Trace Macrocell™ for \napplication\n•All packages are ECOPACK2 compliant\n          \n          \nTable 1. Device summary\nReference Part numbers\nSTM32WB55xxSTM32WB55CC, STM32WB55CE, STM32WB55CG, STM32WB55RC, STM32WB55RE, STM32WB55RG, \nSTM32WB55VC, STM32WB55VE, STM32WB55VG, STM32WB55VY\nSTM32WB35xx STM32WB35CC, STM32WB35CE\nDS11929 Rev 14 3/196STM32WB55xx   STM32WB35xx Contents\n6Contents\n1 Introduction . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 12\n2 Description . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 13\n3 Functional overview  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 18\n3.1 Architecture  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 18\n3.2 Arm® Cortex®-M4 core with FPU . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 18\n3.3 Memories  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 19\n3.3.1 Adaptive real-time memory accelerator (ART Accelerator)  . . . . . . . . . . 19\n3.3.2 Memory protection unit  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 19\n3.3.3 Embedded flash memory . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 193.3.4 Embedded SRAM  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 21\n3.4 Security and safety . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 21\n3.5 Boot modes and FW update . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 223.6 RF subsystem  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 22\n3.6.1 RF front-end block diagram . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 22\n3.6.2 Bluetooth Low Energy general description  . . . . . . . . . . . . . . . . . . . . . . 23\n3.6.3 802.15.4 general description . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 25\n3.6.4 RF pin description  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 25\n3.6.5 Typical RF application schematic  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 25\n3.7 Power supply management  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 26\n3.7.1 Power supply distribution . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 26\n3.7.2 Power supply schemes  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 27\n3.7.3 Linear voltage regulator . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 31\n3.7.4 Power supply supervisor  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 313.7.5 Low-power modes . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 31\n3.7.6 Reset mode . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 39\n3.8 VBAT operation  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 39\n3.9 Interconnect matrix . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 39\n3.10 Clocks and startup  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 41\n3.11 General-purpose inputs/outputs (GPIOs) . . . . . . . . . . . . . . . . . . . . . . . . . 433.12 Direct memory access controller (DMA) . . . . . . . . . . . . . . . . . . . . . . . . . . 44\n3.13 Interrupts and events  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 44\nContents STM32WB55xx   STM32WB35xx\n4/196 DS11929 Rev 143.13.1 Nested vectored interrupt controller (NVIC)  . . . . . . . . . . . . . . . . . . . . . . 44\n3.13.2 Extended interrupts and events controller (EXTI)  . . . . . . . . . . . . . . . . . 45\n3.14 Analog to digital converter (ADC) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 45\n3.14.1 Temperature sensor . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 46\n3.14.2 Internal voltage reference (VREFINT) . . . . . . . . . . . . . . . . . . . . . . . . . . 46\n3.15 Voltage reference buffer (VREFBUF) . . . . . . . . . . . . . . . . . . . . . . . . . . . . 47\n3.16 Comparators (COMP)  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 47\n3.17 Touch sensing controller (TSC)  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 473.18 Liquid crystal display controller (LCD)  . . . . . . . . . . . . . . . . . . . . . . . . . . . 49\n3.19 True random number generator (RNG)  . . . . . . . . . . . . . . . . . . . . . . . . . . 49\n3.20 Timers and watchdogs . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 50\n3.20.1 Advanced-control timer (TIM1)  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 50\n3.20.2 General-purpose timers (TIM2, TIM16, TI M17) . . . . . . . . . . . . . . . . . . . 50\n3.20.3 Low-power timer (LPTIM1 and LPTIM2)  . . . . . . . . . . . . . . . . . . . . . . . . 51\n3.20.4 Independent watchdog (IWDG) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 513.20.5 System window watchdog (WWDG)  . . . . . . . . . . . . . . . . . . . . . . . . . . . 52\n3.20.6 SysTick timer . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 52\n3.21 Real-time clock (RTC) and backup registers  . . . . . . . . . . . . . . . . . . . . . . 52\n3.22 Inter-integrated circuit interface (I2C) . . . . . . . . . . . . . . . . . . . . . . . . . . . . 53\n3.23 Universal synchronous/asynchronous re ceiver transmitter (USART)  . . . 54\n3.24 Low-power universal asynchronous rece iver transmitter (LPUART)  . . . . 54\n3.25 Serial peripheral interface (SPI1, SPI2) . . . . . . . . . . . . . . . . . . . . . . . . . . 55\n3.26 Serial audio interfaces (SAI1) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 553.27 Quad-SPI memory interface (QUADSPI) . . . . . . . . . . . . . . . . . . . . . . . . . 563.28 Development support . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 57\n3.28.1 Serial wire JTAG debug port (SWJ-DP) . . . . . . . . . . . . . . . . . . . . . . . . . 57\n3.28.2 Embedded Trace Macrocell™ . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 57\n4 Pinouts and pin description . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 58\n5 Memory mapping . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 80\n6 Electrical characteristi cs  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 81\n6.1 Parameter conditions . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 81\n6.1.1 Minimum and maximum values . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 81\nDS11929 Rev 14 5/196STM32WB55xx   STM32WB35xx Contents\n66.1.2 Typical values  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 81\n6.1.3 Typical curves  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 816.1.4 Loading capacitor  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 81\n6.1.5 Pin input voltage  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 81\n6.1.6 Power supply scheme  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 82\n6.1.7 Current consumption measurement  . . . . . . . . . . . . . . . . . . . . . . . . . . . 84\n6.2 Absolute maximum ratings . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 84\n6.3 Operating conditions  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 87\n6.3.1 Summary of main performance . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 87\n6.3.2 General operating conditions . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 87\n6.3.3 RF Bluetooth Low Energy characteristics  . . . . . . . . . . . . . . . . . . . . . . . 886.3.4 RF 802.15.4 characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 93\n6.3.5 Operating conditions at power-up / powe r-down . . . . . . . . . . . . . . . . . . 96\n6.3.6 Embedded reset and power control bloc k characteristics . . . . . . . . . . . 96\n6.3.7 Embedded voltage reference . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 98\n6.3.8 Supply current characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 99\n6.3.9 Wakeup time from Low-power modes and voltage scaling  \ntransition times . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 117\n6.3.10 External clock source characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . 119\n6.3.11 Internal clock sour ce characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . 122\n6.3.12 PLL characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 1296.3.13 Flash memory characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 130\n6.3.14 EMC characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 131\n6.3.15 Electrical sensitivity characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . 1326.3.16 I/O current injection characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . 133\n6.3.17 I/O port characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 134\n6.3.18 NRST pin characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 1376.3.19 Analog switches booster  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 139\n6.3.20 Analog-to-Digital converter characteristics  . . . . . . . . . . . . . . . . . . . . . 140\n6.3.21 Voltage reference buffer ch aracteristics  . . . . . . . . . . . . . . . . . . . . . . . 152\n6.3.22 Comparator characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 154\n6.3.23 Temperature sensor characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . 155\n6.3.24 V\nBAT monitoring characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 155\n6.3.25 SMPS step-down converter characteristics . . . . . . . . . . . . . . . . . . . . . 156\n6.3.26 LCD controller characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 156\n6.3.27 Timer characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 157\n6.3.28 Clock recovery system (CRS)  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 158\nContents STM32WB55xx   STM32WB35xx\n6/196 DS11929 Rev 146.3.29 Communication interfaces characteristics . . . . . . . . . . . . . . . . . . . . . . 158\n7 Package information . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 170\n7.1 UFBGA129 package information  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 170\n7.2 WLCSP100 package information . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 1737.3 VFQFPN68 package information . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 177\n7.4 UFQFPN48 package information . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 179\n7.5 Thermal characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 183\n7.5.1 Reference document . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 184\n7.5.2 Selecting the product temperature range  . . . . . . . . . . . . . . . . . . . . . . 184\n8 Ordering information  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 186\n9 Important security notice . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 187\n10 Revision history  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 188\nDS11929 Rev 14 7/196STM32WB55xx   STM32WB35xx List of tables\n9List of tables\nTable 1. Device summary . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . . . 2\nTable 2. STM32WB55xx and STM32WB35xx devices features and peripheral counts . . . . . . . . . . 14Table 3. Access status vs. readout protection level and execution modes  . . . . . . . . . . . . . . . . . . . 20\nTable 4. RF pin list . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . . . . . . 25\nTable 5. Typical external components  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . 26\nTable 6. Power supply typical components  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 2 7\nTable 7. Features over all modes . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 33\nTable 8. STM32WB55xx and STM32WB35xx modes overview. . . . . . . . . . . . . . . . . . . . . . . . . . . . 37\nTable 9. STM32WB55xx and STM32WB35xx CPU1 periphera ls interconnect matrix . . . . . . . . . . . 39\nTable 10. DMA implementation  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . 44\nTable 11. Temperature sensor calibration values. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4 6\nTable 12. Internal voltage reference calibration values  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 46\nTable 13. Timer features. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 50\nTable 14. I2C implementation. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 53\nTable 15. Legend/abbreviations used in the pinout table . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 60\nTable 16. STM32WB55xx pin and ball definitions  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 61Table 17. STM32WB35xx pin and ball definitions  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 70Table 18. Alternate functions (STM32WB55xx) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 73\nTable 19. Alternate functions (STM32WB35xx) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 78\nTable 20. Voltage characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 85\nTable 21. Current characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 85\nTable 22. Thermal characteristics.  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . . 86\nTable 23. Main performance at VDD = 3.3 V . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 87\nTable 24. General operating conditions . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . 87\nTable 25. RF transmitter Bluetooth Low Ener gy characteristics. . . . . . . . . . . . . . . . . . . . . . . . . . . . . 88\nTable 26. RF transmitter Bluetooth Low En ergy characteristics (1 Mbps) . . . . . . . . . . . . . . . . . . . . . 89\nTable 27. RF transmitter Bluetooth Low En ergy characteristics (2 Mbps) . . . . . . . . . . . . . . . . . . . . . 90\nTable 28. RF receiver Bluetooth Low Energy characteristics (1 Mbps) . . . . . . . . . . . . . . . . . . . . . . . 91\nTable 29. RF receiver Bluetooth Low Energy characteristics (2 Mbps) . . . . . . . . . . . . . . . . . . . . . . . 92\nTable 30. RF Bluetooth Low Energy power consumption for VDD = 3.3 V  . . . . . . . . . . . . . . . . . . . . 93\nTable 31. RF transmitter 802.15.4 characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 93\nTable 32. RF receiver 802.15.4 characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  94\nTable 33. RF 802.15.4 power consumption for VDD = 3.3 V . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 95Table 34. Operating conditions at power-up / power-down  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 96Table 35. Embedded reset and power control block characterist ics. . . . . . . . . . . . . . . . . . . . . . . . . . 96\nTable 36. Embedded internal voltage reference. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 9 8\nTable 37. Current consumption in Run and Low-power run modes, code with data processing  \nrunning from flash, ART enable (Cache ON Pref etch OFF), VDD = 3.3 V . . . . . . . . . . . . 100\nTable 38. Current consumption in Run and Low-power run modes, code with data processing  \nrunning from SRAM1, VDD = 3.3 V  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 101\nTable 39. Typical current consumption in Run a nd Low-power run modes, with different codes  \nrunning from flash, ART enable (Cache ON Pref etch OFF), VDD= 3.3 V  . . . . . . . . . . . . 102\nTable 40. Typical current consumption in Run and Low-power run modes,  \nwith different codes running from SRAM1, VDD = 3.3 V  . . . . . . . . . . . . . . . . . . . . . . . . . 103\nTable 41. Current consumption in Sleep and Low-power  sleep modes, flash memory ON . . . . . . . 104\nTable 42. Current consumption in Low-power sleep modes, flash memory in Power down. . . . . . . 104Table 43. Current consumption in Stop 2 mode . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 105Table 44. Current consumption in Stop 1 mode . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 107\nList of tables STM32WB55xx   STM32WB35xx\n8/196 DS11929 Rev 14Table 45. Current consumption in Stop 0 mode . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 109\nTable 46. Current consumption in Standby mode  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 110Table 47. Current consumption in Shutdown  mode . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 112\nTable 48. Current consumption in VBAT mode  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 112Table 49. Current under Reset condition . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 113\nTable 50. Peripheral current consumption . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  115\nTable 51. Low-power mode wakeup timings  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 117Table 52. Regulator modes transition times . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 118\nTable 53. Wakeup time using USART/LPUART. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 118Table 54. HSE crystal requirements  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 119\nTable 55. HSE clock source requirements . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 1 19\nTable 56. HSE oscillator characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 120\nTable 57. Low-speed external user clock characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 120\nTable 58. Low-speed external user clock characteristics – Bypass mode . . . . . . . . . . . . . . . . . . . . 122\nTable 59. HSI16 oscillator characteristics. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 122\nTable 60. MSI oscilla tor characteristics\n . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .124\nTable 61. HSI48 oscillator characteristics. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 127\nTable 62. LSI1 oscillator characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . 128\nTable 63. LSI2 oscillator characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . 129\nTable 64. PLL, PLLSAI1 characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 129\nTable 65. Flash memory characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 130\nTable 66. Flash memory endurance and data retention . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 130\nTable 67. EMS characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 131\nTable 68. EMI characteristics for fHSE / fCPUM4, fC PUM0 = 32  MHz / 64 MHz, 32 MHz . . . . . . . 132\nTable 69. ESD absolute maximum ratings . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 13 2\nTable 70. Electrical sensitivity. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 133\nTable 71. I/O current injection susceptibility . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 133\nTable 72. I/O static characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . . 134\nTable 73. Output voltage characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . 136\nTable 74. I/O AC characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 136\nTable 75. NRST pin characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . 138\nTable 76. Analog switches booster characteristics. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 139\nTable 77. ADC characteristics   . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 140\nTable 78. ADC sampling time . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . 142\nTable 79. ADC accuracy - Limited test conditi ons 1 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 144\nTable 80. ADC accuracy - Limited test conditi ons 2 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 146\nTable 81. ADC accuracy - Limited test conditi ons 3 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 148\nTable 82. ADC accuracy - Limited test conditi ons 4 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 150\nTable 83. VREFBUF characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . 152\nTable 84. COMP characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 154\nTable 85. TS characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 155\nTable 86. VBAT monitoring characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 155\nTable 87. VBAT charging characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 155\nTable 88. LCD controller characteristics. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 156\nTable 89. TIMx characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . . 157\nTable 90. IWDG min/max timeout period at 32 kHz (LSI1). . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 158\nTable 91. Minimum I2CCLK frequency in a ll I2C modes  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 158\nTable 92. I2C analog filter characteristics. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . 159\nTable 93. SPI characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 160\nTable 94. Quad-SPI characteristics in SDR mode . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 163\nTable 95. Quad-SPI characteristics in DDR mode . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 164\nTable 96. SAI characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 166\nDS11929 Rev 14 9/196STM32WB55xx   STM32WB35xx List of tables\n9Table 97. USB electrical characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 168\nTable 98. JTAG characteristics. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 168\nTable 99. SWD characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . 169\nTable 100. UFBGA129 mechanical data  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 170\nTable 101. UFBGA129 recommended PCB design rules. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 172Table 102. WLCSP100 mechanical data . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 174\nTable 103. WLCSP100 - Recommended PCB design rules. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 175\nTable 104. VFQFPN68 mechanical data  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 177\nTable 105. UFQFPN48 mechanical data . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 181\nTable 106. Package thermal characteristics. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 183\nTable 107. Document revision history  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . 188\nList of figures STM32WB55xx   STM32WB35xx\n10/196 DS11929 Rev 14List of figures\nFigure 1. STM32WB55xx block diagram . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 1 6\nFigure 2. STM32WB35xx block diagram . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 1 7\nFigure 3. STM32WB55xx and STM32WB35xx RF front-end bl ock diagram . . . . . . . . . . . . . . . . . . . 23\nFigure 4. External components for the RF part . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 26\nFigure 5. Power distribution . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 27\nFigure 6. Power-up/down sequence  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . 28\nFigure 7. STM32WB55xx - Power supply overview. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 29\nFigure 8. STM32WB35xx - Power supply overview. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 30\nFigure 9. Clock tree . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . . . . . . 43\nFigure 10. STM32WB55Cx and STM32WB35Cx UFQFPN48 pinout(1) (2). . . . . . . . . . . . . . . . . . . . . . 58\nFigure 11. STM32WB55Rx VFQFPN68 pinout(1) (2)  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 58\nFigure 12. STM32WB55Vx WLCSP100 ballout(1). . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 59\nFigure 13. STM32WB55Vx UFBGA129 ballout(1) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 59\nFigure 14. Pin loading conditions. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . . . 81\nFigure 15. Pin input voltage . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 81\nFigure 16. Power supply scheme (all packages except  UFBGA129 and WLCSP100) . . . . . . . . . . . . 82\nFigure 17. Power supply scheme (UFBGA129 and WLCSP100  packages) . . . . . . . . . . . . . . . . . . . . 83\nFigure 18. Current consumption measurement scheme . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 84\nFigure 19. Typical link quality indicator co de vs. Rx level . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 94\nFigure 20. Typical energy detection (T = 27°C, VDD = 3.3 V) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 95\nFigure 21. VREFINT vs. temperature  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . 98\nFigure 22. Typical application with a 32.768 kHz crystal . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 121\nFigure 23. Low-speed external clock source AC timing diagra m. . . . . . . . . . . . . . . . . . . . . . . . . . . . 121\nFigure 24. HSI16 frequency vs. temperature . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 123\nFigure 25. Typical current consumption vs. MSI frequency . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 127Figure 26. HSI48 frequency vs. temperature . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 128\nFigure 27. I/O input characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . . 135\nFigure 28. Recommended NRST pin protection  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 138\nFigure 29. ADC accuracy characteristics. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . 151\nFigure 30. Typical connection diagram using the ADC . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 152Figure 31. SPI timing diagram - Slave mode and CPHA = 0 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 161Figure 32. SPI timing diagram - Slave mode and CPHA = 1 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 161Figure 33. SPI timing diagram - master mode . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 1 62\nFigure 34. Quad-SPI timing diagram - SDR mode. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 165\nFigure 35. Quad-SPI timing diagram - DDR mode  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 165\nFigure 36. SAI master timing waveforms . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 167\nFigure 37. SAI slave timing waveforms . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 167\nFigure 38. UFBGA129 package outline . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  170\nFigure 39. UFBGA129 recommended footprint .  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 171\nFigure 40. UFBGA129 marking example (package top view) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 172\nFigure 41. WLCSP100 outline . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . 173\nFigure 42. WLCSP100 recommended footprint . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 175Figure 43. WLCSP100 marking example (package top view) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 176\nFigure 44. VFQFPN68 package outline . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  177\nFigure 45. VFQFPN68 recommended footprint . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 178\nFigure 46. VFQFPN68 marking example (package top view) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 179\nFigure 47. UFQFPN48 outline . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . 180\nFigure 48. UFQFPN48 recommended footprint . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 181\nDS11929 Rev 14 11/196STM32WB55xx   STM32WB35xx List of figures\n11Figure 49. STM32WB55xx UFQFPN48 marking example (package top view) . . . . . . . . . . . . . . . . . 182\nFigure 50. STM32WB35xx UFQFPN48 marking example (package top view) . . . . . . . . . . . . . . . . . 182\nIntroduction STM32WB55xx   STM32WB35xx\n12/196 DS11929 Rev 141 Introduction\nThis document provides the ordering informatio n and mechanical device characteristics of \nthe STM32WB55xx and STM32WB35xx microcontrollers, based on Arm® cores(a).\nThis document must be read with the refere nce manual (RM0434), available from the \nSTMicroelectronics website www.st.com .\nFor information on the device errata with re spect to the datasheet and reference manual, \nrefer to the STM32WB55xx and STM32WB35xx errata sheet (ES0394), available from the STMicroelectronics website www.st.com .\nFor information on the Arm® Cortex®-M4 and Cortex®-M0+ cores, refer, respectively, to the \nCortex®-M4 Technical Reference Manual and to the Cortex®-M0+ Technical Reference \nManual, both available on the www.arm.com website.\nFor information on  802.15.4 refer to the IEEE websit e (www.ieee.org).\nFor information on Bluetooth® refer to www.bluetooth.com.\n          \na. Arm is a registered trademark of Arm Limited (o r its subsidiaries) in the US and/or elsewhere.\n\nDS11929 Rev 14 13/196STM32WB55xx   STM32WB35xx Description\n572 Description\nThe STM32WB55xx and STM32WB35xx multiprotocol wireless and ultra-low-power \ndevices embed a powerful and ultra-low-po wer radio compliant with the Bluetooth® Low \nEnergy SIG specification 5.3 and with IEEE 80 2.15.4-2011. They contain a dedicated Arm® \nCortex®-M0+ for performing all the real-time low layer operation.\nThe devices are designed to be extremely low-power and are based on the high-performance Arm\n® Cortex®-M4 32-bit RISC core operating at a frequency of up to 64  MHz. \nThis core features a Floating point unit (FPU ) single precision that supports all Arm® \nsingle-precision data-pro cessing instructions and data types. It also implements a full set of \nDSP instructions and a memory protection unit  (MPU) that enhances application security.\nEnhanced inter-processor communication is pr ovided by the IPCC with six bidirectional \nchannels. The HSEM provides hardware semaphores used to share common resources between the two processors.\nThe devices embed high-speed memories (up to 1  Mbyte of flash memory for \nSTM32WB55xx, up to 512 Kbytes for STM32WB35xx, up to 256  Kbytes of SRAM for \nSTM32WB55xx, 96 Kbytes for STM32WB35xx) , a Quad-SPI flash memory interface \n(available on all packages) and an extensive range of enhanced I/Os and peripherals.\nDirect data transfer between memory and peripherals and from memory to memory is supported by fourteen DMA channels with a fu ll flexible channel mapping by the DMAMUX \nperipheral.\nThe devices feature several mechanisms for embedded flash memory and SRAM: readout protection, write protection and proprietary co de readout protection. Portions of the memory \ncan be secured for Cortex\n® -M0+ exclusive access.\nThe two AES encryption engines , PKA, and RNG enable lower layer MAC and upper layer \ncryptography. A customer key storage feature may be used to keep the keys hidden.\nThe devices offer a fast 12-bit ADC and two ultra-low-power comparators associated with a \nhigh accuracy reference voltage generator.\nThese devices embed a low-power RTC, one ad vanced 16-bit timer, one general-purpose  \n32-bit timer, two general-purpose 16-bit timers, and two 16-bit low-power timers.\nIn addition, up to 18 capacitive sensing channels are available for STM32WB55xx (not on \nUFQFPN48 package). The STM32WB55xx also embed an integrated LCD driver up to 8x40 or 4x44, with internal step-up converter.\nThe STM32WB55xx and STM32WB35xx also feature standard and advanced communication interfaces, namely one USART (ISO 7816, IrDA, Modbus, and Smartcard mode), one low- power UART (LPUART), two I2Cs (SMBus/PMBus), two SPIs (one for STM32WB35xx) up to 32\n MHz, one serial audio interface (SAI) with two channels and three \nPDMs, one USB 2.0 FS device with embedded cr ystal-less oscillator, supporting BCD and \nLPM and one Quad-SPI with exec ute-in-place (XIP) capability.\nThe STM32WB55xx and STM32WB35xx operate in the -40 to +105  °C (+125  °C junction) \nand -40 to +85  °C (+105  °C junction) temperature ranges from a 1.71 to 3.6  V power supply. \nA comprehensive set of power-saving modes enables the design of low-power applications.\nThe devices include independent power supplies for analog input for ADC.\nDescription STM32WB55xx   STM32WB35xx\n14/196 DS11929 Rev 14The STM32WB55xx and STM32WB35xx integrate a high efficiency SMPS step-down \nconverter with automat ic bypass mode capability when the VDD falls below VBORx  (x = 1, 2, \n3, 4) voltage level (default is 2.0  V). It includes independent power supplies for analog input \nfor ADC and comparators, as well as a 3.3 V dedicated supply input for USB.\nA VBAT dedicated supply allows th e devices to back up the LSE 32.768 kHz oscillator, the \nRTC and the backup registers, thus enabling the STM32WB55xx and STM32WB35xx to supply these functions even if the main V\nDD is not present through a CR2032-like battery, a \nSupercap or a small rechargeable battery.\nThe STM32WB55xx offer four packages, from 48 to 129 pins. The STM32WB35xx offer one package, 48 pins.\n          Table 2. STM32WB55xx and STM32WB35xx devices features and peripheral counts \nFeature STM32WB55Cx STM32WB55Rx STM32WB55Vx STM32WB35Cx\nMemory \ndensity \n(bytes)Flash 256 K 512 K 1 M 256 K 512 K 1 M 256 K 512 K 1 M 640 K 256 K 512 K\nSRAM 128 K 256 K 256 K 128 K 256 K 256 K 128 K 256 K 256 K 96 K\nSRAM1 64 K 192 K 64 K 192 K 64 K 192 K 32 KB\nSRAM2 64 K\nBluetooth Low \nEnergy5.3 (2 Mbps)\n802.15.4 Yes\nTimersAdvanced 1 (16 bits)\nGeneral \npurpose2 (16 bits) + 1 (32 bits)\nLow power 2 (16 bits)\nSysTick 1Communication interfacesSPI 1 2 1I2C 2USART\n(1)1\nLPUART 1SAI 2 channelsUSB FS YesQSPI 1\nRTC 1\nTamper pin 1 3 1\nWakeup pin 2 5 2\nLCD, COMxSEG Yes, 4x13 Yes, 4x28 Yes, 8x40 or 4x44 NoGPIOs 30 49 72 30\nCapacitive sensing No 6 18 No\n12-bit ADC  \nNumber of channels13 channels\n(incl. 3 internal)19 channels\n(incl. 3 internal)13 channels\n(incl. 3 internal)\nInternal V\nref Yes\nDS11929 Rev 14 15/196STM32WB55xx   STM32WB35xx Description\n57Analog comparator 2\nMax CPU frequency 64 MHz\nOperating\ntemperatureAmbient -40 to +85 and -40 to +105 °C-40 to \n+85 \n°C-40 to +85 and -\n40 to +105 °C\nJunction -40 to +105 and -40 to +125 °C-40 to \n+105 \n°C-40 to +105 and \n-40 to +125 °C\nOperating voltage 1.71 to 3.6 V\nPackageUFQFPN48\n7 mm x 7 mm\n0.5 mm pitch, \nsolder padVFQFPN68\n8 mm x 8 mm\n0.4 mm pitch, \nsolder padWLCSP100\n0.4 mm pitchUFQFPN48\n7 mm x 7 mm\n0.5 mm pitch, \nsolder padUFBGA129\n0.5 mm pitch-\n1. USART peripheral can be used as SPI.Table 2. STM32WB55xx and STM32WB35xx devic es features and peripheral counts (continued)\nFeature STM32WB55Cx STM32WB55Rx STM32WB55Vx STM32WB35Cx\nDescription STM32WB55xx   STM32WB35xx\n16/196 DS11929 Rev 14Figure 1. STM32WB55xx block diagram\nMS41407V6DMA1 7 channelsNVIC ETM\nTIM2PWR\nTIM1GPIO Ports\nA, B, C, D, E, HEXTI\nUp to 192 KB \nSRAM1RTC2\nI-WDGLSE\n32 kHzHSE2\n32 MHz\nMSI up to\n48 MHzHSI 1%\n16 MHzPLL1\nand\nPLL2\nPower supply POR/\nPDR/BOR/PVD/AVD\nADC1 16-bit ULP\n4.26 Msps / 19 chNVICJTAG/SWD\nAHB Lite\nIPCCArbiter + ARTUp to 1 MB \nFlash\nShared memoryBLE IP\nRNGLSI1\n32 kHzBLE / 802.15.4\n RF IP\nLPTIM2LPTIM1AES2\nDBGAHB Lite (Shared)WKUP \nBLEAHB\nasynchronous\nCRCRCC + CSS\nSYSCFG/COMP/VREFAPB asynchronous\nRCC2\nTSCHSEM\nWWDG\nSPI2\nI2C3\nLPUART1SPI1\nI2C1\nUSART1CRS RC48\nUSB FS + RAMPKA + RAMLSI2\n32 kHz\nTIM16, TIM17MPUCortex-M0+802.15.4\nQSPI - XIP32 KB SRAM2a \nBackup\nSAI1Cortex-M4 \n(DSP)32 KB SRAM2b\nAES1LCDFPUCTI CTI\nTAMP\nDMA2 7 channels\nDMAMUX\nAHB Lite\nTemp (oC) sensor\nAPB\nDS11929 Rev 14 17/196STM32WB55xx   STM32WB35xx Description\n57Figure 2. STM32WB35xx block diagram\nMS53592V1DMA1 7 channelsNVIC\nTIM2PWR\nTIM1GPIO Ports\nA, B, C, E, HEXTI\n32 KB SRAM1RTC2\nI-WDGLSE\n32 kHzHSE2\n32 MHz\nMSI up to\n48 MHzHSI 1%\n16 MHzPLL1\nAnd \nPLL2\nPower supply POR/\nPDR/BOR/PVD/AVD\nADC1 16-bit ULP\n4.26 Msps / 19 chNVICJTAG/SWD\nAHB Lite\nIPCCArbiter + ARTUp to 512 KB \nFlash\nShared memoryBLE IP\nRNGLSI1\n32 kHzBLE / 802.15.4\n RF IP\nLPTIM2LPTIM1AES2\nDBGAHB Lite (Shared)WKUP \nBLEAHB\nasynchronous\nCRCRCC + CSS\nSYSCFG/COMPAPB asynchronous\nRCC2\nHSEM\nWWDG\nI2C3\nLPUART1SPI1\nI2C1\nUSART1CRS RC48\nUSB FS + RAMPKA + RAMLSI2\n32 kHz\nTIM16, TIM17MPUCortex-M0+802.15.4\nQSPI - XIP32 KB SRAM2a \nBackup\nSAI1Cortex-M4 \n(DSP)32 KB SRAM2b\nAES1FPUCTI CTI\nTAMP\nDMA2 7 channels\nDMAMUX\nAHB Lite\nTemp (oC) sensor\nAPB\nFunctional overview STM32WB55xx   STM32WB35xx\n18/196 DS11929 Rev 143 Functional overview\n3.1 Architecture\nThe STM32WB55xx and STM32WB35xx multiprotocol wireless devices embed a Bluetooth \nLow Energy and an 802.15.4 RF subsystem that interfaces with a generic microcontroller subsystem using an Arm\n® Cortex®-M4 CPU (called CPU1) on which the host application \nresides.\nThe RF subsystem is composed of an RF analog front end, Bluetooth Low Energy and \n802.15.4 digital MAC blocks as well as of a dedicated Arm® Cortex®-M0+ microcontroller \n(called CPU2), plus proprietary peripherals. Th e RF subsystem performs  all of the Bluetooth \nLow Energy and 802.15.4 low layer stack, reducing the interaction with the CPU1 to high level exchanges.\nSome functions are shared between the RF  subsystem CPU (CPU2) and the Host CPU \n(CPU1):\n• Flash memories\n• SRAM1, SRAM2a, and SRAM2b (SRAM2a can be retained in Standby mode)\n• Security peripherals (RNG, AES1, PKA)\n• Clock RCC\n• Power control (PWR)\nThe communication and the sharing of peripherals between the RF subsystem and the \nCortex®-M4 CPU is performed through a dedicated inter processor communication \ncontroller (IPCC) and semaphore mechanism (HSEM).\n3.2 Arm® Cortex®-M4 core with FPU\nThe Arm® Cortex®-M4 with FPU is a processor for embedded systems. It has been \ndeveloped to provide a low-cost platform that  meets the needs of MCU implementation, with \na reduced pin count and low-power consumption, while delivering outstanding computational performance and an advanced response to interrupts.\nThe Arm® Cortex®-M4 with FPU 32-bit RISC processor features exceptional  \ncode-efficiency, delivering the high-performance expected from an Arm® core in the \nmemory size usually associated with 8- and 16-bit devices.\nThe processor supports a set of  DSP instructions enabling efficient signal processing and \ncomplex algorithm execution.\nIts single precision FPU speeds up software development by using metalanguage development tools, while avoiding saturation.\nWith its embedded Arm® core, the STM32WB55xx and STM32WB35xx are compatible with \nall Arm® tools and software.\nFigure  1 and Figure  2 show the general block diagram of, respectively, the STM32WB55xx \nand STM32WB35xx devices.\nDS11929 Rev 14 19/196STM32WB55xx   STM32WB35xx Functional overview\n573.3 Memories\n3.3.1 Adaptive real-time memory accelerator (ART Accelerator)\nThe ART Accelerator is a memory accelerator optimized for STM32 industry-standard Arm® \nCortex®-M4 processors. It balances the inherent performance advantage of the Arm® \nCortex®-M4 over flash memory technologies, which normally require the processor to wait \nfor the flash memory at higher frequencies.\nTo release the processor near 80 DMIPS performance at 64 MHz, the accelerator implements an instruction prefetch queue and branch cache, which increases program \nexecution speed from the 64-bit flash memory. Based on CoreMark benchmark, the performance achieved thanks to the ART accele rator is equivalent to 0 wait state program \nexecution from flash memory at a CPU frequency up to 64 MHz.\n3.3.2 Memory protection unit\nThe memory protection unit (MPU) is used to manage the CPU1 accesses to memory to prevent one task to accidentally corrupt the me mory or resources used by any other active \ntask. This memory area is organized into up to eight protected areas, which can be divided up into eight subareas. The protection area sizes are between 32 bytes and the whole 4\n Gbytes of addressable memory.\nThe MPU is especially helpful fo r applications where some critical or certified code must be \nprotected against the misbehavior of other tasks. It is usually managed by an RTOS  \n(real-time operating system). If a program accesses a memory location prohibited by the \nMPU, the RTOS detects it and acts. In an RTOS environment, the kernel can dynamically \nupdate the MPU area setting, based on the process to be executed.\nThe MPU is optional and can be bypasse d for applications that do not need it.\n3.3.3 Embedded flash memory\nThe STM32WB55xx and STM32WB35xx devices f eature, respectively, up to 1 Mbyte and \n512 Kbytes of embedded flash memory available fo r storing programs and data, as well as \nsome customer keys.\nFlexible protections can be configured thanks to option bytes:\n• Readout protection (RDP) to protect the wh ole memory. Three levels are available:\n– Level 0: no readout protection– Level 1: memory readout protection: th e flash memory cannot be read from or \nwritten to if either debug features are co nnected, boot in SRAM or bootloader is \nselected\n– Level 2: chip readout protec tion: debug features (Cortex\n®-M4 and Cortex®-M0+ \nJTAG and serial wire), boot in SRAM a nd bootloader selection are disabled (JTAG \nfuse). This selecti on is irreversible.\nFunctional overview STM32WB55xx   STM32WB35xx\n20/196 DS11929 Rev 14          \n• Write protection (WRP): the protected ar ea is protected against erasing and \nprogramming. Two areas can be selected, with 4-Kbyte granularity.\n• Proprietary code readout protection (PCROP): two parts of the flash memory can be \nprotected against read and write from third parties. The protected ar ea is execute-only: \nit can only be reached by the STM32 CPU, as an instruction co de, while all other \naccesses (DMA, debug and CPU data read, wr ite and erase) are strictly prohibited. \nTwo areas can be selected, with 2-Kbyte granularity. An additional option bit (PCROP_RDP) makes possible to select if th e PCROP area is erased or not when the \nRDP protection is changed from Level 1 to Level 0.\nA section of the flash memory is secured for the RF subsystem CPU2, and cannot be \naccessed by the host CPU1.\nThe whole nonvolatile memory embeds the erro r correction code (ECC) feature supporting:\n• single error detection and correction\n• double error detection\n• the address of the ECC fail can be read in the ECC register\nThe embedded flash memory is shared between CPU1 and CPU2 on a time sharing basis. \nA dedicated HW mechanism allows both CPUs to perform Write/Erase operations.Table 3. Access status vs. readout protection level and execution modes \nAreaProtection \nlevelUser executionDebug, boot from SRAM or boot \nfrom system memory (loader)\nRead Write Erase Read Write Erase\nMain \nmemory1 Yes Yes Yes No No No\n2 Yes Yes Yes N/A N/A N/A\nSystem \nmemory1 Yes No No Yes No No\n2 Yes No No N/A N/A N/A\nOption \nbytes1 Yes Yes Yes Yes Yes Yes\n2Y e s N o(1)\n1. The option byte can be modified by the RF subsystem.No(1)N/A N/A N/A\nBackup \nregisters1Y e s Y e s N / A(2)\n2. Erased when RDP changes from Level 1 to Level 0.No No N/A(2)\n2 Yes Yes N/A N/A N/A N/A\nSRAM2a \nSRAM2b1 Yes Yes Yes(2)No No No(2)\n2 Yes Yes Yes N/A N/A N/A\nDS11929 Rev 14 21/196STM32WB55xx   STM32WB35xx Functional overview\n573.3.4 Embedded SRAM\nThe STM32WB55xx devices feature up to 256  Kbytes of embedded SRAM, split in three \nblocks:\n• SRAM1 : up to 192 Kbytes mapped at address 0x2000 0000\n• SRAM2a : 32 Kbytes located at address 0x2003 0000 also mirrored at 0x1000 0000, \nwith hardware parity check (this SRAM can be retained in Standby mode)\n• SRAM2b : 32 Kbytes located at address 0x 2003 8000 (contiguous with SRAM2a) and \nmirrored at 0x1000 8000 with hardware parity check\nThe STM32WB35xx devices feature 96  Kbytes of embedded SRAM , split in three blocks:\n• SRAM1 : 32 Kbytes mapped at address 0x2000 0000\n• SRAM2a : 32 Kbytes located at address 0x2003 0000 also mirrored at 0x1000 0000, \nwith hardware parity check (this SRAM can be retained in Standby mode)\n• SRAM2b : 32 Kbytes located at address 0x20 03 8000 (contiguous with SRAM2a) and \nmirrored at 0x1000 8000 with hardware parity check\nSRAM2a and SRAM2b can be write-protected, with 1-Kbyte granularity. A section of the \nSRAM2a and SRAM2b is secured for the RF  sub-system and cannot be accessed by the \nhost CPU1.\nThe SRAMs can be accessed in read/write with 0 wait states for all CPU1 and CPU2 clock \nspeeds.\n3.4 Security and safety\nThe STM32WB55xx and STM32WB35xx contain many security blocks both for the Bluetooth Low Energy or IEEE 802.15.4 and the Host application.\nIt includes:\n• Customer storage of the Bluetoo th Low Energy and 802.15.4 keys\n• Secure flash memory partiti on for RF subsystem-only access\n• Secure SRAM partition, that can be accessed only by the RF subsystem\n• True random number generator (RNG)\n• Advance encryption standard hardware accelerators (AES-128bit and AES-256bit, \nsupporting chaining modes ECB,  CBC, CTR, GCM, GMAC, CCM)\n• Private key accelerati on (PKA) including:\n– Modular arithmetic including exponentiat ion with maximum modulo size of 3136 \nbits\n– Elliptic curves over prime field scalar multiplication, ECDS A signature, ECDSA \nverification with maximum modulo size of 521 bits\n• Cyclic redundancy check calculation unit (CRC)\nA specific mechanism is in place to ensure th at all the code executed by the RF subsystem \nCPU2 can be secure, whatever the Host application. For t he AES1 a customer key can be \nmanaged by the CPU2 and used by the CPU1 to encrypt/decrypt data.\nFunctional overview STM32WB55xx   STM32WB35xx\n22/196 DS11929 Rev 143.5 Boot modes and FW update\nAt startup, BOOT0 pin and BOOT 1 option bit are used to select one of three boot options:\n• Boot from user flash\n• Boot from system memory\n• Boot from embedded SRAM\nThe devices always boot on CPU1 core. The embedded bootloader code makes it possible \nto boot from various peripherals:\n• USB\n• UART\n• I2C\n• SPI\nSecure Firmware update (especially Bluetooth Low Energy and 802.15.4) from system boot \nand over the air is provided.\n3.6 RF subsystem\nThe STM32WB55xx and STM32WB35xx embed an ultra-low power multi-standard radio Bluetooth Low Energy and 802.15.4 netw ork processor, compliant with Bluetooth \nspecification 5.3 and IEEE\n® 802.15.4-2011. The Bluetoot h Low Energy features 1  Mbps and \n2 Mbps transfer rates, supports multiple roles simultaneously acting at the same time as \nBluetooth Low Energy sensor and hub device, embeds Ellipti c Curve Diffie-Hellman (ECDH) \nkey agreement protocol, thus ensuring a secure connection.\nThe Bluetooth Low Energy stack and 802.15.4 Low Level layer run on an embedded Arm® \nCortex®-M0+ core (CPU2). The stack is stored on the embedded flash memory, which is \nalso shared with the Arm® Cortex®-M4 (CPU1) application, making it possible in-field stack \nupdate.\n3.6.1 RF front-end block diagram\nThe RF front-end is based on a direct modulation of the carrier in Tx, and uses a low IF architecture in Rx mode.\nThanks to an internal transformer at RF pins , the circuit directly interfaces the antenna \n(single ended connection, impedance close to 50 Ω). The natural bandpass behavior of the \ninternal transformer, simplifies outside circuitry aimed for harmonic filtering and out of band \ninterferer rejection.\nIn Transmit mode, the maximum output power is user selectable through the programmable \nLDO voltage of the power amplifier. A linear ized, smoothed analog control offers clean \npower ramp-up.\nIn receive mode the circuit can be used in st andard high performance or in reduced power \nconsumption (user programmable). The Automatic gain control (AGC) is able to reduce the chain gain at both RF and IF locations, for optimized interfer ence rejection. Thanks to the \nuse of complex filtering and highly accurate I/Q architecture, high sensitivity and excellent linearity can be achieved.\nThe bill of material is reduce d thanks to the high degree of in tegration. The radio frequency \nsource is synthesized form an external 32 MH z crystal that does not need any external \nDS11929 Rev 14 23/196STM32WB55xx   STM32WB35xx Functional overview\n57trimming capacitor network thanks to a dua l network of user programmable integrated \ncapacitors.\nFigure 3. STM32WB55xx and STM32WB35xx RF front-end block diagram\n3.6.2 Bluetooth Low Ener gy general description\nThe Bluetooth Low Energy block is a master/slave processor, compliant with Bluetooth \nspecification 5.3 standard (2  Mbps).MS45477V7Notes: \n- UFQFPN48 and VFQFPN68: V SS through exposed pad, and V SSRF pin must be connected to ground plane\n- WLCSP100 and UFBGA129: V SSRF pins must be connected to ground plane\nPABP \nfilter\nADCADC\nPLL\nModulatorRF1\nAdjust\n32 MHzOSC_OUT OSC_INPA ramp \ngenerator\nAGC control\nBLE \nmodulator\nBLE \ndemodulatorBLE \ncontroller\n802.15.4 \nMAC802.15.4 \nmodulator\n802.15.4 \ndemodulatorRF controlAGCTimer and Power \ncontrol\nLDO LDO LDO\nVFBSMPSTrimmed \nbias\nVDDRFMax PA \nlevelSMPS\nVLXSMPS VDDSMPS VSSSMPSAdjust\nHSEG\nGLNAWakeupInterrupt\nWakeupInterruptAHB\nAPB\nAPB\nSee \nnotesRF_TX_MOD_EXT_PA\nFunctional overview STM32WB55xx   STM32WB35xx\n24/196 DS11929 Rev 14It integrates a 2.4 GHz RF transceiver and a powerful Cortex®-M0+ core, on which a \ncomplete power-optimized stack for Bluetooth Low Energy protocol runs, providing master\n / slave role support\n• GAP: central, peripheral, observer or broadcaster roles\n• ATT/GATT: client and server\n• SM: privacy, authentication and authorization\n• L2CAP\n• Link layer: AES-128 encryption and decryption\nIn addition, according to Bluetooth specification 5.3, the Bluetooth Low Energy block \nprovides:\n• Multiple roles simu ltaneous support\n• Master/slave and multip le roles simultaneously\n• LE data packet length extension (making it possible to reach 800 kbps at application \nlevel)\n• LE privacy 1.2\n• LE secure connections\n• Flexible Internet connectivity options\n• High data rate (2 Mbps)\nThe devices support Piconet topology (master wit h up to eight slaves), Scatternet topology \n(master with up to six slaves and dynamically as slave with up to two masters, or master \nwith up to four slaves and dynamically as sl ave with up to four masters), and multi slave \ntopology (slave with up to eight masters).\nThe device allows the applications to meet the tight peak current requirements imposed by the use of standard coin cell batteries. When the high efficiency embedded SMPS \n \nstep-down converter is used, the RF front end consumption (Itmax) is only 7.8  mA at the \nhighest output power (+6 dBm).\nThe power efficiency of the subsystem is opti mized: while running with the radio and the \napplicative cores simultaneous ly using the SMPS, the Cortex®-M4 core consumption \nreaches 53  µA / MHz in active mode.\nUltra-low-power sleep modes and very short transition time between operating modes result in very low average current consumption during re al operating conditions, resulting in longer \nbattery life.\nThe Bluetooth Low Energy block integrates a full bandpass balun, thus reducing the need for external components.\nThe link between the Cortex®-M4 application processor (CPU1) running the application, and \nthe Bluetooth Low Energy stack running on the dedicated Cortex®-M0+ (CPU2) is \nperformed through a normalized API, using a dedicated IPCC.\nDS11929 Rev 14 25/196STM32WB55xx   STM32WB35xx Functional overview\n573.6.3 802.15.4 gene ral description\nThe STM32WB55xx and STM32WB35xx embed a dedicated 802.15.4 hardware MAC:\n• Support for 802.15.4 release 2011\n• Advanced MAC frame filtering; hardwired firewall: Programmable filters based on \nsource/destination addresses, frame version, security enabled, frame type\n• 256-byte RX FIFO; Up to 8 frames capacity, additional frame information (timing, mean \nRSSI, LQI)\n• 128-byte TX FIFO  with retention\n– Content not lost, retransmissi ons possible under CPU2 control\n• Automatic frame acknowledgment, with programmable delay\n• Advanced channel  access features\n– Full CSMA-CA support– Superframe timer– Beaconing support (require LSE)– Flexible TX control with programmable delay\n• Configuration registers with retention available down to Standby mode for \nsoftware/auto-restore\n• Autonomous sniffer, wake-up based on timer or CPU2 request\n• Automatic frame transmission /reception/sleep periods, Interrupt to the CPU2 on \nparticular events\n3.6.4 RF pin description\nThe RF block contains dedicated pins, listed in Table  4.\n          :\n3.6.5 Typical RF a pplication schematic\nThe schematic in Figure  4 and the external components listed in Table  4 are purely \nindicative. For more details refer to the “Reference design” provided in separate documents.Table 4. RF pin list \nName Type Description\nRF1\nI/ORF Input/output, must be connected to the antenna through a low-pass matching network\nOSC_OUT\n32 MHz main oscillator, also used as HSE source\nOSC_IN\nRF_TX_\nMOD_EXT_PAExternal PA transmit control\nVDDRF VDD Dedicated supply, must be connected to VDD\nVSSRF(1)VSSTo be connected to GND\n1. On packages with exposed pad, this pad must be connected to GND plane for correct RF operation.\nFunctional overview STM32WB55xx   STM32WB35xx\n26/196 DS11929 Rev 14Figure 4. External co mponents for the RF part\n          \nNote: For more details refer to AN5165 “Development of RF hardware using STM32WB \nmicrocontrollers” available on www.st.com .\n3.7 Power supply management\n3.7.1 Power supply distribution\nThe device integrate an SMPS step-down converter to improve low power performance \nwhen the VDD voltage is high enough. This conv erter has an inte lligent mode that \nautomatically enters in bypass mode when the VDD voltage falls belo w a specific BORx  \n(x = 1, 2, 3 or 4) voltage.\nBy default, at reset, the SMPS is in bypass mode.\nThe device can be operated without the SMPS by just wiring its output to VDD. This is the \ncase for applications where the voltage is low, or where the power consumption is not \ncritical.Table 5. Typical external components \nComponent Description Value\nC1 Decoupling capacitance for RF 100 nF // 100 pF\nX1 32 MHz crystal(1)\n1. e.g. NDK reference: NX2016SA 32 MHz EXS00A-CS06654.32 MHz\nAntenna filter Antenna filter and ma tching network Refer to AN5165, on www.st.com\nAntenna 2.4 GHz band antenna -MS53575V1STM32WB\nmicrocontrollerVDDOSC_IN\nOSC_OUT\nVDDRF\nVSSRF\nRF1Antenna\nCf1 Cf2Lf1\nLf2X1\nC1\nAntenna filter(including exposed pad)32 MHz\nDS11929 Rev 14 27/196STM32WB55xx   STM32WB35xx Functional overview\n57Figure 5. Power distribution\n          \nThe SMPS can also be switched on or set in bypass mode at any time by the application \nsoftware, for example when very accurate ADC measurement are needed.\n3.7.2 Power supply schemes\nThe devices have different voltage supplies (see Figure  7 and Figure  8) and can operate \nwithin the following voltage ranges:\n• VDD = 1.71 to 3.6 V: external power supply for I/Os (VDDIO), the internal regulator and \nsystem functions such as RF, SMPS, reset,  power management and internal clocks. It \nis provided externally through VDD pins. VDDRF and VDDSMPS must be always \nconnected to VDD pins.\n• VDDA = 1.62 (ADC/COMPs) to 3.6 V: external analog power supply for ADC, \ncomparators and voltage reference buffer. The VDDA voltage level can be independent \nfrom the VDD voltage. When not used VDDA must be connected to VDD.\n• VDDUSB  = 3.0 to 3.6 V: external independent power supply for USB transceivers. When \nnot used VDDUSB  must be connected to VDD or ground.\n• VLCD = 2.5 to 3.6 V: the LCD controller can be powered either externally through the \nVLCD pin, or internally from an internal voltage generated by the embedded step-up converter. This converter can generate a V\nLCD voltage up to 3.6 V if VDD is higher than \n2.0 V. Note that the LCD is available only on STM32WB55xx devices.MS41409V4MRLPR\nRFRSMPS\n(not used)\nMRLPR\nRFRVDD\nL1\nC2\nSMPS configuration LDO configurationVDD\nVDDSMPS\nVLXSMPS\nVFBSMPSSMPS\nSMPS mode or\nBYPASS modeVDDSMPS\nVLXSMPS\nVFBSMPS\nTable 6. Power supply typical components \nComponent Description Value\nC2 SMPS output capacitor(1)\n1. Such as GRM155R60J475KE19.4.7 µF\nL1(2)\n2. To improve the receiver performance an extra 10 nH inductor (e.g Murata LQG 15WZ10NJ02D) in series \nwith L1 is needed.SMPS inductanceFor 8 MHz(3)\n3. Such as Wurth 74479774222.2.2 µH\nFor 4 MHz(4)\n4. Such as Murata LQM21FN100M70L.10 µH\nFunctional overview STM32WB55xx   STM32WB35xx\n28/196 DS11929 Rev 14During power up/down, the following power sequence requirements must be respected:\n• When VDD is below 1 V the ot her power supplies (VDDA, VDDUSB , VLCD), must remain \nbelow VDD + 300 mV\n• When VDD is above 1 V all power supplies are independent.\nFigure 6. Power-up/down sequence\n1. VDDX refers to any power supply among VDDA, VDDUSB  and VLCD.\nDuring the power down phase, VDD can temporarily become lower than other supplies only \nif the energy provided to the MCU remains below 1 mJ. This allows the external decoupling \ncapacitors to be discharged with different time constants during the power down transient \nphase.\nNote: VDD, VDDRF  and VDDSMPS  must be wired together, so they can follow the same voltage \nsequence.MSv47490V1\n0.31VBOR03.6\nOperating mode Power-on Power-down timeV\nVDDX(1)\nVDD\nInvalid supply area V DDX< V DD+ 300 mV VDDXindependent from V DD\nDS11929 Rev 14 29/196STM32WB55xx   STM32WB35xx Functional overview\n57Figure 7. STM32WB55xx - Power supply overview\n1. The USB transceiver is powered by VDDUSB , and the GPIOs associated with USB are powered by VDDUSB  \nwhen USB alternate function (PA11 and PA12) is sele cted. When USB alternate function is not selected \nthe GPIOs associated with USB are powered as standard GPIOs.MS41410V8VBAT  \nIOsWakeup domain (V DDIO)\nAnalog domainInterruptible domain (V DD12I)\nSwitch domain (V SW)(CPU1, CPU2, \nperipherals, \nSRAM1, \nSRAM2b)Level shifter\nPower switch\nVBAT\nADCVDDA\nVREF+\nVREF-\nVSSAVDDHSI, HSE, \n2xPLL,\n LSI1, LSI2, \nIWDG, RFIOs\nVSS\nREF_BUFVSSIO\nlogic\nVREF+VSW\nLSE, RTC,  \nbackup \nregistersIO\nlogicBackup domainSMPS\nPower switch\nVSSVBKP12SRAM2aPower \nswitch\nVSSOn domain (V DD12O)\nPower \nswitch\nVSSSysConfig, AIEC, \nRCC, PwrCtrl, \nLPTIM, LPUSART\n==\nVUSB  \nIOs\nUSB domain (V USB)VSS\nVSSUSB \ntransceiver(1)VDDUSBLCD VLCDLPRMR\nRFRVLXSMPSVFBSMPS\nVDDSMPS\nRF domain\nRadioVDDRF\nVSSRF\n(including \nexposed pad)VSSVSSSMPSVSS\nVSS\nFunctional overview STM32WB55xx   STM32WB35xx\n30/196 DS11929 Rev 14Figure 8. STM32WB35xx - Power supply overview\n1. The USB transceiver is powered by VDDUSB , and the GPIOs associated with USB are powered by VDDUSB  \nwhen USB alternate function (PA11 and PA12) is sele cted. When USB alternate function is not selected \nthe GPIOs associated with USB are powered as standard GPIOs.MS53593V1VBAT  \nIOsWakeup domain (V DDIO)\nAnalog domainInterruptible domain (V DD12I)\nSwitch domain (V SW)(CPU1, CPU2, \nperipherals, \nSRAM1, \nSRAM2b)Level shifter\nPower switch\nVBAT\nADCVDDA\nVREF-VDDHSI, HSE1, \n2xPLL,\n LSI1, LSI2, \nIWDG, RFIOs\nVSS\nVSSIO\nlogic\nVREF+VSW\nLSE, RTC,  \nbackup \nregistersIO\nlogicBackup domainSMPS\nPower switch\nVSSVBKP12SRAM2aPower \nswitch\nVSSOn domain (V DD12O)\nPower \nswitch\nVSSSysConfig, AIEC, \nRCC, PwrCtrl, \nLPTIM, LPUSART\n==\nVUSB  \nIOs\nUSB domain (V USB)VSS\nVSSUSB \ntransceiver(1)VDDUSBLPRMR\nRFRVLXSMPSVFBSMPS\nVDDSMPS\nRF domain\nRadioVDDRF\nVSSRF\n(including exposed pad)VSSVSSSMPSVSS\nVSS\nVSS\nDS11929 Rev 14 31/196STM32WB55xx   STM32WB35xx Functional overview\n573.7.3 Linear voltage regulator\nThree embedded linear voltage regulators supply most of the digital and RF circuitries, the \nmain regulator (MR), the low-power regulator (LPR) and the RF regulator (RFR).\n• The MR is used in the Run and Sleep modes and in the Stop 0 mode.\n• The LPR is used in Low-Power Run, Low-Pow er Sleep, Stop 1 and Stop 2 modes. It is \nalso used to supply the SRAM2a in Standby with retention.\n• The RFR is used to supply the RF analog par t, its activity is automatically managed by \nthe RF subsystem.\nAll the regulators are in power-down in Standby and Shutdown modes: the regulator output is in high impedance, and the kernel circuitr y is powered down, inducing zero consumption.\nThe ultralow-power STM32WB55xx and STM32WB35xx support dynamic voltage scaling to \noptimize its power consumption in run mode. The voltage from the main regulator that \nsupplies the logic (VCORE) can be adjusted according to the system’s maximum operating frequency. \nThere are two voltage and frequency ranges:\n• Range 1, with the CPU running up to 64 MHz\n• Range 2, with a maximum CPU frequency of 16 MHz (note that HSE can be active in \nthis mode). All peripheral clocks are also limited to 16 MHz.\nVCORE can also be supplied by the low-power r egulator, the main regu lator being switched \noff. The system is then in Low-power run mode. In this case the CPU is running at up to 2\n MHz, and peripherals with independent clock can be clocked by HSI16 (in this mode the \nRF subsystem is not available).\n3.7.4 Power supply supervisor\nAn integrated ultra-low-power brown-out rese t (BOR) is active in all modes except \nShutdown ensuring proper operation after power-on and during power down. The devices remain in reset mode when the monitored supply voltage V\nDD is below a specified \nthreshold, without the need fo r an external reset circuit.\nThe lowest BOR level is 1.71 V at power on, and other higher thresholds can be selected \nthrough option bytes.The device features an  embedded programmable voltage detector \n(PVD) that monitors the VDD power supply and compares it with the VPVD threshold. An \ninterrupt can be generated when VDD drops below the VPVD threshold and/or when VDD is \nhigher than the VPVD threshold. The interrupt service routine can then generate a warning \nmessage and/or put the MCU into a safe state. The PVD is enabled by software.\nIn addition, the devices embed a peripheral voltage monitor (PVM) that compares the \nindependent supply voltage VDDA with a fixed threshold to ensure that the peripheral is in its \nfunctional supply range.\nAny BOR level can also be used to automatica lly switch the SMPS step-down converter in \nbypass mode when the VDD voltage drops below a given voltage level. The mode of \noperation is selectable by register bit, the BOR level is selectable by option byte.\n3.7.5 Low-power modes\nThese ultra-low-power devices support several low-power modes to achieve the best \ncompromise between low-power consumption, sh ort startup time, available peripherals and \navailable wake-up sources.\nFunctional overview STM32WB55xx   STM32WB35xx\n32/196 DS11929 Rev 14By default, the microcontroller is in Run mode, Range 1, after a system or a power on reset. \nIt is up to the user to select one of the low-power modes described below:\n• Sleep\nIn Sleep mode, only the CPU1 is stopped. A ll peripherals, including the RF subsystem, \ncontinue to operate and can wake up the CPU when an interrupt/event occurs.\n• Low-power run\nThis mode is achieved with VCORE supplied by the low-power regu lator to minimize \nthe regulator operating current. The code can be executed from SRAM or from the flash memory, and the CPU1 frequency is lim ited to 2 MHz. The peripherals with \nindependent clock can be clocke d by HSI16. The RF subsystem  is not available in this \nmode and must be OFF.\n• Low-power sleep\nThis mode is entered from the low-power run mode. Only the CPU1 clock is stopped. \nWhen wake-up is triggered by  an event or an interrup t, the system reverts to the  \nlow-power run mode. The RF subsystem is not available in this mode and must be OFF.\n• Stop 0, Stop 1 and Stop 2\nStop modes achieve the lowest power consumption while retaining the content of all \nthe SRAM and registers. The LSE (or LSI) is still running.\nThe RTC can remain active (Stop mode with RTC, Stop mode without RTC).Some peripherals with wake-up capability ca n enable the HSI16 RC during Stop modes \nto detect their wake-up condition.\nThree modes are available: Stop 0, Stop 1 and Stop 2. In Stop 2 mode, most of the \nVCORE domain is put in  a lower leakage mode.\nStop 1 offers the largest number of active peripherals and wake-up sources, a smaller \nwake-up time but a higher consumption than Stop 2. In Stop 0 mode the main regulator remains ON, allowing a very fast wake -up time but with higher consumption.\nIn these modes the RF subsystem can wait for incoming events in all Stop modes.The system clock when exiting from Stop 0, Stop1 or Stop2 modes can be either MSI \nup to 48 MHz or HSI16 if the RF subsyste m is disabled. If the RF subsystem or the \nSMPS is used the exits must be set to HS I16 only. If used, the SMPS is restarted \nautomatically.\n• Standby\nThe Standby mode is used to achieve the lo west power consumpt ion with BOR. The \ninternal regulator is swit ched off so that the VCOR E domain is powered off.\nThe RTC can remain active (Standby mode with RTC).The brown-out reset (BOR) always remains active in Standby mode.The state of each I/O during standby mo de can be selected by software: I/O with \ninternal pull-up, internal pull-down or floating.\nAfter entering Standby mode, SRAM1, SRAM2b  and register contents are lost except \nfor registers in the Backup domain and Standby circuitry. Optionally, SRAM2a can be retained in Standby mode, supplied by the low-power regulator (Standby with 32 KB SRAM2a retention mode).\nThe device exits Standby mode when an ex ternal reset (NRST pin), an IWDG reset, \nWKUP pin event (configurable rising or fallin g edge), or an RTC event occurs (alarm, \nperiodic wake-up, timestamp, tamper) or a failure is detected on LSE (CSS on LSE, or from the RF sys tem wake-up).\nDS11929 Rev 14 33/196STM32WB55xx   STM32WB35xx Functional overview\n57The system clock after wake-up is 16 MHz,  derived from the HSI16. If used, the SMPS \nis restarted automatically. In this mode the RF can be used.\n• Shutdown\nThis mode achieves the lowest power consumpt ion. The internal re gulator is switched \noff so that the VCORE domain is powered off.\nThe RTC can remain active (Shutdown mode with RTC, Shutdown mode without RTC).The BOR is not available in Shutdown mode. No power voltage monitoring is possible \nin this mode, therefore the switch to Backup domain is not supported.\nSRAM1, SRAM2a, SRAM2b and register conten ts are lost except for registers in the \nBackup domain.\nThe device exits Shutdown mode when an ex ternal reset (NRST pin), a WKUP pin \nevent (configurable rising or  falling edge), or an RTC ev ent occurs (alarm, periodic \nwake-up, timestamp, tamper).\nThe system clock after wake-up is  4 MHz, derived from the MSI.\nIn this mode the RF is no longer operational.\nWhen the RF subsystem is acti ve, it changes the power state according to its needs (Run, \nStop, Standby). This operation is transparent for the CPU1 ho st application and managed by \na dedicated HW state machine. At any given ti me the effective power state reached is the \nhigher one needed by both the CPU1 and RF sub-system.\nTable  7 summarizes the peripheral features over all available modes. Wake-up capability is \ndetailed in gray cells.\n          Table 7. Features over all modes(1) \nPeripheral(2)\nRun Range 1\nRun Range 2\nSleep\nLow-power run\nLow-power sleepStop0/Stop1 Stop 2 Standby Shutdown\nVBAT -\nWakeup capability-\nWakeup capability-\nWakeup capability-\nWakeup capability\nCPU1 Y - Y - - -- -- -- --\nCPU2 Y - Y - - -- -- -- --\nRadio system (Bluetooth \nLow Energy, 802.15.4)YY(3)Y- - Y YY YY(4)Y(4)\nFlash memory Y (5)YO(6)O(6)R -R -R -R -R\nSRAM1 Y Y(7)YY(7)R -R -- -- --\nSRAM2a Y Y(7)YY(7)R -R -R(8)-- --\nSRAM2b Y Y(7)YY(7)R -R -- -- --\nQuad-SPI O O O O - -- -- -- --\nBackup registers Y Y Y Y R -R -R -R -R\nBrown-out reset (BOR) Y Y Y Y Y YY YY Y- --\nProgrammable voltage \ndetector (PVD)O OOO O OO O- -- --\nFunctional overview STM32WB55xx   STM32WB35xx\n34/196 DS11929 Rev 14Peripheral voltage monitor \nPVMx (x=1, 3)O OOO O OO O- -- --\nS M P S O OOOO(9)-- -- -- --\nD M A x  ( x  =  1 ,  2 ) O OOO - -- -- -- --\nHigh speed internal  \n(HSI16)O OOO O(10)-O(10)-- -- --\nOscillator HSI48 O O - - - -- -- -- --\nHigh speed external \n(HSE)(11) O OOO - -- -- -- --\nLow speed internal  \n(LSI1 or LSI2)O OOO O -O -O -- --\nLow speed external (LSE) O O O O O -O -O -O -O\nMulti-speed internal \n(MSI)(12) 48 24 O 48 O - -- -- -- --\nPLLx VCO maximum \nfrequency344 128 O - - - -- -- -- --\nClock security system \n(CSS)O OOO O O(13)O O(13)- -- --\nClock security system on \nLSEO OOO O OO OO O- --\nRTC / Auto wakeup O O O O O OO OO OO OO\nNumber of RTC  \ntamper pins33 3 3 3 O3 O3 O3 O3\nL C D O OOO O OO O- -- --\nUSB FS O - O - - - O- -- -- --\nUSART1 O O O O O(14)O(14)- -- -- --\nLow-power UART \n(LPUART1)O OOO O(14)O(14)O(14)O(14)- -- --\nI 2 C 1 O OOO O(15)O(15)- -- -- --\nI 2 C 3 O OOO O(15)O(15)O(15)O(15)- -- --\nSPIx (x=1, 2) O O O O - -- -- -- --\nSAI1 O O O O - -- -- -- --\nADC1 O O O O - -- -- -- --Table 7. Features over all modes(1) (continued)\nPeripheral(2)\nRun Range 1\nRun Range 2\nSleep\nLow-power run\nLow-power sleepStop0/Stop1 Stop 2 Standby Shutdown\nVBAT -\nWakeup capability-\nWakeup capability-\nWakeup capability-\nWakeup capability\nDS11929 Rev 14 35/196STM32WB55xx   STM32WB35xx Functional overview\n57VREFBUF O O O O O -- -- -- --\nC O M P x  ( x = 1 ,  2 ) O OOO O OO O- -- --\nTemperature sensor O O O O - -- -- -- --\nTimers TIMx  \n(x=1, 2, 16, 17)O OOO - -- -- -- --\nLow-power Timer 1 \n(LPTIM1)O OOO O OO O- -- --\nLow-power Timer 2 \n(LPTIM2)O OOO O O- -- -- --\nIndependent watchdog \n(IWDG)O OOO O OO OO O- --\nWindow watchdog \n(WWDG)O OOO - -- -- -- --\nSysTick timer O O O O - -- -- -- --\nTouch sensing controller \n(TSC)O OOO - -- -- -- --\nTrue random number \ngenerator (RNG)O-O -- - -- -- -- --\nAES2 hardware accelerator O O O O - -- -- -- --\nCRC calculation unit O O O O - -- -- -- --\nIPCC O - O - - -- -- -- --\nHSEM O - O - - -- -- -- --\nPKA O O O O - -- -- -- --\nG P I O s O OOO O OO O(16) 5 \npins(17) 5 \npins-\n1. Legend: Y = Yes (Enabled), O = Optional (Disabled by default, can be enabled by software), R = Data retained,  \n- = Not available.\n2. Available peripherals depend upon package, STM32WB35xx features one SPI, no LCD, no TSC and two wakeup pins. See \nTable 2  for more details. \n3. Bluetooth Low Energy not possible in this mode.\n4. Standby with SRAM2a retention mode only.5. Flash memory programming only possible in Range 1 voltage, not in Range 2 and not in Low Power mode.6. The flash memory can be configured in Power-down mode. By default, it is not in Power-down mode.7. The SRAM clock can be gated on or off.8. SRAM2a content is preserved when the bit RRS is set in PWR_CR3 register.Table 7. Features over all modes(1) (continued)\nPeripheral(2)\nRun Range 1\nRun Range 2\nSleep\nLow-power run\nLow-power sleepStop0/Stop1 Stop 2 Standby Shutdown\nVBAT -\nWakeup capability-\nWakeup capability-\nWakeup capability-\nWakeup capability\nFunctional overview STM32WB55xx   STM32WB35xx\n36/196 DS11929 Rev 149. Stop 0 only. SMPS is automatically switched to  Bypass or Open mode during Low power operation.\n10. Some peripherals with wakeup from Stop capability can reque st HSI16 to be enabled. In this case, HSI16 is woken up by \nthe peripheral, and only feeds the peripheral  which requested it. HSI16 is automatica lly put off when the peripheral does not \nneed it anymore.\n11. The HSE can be used by the RF subsystem according with the need to perform RF operation (Tx or Rx).\n12. MSI maximum frequency.13. In case RF will be used and HSE will fail.14. UART and LPUART reception is functional in Stop mode, and generates a wakeup interrupt on Start, address match or \nreceived frame event.\n15. I2C address detection is functional in Stop mode, and generates a wakeup interrupt in case of address match.\n16. I/Os can be configured with internal pul l-up, pull-down or floating in Standby mode.\n17. I/Os can be configured with internal pul l-up, pull-down or floating in Shutdown mode but the configuration is lost when \nexiting the Shutdown mode.\nSTM32WB55xx   STM32WB35xx Functional overview\nDS11929 Rev 14 37/196          \nTable 8. STM32WB55xx and STM32WB35xx modes overview \nMode Regulator CPU1 Flash SRAM Clocks DMA and peripherals(1)Wakeup source Consumption(2)Wakeup time\nRun Range 1\nYes ON(3)(4)ON AnyAll\nN/A107 µA/MHz\nN/A\n Range 2 All except RNG and USB-FS 100 µA/MHz \nLPRun LPR Yes ON(3)ONAny \nexcept \nPLLAll except RF, RNG and U SB-FS N/A 103 µA/MHz 15.33 µs\nSleep Range 1\nNo ON(3)ON(5)AnyAllAny interrupt\nor event41 µA/MHz\n9 cycles\n Range 2 All except RNG and USB-FS 46 µA/MHz\nLPSleep LPR No ON(3)ON(5)Any\nexcept \nPLLAll except RF, RNG and USB-FSAny interrupt\nor event45 µA/MHz 9 cycles\nStop 0Range 1\nNo OFF ONLSE,\nLSI,\nHSE(6), \nHSI16(7)RF, BOR, PVD, PVM\nRTC, LCD, IWDG\nCOMPx (x=1, 2)\nUSART1(8)\nLPUART1(8)\nI2Cx (x=1, 3)(9)\nLPTIMx (x=1, 2), SMPS\nAll other peripherals are frozen.Reset pin, all I/Os, \nRF, BOR, PVD, PVM\nRTC, LCD, IWDG\nCOMPx (x=1, 2)\nUSART1\nLPUART1\nI2Cx (x=1, 3)\nLPTIMx (x=1, 2)\nUSB100 µA 1.7 µs\nRange 2\nStop 1 LPR No OFF ONLSE,\nLSI,\nHSE(6),\nHSI16(7)RF, BOR, PVD, PVM\nRTC, LCD, IWDG\nCOMPx (x=1, 2)\nUSART1(8)\nLPUART1(8)\nI2Cx (x=1, 3)(9)\nLPTIMx (x=1, 2)\nAll other peripherals are frozen.Reset pin, all I/Os\nRF, BOR, PVD, PVM \nRTC, LCD, IWDG\nCOMPx (x=1, 2)\nUSART1\nLPUART1\nI2Cx (x=1, 3)\nLPTIMx (x=1, 2)\nUSB9.2 µA w/o RTC\n9.6 µA w RTC4.7 µs\nFunctional overview STM32WB55xx   STM32WB35xx\n38/196 DS11929 Rev 14\n          Stop 2 LPR No OFF ONLSE,\nLSIRF, BOR, PVD, PVM\nRTC, LCD, IWDG\nCOMPx (x=1, 2)\nLPUART1(8)\nI2C3(9)\nLPTIM1\nAll other peripherals are frozen.Reset pin, all I/Os\nRF, BOR, PVD, PVM\nRTC, LCD, IWDG\nCOMPx (x=1, 2)\nLPUART1\nI2C3\nLPTIM11.85 µA w/o RTC\n2.1 µA w RTC5.71 µs\nStandbyLPR\nNo OFFSRAM2a\nON(10)\nLSE,\nLSIRF, BOR, RTC, IWDG\nAll other peripherals are \npowered off.\nI/O configuration can be floating, \npull-up or pull-downRF, reset pin\n5 I/Os (WKUPx)(11)\nBOR, RTC, IWDG0.32 µA w/o RTC\n0.60 µA w RTC\n51 µs\nOFF OFF0.11 µA w/o RTC\n0.390 µA w RTC\nShutdown OFF No OFF OFF LSERTC\nAll other peripherals are \npowered off.\nI/O configuration can be floating, \npull-up or pull-down(12)5 I/Os (WKUPx)(11), \nRTC0.028 µA w/o RTC\n0.315 µA w/ RTC-\n1. Available peripherals depend upon package, STM32WB35xx feat ures one SPI, no LCD, no TSC and two wakeup pins. See Table 2  for more details. \n2. Typical current at VDD = 1.8 V, 25 °C. for STOPx, SHUTDOWN and Standby, else VDD = 3.3 V, 25 °C.\n3. The flash memory controller can be placed in power-down mode if the RF subsystem is not in use and all the program is run fro m the SRAM.\n4. Flash memory programming is only possible in Range 2 voltage.\n5. The SRAM1 and SRAM2 clocks can be gated off independently.\n6. HSE (32 MHz) automatically used when RF  activity is needed by  the RF subsystem.\n7. HSI16 (16 MHz) automatically used by some peripherals.8. U(S)ART and LPUART reception is functional in Stop mode, and generates a wakeup interrupt on Start, Address match or Received  frame event. \n9. I2C address detection is functional in Stop mode, and generates a wakeup interrupt in case of address match. 10. SRAM1 and SRAM2b are OFF.\n11. I/Os with wakeup from Standby/Shutdown capability: PA0, PC13, PC12, PA2, PC5.\n12. I/Os can be configured with internal pull -up, pull-down or floating but the configur ation is lost immediately when exiting t he Shutdown mode.Table 8. STM32WB55xx and STM32WB35xx modes overview (continued)\nMode Regulator CPU1 Flash SRAM Clocks DMA and peripherals(1)Wakeup source Consumption(2)Wakeup time\nDS11929 Rev 14 39/196STM32WB55xx   STM32WB35xx Functional overview\n573.7.6 Reset mode\nTo improve the consumption under reset, the I/Os state under and after reset is “analog \nstate” (the I/O Schmitt trigger is disabled). In addition, the internal reset pull-up is \ndeactivated when the reset source is internal.\n3.8 VBAT operation\nThe VBAT pin allows to power the device VBAT domain (RTC, LSE and Backup registers) from an external batte ry, an external supercapacitor, or from V\nDD when no external battery \nnor an external supercapacitor are present. Three anti-tamper detection pins are available \nin VBAT mode. \nVBAT operation is automatically activated when VDD is not present.\nAn internal VBAT battery charging circuit is embedded and can be activated when VDD is \npresent.\nNote: When the microcontroller is supplied only  from VBAT, external interrupts and RTC \nalarm/events do not exit it from VBAT operation.\n3.9 Interconnect matrix\nSeveral peripherals have direct connecti ons between them. This allows autonomous \ncommunication between peripherals, saving CPU1 resources and, consequently, reducing \npower supply consumption. In addition, thes e hardware connections result in fast and \npredictable latency.\nDepending on peripherals, these interconnect ions can operate in Run, Sleep, Low-power \nrun and Sleep, Stop 0, Stop 1 and Stop 2 modes.\n          Table 9. STM32WB55xx and STM32WB35xx CPU1 peripherals interconnect matrix \nSource Destination Action\nRun\nSleep\nLow-power run\nLow-power \nStop 0 / Stop 1\nStop 2\nTIMx TIMx Timers synchronization or chaining Y Y Y Y - -\nADC1 Conversion triggers Y Y Y Y - -\nDMA Memory to memory transfer trigger Y Y Y Y - -\nCOMPx Comparator output blanking Y Y Y Y - -\nCOMPx TIM1\nTIM2Timer input channel, trigger, break \nfrom analog signals comparisonYYYY - -\nLPTIMERxLow-power timer triggered by analog \nsignals comparison YYYYY Y(1)\nADC1 TIM1 Timer triggered by analog watchdog Y Y Y Y - -\nFunctional overview STM32WB55xx   STM32WB35xx\n40/196 DS11929 Rev 14          RTCTIM16 Timer input channel from RTC events Y Y Y Y - -\nLPTIMERxLow-power timer triggered by RTC \nalarms or tampers YYYYY Y(1)\nAll clock sources  \n(internal and external)TIM2\nTIM16, 17Clock source used as input channel \nfor RC measurement and trimmingYYYY - -\nUSB TIM2 Timer triggered by USB SOF Y Y - - - -\nCSS\nCPU (hard fault)\nSRAM (parity error)Flash memory (ECC error)\nCOMPx\nPVDTIM1\nTIM16,17Timer break Y Y Y Y - -\nGPIOTIMx External trigger Y Y Y Y - -\nL P T I M E R x E x t e r n a l  t r i g g e r YYYYY Y\n(1)\nADC1 Conversion external trigger Y Y Y Y - -\n1. LPTIM1 only.Table 9. STM32WB55xx and STM32WB35xx CPU1 peripherals interconnect matrix (continued)\nSource Destination Action\nRun\nSleep\nLow-power run\nLow-power \nStop 0 / Stop 1\nStop 2\nDS11929 Rev 14 41/196STM32WB55xx   STM32WB35xx Functional overview\n573.10 Clocks and startup\nThe STM32WB55xx and STM32WB35xx devi ces integrate several clock sources:\n• LSE: 32.768 kHz external oscillator, fo r accurate RTC and calibration with other \nembedded RC oscillators\n• LSI1: 32 kHz on-chip low- consumption RC oscillator\n• LSI2: almost 32 kHz, on-chip high-stability RC oscillator, can be used by the RF \nsubsystem instead of LSE\n• HSE: high quality 32 MHz external osc illator with trimming, needed by the RF \nsubsystem\n• HSI16: 16 MHz high accura cy on-chip RC oscillator\n• MSI: 100 kHz to 48 MHz multiple speed on-c hip low power oscillator, can be trimmed \nusing the LSE signal\n• HSI48: 48 MHz on-chip RC oscilla tor, for USB crystal-less purpose\nThe clock controller (see Figure  9) distributes the clocks coming from the different \noscillators to the core and the peripherals including the RF subsystem. It also manages \nclock gating for low powe r modes and ensures clock robustness. It features:\n• Clock prescaler:  to get the best trade-off between speed and current consumption, \nthe clock frequency to the CPU and peripherals can be adjusted by a programmable prescaler\n• Safe clock switching:  clock sources can be changed safely on the fly in run mode \nthrough a configuration register.\n• Clock management:  to reduce power consumption, the clock controller can stop the \nclock to the core, individual peripherals or memory.\n• System clock source:  four different clock sources can be used to drive the master \nclock SYSCLK:\n– 16 MHz high-speed internal RC oscillator (HSI16), trimma ble by software, that can \nsupply a PLL\n– Multispeed internal RC oscillator (MSI), tr immable by software, able to generate \n12 frequencies from 100 kHz to 48 MHz.  When a 32.768 kHz clock source is \navailable in the system (LSE), the MSI fr equency can be automatically trimmed by \nhardware to reach better than ±0.25% accuracy. The MSI can supply a PLL.\n– System PLL that can be fed by HSE, HSI1 6 or MSI, with a maximum frequency of \n64 MHz.\n• Auxiliary clock source:  two ultralow-power clock sources that can be used to drive \nthe LCD controller and the real-time clock:\n– 32.768 kHz low-speed exte rnal crystal (LSE), support ing four drive capability \nmodes. The LSE can also be configured in bypass mode for an external clock.\n– 32 kHz low-speed internal RC (LSI), also used to drive the independent watchdog. \nThe LSI clock accuracy is ±5%. The LSI source can be either the LSI1 or the LSI2 on-chip oscillator.\n• Peripheral clock sources:  Several peripherals (RNG, SAI, USARTs, I2Cs, LPTimers, \nADC) have their own independent clock what ever the system clock. Two PLLs, each \nhaving three independent outputs for the hi ghest flexibility, can generate in dependent \nclocks for the ADC, the RNG and the SAI.\n• Startup clock:  after reset, the microcontroller restarts by default with an internal 4 MHz \nclock (MSI). The prescaler ratio and clock source can be changed by the application \nFunctional overview STM32WB55xx   STM32WB35xx\n42/196 DS11929 Rev 14program as soon as the code execution starts.\n• Clock security system (CSS):  this feature can be enabled by software. If an HSE \nclock failure occurs, the master clock is aut omatically switched to HSI16 and a software \ninterrupt is generated if enabled. LSE failure can also be detected and an interrupt generated.\n• Clock-out capability: \n– MCO (microcontroller clock output):  it outputs one of the internal clocks for \nexternal use by the application. Low fr equency clocks (LSIx, LSE) are available \ndown to Stop 1 low power state.\n– LSCO (low-speed clock output):  it outputs LSI or LSE in all low-power modes \ndown to Standby.\nSeveral prescalers allow the user to confi gure the AHB frequencies, the high-speed APB \n(APB2) and the low-speed APB (APB1) doma ins. The maximum frequency of the AHB and \nthe APB domains is 64 MHz.\nDS11929 Rev 14 43/196STM32WB55xx   STM32WB35xx Functional overview\n57Figure 9. Clock tree\n1. The LCD is not availabl e on STM32WB35xx devices.\n3.11 General-purpose in puts/outputs (GPIOs)\nEach of the GPIO pins can be configured by so ftware as output (push-pull or open-drain), as \ninput (with or without pull-up or pull-down) or as peripheral alternate function. Most of the \nGPIO pins are shared with digital or analog alternate functions. Fast I/O toggling can be \nachieved thanks to their mapping on the AHB2 bus.MS45402V8SMPS clock\nsource controlLSI1 RC 32 kHz\nLSI2 RC 32 kHz\nLSE OSC\n32.768 kHzLSCOLSI to IWDG\nHSE OSC\n32 MHz\nHSE CSSOSC_INOSC_OUT\nHSI16 RC\n16 MHz\nMSI RC\n100 kHz - 48 MHzMCO/1 - 16/32\nHSI48 RC\n48 MHzLSE CSS\n/32\nPLL\n/P\n/R/Q\nPLLSAI1\n/P\n/R/Q/MSYSCLKMSI\nMSIHSI16HSI16\nHSEHSE\nPLLRCLK\nPLLRCLK\nRC48LSELSI2LSI1\nSYS clock\nsource controlSYSCLK\nMSI\nHSI16HCLK1\nHCLK2\nHCLK4APB1\nPPRE1\n/1,2,4,8,16to CPU1, AHB1, AHB2, AHB3, and SRAM1\nto CPU1 FCLK\n/8to CPU1 system timer\nAPB2\nPPRE2\n/1,2,4,8,16PCLK1\nPCLK2\nto CPU2\nto CPU2 FCLK\n/8to CPU2 system timer\nto AHB4, Flash memory, SRAM2to APB1 TIMx\nto APB2 TIMx\nto USART1\nto LPTIMxto LPUART1 to SAI1\nto ADC1to RTC and LCD(1)\nx1 or \nx2\nx1 or \nx2\nto I2CxPCLKn\nSYSCLK\nHSI16HSI16PCLKn\nLSI\nLSEHSI16\nSAI1_EXTCLKPLLSAI1PCLKPLLPCLK\nSYSCLKPCLKn\nLSEto 802.15.4 wakeup\nHCLK5HSI16\nHSEto AHB5to APB3to APB2to APB1\nto RF\nPLLSAI1RCLK\nSYSCLKto USBHSI48MSI\nto RNGPLLQCLK\nPLLRCLK\nPLLSAI1QCLKOSC32_INOSC32_OUTLSI\nLSE\nLSE\nMSIHSI16\nHSESMPSDIV\n/1,2,3,4,6,8,12to \nSMPS\n/2 xN\nxNto BLE wakeup\nCPU1\nHPRE\n/1,2,...,512\nAHB4\nSHDHPRE\n/1,2,...,512CPU2\nC2HPRE\n1,2,...,512\nHSI16HSEPRE/1,2\n/3\nLSI\nLSE/2\nFunctional overview STM32WB55xx   STM32WB35xx\n44/196 DS11929 Rev 14The I/Os alternate function configuration c an be locked, if needed,  following a specific \nsequence in order to avoid spurious writing to the I/Os registers.\n3.12 Direct memory a ccess controller (DMA)\nThe device embeds two DMAs. Refer to Table  10 for the features implementation.\nDirect memory access (DMA) is used to provide high-speed data transfer between \nperipherals and memory as well as between memories. Data can be quickly moved by DMA without any CPU action. This keeps CPU resources free for other operations.\nThe two DMA controllers have fourteen channels in total, a full cross matrix allows any \nperipheral to be mapped on any of the available DMA channels. Each DMA has an arbiter for handling the priority between DMA requests.\nThe DMA supports:\n• fourteen independently configurable channels (requests)\n• A full cross matrix between peripherals and all the DMA channels exist. There is also a \nHW trigger possibility through the DMAMUX.\n• Priorities between requests from DMA channels are software programmable (four \nlevels consisting in very high, high, medium  and low) or hardware in case of equality \n(request 1 has priority over request 2, etc.).\n• Independent source and destination transfer  size (byte, half word, word), emulating \npacking and unpacking. Source/destination addresses must be aligned on the data \nsize.\n• Support for circular buffer management.\n• Three event flags (DMA half transfer, DMA transfer complete and DMA transfer error) \nlogically OR-ed together in a singl e interrupt request for each channel.\n• Memory-to-memory transfer.\n• Peripheral-to-memory and memory-to-peripheral, and peripheral-to-peripheral \ntransfers.\n• Access to flash memory, SRAM, APB and AHB peripherals as source and destination.\n• Programmable number of data to be transferred: up to 65536.\n          \nA DMAMUX block makes it possible to route any peripheral source to any DMA channel.\n3.13 Interrupts and events\n3.13.1 Nested vectored inte rrupt controller (NVIC)\nThe devices embed a nested vectored interrupt controller able to manage 16 priority levels, \nand handle up to 63 maskable interrupt channels plus the 16 interrupt lines of the  \nCortex®-M4 with FPU.Table 10. DMA implementation \nDMA features DMA1 DMA2\nNumber of regular channels 7 7\nDS11929 Rev 14 45/196STM32WB55xx   STM32WB35xx Functional overview\n57The NVIC benefits are the following:\n• Closely coupled NVIC gives lo w latency interrupt processing\n• Interrupt entry vector table address passed directly to the core\n• Allows early processing of interrupts\n• Processing of late arriving higher priority interrupts\n• Support for tail chaining\n• Processor state automatically saved\n• Interrupt entry restored on interrupt exit with no instruction overhead\nThe NVIC hardware block provides flexible interrupt management features with minimal \ninterrupt latency.\n3.13.2 Extended interrupts a nd events controller (EXTI)\nThe EXTI manages wake-up through configurable  and direct event inputs. It provides  \nwake-up requests to the Power control, and generates interrupt requests to the CPUx NVIC \nand events to the CPUx event input.\nConfigurable events/interrupts come from peripherals able to generate a pulse, and make it possible to select the Event/Interrupt trigger edge and/or a SW trigger.\nDirect events/interrupts are coming from periphe rals having their own clearing mechanism.\n3.14 Analog to digital converter (ADC)\nThe device embeds a successive approxima tion analog-to-digital converter with the \nfollowing features:\n• 12-bit native resolution , with built-in calibration\n• Up to 16-bit resolution with 256 oversampling ratio\n• 4.26 Msps maximum conversion rate with full resolution\n– Down to 39 ns sampling time– Increased conversion rate for lower resolution (up to 7.11 Msps for 6-bit \nresolution)\n• Up to sixteen external channels and three internal channels: internal reference \nvoltages, temperature sensor\n• Single-ended and differential mode inputs\n• Low-power design\n– Capable of low-current operation at low conversion rate (consumption decreases \nlinearly with speed)\n– Dual clock domain architecture: ADC speed independent from CPU frequency\n• Highly versatile digital interface\n– Single-shot or continuous/discontinuous  sequencer-based scan mode: two groups \nof analog signals conversions can be programmed to differentiate background and high-priority real-time conversions\n– The ADC supports multiple trigger inputs for synchronization with on-chip timers \nand external signals\n– Results stored into three data register or in SRAM with DMA controller support\nFunctional overview STM32WB55xx   STM32WB35xx\n46/196 DS11929 Rev 14– Data pre-processing: left/right alignment and per channel offset compensation\n– Built-in oversampling unit for enhanced SNR– Channel-wise programmable sampling time– Three analog watchdog for automatic vo ltage monitoring, generating interrupts \nand trigger for selected timers\n– Hardware assistant to prepare the context of the injected channels to allow fast \ncontext switching\n3.14.1 Temperature sensor\nThe temperature sensor (TS) generates a voltage VTS that varies linearly with temperature. \nThe temperature sensor is internally connec ted to the ADC1_IN17 input channel, which is \nused to convert the sensor output voltage into a digital value.\nTo improve the accuracy of the temperature sensor measurement, each device is individually factory-calibrated by ST. The te mperature sensor factory calibration data are \nstored in the system memory area, accessible in read-only mode.\n          \n3.14.2 Internal voltage reference (VREFINT )\nThe internal voltage reference (VREFINT) pr ovides a stable (bandgap) voltage output for \nthe ADC and the comparators. VREFINT is in ternally connected to the ADC1_IN0 input \nchannel. The precise voltage of VREFINT is individually measured for each part by ST \nduring production test and stored in the system  memory area. It is a ccessible in read-only \nmode.\n          Table 11. Temperature sensor calibration values \nCalibration value name Description Memory address\nTS_CAL1TS ADC raw data acquired at a \ntemperature of 30 °C (± 5 °C), \nVDDA = VREF+ = 3.0 V (± 10 mV)0x1FFF 75A8 - 0x1FFF 75A9\nTS_CAL2TS ADC raw data acquired at a \ntemperature of 130 °C (± 5 °C), \nVDDA = VREF+ = 3.0 V (± 10 mV)0x1FFF 75CA - 0x1FFF 75CB\nTable 12. Internal voltage reference calibration values \nCalibration value name Description Memory address\nVREFINTRaw data acquired at a \ntemperature of 30 °C (± 5 °C), \nVDDA = VREF+ = 3.6 V (± 10 mV)0x1FFF 75AA - 0x1FFF 75AB\nDS11929 Rev 14 47/196STM32WB55xx   STM32WB35xx Functional overview\n573.15 Voltage referen ce buffer (VREFBUF)\nThe STM32WB55xx devices embed a voltage refe rence buffer that can be used as voltage \nreference for the ADC and also as voltage re ference for external components through the \nVREF+ pin. The internal voltage reference buffer supports two voltages:\n• 2.048 V\n• 2.5 V\nAn external voltage reference can be provided through the VREF+ pin when the internal \nvoltage reference buffer is off. The VREF+ pin is double-bonded with VDDA on UFQFPN48 package, hence the internal voltage reference bu ffer is not available on a dedicated pin, but \nuser can still use the V\nDDA value.\n3.16 Comparators (COMP)\nThe STM32WB55xx and STM32WB35xx devices embed two rail-to-rail comparators with programmable reference voltage (internal or external), hysteresis and speed (low-speed for low-power) and with selectable output polarity.\nThe reference voltage can be one of the following:\n• External I/O\n• Internal reference voltage or submultiple (1/4, 1/2, 3/4).\nAll comparators can wake up from Stop mode, generate interrupts and breaks for the timers \nand can be also combined into a window comparator.\n3.17 Touch sensing controller (TSC)\nThe touch sensing controller provides a simple  solution for adding capacitive sensing \nfunctionality to any a pplication. Capacitive sensing techno logy is able to detect finger \npresence near an electrode which is protected from direct touch by a dielectric such as \nglass or plastic. The capacitive variation intr oduced by the finger (or any conductive object) \nis measured using a proven implementation ba sed on a surface charge  transfer acquisition \nprinciple.\nThe touch sensing controller is fully supported  by the STMTouch touch sensing firmware \nlibrary (free to use) and enables reliable touc h sensing functionality in the end application.\nFunctional overview STM32WB55xx   STM32WB35xx\n48/196 DS11929 Rev 14The main features of the touch sensing controller are the following:\n• Proven and robust surface charge  transfer acquisition principle\n• Supports up to 18 capacitive sensing channels\n• Up to six capacitive sensing channels can be  acquired in parallel offering a very good \nresponse time\n• Spread spectrum feature to improve system  robustness in noisy environments\n• Full hardware management of the charge transfer acquisition sequence\n• Programmable charge transfer frequency\n• Programmable sampling capacitor I/O pin\n• Programmable channel I/O pin\n• Programmable max count value to avoid long acquisition when a channel is faulty\n• Dedicated end of acquisiti on and max count er ror flags with inte rrupt capability\n• One sampling capacitor for up to three capacitive sensing channels to reduce the \nsystem components\n• Compatible with proximity, touchkey, linear  and rotary touch sensor implementation\n• Designed to operate with STMTouch touch sensing firmware library\nNote: The number of capacitive sensing channels  is dependent upon the package (not available \non QFPN48) and subject to I/O availability.\nDS11929 Rev 14 49/196STM32WB55xx   STM32WB35xx Functional overview\n573.18 Liquid crystal di splay controller (LCD)\nThe STM32WB55xx devices embed an LCD cont roller with the following characteristics:\n• Highly flexible frame rate control.\n• Supports Static, 1/2, 1/3, 1/4 and 1/8 duty.\n• Supports Static, 1/2, 1/3 and 1/4 bias.\n• Double buffered memory allows data in LCD_RAM registers to be updated at any time \nby the application firmware without affect ing the integrity of the data displayed.\n– LCD data RAM of up to 16 x 32-bit registers which contain pixel information \n(active/inactive)\n• Software selectable LCD output voltage (contrast) from VLCDmin to VLCDmax.\n• No need for external analog components:\n– A step-up converter is embedded to gener ate an internal VLCD voltage higher \nthan VDD (up to 3.6 V if VDD > 2.0 V)\n– Software selection between external and in ternal VLCD voltage source. In case of \nan external source, the internal boost circuit is disabled to reduce power consumption\n– A resistive network is embedded to generate intermedia te VLCD voltages\n– The structure of the resist ive network is configurable by software to adapt the \npower consumption to match the capaci tive charge required by the LCD panel\n– Integrated voltage output buffer s for higher LCD driving capability.\n• The contrast can be adjusted using two different methods:\n– When using the internal step-up converte r, the software can adjust VLCD between \nVLCD\nmin and VLCDmax\n– Programmable dead time (up to eight phase periods) between frames.\n• Full support of low-power modes: the LCD controller can be displayed in Sleep,  \nLow-power run, Low-power sleep and Stop mode s, or can be fully disabled to reduce \npower consumption.\n• Built in phase inversion for reduced power consumption and EMI (electromagnetic \ninterference).\n• Start of frame interrupt to synchronize t he software when updating the LCD data RAM.\n• Blink capability:\n– 1, 2, 3, 4, 8 or all pixels can be programmed to blink at a configurable frequency– Software adjustable blink frequency to achieve around 0.5 Hz, 1 Hz, 2 Hz or 4 Hz.\nUsed LCD segment and common pins should be configured as GPIO alternate functions \nand unused segment and common pins can be used for general purpose I/O or for another peripheral alternate function.\nNote: When the LCD relies on the internal step-up converter, the VLCD pin should be connected \nto VSS with a capacitor. Its typical value is 1 μF.\n3.19 True random numb er generator (RNG)\nThe devices embed a true RNG that delivers 32-bit random numbers generated by an \nintegrated analog circuit.\nFunctional overview STM32WB55xx   STM32WB35xx\n50/196 DS11929 Rev 143.20 Timers and watchdogs\nThe STM32WB55xx and STM32WB35xx include one advanced 16-bit timer, one general-\npurpose 32-bit timer, two 16-bit basic timers , two low-power timers, two watchdog timers \nand a SysTick timer. Table  13 compares the features of th e advanced control, general \npurpose and basic timers.\n          \n3.20.1 Advanced-control timer (TIM1)\nThe advanced-control timer can be seen as  a three-phase PWM multiplexed on six \nchannels. They have complementary PW M outputs with programmable inserted  \ndead-times. They can also be seen as complete general-purpose timers. The four \nindependent channels can be used for:\n• Input capture\n• Output compare\n• PWM generation (edge or cent er-aligned modes) with full modulation capability (0 to \n100%)\n• One-pulse mode output\nIn debug mode, the advanced-control timer counter can be frozen and the PWM outputs \ndisabled to turn off any power s witches driven by these outputs.\nMany features are shared with those of the general-purpose TIMx timers (described in \nSection  3.20.2 ) using the same architecture, so the advanced-control timers can work \ntogether with the TIMx timers via the Time r Link feature for synchronization or event \nchaining.\n3.20.2 General-purpose timers  (TIM2, TIM16, TIM17)\nThere are up to three synchronizable general-purpose timers embedded in the \nSTM32WB55xx and STM32WB35xx (see Table  13 for differences). Each general-purpose \ntimer can be used to generate PWM outputs, or act as a simple time base.\n• TIM2\n– Full-featured general-purpose timerTable 13. Timer features \nTimer\ntype Timer Counter \nresolutionCounter \ntypePrescaler \nfactorDMA \nrequest \ngenerationCapture/\ncompare \nchannelsComplementary \noutputs\nAdvanced \ncontrolTIM1 16-bitsUp, down,\nUp/down\nAny integer \nbetween 1 \nand 65536Yes43\nGeneral \npurposeTIM2 32-bitsUp, down,\nUp/down4N o\nGeneral \npurposeTIM16 16-bits Up 2 1\nGeneral \npurposeTIM17 16-bits Up 2 1\nLow powerLPTIM1\nLPTIM216-bits Up 1 1\nDS11929 Rev 14 51/196STM32WB55xx   STM32WB35xx Functional overview\n57– Features four independent channels for input capture/output compare, PWM or \none-pulse mode output. Can work together, or with the other general-purpose timers via the Timer Link feature fo r synchronization or event chaining.\n– The counter can be frozen in debug mode.– Independent DMA request generation, support of quadrature encoders.\n• TIM16 and TIM17\n– General-purpose timers with mid-range features:\n– 16-bit auto-reload upcounters and 16-bit prescalers.– 1 channel and 1 complementary channel.– All channels can be used for input capture/output compare, PWM or one-pulse \nmode output.\n– The timers can work together via the Ti mer Link feature for synchronization or \nevent chaining. The timers have independent DMA request generation.\n– The counters can be frozen in debug mode.\n3.20.3 Low-power timer (LPTIM1 and LPTIM2)\nThe devices embed two low-power timers, havin g an independent clock running in Stop \nmode if they are clocked by LSE,  LSIx or by an external clock. They are able to wake-up the \nsystem from Stop mode.\nLPTIM1 is active in Stop 0, Stop 1 and Stop 2 modes.\nLPTIM2 is active in Stop 0 and Stop 1 modes.\nThe low-power timers suppor t the following features:\n• 16-bit up counter with 16-bit autoreload register\n• 16-bit compare register\n• Configurable output: pulse, PWM\n• Continuous/ one shot mode\n• Selectable software/h ardware input trigger\n• Selectable clock source\n– Internal clock sources: LSE, either  LSI1 or LSI2, HSI16 or APB clock\n– External clock source over LPTIM input (working even with no internal clock \nsource running, used by pulse counter application)\n• Programmable digita l glitch filter\n• Encoder mode (LPTIM1 only)\n3.20.4 Independent watchdog (IWDG)\nThe independent watchdog is based on a 12-bit downcounter and an 8-bit prescaler. It is \nclocked from an independent 32  kHz internal RC (LSI) and as it operates independently \nfrom the main clock, it can operate in Stop an d Standby modes. It can be used either as a \nwatchdog to reset the device when a problem occurs, or as a free running timer for application timeout management. It is hardware or software configurable through the option bytes. The counter can be frozen in debug mode.\nFunctional overview STM32WB55xx   STM32WB35xx\n52/196 DS11929 Rev 143.20.5 System window watchdog (WWDG)\nThe window watchdog is based on a 7-bit downcounter that can be set as free running. It \ncan be used as a watchdog to reset the device when a problem occurs. It is clocked from the main clock. It  has an early warning interrupt capabilit y and the counter c an be frozen in \ndebug mode.\n3.20.6 SysTick timer\nThis timer is dedicated to real-time operating systems, but could also be used as a standard \ndown counter. It features:\n• a 24-bit down counter\n• autoreload  capability\n• a maskable system interrupt generation when the counter reaches 0\n• a programmable clock source.\n3.21 Real-time clock (RTC ) and backup registers\nThe RTC is an independent BCD timer/counter, supporting the following features:\n• Calendar with subsecond, seconds, minutes, hours (12 or 24 format), week day, date, \nmonth, year, in BCD (binary-coded decimal) format.\n• Automatic correction for 28, 29 (leap year), 30, and 31 days of the month.\n• Two programmable alarms.\n• On-the-fly correction from 1 to 32767 RTC clock pulses. This can be used to \nsynchronize it with a master clock.\n• Reference clock detection: a more precise se cond source clock (50 or 60 Hz) can be \nused to enhance the calendar precision.\n• Digital calibration circuit with 0.95 ppm reso lution, to compensate for quartz crystal \ninaccuracy.\n• Three anti-tamper detection pins with programmable filter.\n• Timestamp feature, which can be used to sa ve the calendar content. This function can \nbe triggered by an event on the timestamp pin,  or by a tamper event, or by a switch to \nVBAT mode.\n• 17-bit auto-reload wake-up timer (WUT) for periodic events with programmable \nresolution and period.\nThe RTC and the 20 backup registers are suppli ed through a switch that takes power either \nfrom the VDD supply (when present) or from the VBAT pin.\nThe backup registers are 32-bit registers used to store 80 bytes of user application data when V\nDD power is not present. They are not reset by a system or power reset, or when the \ndevice wakes up from Standby or Shutdown mode.\nThe RTC clock sources can be:\n• a 32.768 kHz external crystal (LSE)\n• an external resonator or oscillator (LSE)\n• one of the internal low power RC oscillato rs (LSI1 or LSI2, wit h typical frequency of \n32 kHz)\n• the high-speed external clock (HSE) divided by 32.\nDS11929 Rev 14 53/196STM32WB55xx   STM32WB35xx Functional overview\n57The RTC is functional in VBAT m ode and in all low-power modes when it is clocked by the \nLSE. When clocked by one of the LSIs, the RTC is not functional in VBAT mode, but is \nfunctional in all low-power modes except Shutdown mode.\nAll RTC events (alarm, wake-up timer, timestamp or tamper) can generate an interrupt and wake-up the device from the low-power modes.\n3.22 Inter-integrated ci rcuit interface (I2C)\nThe devices embed two  I2Cs. Refer to Table  14 for the features implementation.\nThe I2C bus interface handles communications bet ween the microcontroller and the serial \nI2C bus. It co ntrols all I2C bus-specific sequencing, protocol, arbitration and timing.\nThe I2C peripheral supports:\n• I2C-bus specification and user manual rev. 5 compatibility: \n– Slave and master modes , multimaster capability \n– Standard-mode (Sm), with a bitrate up to 100 kbit/s– Fast-mode (Fm), with a bitrate up to 400 kbit/s – Fast-mode Plus (Fm+), with a bitrate up to 1 Mbit/s and 20 mA output drive I/Os\n– 7-bit and 10-bit addressing mode, multiple 7-bit slave addresses– Programmable setup and hold times – Optional clock stretching \n• System Management Bus (SMBus) spec ification rev 2.0 compatibility: \n– Hardware PEC (packet error checking) generation and verification with ACK \ncontrol\n– Address resolution protocol (ARP) support– SMBus alert\n• Power System Management Protocol (PMBus\n™) specification rev 1.1 compatibility \n• Independent clock: a choice of independent clock sources allowing the I2C \ncommunication speed to be independent from the PCLK reprogramming. Refer to Figure 9: Clock tree .\n• Wake-up from Stop mode on address match\n• Programmable analog and digital noise filters\n• 1-byte buffer with DMA capability\n          Table 14. I2C implementation \nI2C features(1)I2C1 I2C3\nStandard-mode (up to 100 kbit/s) X X\nFast-mode (up to 400 kbit/s) X X\nFast-mode Plus with 20 mA output  drive I/Os (up to 1 Mbit/s) X X\nProgrammable analog and digital noise filters X XSMBus/PMBus hardware support X X\nFunctional overview STM32WB55xx   STM32WB35xx\n54/196 DS11929 Rev 143.23 Universal synchronous/asynch ronous receiver transmitter \n(USART)\nThe devices embed one universal synchronous receiver transmitter.\nThis interface provides asynchronous communication, IrDA SIR ENDEC support, \nmultiprocessor communication mode, single-wire half-duplex communication mode and has LIN Master/Slave capability. It provides hardwa re management of the CTS and RTS signals, \nand RS485 driver enable.\nThe USART is able to communicate at speeds of up to 4 Mbit/s, and also provides Smart Card mode (ISO 7816 compliant) and SPI-like communication capability.\nThe USART supports synchronous operation (SPI mode), and can be used as an SPI \nmaster.\nThe USART has a clock domain independent from the CPU clock, allowing it to wake up the MCU from Stop mode using baudrates up to 200\n kbaud. The wake up events from Stop \nmode are programmable and can be:\n• the start bit detection\n• any received data frame\n• a specific programmed data frame.\nThe USART interface can be served by the DMA controller.\n3.24 Low-power universal asynchr onous receiver transmitter \n(LPUART)\nThe device embeds one Low-Power UART, enabling asynchronous serial communication \nwith minimum power consumption. The LPUA RT supports half duplex single wire \ncommunication and modem operations (CTS/RTS), allowing multiprocessor communication.\nThe LPUART has a clock domain independent from the CPU clock, and can wake-up the system from Stop mode using baudrates up to 220\n kbaud. The wake up events from Stop \nmode are programmable and can be:\n• the start bit detection\n• any received data frame\n• a specific programmed data frame.\nOnly a 32.768 kHz clock (LSE) is needed for LPUART communication up to 9600 baud. \nTherefore, even in Stop mode, the LPUART can wait for an incoming frame while having an Independent clock X X\nWakeup from Stop 0 / Stop 1 mode on address match X X\nWakeup from Stop 2 mode on address match - X\n1. X: supportedTable 14. I2C implementation (continued)\nI2C features(1)I2C1 I2C3\nDS11929 Rev 14 55/196STM32WB55xx   STM32WB35xx Functional overview\n57extremely low energy consumption. Higher speed clock can be used to reach higher \nbaudrates.\nThe LPUART interfaces can be served by the DMA controller.\n3.25 Serial peripheral interface (SPI1, SPI2)\nTwo SPI interfaces enable communication up to 32 Mbit/s in master and up to 24  Mbit/s in \nslave modes, in half-duplex, full-duplex and simplex modes. The 3-bit prescaler gives 8 \nmaster mode frequencies and the frame size is configurable from 4 bits to 16 bits. The SPI interfaces support NSS pulse mode, TI mode and Hardware CRC calculation.\nThe SPI interfaces can be served by the DMA controller.\n3.26 Serial audio interfaces (SAI1)\nThe device embeds a dual channel SAI periphera l that supports full duplex audio operation. \nThe SAI bus interface handles communications between the microcontroller and the serial audio protocol. \nThe SAI peripheral supports:\n• One independent audio sub-block that can be a transmitter or a receiver, with the \nrespective FIFO\n• 8-word integrated FIFOs\n• Synchronous or asynchronous mode\n• Master or slave configuration\n• Clock generator to target independent audio frequency sampling when audio sub-block \nis configured in master mode\n• Data size configurable: 8-, 10-, 16-, 20-, 24-, 32-bit\n• Peripheral with large configurability and flexib ility allowing to target as example the \nfollowing audio protocol: I2S, LSB or MSB-ju stified, PCM/DSP, TDM, AC’97 and SPDIF \nout\n• Up to 16 slots available with configurable size and with th e possibility to select which \nones are active in the audio frame\n• Number of bits by frame may be configurable\n• Frame synchronization active level co nfigurable (offset, bit length, level)\n• First active bit position in  the slot is configurable\n• LSB first or MSB first for data transfer\n• Mute mode\n• Stereo/Mono audio frame capability\n• Communication clock strobing edge configurable (SCK)\n• Error flags with associated interrupts if enabled respectively\n– Overrun and underrun detection– Anticipated frame synchronization signal detection in slave mode– Late frame synchronization signal detection in slave mode– Codec not ready for the AC’97 mode in reception\nFunctional overview STM32WB55xx   STM32WB35xx\n56/196 DS11929 Rev 14• Interruption sources when enabled:\n–E r r o r s– FIFO requests\n• DMA interface with two dedicated channels to handle access to the dedicated \nintegrated FIFO of the SAI audio sub-block.\nThe PDM (Pulse Density Modulation) block allows the user to manage up to three digital microphone pairs (with two different clocks). Th is block performs Right and Left microphone \n \nde-interleaving and time alignment through programmable delay lines in order to properly \nfeed the SAI.\n3.27 Quad-SPI memory interface (QUADSPI)\nThe Quad-SPI is a specialized communication in terface targeting single, dual or quad SPI \nflash memories. It can operate in any of the three following modes:\n• Indirect mode: all the operations are performed using the QUADSPI registers\n• Status polling mode: the extern al memory status register is periodically read and an \ninterrupt can be generated in case of flag setting\n• Memory-mapped mode: the external flash memory is mapped and is seen by the \nsystem as if it were an internal memory . This mode can be used for the Execute In \nPlace (XIP)\nThe Quad-SPI interface supports:\n• Three functional modes:  indirect, status-pollin g, and memory-mapped\n• SDR and DDR support\n• Fully programmable opcode for both indirect and memory mapped mode\n• Fully programmable frame format for both indirect and memory mapped mode\n• Each of the five following phases can be configured independently (enable, length, \nsingle/dual/quad communication)\n– Instruction phase– Address phase– Alternate bytes phase– Dummy cycles phase– Data phase\n• Integrated FIFO for reception and transmission\n• 8, 16, and 32-bit data accesses are allowed\n• DMA channel for indirect mode operations\n• Programmable masking for external flash memory flag management\n• Timeout management\n• Interrupt generation on FIFO threshold, timeout, status match, operation complete, and \naccess error\nDS11929 Rev 14 57/196STM32WB55xx   STM32WB35xx Functional overview\n573.28 Development support\n3.28.1 Serial wire JT AG debug port (SWJ-DP)\nThe embedded Arm® SWJ-DP interface is a combined JTAG and serial wire debug port that \nenables either a serial wire debug, or a JT AG probe to be connected to the target.\nDebug is performed using only two pins instead of the five required by the JTAG (JTAG pins \ncan then be reused as GPIOs with alternate function): the JTAG TMS and TCK pins are shared with SWDIO and SWCLK, respectively, and a specific sequence on the TMS pin is used to switch between JTAG-DP and SW-DP.\n3.28.2 Embedded Trace Macrocell™\nThe Arm® Embedded Trace Macrocell prov ides a greater visibility of  the instruction and data \nflow inside the CPU core by streaming compressed data at a very high rate from the STM32WB55xx through a small number of ETM pins to an external hardware trace port \nanalyzer (TPA) device. Real-time instruction an d data flow activity be recorded and then \nformatted for display on the host computer th at runs the debugger software. TPA hardware \nis commercially available from common development tool vendors.\nThe Embedded Trace Macrocell operates with third party debugger software tools.\nPinouts and pin description STM32WB55xx   STM32WB35xx\n58/196 DS11929 Rev 144 Pinouts and pin description\nFigure 10. STM32WB55Cx and STM32WB35Cx UFQFPN48 pinout(1)(2)\n1. The above figure shows the package top view.\n2. The exposed pad must be connected to ground plane.\nFigure 11. STM32WB55Rx VFQFPN68 pinout(1)(2) \n1. The above figure shows the package top view.2. The exposed pad must be connected to ground plane.MS42406V41\n23456789101112VBAT\nPC14-OSC32_IN\nPC15-OSC32_OUT\nPH3-BOOT0\nPB8\nPB9\nNRST\nVDDA\nPA0PA1\nPA2\nPA336\n353433323130292827\n26\n2539\n3740\n3845\n43\n4148\n4746\n44\n42\n22\n2421\n2316\n18\n2013\n1415\n17\n19PA4\nPA5\nPA8\nVDD\nOSC_OUTPA6\nPA7\nRF1PA9\nPB2\nVSSRF\nVDDRFPA10VDD\nVDDSMPSVLXSMPS\nVSSSMPS\nVFBSMPSPE4PB1PB0AT1\nAT0\nOSC_INVDDPB7\nPB4\nPA14\nPA11PB6\nPB5\nVDDUSBPB3\nPA15\nPA13\nPA12\nUFQFPN48\nMS45417V3VFQFPN6848\n46\n4544\n43\n424140\n39\n3837\n36\n354755\n53\n5256\n5461\n59\n5764\n6362\n60\n58PA3\nPA6\nPA9\nPB10PA4\nPA5\nPC4\nVDDPA7\nPA8\nRF1PC5\nPB2\nPB11\nVSSRFPB14\nPB12\nVDDVDDSMPS\nVLXSMPS\nVSSSMPSVFBSMPSPE4\nPB1\nPB0AT1\nAT0\nOSC_INPB13PB4\nPB3\nPC12\nPA15\nPA12PD1\nPD0\nPA14PC11\nPC10\nVDDUSB\nPA13\nPA11 34VBAT\nPC14-OSC32_IN\nPC15-OSC32_OUT\nPH3-BOOT0\nPB8PB9\nNRST\nPC0PC1PC2PC3\nVREF+\nVDDA\nPA0\nPA1PC13\nPA21\n3\n4567\n8\n910111213\n14\n15162\n17\n26\n28\n2930313225\n2720\n22\n2418\n19\n21\n23\n33 VDDRF\nOSC_OUT495051 PA10\nPB15PC6PB5PB6PB7VDD\n65666768\nDS11929 Rev 14 59/196STM32WB55xx   STM32WB35xx Pinouts and pin description\n80Figure 12. STM32WB55Vx WLCSP100 ballout(1)\n1. The above figure shows the package top view.\nFigure 13. STM32WB55Vx UFBGA129 ballout(1)\n1. The above figure shows the package top view.\n          MS42407V3PA11 PA12 PA14 PA15 PA13 PC10 PD2 PD7 PB3 VDD123456789 1 0\nABCD\nE\nF\nG\nH\nJ\nKVDD VSS VDDUSB PC9 PA10 PC11 PD5 PD12 VSS PE1\nPB13 PD3 PD1 PD0 PC12 PE0 PD13 VBAT\nVDDSMPS PC6 PD4PC14-\nOSC32_IN\nVLXSMPS PB14 PC7 PH0\nVSSSMPS VFBSMPS\nPE4 PE3\nPB1 PB0 AT0 VSSA\nOSC_IN OSC_OUT VDDRF VDD\nVSSRF VSSRF VSSRF RF1 VDD PA9 PA5 PA4PD8 PD9 PB5 PB7PD6 PB4\nPD14PC15-\nOSC32_OUT\nPD10 PD11 PE2 PD15 PH3-BOOT0 PH1\nPB15 PC8 PB6 PA2 PB8 PC0 NRST\nPB12 PC4 PC13 PA1 PA0 PC1 PC2PB9\nPC3\nAT1 PC5 PA7 PA6 VREF+ VDDA\nVSSRF VSS PB11 PA8 PA3 VSS\nPB10 PB2\nVSS Radio USB VDD SMPS\nMS51777V4PE1 PB6\nPE2\nPD13 PD15\nPC15-\nOSC32_OUT\nPH0\nPH3-BOOT0 PH1\nPC1\nPC2\nVREF+ PA1\nPA0\nPA2 PA5PB5\nPB4\nPB7\nPD14\nPC14-\nOSC32_IN\nVSS\n_DCAP1\nPB8\nPC0\nPC3\nVDDA\nPA4\nPA6\nPA7PD12 PD11\nPB3 PD7\nPD9\nPC13\nPB9\nVSS\nPA9 PC5\nPA8 PC4PD5\nPD8\nPD4\nPD6\nPB10\nPB11\nPB2PD10VDD\n_DCAP4\nPD2VSS\n_DCAP4\nPD1 PC11\nPD3\nVSSRF VSSRF\nVSS\n_DCAP2VSSRF\nVDD\n_DCAP2VSSRFPC10\nPA15\nVSS\nVSSRF\nRF1PA13\nPC12 PD0\nPA14 VSS\nPC6 PC8\nPB14\nPB15 VLXSMPS\nVLXSMPS\nPB12 VFBSMPS\nVSS_DCAP3\nVSSRF AT0\nVSSRF VSSRF\nVSSRF VSSRF\nVSSRFVDDUSB\nVSS\nPA10\nPC7\nPB13\nVDDSMPS\nVSSSMPS\nPE3\nVDD_DCAP3\nAT1\nPB1\nVSSRF\nVDDRFPA12\nPA11\nPC9\nVDDSMPS\nVSSSMPS\nPE4\nPB0\nOSC_IN\nOSC_OUT123456789 1 0 1 1 1 2 1 3\nAB\nCD\nE\nF\nG\nH\nJ\nK\nL\nM\nNPE0\nVBAT\nVDD VDDVSS VSS\nVSS VSS VDD\nVSS VSSVDD VDD\nVSS VSSRFVDD\n_DCAP1\nNRST\nVSSA\nPA3VSS\nNo pin Power supply SMPS USB Radio\nPinouts and pin description STM32WB55xx   STM32WB35xx\n60/196 DS11929 Rev 14Table 15. Legend/abbreviations used in the pinout table \nName Abbreviation Definition\nPin nameUnless otherwise specified in brackets below t he pin name, the pin function during and after \nreset is the same as the actual pin name\nPin typeS Supply pin\nI Input only pin\nI/O Input / output pin\nI/O structureFT 5 V tolerant I/O\nTT 3.6 V tolerant I/O\nRF RF I/O\nRST Bidirectional reset pin with weak pull-up resistor\nOption for TT or FT I/Os\n_f (1)I/O, Fm+ capable\n_l (2)I/O, with LCD function supplied by VLCD\n_u(3) I/O, with USB function supplied by VDDUSB\n_a(4) (5) I/O, with Analog switch function supplied by VDDA\nNotes Unless otherwise specified by a note, all I/ Os are set as analog inputs during and after reset.\nPin \nfunctionsAlternate \nfunctionsFunctions selected through GPIOx_AFR registers\nAdditional \nfunctionsFunctions directly selected/enabled through peripheral registers\n1. The related I/O structures in Table 16  are: FT_f, FT_fa, FT_fl, FT_fla.\n2. The related I/O structures in Table 16  are: FT_l, FT_fl, FT_lu.\n3. The related I/O structures in Table 16  are: FT_u, FT_lu.\n4. The related I/O structures in Table 16  are: FT_a, FT_la, FT_fa, FT_fla, TT_a, TT_la.\n5. Analog switch for the TSC function is supplied by VDD.\nDS11929 Rev 14 61/196STM32WB55xx   STM32WB35xx Pinouts and pin description\n80Table 16. STM32WB55xx pin and ball definitions \nPin number\nPin name \n(function after \nreset)\nPin type\nI/O structures\nNotesAlternate functions  Ad ditional functionsUFQFPN48\nVFQFPN68\nWLCSP100\nUFBGA129\n- - C8 B2 PE0 I/O FT_l -TIM1_ETR, TSC_G7_IO3, \nLCD_SEG36, TIM16_CH1, \nCM4_EVENTOUT-\n- - B10 A1 PE1 I/O FT_l -TSC_G7_IO2, LCD_SEG37, \nTIM17_CH1, \nCM4_EVENTOUT-\n- -  E6 B1 PE2 I/O FT_l -TRACECK, SAI1_PDM_CK1, \nTSC_G7_IO1, LCD_SEG38, \nSAI1_MCLK_A, CM4_EVENTOUT-\n- - C9 C1 PD13 I/O FT_l -TSC_G6_IO4, LCD_SEG33, \nLPTIM2_OUT, CM4_EVENTOUT-\n- - D8 D3 PD14 I/O FT_l -TIM1_CH1, LCD_SEG34, \nCM4_EVENTOUT-\n- - E7 C2 PD15 I/O FT_l -TIM1_CH2, LCD_SEG35, \nCM4_EVENTOUT-\n1 1 C10 D2 VBAT S - - - -\n- 2 G5 F4 PC13 I/O FT\n(1)\n(2)CM4_EVENTOUTRTC_TAMP1/RTC_TS/  \nRTC_OUT/WKUP2\n23 D 1 0 E 3PC14-\nOSC32_INI/O FT(1)\n(2)CM4_EVENTOUT OSC32_IN\n34D 9E 2PC15-\nOSC32_OUTI/O FT(1)\n(2)CM4_EVENTOUT OSC32_OUT\n- - - E5 VSS S - - - -\n-- - F 6 V D D S - - - -\n- - E10 F1 PH0 I/O FT - CM4_EVENTOUT -- - E9 G2 PH1 I/O FT - CM4_EVENTOUT -\n4 5 E8 G1 PH3-BOOT0 I/O FT - CM4_EVENTOUT, LSCO\n(3)-\n5 6 F7 G3 PB8 I/O FT_fl -TIM1_CH2N, \nSAI1_PDM_CK1, I2C1_SCL, \nQUADSPI_BK1_IO1, LCD_SEG16, SAI1_MCLK_A, \nTIM16_CH1, \nCM4_EVENTOUT-\nPinouts and pin description STM32WB55xx   STM32WB35xx\n62/196 DS11929 Rev 146 7 F10 H4 PB9 I/O FT_fla -TIM1_CH3N, SAI1_PDM_DI2, \nI2C1_SDA, SPI2_NSS, \nIR_OUT, TSC_G7_IO4, QUADSPI_BK1_IO0, \nLCD_COM3, SAI1_FS_A, \nTIM17_CH1, CM4_EVENTOUT-\n7 8 F9 H2 NRST I/O RST - - -\n-9F 8H 3 P C 0 I / O F T _ f l a -LPTIM1_IN1, I2C3_SCL, \nLPUART1_RX, LCD_SEG18, \nLPTIM2_IN1, \nCM4_EVENTOUTADC1_IN1\n-1 0 G 8H 1 P C 1 I / O F T _ f l a-LPTIM1_OUT, SPI2_MOSI, \nI2C3_SDA, LPUART1_TX, \nLCD_SEG19, CM4_EVENTOUTADC1_IN2\n- 11 G9 J2 PC2 I/O FT_la -LPTIM1_IN2, SPI2_MISO, \nLCD_SEG20, CM4_EVENTOUTADC1_IN3\n- - - E7 VSS S - - - -\n-- - H 6 V D D S - - - -\n- 12 G10 J3 PC3 I/O FT_a -LPTIM1_ETR, \nSAI1_PDM_DI1, SPI2_MOSI, \nLCD_VLCD, SAI1_SD_A, LPTIM2_ETR, \nCM4_EVENTOUTADC1_IN4\n- - H10 K2 VSSA S - - - -\n- 13 H8 L1 VREF+ S - - - VREFBUF_OUT\n81 4H 9 K 3 V D D A S -\n(4)--\n- - J9 E9 VSS S - - - -\n-- J 1 0 F 8 V D D S - - - -\n91 5G 7 M 1 P A 0 I / OF T _ a -TIM2_CH1, COMP1_OUT, \nSAI1_EXTCLK, TIM2_ETR, \nCM4_EVENTOUTCOMP1_INM, ADC1_IN5, \nRTC_TAMP2/WKUP1\n10 16 G6 L2 PA1 I/O FT_la -TIM2_CH2, I2C1_SMBA, \nSPI1_SCK, LCD_SEG0, \nCM4_EVENTOUTCOMP1_INP, ADC1_IN6Table 16. STM32WB55xx pin and ball definitions (continued)\nPin number\nPin name \n(function after \nreset)\nPin type\nI/O structures\nNotesAlternate functions  Ad ditional functionsUFQFPN48\nVFQFPN68\nWLCSP100\nUFBGA129\nDS11929 Rev 14 63/196STM32WB55xx   STM32WB35xx Pinouts and pin description\n8011 17 F6 N1 PA2 I/O FT_la -LSCO(3), TIM2_CH3, \nLPUART1_TX, \nQUADSPI_BK1_NCS, LCD_SEG1, COMP2_OUT, \nCM4_EVENTOUTCOMP2_INM, ADC1_IN7, \nWKUP4\n12 18 J8 M2 PA3 I/O FT_la -TIM2_CH4, SAI1_PDM_CK1, \nLPUART1_RX, \nQUADSPI_CLK, LCD_SEG2, \nSAI1_MCLK_A, CM4_EVENTOUTCOMP2_INP, ADC1_IN8\n13 19 K10 L3 PA4 I/O FT_a -SPI1_NSS, SAI1_FS_B, \nLPTIM2_OUT, LCD_SEG5, CM4_EVENTOUTCOMP1_INM, \nCOMP2_INM, ADC1_IN9\n14 20 K9 N2 PA5 I/O FT_a -TIM2_CH1, TIM2_ETR, \nSPI1_SCK, LPTIM2_ETR, SAI1_SD_B, \nCM4_EVENTOUTCOMP1_INM, \nCOMP2_INM, ADC1_IN10\n15 21 H7 M3 PA6 I/O FT_la -TIM1_BKIN, SPI1_MISO, \nLPUART1_CTS, \nQUADSPI_BK1_IO3, \nLCD_SEG3, TIM16_CH1, CM4_EVENTOUTADC1_IN11\n16 22 H6 N3 PA7 I/O FT_fla -TIM1_CH1N, I2C3_SCL, \nSPI1_MOSI, QUADSPI_BK1_IO2, \nLCD_SEG4, COMP2_OUT, \nTIM17_CH1, CM4_EVENTOUTADC1_IN12\n17 23 J7 M4 PA8 I/O FT_la -MCO, TIM1_CH1, \nSAI1_PDM_CK2, USART1_CK, LCD_COM0, \nSAI1_SCK_A, LPTIM2_OUT, \nCM4_EVENTOUTADC1_IN15\n18 24 K8 L4 PA9 I/O FT_fla -TIM1_CH2, SAI1_PDM_DI2, \nI2C1_SCL, SPI2_SCK, USART1_TX, LCD_COM1, \nSAI1_FS_A, \nCM4_EVENTOUTCOMP1_INM, ADC1_IN16\n- 25 G4 M5 PC4 I/O FT_la -LCD_SEG22, \nCM4_EVENTOUTCOMP1_INM, ADC1_IN13\n- - - F3 VSS_DCAP1 S - - - -\n-- - G 7 V D D S - - - -Table 16. STM32WB55xx pin and ball definitions (continued)\nPin number\nPin name \n(function after \nreset)\nPin type\nI/O structures\nNotesAlternate functions  Ad ditional functionsUFQFPN48\nVFQFPN68\nWLCSP100\nUFBGA129\nPinouts and pin description STM32WB55xx   STM32WB35xx\n64/196 DS11929 Rev 14- 26 H5 L5 PC5 I/O FT_la -SAI1_PDM_DI3, \nLCD_SEG23, \nCM4_EVENTOUTCOMP1_INP, ADC1_IN14, \nWKUP5\n19 27 K7 N6 PB2 I/O FT_a -RTC_OUT, LPTIM1_OUT, \nI2C3_SMBA, SPI1_NSS, \nLCD_VLCD, SAI1_EXTCLK, CM4_EVENTOUTCOMP1_INP\n- 28 K6 L6 PB10 I/O FT_fl -TIM2_CH3, I2C3_SCL, \nSPI2_SCK, LPUART1_RX, TSC_SYNC, QUADSPI_CLK, \nLCD_SEG10, COMP1_OUT, \nSAI1_SCK_A, CM4_EVENTOUT-\n-2 9J 6 M 6 P B 1 1 I / OF T _ f l -TIM2_CH4, I2C3_SDA, \nLPUART1_TX, QUADSPI_BK1_NCS, \nLCD_SEG11, COMP2_OUT, \nCM4_EVENTOUT-\n- - - G5 VSS S - - - -\n- - - G9 VSS S - - - -\n20 30 K5 H8 VDD S - - - -\n- - - N8 VSSRF S - - - -\n- - J4 L7 VSSRF S - - - -\n- - - L8 VSSRF S - - - -- - - M8 VSSRF S - - - -\n21 31 K4 M9 RF1 I/O RF\n(5)--\n22 32 K3 M10 VSSRF S - - - -\n- - K2 M11 VSSRF S - - - -\n- - - K8 VSSRF S - - - -\n- - - L9 VSSRF S - - - -\n- - - L10 VSSRF S - - - -\n- - - N11 VSSRF S - - - -\n23 33 J3 N12 VDDRF S - - - -\n- - K1 K10 VSSRF S - - - -\n- - - M12 VSSRF S - - - -\n24 34 J2 N13 OSC_OUT O RF(6)--Table 16. STM32WB55xx pin and ball definitions (continued)\nPin number\nPin name \n(function after \nreset)\nPin type\nI/O structures\nNotesAlternate functions  Ad ditional functionsUFQFPN48\nVFQFPN68\nWLCSP100\nUFBGA129\nDS11929 Rev 14 65/196STM32WB55xx   STM32WB35xx Pinouts and pin description\n8025 35 J1 M13 OSC_IN I RF(6)--\n- - - L11 VSSRF S - - - -\n26 36 H3 K11 AT0 O RF(7)--\n27 37 H4 K12 AT1 O RF(7)--\n28 38 H2 L13 PB0 I/O TT(8)COMP1_OUT, \nCM4_EVENTOUT,  \nRF_TX_MOD_EXT_PA-\n29 39 H1 L12 PB1 I/O TT(8)LPUART1_RTS_DE, \nLPTIM2_IN1, CM4_EVENTOUT-\n- - J5 - VSS S - - - -\n- - - M7 VSS_DCAP2 S - - - -- - G2 H12 PE3 I/O FT - CM4_EVENTOUT -\n30 40 G1 H13 PE4 I/O FT - CM4_EVENTOUT -\n31 41 F2 H11 VFBSMPS S - - - -\n- - - G13 VSSSMPS S - - - -\n32 42 F1 G12 VSSSMPS S - - - -\n33 43 E1 F11 VLXSMPS S - - - -\n- - - G11 VLXSMPS S - - - -\n34 44 D1 F12 VDDSMPS S - - - -\n- - - F13 VDDSMPS S - - - -- - - K4 VSS S - - - -\n35 45 B1 - VDD S - - - -\n- 46 G3 H10 PB12 I/O FT_l -TIM1_BKIN, I2C3_SMBA, \nSPI2_NSS, LPUART1_RTS, \nTSC_G1_IO1, LCD_SEG12, \nSAI1_FS_A, \nCM4_EVENTOUT-\n- 47 C1 E12 PB13 I/O FT_fl -TIM1_CH1N, I2C3_SCL, \nSPI2_SCK, LPUART1_CTS, \nTSC_G1_IO2, LCD_SEG13, \nSAI1_SCK_A, CM4_EVENTOUT-Table 16. STM32WB55xx pin and ball definitions (continued)\nPin number\nPin name \n(function after \nreset)\nPin type\nI/O structures\nNotesAlternate functions  Ad ditional functionsUFQFPN48\nVFQFPN68\nWLCSP100\nUFBGA129\nPinouts and pin description STM32WB55xx   STM32WB35xx\n66/196 DS11929 Rev 14- 48 E2 E11 PB14 I/O FT_fl -TIM1_CH2N, I2C3_SDA, \nSPI2_MISO, TSC_G1_IO3, \nLCD_SEG14, SAI1_MCLK_A, CM4_EVENTOUT-\n- 49 F3 F10 PB15 I/O FT_l -RTC_REFIN, TIM1_CH3N, \nSPI2_MOSI, TSC_G1_IO4, LCD_SEG15, SAI1_SD_A, \nCM4_EVENTOUT-\n- 50 D2 D10 PC6 I/O FT_l -TSC_G4_IO1, LCD_SEG24, \nCM4_EVENTOUT-\n- - E3 D12 PC7 I/O FT_l -TSC_G4_IO2, LCD_SEG25, \nCM4_EVENTOUT-\n- - F4 D11 PC8 I/O FT_l -TSC_G4_IO3, LCD_SEG26, \nCM4_EVENTOUT-\n- - B4 C13 PC9 I/O FT_l -TIM1_BKIN, TSC_G4_IO4, \nUSB_NOE, LCD_SEG27, \nSAI1_SCK_B, \nCM4_EVENTOUT-\n- - - K6 VSS S - - - -\n- - B2 - VSS S - - - -\n36 51 B5 C12 PA10 I/O FT_fl -TIM1_CH3, SAI1_PDM_DI1, \nI2C1_SDA, USART1_RX, \nUSB_CRS_SYNC, \nLCD_COM2, SAI1_SD_A, TIM17_BKIN, \nCM4_EVENTOUT-\n37 52 A1 B13 PA11 I/O FT_u -TIM1_CH4, TIM1_BKIN2, \nSPI1_MISO, USART1_CTS, \nUSB_DM, CM4_EVENTOUT-\n38 53 A2 A13 PA12 I/O FT_u -TIM1_ETR, SPI1_MOSI, \nLPUART1_RX, \nUSART1_RTS_DE, USB_DP, CM4_EVENTOUT-\n39 54 A5 A11PA13\n(JTMS_SWDIO)I/O FT_u\n(9)JTMS-SWDIO, IR_OUT, \nUSB_NOE, SAI1_SD_B, CM4_EVENTOUT-\n40 55 B3 A12 VDDUSB S - - - -\n- - - C11 VSS S - - - -Table 16. STM32WB55xx pin and ball definitions (continued)\nPin number\nPin name \n(function after \nreset)\nPin type\nI/O structures\nNotesAlternate functions  Ad ditional functionsUFQFPN48\nVFQFPN68\nWLCSP100\nUFBGA129\nDS11929 Rev 14 67/196STM32WB55xx   STM32WB35xx Pinouts and pin description\n8041 56 A3 C10PA14\n(JTCK_SWCLK)I/O FT_l(9)JTCK-SWCLK, LPTIM1_OUT, \nI2C1_SMBA, LCD_SEG5, \nSAI1_FS_B, CM4_EVENTOUT-\n42 57 A4 C9PA15\n(JTDI)I/O FT_l\n(9)JTDI, TIM2_CH1, TIM2_ETR, \nSPI1_NSS, TSC_G3_IO1, LCD_SEG17, \nCM4_EVENTOUT, MCO-\n- - - J11 VSS_DCAP3 S - - - --5 8A 6 B 9 P C 1 0 I / OF T _ l -TRACED1, TSC_G3_IO2, \nLCD_COM4/LCD_SEG28/  \nLCD_SEG40, CM4_EVENTOUT-\n-5 9B 6 C 8 P C 1 1 I / OF T _ l -TSC_G3_IO3, \nLCD_COM5/LCD_SEG29/  \nLCD_SEG41, \nCM4_EVENTOUT-\n- 60 C5 B10 PC12 I/O FT_l -LSCO\n(3), TRACED3, \nTSC_G3_IO4, \nLCD_COM6/LCD_SEG30/  \nLCD_SEG42, CM4_EVENTOUTRTC_TAMP3/WKUP3\n- 61 C4 B11 PD0 I/O FT - SPI2_NSS, CM4_EVENTOUT -\n- 62 C3 C7 PD1 I/O FT - SPI2_SCK, CM4_EVENTOUT -\n- - A7 B7 PD2 I/O FT_l -TRACED2, TSC_SYNC, \nLCD_COM7/LCD_SEG31/LC\nD_SEG43, CM4_EVENTOUT-\n- - C2 D8 PD3 I/O FT -SPI2_SCK, SPI2_MISO, \nQUADSPI_BK1_NCS, \nCM4_EVENTOUT-\n- - D3 C6 PD4 I/O FT -SPI2_MOSI, TSC_G5_IO1, \nQUADSPI_BK1_IO0, CM4_EVENTOUT-\n- - B7 A6 PD5 I/O FT -TSC_G5_IO2, \nQUADSPI_BK1_IO1, SAI1_MCLK_B, \nCM4_EVENTOUT-Table 16. STM32WB55xx pin and ball definitions (continued)\nPin number\nPin name \n(function after \nreset)\nPin type\nI/O structures\nNotesAlternate functions  Ad ditional functionsUFQFPN48\nVFQFPN68\nWLCSP100\nUFBGA129\nPinouts and pin description STM32WB55xx   STM32WB35xx\n68/196 DS11929 Rev 14- - C6 D6 PD6 I/O FT -SAI1_PDM_DI1, \nTSC_G5_IO3, \nQUADSPI_BK1_IO2, SAI1_SD_A, \nCM4_EVENTOUT-\n- - A8 C5 PD7 I/O FT_l -TSC_G5_IO4, \nQUADSPI_BK1_IO3, \nLCD_SEG39, \nCM4_EVENTOUT-\n- - B9 B12 VSS S - - - -\n- - D4 B6 PD8 I/O FT_l -TIM1_BKIN2, LCD_SEG28, \nCM4_EVENTOUT-\n- - D5 D4 PD9 I/O FT_l -TRACED0, LCD_SEG29, \nCM4_EVENTOUT-\n- - E4 A7 PD10 I/O FT_l -TRIG_INOUT, TSC_G6_IO1, \nLCD_SEG30, \nCM4_EVENTOUT-\n- - E5 B5 PD11 I/O FT_l -TSC_G6_IO2, LCD_SEG31, \nLPTIM2_ETR, \nCM4_EVENTOUT-\n- - B8 B4 PD12 I/O FT_l -TSC_G6_IO3, LCD_SEG32, \nLPTIM2_IN1, \nCM4_EVENTOUT-\n43 63 A9 C4PB3\n(JTDO)I/O FT_la\n(9)JTDO-TRACESWO, \nTIM2_CH2, SPI1_SCK, \nUSART1_RTS_DE, \nLCD_SEG7, SAI1_SCK_B, CM4_EVENTOUTCOMP2_INM\n44 64 C7 B3PB4\n(NJTRST)I/O FT_fla\n(9)NJTRST, I2C3_SDA, \nSPI1_MISO, USART1_CTS, \nTSC_G2_IO1, LCD_SEG8, \nSAI1_MCLK_B, TIM17_BKIN, CM4_EVENTOUTCOMP2_INP\n45 65 D6 A3 PB5 I/O FT_l -LPTIM1_IN1, I2C1_SMBA, \nSPI1_MOSI, USART1_CK, LPUART1_TX, TSC_G2_IO2, \nLCD_SEG9, COMP2_OUT, \nSAI1_SD_B, TIM16_BKIN, CM4_EVENTOUT-Table 16. STM32WB55xx pin and ball definitions (continued)\nPin number\nPin name \n(function after \nreset)\nPin type\nI/O structures\nNotesAlternate functions  Ad ditional functionsUFQFPN48\nVFQFPN68\nWLCSP100\nUFBGA129\nDS11929 Rev 14 69/196STM32WB55xx   STM32WB35xx Pinouts and pin description\n8046 66 F5 A2 PB6 I/O FT_fla -LPTIM1_ETR, I2C1_SCL, \nUSART1_TX, TSC_G2_IO3, \nLCD_SEG6, SAI1_FS_B, TIM16_CH1N, MCO, \nCM4_EVENTOUTCOMP2_INP\n47 67 D7 C3 PB7 I/O FT_fla -LPTIM1_IN2, TIM1_BKIN, \nI2C1_SDA, USART1_RX, \nTSC_G2_IO4, LCD_SEG21, \nTIM17_CH1N, CM4_EVENTOUTCOMP2_INM, PVD_IN\n- - - J5 VSS S - - - -\n- - - J7 VSS S - - - -- - - J9 VSS S - - - -\n- - - B8 VSS_DCAP4 S - - - -\n48 68 A10 - VDD S - - - -\n- - - A8 VDD_DCAP4 S - - - -\n- - - F2 VDD_DCAP1 S - - - -\n- - - J12 VDD_DCAP3 S - - - -- - - N7 VDD_DCAP2 S - - - -\n1. PC13, PC14 and PC15 are supplied through the power switch. As this switch only sinks a limited amount of current (3 mA), \nthe use of the PC13, PC14 and PC15 GPIOs in output mode is limited:  \n- the speed must not exceed 2 MHz with a maximum load of 30 pF  \n- these GPIOs must not be used as current sources (e.g. to drive a LED).\n2. After a Backup domain power-up, PC13, PC14 and PC15 operate as GPIOs. Their function then depends on the content of \nthe RTC registers that are not reset by the system reset. Fo r details on how to manage these GPIOs, refer to the Backup \ndomain and RTC register descriptions in the reference manual RM0434, available on www.st.com .\n3. The clock on LSCO is available in Run and Stop modes, and on PA2 in Standby and Shutdown modes.\n4. On UFQFPN48 VDDA is connected to VREF+.5. RF pin, use the nominal PCB layout.6. 32 MHz oscillator pins, use the nominal PCB la yout according to reference design (see AN5165).\n7. Reserved, must be kept unconnected.\n8. High frequency (above 32 kH z) may impact the RF performance. Set output  speed GPIOB_OSPEEDRy[1:0] to 00 (y = 0 and \n1) during RF operation.\n9. After reset these pins are configured as JTAG/SW debug alte rnate functions, and the internal pull-up on PA15, PA13 and \nPB4 pins and the internal pull-down on PA14 pin are activated.Table 16. STM32WB55xx pin and ball definitions (continued)\nPin number\nPin name \n(function after \nreset)\nPin type\nI/O structures\nNotesAlternate functions  Ad ditional functionsUFQFPN48\nVFQFPN68\nWLCSP100\nUFBGA129\nPinouts and pin description STM32WB55xx   STM32WB35xx\n70/196 DS11929 Rev 14Table 17. STM32WB35xx pin and ball definitions \nPin \nPin type\nI/O structures\nNotesAlternate functions  Ad ditional functionsNumberName (function\nafter reset)\n1 VBAT S - - - -\n2 PC14-OSC32_IN I/O FT(1) (2)CM4_EVENTOUT OSC32_IN\n3 PC15-OSC32_OUT I/O FT(1) (2)CM4_EVENTOUT OSC32_OUT\n4 PH3-BOOT0 I/O FT - CM4_EVENTOUT, LSCO(3)-\n5 PB8 I/O FT_f -TIM1_CH2N, SA I1_PDM_CK1, \nI2C1_SCL, QUADSPI_BK1_IO1, \nSAI1_MCLK_A, TIM16_CH1, \nCM4_EVENTOUT-\n6 PB9 I/O FT_f -TIM1_CH3N, SA I1_PDM_DI2, \nI2C1_SDA, IR_OUT, QUADSPI_BK1_IO0, SAI1_FS_A, \nTIM17_CH1, CM4_EVENTOUT-\n7 NRST I/O RST - - -\n8 VDDA S - - - -\n9P A 0 I / O F T _ a -TIM2_CH1, COMP1_OUT, \nSAI1_EXTCLK, TIM2_ETR, CM4_EVENTOUTCOMP1_INM, ADC1_IN5, \nRTC_TAMP2/WKUP1\n10 PA1 I/O FT_a -TIM2_CH2, I2C1_S MBA, SPI1_SCK, \nCM4_EVENTOUTCOMP1_INP, ADC1_IN6\n11 PA2 I/O FT_a -LSCO\n(3), TIM2_CH3, LPUART1_TX, \nQUADSPI_BK1_NCS, COMP2_OUT, \nCM4_EVENTOUTCOMP2_INM, ADC1_IN7, \nWKUP4\n12 PA3 I/O FT_a -TIM2_CH4, SAI1_PDM_CK1, \nLPUART1_RX, QUADSPI_CLK, \nSAI1_MCLK_A, CM4_EVENTOUTCOMP2_INP, ADC1_IN8\n13 PA4 I/O FT_a -SPI1_NSS, SAI1_FS_B, \nLPTIM2_OUT, CM4_EVENTOUTCOMP1_INM, \nCOMP2_INM, ADC1_IN9\n14 PA5 I/O FT_a -TIM2_CH1, TIM2_ETR, SPI1_SCK, \nLPTIM2_ETR, SAI1_SD_B, \nCM4_EVENTOUTCOMP1_INM, \nCOMP2_INM, ADC1_IN10\n15 PA6 I/O FT_a -TIM1_BKIN, SPI1_MISO, \nLPUART1_CTS, QUADSPI_BK1_IO3, \nTIM16_CH1, CM4_EVENTOUTADC1_IN11\n16 PA7 I/O FT_fa -TIM1_CH1N, I2C3_S CL, SPI1_MOSI, \nQUADSPI_BK1_IO2, COMP2_OUT, \nTIM17_CH1, CM4_EVENTOUTADC1_IN12\n17 PA8 I/O FT_a -MCO, TIM1_CH1, SAI1_PDM_CK2, \nUSART1_CK, SAI1_SCK_A, \nLPTIM2_OUT, CM4_EVENTOUTADC1_IN15\nDS11929 Rev 14 71/196STM32WB55xx   STM32WB35xx Pinouts and pin description\n8018 PA9 I/O FT_fa -TIM1_CH2, SAI1_PDM_DI2, \nI2C1_SCL, USART1_TX, SAI1_FS_A, CM4_EVENTOUTCOMP1_INM, ADC1_IN16\n19 PB2 I/O FT_a -RTC_OUT, LPTIM1_OUT, \nI2C3_SMBA, SPI1_NSS, SAI1_EXTCLK, CM4_EVENTOUTCOMP1_INP\n20 VDD S - - - -\n21 RF1 I/O RF\n(4)--\n22 VSSRF S - - - -\n23 VDDRF S - - - -24 OSC_OUT O RF\n(5)--\n25 OSC_IN I RF(5)--\n26 AT0 O RF(6)--\n27 AT1 O RF(6)--\n28 PB0 I/O TT(7) COMP1_OUT, CM4_EVENTOUT, \nRF_TX_MOD_EXT_PA-\n29 PB1 I/O TT(7) LPUART1_RTS_DE, LPTIM2_IN1, \nCM4_EVENTOUT-\n30 PE4 I/O FT - CM4_EVENTOUT -\n31 VFBSMPS S - - - -\n32 VSSSMPS S - - - -\n33 VLXSMPS S - - - -34 VDDSMPS S - - - -\n35 VDD S - - - -\n36 PA10 I/O FT_f -TIM1_CH3, SAI1_PDM_DI1, \nI2C1_SDA, USART1_RX, \nUSB_CRS_SYNC, SAI1_SD_A, \nTIM17_BKIN, CM4_EVENTOUT-\n37 PA11 I/O FT_u -TIM1_CH4, TIM1_BKIN2, \nSPI1_MISO, USART1_CTS, \nUSB_DM, CM4_EVENTOUT-\n38 PA12 I/O FT_u -TIM1_ETR, SPI1_MOSI, \nLPUART1_RX, USART1_RTS_DE, \nUSB_DP, CM4_EVENTOUT-\n39PA13\n(JTMS-SWDIO)I/O FT\n(8) JTMS-SWDIO, IR_OUT, USB_NOE, \nSAI1_SD_B, CM4_EVENTOUT-\n40 VDDUSB S - - - -Table 17. STM32WB35xx pin and ball definitions (continued)\nPin \nPin type\nI/O structures\nNotesAlternate functions  Ad ditional functionsNumberName (function\nafter reset)\nPinouts and pin description STM32WB55xx   STM32WB35xx\n72/196 DS11929 Rev 1441PA14 \n(JTCK-SWCLK)I/O FT(8)JTCK-SWCLK, LPTIM1_OUT, \nI2C1_SMBA, SAI1_FS_B, CM4_EVENTOUT-\n42 PA15 (JTDI) I/O FT\n(8) JTDI, TIM2_CH1, TIM2_ETR, \nSPI1_NSS, CM4_EVENTOUT, MCO-\n43 PB3 (JTDO) I/O FT_a -JTDO-TRACESWO, TIM2_CH2, \nSPI1_SCK, USART1_RTS_DE, \nSAI1_SCK_B, CM4_EVENTOUTCOMP2_INM\n44 PB4 (NJTRST) I/O FT_fa(8)NJTRST, I2C3_SDA, SPI1_MISO, \nUSART1_CTS, SAI1_MCLK_B, TIM17_BKIN, CM4_EVENTOUTCOMP2_INP\n45 PB5 I/O FT_a -LPTIM1_IN1, I2C1_SMBA, \nSPI1_MOSI, USART1_CK, LPUART1_TX, COMP2_OUT, \nSAI1_SD_B, TIM16_BKIN, \nCM4_EVENTOUT-\n46 PB6 I/O FT_fa -LPTIM1_ETR, I2C1_SCL, \nUSART1_TX, SAI1_FS_B, \nTIM16_CH1N, MCO, CM4_EVENTOUTCOMP2_INP\n47 PB7 I/O FT_fa -LPTIM1_IN2, TIM1_BKIN, I2C1_SDA, \nUSART1_RX, TIM17_CH1N, CM4_EVENTOUTCOMP2_INM, PVD_IN\n48 VDD S - - - -\n1. PC14 and PC15 are supplied through the power switch. As this sw itch only sinks a limited amount of current (3 mA), the \nuse of the PC14 and PC15 GPIOs in output mode is limited:  \n- the speed must not exceed 2 MHz with a maximum load of 30 pF  \n- these GPIOs must not be used as curr ent sources (e.g. to drive a LED).\n2. After a Backup domain power-up, PC13, PC14 and PC15 operate as GPIOs. Their function then depends on the content of \nthe RTC registers that are not reset by the system reset. Fo r details on how to manage these GPIOs, refer to the Backup \ndomain and RTC register descriptions in the reference manual RM0434, available on www.st.com .\n3. The clock on LSCO is avail able in Run and Stop modes, and on PA2 in Standby and Shutdown modes.\n4. RF pin, use the nominal PCB layout.5. 32 MHz oscillator pins, use th e nominal PCB layout according to reference design (see AN5165).\n6. Reserved, must be kept unconnected.7. High frequency (above 32 kH z) may impact the RF performance. Set out put speed GPIOB_OSPEEDRy[1:0] to 00 (y = 0 \nand 1) during RF operation.\n8. After reset these pins are configur ed as JTAG/SW debug alternate functions, and the internal pull-up on PA15, PA13 and \nPB4 pins and the internal pull-down on PA14 pin are activated.Table 17. STM32WB35xx pin and ball definitions (continued)\nPin \nPin type\nI/O structures\nNotesAlternate functions  Ad ditional functionsNumberName (function\nafter reset)\nSTM32WB55xx   STM32WB35xx Pinouts and pin description\nDS11929 Rev 14 73/196          Table 18. Alternate functions (STM32WB55xx) \nPortAF0 AF1 AF2 AF3 AF4 AF5 AF6 AF7 AF8 A F9 AF10 AF11 AF12 AF13 AF14 AF15\nSYS_AF TIM1/\nTIM2/\nLPTIM1TIM1/\nTIM2SPI2/\nSAI1/\nTIM1I2C1/\nI2C3SPI1/\nSPI2RF USART1 LPUART1 TSCUSB/\nQUADSPI LCDCOMP1/\nCOMP2/\nTIM1 SAI1TIM2/\nTIM16/TIM17/\nLPTIM2EVENTOUT\nAPA0 -TIM2_\nCH1- - --- - - - - -COMP1_\nOUTSAI1_\nEXTCLKTIM2_\nETRCM4_\nEVENTOUT\nPA1 -TIM2_\nCH2--I2C1_\nSMBASPI1_\nSCK- - - - LCD_SEG0 - - -CM4_\nEVENTOUT\nPA2 LSCOTIM2_\nCH3- - --- -LPUART1\n_TX-QUADSPI_\nBK1_NCSLCD_SEG1COMP2_\nOUT--CM4_\nEVENTOUT\nPA3 -TIM2_\nCH4-SAI1_\nPDM_CK1--- -LPUART1\n_RX-QUADSPI_\nCLKLCD_SEG2 -SAI1\n_MCLK_A-CM4_\nEVENTOUT\nPA4 -- - -SPI1_\nNSS- - - - - LCD_SEG5 -SAI1\n_FS_BLPTIM2_\nOUTCM4_\nEVENTOUT\nPA5 -TIM2_\nCH1TIM2_\nETR-SPI1_\nSCK-- - - - - -SAI1\n_SD_BLPTIM2_\nETRCM4_\nEVENTOUT\nPA6 -TIM1_\nBKIN--SPI1_\nMISO--LPUART1\n_CTS-QUADSPI_\nBK1_IO3LCD_SEG3TIM1_\nBKIN-TIM16\n_CH1CM4_\nEVENTOUT\nPA7 -TIM1_\nCH1N--I2C3_\nSCLSPI1_\nMOSI-- - -QUADSPI_\nBK1_IO2LCD_SEG4COMP2_\nOUT-TIM17\n_CH1CM4_\nEVENTOUT\nPA8 MCOTIM1_\nCH1-SAI1_\nPDM_CK2---USART1_\nCK- - LCD_COM0 -SAI1\n_SCK_ALPTIM2_\nOUTCM4_\nEVENTOUT\nPA9 -TIM1_\nCH2-SAI1_\nPDM_DI2I2C1_\nSCLSPI2_\nSCK-USART1_\nTX- - LCD_COM1 -SAI1\n_FS_A-CM4_\nEVENTOUT\nPA10 -TIM1_\nCH3-SAI1_\nPDM_DI1I2C1_\nSDA-USART1_\nRX--USB_CRS\n_SYNCLCD_COM2 -SAI1\n_SD_ATIM17\n_BKINCM4_\nEVENTOUT\nPA11 -TIM1_\nCH4TIM1_\nBKIN2--SPI1_\nMISO-USART1_\nCTS- - USB_DM -TIM1_\nBKIN2--CM4_\nEVENTOUT\nPA12 -TIM1_\nETR---SPI1_\nMOSI-USART1_\nRTS_DELPUART1\n_RX- U S B _ D P - ---CM4_\nEVENTOUT\nPA13JTMS-\nSWDIO-- - --- - I R _ O U T - U S B _ N O E - -SAI1\n_SD_B-CM4_\nEVENTOUT\nPA14JTCK-\nSWCLKLPTIM1_\nOUT--I2C1_\nSMBA- - - - - - LCD_SEG5 -SAI1\n_FS_B-CM4_\nEVENTOUT\nPA15 JTDITIM2_\nCH1TIM2_\nETR-SPI1_\nNSSMCO - - - LCD_SEG17 - - -CM4_\nEVENTOUT\nPinouts and pin description STM32WB55xx   STM32WB35xx\n74/196 DS11929 Rev 14\nBPB0 - - --- -RF_TX_ \nMOD_\nEXT_PA-- - -COMP1_\nOUT--CM4_\nEVENTOUT\nPB1 - -- - --- -LPUART1\n_RTS_DE-- - - -LPTIM2_\nIN1CM4_\nEVENTOUT\nPB2RTC_\nOUTLPTIM1_\nOUT--I2C3_\nSMBASPI1_\nNSS- - - - - LCD_VLCD -SAI1_\nEXTCLK-CM4_\nEVENTOUT\nPB3JTDO-\nTRACE\nSWOTIM2_\nCH2---SPI1_\nSCK-USART1_\nRTS_DE- - - LCD_SEG7 -SAI1_\nSCK_B-CM4_\nEVENTOUT\nPB4 NJTRST - - -I2C3_\nSDASPI1_\nMISO-USART1_\nCTS-TSC_G2\n_IO1- LCD_SEG8 -SAI1_\nMCLK_BTIM17_\nBKINCM4_\nEVENTOUT\nPB5 -LPTIM1_\nIN1--I2C1_\nSMBASPI1_\nMOSI-USART1_\nCKLPUART1\n_TXTSC_G2\n_IO2- LCD_SEG9COMP2_\nOUTSAI1_\nSD_BTIM16_\nBKINCM4_\nEVENTOUT\nPB6 MCOLPTIM1_\nETR--I2C1_\nSCL--USART1_\nTX-TSC_G2\n_IO3- LCD_SEG6 -SAI1_\nFS_BTIM16_\nCH1NCM4_\nEVENTOUT\nPB7 -LPTIM1_\nIN2-TIM1_\nBKINI2C1_\nSDA--USART1_\nRX-TSC_G2\n_IO4- LCD_SEG21 - -TIM17_\nCH1NCM4_\nEVENTOUT\nPB8 -TIM1_\nCH2N-SAI1_\nPDM_CK1I2C1_\nSCL-- - - -QUADSPI_\nBK1_IO1LCD_SEG16 -SAI1_\nMCLK_ATIM16_\nCH1CM4_\nEVENTOUT\nPB9 -TIM1_\nCH3N-SAI1_\nPDM_DI2I2C1_\nSDASPI2_\nNSS-- I R _ O U TTSC_G7\n_IO4QUADSPI_\nBK1_IO0LCD_COM3 -SAI1_\nFS_ATIM17_\nCH1CM4_\nEVENTOUT\nPB10 -TIM2_\nCH3--I2C3_\nSCLSPI2_SC\nK--LPUART1\n_RXTSC\n_SYNCQUADSPI_\nCLKLCD_SEG10COMP1_\nOUTSAI1_\nSCK_A-CM4_\nEVENTOUT\nPB11 -TIM2_\nCH4--I2C3_\nSDA-- -LPUART1\n_TX-QUADSPI_\nBK1_NCSLCD_SEG11COMP2_\nOUT--CM4_\nEVENTOUT\nPB12 -TIM1_\nBKIN-TIM1_\nBKINI2C3_\nSMBASPI2_\nNSS--LPUART1\n_RTSTSC_G1\n_IO1- LCD_SEG12 -SAI1_\nFS_A-CM4_\nEVENTOUT\nPB13 -TIM1_\nCH1N--I2C3_\nSCLSPI2_\nSCK--LPUART1\n_CTSTSC_G1\n_IO2- LCD_SEG13 -SAI1_\nSCK_A-CM4_\nEVENTOUT\nPB14 -TIM1_\nCH2N--I2C3_\nSDASPI2_\nMISO-- -TSC_G1\n_IO3- LCD_SEG14 -SAI1_\nMCLK_A-CM4_\nEVENTOUT\nPB15RTC_\nREFINTIM1_\nCH3N---SPI2_\nMOSI-- -TSC_G1\n_IO4- LCD_SEG15 -SAI1_\nSD_A-CM4_\nEVENTOUTTable 18. Alternate functions (STM32WB55xx) (continued)\nPortAF0 AF1 AF2 AF3 AF4 AF5 AF6 AF7 AF8 A F9 AF10 AF11 AF12 AF13 AF14 AF15\nSYS_AF TIM1/\nTIM2/\nLPTIM1TIM1/\nTIM2SPI2/\nSAI1/\nTIM1I2C1/\nI2C3SPI1/\nSPI2RF USART1 LPUART1 TSCUSB/\nQUADSPI LCDCOMP1/\nCOMP2/\nTIM1 SAI1TIM2/\nTIM16/TIM17/\nLPTIM2EVENTOUT\nSTM32WB55xx   STM32WB35xx Pinouts and pin description\nDS11929 Rev 14 75/196\nCPC0 -LPTIM1_\nIN1--I2C3\n_SCL-- -LPUART1\n_RX- - LCD_SEG18 - -LPTIM2_\nIN1CM4_\nEVENTOUT\nPC1 -LPTIM1_\nOUT-SPI2_\nMOSII2C3\n_SDA--LPUART1\n_TX- - LCD_SEG19 - - -CM4_\nEVENTOUT\nPC2 -LPTIM1_\nIN2---SPI2_\nMISO- - - - - LCD_SEG20 - - -CM4_\nEVENTOUT\nPC3 -LPTIM1_\nETR-SAI1_\nPDM_DI1-SPI2_\nMOSI- - - - - LCD_VLCD -SAI1\n_SD_ALPTIM2_\nETRCM4_\nEVENTOUT\nPC4 - -- - --- - - - - L C D _ S E G 2 2 - - -CM4_\nEVENTOUT\nPC5 -- -SAI1_\nPDM_DI3--- - - - - L C D _ S E G 2 3 - - -CM4_\nEVENTOUT\nPC6 - -- - --- - -TSC_G4\n_IO1- LCD_SEG24 - - -CM4_\nEVENTOUT\nPC7 - -- - --- - -TSC_G4\n_IO2- LCD_SEG25 - - -CM4_\nEVENTOUT\nPC8 - -- - --- - -TSC_G4\n_IO3- LCD_SEG26 - - -CM4_\nEVENTOUT\nPC9 -- -TIM1\n_BKIN--- - -TSC_G4\n_IO4USB_NOE LCD_SEG27 -SAI1\n_SCK_B-CM4_\nEVENTOUT\nPC10TRACE\nD1-- - --- - -TSC_G3\n_IO2-LCD_COM4\nLCD_SEG28\nLCD_SEG40---CM4_\nEVENTOUT\nPC11 - -- - --- - -TSC_G3\n_IO3-LCD_COM5\nLCD_SEG29\nLCD_SEG41---CM4_\nEVENTOUT\nPC12TRACE\nD3- --- - L S C O - -TSC_G3\n_IO4-LCD_COM6\nLCD_SEG30LCD_SEG42---CM4_\nEVENTOUT\nPC13 - -- - --- - - - - - - - -CM4_\nEVENTOUT\nPC14 - -- - --- - - - - - - - -CM4_\nEVENTOUT\nPC15 - -- - --- - - - - - - - -CM4_\nEVENTOUTTable 18. Alternate functions (STM32WB55xx) (continued)\nPortAF0 AF1 AF2 AF3 AF4 AF5 AF6 AF7 AF8 A F9 AF10 AF11 AF12 AF13 AF14 AF15\nSYS_AF TIM1/\nTIM2/\nLPTIM1TIM1/\nTIM2SPI2/\nSAI1/\nTIM1I2C1/\nI2C3SPI1/\nSPI2RF USART1 LPUART1 TSCUSB/\nQUADSPI LCDCOMP1/\nCOMP2/\nTIM1 SAI1TIM2/\nTIM16/TIM17/\nLPTIM2EVENTOUT\nPinouts and pin description STM32WB55xx   STM32WB35xx\n76/196 DS11929 Rev 14\nDPD0 - - ---SPI2_\nNSS- - -- - - ---CM4_\nEVENTOUT\nPD1 - - ---SPI2_\nSCK- - -- - - ---CM4_\nEVENTOUT\nPD2TRACE\nD2-- - --- - -TSC_\nSYNC-LCD_COM7\nLCD_SEG31\nLCD_SEG43---CM4_\nEVENTOUT\nPD3 - - - SPI2_SCK -SPI2_\nMISO-- - -QUADSPI_\nBK1_NCS- ---CM4_\nEVENTOUT\nPD4 - - ---SPI2_\nMOSI-- -TSC_\nG5_IO1QUADSPI_\nBK1_IO0- ---CM4_\nEVENTOUT\nPD5 - -- - --- - -TSC_\nG5_IO2QUADSPI_\nBK1_IO1--SAI1_\nMCLK_B-CM4_\nEVENTOUT\nPD6 -- -SAI1_\nPDM_DI1--- - -TSC_\nG5_IO3QUADSPI_\nBK1_IO2--SAI1_\nSD_A-CM4_\nEVENTOUT\nPD7 - -- - --- - -TSC_\nG5_IO4QUADSPI_\nBK1_IO3LCD_SEG39 - - -CM4_\nEVENTOUT\nPD8 --TIM1\n_BKIN2- --- - - - - L C D _ S E G 2 8 - - -CM4_\nEVENTOUT\nPD9TRACE\nD0-- - --- - - - - L C D _ S E G 2 9 - - -CM4_\nEVENTOUT\nPD10TRIG\n_INOUT-- - --- - -TSC_\nG6_IO1- LCD_SEG30 - - -CM4_\nEVENTOUT\nPD11 - -- - --- - -TSC_\nG6_IO2- LCD_SEG31 - -LPTIM2_\nETRCM4_\nEVENTOUT\nPD12 - -- - --- - -TSC_\nG6_IO3- LCD_SEG32 - -LPTIM2_\nIN1CM4_\nEVENTOUT\nPD13 - -- - --- - -TSC_\nG6_IO4- LCD_SEG33 - -LPTIM2_\nOUTCM4_\nEVENTOUT\nPD14 -TIM1_\nCH1- - --- - - - - L C D _ S E G 3 4 - - -CM4_\nEVENTOUT\nPD15 -TIM1_\nCH2- - --- - - - - L C D _ S E G 3 5 - - -CM4_\nEVENTOUTTable 18. Alternate functions (STM32WB55xx) (continued)\nPortAF0 AF1 AF2 AF3 AF4 AF5 AF6 AF7 AF8 A F9 AF10 AF11 AF12 AF13 AF14 AF15\nSYS_AF TIM1/\nTIM2/\nLPTIM1TIM1/\nTIM2SPI2/\nSAI1/\nTIM1I2C1/\nI2C3SPI1/\nSPI2RF USART1 LPUART1 TSCUSB/\nQUADSPI LCDCOMP1/\nCOMP2/\nTIM1 SAI1TIM2/\nTIM16/TIM17/\nLPTIM2EVENTOUT\nSTM32WB55xx   STM32WB35xx Pinouts and pin description\nDS11929 Rev 14 77/196EPE0 -TIM1_\nETR- - --- - -TSC_\nG7_IO3- LCD_SEG36 - -TIM16_\nCH1CM4_\nEVENTOUT\nPE1 - -- - --- - -TSC_\nG7_IO2- LCD_SEG37 - -TIM17_\nCH1CM4_\nEVENTOUT\nPE2 TRACECK - -SAI1_\nPDM_CK1--- - -TSC_\nG7_IO1- LCD_SEG38 -SAI1_\nMCLK_A-CM4_\nEVENTOUT\nPE3 - -- - --- - - - - - - - -CM4_\nEVENTOUT\nPE4 - -- - --- - - - - - - - -CM4_\nEVENTOUT\nHPH0 - -- - --- - - - - - - - -CM4_\nEVENTOUT\nPH1 - -- - --- - - - - - - - -CM4_\nEVENTOUT\nPH3 L S C O -- - --- - - - - - - - -CM4_\nEVENTOUTTable 18. Alternate functions (STM32WB55xx) (continued)\nPortAF0 AF1 AF2 AF3 AF4 AF5 AF6 AF7 AF8 A F9 AF10 AF11 AF12 AF13 AF14 AF15\nSYS_AF TIM1/\nTIM2/\nLPTIM1TIM1/\nTIM2SPI2/\nSAI1/\nTIM1I2C1/\nI2C3SPI1/\nSPI2RF USART1 LPUART1 TSCUSB/\nQUADSPI LCDCOMP1/\nCOMP2/\nTIM1 SAI1TIM2/\nTIM16/TIM17/\nLPTIM2EVENTOUT\nPinouts and pin description STM32WB55xx   STM32WB35xx\n78/196 DS11929 Rev 14          Table 19. Alternate functions (STM32WB35xx) \nPortAF0 AF1 AF2 AF3 AF4 AF5 AF6 AF7 AF8 AF10 AF12 AF13 AF14 AF15\nSYS_AF TIM1/\nTIM2/\nLPTIM1TIM1/\nTIM2SAI1/\nTIM1I2C1/\nI2C3SPI1 RF USART1 LPUART1USB/\nQUADSPI COMP1/\nCOMP2/\nTIM1 SAI1TIM2/\nTIM16/\nTIM17/\nLPTIM2EVENTOUT\nAPA0 -TIM2_\nCH1--- - - - - -COMP1_\nOUTSAI1_\nEXTCLKTIM2_\nETRCM4_\nEVENTOUT\nPA1 -TIM2_\nCH2--I2C1_\nSMBASPI1_\nSCK-- - - - -CM4_\nEVENTOUT\nPA2 LSCOTIM2_\nCH3--- - - -LPUART1\n_TXQUADSPI_\nBK1_NCSCOMP2_\nOUT--CM4_\nEVENTOUT\nPA3 -TIM2_\nCH4-SAI1_\nPDM_CK1-- - -LPUART1\n_RXQUADSPI_\nCLK-SAI1\n_MCLK_A-CM4_\nEVENTOUT\nPA4 -- - -SPI1_\nNSS-- - - -SAI1\n_FS_BLPTIM2_\nOUTCM4_\nEVENTOUT\nPA5 -TIM2_\nCH1TIM2_\nETR-SPI1_\nSCK-- - - -SAI1\n_SD_BLPTIM2_\nETRCM4_\nEVENTOUT\nPA6 -TIM1_\nBKIN--SPI1_\nMISO--LPUART1\n_CTSQUADSPI_\nBK1_IO3TIM1_\nBKIN-TIM16\n_CH1CM4_\nEVENTOUT\nPA7 -TIM1_\nCH1N--I2C3_\nSCLSPI1_\nMOSI-- -QUADSPI_\nBK1_IO2COMP2_\nOUT-TIM17\n_CH1CM4_\nEVENTOUT\nPA8 MCOTIM1_\nCH1-SAI1_\nPDM_CK2-- -USART1_\nCK--SAI1\n_SCK_ALPTIM2_\nOUTCM4_\nEVENTOUT\nPA9 -TIM1_\nCH2-SAI1_\nPDM_DI2I2C1_\nSCL--USART1_\nTX--SAI1\n_FS_A-CM4_\nEVENTOUT\nPA10 -TIM1_\nCH3-SAI1_\nPDM_DI1I2C1_\nSDA--USART1_\nRX-USB_CRS\n_SYNC-SAI1\n_SD_ATIM17\n_BKINCM4_\nEVENTOUT\nPA11 -TIM1_\nCH4TIM1_\nBKIN2--SPI1_\nMISO-USART1_\nCTS-U S B _ D MTIM1_\nBKIN2--CM4_\nEVENTOUT\nPA12 -TIM1_\nETR---SPI1_\nMOSI-USART1_\nRTS_DELPUART1\n_RXUSB_DP - - -CM4_\nEVENTOUT\nPA13JTMS-\nSWDIO- - - - - - - IR_OUT USB_NOE -SAI1\n_SD_B-CM4_\nEVENTOUT\nPA14JTCK-\nSWCLKLPTIM1_\nOUT--I2C1_\nSMBA-- - - - -SAI1\n_FS_B-CM4_\nEVENTOUT\nPA15 JTDITIM2_\nCH1TIM2_\nETR-SPI1_\nNSSMCO - - - - - -CM4_\nEVENTOUT\nSTM32WB55xx   STM32WB35xx Pinouts and pin description\nDS11929 Rev 14 79/196 BPB0 -- - - - -RF_TX_\nMOD_EXT_PA--COMP1_\nOUT--CM4_\nEVENTOUT\nPB1 -- - - - - - -LPUART1\n_RTS_DE-- -LPTIM2_\nIN1CM4_\nEVENTOUT\nPB2RTC_\nOUTLPTIM1_\nOUT--I2C3_\nSMBASPI1_\nNSS-- - - -SAI1_\nEXTCLK-CM4_\nEVENTOUT\nPB3JTDO-\nTRACE\nSWOTIM2_\nCH2---SPI1_\nSCK-USART1_\nRTS_DE-- -SAI1_\nSCK_B-CM4_\nEVENTOUT\nPB4 NJTRST - - -I2C3_\nSDASPI1_\nMISO-USART1_\nCTS-- -SAI1_\nMCLK_BTIM17_\nBKINCM4_\nEVENTOUT\nPB5 -LPTIM1_\nIN1--I2C1_\nSMBASPI1_\nMOSI-USART1_\nCKLPUART1\n_TX-COMP2_\nOUTSAI1_\nSD_BTIM16_\nBKINCM4_\nEVENTOUT\nPB6 MCOLPTIM1_\nETR--I2C1_\nSCL--USART1_\nTX-- -SAI1_\nFS_BTIM16_\nCH1NCM4_\nEVENTOUT\nPB7 -LPTIM1_\nIN2-TIM1_\nBKINI2C1_\nSDA--USART1_\nRX-- - -TIM17_\nCH1NCM4_\nEVENTOUT\nPB8 -TIM1_\nCH2N-SAI1_\nPDM_CK1I2C1_\nSCL-- - -QUADSPI_\nBK1_IO1-SAI1_\nMCLK_ATIM16_\nCH1CM4_\nEVENTOUT\nPB9 -TIM1_\nCH3N-SAI1_\nPDM_DI2I2C1_\nSDA-- - I R _ O U TQUADSPI_\nBK1_IO0-SAI1_\nFS_ATIM17_\nCH1CM4_\nEVENTOUT\nCPC14 -- - - - - - - - - ---CM4_\nEVENTOUT\nPC15 -- - - - - - - - - ---CM4_\nEVENTOUT\nE PE4 -- - - - - - - - - ---CM4_\nEVENTOUT\nH PH3 LSCO - - - - - - - - - - - -CM4_\nEVENTOUTTable 19. Alternate functions (STM32WB35xx) (continued)\nPortAF0 AF1 AF2 AF3 AF4 AF5 AF6 AF7 AF8 AF10 AF12 AF13 AF14 AF15\nSYS_AF TIM1/\nTIM2/\nLPTIM1TIM1/\nTIM2SAI1/\nTIM1I2C1/\nI2C3SPI1 RF USART1 LPUART1USB/\nQUADSPI COMP1/\nCOMP2/\nTIM1 SAI1TIM2/\nTIM16/TIM17/\nLPTIM2EVENTOUT\nMemory mapping STM32WB55xx   STM32WB35xx\n80/196 DS11929 Rev 145 Memory mapping\nThe STM32WB55xx and STM32WB35xx devices feature a single physical address space \nthat can be accessed by the application processor and by the RF subsystem.\nA part of the flash memory and of the SRAM2a and SRAM2b memories are made secure, \nexclusively accessible by the CPU2, protected aga inst execution, read and write from CPU1 \nand DMA.\nIn case of shared resources the SW should implement arbitration mechanism to avoid access conflicts. This happens for peripherals  Reset and Clock Controller (RCC), Power \nController (PWC), EXTI and flash interface, and can be implemented using the built-in \nsemaphore block (HSEM).\nBy default the RF subsystem and CPU2 operate in secure mode. This implies that part of \nthe flash and of the SRAM2 memories can onl y be accessed by the RF subsystem and by \nthe CPU2. In this case the Host processor (CPU1) has no access to these resources.\nThe detailed memory map and the peripheral mapping can be found in the reference manual RM0434.\n          \nDS11929 Rev 14 81/196STM32WB55xx   STM32WB35xx Electrical characteristics\n1696 Electrical characteristics\n6.1 Parameter conditions\nUnless otherwise specified, a ll voltages are referenced to VSS.\n6.1.1 Minimum and maximum values\nUnless otherwise specified, the minimum and maximum values are guaranteed in the worst \nconditions of ambient temperature, supply vo ltage and frequencies by tests in production on \n100% of the devices with an ambient temperature at TA = 25  °C and TA = TAmax (given by \nthe selected temperature range).\nData based on characterization results, desig n simulation and/or technology characteristics \nare indicated in the table footnotes and are not tested in production. Based on characterization, the minimum and maximum valu es refer to sample tests and represent the \nmean value plus or minus three times the standard deviation (mean ±3 σ).\n6.1.2 Typical values\nUnless otherwise specified, typical data are based on VDD = VDDA = VDDRF  = 3 V and  \nTA = 25  °C. They are given only as design guidelines and are not tested.\nTypical ADC accuracy values are determined by ch aracterization of a batch of samples from \na standard diffusion lot over the full temperat ure range, where 95% of the devices have an \nerror less than or equal to the value indicated  (mean ± 2 σ).\n6.1.3 Typical curves\nUnless otherwise specified, all typical curves  are given only as design guidelines and are \nnot tested.\n6.1.4 Loading capacitor\nThe loading conditions used for pin parameter measurement are shown in Figure  14.\n6.1.5 Pin input voltage\nThe input voltage measurement on a pin of the device is described in Figure  15.\n          \nFigure 14. Pin loading conditions Figure 15. Pin input voltage\nMS19210V1MCU pin\nC = 50 pF\nMS19211V1MCU pin\nVIN\nElectrical characteristics STM32WB55xx   STM32WB35xx\n82/196 DS11929 Rev 146.1.6 Power supply scheme\nFigure 16. Power supply scheme (all packages except UFBGA129 and WLCSP100)\n1. The value of L1 depends upon the frequency, as indicated in Table 6 .\n2. VREF+ connection is not availa ble on UFQFPN48 package.MS53167V5VDDBackup circuitry\n(LSE, RTC and\nbackup registers)\nKernel logic \n(CPU, digital \nand memoriesLevel shifterIO\nlogicINOUTRegulator\nGPIOs1.55 V to  3.6 V\nn x 100 nF + 1 x 4.7 μFn x VDDVBAT\nVCOREPower switch\nVDDIO1\nADC\nCOMPsVREF+(2)\nVREF-VDDA\n10 nF + 1 μFVDDA\nSMPS RegulatorVDDSMPS\nVLXSMPS\nVFBSMPS\nVSSSMPS4.7 μFVDD\nL1(1)\nExposed pad4.7 μF\nTo all modulesSMPS\nUSB \ntransceiver\nRadio100 nFVDDUSB\n100 nF\n + 100 pFVDDRF\nVSSRFVDDVDDVSS\n100 nF + 1 μF\nVSS\nVSSVREF\nDS11929 Rev 14 83/196STM32WB55xx   STM32WB35xx Electrical characteristics\n169Figure 17. Power supply scheme (UFBGA129 and WLCSP100 packages)\n1. The value of L1 depends upon the frequency, as indicated in Table 6 .\n2. For UFBGA129 package VDD_DCAPx and VSS_DCAPx balls are connected to VDD and VSS internally, to \nsimplify the 2-layer board layout and especially the ground plane below the BGA.  \nVDD power supply can be made with a single connection to the center of the BGA on the board bottom \nlayer. The decoupling 100 nF capacitors are c onnected without cutting the board ground plane.\n3. n x 100 nF only for WLCSP package.MS53132V2VDDBackup circuitry\n(LSE, RTC and\nbackup registers)\nKernel logic \n(CPU, digital \nand memoriesLevel shifterIO\nlogicINOUTRegulator\nGPIOs1.55 to  3.6 V\nn x 100 nF + \n1 x 4.7 μF(3)\nn x VSSn x VDDVBAT\nVCOREPower switch\nVDDIO1\nADCs\nOPAMPs\nCOMPs\nVREFBUFVREF+\nVREF-VDDA\n10 nF + 1 μFVDDA\nVSSAVREF\n100 nF 1 μF\nSMPS RegulatorVDDSMPS\nVLXSMPS\nVFBSMPS\nVSSSMPS4.7 μFVDD\nL1(1)\n4.7 μFSMPSVSS_DCAPx(2)VDD_DCAPx(2)\n1 x 100 nF\nUSB \ntransceiverVDDUSBVDD\n100 nF\nRadio100 nF\n + 100 pFVDDRF\nVSSRFVDD\nElectrical characteristics STM32WB55xx   STM32WB35xx\n84/196 DS11929 Rev 14Caution: Each power supply pair (VDD / VSS, VDDA / VSSA etc.) must be decoupled with filtering \nceramic capacitors as shown in Figure 16 . These capacitors must be placed as close as \npossible to (or below) the appropriate pins on the underside of the PCB to ensure the good functionality of the device.\n6.1.7 Current consumption measurement\nFigure 18. Current consum ption measurement scheme\n6.2 Absolute maximum ratings\nStresses above the absolute maximum ratings listed in Table  20, Table  21 and Table  22 \nmay cause permanent damage to the device. These are stress ratings only and functional \noperation of the device at these conditions is  not implied. Exposure to maximum rating \nconditions for extend ed periods may affect device reliability.\nDevice mission profile (application condit ions) is compliant with JEDEC JESD47 \nQualification Standard, ex tended mission profiles are available on demand.MS45416V1IDDUSB\nVDDUSB\nIDDVBAT\nVBAT\nIDD\nIDDAVDD\nVDDAIDDRF\nVDDRFIDDSMPS\nVDDSMPS\nDS11929 Rev 14 85/196STM32WB55xx   STM32WB35xx Electrical characteristics\n169          \n          Table 20. Voltage characteristics(1) \nSymbol Ratings Min Max Unit\nVDDX - VSSExternal main supply voltage  \n(including VDD, VDDA, VDDUSB , VLCD, VDDRF , \nVDDSMPS , VBAT, VREF+)-0.3 4.0\nV\nVIN(2)Input voltage on FT_xxx pins\nVSS-0.3min (VDD, VDDA, VDDUSB , VLCD, \nVDDRF , VDDSMPS ) + 4.0(3)(4)\nInput voltage on TT_xx pins 4.0\nInput voltage on any other pin 4.0\n|∆VDDx|Variations between different VDDX power pins \nof the same domain-5 0\nmV\n|VSSx-VSS|Variations between all the different ground \npins(5) -5 0\nVREF+ - VDDA Allowed voltage difference for VREF+ > VDDA -0 . 4 V\n1. All main power (VDD, VDDRF , VDDA, VDDUSB , VLCD, VBAT) and ground (VSS, VSSA) pins must always be connected to the \nexternal power supply, in the permitted range.\n2. VIN maximum must always be respected. Refer to Table 21  for the maximum allowed injected current values.\n3. This formula has to be applied only on the power supplies related to the IO struct ure described in the pin definition table.\n4. To sustain a voltage higher than 4 V the inte rnal pull-up/pull-down resistors must be disabled.\n5. Include VREF- pin.\nTable 21. Current characteristics \nSymbol Ratings Max Unit\n∑IVDD Total current into sum of all VDD power lines (source)(1)130\nmA∑IVSS Total current out of sum of all VSS ground lines (sink)(1)130\nIVDD(PIN) Maximum current into each VDD power pin (source)(1)100\nIVSS(PIN) Maximum current out of each VSS ground pin (sink)(1)100\nIIO(PIN)Output current sunk by any I/O and control pin except FT_f 20\nOutput current sunk by any FT_f pin 20Output current sourced by any I/O and control pin 20\n∑I\nIO(PIN)Total output current sunk by sum of all I/Os and control pins(2)100\nTotal output current sourced by sum of all I/Os and control pins(2)100\nIINJ(PIN)(3)Injected current on FT_xxx, TT_xx, RST and B pins, except PB0 and PB1 –5 / +0(4)\nInjected current on PB0 and PB1 -5/0\n∑|IINJ(PIN) |Total injected current (sum of all I/Os and control pins)(5)25\n1. All main power (VDD, VDDRF , VDDA, VDDUSB , VBAT) and ground (VSS, VSSA) pins must always be connected to the external \npower supplies, in the permitted range.\n2. This current consumption must be correc tly distributed over all I/Os and control pi ns. The total output current must not be \nsunk/sourced between two consecutive power suppl y pins referring to high pin count packages.\n3. Positive injection (when VIN > VDD) is not possible on these I/Os and does not occur for input voltages lower than the \nspecified maximum value.\n4. A negative injection is induced by VIN < VSS. IINJ(PIN)  must never be exceeded. Refer also to Table 20: Voltage \ncharacteristics  for the maximum allowed input voltage values.\nElectrical characteristics STM32WB55xx   STM32WB35xx\n86/196 DS11929 Rev 14          5. When several inputs are submitted to a current injection, the maximum ∑|IINJ(PIN) | is the absolute sum of the negative \ninjected currents (instantaneous values).\nTable 22. Thermal characteristics \nSymbol Ratings  Value Unit\nTSTG Storage temperature range –65 to +150\n°C\nTJ Maximum junction temperature 130\nDS11929 Rev 14 87/196STM32WB55xx   STM32WB35xx Electrical characteristics\n1696.3 Operating conditions\n6.3.1 Summary of main performance\n          \n6.3.2 General operating conditions\n          Table 23. Main performance at VDD = 3.3 V \nParameter  Test conditions Typ Unit\nICORECore current  \nconsumptionVBAT (VBAT = 1.8 V, VDD = 0 V) 0.002\nµAShutdown (VDD = 1.8 V) 0.013\nStandby (VDD = 1.8 V, 32 Kbytes RAM retention) 0.320\nStop2 1.85\nSleep (16 MHz) 740\nLP run (2 MHz) 320\nRun (64 MHz) 5000\nRadio RX(1)4500\nRadio TX 0 dBm output power(1)5200\nIPERIPeripheral \ncurrent \nconsumptionBluetooth \nLow EnergyAdvertising with Stop 2\n(2)\n(Tx = 0 dBm; Period 1.28 s; 31 bytes, 3 channels)13\nAdvertising with Stop 2(2)\n(Tx = 0 dBm, 6 bytes; period 10.24 s, 3 channels)4\nLP timers - 6\nI2C3 - 7.1\nLPUART - 7.7RTC - 2.5\n1. Power consumption including RF subsystem and digital processing.\n2. Power consumption averaged over 100 s, including Cortex-M 4, RF subsystem, digital processing and Cortex-M0+.\nTable 24. General operating conditions \nSymbol Parameter  Conditions Min Max Unit\nfHCLK Internal AHB clock frequency - 0 64\nMHz fPCLK1 Internal APB1 clock frequency - 0 64\nfPCLK2 Internal APB2 clock frequency - 0 64\nVDD Standard operating voltage - 1.71(1)(2)3.6\nV VDDA Analog supply voltageADC or COMP used 1.62\n3.6VREFBUF used 2.4\nADC, COMP, VREFBUF  \nnot used(3) 1.71\nVBAT Backup operating voltage - 1.55 3.6\nElectrical characteristics STM32WB55xx   STM32WB35xx\n88/196 DS11929 Rev 146.3.3 RF Bluetooth Low Energy characteristics\nRF characteristics are given at 1 Mbps, unless otherwise specified.\n          VFBSMPS SMPS Feedback voltage - 1.4 3.6\nVVDDRF Minimum RF voltage - 1.71 3.6\nVDDUSB USB supply voltageUSB used 3.0 3.6\nUSB not used 0 3.6\nVIN I/O input voltageTT_xx I/O –0.3 VDD + 0.3\nAll I/O except TT_xx –0.3min (min (VDD, VDDA, \nVDDUSB , VLCD) + 3.6 V, \n5.5 V)(4)(5)\nPDPower dissipation at  \nTA = 85 °C for suffix 6  \nor \nTA = 105 °C for suffix 7(6)UFQFPN48 - 803\nmWVFQFPN68 - 425\nWLCSP100 - 558\nUFBGA129 - 481\nTAAmbient temperature for the \nsuffix 6 versionMaximum power dissipation\n–4085\n°CLow-power dissipation(7)105\nAmbient temperature for the \nsuffix 7 versionMaximum power dissipation\n–40105\nLow-power dissipation(7)125\nTJ Junction temperature rangeSuffix 6 version\n–40105\nSuffix 7 version 125\n1. When RESET is released func tionality is guaranteed down to VBOR0  Min.\n2. When VDDmin  is lower then 1.95 V, the SMPS operation mode must be conditioned by enabling the BORH configuration to \nforce SMPS bypass mode, or the SMPS must not be enabled.\n3. When not used, VDDA must be connected to VDD.\n4. This formula has to be applied only on the power supplies related to the IO structur e described by the pin definition table. \nMaximum I/O input voltage is the smallest value between min (VDD, VDDA, VDDUSB , VLCD) + 3.6 V and 5.5V.\n5. For operation with voltage higher than min (VDD, VDDA, VDDUSB , VLCD) + 0.3 V, the internal pull-up and pull-down resistors \nmust be disabled.\n6. If TA is lower, higher PD values are allowed as long as TJ does not exceed TJmax (see Section 7.5: Thermal \ncharacteristics ).\n7. In low-power dissipation state, TA can be extended to this range as long as TJ does not exceed TJmax (see Section 7.5: \nThermal characteristics ).Table 24. General operating conditions (continued)\nSymbol Parameter  Conditions Min Max Unit\nTable 25. RF transmitter Bluetooth Low Energy characteristics \nSymbol Parameter  Test conditions Min Typ Max Unit\nFop Frequency operating range - 2402 - 2480\nMHz\nFxtal Crystal frequency -- 3 2 -\n∆F Delta frequency -- 2 5 0 - kHz\nDS11929 Rev 14 89/196STM32WB55xx   STM32WB35xx Electrical characteristics\n169          \n          Rgfsk On Air data rate -- 1 2 Mbps\nPLLres RF channel spacing -- 2 - MHzTable 25. RF transmitter Bluetooth Low Energy characteristics (continued)\nSymbol Parameter  Test conditions Min Typ Max Unit\nTable 26. RF transmitter Bluetooth Low Energy characteristics (1 Mbps)(1) \nSymbol Parameter  Test conditions Min Typ Max Unit\nPrfMaximum output powerSMPS Bypass (VDD > 1.71 V) or  \nON (VFBSMPS  = 1.7 V and  \nVDD > 1.95 V)(2)-6 . 0-\ndBmSMPS Bypass (VDD > 1.71 V) or \nON (VFBSMPS  = 1.4 V and  \nVDD > 1.95 V), Code 29(2)(3)-3 . 7-\n0 dBm output power -- 0 -\nMinimum output power -- - 2 0 -\nPband Output power variation over the band Tx = 0 dBm - Typical -0.5 - 0.4 dB\nBW6dB 6 dB signal bandwidth Tx = maximum output power - 670 - kHz\nIBSE In band spurious emission2 MHz Bluetooth® Low Energy: -20 dBm - -50 -\ndBm\n≥ 3 MHz Bluetooth® Low Energy: -30 dBm - -53 -\nfd Frequency drift Bluetooth® Low Energy: ±50 kHz -50 - +50 kHz\nmaxdr Maximum drift rateBluetooth® Low Energy:  \n±20 kHz / 50 µs-20 - +20kHz/\n50 µs\nfo Frequency offsetBluetooth® Low Energy:  \n±150 kHz-150 - +150\nkHz\n∆f1 Frequency deviation averageBluetooth® Low Energy:  \nbetween 225 and 275 kHz225 - 275\n∆faFrequency deviation  \n∆f2 (average) / ∆f1 (average)Bluetooth® Low Energy:> 0.80 0.80 - - -\nOBSE(4)Out of band  \nspurious emission< 1 GHz - - -61 -\ndBm\n≥ 1 GHz - - -46 -\n1. Measured in conducted mode, based on refe rence design (see AN5165), using output power  specific external RF filter and \nimpedance matching networks to interface with a 50 Ω antenna.\n2. VFBSMPS  and VDD must be set to different voltage levels, depending upon the desired TX signal (see AN5246 Usage of \nSMPS on STM32WB Series microcontrollers , available on www.st.com ).\n3. Code 29 means Tx Power (PA_Level) selection of 29 (25 being 0 dBm).\n4. Suitable for systems targeting compliance with worldw ide radio-frequency regulations ETSI EN 300 328 and EN 300 440 \nClass 2 (Europe), FCC CFR47 Part 15 (US), and ARIB STD-T66 (Japan).\nElectrical characteristics STM32WB55xx   STM32WB35xx\n90/196 DS11929 Rev 14          \n          Table 27. RF transmitter Bluetooth Low Energy characteristics (2 Mbps)(1) \nSymbol Parameter  Test conditions Min Typ Max Unit\nPrfMaximum output powerSMPS Bypass (VDD > 1.71 V)  \nor ON (VFBSMPS  = 1.7 V and  \nVDD > 1.95 V)(2)-6 . 0-\ndBmSMPS Bypass or ON  \n(VFBSMPS  = 1.4 V and  \nVDD > 1.71 V), Code 29(2)(3)-3 . 7-\n0 dBm output power -- 0 -\nMinimum output power -- - 2 0 -\nPband Output power variation over the band Tx = 0 dBm - Typical -0.5 - 0.4 dB\nBW6dB 6 dB signal bandwidth Tx = maximum output power - 670 - kHz\nIBSE In band spurious emission4 MHz Bluetooth® Low Energy: -20 dBm - -56 -\ndBm 5 MHz Bluetooth® Low Energy: -20 dBm - -57 -\n≥ 6 MHz Bluetooth® Low Energy: -30 dBm -58\nfd Frequency drift Bluetooth® Low Energy: ±50 kHz -50 - 50 kHz\nmaxdr Maximum drift rateBluetooth® Low Energy:  \n±20 kHz / 50 µs-20 - 20kHz/\n50 µs\nfo Frequency offset Bluetooth® Low Energy: ±150 kHz -150 - 150\nkHz\n∆f1 Frequency deviation averageBluetooth® Low Energy:  \nbetween 450 and 550 kHz450 - 550\n∆faFrequency deviation  \n∆f2 (average) / ∆f1 (average)Bluetooth® Low Energy:> 0.80 0.80 - - -\nOBSE(4) Out of band  \nspurious emission< 1 GHz - - -61 -\ndBm\n≥ 1 GHz - - -46 -\n1. Measured in conducted mode, based on refe rence design (see AN5165), using output power  specific external RF filter and \nimpedance matching networks to interface with a 50 Ω antenna.\n2. VFBSMPS  and VDD must be set to different voltage levels, depending upon the desired TX signal (see AN5246 Usage of \nSMPS on STM32WB Series microcontrollers , available on www.st.com ).\n3. Code 29 means Tx Power (PA_Level) selection of 29 (25 being 0 dBm).4. Suitable for systems targeting compliance with worldw ide radio-frequency regulations ETSI EN 300 328 and EN 300 440 \nClass 2 (Europe), FCC CFR47 Part 15 (US), and ARIB STD-T66 (Japan).\nDS11929 Rev 14 91/196STM32WB55xx   STM32WB35xx Electrical characteristics\n169          Table 28. RF receiver Bluetooth Low Energy characteristics (1 Mbps) \nSymbol Parameter  Test conditions Typ Unit\nPrx_max Maximum input signalPER <30.8%  \nBluetooth® Low Energy: min -10 dBm0\ndBmPsens(1)High sensitivity mode (SMPS Bypass)PER <30.8%  \nBluetooth® Low Energy: max -70 dBm-96\nHigh sensitivity mode (SMPS ON) -95.5\nRssimaxrangeRSSI maximum value - -7\nRssiminrangeRSSI minimum value - -94\nRssiaccuRSSI accuracy - 2\ndBC/Ico Co-channel rejection Bluetooth® Low Energy: 21 dB 8\nC/I Adjacent channel interferenceAdj ≥ 5 MHz  \nBluetooth® Low Energy: -27 dB-53\nAdj ≤ -5 MHz  \nBluetooth® Low Energy: -27 dB-53\nAdj = 4 MHz  \nBluetooth® Low Energy: -27 dB-48\nAdj = -4 MHz  \nBluetooth® Low Energy: -15 dB-33\nAdj = 3 MHz  \nBluetooth® Low Energy: -27 dB-46\nAdj = 2 MHz  \nBluetooth® Low Energy: -17 dB-39\nAdj = -2 MHz  \nBluetooth® Low Energy: -15 dB-35\nAdj = 1 MHz  \nBluetooth® Low Energy: 15 dB-2\nAdj = -1 MHz  \nBluetooth® Low Energy: 15 dB2\nC/Image Image rejection (Fimage  = -3 MHz) Bluetooth® Low Energy: -9 dB -29\nP_IMD Intermodulation|f2-f1| = 3 MHz  \nBluetooth® Low Energy: -50 dBm-34\ndBm|f2-f1| = 4 MHz  \nBluetooth® Low Energy: -50 dBm-30\n|f2-f1| = 5 MHz  \nBluetooth® Low Energy: -50 dBm-32\nElectrical characteristics STM32WB55xx   STM32WB35xx\n92/196 DS11929 Rev 14          P_OBB Out of band blocking30 to 2000 MHz  \nBluetooth® Low Energy: -30 dBm-3\ndBm2003 to 2399 MHz  \nBluetooth® Low Energy: -35 dBm-5\n2484 to 2997 MHz  \nBluetooth® Low Energy: -35 dBm-2\n3 to 12.75 GHz  \nBluetooth® Low Energy: -30 dBm7\n1. With ideal TX.Table 28. RF receiver Bluetooth Low Ener gy characteristics (1 Mbps) (continued)\nSymbol Parameter  Test conditions Typ Unit\nTable 29. RF receiver Bluetooth Low Energy characteristics (2 Mbps) \nSymbol Parameter  Test conditions Typ Unit\nPrx_max Maximum input signalPER <30.8%  \nBluetooth® Low Energy: min -10 dBm0\ndBmPsens(1)High sensitivity mode (SMPS Bypass)PER <30.8%  \nBluetooth® Low Energy: max -70 dBm-93\nHigh sensitivity mode (SMPS ON) -92.5\nRssimaxrangeRSSI maximum value - -7\nRssiminrangeRSSI minimum value - -94\nRssiaccuRSSI accuracy - 2\ndBC/Ico Co-channel rejection Bluetooth® Low Energy spec: 21 dB 9\nC/I Adjacent channel interferenceAdj ≥ 8MHz  \nBluetooth® Low Energy: -27 dB-53\nAdj ≤ -8 MHz  \nBluetooth® Low Energy: -27 dB-50\nAdj = 6 MHz  \nBluetooth® Low Energy: -27 dB-49\nAdj = -6 MHz  \nBluetooth® Low Energy: -15 dB-46\nAdj = 4 MHz  \nBluetooth® Low Energy: -17 dB-42\nAdj = 2 MHz  \nBluetooth® Low Energy:15 dB-3\nAdj = -2 MHz  \nBluetooth® Low Energy:15 dB-3\nC/Image Image rejection (Fimage  = -4 MHz) Bluetooth® Low Energy: -9 dB -26\nDS11929 Rev 14 93/196STM32WB55xx   STM32WB35xx Electrical characteristics\n169          \n6.3.4 RF 802.15.4 characteristics\n          P_IMD Intermodulation|f2-f1| = 6 MHz  \nBluetooth® Low Energy: -50 dBm-29\ndBm|f2-f1| = 8 MHz  \nBluetooth® Low Energy: -50 dBm-30\n|f2-f1| = 10 MHz  \nBluetooth® Low Energy: -50 dBm-29\nP_OBB Out of band blocking30 to 2000 MHz  \nBluetooth® Low Energy: -30 dBm-3\n2003 to 2399 MHz  \nBluetooth® Low Energy: -35 dBm-9\n2484 to 2997 MHz  \nBluetooth® Low Energy: -35 dBm-3\n3 to 12.75 GHz  \nBluetooth® Low Energy: -30 dBm4\n1. With ideal TX.Table 29. RF receiver Bluetooth Low Ener gy characteristics (2 Mbps) (continued)\nSymbol Parameter  Test conditions Typ Unit\nTable 30. RF Bluetooth Low Energy power consumption for VDD = 3.3 V(1) \n1. Power consumption including RF subsystem and digital processing.Symbol Parameter  Typ Unit\nItxmaxTX maximum output power consumption (SMPS Bypass) 12.7\nmATX maximum output power consumption (SMPS On, VFBSMPS = 1.7 V) 7.8\nItx0dbmTX 0 dBm output power consumption (SMPS Bypass) 8.8\nTX 0 dBm output power consumption (SMPS On, VFBSMPS = 1.4 V) 5.2\nIrxloRx consumption (SMPS Bypass) 7.9\nRx consumption (SMPS On, VFBSMPS = 1.4 V) 4.5\nTable 31. RF transmitter 802.15.4 characteristics \nSymbol Parameter Conditions Min Typ Max Unit\nFop Frequency operating range - 2405 - 2480\nMHz Fxtal Crystal frequency - - 32 -\n∆F Delta frequency - - 5 -\nRoqpsk On air data rate - - 250 - kbps\nPLLres RF channel spacing - - 5 - MHz\nElectrical characteristics STM32WB55xx   STM32WB35xx\n94/196 DS11929 Rev 14          \nFigure 19. Typical link quality indicator code vs. Rx levelPrfMaximum output power(1)SMPS Bypass or ON  \n(VFBSMPS  = 1.7 V and  \nVDD > 1.95 V)-5 . 7-\ndBmSMPS Bypass  \n(VDD > 1.71 V) or ON \n(VFBSMPS  = 1.4 V and  \nVDD > 1.95 V)-3 . 7-\n0 dBm output power - - 0 -\nMinimum output power - - -20 -\nPband Output power variation over t he band Tx = 0 dBm - Typical -0.5 - 0.4 dB\nEVMrms EVM rms Pmax - 8 - %\nTxpd Transmit power density |f - fc| > 3.5 MHz - -35 - dB\n1. Measured in conducted mode, based on reference design (see AN5165), using output power specific \nexternal RF filter and impedance matc hing networks to interface with a 50 Ω antenna.\nTable 32. RF receiver 802.15.4 characteristics \nSymbol Parameter Conditions Typ Unit\nPrx_max Maximum input signal Min: -20 dBm and PER < 1% -10\ndBm\nRsensSensitivity (SMPS Bypass)\nMax: -85 dBm and PER < 1%-100\nSensitivity (SMPS ON) -98\nC/adj Adjacent channel rejection - 35\ndB\nC/alt Alternate channel rejection - 46Table 31. RF transmitter 802.15.4 characteristics (continued)\nSymbol Parameter Conditions Min Typ Max Unit\n020406080100120140160180200220240\n-120-115-110-105-100 -95 -90 -85 -80 -75 -70 -65 -60 -55 -50 -45 -40 -35 -30 -25 -20LQI\nPin(dBm)TP/154/PHY24/RECEIVER Ͳ06/Ch11(2405MHz)\nTP/154/PHY24/RECEIVER Ͳ06/Ch19(2445MHz)\nTP/154/PHY24/RECEIVER Ͳ06/Ch26(2480MHz)TEST_NAME\nPARAM2\nDS11929 Rev 14 95/196STM32WB55xx   STM32WB35xx Electrical characteristics\n169Figure 20. Typical energy detection (T = 27°C, VDD = 3.3 V)\n          Table 33. RF 802.15.4 power consumption for VDD = 3.3 V(1) \n1. Power consumption including RF subsystem and digital processing.Symbol Parameter  Typ Unit\nItxmaxTX maximum output power consumption (SMPS Bypass) 11.7\nmATX maximum output power consumption (SMPS On, VFBSMPS = 1.7 V) 6.5\nItx0dbmTX 0 dBm output power consumption (SMPS Bypass) 9.1\nTX 0 dBm output power consumption (SMPS On, VFBSMPS = 1.4 V) 4.5\nIrxloRx consumption (SMPS Bypass) 9.2\nRx consumption (SMPS On) 4.50163248648096112128144160176192208224240\nED\nInput power\nElectrical characteristics STM32WB55xx   STM32WB35xx\n96/196 DS11929 Rev 146.3.5 Operating conditions at power-up / power-down\nThe parameters given in Table  34 are derived from tests performed under the ambient \ntemperature condition summarized in Table  24.\n          \n6.3.6 Embedded reset and power control block characteristics\nThe parameters given in Table  35 are derived from tests performed under the ambient \ntemperature conditions summarized in Table  24: General operating conditions .\n           Table 34. Operating conditions at power-up / power-down \nSymbol Parameter Conditions Min Max Unit\ntVDDVDD rise time rate\n-- ∞\nµs/VVDD fall time rate 10 ∞\ntVDDAVDDA rise time rate\n-0 ∞\nVDDA fall time rate 10 ∞\ntVDDUSBVDDUSB  rise time rate\n-0 ∞\nVDDUSB  fall time rate 10 ∞\ntVDDRFVDDRF  rise time rate\n-- ∞\nVDDRF  fall time rate - ∞\nTable 35. Embedded reset and power control block characteristics \nSymbol Parameter Conditions(1)Min Typ Max Unit\ntRSTTEMPO(2)Reset temporization after BOR0 is detected VDD rising - 250 400 μs\nVBOR0(2)Brown-out reset threshold 0Rising edge 1.62 1.66 1.70\nVFalling edge 1.60 1.64 1.69\nVBOR1 Brown-out reset threshold 1Rising edge 2.06 2.10 2.14\nFalling edge 1.96 2.00 2.04\nVBOR2 Brown-out reset threshold 2Rising edge 2.26 2.31 2.35\nFalling edge 2.16 2.20 2.24\nVBOR3 Brown-out reset threshold 3Rising edge 2.56 2.61 2.66\nFalling edge 2.47 2.52 2.57\nVBOR4 Brown-out reset threshold 4Rising edge 2.85 2.90 2.95\nFalling edge 2.76 2.81 2.86\nVPVD0 Programmable voltage detector threshold 0Rising edge 2.10 2.15 2.19\nFalling edge 2.00 2.05 2.10\nVPVD1 PVD threshold 1Rising edge 2.26 2.31 2.36\nFalling edge 2.15 2.20 2.25\nVPVD2 PVD threshold 2Rising edge 2.41 2.46 2.51\nFalling edge 2.31 2.36 2.41\nDS11929 Rev 14 97/196STM32WB55xx   STM32WB35xx Electrical characteristics\n169VPVD3 PVD threshold 3Rising edge 2.56 2.61 2.66\nVFalling edge 2.47 2.52 2.57\nVPVD4 PVD threshold 4Rising edge 2.69 2.74 2.79\nFalling edge 2.59 2.64 2.69\nVPVD5 PVD threshold 5Rising edge 2.85 2.91 2.96\nFalling edge 2.75 2.81 2.86\nVPVD6 PVD threshold 6Rising edge 2.92 2.98 3.04\nFalling edge 2.84 2.90 2.96\nVhyst_BORH0 Hysteresis voltage of BORH0Hysteresis in \ncontinuous mode-2 0-\nmVHysteresis in \nother mode-3 0-\nVhyst_BOR_PVDHysteresis voltag e of BORH (except \nBORH0) and PVD- - 100 -\nIDD (BOR_PVD)(2)BOR(3) (except BOR0) and PVD \nconsumption from VDD- - 1.1 1.6 µA\nVPVM1 VDDUSB  peripheral voltage monitoring - 1.18 1.22 1.26\nV\nVPVM3 VDDA peripheral voltage monitoringRising edge 1.61 1.65 1.69\nFalling edge 1.6 1.64 1.68\nVhyst_PVM3 PVM3 hysteresis - - 10 -\nmV\nVhyst_PVM1 PVM1 hysteresis - - 10 -\nIDD (PVM1)(2)PVM1 consumption from VDD -- 0 . 2 -\nµA\nIDD (PVM3)(2)PVM3 consumption from VDD -- 2 -\n1. Continuous mode means Run/Sleep modes, or temperatur e sensor enable in Low-power run/Low-power sleep modes.\n2. Guaranteed by design.3. BOR0 is enabled in all modes (except shutdown) and it s consumption is therefore included in the supply current \ncharacteristics tables.Table 35. Embedded reset and power control block characteristics (continued)\nSymbol Parameter Conditions(1)Min Typ Max Unit\nElectrical characteristics STM32WB55xx   STM32WB35xx\n98/196 DS11929 Rev 146.3.7 Embedded voltage reference\nThe parameters given in Table  36 are derived from tests performed under the ambient \ntemperature and supply voltage conditions summarized in Table  24: General operating \nconditions .\n           \nFigure 21. VREFINT  vs. temperatureTable 36. Embedded internal voltage reference \nSymbol Parameter Conditions Min Typ Max Unit\nVREFINT Internal reference voltage –40 °C < TA < +125 °C 1.182 1.212 1.232 V\ntS_vrefint  (1) ADC sampling time when reading \nthe internal reference voltage-4(2)--\nµs\ntstart_vrefintStart time of reference voltage \nbuffer when ADC is enabled-- 8 1 2(2)\nIDD(VREFINTBUF )VREFINT  buffer consumption from \nVDD when converted by ADC- - 12.5 20(2)µA\n∆VREFINTInternal reference voltage spread \nover the temperature rangeVDD = 3 V - 5 7.5(2)mV\nTCoeff Temperature coefficient –40 °C < TA < +125 °C - 30 50(2)ppm/°C\nACoeff Long term stability 1000 hours, T = 25 °C - 300 1000(2)ppm\nVDDCoeff Voltage coefficient 3.0 V < VDD < 3.6 V - 250 1200(2)ppm/V\nVREFINT_DIV1 1/4 reference voltage\n-24 25 26\n% \nVREFINTVREFINT_DIV2 1/2 reference voltage 49 50 51\nVREFINT_DIV3 3/4 reference voltage 74 75 76\n1. The shortest sampling time can be determined in the application by multiple iterations.\n2. Guaranteed by design.\nMSv40169V11.1851.191.1951.21.2051.211.2151.221.2251.231.235\n-40 -20 0 20 40 60 80 100 120V\n°C\nMean Min Max\nDS11929 Rev 14 99/196STM32WB55xx   STM32WB35xx Electrical characteristics\n1696.3.8 Supply current characteristics\nThe current consumption is a function of se veral parameters and factors such as the \noperating voltage, ambient temperature, I/O pin loading, device software configuration, \noperating frequencies, I/O pin switching rate, program location in memory and executed binary code.\nThe current consumption is measured as described in Figure  18: Current consumption \nmeasurement scheme .\nTypical and maximum current consumption\nThe MCU is put under the following conditions:\n• All I/O pins are in analog input mode\n• All peripherals are disabled ex cept when explicitly mentioned\n• The flash memory access time is adjust ed with the minimum wait states number, \ndepending on the fHCLK  frequency (refer to the table “Number of wait states according \nto CPU clock (HCLK) frequency” available in the reference manual).\n• When the peripherals are enabled fPCLK  = fHCLK\n• For flash memory and shared peripherals fPCLK  = fHCLK  = fHCLKS\nThe parameters given in Table  37 to Table  48 are derived from tests performed under \nambient temperature and supply voltage conditions summarized in Table  24: General \noperating conditions .\nElectrical characteristics STM32WB55xx   STM32WB35xx\n100/196 DS11929 Rev 14\n          Table 37. Current consumption in Run and Low-p ower run modes, code with data processing\nrunning from flash, ART enable (Cache ON Prefetch OFF), VDD = 3.3 V \nSymbol ParameterConditions Typ Max(1)\n1. Guaranteed by characterization resu lts, unless otherwise specified.Unit\n-Voltage \nscalingfHCLK 25 °C 55 °C 85 °C 105 °C 25 °C 85 °C 105 °C\nIDD(Run)Supply \ncurrent in \nRun modefHCLK  = fHSI16  up to \n16 MHz included, \nfHCLK  = fHSE = 32 MHz  \nfHSI16  + PLL ON \nabove 32 MHz  \nAll peripherals disabledRange 216 MHz 1.90 1.90 2.00 2.20 2.40 2.52 2.96\nmA2 MHz 0.960 0.985 1.10 1.25 1.25 1.57 2.05\nRange 164 MHz 8.15 8.25 8.40 8.60 9.30 9.60 10.02\n32 MHz 4.20 4.25 4.40 4.65 4.25 4.63 5.17\n16 MHz 2.25 2.30 2.40 2.65 2.65 2.91 3.52\nSMPS\nRange 164 MHz 5.00 5.00 5.10 5.20 - - -\n32 MHz 3.15 3.15 3.25 3.35 - - -\n16 MHz 2.30 2.30 2.35 2.45 - - -\nI\nDD(LPRun)Supply \ncurrent in \nLow-power \nrun modefHCLK  = fMSI \nAll peripherals disabled2 MHz 0.335 0.360 0.470 0 .670 0.480 0.910 1.47\n1 MHz 0.170 0.210 0.325 0 .520 0.270 0.730 1.31\n400 kHz 0.0815 0.120 0.23 0 0.425 0.140 0.590 1.18\n100 kHz 0.0415 0.076 0.19 0 0.385 0.070 0.550 1.14\nSTM32WB55xx   STM32WB35xx Electrical characteristics\nDS11929 Rev 14 101/196          \n          \n          Table 38. Current consumption in Run and Low-p ower run modes, code with data processing\nrunning from SRAM1, VDD = 3.3 V \nSymbol ParameterConditions Typ Max(1)\n1. Guaranteed by characterization re sults, unless otherwise specified.Unit\n-Voltage \nscalingfHCLK 25 °C 55 °C 85 °C 105 °C 25 °C 85 °C 105 °C\nIDD(Run)Supply \ncurrent in \nRun modefHCLK  = fHSI16  up to \n16 MHz included, \nfHCLK  = fHSE = 32 MHz  \nfHSI16  + PLL ON \nabove 32 MHz  \nAll peripherals disabledRange 21 6  M H z 2 . 0 02 . 0 52 . 1 52 . 3 02 . 5 7 3 . 0 43 . 6 4\nmA2 MHz 0.970 1.00 1.10 1.25 1.62 1.90 2.55\nRange 164 MHz 8.80 8.90 9.00 9.20 10.50 10.80 11.30\n3 2  M H z 4 . 5 04 . 5 54 . 7 04 . 9 04 . 6 3 4 . 8 95 . 6 2\n1 6  M H z 2 . 4 02 . 4 02 . 5 52 . 7 02 . 5 0 2 . 7 03 . 2 1\nSMPS\nRange 164 MHz 5.25 5.30 5.35 5.45 - - -\n32 MHz 3.25 3.25 3.35 3.45 - - -\n16 MHz 2.35 2.35 2.40 2.45 - - -\nI\nDD(LPRun)Supply \ncurrent in \nLow-power \nrun modefHCLK  = fMSI \nAll peripherals disabled2 MHz 0.265 0.285 0.3 85 0.550 0.440 0.940 1.620\n1 MHz 0.135 0.170 0.2 70 0.430 0.290 0.760 1.480\n400 kHz 0.066 0.097 0.1 95 0.360 0.200 0.670 1.380\n100 kHz 0.031 0.0625 0.16 0 0.325 0.170 0.470 1.330\nElectrical characteristics STM32WB55xx   STM32WB35xx\n102/196 DS11929 Rev 14          \nTable 39. Typical current consumption in Run and Low-power run modes, with different codes\nrunning from flash, ART enab le (Cache ON Prefetch OFF) , VDD= 3.3 V \nSymbol ParameterConditions TYP\nUnitTYP\nUnit\n-Voltage \nscalingCode 25 °C 25 °C\nIDD(Run)Supply current in \nRun mode\nfHCLK  = fHSI16  up to 16 MHz included, fHSI16  + PLL ON above 32 MHz\nAll peripherals disable\nRange 2\nfHCLK  = 16 MHzReduced code(1) 1.90\nmA119\nµA/MHzCoremark 1.85 116\nDhrystone 2.1 1.85 116\nFibonacci 1.75 109\nWhile(1) 1.60 100Range 1\nfHCLK  = 64 MHzReduced code(1)8.15\nmA127\nµA/MHzCoremark 8.00 125\nDhrystone 2.1 8.10 127\nFibonacci 7.60 119\nWhile(1) 6.85 107Range 1, SMPS On\nfHCLK  = 64 MHzReduced code(1)5.00\nmA78\nµA/MHzCoremark 4.95 77\nDhrystone 2.1 4.95 77Fibonacci 4.75 74\nWhile(1) 4.40 69Range 1, SMPS On\nfHCLK  = 64 MHz,\nWhen RF Tx \nlevel = 0 dBm(2)Reduced code(1)4.07\nmA64\nµA/MHzCoremark 3.99 62\nDhrystone 2.1 4.04 63\nFibonacci 3.79 59While(1) 3.42 53\nI\nDD(LPRun)Supply current in \nLow-power runfHCLK  = fMSI = 2 MHz\nAll peripherals disableReduced code(1)320\nµA160\nµA/MHzCoremark 350 175\nDhrystone 2.1 350 175\nFibonacci 390 195\nWhile(1) 225 113\n1. Reduced code used for characterization results provided in Table 37  and Table 38 .\n2. Value computed. MCU consumption when RF TX and SMPS are ON.\nDS11929 Rev 14 103/196STM32WB55xx   STM32WB35xx Electrical characteristics\n169          Table 40. Typical current consumption in Run and Low-power run modes,\nwith different codes running from SRAM1 , VDD = 3.3 V \nSymbol ParameterConditions TYP\nUnitTYP\nUnit\n-Voltage \nscalingCode 25 °C 25 °C\nIDD(Run)Supply current in \nRun mode\nfHCLK  = fHSI16  up to 16 MHz included, fHSI16  + PLL ON above 32 MHz\nAll peripherals disable\nRange 2\nfHCLK  = 16 MHzReduced code(1) 2.00\nmA125\nµA/MHzCoremark 1.75 109\nDhrystone 2.1 1.95 122Fibonacci 1.85 116\nWhile(1) 1.85 116Range 1\nfHCLK  = 64 MHzReduced code(1)8.80\nmA138\nµA/MHzCoremark 7.50 117\nDhrystone 2.1 8.60 134Fibonacci 7.90 123\nWhile(1) 8.00 125Range 1, SMPS On\nfHCLK  = 64 MHzReduced code(1)5.25\nmA82\nµA/MHzCoremark 4.65 73\nDhrystone 2.1 5.15 80\nFibonacci 4.85 76While(1) 4.90 77Range 1, SMPS On\nfHCLK  = 64 MHz,\nWhen RF Tx \nlevel = 0 dBm(2)Reduced code(1)4.39\nmA69\nµA/MHzCoremark 3.74 58\nDhrystone 2.1 4.29 67\nFibonacci 3.94 62\nWhile(1) 3.99 62\nIDD(LPRun)Supply current in \nLow-power runfHCLK  = fMSI = 2 MHz\nAll peripherals disableReduced code(1)255\nµA128\nµA/MHzCoremark 205 103\nDhrystone 2.1 250 125Fibonacci 230 115\nWhile(1) 220 110\n1. Reduced code used for characterization results provided in Table 37  and Table 38 .\n2. Value computed. MCU consumption when RF TX and SMPS are ON.\nElectrical characteristics STM32WB55xx   STM32WB35xx\n104/196 DS11929 Rev 14\n          \n          Table 41. Current consumption in Sleep and Low-power sleep modes, flash memory ON \nSymbol ParameterConditions TYP MAX(1)\nUnit\n-Voltage \nscalingfHCLK 25 °C 55 °C 85 °C 105 °C 25 °C 85 °C 105 °C\nIDD(Sleep)Supply \ncurrent in \nsleep mode,fHCLK  = fHSI16  up \nto 16 MHz \nincluded,  \nfHCLK  = fHSE up to \n32 MHz  \nfHSI16  + PLL ON \nabove 32 MHz  \n \nAll peripherals disabledRange 2 16 MHz 0.740 0.765 0.865 1.05 0.840 1.210 1.810\nmARange 164 MHz 2.65 2.70 2.80 3.00 3.00 3.33 3.91\n32 MHz 1.40 1.45 1.60 1.80 1.55 1.86 2.49\n16 MHz 0.845 0.875 0.990 1.20 0.970 1.40 2.02\nSMPS\nRange 164 MHz 2.60 2.60 2.65 2.75 - - -\n32 MHz 1.90 1.95 2.00 2.10 - - -\n16 MHz 1.70 1.70 1.75 1.80 - - -\nI\nDD(LPSleep)Supply \ncurrent in \nlow-power \nsleep modefHCLK  = fMSI \nAll peripherals disabled2 MHz 0.090 0.125 0.235 0.430 0.130 0.600 1.19\n1 MHz 0.058 0.093 0.205 0.400 0.090 0.570 1.16\n400 kHz 0.044 0.0725 0.185 0.380 0.070 0.540 1.11\n100 kHz 0.0315 0.0635 0.0175 0.370 0.055 0.530 1.13\n1. Guaranteed by characterization re sults, unless otherwise specified.\nTable 42. Current consumption in Low-power sleep modes, flash memory in Power down \nSymbol ParameterConditions TYP MAX(1)\nUnit\n-fHCLK 25 °C 55 °C 85 °C 105 °C 25 °C 85 °C 105 °C\nIDD\n(LPSleep)Supply \ncurrent in \nlow-power \nsleep modefHCLK  = fMSI \n \nAll peripherals \ndisabled2 MHz 94.0 115 200 335 135 610 1201\nµA1 MHz 56.5 86.0 170 305 94.2 560 1171\n400 kHz 40.5 66.5 150 285 68.0 540 1129\n100 kHz 27.5 57.5 140 275 54.6 539 1131\n1. Guaranteed by characterization re sults, unless otherwise specified.\nSTM32WB55xx   STM32WB35xx Electrical characteristics\nDS11929 Rev 14 105/196          Table 43. Current consumption in Stop 2 mode \nSymbol ParameterConditions TYP MAX(1)\nUnit\n-VDD 0 °C 25 °C 40 °C 55 °C 85 °C 105 °C 0 °C 25 °C 85 °C 105 °C\nIDD\n(Stop 2)Supply current \nin Stop 2 \nmode, RTC \ndisabledLCD disabled\nBluetooth Low \nEnergy disabled1.8 V 1.00 1.85 3.15 5.95 21.5 50.0 1.58 4.12 56.9 132.7\nµA2.4 V 1.10 1.85 3.20 6.00 22.0 51.0 - - - -\n3.0 V 1.10 1.85 3.25 6.10 22.0 52.0 1.60 4.17 57.9 135.6\n3.6 V 1.15 1.95 3.35 6.25 23.0 53.0 1.69 4.40 58.6 135.7\nLCD enabled(2) \nand clocked\nby LSI\nBluetooth Low \nEnergy disabled1.8 V 1.20 2.00 3.35 6.10 22.0 50.5 1.76 4.30 57.1 133.3\n2.4 V 1.20 2.00 3.40 6.20 22.0 51.0 - - - -3.0 V 1.25 2.10 3.45 6.30 22.5 52.0 1.85 4.41 58.1 135.8\n3.6 V 1.30 2.15 3.60 6.55 23.0 53.5 1.97 4.66 59.4 136.6\nI\nDD\n(Stop 2\nwith \nRTC)Supply current \nin Stop 2 \nmode, RTC enabled, \nBluetooth Low \nEnergy disabledRTC clocked\nby LSI,\nLCD disabled1.8 V 1.30 2.10 3.45 6.25 22.0 50.5 1.91 4.50 57.2 133.0\n2.4 V 1.45 2.25 3.55 6.40 22.5 51.5 - - - -3.0 V 1.50 2.30 3.70 6.55 22.5 52.5 2.11 4.64 58.3 136.1\n3.6 V 1.75 2.50 3.95 6.85 23.5 53.5 2.26 5.12 59.7 136.9\nRTC clocked\nby LSI,\nLCD enabled\n(2)1.8 V 1.35 2.20 3.55 6.30 22.0 50.5 1.99 4.57 57.4 133.8\n2.4 V 1.50 2.35 3.65 6.50 22.5 51.5 - - - -3.0 V 1.70 2.45 3.85 6.65 23.0 52.5 2.17 4.87 58.4 136.3\n3.6 V 1.80 2.60 4.05 6.95 23.5 54.0 2.41 5.11 59.9 137.1\nRTC clocked by \nLSE quartz\n(3)\nin low drive \nmode1.8 V 1.35 2.20 3.50 6.25 22.0 50.5 1.91 4.29 57.1 133.5\n2.4 V 1.45 2.25 3.65 6.40 22.5 51.5 - - - -3.0 V 1.55 2.45 3.80 6.65 23.0 52.5 2.01 4.31 58.0 135.93.6 V 1.70 2.55 4.05 6.95 23.5 54.0 2.16 4.40 81.6 137.0\nElectrical characteristics STM32WB55xx   STM32WB35xx\n106/196 DS11929 Rev 14\nIDD\n(wakeup \nfrom \nStop 2)Supply current \nduring  \nwakeup from  \nStop 2 mode  \nbypass modeWakeup clock is \nHSI16, voltage \nRange 2. See(4).3.0 V - 389 - - - - - - - -\nµAWakeup clock is \nMSI = 32 MHz, \nvoltage \nRange 1. See(4).3.0 V - 320 - - - - - - - -\nWakeup clock is \nMSI = 4 MHz, \nvoltage \nRange 2. See(4).3.0 V - 528 - - - - - - - -\n1. Guaranteed based on test during characte rization, unless otherwise specified.\n2. LCD enabled with external voltage source. Consumption from VLCD excluded. Refer to  LCD controller characteristics for IVLCD\n3. Based on characterization done with a 32.768 kHz crystal (MC 306-G-06Q-32.768, manufacturer JFVNY) with two 6.8 pF loading \ncapacitors.\n4. Wakeup with code execution from flash memory. Average va lue given for a typical wak eup time as specified in Table 51: Low-power mode \nwakeup timings .Table 43. Current consumption in Stop 2 mode (continued)\nSymbol ParameterConditions TYP MAX(1)\nUnit\n-VDD 0 °C 25 °C 40 °C 55 °C 85 °C 105 °C 0 °C 25 °C 85 °C 105 °C\nSTM32WB55xx   STM32WB35xx Electrical characteristics\nDS11929 Rev 14 107/196          Table 44. Current consumption in Stop 1 mode \nSymbol ParameterConditions TYP MAX(1)\nUnit\n-VDD 0 °C 25 °C 40 °C 55 °C 85 °C 105 °C 0 °C 25 °C 85 °C 105 °C\nIDD\n(Stop 1)Supply \ncurrent in \nStop 1 mode,\nRTC \ndisabledBluetooth Low \nEnergy disabled\nLCD disabled1.8 V 5.05 9.20 15.5 28.0 96.0 210 7.00 28.4 343.7 738.6\nµA2.4 V 5.10 9.25 15.5 28.5 96.5 215 - - - -\n3.0 V 5.15 9.30 15.5 28.5 97.0 215 7.07 28.5 346.8 746.0\n3.6 V 5.25 9.45 16.0 29.0 97.5 215 7.30 28.8 351.0 749.4\nBluetooth Low \nEnergy disabled\nLCD enabled(2), \nclocked by LSI1.8 V 5.05 9.30 15.5 28.5 96.0 210 7.10 28.7 344.4 739.0\n2.4 V 5.10 9.35 16.0 28.5 96.5 215 - - - -3.0 V 5.20 9.65 16.0 28.5 97.0 215 7.26 29.6 345.0 747.0\n3.6 V 5.55 9.85 16.0 29.0 98.5 215 7.62 29.8 349.0 750.8\nI\nDD\n(Stop 1 \nwith \nRTC)Supply \ncurrent in Stop 1 mode,  \nRTC \nenabled, Bluetooth \nLow Energy \ndisabledRTC clocked by LSI\nLCD disabled1.8 V 5.30 9.35 16.0 28.5 96.5 215 7.30 29.5 343.7 739.2\n2.4 V 5.40 9.45 16.0 28.5 97.0 215 - - - -3.0 V 5.70 9.55 16.5 29.0 98.5 220 7.69 29.7 347.2 746.1\n3.6 V 5.85 10.0 16.5 29.5 96.5 215 8.08 29.8 349.9 751.1\nRTC clocked by LSI\nLCD enabled\n(2)1.8 V 5.25 9.60 16.0 28.5 96.5 215 7.10 29.0 344.3 739.9\n2.4 V 5.30 9.75 16.0 29.0 97.0 215 - - - -3.0 V 5.85 9.80 16.5 29.0 97.5 215 7.53 29.8 347.4 746.2\n3.6 V 5.90 10.5 16.5 29.0 98.5 220 8.18 29.9 350.6 751.8\nRTC clocked by \nLSE quartz\n(3) in \nLow drive mode1.8 V 5.35 9.55 16.0 28.5 96.5 215 6.00 28.7 343.9 738.7\n2.4 V 5.40 9.70 16.0 29.0 96.5 215 - - - -3.0 V 5.75 9.70 16.0 29.0 97.5 215 7.40 28.9 346.6 743.83.6 V 5.90 10.0 16.5 29.5 99.0 220 7.58 29.2 349.0 749.9\nElectrical characteristics STM32WB55xx   STM32WB35xx\n108/196 DS11929 Rev 14\nIDD \n(wakeup \nfrom \nStop1)Supply \ncurrent \nduring wakeup from \nStop 1 \nbypass modeWakeup clock \nHSI16,  \nvoltage Range 2.  \nSee \n(4).3.0 V - 129 - - - - - - - -\nµAWakeup clock  \nMSI = 32 MHz, voltage Range 1.  \nSee \n(4).3.0 V - 124 - - - - - - - -\nWakeup clock  \nMSI = 4 MHz, \nvoltage Range 2.  \nSee (4).3.0 V - 207 - - - - - - - -\n1. Guaranteed based on test during characte rization, unless otherwise specified.\n2. LCD enabled with external voltage source. Consumption from VLCD excluded. Refer to  LCD controller characteristics for IVLCD\n3. Based on characterization done with a 32.768 kHz crystal (MC306- G-06Q-32.768, manufacturer JFVNY) with two 6.8 pF loading cap acitors. \n4. Wakeup with code execution from flash. Average va lue given for a typical wak eup time as specified in Table 51: Low-power mode wakeup \ntimings .Table 44. Current consumption in Stop 1 mode (continued)\nSymbol ParameterConditions TYP MAX(1)\nUnit\n-VDD 0 °C 25 °C 40 °C 55 °C 85 °C 105 °C 0 °C 25 °C 85 °C 105 °C\nSTM32WB55xx   STM32WB35xx Electrical characteristics\nDS11929 Rev 14 109/196          Table 45. Current consumption in Stop 0 mode \nSymbol ParameterConditions TYP MAX(1)\n1. Guaranteed by characterization results, unless otherwise specified.Unit\n-VDD 0 °C 25 °C 40 °C 55 °C 85 °C 105 °C 0 °C 25 °C 85 °C 105 °C\nIDD\n(Stop 0)Supply current \nin Stop 0 mode,\nRTC disabled,\nBluetooth Low \nEnergy \ndisabled,\nLCD disabled--1.8 V 95.5 100 110 120 195 315 110.0 114.2 458.1 874.8\nµA2.4 V 97.5 105 110 125 195 315 - - - -\n3.0 V 98.5 105 110 125 195 320 117.3 134.3 461.8 880.0\n3.6 V 100 105 115 125 200 320 165.0 135.7 494.0 884.1\nSupply current \nduring wakeup \nfrom Stop 0\nBypass modeWakeup clock \nHSI16,\nvoltage Range 2.\nSee (2).\n2. Wakeup with code execution from flash memory. Average value given for a typical wa keup time as specified in Table 51: Low-power mode \nwakeup timings .3.0 V - 331 - - - - - - - -\nWakeup clock is \nMSI = 32 MHz, \nvoltage Range 1.\nSee (2).3.0 V - 349 - - - - - - - -\nWakeup clock is \nMSI = 4 MHz,\nvoltage Range 2.\nSee (2).3.0 V - 196 - - - - - - - -\nElectrical characteristics STM32WB55xx   STM32WB35xx\n110/196 DS11929 Rev 14          Table 46. Current consumption in Standby mode \nSymbol ParameterConditions TYP MAX(1)\nUnit\n-VDD 0 °C 25 °C 40 °C 55 °C 85 °C 105 °C 0 °C 25 °C 85 °C 105 °C\nIDD\n(Standby)Supply current \nin Standby \nmode (backup registers and SRAM2a retained),  \nRTC disabledBluetooth Low \nEnergy disabled  \nNo independent watchdog1.8 V 0.270 0.320 0.515 0.920 3.45 8.20 0.300 0.828 7.850 19.300\nµA2.4 V 0.270 0.350 0.540 0.955 3.50 8.80 - - - -\n3.0 V 0.270 0.370 0.575 1.00 3. 85 9.50 0.380 0.945 8.505 21.200\n3.6 V 0.300 0.410 0.645 1.15 4. 20 10.50 0.400 1.040 8.980 22.400\nBluetooth Low \nEnergy disabled  \nWith independent watchdog1.8 V 0.265 0.525 0.710 1.10 3. 90 8.40 0.520 1.095 8.041 19.500\n2.4 V 0.280 0.595 0.790 1.20 4.00 9.05 - - - -\n3.0 V 0.290 0.670 0.855 1.35 4. 15 9.80 0.730 1.253 8.774 21.400\n3.6 V 0.295 0.770 0.990 1.50 4.60 11.00 0.851 1.356 9.360 22.840\nI\nDD\n(Standby with \nRTC)Supply current \nin Standby mode (backup \nregisters and \nSRAM2a retained),  \nRTC enabled  \nBluetooth Low Energy \ndisabledRTC clocked by \nLSI, no independent watchdog1.8 V 0.500 0.600 0.780 1.20 3. 70 8.45 0.680 1.165 8.143 19.660\n2.4 V 0.630 0.705 0.910 1.30 3.80 9.10 - - - -\n3.0 V 0.725 0.825 1.050 1.50 3. 95 9.90 0.930 1.463 8.977 21.440\n3.6 V 0.860 0.970 1.200 1.70 4.25 11.00 1.050 1.628 9.634 23.080\nRTC clocked by \nLSI, with independent watchdog1.8 V 0.565 0.655 0.830 1.25 3. 75 8.55 0.734 1.196 8.187 19.710\n2.4 V 0.635 0.790 0.975 1.40 4.10 9.20 - - - -\n3.0 V 0.725 0.915 1.100 1.55 4. 50 10.00 1.028 1.573 9.072 21.810\n3.6 V 0.870 1.050 1.300 1.80 4.90 11.00 1.144 1.723 9.730 23.200\nRTC clocked by \nLSE quartz \n(2) in \nlow drive mode1.8 V 0.525 0.625 0.840 1.25 3. 75 8.60 0.600 1.061 8.029 19.610\n2.4 V 0.665 0.755 0.960 1.35 4.05 9.25 - - - -\n3.0 V 0.775 0.880 1.100 1.55 4. 40 10.00 0.600 1.100 8.719 21.570\n3.6 V 0.935 1.050 1.300 1.80 5.00 11.00 0.750 1.171 9.460 23.030\nSTM32WB55xx   STM32WB35xx Electrical characteristics\nDS11929 Rev 14 111/196\n          IDD\n(SRAM2a)(3)Supply \ncurrent to be \nsubtracted in \nStandby mode when \nSRAM2a is \nnot retained-1.8 V 0.160 0.210 0.380 0.660 2.30 5.15 - - - -\nµ\nA2.4 V 0.165 0.245 0.375 0.650 2.15 5.20 - - - -\n3.0 V 0.155 0.250 0.385 0.630 2.25 5.20 - - - -3.6 V 0.155 0.235 0.375 0.670 2.20 5.20 - - - -\nIDD\n(wakeup from \nStandby)Supply current \nduring wakeup from \nStandby mode Wakeup clock is \nHSI16. See \n(4). \nSMPS OFF3.0 V - 1.73 - - - - - - - - mA\n1. Guaranteed by characterization re sults, unless otherwise specified.\n2. Based on characterization done with a 32.768 kHz crystal (MC306- G-06Q-32.768, manufacturer JFVN Y) with two 6.8 pF loading \ncapacitors.\n3. The supply current in Standby with SRAM2a mode is: IDD(Standby) + IDD(SRAM2a). The supply current  in Standby with RTC with \nSRAM2a mode is: IDD(Standby + RTC) + IDD(SRAM2a).\n4. Wakeup with code execution from flas h memory. Average value given for a typical wakeup time as specified in Table 51 .Table 46. Current consumption in Standby mode (continued)\nSymbol ParameterConditions TYP MAX(1)\nUnit\n-VDD 0 °C 25 °C 40 °C 55 °C 85 °C 105 °C 0 °C 25 °C 85 °C 105 °C\nElectrical characteristics STM32WB55xx   STM32WB35xx\n112/196 DS11929 Rev 14          \n          Table 47. Current consumption in Shutdown mode \nSymbol ParameterConditions TYP MAX(1)\n1. Guaranteed by characterization re sults, unless otherwise specified.Unit\n-VDD 0 °C 25 °C 40 °C 55 °C 85 °C 105 °C 0 °C 25 °C 85 °C 105 °C\nIDD\n(Shutdown)Supply current in \nShutdown mode (backup registers retained) RTC disabled-1.8 V 0.039 0.013 0.030 0.100 0.635 1.950 - - 2.099 6.200\nµA2.4 V 0.059 0.014 0.055 0.120 0.785 2.350 - - - -\n3.0 V 0.064 0.037 0.070 0.180 1.000 2.900 - 0.185 2.670 7.490\n3.6 V 0.071 0.093 0.140 0.280 1.300 3.700 - 0.247 3.120 8.450\nI\nDD\n(Shutdown \nwith RTC)Supply current in \nShutdown mode (backup registers retained) RTC enabledRTC clocked \nby LSE  \nquartz \n(2) in low \ndrive mode\n2. Based on characterization done with a 32.768 kHz crystal (MC306-G-06Q-32.768, manufacturer JFVNY) with two 6.8 pF loading cap acitors.1.8 V 0.320 0.315 0.355 0.420 0.985 2.300 - 0.572 2.702 6.180\n2.4 V 0.425 0.405 0.460 0.540 1.200 2.800 - - - -3.0 V 0.535 0.535 0.595 0.700 1.500 3.450 - 0.664 2.990 7.800\n3.6 V 0.695 0.720 0.790 0.940 2.000 4.350 - 0.790 3.730 9.140\nTable 48. Current consumption in VBAT mode \nSymbol ParameterConditions TYP MAX(1)\n1. Guaranteed by characterization re sults, unless otherwise specified.Unit\n-VBAT 0 °C 25 °C 40 °C 55 °C 85 °C 105 °C 0 °C 25 °C 40 °C 55 °C 85 °C 105 °C\nIDD(VBAT)Backup \ndomain \nsupply currentRTC disabled1.8 V 1.00 2.00 4.00 10.0 52.0 145 - - - - - -\nnA2.4 V 1.00 2.00 5.00 12.0 60.0 165 - - - - - -\n3.0 V 2.00 4.00 7.00 16.0 75.0 225 - - - - - -3.6 V 7.00 15.0 23.0 42.0 170 450 - - - - - -\nRTC enabled \nand clocked \nby LSE \nquartz\n(2)\n2. Based on characterization done with a 32.768 kHz crystal (MC306-G- 06Q-32.768, manufacturer JFVNY) with two 6.8 pF loading cap acitors.1.8 V 295 305 315 325 380 480 - - - - - -\n2.4 V 385 395 400 415 475 595 - - - - - -\n3.0 V 495 505 515 530 600 765 - - - - - -\n3.6 V 630 645 660 685 830 1150 - - - - - -\nSTM32WB55xx   STM32WB35xx Electrical characteristics\nDS11929 Rev 14 113/196          Table 49. Current under Reset condition \nSymbol ConditionsTYP MAX(1)\n1. Guaranteed by characterization results, unless otherwise specified.Unit\n0 °C 25 °C 40 °C 55 °C 85 °C 105 °C 0 °C 25 °C 40 °C 55 °C 85 °C 105 °C\nIDD(RST)1 . 8  V - 4 1 0 ----------\nµA2 . 4  V ------------\n3 . 0  V - 5 5 0 ----- 7 5 0 ----3 . 6  V - 7 5 0 ----------\nElectrical characteristics STM32WB55xx   STM32WB35xx\n114/196 DS11929 Rev 14I/O system current consumption\nThe current consumption of the I/O system  has two components: static and dynamic.\nI/O static current consumption\nAll the I/Os used as inputs with pull-up generate current consumption when the pin is \nexternally held low. The value of this curren t consumption can be simply computed by using \nthe pull-up/pull-down resi stors values given in Table  72: I/O static characteristics .\nFor the output pins, any external pull-down or external load must also be considered to \nestimate the current consumption.\nAdditional I/O current consumption is due to I/Os  configured as inputs if an intermediate \nvoltage level is externally app lied. This current consumption is  caused by the input Schmitt \ntrigger circuits used to discriminate the inpu t value. Unless this specific configuration is \nrequired by the application, this supply curr ent consumption can be avoided by configuring \nthese I/Os in analog mode. This is notably th e case of ADC input pins which should be \nconfigured as analog inputs.\nCaution: Any floating input pin can also settle to an intermediate voltage level or switch inadvertently, \nas a result of external electromagnetic nois e. To avoid current consumption related to \nfloating pins, they must either be configured in analog mode, or forced internally to a definite \ndigital value. This can be done either by usin g pull-up/down resistors or by configuring the \npins in output mode.\nI/O dynamic current consumption\nIn addition to the internal peripheral current consumption measured previously (see \nTable  50: Peripheral current consumption , the I/Os used by an application also contribute to \nthe current consumption. When an I/O pin switc hes, it uses the current from the I/O supply \nvoltage to supply the I/O pin circuitry and to c harge/discharge the capacitive load (internal or \nexternal) connected to the pin:\nwhere\n• ISW is the current sunk by a switching I/ O to charge/discharge the capacitive load\n• VDD is the I/O supply voltage\n• fSW is the I/O switching frequency\n• C is the total capacitance seen by the I/O pin: C = CIO+ CEXT\n• CIO is the I/O pin capacitance\n• CEXT is the PCB board capacitance plus any connected external device pin \ncapacitance.\nThe test pin is configured in push-pull output  mode and is toggled by software at a fixed \nfrequency.ISWVDDfSWC× × =\nDS11929 Rev 14 115/196STM32WB55xx   STM32WB35xx Electrical characteristics\n169On-chip peripheral current consumption\nThe current consumption of the on-chip peripherals is given in Table  50. The MCU is placed \nunder the following conditions:\n• All I/O pins are in Analog mode\n• The given value is calculated by measuring the difference of the current consumptions:\n– when the peripheral is clocked on– when the peripheral is clocked off\n• Ambient operating temperature and supply voltage conditions summarized in Table 20: \nVoltage characteristics\n• The power consumption of the digital part of the on-chip peripherals is given in \nTable 50 . The power consumption of the analog part of the peripherals (where \napplicable) is indicated in each related section of the datasheet.\n          Table 50. Peripheral current consumption \nPeripheral Range 1 Range 2Low-power \nrun and sleepUnit\nAHB1Bus matrix(1)2.40 2.00 1.80\nµA/MHzTSC 1.25 1.05 1.05\nCRC 0.465 0.375 0.380DMA1 1.90 1.55 1.80\nDMA2 2.00 1.65 1.80\nDMAMUX 4.15 3.40 4.45All AHB1 peripherals 12.0 10.0 11.5\nAHB2\n(2)AES1 4.00 3.30 3.90\nADC1 independent clock domain 2.55 2.10 2.10ADC1 clock domain 2.25 1.90 1.90\nAll AHB2 peripherals 7.45 6.20 6.60\nAHB3 QSPI 7.60 6.25 7.10\nAHB SharedTRNG independent clock domain 3.80 N/A N/A\nTRNG clock domain 2.00 N/A N/A\nSRAM2 1.70 1.35 1.35FLASH 8.35 6.90 8.45\nAES2 6.95 5.75 7.00\nPKA 4.40 3.65 4.25All AHB shared peripherals 17.5 14.5 16.0\nElectrical characteristics STM32WB55xx   STM32WB35xx\n116/196 DS11929 Rev 14APB1RTCA 1.10 0.88 1.25\nµA/MHzCRS 0.24 0.20 0.20\nUSB FS independent clock domain 3.20 N/A N/A\nUSB FS clock domain 2.05 N/A N/A\nI2C1 independent clock domain 2.50 4.40 4.40I2C1 clock domain 4.80 4.00 5.50\nI2C3 independent clock domain 2.10 3.50 3.55\nI2C3 clock domain 3.70 3.10 3.55LCD 1.35 1.10 2.10\nSPI2 1.65 1.40 2.25\nLPTIM1 independent clock domain 2.10 3.40 3.00\nLPTIM1 clock domain 3.60 3.00 3.80\nTIM2 5.65 4.70 4.90LPUART1 independent clock domain 2.70 4.15 3.85\nLPUART1 clock domain 4.45 3.70 5.25\nLPTIM2 clock domain 3.95 3.25 4.50LPTIM2 independent clock domain 2.20 3.70 3.80\nWWDG 0.335 0.285 0.965\nAll APB1 peripherals 27.0 22.5 25.5\nAPB2AHB to APB2\n(3)1.10 0.885 1.35\nTIM1 8.20 6.80 7.25\nTIM17 2.85 2.40 2.40TIM16 2.75 2.30 2.55\nUSART1 independent clock domain 4.40 7.80 7.00\nUSART1 clock domain 8.80 7.30 7.75SPI1 1.75 1.45 1.45\nSAI1 independent clock domain 2.50 1.50 3.50\nSAI1 clock domain 2.40 N/A N/AAll APB2 on 28.0 23.0 25.5\nALL 97.5 80.5 90.0\n1. The BusMatrix is automatica lly active when at least one master is ON (CPU, DMA).\n2. GPIOs consumption during read and write accesses.3. The AHB to APB2 bridge is automatically active  when at least one peripheral is ON on the APB2.Table 50. Peripheral current consumption (continued)\nPeripheral Range 1 Range 2Low-power \nrun and sleepUnit\nDS11929 Rev 14 117/196STM32WB55xx   STM32WB35xx Electrical characteristics\n1696.3.9 Wakeup time from Low-pow er modes and voltage scaling  \ntransition times\nThe wakeup times given in Table  51 are the latency between the event and the execution of \nthe first user instruction.\nThe device goes in Low-power mode after the WFE (Wait For Event) instruction.\n          Table 51. Low-power mode wakeup timings(1) \nSymbol Parameter Conditions Typ Max Unit\ntWUSLEEPWakeup time from \nSleep mode  \nto Run mode-9 1 0\nNo. of \nCPU \ncycles\ntWULPSLEEPWakeup time from  \nLow-power sleep mode to Low-power run modeWakeup in flash with memory in power-down during \nlow-power sleep mode (FPDS = 1 in PWR_CR1) and with clock MSI = 2 MHz91 0\nt\nWUSTOP0Wake up time from \nStop 0 mode  \nto Run mode in flash \nmemoryRange 1Wakeup clock MSI = 32 MHz 2.38 2.96\nµsWakeup clock HSI16 = 16 MHz 1.69 2.00\nRange 2Wakeup clock HSI16 = 16 MHz 1.70 2.01\nWakeup clock MSI = 4 MHz 7.43 8.59\nWake up time from \nStop 0 mode  \nto Run mode in SRAM1Range 1Wakeup clock MSI = 32 MHz 2.63 3.00\nWakeup clock HSI16 = 16 MHz 1.80 2.00\nRange 2Wakeup clock HSI16 = 16 MHz 1.82 2.02\nWakeup clock MSI = 4 MHz 7.58 8.70\ntWUSTOP1Wake up time from \nStop 1 mode  \nto Run in flash memory  \nSMPS bypassedRange 1Wakeup clock MSI = 32 MHz 4.67 5.56\nWakeup clock HSI16 = 16 MHz 5.09 6.03\nRange 2Wakeup clock HSI16 = 16 MHz 5.08 6.00\nWakeup clock MSI = 4 MHz 8.36 9.28\nWake up time from \nStop 1 mode  \nto Run in SRAM1  \nSMPS bypassedRange 1Wakeup clock MSI = 32 MHz 4.88 5.55\nWakeup clock HSI16 = 16 MHz 5.29 5.95\nRange 2Wakeup clock HSI16 = 16 MHz 5.28 5.96\nWakeup clock MSI = 4 MHz 8.49 9.30\nWake up time from \nStop 1 mode to  \nLow-power run mode  \nin flash memoryRegulator in \nLow-power \nmode (LPR = 1 \nin PWR_CR1)Wakeup clock MSI = 4 MHz7.96 9.59\nWake up time from \nStop 1 mode to  \nLow-power run mode  \nin SRAM18.00 9.47\nElectrical characteristics STM32WB55xx   STM32WB35xx\n118/196 DS11929 Rev 14          \n          tWUSTOP2Wake up time from \nStop 2 mode  \nto Run mode in flash \nmemory  \nSMPS bypassedRange 1Wakeup clock MSI = 32 MHz 5.27 6.07\nµsWakeup clock HSI16 = 16 MHz 5.71 6.52\nRange 2Wakeup clock HSI16 = 16 MHz 5.72 6.52\nWakeup clock MSI = 4 MHz 9.10 9.93\nWake up time from \nStop 2 mode to Run mode in SRAM1  \nSMPS bypassedRange 1Wakeup clock MSI = 32 MHz 5.20 5.94\nWakeup clock HSI16 = 16 MHz 5.64 6.42\nRange 2Wakeup clock HSI16 = 16 MHz 5.64 6.43\nWakeup clock MSI = 4 MHz 9.05 9.85\nt\nWUSTBYWakeup time from \nStandby mode  \nto Run mode  \nSMPS BypassedRange 1 Wakeup clock HSI16 = 16 MHz 51.0 58.1 µs\n1. Guaranteed by characterization results (VDD = 3 V, .T = 25 °C).Table 51. Low-power mode wakeup timings(1) (continued)\nSymbol Parameter Conditions Typ Max Unit\nTable 52. Regulator modes transition times(1) \nSymbol Parameter Conditions Typ Max Unit\ntWULPRUNWakeup time from Low-power run mode to \nRun mode(2) Code run with MSI 2 MHz 15.33 16.30\nµs\ntVOSTRegulator transition time from Range 2 to \nRange 1 or Range 1 to Range 2(3) Code run with HSI16 21.4 28.9\n1. Guaranteed by characterization results (VDD = 3 V, T = 25 °C).\n2. Time until REGLPF flag is cleared in PWR_SR2.\n3. Time until VOSF flag is cleared in PWR_SR2.\nTable 53. Wakeup time using USART/LPUART(1) \nSymbol Parameter Conditions Typ Max Unit\ntWUUSART\ntWULPUARTWakeup time needed to calculate the maximum \nUSART/LPUART baud rate allowing to wakeup from \nStop modes when USART/LPUART clock source is HSI16Stop mode 0 - 1.7\nµs\nStop mode 1/2 - 8.5\n1. Guaranteed by design.\nDS11929 Rev 14 119/196STM32WB55xx   STM32WB35xx Electrical characteristics\n1696.3.10 External clo ck source characteristics\nHigh-speed external user clock generated from an external source\nThe high-speed exte rnal (HSE) clock is supplied with a 32 MHz crystal oscillator or a sine or \na square wave.\nThe devices include internal programmable ca pacitances that can be used to tune the \ncrystal frequency in order to compensate the PCB parasitic one.\nThe characteristics in Table  54 and Table  55 are measured over recommended operating \nconditions, unless otherwise specified.  Typical values are referred to TA = 25 °C and  \nVDD = 3.0  V.\n          \n          Table 54. HSE crystal requirements(1) (2) \nSymbol Parameter Conditions Min Typ Max Unit\nfNOM Oscillator frequency - - 32 - MHz\nfTOL Frequency toleranceIncludes initial accu racy, stability over \ntemperature, aging and frequency pulling \ndue to incorrect load capacitance.--(3)ppm\nCL Load capacitance - 6 - 8 pF\nESR Equivalent series resistance - - - 100 Ω\n1. 32 MHz XTAL is validated for the specific reference (NX2016SA).\n2. For information about the HSE crystal refer to AN5165 “ Development of RF hardware using STM32WB microcontrollers ”, \navailable on www.st.com .\n3. Refer to the standard specification: 50 ppm for Bluetooth Low Energy, 40 ppm for 802.15.4 and when both Bluetooth Low \nEnergy and 802.15.4 are used.\nTable 55. HSE clock source requirements(1) \nSymbol Parameter Conditions Min Typ Max Unit\nfHSE_extUser external clock source \nfrequency-- 3 2 - M H z\nfTOL Frequency toleranceIncludes initial accuracy, stability \nover temperature and aging.--(2)ppm\nVHSE Clock input voltage limits Sine or square wave, AC-coupled(3)0.4 - 1.6 VPP\nDuCy(HSE) Duty cycle - 45 50 55 %\ntr, tf Rise and fall times 10% - 90% square wave - - 15 * VPP ns\nφn(HSE) Phase noise for 32 MHzOffset = 10 kHz - - -127\ndBc/Hz Offset = 100 kHz - - -135\nOffset = 1 MHz - - -138\n1. Guaranteed by design.\n2. Refer to the standard specification: 50 ppm for Bluetooth Low Energy, 40 ppm for 802.15.4 and when both Bluetooth Low \nEnergy and 802.15.4 are used.\n3. Only AC coupled is supporte d (capacitor 470 pF to 100 nF).\nElectrical characteristics STM32WB55xx   STM32WB35xx\n120/196 DS11929 Rev 14          \nNote: For information about oscillator trimming refer to AN5165, available on www.st.com .\nLow-speed external user clock generated from an external source\nThe low-speed external (LSE) clock can be supplied with a 32.768 kHz crystal resonator \noscillator. The information prov ided in this section is base d on design simulation results \nobtained with typical external components specified in Table  57. In the application, the \nresonator and the load capacitors  have to be placed as close as possible to the oscillator \npins to minimize output distorti on and startup st abilization time.\nRefer to the crystal reso nator manufacturer for more details on the resonator characteristics \n(frequency, package, accuracy).\n          Table 56. HSE oscillator characteristics \nSymbol Parameter Conditions Min Typ Max Unit\ntSUA(HSE)Startup time  \nfor 80% amplitude stabilization VDDRF  stabilized,  \nXOTUNE=000000,  \n-40 to +125 °C range-1 0 0 0-\nµs\ntSUR(HSE)Startup time  \nfor XOREADY signal- 250 -\nIDDRF(HSE) HSE current consumption(1)HSEGMC=000, XOTUNE=000000 - 50 - µA\nXOTg(HSE) XOTUNE granularity\nCapacitor bank-15\nppm\nXOTfp(HSE) XOTUNE frequency pulling ±20 ±40 -\nXOTnb(HSE) XOTUNE number of tuning bits - 6 - bit\nXOTst(HSE) XOTUNE setting time - - 0.1 ms\n1. Current consumption in standalone mode. The current cons umption at device level is 350 µA in design simulation.\nTable 57. Low-speed external user clock characteristics(1) \nSymbol Parameter Conditions Min Typ Max Unit\nIDD(LSE) LSE current consumptionLSEDRV[1:0] = 00\nLow drive capability-2 5 0-\nnALSEDRV[1:0] = 01\nMedium low drive capability-3 1 5-\nLSEDRV[1:0] = 10\nMedium high drive capability-5 0 0-\nLSEDRV[1:0] = 11\nHigh drive capability-6 3 0-\nGmcritmax Maximum critical crystal gmLSEDRV[1:0] = 00\nLow drive capability- - 0.50\nµA/VLSEDRV[1:0] = 01\nMedium low drive capability- - 0.75\nLSEDRV[1:0] = 10\nMedium high drive capability- - 1.70\nLSEDRV[1:0] = 11\nHigh drive capability- - 2.70\ntSU(LSE)(2)Startup time VDD stabilized - 2 - s\nDS11929 Rev 14 121/196STM32WB55xx   STM32WB35xx Electrical characteristics\n169Note: For information on selectin g the crystal refer to application note AN2867 “Oscillator design \nguide for STM8S, STM8A and STM32 microcontrollers” available from www.st.com .\nFigure 22. Typical application with a 32.768 kHz crystal\nNote: No external resistors are required between  OSC32_IN and OSC32_OUT, and it is forbidden \nto add one.\nIn bypass mode the LSE oscillator is switched  off and the input pin is a standard GPIO.\nThe external clock signal has to resp ect the I/O characteristics detailed in Section  6.3.17 . \nThe recommend clo ck input waveform is shown in Figure  23.\nFigure 23. Low-speed external cl ock source AC timing diagram1. Guaranteed by design.\n2. tSU(LSE)  is the startup time measured from the moment it is  enabled (by software) until a stable 32 kHz oscillation is \nreached. This value is measured for a standard crystal and it  can vary significantly with the crystal manufacturer.\nMS30253V2OSC32_IN\nOSC32_OUTDrive \nprogrammable \namplifierfLSE\n32.768 kHz \nresonatorResonator with integrated \ncapacitors\nCL1\nCL2\nMS19215V2VLSEH\ntf(LSE)90%\n10%\nTLSEttr(LSE)VLSELtw(LSEH)\ntw(LSEL)\nElectrical characteristics STM32WB55xx   STM32WB35xx\n122/196 DS11929 Rev 14          \n6.3.11 Internal clock source characteristics\nThe parameters given in Table  59 are derived from tests performed under ambient \ntemperature and supply voltage conditions summarized in Table  24: General operating \nconditions . The provided curves are characterization results, not tested in production.\nHigh-speed internal (HSI16) RC oscillator\n          Table 58. Low-speed external user clock characteristics(1) – Bypass mode \n1. Guaranteed by design.Symbol Parameter Conditions Min Typ Max Unit\nfLSE_extUser external clock \nsource frequency- 21.2 32.768 44.4 kHz\nVLSEHOSC32_IN input pin \nhigh level voltage- 0.7 VDDx -VDDx\nV\nVLSELOSC32_IN input pin \nlow level voltage-VSS - 0.3 VDDx\ntw(LSEH)  \ntw(LSEL)OSC32_IN high or low time-2 5 0 - - n s\nf\ntolLSE Frequency toleranceIncludes initial \naccuracy, stability over \ntemperature, aging and frequency pulling-500 - +500 ppm\nTable 59. HSI16 oscillator characteristics(1) \nSymbol Parameter Conditions Min Typ Max Unit\nfHSI16 HSI16 frequency VDD=3.0 V, TA=30 °C 15.88 - 16.08 MHz\nTRIM HSI16 user trimming stepTrimming code is not \na multiple of 640.2 0.3 0.4\n%Trimming code is a \nmultiple of 64-4 -6 -8\nDuCy(HSI16)(2)Duty cycle - 45 - 55\n∆Temp(HSI16)HSI16 oscillator frequency drift over \ntemperatureTA= 0 to 85 °C -1 - 1\nTA= -40 to 125 °C -2 - 1.5\n∆VDD(HSI16) HSI16 oscillator frequency drift over VDD VDD=1.62 V to 3.6 V -0.1 - 0.05\ntsu(HSI16)(2)HSI16 oscillator start-up time - - 0.8 1.2\nμs\ntstab(HSI16)(2)HSI16 oscillator stabilization time - - 3 5\nIDD(HSI16)(2)HSI16 oscillator power consumption - - 155 190 μA\n1. Guaranteed by characterization results.\n2. Guaranteed by design.\nDS11929 Rev 14 123/196STM32WB55xx   STM32WB35xx Electrical characteristics\n169Figure 24. HSI16 frequency vs. temperature\nMSv39299V115.615.715.815.91616.116.216.316.4MHz\nmin mean max+1%\n-1%+2%\n-2%+1.5%\n-1.5%\n-40 -20 0 20 40 60 80 100 120 °C\nElectrical characteristics STM32WB55xx   STM32WB35xx\n124/196 DS11929 Rev 14Multi-speed internal (MSI) RC oscillator\n          Table 60. MSI oscillator characteristics(1) \nSymbol Parameter Conditions Min Typ Max Unit\nfMSIMSI frequency \nafter factory \ncalibration, done \nat VDD=3 V and \nTA=30 °CMSI modeRange 0 98.7 100 101.3\nkHzRange 1 197.4 200 202.6\nRange 2 394.8 400 405.2\nRange 3 789.6 800 810.4Range 4 0.987 1 1.013\nMHzRange 5 1.974 2 2.026\nRange 6 3.948 4 4.052Range 7 7.896 8 8.104\nRange 8 15.79 16 16.21\nRange 9 23.69 24 24.31\nRange 10 31.58 32 32.42\nRange 11 47.38 48 48.62\nPLL mode  \nXTAL=  \n32.768 kHzRange 0 - 98.304 -\nkHzRange 1 - 196.608 -\nRange 2 - 393.216 -Range 3 - 786.432 -\nRange 4 - 1.016 -\nMHzRange 5 - 1.999 -\nRange 6 - 3.998 -\nRange 7 - 7.995 -\nRange 8 - 15.991 -Range 9 - 23.986 -\nRange 10 - 32.014 -\nRange 11 - 48.005 -\n∆\nTEMP (MSI)(2)MSI oscillator \nfrequency drift \nover temperatureMSI modeTA= -0 to 85 °C -3.5 - 3\n%\nTA= -40 to 125 °C -8 - 6\nDS11929 Rev 14 125/196STM32WB55xx   STM32WB35xx Electrical characteristics\n169∆VDD(MSI)(2)MSI oscillator \nfrequency drift over V\nDD \n(reference is 3 V)MSI modeRange 0 to 3VDD =  \n1.62  to 3.6 V-1.2 -\n0.5\n%VDD =  \n2.4  to 3.6 V-0.5 -\nRange 4 to 7VDD =  \n1.62  to 3.6 V-2.5 -\n0.7\nVDD =  \n2.4  to 3.6 V-0.8 -\nRange 8 to 11VDD =  \n1.62  to 3.6 V-5 -\n1\nVDD =  \n2.4  to 3.6 V-1.6 -\n∆FSAMPLING\n(MSI)(2)(6)Frequency \nvariation in \nsampling mode(3)MSI modeTA= -40 to 85 °C - 1 2\nTA= -40 to 125 °C - 2 4\nP_USB \nJitter(MSI)(6)Period jitter for USB clock\n(4)PLL mode  \nRange 11For next \ntransition- - - 3.458\nnsFor paired \ntransition- - - 3.916\nMT_USB \nJitter(MSI)(6)Medium term jitter for USB clock\n(5)PLL mode  \nRange 11For next \ntransition-- - 2\nFor paired \ntransition-- - 1\nCC jitter(MSI)(6)RMS cycle-to-\ncycle jitterPLL mode Range 11 - - 60 -\nps\nP jitter(MSI)(6)RMS period jitter PLL mode Range 11 - - 50 -\ntSU(MSI)(6) MSI oscillator \nstart-up timeRange 0 - - 10 20\nμsRange 1 - - 5 10\nRange 2 - - 4 8Range 3 - - 3 7\nRange 4 to 7 - - 3 6\nRange 8 to 11 - - 2.5 6\nt\nSTAB(MSI)(6) MSI oscillator \nstabilization timePLL mode  \nRange 1110 % of final \nfrequency- - 0.25 0.5\nms5 % of final \nfrequency-- 0 . 5 1 . 2 5\n1 % of final \nfrequency-- - 2 . 5Table 60. MSI oscillator characteristics(1) (continued)\nSymbol Parameter Conditions Min Typ Max Unit\nElectrical characteristics STM32WB55xx   STM32WB35xx\n126/196 DS11929 Rev 14IDD(MSI)(6)MSI oscillator \npower \nconsumptionMSI and  \nPLL modeRange 0 - - 0.6 1\nµARange 1 - - 0.8 1.2\nRange 2 - - 1.2 1.7Range 3 - - 1.9 2.5\nRange 4 - - 4.7 6\nRange 5 - - 6.5 9Range 6 - - 11 15\nRange 7 - - 18.5 25\nRange 8 - - 62 80Range 9 - - 85 110\nRange 10 - - 110 130\nRange 11 - - 155 190\n1. Guaranteed by characterization results.\n2. This is a deviation for an individual part once the init ial frequency has been measured.\n3. Sampling mode means Low-power run/Low-power sleep modes with Temperature sensor disable.\n4. Average period of MSI at 48 MHz is compared to a real 48 MH z clock over 28 cycles. It incl udes frequency tolerance + jitter \nof MSI at 48 MHz clock.\n5. Only accumulated jitter of MSI at 48 MHz is extracted over 28 cycles.  \nFor next transition: min. and max. jitter of 2 consecutive frame of 28 cycles of the MSI at 48 MHz, for 1000 captures over  \n28 cycles.  \nFor paired transitions: min. and max. jitter of 2 consecutive frame of 56 cycles of the MSI at 48 MHz, for 1000 captures over \n56 cycles.\n6. Guaranteed by design.Table 60. MSI oscillator characteristics(1) (continued)\nSymbol Parameter Conditions Min Typ Max Unit\nDS11929 Rev 14 127/196STM32WB55xx   STM32WB35xx Electrical characteristics\n169Figure 25. Typical current consumption vs. MSI frequency\nHigh-speed internal 48 MHz (HSI48) RC oscillator\n          \nTable 61. HSI48 oscillator characteristics(1) \nSymbol Parameter Conditions Min Typ Max Unit\nfHSI48 HSI48 frequency VDD = 3.0 V, TA = 30 °C - 48 - MHz\nTRIM HSI48 user trimming step - - 0.11(2)0.18(2)\n%USER TRIM \nCOVERAGEHSI48 user trimming coverage ±32 steps ±3(3)±3.5(3)-\nDuCy(HSI48) Duty cycle - 45(2)-5 5(2)\nACCHSI48_RELAccuracy of the HSI48 oscillator \nover temperature  \n(factory calibrated)VDD = 3.0 V to 3.6 V,  \nTA = –15 to 85 °C-- ± 3(3)\nVDD = 1.65 V to 3.6 V,  \nTA = –40 to 125 °C-- ± 4 . 5(3)\nDVDD(HSI48)HSI48 oscillator frequency drift  \nwith VDDVDD = 3 V to 3.6 V - 0.025(3)0.05(3)\nVDD = 1.65 V to 3.6 V - 0.05(3)0.1(3)\ntsu(HSI48) HSI48 oscillator  start-up time - - 2.5(2)6(2)μs\nIDD(HSI48) HSI48 oscillator power consumption - - 340(2)380(2)μA\nElectrical characteristics STM32WB55xx   STM32WB35xx\n128/196 DS11929 Rev 14Figure 26. HSI48 frequency vs. temperature\nLow-speed internal (LSI) RC oscillator\n          NT jitterNext transition jitter  \nAccumulated jitter on 28 cycles(4) -- ± 0 . 1 5(2)-\nns\nPT jitterPaired transition jitter  \nAccumulated jitter on 56 cycles(4) -- ± 0 . 2 5(2)-\n1. VDD = 3 V, TA = –40 to 125 °C unless otherwise specified.\n2. Guaranteed by design.\n3. Guaranteed by characterization results.\n4. Jitter measurement are performed without  clock source acti vated in parallel.Table 61. HSI48 oscillator characteristics(1) (continued)\nSymbol Parameter Conditions Min Typ Max Unit\nMSv40989V1-6-4-20246\n-50 -30 -10 10 30 50 70 90 110 130\nAvg min max°C%\nTable 62. LSI1 oscillator characteristics(1) \nSymbol Parameter Conditions Min Typ Max Unit\nfLSI LSI1 frequencyVDD = 3.0 V, TA = 30 °C 31.04 - 32.96\nkHz\nVDD = 1.62 to 3.6 V, TA = -40 to 125 °C 29.5 - 34\ntSU(LSI1)(2)LSI1 oscillator start-up time - - 80 130\nμs\ntSTAB(LSI1)(2)LSI1 oscillator stabilization time 5% of final frequency - 125 180\nIDD(LSI1)(2)LSI1 oscillator power \nconsumption- - 110 180 nA\n1. Guaranteed by characterization results.\n2. Guaranteed by design.\nDS11929 Rev 14 129/196STM32WB55xx   STM32WB35xx Electrical characteristics\n169          \n6.3.12 PLL characteristics\nThe parameters given in Table  64 are derived from tests performed under temperature and \nVDD supply voltage conditions summarized in Table  24: General operating conditions .\n          Table 63. LSI2 oscillator characteristics(1) \nSymbol Parameter Conditions Min Typ Max Unit\nfLSI2 LSI2 frequencyVDD = 3.0 V, TA = 30 °C 21.6 - 44.2\nkHz\nVDD = 1.62 to 3.6 V, TA = -40 to 125 °C 21.2 - 44.4\ntSU(LSI2)(2)LSI2 oscillator start-up time - 0.7 - 3.5 ms\nIDD(LSI2)(2)LSI2 oscillator power \nconsumption- - 500 1180 nA\n1. Guaranteed by characterization results.\n2. Guaranteed by design.\nTable 64. PLL, PLLSAI1 characteristics(1) \nSymbol Parameter Conditions Min Typ Max Unit\nfPLL_INPLL input clock(2)-2 . 6 6 - 1 6 M H z\nPLL input clock duty cycle - 45 - 55 %\nfPLL_P_OUT PLL multiplier output clock PVoltage scaling Range 1 2 - 64\nMHzVoltage scaling Range 2 2 - 16\nfPLL_Q_OUT PLL multiplier output clock QVoltage scaling Range 1 8 - 64\nVoltage scaling Range 2 8 - 16\nfPLL_R_OUT PLL multiplier output clock RVoltage scaling Range 1 8 - 64\nVoltage scaling Range 2 8 - 16\nfVCO_OUT PLL VCO outputVoltage scaling Range 1 96 - 344\nVoltage scaling Range 2 64 - 128\ntLOCK PLL lock time - - 15 40 μs\nJitterRMS cycle-to-cycle jitter\nSystem clock 64 MHz-4 0 -\nps\nRMS period jitter - 30 -\nIDD(PLL)PLL power consumption  \non VDD(1)VCO freq = 96 MHz - 200 260\nμA VCO freq = 192 MHz - 300 380\nVCO freq = 344 MHz - 520 650\n1. Guaranteed by design.\n2. Take care of using the appropriate division factor M to obtain the specified PLL input clock va lues. The M factor is shared \nbetween the two PLLs.\nElectrical characteristics STM32WB55xx   STM32WB35xx\n130/196 DS11929 Rev 146.3.13 Flash memory characteristics\n          \n          Table 65. Flash memory characteristics(1) \n1. Guaranteed by design.Symbol Parameter  Conditions Typ Max Unit\ntprog 64-bit programming time - 81.7 90.8 µs\ntprog_rowOne row (64 double word) \nprogramming timeNormal programming 5.2 5.5\nmsFast programming 3.8 4.0\ntprog_pageOne page (4 Kbytes)  \nprogramming timeNormal programming 41.8 43.0\nFast programming 30.4 31.0\ntERASE Page (4 Kbytes) erase time - 22.0 24.5\ntME Mass erase time - 22.1 25.0\nIDD Average consumption from VDDWrite mode 3.4 -\nmA\nErase mode 3.4 -\nTable 66. Flash memory endurance and data retention \nSymbol Parameter  Conditions Min(1)\n1. Guaranteed by characterization results.Unit\nNEND Endurance TA = –40 to +105 °C 10 kcycles\ntRET Data retention1 kcycle(2) at TA = 85 °C\n2. Cycling performed over the whole temperature range.30\nYears1 kcycle(2) at TA = 105 °C 15\n1 kcycle(2) at TA = 125 °C 7\n10 kcycles(2) at TA = 55 °C 30\n10 kcycles(2) at TA = 85 °C 15\n10 kcycles(2) at TA = 105 °C 10\nDS11929 Rev 14 131/196STM32WB55xx   STM32WB35xx Electrical characteristics\n1696.3.14 EMC characteristics\nSusceptibility tests ar e performed on a sample basis during device characterization.\nFunctional EMS (electromagnetic susceptibility)\nWhile a simple application is executed on t he device (toggling 2 LEDs through I/O ports). \nthe device is stressed by two electromagnetic events until a failure occurs. The failure is indicated by the LEDs:\n• Electrostatic discharge (ESD) (positive and negative) is applied to all device pins until \na functional disturbance occurs. This test is compliant with the IEC 61000-4-2 standard.\n• FTB: A Burst of Fast Transient voltage (positive and negative) is applied to VDD and \nVSS through a 100 pF capacitor, until a func tional disturbance occurs. This test is \ncompliant with the IEC 61000-4-4 standard.\nA device reset allows normal operation to be resumed.\nThe test results are given in Table  67. They are based on the EMS levels and classes \ndefined in AN1709 “ EMC design guide for STM8, STM32 and Legacy MCUs ”, available on \nwww.st.com .\n          \nDesigning hardened software to avoid noise problems\nEMC characterization and optimization are per formed at component level with a typical \napplication environment and simplified MCU software. \nGood EMC performance is highly dependent on the user application and the software in \nparticular. Therefore it is recommended that the user applies EMC software optimization and prequalification tests in relation with the EMC level requested for the application.\nSoftware recommendations\nThe software flow must include the mana gement of runaway conditions such as:\n• corrupted program counter\n• unexpected reset\n• critical data corruption (e.g. control registers)\nPrequalification trials\nMost of the common failures (unexpected reset and program counter corruption) can be \nreproduced by manually forc ing a low state on the NRST pin or the Oscillator pins for \n1 second.\nTo complete these trials, ESD stress can be applie d directly on the device, over the range of \nspecification values. When une xpected behavior is detected, the software can be hardened Table 67. EMS characteristics \nSymbol Parameter Conditions Level/Class\nVFESDVoltage limits to be applied on any I/O pin \nto induce a functional disturbanceVDD = 3.3 V, TA = +25 °C,  \nfHCLK  = 64 MHz,  \nconforming to IEC 61000-4-22B\nVEFTBFast transient voltage burst limits to be \napplied through 100 pF on VDD and VSS \npins to induce a functional disturbanceVDD = 3.3 V, TA = +25 °C,  \nfHCLK  = 64 MHz,  \nconforming to IEC 61000-4-45A\nElectrical characteristics STM32WB55xx   STM32WB35xx\n132/196 DS11929 Rev 14to prevent unrecoverable errors occurring (see AN1015 “ Software techniques for improving \nmicrocontrollers EMC performance ”, available on www.st.com ).\nElectromagnetic interference (EMI)\nThe electromagnetic field emitted by the device are monitored while a simple application is \nexecuted (toggling two LEDs through the I/O ports). This emission test is compliant with the IEC\n 61967-2 standard, which specifies th e test board and the pin loading.\n          \n6.3.15 Electrical sens itivity characteristics\nBased on three different tests (ESD, LU) using specific measurement me thods, the device is \nstressed to determine its performance in terms of electrical sensitivity.\nElectrostatic discharge (ESD)\nElectrostatic discharges (a positive then a n egative pulse separated by 1 second) are \napplied to the pins of each sample according to each pin combinati on. The sample size \ndepends on the number of supply pins in the devi ce (3 parts × (n+1) supply pins). This test \nconforms to the ANSI/JEDEC standard.\n           Table 68. EMI characteristics for fHSE / fCPUM4 , fCPUM0  = 32  MHz / 64 MHz, 32 MHz \nSymbol Parameter ConditionsMonitored\nfrequency bandPeripheral ON\nSMPS OFF or ONUnit\nSEMIPeak(1) VDD = 3.6 V, TA = 25 °C,  \nWLCSP100 package  \ncompliant with IEC 61967-20.1 MHz to 30 MHz 1\ndBµV30 MHz to 130 MHz 4\n130 MHz to 1 GHz -1\n1 GHz to 2 GHz 7\nLevel(2)0.1 MHz to 2 GHz 1.5 -\n1. Refer to AN1709, “EMI radiated test” section.\n2. Refer to AN1709, “EMI leve l classsification section.\nTable 69. ESD absolute maximum ratings \nSymbol Ratings Conditions Class Maximum value(1)Unit\nVESD(HBM)Electrostatic discharge voltage \n(human body model)TA = +25 °C, conforming to \nANSI/ESDA/JEDEC JS-0012 2000\nV\nVESD(CDM)Electrostatic discharge voltage \n(charge device model)TA = +25 °C, conforming to \nANSI/ESD STM5.3.1 JS-002C2a(2)500(2)\nC1(3)250(3)\n1. Guaranteed by characterization results.\n2. UFQFPN48, VFQPN68 and WLCSP100 packages.3. UFBGA129 package.\nDS11929 Rev 14 133/196STM32WB55xx   STM32WB35xx Electrical characteristics\n169Static latch-up\nTwo complementary static tests are required  on six parts to assess the latch-up \nperformance:\n• a supply overvoltage is applied to each power supply pin\n• a current injection is applied to each input, output and configurable I/O pin.\nThese tests are compliant with EI A/JESD 78A IC latch-up standard.\n          \n6.3.16 I/O current in jection characteristics\nAs a general rule, current injection to the I/O pins, due to external voltage below VSS or \nabove VDD (for standard, 3.3 V-capable I/O pins) should be avoided during normal product \noperation. However, in order to give an indica tion of the robustness of the microcontroller in \ncases when abnormal injection a ccidentally happens, susceptibilit y tests are performed on a \nsample basis during device characterization.\nFunctional susceptibility to I/O current injection\nWhile a simple application is executed on the device, the device is stressed by injecting \ncurrent into the I/O pins  programmed in floating input mode . While current is  injected into \nthe I/O pin, one at a time, the device is checked for functional failures. \nThe failure is indicated by an out of range parameter: ADC error above a certain limit (higher than 5 LSB TUE), out of conventional limits of induced leakage current on adjacent pins (out of the -5\n µA / 0  µA range) or other functional failure (for example reset occurrence or \noscillator freque ncy deviation).\nThe characterization results are given in Table  71.\nNegative induced leakage current is caused by negative injection and positive induced \nleakage current is caused by positive injection.\n          Table 70. Electrical sensitivity \nSymbol Parameter Conditions Class\nLU Static latch-up class TA = +105 °C conforming to JESD78A II\nTable 71. I/O current injection susceptibility(1) \n1. Guaranteed by characterization results.Symbol DescriptionFunctional susceptibility\nUnitNegative \ninjectionPositive \ninjection\nIINJInjected current on all pins except PB0, PB1 -5 N/A(2)\n2. Injection not possible.mA\nInjected current on PB0, PB1 pins -5 0\nElectrical characteristics STM32WB55xx   STM32WB35xx\n134/196 DS11929 Rev 146.3.17 I/O port characteristics\nGeneral input/output characteristics\nUnless otherwise specified,  the parameters given in Table  72 are derived from tests \nperformed under the conditions summarized in Table  24: General operating conditions . All \nI/Os are designed as CMOS- and TTL-compliant.\n          Table 72. I/O static characteristics \nSymbol Parameter Condi tions Min Typ Max Unit\nVILI/O input  \nlow level voltage(1)\n1.62 V < VDD < 3.6 V- - 0.3 x VDD\nVI/O input  \nlow level voltage(2) 0.39 x VDD - 0.06\nVIHI/O input  \nhigh level voltage(1) 0.7 x VDD --\nI/O input  \nhigh level voltage(2) 0.49 x VDD + 0.26 - -\nVhysTT_xx, FT_xxx,  \nand NRST I/O  \ninput hysteresis-2 0 0-m V\nIlkgFT_xx  \ninput leakage current0 ≤ VIN ≤ Max(VDDXXX )(3)- - ±100\nnAMax(VDDXXX ) ≤ VIN ≤ \nMax(VDDXXX ) +1 V(2)(3)(4) - - 650\nMax(VDDXXX ) +1 V < VIN ≤ \n5.5 V(2)(3)(4)(5)(6) -- 2 0 0(7)\nFT_lu, FT_u, and PB2 and PC3 I/Os  \ninput leakage current0 ≤ V\nIN ≤ Max(VDDXXX )(3)- - ±150\nMax(VDDXXX ) ≤ VIN ≤ \nMax(VDDXXX ) +1 V(2)(3) - - 2500\nMax(VDDXXX ) +1 V < VIN ≤ \n5.5 V(1)(3)(4)(8) - - 250\nTT_xx  \ninput leakage currentVIN ≤ Max(VDDXXX )(3)- - ±150\nMax(VDDXXX ) ≤ VIN < \n3.6 V(3) - - 2000\nRPUWeak pull-up \nequivalent resistor(1)VIN = VSS 25 40 55\nkΩ\nRPDWeak pull-down \nequivalent resistor(1)VIN = VDD 25 40 55\nCIOI/O pin \ncapacitance(9) -- 5 - p F\n1. Tested in production.\n2. Guaranteed by design, not tested in production.3. Represents the pad leakage of the I/O itse lf. The total product pad leakage is given by  \nI\nTotal_Ileak_max  = 10 μA + number of I/Os where VIN is applied on the pad x Ilkg(Max) .\n4. Max(VDDXXX ) is the maximum value among all the I/O supplies.\n5. VIN must be lower than [Max(VDDXXX ) + 3.6 V].\nDS11929 Rev 14 135/196STM32WB55xx   STM32WB35xx Electrical characteristics\n169All I/Os are CMOS- and TTL-compliant (no software configuration required). Their \ncharacteristics cover more than the strict CMOS-technology or TTL parameters, as shown in \nFigure  27 .\nFigure 27. I/O input characteristics\nOutput driving current\nThe GPIOs (general purpose input/outputs) can sink or source up to ±8  mA, and sink or \nsource up to ± 20  mA (with a relaxed VOL / VOH).\nIn the user application, the number of I/O pi ns that can drive current must be limited to \nrespect the absolute maximum rating specified in Section  6.2.\n• The sum of the currents sourced by all the I/Os on VDD, plus the maximum \nconsumption of the MCU sourced on VDD, cannot exceed the absolute maximum rating \nΣIVDD (see Table 20: Voltage characteristics ).\n• The sum of the currents sunk by all the I/Os on VSS, plus the maximum consumption of \nthe MCU sunk on VSS, cannot exceed the absolute maximum rating ΣIVSS (see \nTable 20: Voltage characteristics ). \nOutput voltage levels\nUnless otherwise specified, th e parameters given in the table below are derived from tests \nperformed under the ambient temperature and supply voltage conditions summarized in 6. Refer to Figure 27: I/O input characteristics .\n7. To sustain a voltage higher than Min(VDD, VDDA, VDDUSB , VLCD) + 0.3 V, the internal pull-up and pull-down resistors must \nbe disabled. All FT_xx IO except FT_lu, FT_u, PB2, and PC3.\n8. Pull-up and pull-down resistor s are designed with a true resistance in seri es with a switchable PMOS/NMOS, whose \ncontribution to the series resistance is minimal (~10%).\n9. RF I/O structure excluded.\n00.511.522.53\n1.5 2 2.5 3 3.5VoltageVil-Vih (all IO except BOOT0)\ncmos vil spec 30%\ncmos vih spec 70%\nttl vil spec ttl\nttl vih spec ttl\ndatasheet Vil_rule\ndatasheet Vih_ruleTTL requirement Vih min = 2V\nTTL requirement Vil min = 0.8V\nElectrical characteristics STM32WB55xx   STM32WB35xx\n136/196 DS11929 Rev 14Table  24: General operating conditions . All I/Os are CMOS- and TTL-compliant (FT or TT \nunless otherwise specified).\n          \nInput/output AC characteristics\nThe definition and values of input/output AC characteristics are given in Table  74.\nUnless otherwise specified, th e parameters given are derived from tests performed under \nthe ambient temperature and supply voltage conditions summarized in Table  24: General \noperating conditions .\n          Table 73. Output voltage characteristics(1) \n1. The IIO current sourced or sunk by the device must al ways respect the absolute maximum rating specified \nin Table 20: Voltage characteristics , and the sum of the currents sourced or sunk by all the I/Os (I/O ports \nand control pins) must always resp ect the absolute maximum ratings Σ IIO.Symbol Parameter Conditions Min Max Unit\nVOL(2)\n2. Guaranteed by design.Output low level voltage for an I/O pin CMOS port(3)  \n|IIO| = 8 mA  \nVDD ≥ 2.7 V\n3. TTL and CMOS outputs are compatible with JEDEC standards JESD36 and JESD52.-0 . 4\nVVOH(2)Output high level voltage for an I/O pin VDD - 0.4 -\nVOL(2)Output low level voltage for an I/O pin TTL port(3)  \n|IIO| = 8 mA  \nVDD ≥ 2.7 V-0 . 4\nVOH(2)Output high level voltage for an I/O pin 2.4 -\nVOL(2)Output low level voltage for an I/O pin|IIO| = 20 mA  \nVDD ≥ 2.7 V-1 . 3\nVOH(2)Output high level voltage for an I/O pin VDD - 1.3 -\nVOL(2)Output low level voltage for an I/O pin|IIO| = 4 mA  \nVDD ≥ 1.62 V-0 . 4\nVOH(2)Output high level voltage for an I/O pin VDD - 0.45 -\nVOLFM+(2)Output low level voltage for an FT I/O \npin in FM+ mode (FT I/O with “f” option)|IIO| = 20 mA  \nVDD ≥ 2.7 V-0 . 4\n|IIO| = 10 mA  \nVDD ≥ 1.62 V-0 . 4\n|IIO| = 2 mA  \n1.62 V ≥ VDD ≥ 1.08 V-0 . 4\nTable 74. I/O AC characteristics(1)(2) \nSpeed Symbol Parameter Conditions Min Max Unit\n00Fmax Maximum frequencyC=50 pF, 2.7 V ≤ VDD ≤ 3.6 V - 5\nMHzC=50 pF, 1.62 V ≤ VDD ≤ 2.7 V - 1\nC=10 pF, 2.7 V ≤ VDD ≤ 3.6 V - 10\nC=10 pF, 1.62 V ≤ VDD ≤ 2.7 V - 1.5\nTr/Tf Output rise and fall timeC=50 pF, 2.7 V ≤ VDD ≤ 3.6 V - 25\nnsC=50 pF, 1.62 V ≤ VDD ≤ 2.7 V - 52\nC=10 pF, 2.7 V ≤ VDD ≤ 3.6 V - 17\nC=10 pF, 1.62 V ≤ VDD ≤ ≤2.7 V - 37\nDS11929 Rev 14 137/196STM32WB55xx   STM32WB35xx Electrical characteristics\n1696.3.18 NRST pin characteristics\nThe NRST pin input driver uses the CMOS technology. It is connected to a permanent  \npull-up resistor, RPU.\nUnless otherwise specified, th e parameters given in the table below are derived from tests \nperformed under the ambient temperature and supply voltage conditions summarized in \nTable  24: General operating conditions .01Fmax Maximum frequencyC=50 pF, 2.7 V ≤ VDD ≤ 3.6 V - 25\nMHzC=50 pF, 1.62 V ≤ VDD ≤ ≤2.7 V - 10\nC=10 pF, 2.7 V ≤ VDD ≤ 3.6 V - 50\nC=10 pF, 1.62 V ≤ VDD ≤ 2.7 V - 15\nTr/Tf Output rise and fall timeC=50 pF, 2.7 V ≤ VDD ≤ 3.6 V - 9\nnsC=50 pF, 1.62 V ≤ VDD ≤ 2.7 V - 16\nC=10 pF, 2.7 V ≤ VDD ≤ 3.6 V - 4.5\nC=10 pF, 1.62 V ≤ VDD ≤ 2.7 V - 9\n10Fmax Maximum frequencyC=50 pF, 2.7 V ≤ VDD ≤ 3.6 V - 50\nMHzC=50 pF, 1.62 V ≤ VDD ≤ 2.7 V - 25\nC=10 pF, 2.7 V ≤ VDD ≤ 3.6 V - 100(3)\nC=10 pF, 1.62 V ≤ VDD ≤ 2.7 V - 37.5\nTr/Tf Output rise and fall timeC=50 pF, 2.7 V ≤ VDD ≤ 3.6 V - 5.8\nnsC=50 pF, 1.62 V ≤ VDD ≤ 2.7 V - 11\nC=10 pF, 2.7 V ≤ VDD ≤ 3.6 V - 2.5\nC=10 pF, 1.62 V ≤ VDD ≤ 2.7 V - 5\n11Fmax Maximum frequencyC=30 pF, 2.7 V ≤ VDD ≤ 3.6 V - 120(3)\nMHzC=30 pF, 1.62 V ≤ VDD ≤ 2.7 V - 50\nC=10 pF, 2.7 V ≤ VDD ≤ 3.6 V - 180(3)\nC=10 pF, 1.62 V ≤ VDD ≤ 2.7 V - 75(3)\nTr/Tf Output rise and fall timeC=30 pF, 2.7 V ≤ VDD ≤ 3.6 V - 3.3\nnsC=30 pF, 1.62 V ≤ VDD ≤ 2.7 V - 6\nC=10 pF, 2.7 V ≤ VDD ≤ 3.6 V - 1.7\nC=10 pF, 1.62 V ≤ VDD ≤ 2.7 V - 3.3\n1. The maximum frequency is defined with (Tr+ Tf) ≤ 2/3 T, and Duty cycle comprised between 45 and 55%.\n2. The fall and rise time are defined, respectively, between 90 and 10%, and between 10 and 90% of the \noutput waveform.\n3. This value represents the I/O c apability but the maximum system frequency is limited to 64 MHz.Table 74. I/O AC characteristics(1)(2) (continued)\nSpeed Symbol Parameter Conditions Min Max Unit\nElectrical characteristics STM32WB55xx   STM32WB35xx\n138/196 DS11929 Rev 14          \nFigure 28. Recommended NRST pin protection \n1. The reset network protects t he device against par asitic resets.\n2. The user must ensure that the level on the NRST pin can go below the VIL(NRST)  max level specified in \nTable 75 , otherwise the reset will not be taken into account by the device.\n3. The external capacitor on NRST must be placed as close as pos sible to the device.Table 75. NRST pin characteristics(1) \n1.  Guaranteed by design.Symbol Parameter Conditions Min Typ Max Unit\nVIL(NRST)NRST input  \nlow level voltage- - - 0.3 x VDD\nV\nVIH(NRST)NRST input  \nhigh level voltage- 0.7 x VDD --\nVhys(NRST)NRST Schmitt trigger \nvoltage hysteresis -- 2 0 0 - m V\nRPUWeak pull-up \nequivalent resistor(2)\n2. The pull-up is designed with a true resistance in series  with a switchable PMOS. This PMOS contribution to \nthe series resistance is minimal (~10%) .VIN = VSS 25 40 55 k Ω\nVF(NRST) NRST input  \nfiltered pulse-- - 7 0\nns\nVNF(NRST)NRST input  \nnot filtered pulse1.71 V ≤ VDD ≤ 3.6 V 350 - -\nMS19878V3RPUVDD\nInternal resetExternal\nreset circuit(1)\nNRST(2)\nFilter\n0.1 μF\nDS11929 Rev 14 139/196STM32WB55xx   STM32WB35xx Electrical characteristics\n1696.3.19 Analog switches booster\n          Table 76. Analog switches booster characteristics(1) \n1. Guaranteed by design.Symbol Parameter Min Typ Max Unit\nVDD Supply voltage 1.62 - 3.6 V\ntSU(BOOST) Booster startup time - - 240 µs\nIDD(BOOST)Booster consumption for  \n1.62 V ≤ VDD ≤ 2.0 V-- 2 5 0\nµABooster consumption for  \n2.0 V ≤ VDD ≤ 2.7 V-- 5 0 0\nBooster consumption for  \n2.7 V ≤ VDD ≤ 3.6 V-- 9 0 0\nElectrical characteristics STM32WB55xx   STM32WB35xx\n140/196 DS11929 Rev 146.3.20 Analog-to-Digital converter characteristics\nUnless otherwise specified,  the parameters given in Table  77 are preliminary values derived \nfrom tests performed under ambient temperature, fPCLK frequency and VDDA supply voltage \nconditions su mmarized in Table  24: General operating conditions .\nNote: It is recommended to perform a calibration after each power-up.\n          Table 77. ADC characteristics(1) (2) (3) \nSymbol Parameter Conditions Min Typ Max Unit\nVDDA Analog supply voltage - 1.62 - 3.6 V\nVREF+Positive reference \nvoltageVDDA ≥ 2 V 2 - VDDA V\nVDDA < 2 V VDDA V\nVREF-Negative reference \nvoltage-VSSA V\nfADC ADC clock frequencyRange 1 0.14 - 64\nMHz\nRange 2 0.14 - 16\nfsSampling rate  \nfor FAST channelsResolution = 12 bits - - 4.26\nMspsResolution = 10 bits - - 4.92\nResolution = 8 bits - - 5.81\nResolution = 6 bits - - 7.11\nSampling rate  \nfor SLOW channelsResolution = 12 bits - - 3.36\nResolution = 10 bits - - 4.00\nResolution = 8 bits - - 4.57Resolution = 6 bits - - 7.11\nf\nTRIGExternal trigger \nfrequencyfADC = 64 MHz  \nResolution = 12 bits-- 4 . 2 6 M H z\nResolution = 12 bits - - 15 1/fADC\nVCMIN Input common mode Differential mode(VREF++\nVREF-) / 2 \n- 0.18(VREF++\nVREF-) / 2 (VREF++\nVREF-) / 2 \n+ 0.18V\nVAIN (4) Conversion voltage \nrange(2)-0 - VREF+ V\nRAINExternal input \nimpedance-- - 5 0 k Ω\nCADCInternal sample and hold \ncapacitor-- 5 - p F\ntSTAB Power-up time - 1Conversion \ncycle\ntCAL Calibration timefADC = 64 MHz 1.8125 µs\n- 116 1 / fADC\nDS11929 Rev 14 141/196STM32WB55xx   STM32WB35xx Electrical characteristics\n169tLATRTrigger conversion \nlatency Regular and \ninjected channels without conversion abortC K M O D E  =  0 0 1 . 522 . 5\n1/f\nADCCKMODE = 01 - - 2.0\nCKMODE = 10 - - 2.25CKMODE = 11 - - 2.125\nt\nLATRINJTrigger conversion \nlatency Injected channels aborting a \nregular conversion C K M O D E  =  0 0 2 . 533 . 5\n1/f\nADCCKMODE = 01 - - 3.0\nCKMODE = 10 - - 3.25\nCKMODE = 11 - - 3.125\nts Sampling timefADC = 64 MHz 0.039 - 10.0 µs\n- 2.5 - 640.5 1/fADC\ntADCVREG_STUPADC voltage regulator \nstart-up time-- - 2 0 µs\ntCONVTotal conversion time  \n(including sampling time)fADC = 64 MHz  \nResolution = 12 bits0.234 - 1.019 µs\nResolution = 12 bitsts + 12.5 cycles for successive \napproximations = 15 to 6531/fADC\nIDDA(ADC)ADC consumption from \nthe VDDA supplyfs = 4.26 Msps - 730 830\nµA fs = 1 Msps - 160 220\nfs = 10 ksps - 16 50\nIDDV_S (ADC)ADC consumption from \nthe VREF+ single ended \nmodefs = 4.26 Msps - 130 160\nµA fs = 1 Msps - 30 40\nfs = 10 ksps - 0.6 2\nIDDV_D (ADC)ADC consumption from \nthe VREF+ differential \nmodefs = 4.26 Msps - 250 310\nµA fs = 1 Msps - 60 70\nfs = 10 ksps - 1.3 3\n1. Guaranteed by design\n2. The I/O analog switch voltage booster is enabled when VDDA < 2.4 V (BOOSTEN = 1 in the SYSCFG_CFGR1 when \nVDDA < 2.4V). It is disable when VDDA ≥ 2.4 V.\n3. SMPS in bypass mode.4.\nVREF+  can be internally connected to VDDA and VREF- can be internally connected to VSSA, depending on the package.  \nRefer to Section 4: Pinouts and pin description  for further details.Table 77. ADC characteristics(1) (2) (3) (continued)\nSymbol Parameter Conditions Min Typ Max Unit\nElectrical characteristics STM32WB55xx   STM32WB35xx\n142/196 DS11929 Rev 14          Table 78. ADC sampling time(1)(2) \nResolution \n(bits)RAIN\n(kΩ)Fast channel Slow channel\nMinimum sampling \ntime (ns)Sampling \ncyclesMinimum sampling \ntime (ns)Sampling \ncycles\n120 33 6.5 57 6.5\n0.05 37 6.5 62 6.5\n0.1 42 6.5 67 6.5\n0.2 51 6.5 76 6.50.5 78 6.5 104 12.5\n1 123 12.5 151 12.5\n5 482 47.5 526 47.5\n10 931 92.5 994 92.5\n20 1830 247.5 1932 247.5\n50 4527 640.5 4744 640.5\n100 9021 640.5 9430 640.5\n100 27 2.5 47 6.5\n0.05 30 2.5 51 6.5\n0.1 34 6.5 55 6.5\n0.2 41 6.5 62 6.50.5 64 6.5 85 6.5\n1 100 12.5 124 12.5\n5 395 47.5 431 47.5\n10 763 92.5 816 92.5\n20 1500 247.5 1584 247.5\n50 3709 640.5 3891 640.5\n100 7391 640.5 7734 640.5\n80 21 2.5 37 2.5\n0.05 24 2.5 40 6.5\n0.1 27 2.5 43 6.5\n0.2 32 6.5 49 6.5\n0.5 50 6.5 67 6.5\n1 78 6.5 97 6.5\n5 308 47.5 337 24.5\n10 595 92.5 637 47.520 1169 247.5 1237 92.5\n50 2891 247.5 3037 247.5\n100 5762 640.5 6038 640.5\nDS11929 Rev 14 143/196STM32WB55xx   STM32WB35xx Electrical characteristics\n169          60 15 2.5 26 2.5\n0.05 17 2.5 28 2.5\n0.1 19 2.5 31 2.5\n0.2 23 2.5 35 2.5\n0.5 36 6.5 48 6.5\n1 56 6.5 69 6.5\n5 221 24.5 242 24.5\n10 427 47.5 458 47.520 839 92.5 890 92.5\n50 2074 247.5 2184 247.5\n100 4133 640.5 4342 640.5\n1. Guaranteed by design.\n2. VDD = 1.62 V, Cpcb = 4.7 pF, 125 °C, booster enabled.Table 78. ADC sampling time(1)(2) (continued)\nResolution \n(bits)RAIN\n(kΩ)Fast channel Slow channel\nMinimum sampling \ntime (ns)Sampling \ncyclesMinimum sampling \ntime (ns)Sampling \ncycles\nElectrical characteristics STM32WB55xx   STM32WB35xx\n144/196 DS11929 Rev 14          Table 79. ADC accuracy - Limited test conditions 1(1)(2)(3) \nSymbol Parameter Conditions(4)Min Typ Max Unit\nETTotal \nunadjusted \nerror\nADC clock frequency ≤ 64 MHz,\nSampling rate ≤ 4.26 Msps,\nVDDA = VREF+ = 3 V,\nTA = 25 °CSingle \nendedFast channel (max speed) - 4 5\nLSBSlow channel (max speed) - 4 5\nDifferentialFast channel (max speed) - 3.5 4.5\nSlow channel (max speed) - 3.5 4.5\nEO Offset errorSingle \nendedFast channel (max speed) - 1 2.5\nSlow channel (max speed) - 1 2.5\nDifferentialFast channel (max speed) - 1.5 2.5\nSlow channel (max speed) - 1.5 2.5\nEG Gain errorSingle \nendedFast channel (max speed) - 2.5 4.5\nSlow channel (max speed) - 2.5 4.5\nDifferentialFast channel (max speed) - 2.5 3.5\nSlow channel (max speed) - 2.5 3.5\nEDDifferential \nlinearity errorSingle \nendedFast channel (max speed) - 1 1.5\nSlow channel (max speed) - 1 1.5\nDifferentialFast channel (max speed) - 1 1.2\nSlow channel (max speed) - 1 1.2\nELIntegral \nlinearity \nerrorSingle \nendedFast channel (max speed) - 1.5 2.5\nSlow channel (max speed) - 1.5 2.5\nDifferentialFast channel (max speed) - 1 2\nSlow channel (max speed) - 1 2\nENOBEffective \nnumber of \nbitsSingle \nendedFast channel (max speed) 10.4 10.5 -\nbitsSlow channel (max speed) 10.4 10.5 -\nDifferentialFast channel (max speed) 10.8 10.9 -\nSlow channel (max speed) 10.8 10.9 -\nSINADSignal-to-\nnoise and \ndistortion \nratioSingle \nendedFast channel (max speed) 64.4 65 -\ndBSlow channel (max speed) 64.4 65 -\nDifferentialFast channel (max speed) 66.8 67.4 -\nSlow channel (max speed) 66.8 67.4 -\nSNRSignal-to-\nnoise ratioSingle \nendedFast channel (max speed) 65 66 -\nSlow channel (max speed) 65 66 -\nDifferentialFast channel (max speed) 67 68 -\nSlow channel (max speed) 67 68 -\nDS11929 Rev 14 145/196STM32WB55xx   STM32WB35xx Electrical characteristics\n169THDTotal \nharmonic \ndistortion\nADC clock frequency ≤ 64 MHz,\nSampling rate ≤ 4.26 Msps,\nVDDA = VREF+ = 3 V,\nTA = 25 °CSingle \nendedFast channel (max speed) - -74 -73\ndBSlow channel (max speed) - -74 -73\nDifferentialFast channel (max speed) - -79 -76\nSlow channel (max speed) - -79 -76\n1. Guaranteed by design.\n2. ADC DC accuracy values are measured after internal calibration.3. ADC accuracy vs. negative Injection Current: Injecting negative  current on any analog input pi ns should be avoided as this \nsignificantly reduces the accuracy of  the conversion being performed on another analog input. It is recommended to add a \nSchottky diode (pin to ground) to analog pins wh ich may potentially inject negative current.\n4. The I/O analog switch voltage booster is enable when V\nDDA < 2.4 V (BOOSTEN = 1 in the SYSCFG_CFGR1 when \nVDDA < 2.4 V). It is disable when VDDA ≥ 2.4 V. No oversampling.Table 79. ADC accuracy - Li mited test conditions 1(1)(2)(3) (continued)\nSymbol Parameter Conditions(4)Min Typ Max Unit\nElectrical characteristics STM32WB55xx   STM32WB35xx\n146/196 DS11929 Rev 14          Table 80. ADC accuracy - Limited test conditions 2(1)(2)(3) \nSymbol Parameter Conditions(4)Min Typ Max Unit\nETTotal \nunadjusted \nerror\nADC clock frequency ≤ 64 MHz,\nSampling rate ≤ 4.26 Msps,\nVDDA ≥ 2 V\nTA = 25 °CSingle \nendedFast channel (max speed) - 4 6.5\nLSBSlow channel (max speed) - 4 6.5\nDifferentialFast channel (max speed) - 3.5 5.5\nSlow channel (max speed) - 3.5 5.5\nEO Offset errorSingle \nendedFast channel (max speed) - 1 4.5\nSlow channel (max speed) - 1 5\nDifferentialFast channel (max speed) - 1.5 3\nSlow channel (max speed) - 1.5 3\nEG Gain errorSingle \nendedFast channel (max speed) - 2.5 6\nSlow channel (max speed) - 2.5 6\nDifferentialFast channel (max speed) - 2.5 3.5\nSlow channel (max speed) - 2.5 3.5\nEDDifferential \nlinearity errorSingle \nendedFast channel (max speed) - 1 1.5\nSlow channel (max speed) - 1 1.5\nDifferentialFast channel (max speed) - 1 1.2\nSlow channel (max speed) - 1 1.2\nELIntegral \nlinearity \nerrorSingle \nendedFast channel (max speed) - 1.5 3.5\nSlow channel (max speed) - 1.5 3.5\nDifferentialFast channel (max speed) - 1 3\nSlow channel (max speed) - 1 2.5\nENOBEffective \nnumber of \nbitsSingle \nendedFast channel (max speed) 10 10.5 -\nbitsSlow channel (max speed) 10 10.5 -\nDifferentialFast channel (max speed) 10.7 10.9 -\nSlow channel (max speed) 10.7 10.9 -\nSINADSignal-to-\nnoise and \ndistortion \nratioSingle \nendedFast channel (max speed) 62 65 -\ndBSlow channel (max speed) 62 65 -\nDifferentialFast channel (max speed) 66 67.4 -\nSlow channel (max speed) 66 67.4 -\nSNRSignal-to-\nnoise ratioSingle \nendedFast channel (max speed) 64 66 -\nSlow channel (max speed) 64 66 -\nDifferentialFast channel (max speed) 66.5 68 -\nSlow channel (max speed) 66.5 68 -\nDS11929 Rev 14 147/196STM32WB55xx   STM32WB35xx Electrical characteristics\n169THDTotal \nharmonic \ndistortion\nADC clock frequency ≤ 64 MHz,\nSampling rate ≤ 4.26 Msps,\nVDDA ≥ 2 V\nTA = 25 °CSingle \nendedFast channel (max speed) - -74 -65\ndBSlow channel (max speed) - -74 -67\nDifferentialFast channel (max speed) - -79 -70\nSlow channel (max speed) - -79 -71\n1. Guaranteed by design.\n2. ADC DC accuracy values are measured after internal calibration.3. ADC accuracy vs. negative Injection Current: Injecting negative  current on any analog input pi ns should be avoided as this \nsignificantly reduces the accuracy of  the conversion being performed on another analog input. It is recommended to add a \nSchottky diode (pin to ground) to analog pins wh ich may potentially inject negative current.\n4. The I/O analog switch voltage booster is enable when V\nDDA < 2.4 V (BOOSTEN = 1 in the SYSCFG_CFGR1 when \nVDDA < 2.4 V). It is disable when VDDA ≥ 2.4 V. No oversampling.Table 80. ADC accuracy - Li mited test conditions 2(1)(2)(3) (continued)\nSymbol Parameter Conditions(4)Min Typ Max Unit\nElectrical characteristics STM32WB55xx   STM32WB35xx\n148/196 DS11929 Rev 14          Table 81. ADC accuracy - Limited test conditions 3(1)(2)(3) \nSymbol Parameter Conditions(4)Min Typ Max Unit\nETTotal \nunadjusted \nerror\nADC clock frequency ≤ 64 MHz,\nSampling rate ≤ 4.26 Msps,\n1.65 V ≤ VDDA = VREF+ ≤ 3.6 V,\nVoltage scaling Range 1Single \nendedFast channel (max speed) - 5.5 7.5\nLSBSlow channel (max speed) - 4.5 6.5\nDifferentialFast channel (max speed) - 4.5 7.5\nSlow channel (max speed) - 4.5 5.5\nEO Offset errorSingle \nendedFast channel (max speed) - 2 5\nSlow channel (max speed) - 2.5 5\nDifferentialFast channel (max speed) - 2 3.5\nSlow channel (max speed) - 2.5 3\nEG Gain errorSingle \nendedFast channel (max speed) - 4.5 7\nSlow channel (max speed) - 3.5 6\nDifferentialFast channel (max speed) - 3.5 4\nSlow channel (max speed) - 3.5 5\nEDDifferential \nlinearity errorSingle \nendedFast channel (max speed) - 1.2 1.5\nSlow channel (max speed) - 1.2 1.5\nDifferentialFast channel (max speed) - 1 1.2\nSlow channel (max speed) - 1 1.2\nELIntegral \nlinearity \nerrorSingle \nendedFast channel (max speed) - 3 3.5\nSlow channel (max speed) - 2.5 3.5\nDifferentialFast channel (max speed) - 2 2.5\nSlow channel (max speed) - 2 2.5\nENOBEffective \nnumber of \nbitsSingle \nendedFast channel (max speed) 10 10.4 -\nbitsSlow channel (max speed) 10 10.4 -\nDifferentialFast channel (max speed) 10.6 10.7 -\nSlow channel (max speed) 10.6 10.7 -\nSINADSignal-to-\nnoise and \ndistortion \nratioSingle \nendedFast channel (max speed) 62 64 -\ndBSlow channel (max speed) 62 64 -\nDifferentialFast channel (max speed) 65 66 -\nSlow channel (max speed) 65 66 -\nSNRSignal-to-\nnoise ratioSingle \nendedFast channel (max speed) 63 65 -\nSlow channel (max speed) 63 65 -\nDifferentialFast channel (max speed) 66 67 -\nSlow channel (max speed) 66 67 -\nDS11929 Rev 14 149/196STM32WB55xx   STM32WB35xx Electrical characteristics\n169THDTotal \nharmonic \ndistortion\nADC clock frequency ≤ 64 MHz,\nSampling rate ≤ 4.26 Msps,\n1.65 V ≤ VDDA = VREF+ ≤ 3.6 V,\nVoltage scaling Range 1Single \nendedFast channel (max speed) - -69 -67\ndBSlow channel (max speed) - -71 -67\nDifferentialFast channel (max speed) - -72 -71\nSlow channel (max speed) - -72 -71\n1. Guaranteed by design.\n2. ADC DC accuracy values are measured after internal calibration.3. ADC accuracy vs. negative Injection Current: Injecting negative  current on any analog input pi ns should be avoided as this \nsignificantly reduces the accuracy of  the conversion being performed on another analog input. It is recommended to add a \nSchottky diode (pin to ground) to analog pins wh ich may potentially inject negative current.\n4. The I/O analog switch voltage booster is enable when V\nDDA < 2.4 V (BOOSTEN = 1 in the SYSCFG_CFGR1 when \nVDDA < 2.4 V). It is disable when VDDA ≥ 2.4 V. No oversampling.Table 81. ADC accuracy - Li mited test conditions 3(1)(2)(3) (continued)\nSymbol Parameter Conditions(4)Min Typ Max Unit\nElectrical characteristics STM32WB55xx   STM32WB35xx\n150/196 DS11929 Rev 14          Table 82. ADC accuracy - Limited test conditions 4(1)(2)(3) \nSymbol Parameter Conditions(4)Min Typ Max Unit\nETTotal \nunadjusted \nerror\nADC clock frequency ≤ 16 MHz,\n1.65 V ≤ VDDA = VREF+ ≤ 3.6 V,\nVoltage scaling Range 2Single \nendedFast channel (max speed) - 5 5.4\nLSBSlow channel (max speed) - 4 5\nDifferentialFast channel (max speed) - 4 5\nSlow channel (max speed) - 3.5 4.5\nEO Offset errorSingle \nendedFast channel (max speed) - 2 4\nSlow channel (max speed) - 2 4\nDifferentialFast channel (max speed) - 2 3.5\nSlow channel (max speed) - 2 3.5\nEG Gain errorSingle \nendedFast channel (max speed) - 4 4.5\nSlow channel (max speed) - 4 4.5\nDifferentialFast channel (max speed) - 3 4\nSlow channel (max speed) - 3 4\nEDDifferential \nlinearity errorSingle \nendedFast channel (max speed) - 1 1.5\nSlow channel (max speed) - 1 1.5\nDifferentialFast channel (max speed) - 1 1.2\nSlow channel (max speed) - 1 1.2\nELIntegral \nlinearity \nerrorSingle \nendedFast channel (max speed) - 2.5 3\nSlow channel (max speed) - 2.5 3\nDifferentialFast channel (max speed) - 2 2.5\nSlow channel (max speed) - 2 2.5\nENOBEffective \nnumber of \nbitsSingle \nendedFast channel (max speed) 10.2 10.5 -\nbitsSlow channel (max speed) 10.2 10.5 -\nDifferentialFast channel (max speed) 10.6 10.7 -\nSlow channel (max speed) 10.6 10.7 -\nSINADSignal-to-\nnoise and \ndistortion \nratioSingle \nendedFast channel (max speed) 63 65 -\ndBSlow channel (max speed) 63 65 -\nDifferentialFast channel (max speed) 65 66 -\nSlow channel (max speed) 65 66 -\nSNRSignal-to-\nnoise ratioSingle \nendedFast channel (max speed) 64 65 -\nSlow channel (max speed) 64 65 -\nDifferentialFast channel (max speed) 66 67 -\nSlow channel (max speed) 66 67 -\nDS11929 Rev 14 151/196STM32WB55xx   STM32WB35xx Electrical characteristics\n169Figure 29. ADC accuracy characteristicsTHDTotal \nharmonic distortion\nADC clock frequency ≤ 16 MHz,\n1.65 V ≤ VDDA = VREF+ ≤ 3.6 V,\nVoltage scaling Range 2Single \nendedFast channel (max speed) - -71 -69\ndBSlow channel (max speed) - -71 -69\nDifferentialFast channel (max speed) - -73 -72\nSlow channel (max speed) - -73 -72\n1. Guaranteed by design.\n2. ADC DC accuracy values are measured after internal calibration.3. ADC accuracy vs. negative Injection Current: Injecting negative  current on any analog input pi ns should be avoided as this \nsignificantly reduces the accuracy of  the conversion being performed on another analog input. It is recommended to add a \nSchottky diode (pin to ground) to analog pins that may potentially inject negative current.\n4. The I/O analog switch voltage booster is enabled when V\nDDA < 2.4 V (BOOSTEN = 1 in the SYSCFG_CFGR1 when \nVDDA < 2.4 V). It is disabled when VDDA ≥ 2.4 V. No oversampling.Table 82. ADC accuracy - Li mited test conditions 4(1)(2)(3) (continued)\nSymbol Parameter Conditions(4)Min Typ Max Unit\nMSv19880V6(1) Example of an actual transfer curve\n(2) Ideal transfer curve(3) End-point correlation line\nn = ADC resolution\nE\nT = total unadjusted error: maximum deviation    \nbetween the actual and ideal transfer curves\nEO = offset error: maximum deviation between the first \nactual transition and the first ideal one\nEG = gain error: deviation between the last ideal \ntransition and the last actual one\nED = differential linearity error: maximum deviation \nbetween actual steps and the ideal one\nEL = integral linearity error: maximum deviation between \nany actual transition and the end point correlation line2n-1 \n7\n6\n5\n4\n3\n2\n1\n0\n(1/2n)*V REF+Output code\nEO\nVSSA2n-2 \n2n-3 \nVREF+ (VDDA)ET\nEL\nED\n1 LSB idealEG\n(1)(2)\n(3)(or                 )] [1LSB =    VDDA\n2n VREF+\n2n (2/2n)*V REF+\n(3/2n)*V REF+\n(4/2n)*V REF+\n(5/2n)*V REF+\n(6/2n)*V REF+\n(7/2n)*V REF+\n(2n-3/2n)*V REF+\n(2n-2/2n)*V REF+\n(2n-1/2n)*V REF+\n(2n/2n)*V REF+\nElectrical characteristics STM32WB55xx   STM32WB35xx\n152/196 DS11929 Rev 14Figure 30. Typical connection diagram using the ADC\n1. Refer to Table 77: ADC characteristics  for the values of RAIN, RADC and CADC.\n2. Cparasitic  represents the capacitance of the PCB (dependent on soldering and PCB layout quality) plus the \npad capacitance (refer to Table 72: I/O static characteristics  for the value of the pad capacitance). A high \nCparasitic  value will downgrade conversion a ccuracy. To remedy this, fADC should be reduced.\n3. Refer to Table 72: I/O static characteristics  for the values of Ilkg.\n4. Refer to Figure 16  and Figure 17 .\nGeneral PCB design guidelines\nPower supply decoupling has to be performed as shown in Figure  16: Power supply scheme \n(all packages except UFBGA129 and WLCSP100) . The 10  nF capacitor needs to be \nceramic (good quality), placed as close as possible to the chip.\n6.3.21 Voltage referenc e buffer characteristics\n          MSv67871V3Sample-and-hold ADC converter\nConverter\nCparasitic(2)Ilkg(3) CADCVDDA(4)\nRAIN(1)\nVAINRADCVREF+(4)\nVSSAI/O \nanalog \nswitch\nSampling \nswitch with \nmultiplexing\nVSS VSS\nTable 83. VREFBUF characteristics(1) \nSymbol Parameter Conditions Min Typ Max Unit\nVDDAAnalog supply \nvoltage Normal modeVRS = 0 2.4 - 3.6\nVVRS = 1 2.8 - 3.6\nDegraded mode(2)VRS = 0 1.65 - 2.4\nVRS = 1 1.65 - 2.8\nVREFBUF_\nOUTVoltage \nreference output Normal mode(3)VRS = 0 2.046 2.048 2.049\nVRS = 1 2.498 2.500 2.502\nDegraded mode(2)VRS = 0 VDDA-150 mV - 2.049\nVRS = 1 VDDA-150 mV - 2.502\nTRIMTrim step \nresolution- - - ±0.05 ±0.1 %\nCL Load capacitor - - 0.5 1 1.5 µF\nesrEquivalent \nseries resistor  \nof Cload-- - - 2 Ω\nDS11929 Rev 14 153/196STM32WB55xx   STM32WB35xx Electrical characteristics\n169IloadStatic load \ncurrent-- - - 4 m A\nIline_reg Line regulation 2.8 V ≤ VDDA ≤ 3.6 VIload = 500 µA - 200 1000\nppm/V\nIload = 4 mA - 100 500\nIload_reg Load regulation 500 μA ≤ Iload ≤4 mA Normal mode - 50 500 ppm/mA\nTCoeffTemperature \ncoefficient-40 °C < TJ < +125 °C - -Tcoeff_\nvrefint  + \n50\nppm/ °C\n0 °C < TJ < +50 °C - -Tcoeff_\nvrefint  + \n50\nPSRRPower supply \nrejectionDC 40 60 -\ndB\n100 kHz 25 40 -\ntSTART Start-up timeCL = 0.5 µF(4)-3 0 0 3 5 0\nµs CL = 1.1 µF(4)-5 0 0 6 5 0\nCL = 1.5 µF(4)-6 5 0 8 0 0\nIINRUSHControl of \nmaximum DC \ncurrent drive on \nVREFBUF_OUT during start-up \nphase \n(5)-- - 8 - m A\nIDDA\n(VREFBUF)VREFBUF \nconsumption \nfrom VDDA Iload = 0 µA - 16 25\nµA Iload = 500 µA - 18 30\nIload = 4 mA - 35 50\n1. Guaranteed by design, unless otherwise specified.\n2. In degraded mode the voltage reference buffer cannot mainta in accurately the output voltage that will follow (VDDA - drop \nvoltage).\n3. VDDA = 3 V, TJ = 30 °C, Iload = 100 μA.\n4. The capacitive load must include a 100 nF capac itor in order to cut-off the high frequency noise.\n5. To correctly control the VREFBUF in-rush cu rrent during start-up phase and scaling change, the VDDA voltage must be in \nthe range [2.4 V to 3.6 V] and [2.8 V to 3.6 V] respectively for VRS = 0 and VRS = 1.Table 83. VREFBUF characteristics(1) (continued)\nSymbol Parameter Conditions Min Typ Max Unit\nElectrical characteristics STM32WB55xx   STM32WB35xx\n154/196 DS11929 Rev 146.3.22 Comparator characteristics\n          Table 84. COMP characteristics(1) \nSymbol Parameter Conditions Min Typ Max Unit\nVDDA Analog supply voltage - 1.62 - 3.6\nV VINComparator  \ninput voltage range-0 - VDDA\nVBG(2)Scaler input voltage - VREFINT\nVSC Scaler offset voltage - - ±5 ±10 mV\nIDDA(SCALER)Scaler static consumption \nfrom VDDABRG_EN=0 (bridge disable) - 200 300 nA\nBRG_EN=1 (bridge enable) - 0.8 1 µA\ntSTART_SCALER Scaler startup time - - 100 200 µs\ntSTARTComparator startup time \nto reach propagation \ndelay specificationHigh-speed \nmodeVDDA ≥ 2.7 V - - 5\nµsVDDA < 2.7 V - - 7\nMedium modeVDDA ≥ 2.7 V - - 15\nVDDA < 2.7 V - - 25\nUltra-low-power mode - - 40\ntD(3) Propagation delay with \n100 mV overdriveHigh-speed \nmodeVDDA ≥ 2.7 V - 55 80\nns\nVDDA < 2.7 V - 55 100\nMedium mode - 0.55 0.9\nµs\nUltra-low-power mode - 4 7\nVoffset Comparator offset error Full common mode range - ±5 ±20 mV\nVhys Comparator hysteresisNo hysteresis - 0 -\nmVLow hysteresis - 8 -\nMedium hysteresis - 15 -\nHigh hysteresis - 27 -\nIDDA(COMP)Comparator consumption \nfrom VDDA Ultra-low-\npower modeStatic - 400 600\nnAWith 50 kHz ±100 mV \noverdrive square signal- 1200 -\nMedium  \nmodeStatic - 5 7\nµAWith 50 kHz ±100 mV \noverdrive square signal-6-\nHigh-speed \nmodeStatic - 70 100\nWith 50 kHz ±100 mV \noverdrive square signal-7 5-\n1. Guaranteed by design, unless otherwise specified.\n2. Refer to Table 36: Embedded internal voltage reference .\n3. Guaranteed by characterization results.\nDS11929 Rev 14 155/196STM32WB55xx   STM32WB35xx Electrical characteristics\n1696.3.23 Temperature sensor characteristics\n          \n6.3.24 VBAT monitoring characteristics\n          \n          Table 85. TS characteristics \nSymbol Parameter Min Typ Max Unit\nTL(1)VTS linearity with temperature - ±1 ±2 °C\nAvg_Slope(2)Average slope 2.3 2.5 2.7 mV / °C\nV30 Voltage at 30 °C (±5 °C)(3)0.742 0.76 0.785 V\ntSTART\n(TS_BUF)(1) Sensor buffer start-up time in continuous mode(4)-8 1 5 µ s\ntSTART(1)Start-up time when entering in continuous mode(4)-7 0 1 2 0 µ s\ntS_temp(1)ADC sampling time when reading the temperature 5 - - µs\nIDD(TS)(1) Temperature sensor consumption from VDD, when \nselected by ADC-4 . 77µ A\n1. Guaranteed by design.\n2. Guaranteed by characterization results.3. Measured at V\nDDA = 3.0 V ±10 mV. The V30 ADC conversion result is stored in the TS_CAL1 byte. Refer to Table 11: \nTemperature sensor calibration values .\n4.  Continuous mode means Run/Sleep modes, or temperature sensor enable in Low-power run/Low-power sleep modes.\nTable 86. VBAT monitoring characteristics(1) \n1. 1.55 < VBAT < 3.6 V.Symbol Parameter Min Typ Max Unit\nR Resistor bridge for VBAT -3  x  3 9- k Ω\nQR a t i o  o n  VBAT measurement - 3 - -\nEr(2)\n2. Guaranteed by design.Error on Q -10 - 10 %\ntS_vbat(2)ADC sampling time when reading VBAT 12 - - µs\nTable 87. VBAT charging characteristics \nSymbol Parameter Conditions Min Typ Max Unit\nRBCBattery \ncharging \nresistor VBRS = 0 - 5 -\nkΩ\nVBRS = 1 - 1.5 -\nElectrical characteristics STM32WB55xx   STM32WB35xx\n156/196 DS11929 Rev 146.3.25 SMPS step-down c onverter characteristics\nThe SMPS step-down converter characteristic are given at 4  MHz clock, using a 10 µH \ninductor and a 4.7  µF capacitor.\n6.3.26 LCD controller characteristics\nThe STM32WB55xx devices embed a built-in step- up converter to provide a constant LCD \nreference voltage independently from the VDD voltage. An external capacitor Cext must be \nconnected to the VLCD pin to  decouple this converter.\nTable 88. LCD controller characteristics(1) \nSymbol Parameter Conditions Min Typ Max Unit\nVLCD LCD external voltage - - 3.6\nVVLCD0 LCD internal reference voltage 0 - 2.62 -\nVLCD1 LCD internal reference voltage 1 - 2.76 -\nVLCD2 LCD internal reference voltage 2 - 2.89 -\nVLCD3 LCD internal reference voltage 3 - 3.04 -\nVLCD4 LCD internal reference voltage 4 - 3.19 -\nVLCD5 LCD internal reference voltage 5 - 3.32 -\nVLCD6 LCD internal reference voltage 6 - 3.46 -\nVLCD7 LCD internal reference voltage 7 - 3.62 -\nCext VLCD external capacitanceBuffer OFF  \n(BUFEN=0 is LCD_CR register)0.2 - 2\nμF\nBuffer ON  \n(BUFEN=1 is LCD_CR register)1-2\nILCD(2) Supply current from VDD at \nVDD = 2.2 VBuffer OFF  \n(BUFEN=0 is LCD_CR register)-3-\nμA\nSupply current from VDD at \nVDD = 3.0 VBuffer OFF  \n(BUFEN=0 is LCD_CR register)-1 . 5-\nIVLCDSupply  current from VLCD \n(VLCD = 3 V)Buffer OFF  \n(BUFFEN = 0, PON = 0)-0 . 5-\nμABuffer ON  \n(BUFFEN = 1, 1/2 Bias)-0 . 6-\nBuffer ON  \n(BUFFEN = 1, 1/3 Bias)-0 . 8-\nBuffer ON  \n(BUFFEN = 1, 1/4 Bias)-1-\nRHN Total High resistor value for Low drive resistive network - 5.5 - M Ω\nRLN Total Low resistor value for High drive resistive network - 240 - k Ω\nDS11929 Rev 14 157/196STM32WB55xx   STM32WB35xx Electrical characteristics\n1696.3.27 Timer characteristics\nThe parameters given in the following tables are guaranteed by design. Refer to \nSection  6.3.17  for details on the input/output altern ate function characteristics (output \ncompare, input capture, external clock, PWM output).\n          V44 Segment/Common highest level voltage - VLCD -\nVV34 Segment/Common 3/4 level voltage - 3/4 VLCD -\nV23 Segment/Common 2/3 level voltage - 2/3 VLCD -\nV12 Segment/Common 1/2 level voltage - 1/2 VLCD -\nV13 Segment/Common 1/3 level voltage - 1/3 VLCD -\nV14 Segment/Common 1/4 level voltage - 1/4 VLCD -\nV0 Segment/Common lowest level voltage - 0 -\n1. Guaranteed by design.\n2. LCD enabled with 3 V internal step-up active, 1/8 duty, 1/4 bi as, division ratio = 64, all pi xels active, no LCD connected.Table 88. LCD controller characteristics(1) (continued)\nSymbol Parameter Conditions Min Typ Max Unit\nTable 89. TIMx(1) characteristics \nSymbol Parameter Conditions Min Max Unit\ntres(TIM) Timer resolution time-1 - tTIMxCLK\nfTIMxCLK  = 64 MHz 15.625 - ns\nfEXTTimer external clock frequency \non CH1 to CH4-0 fTIMxCLK /2\nMHz\nfTIMxCLK  = 64 MHz 0 40\nResTIM Timer resolutionTIM1, TIM16, TIM17 - 16\nbit\nTIM2 - 32\ntCOUNTER 16-bit counter clock period- 1 65536 tTIMxCLK\nfTIMxCLK  = 64 MHz 0.015625 1024 µs\ntMAX_COUNTMaximum possible count with \n32-bit counter- - 65536 × 65536 tTIMxCLK\nfTIMxCLK  = 64 MHz - 67.10 s\n1. TIMx, is used as a general term where x stands for 1, 2, 16 or 17.\nElectrical characteristics STM32WB55xx   STM32WB35xx\n158/196 DS11929 Rev 14          \n6.3.28 Clock reco very system (CRS)\nThe devices embed a special block for the au tomatic trimming of the internal 48 MHz \noscillator to guarantee its optimal accuracy over the whole device operational range.\nThis automatic trimming is based on the exte rnal synchronization signal, which can be \nderived from USB Sart Of Frame (SOF) signalization, from LSE oscillator, from an external \nsignal on CRS_SYNC pin or generated by user software.\nFor faster lock-in during startup it is also  possible to combine automatic trimming with \nmanual trimming action.\n6.3.29 Communication interfaces characteristics\nI2C interface  characteristics\nThe I2C interface meets the timings requirements of the I2C-bus specification and user \nmanual rev. 03 for:\n• Standard-mode (Sm): bit rate up to 100 kbit/s\n• Fast-mode (Fm): bit rate up to 400 kbit/s\n• Fast-mode Plus (Fm+): bit rate up to 1 Mbit/s.\n          \nThe I2C timings requirements are guaranteed by design when the I2C peripheral is properly \nconfigured (see the reference manual).Table 90. IWDG min/max timeout period at 32 kHz (LSI1)(1) \nPrescaler divider PR[2:0] bits Min timeout RL[1 1:0] = 0x000 Max timeout RL[11:0] = 0xFFF Unit\n/4 0 0.125 512\nms/8 1 0.250 1024\n/16 2 0.500 2048\n/32 3 1.0 4096\n/64 4 2.0 8192\n/128 5 4.0 16384\n/256 6 or 7 8.0 32768\n1. The exact timings still depend on the phasing of the APB interfac e clock vs. the LSI clock, hence there is always a full RC \nperiod of uncertainty.\nTable 91. Minimum I2CCLK frequency in all I2C modes\nSymbol Parameter Condition Min Unit\nf(I2CCLK)I2CCLK \nfrequencyStandard-mode - 2\nMHzFast-modeAnalog filter ON, DNF = 0 9\nAnalog filter OFF, DNF = 1 9\nFast-mode PlusAnalog filter ON, DNF = 0 19\nAnalog filter OFF, DNF = 1 16\nDS11929 Rev 14 159/196STM32WB55xx   STM32WB35xx Electrical characteristics\n169The SDA and SCL I/O requirements are met wit h the following restriction: the SDA and SCL \nI/O pins are not “true” open-drain. When co nfigured as open-drain, the PMOS connected \nbetween the I/O pin and VDD is disabled, but is still pres ent. The 20 mA output drive \nrequirement in Fast-mode Plus is supported partially.\nThis limits the maximum load Cload supported in Fast-mode Plus, given by these formulas:\n• tr(SDA/SCL) = 0.8473 x Rp x Cload\n• Rp(min) = [VDD - VOL(max)] / IOL(max)\nwhere Rp is the I2C lines pull-up. Refer to Section  6.3.17  for the I2C I/Os characteristics.\nAll I2C SDA and SCL I/Os embed an analog filter, refer to Table  92 for its characteristics.\n          \nSPI characteristics\nUnless otherwise specified, the parameters given in Table  93 for SPI are derived from tests \nperformed under the ambient temperature, fPCLKx frequency and supply voltage conditions \nsummarized in Table  24: General operating conditions .\n• Output speed is set to OSPEEDRy[1:0] = 11\n• Capacitive load C = 30 pF\n• Measurement points are done at CMOS levels: 0.5 ₓ VDD\nRefer to Section  6.3.17  for more details on the input/outpu t alternate function characteristics \n(NSS, SCK, MOSI, MISO for SPI).Table 92. I2C analog filter characteristics(1) \n1. Guaranteed by design.Symbol Parameter Min Max Unit\ntAFMaximum pulse width of spikes that \nare suppressed by the analog filter50(2)\n2. Spikes with widths below tAF(min) are filtered.110(3)\n3. Spikes with widths above tAF(max)  are not filteredns\nElectrical characteristics STM32WB55xx   STM32WB35xx\n160/196 DS11929 Rev 14          Table 93. SPI characteristics(1) \nSymbol Parameter Conditions Min Typ Max Unit\n    fSCK\n1/tc(SCK)SPI clock frequencyMaster mode  \n1.65 < VDD < 3.6 V  \nVoltage Range 1\n--32\nMHzMaster transmitter mode  \n1.65 < VDD < 3.6 V  \nVoltage Range 132\nSlave receiver mode  \n1.65 < VDD < 3.6 V  \nVoltage Range 132\nSlave mode transmitter/full duplex  \n2.7 < VDD < 3.6 V  \nVoltage Range 132(2)\nSlave mode transmitter/full duplex  \n1.65 < VDD < 3.6 V  \nVoltage Range 120.5(2)\nVoltage Range 2 8\ntsu(NSS) NSS setup time Slave mode, SPI prescaler = 2 4xTPCLK --\n-th(NSS) NSS hold time Slave mode, SPI prescaler = 2 2xTPCLK --\ntw(SCKH)\ntw(SCKL)SCK high and low time Master mode TPCLK  - 1.5 TPCLK TPCLK + 1\ntsu(MI)Data input setup timeMaster mode 1.5 - -\nnstsu(SI) Slave mode 1 - -\nth(MI)Data input hold timeMaster mode 5 - -\nth(SI) Slave mode 1 - -\nta(SO) Data output access time\nSlave mode9- 3 4\ntdis(SO) Data output disable time 9 - 16\ntv(SO)Data output valid timeSlave mode 2.7 < VDD < 3.6 V  \nVoltage Range 1-1 4 . 5 1 5 . 5\nnsSlave mode 1.65 < VDD < 3.6 V  \nVoltage Range 1-1 5 . 5 2 4\nSlave mode 1.65 < VDD < 3.6 V  \nVoltage Range 2-1 9 . 5 2 6\ntv(MO) Master mode (after enable edge) - 2.5 3\nth(SO)Data output hold timeSlave mode (after enable edge) 8 - -\nth(MO) Master mode (after enable edge) 1 - -\n1. Guaranteed by characterization results.\n2. Maximum frequency in Slave transmitter mode is determined by the sum of tv(SO)  and tsu(MI) , which has to fit into SCK low \nor high phase preceding the SCK sampling edge. This value c an be achieved when the SPI communicates with a master \nhaving tsu(MI)  = 0 while Duty(SCK) = 50 %.\nDS11929 Rev 14 161/196STM32WB55xx   STM32WB35xx Electrical characteristics\n169Figure 31. SPI timing diagram - Slave mode and CPHA = 0\nFigure 32. SPI timing diagram - Slave mode and CPHA = 1\n1. Measurement points are set at CMOS levels: 0.3 VDD and 0.7 VDD.MSv41658V1NSS input\nCPHA=0\nCPOL=0SCK inputCPHA=0\nCPOL=1\nMISO output\nMOSI inputtsu(SI)th(SI)tw(SCKL)tw(SCKH)tc(SCK)\ntr(SCK)th(NSS)\ntdis(SO)tsu(NSS)\nta(SO) tv(SO)\nNext bits INLast bit OUT\nFirst bit INFirst bit OUT Next bits OUTth(SO) tf(SCK)\nLast bit IN\nMSv41659V1NSS input\nCPHA=1\nCPOL=0SCK inputCPHA=1\nCPOL=1\nMISO output\nMOSI inputtsu(SI) th(SI)tw(SCKL)tw(SCKH) tsu(NSS)tc(SCK)\nta(SO) tv(SO)\nFirst bit OUT Next bits OUT\nNext bits INLast bit OUTth(SO) tr(SCK)tf(SCK) th(NSS)\ntdis(SO)\nFirst bit IN Last bit IN\nElectrical characteristics STM32WB55xx   STM32WB35xx\n162/196 DS11929 Rev 14Figure 33. SPI timing diagram - master mode\n1. Measurement points are set at CMOS levels: 0.3 VDD and 0.7 VDD.SCK OutputCPHA=0\nMOSI\nOUTPUTMISO\nINPUTCPHA=0\nLSB OUTLSB INCPOL=0\nCPOL=1\nBIT1 OUTNSS input\ntc(SCK)\ntw(SCKH)\ntw(SCKL)tr(SCK)\ntf(SCK)\nth(MI)HighSCK OutputCPHA=1\nCPHA=1CPOL=0\nCPOL=1\ntsu(MI)\ntv(MO) th(MO)MSB IN BIT6 IN\nMSB OUT\nai14136c\nDS11929 Rev 14 163/196STM32WB55xx   STM32WB35xx Electrical characteristics\n169Quad-SPI characteristics\nUnless otherwise specified,  the parameters given in Table 94  and Table 95  for Quad-SPI \nare derived from tests performed under the ambient temperature, fAHB frequency and VDD \nsupply voltage condit ions summarized in Table 24: General operating conditions , with the \nfollowing configuration:\n• Output speed is set to OSPEEDRy[1:0] = 11\n• Capacitive load C = 15 or 20 pF\n• Measurement points are set at CMOS levels: 0.5 ₓ VDD\nRefer to Section 6.3.17  for more details on the input/output alternate function \ncharacteristics.\n          \nTable 94. Quad-SPI characteristics in SDR mode(1) \nSymbol Parameter  Conditions  Min Typ Max Unit\nFCK\n1/t(CK)Quad-SPI  \nclock frequency1.65 < VDD< 3.6 V, CLOAD  = 20 pF  \nVoltage Range 1-- 4 0\nMHz1.65 < VDD< 3.6 V, CLOAD  = 15 pF  \nVoltage Range 1-- 4 8\n2.7 < VDD< 3.6 V, CLOAD  = 15 pF  \nVoltage Range 1-- 6 0\n1.65 < VDD < 3.6 V CLOAD  = 20 pF  \nVoltage Range 2-- 1 6\ntw(CKH) Quad-SPI clock  \nhigh and low timefAHBCLK = 48 MHz, presc=1t(CK)/2 - 0.5 - t(CK)/2 + 1\nnstw(CKL) t(CK)/2 - 1 - t(CK)/2 + 0.5\nts(IN) Data input setup timeVoltage Range 1 2 - -\nVoltage Range 2 3.5 - -\nth(IN) Data input hold timeVoltage Range 1 4.5 - -\nVoltage Range 2 6 - -\ntv(OUT) Data output valid timeVoltage Range 1 - 1 1.5\nVoltage Range 2 - 1 1.5\nth(OUT) Data output hold timeVoltage Range 1 0 - -\nVoltage Range 2 0 - -\n1. Guaranteed by characterization results.\nElectrical characteristics STM32WB55xx   STM32WB35xx\n164/196 DS11929 Rev 14          Table 95. Quad-SPI characteristics in DDR mode(1) \nSymbol Parameter  Conditions  Min Typ Max Unit\nFCK\n1/t(CK)Quad-SPI clock \nfrequency1.65 < VDD < 3.6 V, CLOAD  = 20 pF  \nVoltage Range 1 -- 4 0\nMHz2.0 < VDD < 3.6 V, CLOAD  = 20 pF  \nVoltage Range 1-- 5 0\n1.65 < VDD < 3.6 V, CLOAD  = 15 pF  \nVoltage Range 1-- 4 8\n1.65 < VDD < 3.6 V CLOAD  = 20 pF  \nVoltage Range 2-- 1 6\ntw(CKH) Quad-SPI clock  \nhigh and low timefAHBCLK = 48 MHz, presc=0 t(CK)/2 - t(CK)/2 + 1\nnstw(CKL) t(CK)/2 - 1 - t(CK)/2\ntsr(IN)Data input setup \ntime on rising edgeVoltage Range 1 2.5\n--\nVoltage Range 2 3.5\ntsf(IN)Data input setup \ntime on falling edgeVoltage Range 1 2.5\n--\nVoltage Range 2 1.5\nthr(IN)Data input hold \ntime on rising edgeVoltage Range 1 5.5\n--\nVoltage Range 2 6.5\nthf(IN)Data input hold \ntime on falling edgeVoltage Range 1 5\n--\nVoltage Range 2 6\ntvr(OUT)Data output valid \ntime on rising edgeVoltage Range 1DHHC=0\n-45 . 5\nDHHC=1 t(CK)/2 + 1 t(CK)/2 + 1.5\nVoltage Range 2 4.5 7\ntvf(OUT)Data output valid \ntime on falling edgeVoltage Range 1DHHC=0\n-46\nDHHC=1 t(CK)/2 + 1 t(CK)/2 + 2\nVoltage Range 2 6 7.5\nthr(OUT)Data output hold \ntime on rising edgeVoltage Range 1DHHC=0 2 - -\nDHHC=1 t(CK)/2 + 0.5 - -\nVoltage Range 2 3.5 - -\nthf(OUT)Data output hold \ntime on falling edgeVoltage Range 1DHHC=0 3 - -\nDHHC=1 t(CK)/2 + 0.5 - -\nVoltage Range 2 5 - -\n1. Guaranteed by characterization results.\nDS11929 Rev 14 165/196STM32WB55xx   STM32WB35xx Electrical characteristics\n169Figure 34. Quad-SPI timing diagram - SDR mode\nFigure 35. Quad-SPI ti ming diagram - DDR mode\nSAI characteristics\nUnless otherwise specified, the parameters given in Table 96  for SAI are derived \nfrom tests performed under the ambient temperature, fPCLKx  frequency and VDD \nsupply voltage conditions summarized in Table 24: General operating conditions , with \nthe following configuration:\n• Output speed is set to OSPEEDRy[1:0] = 10\n• Capacitive load C = 30 pF\n• Measurement are performed at CMOS levels: 0.5 ₓ VDD\nRefer to Section 6.3.17  for more details on the input/output alternate function  \ncharacteristics (CK,SD,FS).MSv36878V1Data output D0 D1 D2Clock\nData input D0 D1 D2t(CK) tw(CKH) tw(CKL) tr(CK) tf(CK)\nts(IN) th(IN)tv(OUT) th(OUT)\nMSv36879V3Data output IO0 IO2 IO4Clock\nData input IO0 IO2 IO4t(CLK) tw(CLKH) tw(CLKL) tr(CLK) tf(CLK)\ntsf(IN)thf(IN)tvf(OUT) thr(OUT)\nIO1 IO3 IO5\nIO1 IO3 IO5tvr(OUT) thf(OUT)\ntsr(IN)thr(IN)\nElectrical characteristics STM32WB55xx   STM32WB35xx\n166/196 DS11929 Rev 14          Table 96. SAI characteristics(1) \n1. Guaranteed by characterization results.Symbol Parameter Conditions Min Max Unit \nfMCLK SAI main clock output - - 50\nMHz\nfCK SAI clock frequency(2)\n2. APB clock frequency must be at least twice SAI clock frequency.Master transmitter  \n2.7 V ≤ VDD ≤ 3.6 V  \nVoltage Range 1-2 3 . 5\nMaster transmitter  \n1.65 V ≤ VDD ≤ 3.6 V  \nVoltage Range 1-1 6\nMaster receiver  \nVoltage Range 1-1 6\nSlave transmitter  \n2.7 V ≤ VDD ≤ 3.6 V  \nVoltage Range 1-2 6\nSlave transmitter  \n1.65 V ≤ VDD ≤ 3.6 V  \nVoltage Range 1-2 0\nSlave receiver  \nVoltage Range 1-3 2\nVoltage Range 2 - 8\ntv(FS) FS valid time Master mode  \n2.7 V ≤ VDD ≤ 3.6 V-2 1\nnsMaster mode  \n1.65 V ≤ VDD ≤ 3.6 V-3 0\nth(FS) FS hold time Master mode 10 -\ntsu(FS) FS setup time Slave mode 1.5 -\nth(FS) FS hold time Slave mode 2.5 -\ntsu(SD_A_MR)Data input setup timeMaster receiver 1 -\ntsu(SD_B_SR) Slave receiver 1.5 -\nth(SD_A_MR)Data input hold time Master receiver 6.5 -\nth(SD_B_SR) Slave receiver 2.5 -\ntv(SD_B_ST) Data output valid timeSlave transmitter (after enable edge)  \n2.7 V ≤ VDD ≤ 3.6 V-1 9\nSlave transmitter (after enable edge)  \n1.65 V ≤ VDD ≤ 3.6 V-2 5\nth(SD_B_ST) Data output hold time Slave transmitter (after enable edge) 10 -\ntv(SD_A_MT) Data output valid timeMaster transmitter (after enable edge)  \n2.7 V ≤ VDD ≤ 3.6 V-1 8 . 5\nMaster transmitter (after enable edge)  \n1.65 V ≤ VDD ≤ 3.6 V-2 5\nth(SD_A_MT) Data output hold time Master transmitter (after enable edge) 10 -\nDS11929 Rev 14 167/196STM32WB55xx   STM32WB35xx Electrical characteristics\n169Figure 36. SAI master timing waveforms\nFigure 37. SAI slave timing waveformsMS32771V1SAI_SCK_X\nSAI_FS_X\n(output)1/fSCK\nSAI_SD_X\n(transmit)tv(FS)\nSlot n\nSAI_SD_X\n(receive)th(FS)\nSlot n+2tv(SD_MT) th(SD_MT)\nSlot ntsu(SD_MR) th(SD_MR)\nMS32772V1SAI_SCK_X\nSAI_FS_X\n(input)\nSAI_SD_X\n(transmit)tsu(FS)\nSlot n\nSAI_SD_X\n(receive)tw(CKH_X) th(FS)\nSlot n+2tv(SD_ST) th(SD_ST)\nSlot ntsu(SD_SR)tw(CKL_X)\nth(SD_SR)1/fSCK\nElectrical characteristics STM32WB55xx   STM32WB35xx\n168/196 DS11929 Rev 14USB characteristics\nThe STM32WB55xx and STM32WB35xx USB interface is fully compliant with the USB \nspecification version 2.0, and is USB-IF certified (for Full-speed device operation).\n          \nJTAG/SWD interface characteristics\nUnless otherwise specified, the parameters given in Table  98 and Table  99 are derived from \ntests performed under the ambient temperature, fPCLKx frequency and supply voltage \nconditions su mmarized in Table  24: General operating conditions , with the following \nconfiguration:\n• Capacitive load C = 30 pF\n• Measurement points are done at CMOS levels: 0.5 ₓ VDD\n          Table 97. USB electrical characteristics(1) \n1. TA = -40 to 125 °C unless otherwise specified.Symbol Parameter Conditions Min Typ Max Unit\nVDDUSB USB transceiver operating voltage - 3.0(2)\n2. The STM32WB55xx and STM32WB35xx USB functionality is ensured down to 2.7 V, but the full USB \nelectrical characterist ics are degraded in the 2.7 to 3.0 V voltage range.-3 . 6 V\nTcrystal_lessUSB crystal-less  \noperation temperature-- 1 5 - 8 5 °C\nRPUIEmbedded USB_DP pull-up value \nduring idle- 900 1250 1600\nΩRPUREmbedded USB_DP pull-up value \nduring reception- 1400 2300 3200\nZDRV(3)\n3. Guaranteed by design.Output driver impedance(4)\n4. No external termination series resistors are r equired on USB_DP (D+) and USB_DM (D-); the matching \nimpedance is already included in the embedded driver.Driving high and low 28 36 44\nTable 98. JTAG characteristics \nSymbol Parameter  Conditions Min Typ Max Unit\n1/tc(TCK) TCK clock frequency2.7 < VDD < 3.6 V - - 29\nMHz\n1.65 < VDD < 3.6 V - - 21\ntisu(TMS) TMS input setup time - 2.5 - -\nnstih(TMS) TMS input hold time - 2 - -\ntisu(TDI) TDI input setup time - 1.5 - -\ntih(TDI) TDI input hold time - 2 - -\ntov(TDO) TDO output valid time2.7 < VDD < 3.6 V - 13.5 16.5\n1.65 < VDD < 3.6 V - 13.5 23\ntoh(TDO) TDO output hold time - 11 - -\nDS11929 Rev 14 169/196STM32WB55xx   STM32WB35xx Electrical characteristics\n169          \nRefer to Section  6.3.17  for more details on the input/outpu t alternate function characteristics \n(CK, SD, WS).Table 99. SWD characteristics \nSymbol Parameter  Conditions Min Typ Max Unit\n1/tc(SWCLK) SWCLK clock frequency2.7 < VDD < 3.6 V - - 55\nMHz\n1.65 < VDD < 3.6 V - - 35\ntisu(TMS) SWDIO input setup time - 2.5 - -\nnstih(TMS) SWDIO input hold time - 2 - -\ntov(TDO) SWDIO output valid time2.7 < VDD < 3.6 V - 16 18\n1.65 < VDD < 3.6 V - 16 28\ntoh(TDO) SWDIO output hold time - 13 - -\nPackage information STM32WB55xx   STM32WB35xx\n170/196 DS11929 Rev 147 Package information\nIn order to meet environmental requirements, ST offers these devices in different grades of \nECOPACK packages, depending on their level of environmental compliance. ECOPACK \nspecifications, grade definitions a nd product status are available at: www.st.com . \nECOPACK is an ST trademark.\n7.1 UFBGA129 package information\nThis UFBGA is a 129-ball, 7 x 7 mm, 0.5 mm fine pitch, square ball grid array package.\nFigure 38. UFBGA129 package outline\n1. Drawing is not to scale.\n2. The terminal A1 corner must be identified on the top surface by using a corner chamfer, ink or metalized \nmarkings, or other feature of package body or integral heat slug.  \nA distinguishing feature is allowable on the bottom su rface of the package to identify the terminal A1 \ncorner. Exact shape of each corner is optional.\n          Table 100. UFBGA129 mechanical data \nSymbolmillimeters inches(1)\nMin Typ Max Min Typ Max\nA(2)- - 0.60 - - 0.024\nA1 - - 0.11 - - 0.004\nA2 - 0.13 - - 0.005 -\nA4 - 0.32 - - 0.013 -\nb(3)0.24 0.29 0.34 0.009 0.011 0.013B09R_UFBGA129_ME_V2e\nE E1B\nFF\nD1\nDeA1\n2\n3\n7\n894\n5\n6\n11\n12\n1310EFGH AB C D N JKLMA1 corner index area\nBOTTOM VIEWb (129 balls)\neee\nf f fMM\nCCABC\nAA1\nddd CbA2A4SEATING\nPLANE\nDS11929 Rev 14 171/196STM32WB55xx   STM32WB35xx Package information\n185Figure 39. UFBG A129 recommended footprintD 6.85 7.00 7.15 0.270 0.276 0.281\nE 6.85 7.00 7.15 0.270 0.276 0.281\nD1 - 6.00 - - 0.236 -\nE1 - 6.00 - - 0.236 -\ne - 0.50 - - 0.020 -\nF - 0.50 - - 0.020 -\nddd - - 0.08 - - 0.003\neee(4)- - 0.15 - - 0.006\nfff(5)- - 0.05 - - 0.002\n1. Values in inches are converted fr om mm and rounded to four decimal digits.\n2. - UFBGA stands for Ultra Thin Profile Fine Pitch Ball Grid Array.  \n- Ultra thin profile: 0.50 < A ≤ 0.65 mm / Fine pitch: e < 1.00 mm pitch.  \n- The total profile height (Dim A) is measured from the seating plane to the top of the component  \n- The maximum total package height is calculated by the following methodology:  \n   A Max = A1 Typ + A2 Typ + A4 Typ + √ (A1² + A2² + A4² tolerance values).\n3. The typical balls diameters before mounting is 0.20 mm.\n4. The tolerance of position that controls the location of  the pattern of balls with respect to datum A and B.  \nFor each ball there is a cylindrical tolerance z one eee perpendicular to datum C and located on true \nposition with respect to datum A and B as defined by e. The axis perpendicular to datum C of each ball \nmust lie within this tolerance zone.\n5. The tolerance of position that controls the location of the balls within the matrix with respect to each other.  \nFor each ball there is a cylindrical tolerance zone ff f perpendicular to datum C and located on true position \nas defined by e. The axis perpendicula r to datum C of each ball must lie within this tolerance zone. Each \ntolerance zone fff in the array is contained entirely in the respective zone eee above The axis of each ball \nmust lie simultaneously in both tolerance zones.Table 100. UFBGA129 mechanical data (continued)\nSymbolmillimeters inches(1)\nMin Typ Max Min Typ Max\nBGA_WLCSP_FT_V1DsmDpad\nPackage information STM32WB55xx   STM32WB35xx\n172/196 DS11929 Rev 14          \nDevice marking for UFBGA129\nFigure  40 gives an example of topside marking orie ntation versus pin 1 identifier location. \nThe printed markings may differ depending on the supply chain.\nOther optional marking or inse t/upset marks, which identify the parts throughout supply \nchain operations, are not indicated below.\nFigure 40. UFBGA129 marking example (package top view)\n1. Parts marked as ES or E or accompanied by an Engi neering Sample notification letter are not yet qualified \nand therefore not approved for use in production. ST is not responsible for any consequences resulting \nfrom such use. In no event will ST be liable for t he customer using any of these engineering samples in \nproduction. ST’s Quality department must be contacte d prior to any decision to use these engineering \nsamples to run a qualification activity.Table 101. UFBGA129 recommended PCB design rules\nDimension Recommended values\nPitch 0.5 mm\nDpad 0,275 mmDsm 0.400 mm typ. (depends on soldermask registration tolerance)\nStencil opening 0.300 mm\nStencil thickness 0.100 mm\nMS53511V3Date code55VProduct identification(1)\nYWWSTM32WB\nAdditional \ninformation X\nPin 1 identifier\nDS11929 Rev 14 173/196STM32WB55xx   STM32WB35xx Package information\n1857.2 WLCSP100 package information\nThis WLCSP is a 100-ball, 4.40 x 4.38 mm, 0. 4 mm pitch, wafer level chip scale package.\nFigure 41. WLCSP100 outline\n1. Primary datum Z and seating plane are defined by the spherical crowns of the bump.\n2. Bump position designation per JESD 95-1, SPP-010.A\nK10 1F\nGe1A1 BALL LOCATION\ne4\ne2E\nK\nH e3 ee\nD\nBOTTOM VIEWE\nD\nTOP VIEWA1\nDETAIL A\nA\nA2\nSIDE VIEW A3\nFRONT VIEWA2\nA1BUMP\nSEATING PLANEDETAIL A\nROTATED 90\nA08S_WLCSP100_ME_V1\nPackage information STM32WB55xx   STM32WB35xx\n174/196 DS11929 Rev 14Table 102. WLCSP100 mechanical data \nSymbolmillimeters inches(1)\n1. Values in inches are converted from  mm and rounded to the third decimal place.Min Typ Max Min Typ Max\nA- - 0 . 5 9 - - 0 . 0 2 3\nA1 - 0.18 - - 0.007 -A2 - 0.38 - - 0.015 -\nA3\n(2)\n2. Back side coating.- 0.025(3)\n3. Nominal dimension rounded to the third decim al place results from  process capability.-- 0 . 0 0 1 -\nb 0.22 0.25 0.28 0.009 0.010 0.011\nD 4.38 4.40 4.42 0.1724 0.1732 0.1740\nE 4.36 4.38 4.40 0.1716 0.1724 0.1732\ne - 0.40 - - 0.016 -\ne1 - 3.60 - - 0.142 -\ne2 - 3.60 - - 0.142 -\ne3 - 0.08 - - 0.003 -\ne4 - 0.08 - - 0.001 -\nF - 0.480(4)\n4. Dimensions are calculated and rounded to the third decimal place.- - 0.0189 -\nG - 0.306(4)- - 0.0120 -\nH - 0.320(4)- - 0.0126 -\nK - 0.474(4)- - 0.0187 -\naaa - - 0.10 - - 0.004\nbbb - - 0.10 - - 0.004\nccc - - 0.10 - - 0.004\nddd - - 0.05 - - 0.002\neee - - 0.05 - - 0.002\nDS11929 Rev 14 175/196STM32WB55xx   STM32WB35xx Package information\n185Figure 42. WLCSP100 recommended footprint\nDevice marking for WLCSP100\nFigure  43 gives an example of topside marking orie ntation versus pin 1 identifier location. \nThe printed markings may differ depending on the supply chain.\nOther optional marking or inse t/upset marks, which identify the parts throughout supply \nchain operations, are not indicated below.Table 103. WLCSP100 - Recommended PCB design rules \nDimension Recommended values\nPitch 0.4 mm\nDpad (PCB Cu pad diameter) 0.250 mmDsm 0.325 mm typ. (depends on the soldermask registration tolerance)\nStencil opening 0.250 mm\nStencil thickness 0.100 mmBGA_WLCSP_FT_V1DsmDpad\nPackage information STM32WB55xx   STM32WB35xx\n176/196 DS11929 Rev 14Figure 43. WLCSP100 marking example (package top view)\n1. Parts marked as ES or E or accompanied by an Engi neering Sample notification letter are not yet qualified \nand therefore not approved for use in production. ST is not responsible for any consequences resulting \nfrom such use. In no event will ST be liable for t he customer using any of these engineering samples in \nproduction. ST’s Quality department must be contacte d prior to any decision to use these engineering \nsamples to run a qualification activity.MS53512V3Product \nidentification(1)\nDate codePin 1 identifier\nWB55V\nYw wX\nDS11929 Rev 14 177/196STM32WB55xx   STM32WB35xx Package information\n1857.3 VFQFPN68 package information\nVFQFPN68 is a 8 x 8 mm, 0.4 mm pitch, ve ry thin fine pitch quad flat package.\nFigure 44. VFQFPN68 package outline\n1. VFQFPN stands for Thermally Enhanced Very thin Fine pitch Quad Flat Packages No lead. Sawed \nversion. Very thin profile: 0.80 < A ≤ 1.00 mm.\n2. The pin #1 identifier must be existed on the top surf ace of the package by using indentation mark or other \nfeature of package body. Exact shape and size of this feature is optional.\nTable 104. VFQFPN68 mechanical data \nSymbolmillimeters inches(1)\nMin Typ Max Min Typ Max\nA 0.80 0.90 1.00 0.0315 0.0354 0.0394\nA1 0 0.02 0.05 0 0.0008 0.0020\nA3 - 0.20 - - 0.0008 -\nb 0.15 0.20 0.25 0.0059 0.0079 0.0098\nD 7.85 8.00 8.15 0.3091 0.3150 0.3209\nD2 6.30 6.40 6.50 0.2480 0.2520 0.2559CD\nE\nTOP VIEWPIN 1 IDENTIFIER\nLASER MARKING\n68 67\n1 \n2\n(2X) 0.10 C\nD2\nE2\n68 672 \n1\nPIN 1 ID\nC 0.30 X 45\'eb\nBOTTOM VIEWL\nEXPOSED PAD AREASIDE VIEWE\nSEATING\nPLANEddd C\nA\nA1\nA2\nB029_VFQFPN68_ME_V1\nPackage information STM32WB55xx   STM32WB35xx\n178/196 DS11929 Rev 14Figure 45. VFQFPN68 recommended footprint\n1. Dimensions are expr essed in millimeters.\nDevice marking for VFQFPN68\nFigure  45 gives an example of topside marking orie ntation versus pin 1 identifier location. \nThe printed markings may differ depending on the supply chain.\nOther optional marking or inse t/upset marks, which identify the parts throughout supply \nchain operations, are not indicated below.E 7.85 8.00 8.15 0.3091 0.3150 0.3209\nE2 6.30 6.40 6.50 0.2480 0.2520 0.2559\ne - 0.40 - - 0.0157 -L 0.40 0.50 0.60 0.0157 0.0197 0.0236\nddd - - 0.08 - - 0.0031\n1. Values in inches are converted fr om mm and rounded to four decimal digits.Table 104. VFQFPN68 mechanical data (continued)\nSymbolmillimeters inches(1)\nMin Typ Max Min Typ Max\nB029_VFQFPN68_FP_V28.30\n7.00\n6.658.30\n7.00\n6.65\n0.826.40\n6.40\n0.650.400.250.15\nDS11929 Rev 14 179/196STM32WB55xx   STM32WB35xx Package information\n185Figure 46. VFQFPN68 marking example (package top view)\n1. Parts marked as ES or E or accompanied by an Engi neering Sample notification letter are not yet qualified \nand therefore not approved for use in production. ST is not responsible for any consequences resulting \nfrom such use. In no event will ST be liable for t he customer using any of these engineering samples in \nproduction. ST’s Quality department must be contacte d prior to any decision to use these engineering \nsamples to run a qualification activity.\n7.4 UFQFPN48 package information\nUFQFPN48 is a 48-lead, 7 x 7 mm, 0.5 mm pitch,  ultra thin fine pitch quad flat package.MS53514V3STM32WB55Product \nidentification(1)\nPin 1 identifierR\nX\nYWW\nDate code\nPackage information STM32WB55xx   STM32WB35xx\n180/196 DS11929 Rev 14Figure 47. UFQFPN48 outline\n1. Drawing is not to scale.\n2. All leads/pads should also be soldered to the PCB to improve the lead/pad solder joint life.\n3. There is an exposed die pad on the underside of the UF QFPN package, it must be electrically connected to \nthe PCB ground.A0B9_ME_V3DPin 1 identifier\nlaser marking area\nEE\nD\nY\nD2\nE2Exposed pad \narea\nZ1\n48Detail ZR 0.125 typ.1\n48L\nC 0.500x45°\npin1 cornerA\nSeating plane\nA1\nb eddd\nDetail YT\nDS11929 Rev 14 181/196STM32WB55xx   STM32WB35xx Package information\n185          \nFigure 48. UFQFPN48 recommended footprint\n1. Dimensions are expr essed in millimeters.Table 105. UFQFPN48 mechanical data \nSymbolmillimeters inches(1)\n1. Values in inches are converted fr om mm and rounded to four decimal digits.Min Typ Max Min Typ Max\nA 0.500 0.550 0.600 0.0197 0.0217 0.0236\nA1 0.000  0.020 0.050 0.0000  0.0008 0.0020\nD 6.900 7.000 7.100 0.2717 0.2756 0.2795\nE 6.900 7.000 7.100 0.2717 0.2756 0.2795\nD2 5.500 5.600 5.700 0.2165 0.2205 0.2244\nE2 5.500 5.600 5.700 0.2165 0.2205 0.2244\nL 0.300 0.400 0.500 0.0118 0.0157 0.0197\nT - 0.152 - - 0.0060 -\nb 0.200 0.250 0.300 0.0079 0.0098 0.0118\ne - 0.500 - - 0.0197 -\nddd - - 0.080 - - 0.0031\n7.30\n7.300.20\n0.30\n0.550.50\n5.806.20\n6.205.60\n5.605.80\n0.75\nA0B9_FP_V248\n1\n12\n13 24253637\nPackage information STM32WB55xx   STM32WB35xx\n182/196 DS11929 Rev 14Device marking for UFQFPN48\nFigure  49 and Figure  50 give examples of topside marking orientation versus pin 1 identifier \nlocation. The printed markings may differ depending on the supply chain.\nOther optional marking or inse t/upset marks, which identify the parts throughout supply \nchain operations, are not indicated below.\nFigure 49. STM32WB55xx UFQFPN48 marking example (package top view)\n1. Parts marked as “ES”, “E” or accompanied by an Engineering Sample notification letter, are not yet \nqualified and therefore not yet ready to be used in  production and any consequences  deriving from such \nusage will not be at ST charge. In no event, ST will  be liable for any customer usage of these engineering \nsamples in production. ST Quality has to be cont acted prior to any decisi on to use these Engineering \nsamples to run qualification activity.\nFigure 50. STM32WB35xx UFQFPN48 marking example (package top view)\n1. Parts marked as “ES”, “E” or accompanied by an Engineering Sample notification letter, are not yet \nqualified and therefore not yet ready to be used in  production and any consequences  deriving from such \nusage will not be at ST charge. In no event, ST will  be liable for any customer usage of these engineering \nsamples in production. ST Quality has to be cont acted prior to any decisi on to use these Engineering \nsamples to run qualification activity.\n          MS51581V3STM32WB55\nCGU6\nYW WDate code\nPin 1 identifierProduct \nidentification(1)\nRevision codeX\nMS53143V2STM32WB35\nCCU6\nYW WDate code\nPin 1 identifierProduct \nidentification(1)\nRevision codeA\nDS11929 Rev 14 183/196STM32WB55xx   STM32WB35xx Package information\n1857.5 Thermal characteristics\nThe maximum chip junction temperature (TJmax) must never exceed the values given in \nTable  24: General operating conditions .\nThe maximum chip-junction temperature, TJ max, in degrees Celsius, can be calculated \nusing the equation:\nTJ max = TA max + (PD max x ΘJA)\nwhere:\n• TA max is the maximum ambient temperature in °C,\n•ΘJA is the package junction-to-ambien t thermal resistance, in °C / W,\n• PD max is the sum of PINT max and PI/O max (PD max = PINT max + PI/O max),\n• PINT max is the product of IDD and VDD, expressed in Watt. This  is the maximum chip \ninternal power.\nPI/O max represents the maximum po wer dissipation on output pins:\n• PI/O max  = Σ (VOL × IOL) + Σ ((VDD – VOH) × IOH)\ntaking into account the actual VOL / IOL and VOH / IOH of the I/Os at low and high level in the \napplication.\nNote: When the SMPS is used, a portion of the powe r consumption is dissipated into the external \ninductor, therefore reducing the chip power dissipation. This portion depends mainly on the inductor ESR characteristics.\nNote: As the radiated RF power is quite low (< 4 mW ), it is not necessary to remove it from the \nchip power consumption.\n          Table 106. Package thermal characteristics \nSymbol Parameter Value Unit\nΘJAThermal resistance junction-ambient\nUFQFPN48 - 7 mm x 7 mm24.9\n°C/WThermal resistance junction-ambient\nVFQFPN68 - 8 mm x 8 mm47.0\nThermal resistance junction-ambient\nWLCSP100 - 0.4 mm pitch35.8\nThermal resistance junction-ambient\nUFBGA129 - 0.5 mm pitch41.5\nΘJBThermal resistance junction-board\nUFQFPN48 - 7 mm x 7 mm13.0\n°C/WThermal resistance junction-board\nVFQFPN68 - 8 mm x 8 mm36.1\nThermal resistance junction-board\nWLCSP100 - 0.4 mm pitchN/A\nThermal resistance junction-board\nUFBGA129 - 0.5 mm pitch16.2\nPackage information STM32WB55xx   STM32WB35xx\n184/196 DS11929 Rev 147.5.1 Reference document\nJESD51-2 Integrated Circuits Thermal Test  Method Environment Conditions - Natural \nConvection (Still Air). Ava ilable from www.jedec.org\n7.5.2 Selecting the product temperature range\nWhen ordering the microcontroller, the temper ature range is specified in the information \nscheme shown in Section  8.\nEach temperature range suffix corresponds to a specific guaranteed ambient temperature at \nmaximum dissipation and to a specif ic maximum junction temperature.\nAs applications do not commonly use the device at maximum dissipation, it is useful to \ncalculate the exact power consumption and junction temperature to determine the \ntemperature range that be st suits the application.\nThe following examples show how to calculate the temperature range needed for a given \napplication.\nExample 1: High-performance application\nAssuming the following ap plication conditions:\nMaximum ambient temperature TA max = 82 °C (measured according to JESD51-2), \nIDD max = 50 mA, VDD = 3.5 V, maximum 20 I/Os used at  the same time in output at \nlow level with IOL = 8 mA, VOL = 0.4 V and maximum 8 I/Os used at the same time in \noutput at low level with IOL = 20 mA, VOL= 1.3 V\nPINT max = 50 mA × 3.5 V = 175 mW\nPIO max = 20 × 8 mA × 0.4 V + 8 × 20 mA × 1.3 V = 272 mW\nThis gives: PINT max = 175 mW and PIO max = 272 mW\nPD max = 175 + 272 = 447 mW\nUsing the values obtained in Table  106 TJ max is calculated as follows:\n– For VFQFPN68, 47 °C / WT\nJ max = 82 °C + (47 °C / W × 447 mW) = 82 °C + 21 °C = 103 °C\nThis is within the range of the suffix 6 version parts (–40 < TJ < 105 °C), see Section  8.\nIn this case, parts must be ordered at least with the temperature range suffix 6.ΘJCThermal resistance junction-case\nUFQFPN48 - 7 mm x 7 mm1.3\n°C/WThermal resistance junction-case\nVFQFPN68 - 8 mm x 8 mm13.7\nThermal resistance junction-case\nWLCSP100 - 0.4 mm pitchN/A\nThermal resistance junction-case\nUFBGA129 - 0.5 mm pitch34.9Table 106. Package thermal characteristics (continued)\nSymbol Parameter Value Unit\nDS11929 Rev 14 185/196STM32WB55xx   STM32WB35xx Package information\n185Note: With this given PD max user can find the TA max allowed for a given device temperature \nrange (order code suffix 7).\nSuffix 7: TA max = TJ max - (47 °C / W × 447 mW) = 125 °C - 21 °C = 103 °C\nExample 2: High-temperature application\nUsing the same rules, it is possible to a ddress applications running at high ambient \ntemperatures with a low dissipation, as long as junction temperature TJ remains within the \nspecified range.\nAssuming the following ap plication conditions:\nMaximum ambient temperature TA max = 100 °C (measured according to JESD51-2), \nIDD max = 50 mA, VDD = 3.5 V, maximum 20 I/Os used at the same time in output at \nlow level with IOL = 8 mA, VOL= 0.4 V\nPINT max = 50 mA × 3.5 V = 175 mW\nPIO max = 20 × 8 mA × 0.4 V = 64 mW\nThis gives: PINTmax  = 175 mW and PIO max = 64 mW\nPD max = 175 + 64 = 239 mW\nThus: PD max = 239 mW\nUsing the values obtained in Table  106 TJ max is calculated as follows:\n– For UFQFPN48, 24.9 °C / WT\nJ max = 100 °C + (24.9 °C / W × 239 mW) = 100 °C + 6 °C = 106 °C\nThis is above the range of the suffix 6 version parts (–40 < TJ < 105 °C).\nIn this case, parts must be ordered at least with the temperature range suffix 7 (see \nSection  8), unless user reduces the power dissipation to be able to use suffix 6 parts.\nOrdering information STM32WB55xx   STM32WB35xx\n186/196 DS11929 Rev 148 Ordering information\n          \nExample:                                                        STM32  WB      55      V     G    V     6   A  TR\nDevice family\nSTM32 = Arm® based 32-bit microcontroller\nProduct type\nWB = Wireless Bluetooth®\nDevice subfamily55 = Die 5, full set of features\n35 = Die 3, full set of features\n(1)\n1. STM32WB35xx only available with 48-pin UF QFPN48 package, 256 or 512 Kbytes flash \nmemory.Pin count\nC = 48 pins\nR = 68 pinsV = 100 or 129 pins\nFlash memory size\nC = 256 KbytesE = 512 Kbytes\nY\n(2) = 640 Kbytes\n2. Only STM32WB55VY, WLCSP100 package, temperature range -40 to 85 °C (105 °C junction).G = 1 Mbyte\nPackage\nU = UFQFPN48 7 x 7 mm\nV = VFQFPN68 8 x 8 mmY = WLCSP100 0.4 mm pitch\nQ = UFBGA129 0.5 mm pitch\nTemperature range6 = Industrial temperature range, -40 to 85 °C (105 °C junction)\n7 = Industrial temperature range, -40 to 105 °C (125 °C junction)\nIdentification codeA = Proprietary i dentification code\nblank = Non-proprietary identification code\nPackingTR = tape and reel\nxxx = programmed parts\nDS11929 Rev 14 187/196STM32WB55xx   STM32WB35xx Important security notice\n1879 Important security notice\nThe STMicroelectronics group of companies (ST) places a high value on product security, \nwhich is why the ST product(s) identified in  this documentation may be certified by various \nsecurity certification bodies and/or may impl ement our own security measures as set forth \nherein. However, no level of security certification and/or built-in security measures can \nguarantee that ST products are resistant to  all forms of attacks. As such, it is the \nresponsibility of each of  ST\'s customers to  determine if the level of security provided in an \nST product meets the customer needs both in relation to the ST product alone, as well as \nwhen combined with other components and/or software for the customer end product or \napplication. In partic ular, take note that:\n• ST products may have been certified by one or more security certification bodies, such \nas Platform Security Architecture (www.psace rtified.org) and/or Security Evaluation \nstandard for IoT Platforms (www.trustcb.com ). For details concerning whether the ST \nproduct(s) referenced herein have received  security certification along with the level \nand current status of such certification, eith er visit the relevant certification standards \nwebsite or go to the relevant product page on www.st.com  for the most up to date \ninformation. As the status and/or level of security certification for an ST product can \nchange from time to time, customers should re-check security certification status/level \nas needed. If an ST product is not shown to  be certified under a particular security \nstandard, customers should not assume it is certified. \n• Certification bodies have the right to evaluate , grant and revoke security certification in \nrelation to ST products. These certification bodies are therefore independently responsible for granting or revoking security  certification for an ST product, and ST \ndoes not take any responsibility for mistak es, evaluations, assessments, testing, or \nother activity carried out by the certific ation body with respect to any ST product. \n• Industry-based cr yptographic algorithms (such as AES, DES, or MD5) and other open \nstandard technologies which may be used in conjunction with an ST product are based on standards which were not developed by ST . ST does not take responsibility for any \nflaws in such cryptographic algorithms or open technologies or for any methods which have been or may be developed to bypass, decrypt or crack such algorithms or technologies. \n• While robust security testing may be done, no level of certification can absolutely \nguarantee protections against all attacks, including, for example, against advanced \nattacks which have not been tested for, again st new or unidentified  forms of attack, or \nagainst any form of attack when using an ST product outside of its specification or intended use, or in conjunction with other components or software which are used by \ncustomer to create their end product or application. ST is not responsible for resistance against such attacks. As such, regardless of  the incorporated security features and/or \nany information or support that may be provided by ST, each customer is solely responsible for determining if the level of attacks tested for meets their needs, both in \nrelation to the ST product alone and when incorporated into a customer end product or application.\n• All security features of ST products (inclusive of any hardware, software, \ndocumentation, and the like), including but not limited to any enhanced security features added by ST, are pr ovided on an "AS IS" BASIS. AS SUCH, TO THE EXTENT \nPERMITTED BY APPLICABLE LAW, ST  DISCLAIMS ALL WARRANTIES, EXPRESS \nOR IMPLIED, INCLUDING BUT NOT LIMI TED TO THE IMPLIED WARRANTIES OF \nMERCHANTABILITY OR FITNESS FOR A PA RTICULAR PURPOSE, unless the \napplicable written and signed contract  terms specifically  provide otherwise.\nRevision history STM32WB55xx   STM32WB35xx\n188/196 DS11929 Rev 1410 Revision history\n          Table 107. Document revision history \nDate Revision Changes\n25-Jul-2017 1 Initial release.\n04-Apr-2018 2Updated document title, Features , Section 1: Introduction , Section 2: \nDescription , Section 3.1: Architecture , Section 3.3.2: Memory protection \nunit, Section 3.3.3: Embedded Flash memory , Section 3.4: Security and \nsafety , Section 3.6: RF subsystem , Section 3.6.1: RF front-end block \ndiagram , Section 3.6.2: BLE general description , Section 3.7.1: Power \nsupply distribution , Section 3.7.2: Power supply schemes , Section 3.7.4: \nPower supply supervisor , Section 3.10: Cl ocks and startup , Section 3.14: \nAnalog to digital converter (ADC) , Section 3.19: True random number \ngenerator (RNG) , Section 5: Memory mapping , Section 6.3.25: SMPS \nstep-down converter characteristics  and Section 7.5.2: Selecting the \nproduct temperature range .\nUpdated Table 2: STM32WB55xx devices features and peripheral \ncounts , Table 6: Power supply typical components , Table 7: Features \nover all modes , Table 8: STM32WB55xx modes overview , Table 13: \nTimer features , Table 15: Legend/abbreviations used in the pinout table , \nTable 16: STM32WB55xx pin and ball definitions , Table 17: Alternate \nfunctions , Table 23: RF transmitter BLE characteristics , Table 26: RF \nreceiver BLE characteristics (1 Mbps)  and added footnote to it, Table 28: \nRF BLE power consumption for VDD = 3.3 V , Table 31: RF 802.15.4 \npower consumption for VDD = 3.3 V , Table 37: Typical current \nconsumption in Run and Low-power run modes, with different codes running from Flash, ART enable (Cac he ON Prefetch OFF), VDD= 3.3 V , \nTable 38: Typical current consumption in Run and Low-power run modes, \nwith different codes running from SRAM1, VDD = 3.3 V , Table 40: \nCurrent consumption in Low-power sl eep modes, Flash memory in Power \ndown , Table 41: Current consumption in Stop 2 mode , Table 42: Current \nconsumption in Stop 1 mode\n, Table 43: Current consumption in Stop 0 \nmode , Table 44: Current consum ption in Standby mode , Table 45: \nCurrent consumption in Shutdown mode , Table 48: Peripheral current \nconsumption , Table 104: Package thermal characteristics  and Table 97: \nSTM32WB55xx ordering information scheme .\nAdded Table 47: Current under Reset condition .\nUpdated Figure 1: STM32WB55xx block diagram , Figure 2: \nSTM32WB55xx RF front-end block diagram , Figure 4: Power distribution , \nFigure 6: Power supply overview , Figure 7: Clock tree , Figure 8: \nSTM32WB55Cx UFQFPN48 pinout(1)(2), Figure 9: STM32WB55Rx \nVFQFPN68 pinout(1)(2), Figure 10: STM32WB55Vx WLCSP100 ballout(1) \nand Figure 14: Power supply scheme (all packages except UFBGA129) .\nDS11929 Rev 14 189/196STM32WB55xx   STM32WB35xx Revision history\n19508-Oct-2018 3Changed document classification to Public.\nUpdated Features , Section 3.6.2: BLE general description , Section 3.7.2: \nPower supply schemes , Section 3.7.3: Linear voltage regulator , \nSection 3.10: Clocks and startup , Section 6.3.10: External clock source \ncharacteristics , Section 6.3.20: Analog- to-Digital converter \ncharacteristics , Section 6.3.29: Communication interfaces characteristics , \nSection 7.2: WLCSP100 package information  and Section 7.5: Thermal \ncharacteristics .\nReplaced VDDIOx  with VDD throughout the whole document.\nUpdated Table 5: Typical external components , footnote 2 of Table 7: \nFeatures over all modes , Table 8: STM32WB55xx modes overview  and \nits footnote 5, Table 12: Internal voltage reference calibration values , \nTable 16: STM32WB55xx pin and ball definitions  and its footnote 6, \nTable 17: Alternate functions , Table 20: Thermal characteristics , \nTable 21: Main performance at VDD = 3.3 V , Table 21: Main performance \nat VDD = 3.3 V , Table 22: General operating conditions , Table 23: RF \ntransmitter BLE characteristics  and its footnote, Table 26: RF receiver \nBLE characteristics (1 Mbps) , Table 28: RF BLE power consumption for \nVDD = 3.3 V , Table 29: RF transmitter 802.15.4 characteristics  and its \nfootnote 1, Table 30: RF receiver 802.15.4 characteristics , Table 31: RF \n802.15.4 power consumption for VDD = 3.3 V , Table 34: Embedded \ninternal voltage reference , Table 35: Current consumption in Run and \nLow-power run modes, code with dat a processing running from Flash, \nART enable (Cache ON Prefetch OFF), VDD = 3.3 V , Table 36: Current \nconsumption in Run and Low-power run modes, code with data \nprocessing running from SRAM1, VDD = 3.3 V , Table 37: Typical current \nconsumption in Run and Low-power run modes, with different codes \nrunning from Flash, ART enable (Cac he ON Prefetch OFF), VDD= 3.3 V , \nTable 38: Typical current consumption in Run and Low-power run modes, with different codes running from SRAM1, VDD = 3.3 V , Table 39: \nCurrent consumption in Sleep and Low-power sleep modes, Flash \nmemory ON , Table 40: Current consumption in Low-power sleep modes, \nFlash memory in Power down , Table 41: Current consumption in Stop 2 \nmode , Table 42: Current consum ption in Stop 1 mode , Table 43: Current \nconsumption in Stop 0 mode , Table 44: Current consumption in Standby \nmode , Table 45: Current consum ption in Shutdown mode , Table 46: \nCurrent consumption in VBAT mode , Table 47: Current under Reset \ncondition , Table 48: Peripheral current consumption , Table 49: Low-\npower mode wakeup timings , Table 50: Regulator modes transition times , \nTable 51: Wakeup time using LPUART , Table 53: HSE clock source \nrequirements  and added footnote to it, Table 61: LSI2 oscillator \ncharacteristics , Table 63: Flash memory characteristics , Table 65: EMS \ncharacteristics , Table 67: ESD absolute maximum ratings , Table 69: I/O \ncurrent injection susceptibility , Table 70: I/O static characteristics  and its \nfootnotes, Table 71: Output voltage characteristics , Table 72: I/O AC \ncharacteristics  and its footnotes 1 and 2, Table 73: NRST pin \ncharacteristics , Table 77: ADC accuracy - Li mited test conditions 1 , \nTable 78: ADC accuracy - Limited test conditions 2 , Table 79: ADC \naccuracy - Limited test conditions 3 , Table 80: ADC accuracy - Limited \ntest conditions 4 , Table 82: COMP characteristics , Table 90: I2C analog \nfilter characteristics , Table 91: SPI characteristics , Table 92: Quad-SPI \ncharacteristics in SDR mode , Table 93: Quad-SPI characteristics in DDR \nmode  and Table 94: SAI characteristics .Table 107. Document revision history (continued)\nDate Revision Changes\nRevision history STM32WB55xx   STM32WB35xx\n190/196 DS11929 Rev 1408-Oct-20183\n(cont’d)Updated Figure 2: STM32WB55xx RF front-end block diagram , \nFigure 14: Power supply scheme (all packages except UFBGA129) , \nFigure 18: Typical energy detection (T = 27°C, VDD = 3.3 V)  and \nFigure 25: I/O input characteristics .\nAdded Figure 5: Power-up/down sequence , Figure 17: Typical link quality \nindicator code vs. Rx level  and Figure 18: Typical energy detection (T = \n27°C, VDD = 3.3 V) .\nAdded Table 24: RF transmitter BL E characteristics (1 Mbps) , Table 25: \nRF transmitter BLE characteristics (2 Mbps) , Table 27: RF receiver BLE \ncharacteristics (2 Mbps) , Table 52: HSE crystal requirements  and \nTable 89: Minimum I2CCLK frequency in all I2C modes .\nAdded Device marking for UFQFPN48 .\nRemoved former Figure 22: I/O AC characteristics definition(1) and \nFigure 27: SMPS efficiency - VDDSMPS = 3.6 V .\n20-Feb-2019 4Updated document title.\nProduct status moved to Production data.Introduced BGA129 package, henc e updated image on cover page, \nTable 16: STM32WB55xx pin and ball definitions  and Section 8: Ordering \ninformation , and added Figure 11: STM32WB55Vx UFBGA129 ballout\n(1) \nand Section 7.1: UFBGA129 package information .\nUpdated Features , Section 3.3.4: Embedded SRAM , Section 3.17: Touch \nsensing controller (TSC)  and Section 3.24: Low-power universal \nasynchronous receiver transmitter (LPUART) .\nAdded Section 6.3.28: Clock recovery system (CRS) .\nAdded Table 76: ADC sampling time .\nRemoved former Table 75: Maximum ADC RAIN  and Table 84: SMPS \nstep-down converter characteristics .\nUpdated captions of figures 8, 9 and 10.\nUpdated Figure 43: VFQFPN68 recommended footprint .Table 107. Document revision history (continued)\nDate Revision Changes\nDS11929 Rev 14 191/196STM32WB55xx   STM32WB35xx Revision history\n19520-Feb-20194\n(cont’d)Updated Table 2: STM32WB55xx devices features and peripheral \ncounts , Table 8: STM32WB55xx modes overview  and its footnotes, \nTable 21: Main performance at VDD = 3.3 V , Table 22: General operating \nconditions , Table 23: RF transmitter BLE characteristics , Table 24: RF \ntransmitter BLE characteristics (1 Mbps) , Table 25: RF transmitter BLE \ncharacteristics (2 Mbps) , Table 26: RF receiver BLE characteristics (1 \nMbps) , Table 27: RF receiver BLE characteristics (2 Mbps) , Table 28: RF \nBLE power consumption for VDD = 3.3 V , Table 29: RF transmitter \n802.15.4 characteristics , Table 31: RF 802.15.4 power consumption for \nVDD = 3.3 V , Table 35: Current consumptio n in Run and Low-power run \nmodes, code with data processing running from Flash, ART enable \n(Cache ON Prefetch OFF), VDD = 3.3 V , Table 36: Current consumption \nin Run and Low-power run modes, code with data processing running \nfrom SRAM1, VDD = 3.3 V , Table 37: Typical current  consumption in Run \nand Low-power run modes, with differ ent codes running from Flash, ART \nenable (Cache ON Prefetch OFF), VDD= 3.3 V , Table 38: Typical current \nconsumption in Run and Low-power run modes, with different codes \nrunning from SRAM1, VDD = 3.3 V , Table 39: Current consumption in \nSleep and Low-power sleep modes, Flash memory ON , Table 40: Current \nconsumption in Low-power sleep modes, Flash memory in Power down , \nTable 41: Current consum ption in Stop 2 mode , Table 42: Current \nconsumption in Stop 1 mode , Table 43: Current consumption in Stop 0 \nmode , Table 44: Current consum ption in Standby mode , Table 45: \nCurrent consumption in Shutdown mode , Table 46: Current consumption \nin VBAT mode , Table 47: Current under Reset condition , Table 48: \nPeripheral current consumption  and its footnotes, Table 49: Low-power \nmode wakeup timings , Table 50: Regulator modes transition times  and its \nfootnote 1, Table 65: EMS characteristics , Table 66: EMI characteristics , \nTable 67: ESD absolute maximum ratings , Table 69: I/O current injection \nsusceptibility , Table 75: ADC characteristics , Table 77: ADC accuracy - \nLimited test conditions 1 , Table 78: ADC accuracy - Limited test \nconditions 2 , Table 79: ADC accuracy - Limited test conditions 3 , \nTable 80: ADC accuracy - Limited test conditions 4  and Table 104: \nPackage thermal characteristics .\n04-Oct-2019 5Updated Features , Section 2: Description , Section 6.1.6: Power supply \nscheme , Section 6.2: Absolu te maximum ratings  and Section 7.2: \nWLCSP100 package information .\nUpdated Table 6: Power supply typical components , Table 7: Features \nover all modes , Table 11: Temperature sensor calibration values , \nTable 16: STM32WB55xx pin and ball definitions , Table 17: Alternate \nfunctions , Table 21: Main performance at VDD = 3.3 V , Table 26: RF \nreceiver BLE characteristics (1 Mbps) , Table 34: Embedded internal \nvoltage reference , Table 62: PLL, PLLSAI1 characteristics  and Table 67: \nESD absolute maximum ratings .\nUpdated Figure 6: Power supply overview  and Figure 33: Quad-SPI \ntiming diagram - DDR mode .\nAdded Figure 15: Power supply scheme (UFBGA129 package)  and \nFigure 21: Low-speed external clock source AC timing diagram .\nAdded Table 56: Low-speed external user clock characteristics – Bypass \nmode .Table 107. Document revision history (continued)\nDate Revision Changes\nRevision history STM32WB55xx   STM32WB35xx\n192/196 DS11929 Rev 1419-Feb-2020 6Updated Features , Section 2: Description , I/O system current \nconsumption , Section 3.17: Touch sensing controller (TSC) , Section 7.1: \nUFBGA129 package information , Section 7.2: WLCSP100 package \ninformation , Section 7.3: VFQFPN68 package information , Section 7.4: \nUFQFPN48 package information , Section 7.5: Thermal characteristics  \nand Section 8: Ordering information .\nAdded JTAG/SWD interface characteristics , Device marking for \nUFBGA129 , Device marking for WLCSP100  and Device marking for \nVFQFPN68 .\nUpdated Table 2: STM32WB55xx devices features and peripheral \ncounts , Table 7: Features over all modes , Table 16: STM32WB55xx pin \nand ball definitions , Table 17: Alternate functions , Table 18: Voltage \ncharacteristics , Table 22: General operating conditions , Table 26: RF \nreceiver BLE characteristics (1 Mbps) , Table 27: RF receiver BLE \ncharacteristics (2 Mbps) , Table 30: RF receiver 802.15.4 characteristics , \nTable 47: Current under Reset condition , Table 61: LSI2 oscillator \ncharacteristics  and Table 104: Package thermal characteristics .\nAdded footnote 5 to Table 15: Legend/abbreviati ons used in the pinout \ntable .\nUpdated Figure 2: STM32WB55xx RF front-end block diagram , Figure 6: \nPower supply overview , Figure 7: Clock tree , Figure 11: STM32WB55Vx \nUFBGA129 ballout(1), Figure 14: Power supply scheme (all packages \nexcept UFBGA129) , Figure 36: UFBGA129 package outline  and \nFigure 47: UFQFPN48 marking example (package top view) .\n10-Apr-2020 7Updated Section 3.6.5: Typical RF application schematic  and \nSection 6.3.10: External cl ock source characteristics .\nUpdated Table 16: STM32WB55xx pin and ball definitions  and Table 54: \nHSE crystal requirements .\nUpdated Figure 11: STM32WB55Vx UFBGA129 ballout(1) and Figure 14: \nPower supply scheme (all packages except UFBGA129) .\nMinor text edits across the whole document.\n17-Jun-2020 8Introduced STM32WB55VY.\nUpdated Section 3.3.4: Embedded SRAM , Section 3.4: Security and \nsafety , Section 3.14: Analog to digital converter (ADC) , Section 6.3.10: \nExternal clock source characteristics  and Section 8: Ordering \ninformation .\nUpdated Table 1: Device summary , Table 2: STM32WB55xx and \nSTM32WB35xx devices features and peripheral counts , Table 26: RF \ntransmitter Bluetooth Low Energy characteristics (1 Mbps) , Table 27: RF \ntransmitter Bluetooth Low Energy characteristics (2 Mbps) , Table 65: \nFlash memory characteristics  and Table 77: ADC characteristics .\nUpdated Figure 10: STM32WB55Cx and STM32WB35Cx UFQFPN48 \npinout(1)(2), Figure 11: STM32WB55Rx VFQFPN68 pinout(1)(2) and \nFigure 17: Power supply scheme (UFBGA129 and WLCSP100 \npackages) .\nUpdated footnote 5 of Table 15: Legend/abbreviations used in the pinout \ntable  and footnote 8 of Table 16: STM32WB55xx pin and ball definitions .\nAdded footnote 3 to Table 16 , footnote 2 to Figure 16 , footnote 1 to \nTable 86  and footnotes to tables 23, 30 and 33.\nAdded Table 55: HSE clock source requirements .Table 107. Document revision history (continued)\nDate Revision Changes\nDS11929 Rev 14 193/196STM32WB55xx   STM32WB35xx Revision history\n19502-Jul-2020 9Added STM32WB35xx devices.\nUpdated Section 2: Description , Section 3.3.4: Embedded SRAM  and\nSection 8: Ordering information .\nUpdated Table 1: Device summary , Table 2: STM32WB55xx and \nSTM32WB35xx devices features and peripheral counts , Table 7: \nFeatures over all modes  and Table 106: Package thermal characteristics .\nAdded Table 17: STM32WB35xx pin and ball definitions  and Table 19: \nAlternate functions (STM32WB35xx) .\nAdded Figure 2: STM32WB35xx block diagram , Figure 8: \nSTM32WB35xx - Power supply overview  and Figure 50: STM32WB35xx \nUFQFPN48 marking example (package top view) ,\nUpdated Figure 1: STM32WB55xx block diagram , Figure 4: External \ncomponents for the RF part , Figure 16: Power supply scheme (all \npackages except UFBGA129 and WLCSP100) , Figure 17: Power supply \nscheme (UFBGA129 and WLCSP100 packages)  and added footnote to \nFigure 9: Clock tree .\nAdded footnote 1 to Table 8: STM32WB55xx and STM32WB35xx modes \noverview .\n23-Nov-2020 10Updated Features , Section 3.15: Voltage re ference buffer (VREFBUF)  \nand Section 3.28.2: Embedded Trace Macrocell™ .\nUpdated Table 9: STM32WB55xx and STM32WB35xx CPU1 peripherals \ninterconnect matrix , Table 17: STM32WB35xx pin and ball definitions , \nTable 26: RF transmitter Bluetooth Low Energy characteristics (1 Mbps) , \nTable 27: RF transmitter Bluetooth Low Energy characteristics (2 Mbps) , \nTable 31: RF transmitter 802.15.4 characteristics , Table 50: Peripheral \ncurrent consumption , Table 54: HSE crystal requirements , Table 55: HSE \nclock source requirements , footnote 2 of Table 57: Low-speed external \nuser clock characteristics  and Table 86: VBAT monitoring characteristics .\nAdded footnote 2 to Table 24 , footnote 2 to Table 26  and footnote 2 to \nTable 27 .\nUpdated Figure 9: Clock tree  and Figure 13: STM32W B55Vx UFBGA129 \nballout(1).\nMinor text edits across the whole document.Table 107. Document revision history (continued)\nDate Revision Changes\nRevision history STM32WB55xx   STM32WB35xx\n194/196 DS11929 Rev 1407-Apr-2021 11Updated document title, Features , Section 1: Introduction , Section 2: \nDescription , Section 3.3.4: Embedded SRAM , Section 3.6: RF \nsubsystem , Section 3.6.2: Bluetooth Low Energy general description  and \nSection 6.1.2: Typical values , Section 6.3.10: External clock source \ncharacteristics .\nUpdated Table 2: STM32WB55xx and STM32WB35xx devices features \nand peripheral counts , Table 16: STM32WB55xx pin and ball definitions , \nTable 17: STM32WB35xx pin and ball definitions , Table 18: Alternate \nfunctions (STM32WB55xx) , Table 19: Alternate functions \n(STM32WB35xx) , Table 23: Main performance at VDD = 3.3 V , Table 50: \nPeripheral current consumption , Table 53: Wakeup time using \nUSART/LPUART  and Table 55: HSE clock source requirements .\nUpdated Figure 3: STM32WB55xx and STM32WB35xx RF front-end \nblock diagram , Figure 9: Clock tree , Figure 16: Power supply scheme (all \npackages except UFBGA129 and WLCSP100) , Figure 17: Power supply \nscheme (UFBGA129 and WLCSP100 packages)  and Figure 29: ADC \naccuracy characteristics .\nRemoved former footnote 3 from Table 83: VREFBUF characteristics .\n11-Jan-2022 12Updated Features , Section 3.6.2: Bluetooth Low Energy general \ndescription , Section 3.10: Clocks and startup  and Section 7.5: Thermal \ncharacteristics .\nUpdated Figure 7: STM32WB55xx - Power supply overview , Figure 29: \nADC accuracy characteristics , Figure 30: Typical connection diagram \nusing the ADC  and its footnotes, Figure 41: WLCSP100 outline  and its \nfootnotes, Figure 42: WLCSP100 recommended footprint  and Figure 49: \nSTM32WB55xx UFQFPN48 marking example (package top view) .\nUpdated Table 24: General operating conditions , Table 26: RF transmitter \nBluetooth Low Energy characteristics (1 Mbps) , Table 27: RF transmitter \nBluetooth Low Energy characteristics (2 Mbps) , Table 83: VREFBUF \ncharacteristics , Table 101: UFBGA129 recommended PCB design rules , \nTable 102: WLCSP100 mechanical data  and Table 103: WLCSP100 - \nRecommended PCB design rules .\nMinor text edits across the whole document.\n07-Jun-2022 13Updated document title, Features , Section 2: Description , Section 3.6: \nRF subsystem , Section 3.6.2: Bluetooth Lo w Energy general description , \nand Section 6.3.25: SMPS step-down converter characteristics .\nUpdated footnote 2 of Table 23: Main performance at VDD = 3.3 V , \nfootnotes of Table 54: HSE crystal requirements , and added footnote to \nTable 56: HSE oscillator characteristics .\nUpdated Table 68: EMI characteristics for fHSE / fCPUM4, fCPUM0 = 32 \nMHz / 64 MHz, 32 MHz , Table 72: I/O static characteristics  and its \nfootnote 7.\nUpdated Figure 31: SPI timing diagram - Slave mode and CPHA = 0 , \nFigure 32: SPI timing diagram - Slave mode and CPHA = 1 , Figure 40: \nUFBGA129 marking example (package top view) , Figure 43: WLCSP100 \nmarking example (package top view) , and Figure 46: VFQFPN68 \nmarking example (package top view) .\nAdded Section 9: Important security notice .\nMinor text edits across the whole document.Table 107. Document revision history (continued)\nDate Revision Changes\nDS11929 Rev 14 195/196STM32WB55xx   STM32WB35xx Revision history\n195          12-Aug-2022 14Updated Features .\nAdded footnote 9 to Table 72: I/O static characteristics .\nMinor text edits across the whole document.Table 107. Document revision history (continued)\nDate Revision Changes\nSTM32WB55xx   STM32WB35xx\n196/196 DS11929 Rev 14IMPORTANT NOTICE – PLEASE READ CAREFULLY\nSTMicroelectronics NV and its subsidiaries (“ST”) reserve the right to make changes, corrections, enhancements, modifications, and \nimprovements to ST products and/or to this document at any time without notice. Purchasers should obtain the latest relevant in formation on \nST products before placing orders. ST products are sold pursuant to ST’s terms and conditions of sale in place at the time of o rder \nacknowledgement.\nPurchasers are solely responsible for the choice, selection, and use of ST products and ST assumes no liability for application  assistance or \nthe design of Purchasers’ products.\nNo license, express or implied, to any intellectual property right is granted by ST herein.\nResale of ST products with provisions different from the information set forth herein shall void any warranty granted by ST for  such product.\nST and the ST logo are trademarks of ST. For additional information about ST trademarks, please refer to www.st.com/trademarks . All other \nproduct or service names are the property of their respective owners.\nInformation in this document supersedes and replaces information previously supplied in any prior versions of this document.\n© 2022 STMicroelectronics – All rights reserved\n'}]
!==============================================================================!
### Component Summary: STM32WB55CGU6

**Key Characteristics and Specifications:**

- **Voltage Ratings:**
  - Operating Voltage: 1.71 to 3.6 V
  - USB Supply Voltage: 3.0 to 3.6 V
  - VBAT (Backup Voltage): 1.55 to 3.6 V

- **Current Ratings:**
  - Supply Current in Run Mode (64 MHz): 5 mA (typical)
  - Supply Current in Low-Power Run Mode (2 MHz): 320 µA (typical)
  - Shutdown Mode Current: 0.028 µA (typical)

- **Power Consumption:**
  - Active Mode: < 53 µA/MHz
  - Radio RX: 4.5 mA
  - Radio TX (0 dBm): 5.2 mA

- **Operating Temperature Range:**
  - -40 °C to +105 °C (junction temperature)

- **Package Type:**
  - Available in multiple packages: UFQFPN48, VFQFPN68, WLCSP100, UFBGA129

- **Special Features:**
  - Integrated Bluetooth® 5.3 and IEEE 802.15.4 radio
  - Ultra-low-power consumption modes
  - High-performance Arm® Cortex®-M4 core with FPU
  - Dedicated Arm® Cortex®-M0+ for real-time radio processing
  - Security features including AES encryption and true random number generator (RNG)
  - Up to 1 MB Flash memory and 256 KB SRAM

- **Moisture Sensitive Level (MSL):**
  - MSL Level: 3 (according to JEDEC J-STD-020E)

**Description:**
The STM32WB55CGU6 is a multiprotocol wireless microcontroller (MCU) based on the Arm® Cortex®-M4 architecture, featuring a floating-point unit (FPU). It integrates Bluetooth® 5.3 and IEEE 802.15.4 radio capabilities, making it suitable for various wireless applications. The device is designed for ultra-low-power operation, with multiple power-saving modes, making it ideal for battery-operated devices.

**Typical Applications:**
- **Wireless Communication:** Ideal for IoT applications requiring Bluetooth® and 802.15.4 connectivity, such as smart home devices, wearables, and industrial automation.
- **Sensor Networks:** Used in applications that require real-time data processing and communication, such as environmental monitoring and health tracking.
- **Low-Power Devices:** Suitable for applications where power efficiency is critical, such as remote sensors and battery-powered devices.
- **Embedded Systems:** Can be utilized in various embedded applications requiring high processing power and low energy consumption.

This MCU is particularly advantageous for developers looking to implement advanced wireless communication protocols while maintaining low power consumption and high performance.