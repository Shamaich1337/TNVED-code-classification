[{'role': 'system', 'content': 'You are a technical specialist with expertise in electronics. Your task is to analyze datasheets for electronic components and provide a concise summary of the product’s key characteristics and specifications. In addition, you need to gather textual information about the component, including its description and typical applications.Instructions:    Identify the correct component in the datasheet using the provided product code.    Summarize key parameters, including:        Voltage ratings        Current ratings        Power consumption        Operating temperature range        Package type        Special features or notes (if applicable)        Moisture Sensetive Level JEDEC J-STD-020E    Provide a short description of the component, including what it is (e.g., transistor, microcontroller, sensor) and its primary function.    Explain typical applications for the component (e.g., power management, signal processing, data storage, etc.).    Be thorough and accurate: Ensure the information corresponds specifically to the product code, as some datasheets cover multiple variants.Your goal is to create a clear and accurate technical summary that includes both key specifications and a description of what the component is used for.'}, {'role': 'user', 'content': "Give me information about the component of GMAX4002-AVC-NCV-AUD production of GPIXEL from the text: \n \n \n \n \n GMAX4002   \n2.4MP  Global Shutter CMOS Image Sensor  \n \n \n \n \n \n \n \n \n \nPre Datasheet V 0.2.1 \n\nGPIXEL  \n \n2.4MP  Global Shutter CMOS Image Sensor                                    GMAX4002  \n1 \nConfidential  Features  \n\uf06c Resolution : 2048 (H) x 1200 (V) \n\uf06c 4 \uf06dm square pixels  \n\uf06c Optical Format: 1/1.7 ’’ \n\uf06c Electronic global shutter  \n\uf06c High speed and good PLS \n\uf06c External triggering  \n\uf06c Function s: \n\uf0d8 Vertical sub -sampling  \n\uf0d8 Vertical/Horizontal image flipping  \n\uf0d8 Vertical ROI with speed boosting  \n\uf06c PGA  gain: x0.8 - x3.8, step of x 0.2 \n\uf06c Digital gain: x2 - x15.5   \n\uf06c 10/12 bit ADC depth  \n\uf06c Optional output channel:  \n\uf0d8 Sub-LVDS  \n\uf0d8 MIPI(CSI -2, D-PHY)  \n\uf06c On chip sequencer  \n\uf06c I2C control  \n\uf06c One Time Programmable(OTP) Memory  \nApplications  \n\uf06c Machine Vision  \n\uf06c Logistics Bar Code Readers  \n\uf06c Intelligent Traffic System (ITS)  \nDescription  \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n Specifications   \nParameter  Value  \nPhotosensitive area  8.2 mm x 4.8 mm \nPixel size  4 \uf06dm x 4 \uf06dm \nNumber of active pixels  2048  (H) x 1200  (V) Effective  \n2080  (H) x 1216  (V) Readable  \nFull well capacity(FWC)  12.0k e- @ 12 -bit, PGA gain x1.0  \nTemporal noise  2.3 e- @ 12 -bit, PGA gain x 3.8 \nDynamic range  68.5 dB @ 12 -bit, PGA gain x1.0  \nPeak QE  72% @550 nm ;  \n37% @850 nm  \nParasitic light sensitivity  < - 92 dB (angular dependence)  \nAngular Response  > 15 ° (80% response)  \nImage Lag  T.B.D.  \nDark Current  \n(60 oC die temperature)  T.B.D. \nInput clock rate  20 – 62.5 MHz    \nMax. Frame rate  195 fps @Sub-LVDS 12bit  \n229 fps @Sub-LVDS 10bit  \n166 fps @MIPI  10bit  \nData rate  Max. 800Mbps  per channel  @sub -\nLVDS  \nMax. 1.2G bps per lane @MIPI  \nSupply voltage  3.3V for analog  \n1.8V  - 3.3V for IO  \n1.2V for digital  \nOutput format  8 pairs of Sub -LVDS data output  \n1 pair of Sub -LVDS  clock output  \nor \n4 lane s of MIPI data output  \n1 lane  of MIPI clock output  \nChannel Multiplexing  8/4/2/1 @ Sub -LVDS  \n4/2/1 @ MIPI  \nPower consumption  < 0.5 W \nChroma  Bayer RGB or Mono  \nPackage  LCC 74 pins \nGPIXEL  \n \n2.4MP  Global Shutter CMOS Image Sensor                                    GMAX4002  \n2 \nConfidential  Revision History  \nVersion  Date (dd/mm/yyyy)  Comment  \nV0.0 18/07/2022 First release  \nV0.1  19/07/2022  1. Update the Optical Format from 2/3” to 1/1.7” of Features ; \n2. Update the MIPI Data rate from 960M to 1.2G of Applications ; \nV0.1.1  28/07/2022  1. Update the For More Information  due to the office address change.  \nV0.2 4/11/2022  1. Update the product specifications of Specifications  part. \n2. Update the  Figure 1 Package outline  and a dd the notes under the Figure 1 \nPackage outline . \n3. Delete VDDPIX and VDDDPHY related  information . \n4. Delete SPI related  information . \n5. Update Power O n/Off Sequence  and Reset Sequence . \n6. Add minimum exposure mode.  \n7. Change description of EB to Dummy.  \n8. Update section Digital Gain . \n9. Update the Blemish Specification  part.  \n10. Update the Product  Ordering Information  part.  \nV0.2 .1 10/11 /2022  1. Update the typo in Figure 12 and Figure 14. \n  \nGPIXEL  \n \n2.4MP  Global Shutter CMOS Image Sensor                                    GMAX4002  \n3 \nConfidential  Absolute Maximum Rating s \nItem  Symbol  Rating  Unit  Remarks  \nSupply Voltage (Analog 3.3V)  VDDA  -0.3 to 4.0 V  \nSupply Voltage (Interface 1.8V to 3.3V)  VDDIO  -0.3 to 4.0 V  \nSupply Voltage (Digital 1. 2V) VDD D -0.3 to 1.7 V  \nInput Voltage  VI -0.3 to VDDIO+0.3  V Not exceed 4.0V \nOutput Voltage  VO -0.3 to VDDIO+0.3  V Not exceed  4.0V \nOperation Temperature  Topr  T.B.D.  ⁰C Junction temperature  \nStorage Temperature  Tstg T.B.D.  ⁰C Environment temperature  \n \n  \nGPIXEL  \n \n2.4MP  Global Shutter CMOS Image Sensor                                    GMAX4002  \n4 \nConfidential  Content  \nFeatures  ................................ ................................ ................................ ................................ ................................ .......  1 \nApplications  ................................ ................................ ................................ ................................ ................................ . 1 \nDescription  ................................ ................................ ................................ ................................ ................................ ... 1 \nSpecifications  ................................ ................................ ................................ ................................ ...............................  1 \nRevision History  ................................ ................................ ................................ ................................ ...........................  2 \nAbsolute Maximum Ratings  ................................ ................................ ................................ ................................ .........  3 \nContent  ................................ ................................ ................................ ................................ ................................ ........  4 \nPackage Outline  ................................ ................................ ................................ ................................ ...........................  6 \nOptical Center & Temperature Sensor  ................................ ................................ ................................ .........................  7 \nPixel Arrangement  ................................ ................................ ................................ ................................ .......................  8 \nBayer pattern arrangement on pixel array  ................................ ................................ ................................ ...................  9 \nInternal Block Diagram and Pin Configuration  ................................ ................................ ................................ ...........  10 \nInternal Block Diagram  ................................ ................................ ................................ ................................ .......  10 \nPin Description  ................................ ................................ ................................ ................................ ...................  11 \nElectrical Characteristics  ................................ ................................ ................................ ................................ ............  13 \nDC Characteristics  ................................ ................................ ................................ ................................ ..............  13 \nAC Characteristics  ................................ ................................ ................................ ................................ ..............  14 \nPower Consumption  ................................ ................................ ................................ ................................ ..........  16 \nImage Sensor Characteristics  ................................ ................................ ................................ ................................ ..... 17 \nImage Sensor Characteristics Measurement Method  ................................ ................................ ...............................  18 \nRegister Map  ................................ ................................ ................................ ................................ ..............................  19 \nDriving the Sensor  ................................ ................................ ................................ ................................ ......................  23 \nSensor Setting Flow  ................................ ................................ ................................ ................................ ...........  23 \nPeriphery Connections  ................................ ................................ ................................ ................................ .......  24 \nAnalog Power Connections  ................................ ................................ ................................ ........................  24 \nDigital Power Connections  ................................ ................................ ................................ .........................  25 \nArray Supply Connections  ................................ ................................ ................................ ..........................  26 \nBias Pin Connections  ................................ ................................ ................................ ................................ .. 27 \nDigital I/O and Clock inputs  ................................ ................................ ................................ .......................  27 \nData Outputs  ................................ ................................ ................................ ................................ ..............  28 \nPower On/Off Sequence  ................................ ................................ ................................ ................................ .... 29 \nSensor Configuration  ................................ ................................ ................................ ................................ .........  31 \nLine Time  ................................ ................................ ................................ ................................ ....................  31 \nSub-Sampling  ................................ ................................ ................................ ................................ .............  31 \nWindowing  ................................ ................................ ................................ ................................ .................  32 \nFrame Number and Exposure Setting  ................................ ................................ ................................ ........  35 \nClock System  ................................ ................................ ................................ ................................ ......................  36 \nReset Sequence  ................................ ................................ ................................ ................................ ..................  37 \nRegister Communication Timing  ................................ ................................ ................................ ........................  39 \nI2C Communication Operation  ................................ ................................ ................................ ...................  39 \nSynchronization of Registers  ................................ ................................ ................................ ..............................  41 \nGPIXEL  \n \n2.4MP  Global Shutter CMOS Image Sensor                                    GMAX4002  \n5 \nConfidential  Requesting Frames  ................................ ................................ ................................ ................................ .............  43 \nInternal Exposure Control  ................................ ................................ ................................ ..........................  43 \nExternal Exposure Control  ................................ ................................ ................................ .........................  45 \nExposure Delay  ................................ ................................ ................................ ................................ ..................  46 \nExposure Start Delay  ................................ ................................ ................................ ................................ .. 46 \nExposure End Delay ................................ ................................ ................................ ................................ .... 46 \nExposure Time Calculation  ................................ ................................ ................................ ................................ . 47 \nFrame Rate Calculation  ................................ ................................ ................................ ................................ ...... 48 \nReading Out The Sensor  ................................ ................................ ................................ ................................ ............  49 \nSub-LVDS Output  ................................ ................................ ................................ ................................ ................  49 \nData Interface Training  ................................ ................................ ................................ ...............................  49 \nSYNC Code  ................................ ................................ ................................ ................................ ..................  50 \nImage Data Output Format  ................................ ................................ ................................ ........................  52 \nChannel Multiplexing  ................................ ................................ ................................ ................................ . 52 \nMIPI Serial Output  ................................ ................................ ................................ ................................ .............  53 \nImage Data Output Format  ................................ ................................ ................................ ........................  53 \nDescription of Various Functions  ................................ ................................ ................................ ...............................  56 \nMinimum Exposure  ................................ ................................ ................................ ................................ ............  56 \nPins for Status Monitoring  ................................ ................................ ................................ ................................ . 56 \nGain Adjustment  ................................ ................................ ................................ ................................ ................  57 \nDigital Gain  ................................ ................................ ................................ ................................ .................  57 \nPGA Gain  ................................ ................................ ................................ ................................ ....................  58 \nImage Flipping  ................................ ................................ ................................ ................................ ....................  59 \nHorizontal  ................................ ................................ ................................ ................................ ...................  59 \nVertical  ................................ ................................ ................................ ................................ .......................  60 \nBlack Level ................................ ................................ ................................ ................................ ..........................  61 \nTest Image  ................................ ................................ ................................ ................................ ..........................  62 \nBinning Mode  ................................ ................................ ................................ ................................ .....................  63 \nTemperature Readout  ................................ ................................ ................................ ................................ ........  64 \nOTP Memory Readout  ................................ ................................ ................................ ................................ .......  65 \nOTP Data Description  ................................ ................................ ................................ ................................ .........  66 \nBlemish Specification  ................................ ................................ ................................ ................................ .................  67 \nTest images  ................................ ................................ ................................ ................................ ........................  67 \nDefect definitions  ................................ ................................ ................................ ................................ ...............  68 \nDefect limits  ................................ ................................ ................................ ................................ .......................  68 \nStorage Condition, Handling and Soldering  ................................ ................................ ................................ ...............  69 \nProduct Ordering Information  ................................ ................................ ................................ ................................ ... 70 \nPacking and Tray Specification  ................................ ................................ ................................ ................................ ... 71 \nRights  ................................ ................................ ................................ ................................ ................................ .........  72 \nFor More Information  ................................ ................................ ................................ ................................ ................  73 \nGPIXEL  \n \n2.4MP  Global Shutter CMOS Image Sensor                                                                       GMAX4002  \n6 \nConfidential  Package Outline  \n \nFigure 1 Package outline  \nNote:  \n1. The package center is defined as coordinate (0,0) in the figure, the optical center is located at ( -0.16±0.10mm,0.48±0.10mm).  \n2. The package has a die  placement tolerance spec of ±0.10mm. The die rotation spec is ±0.3°. The die tilt spec is ±0.1°.  \n3. The distance from the top layer surface of the ceramic package to top of the die (effective  photosensitive surface) is 0. 45±0.155mm.  \n4. For thermal resistance  calculation , ceramic thermal conductive coefficient is 14W/(mK), die attach surface to back of ceramic distance is 0.50 ±0.05mm, Die size refer to  \nFigure 2. \n5. Package thermal expansion  coefficient is 7.1x10-6/K, from room temperature to 400 ⁰C. \nGPIXEL  \n \n2.4MP  Global Shutter CMOS Image Sensor                 GMAX4002  \n7 \nConfidential  Optical Center  & Temperature Sensor  \n \nUnit : umChip Center ( 0.000 , 0.000 )   \nOptical Center ( -160 , 480 )Chip Area\nOptical Area\nChip Center\nOptical Center\nDummy Pixel Area\n470 4800 1430Pixel (0,0)\nPixel (2079 ,1215 )\n5340\n110001564 8192 12446700\n38306432643232\n646432Pixel Marker\n250\n713127\n143DTS\nPIN - 54 PIN - 74118214001502\n440\n69.625202.8973.46573.435\n \nFigure 2 Optical c enter (top view)  \nNote: Figure 2 Optical center is with reference to Chip (silicon die) center, for camera mechanic design , please \nrefer to  Figure 1 for optical center with reference to sensor package.  \nGPIXEL  \n \n2.4MP  Global Shutter CMOS Image Sensor                 GMAX4002  \n8 \nConfidential  Pixel Arrangement  \n20802048\n12161200Effective pixels : 2048 (H) x 1200 (V)\nReadable pixels : 2080 (H) x 1216 (V)\nUser defined region : 2080 (H) x 1212 (V)\n164\nMarginMargin\nMarginMargin\nThe first pixel (0,0)\nPin- 74 Pin- 54G\nG BR16\n8 4Dummy1212\n \nFigure 3 Pixel arrangement  in physical (top view)  \n \n  \nGPIXEL  \n \n2.4MP  Global Shutter CMOS Image Sensor                 GMAX4002  \n9 \nConfidential  Bayer pattern  arrangement  on pixel array  \nB GReadable Pixel Array\n(2080 x 1216 )\nPixel (0,0)Pin- 74G RB GG R\nB GG RB GG R\n \nFigure 4 Bayer pattern on top of pixel array (top view)  \n \nGPIXEL  \n \n2.4MP  Global Shutter CMOS Image Sensor                 GMAX4002  \n10 \nConfidential  Internal Block Diagram  and Pin Configuration  \nInternal Block Diagram  \nPixel Array\nCDS/Column CircuitRow driverPMU\nBias\nCLK \nchannel x 8 Data channel MIPI /Sub-LVDSPLL SEQ\nTemp \nsensorI2C\n \nFigure 5 Block diagram  \n  \nGPIXEL  \n \n2.4MP  Global Shutter CMOS Image Sensor                 GMAX4002  \n11 \nConfidential  Pin Description  \nTable 1 Pin d escription  \nPin No.  I/O Symbol  Description  Type  \n1 GND  GNDD  Digital ground  Ground  \n2 Power  VDDD  Digital supply  Supply  \n3 I/O VCPNO  Internally generated pixel supply  Bias \n4 I/O VCPNI  Internally generated pixel supply  Bias \n5 I/O VGRSTL  Internally generated pixel supply  Bias \n6 I/O VTX2L  Internally generated pixel supply  Bias \n7 I/O VTX1L  Internally generated pixel supply  Bias \n8 GND  GNDA  Analog ground  Ground  \n9 I/O VTX2H  Internally generated pixel supply  Bias \n10 I/O VTX1H  Internally generated pixel supply  Bias \n11 I/O VGRSTH  Internally generated pixel supply  Bias \n12 I/O VCPPI  Internally generated pixel supply  Bias \n13 Power  VDDA  Analog supply  Supply  \n14 I/O VCPPO  Internally generated pixel supply  Bias \n15 GND  GNDA  Analog ground  Ground  \n16 Power  VDDA  Analog supply  Supply  \n17 GND  GNDD  Digital ground  Ground  \n18 Power  VDDD  Digital supply  Supply  \n19 Power  VDDA  Analog supply  Supply  \n20 Power  GNDD  Digital ground  Supply  \n21 I VDDIO  IO ring supply  Digital input  \n22 I TEXP  External trigger  Digital input  \n23 O TDIG  Digital test signal output  Digital output  \n24 I/O SDA I2C serial data line  Digital input/output  \n25 I SCL I2C serial clock line  Digital input  \n26 I SLAMODE  I2C slave address select  Digital input  \n27 GND  GNDA  Analog ground  Ground  \n28 Power  VDDIO  IO ring supply  Supply  \n29 I CLK_REF  PLL reference clock  Digital input  \n30 I SYS_RST_N  System reset signal  Digital input  \n31 Power  VDDA  Analog supply  Supply  \n32 GND  GNDA  Analog ground  Ground  \n33 Power  VDDA  Analog supply  Supply  \n34 Power  VDDD  Digital supply  Supply  \n35 GND  GNDD  Digital ground  Ground  \n36 O OUTN<7>  Data negative channel 7  Data output  \n37 O OUTP<7>  Data positive channel 7  Data output  \nGPIXEL  \n \n2.4MP  Global Shutter CMOS Image Sensor                 GMAX4002  \n12 \nConfidential  38 O OUTN<5>  Data negative channel 5  Data output  \n39 O OUTP<5>  Data positive channel 5  Data output  \n40 O OUTN<3>  Data negative channel 3  Data output  \n41 O OUTP<3>  Data positive channel 3  Data output  \n42 O OUTN<1>  Data negative channel 1  Data output  \n43 O OUTP<1>  Data positive channel 1  Data output  \n44 Power  VDDD  Digital supply  Supply  \n45 GND  GNDD  Digital ground  Ground  \n46 O CLKN_OUT  Clock negative output  Data output  \n47 O CLKP_OUT  Clock positive output  Data output  \n48 O OUTN<0>  Data negative channel 0  Data  output  \n49 O OUTP<0>  Data positive channel 0  Data output  \n50 O OUTN<2>  Data negative channel 2  Data output  \n51 O OUTP<2>  Data positive channel 2  Data output  \n52 O OUTN<4>  Data negative channel 4  Data output  \n53 O OUTP<4>  Data positive channel 4  Data output  \n54 Power  VDDD  Digital supply  Supply  \n55 O OUTN<6>  Data negative channel 6  Data output  \n56 O OUTP<6>  Data positive channel 6  Data output  \n57 Power  VDDD  Digital supply  Supply  \n58 GND  GNDD  Digital ground  Ground  \n59 Power  VDDD  Digital supply  Supply  \n60 GND  GNDD  Digital ground  Ground  \n61 GND  GNDA  Analog ground  Ground  \n62 Power  VDDD  Digital supply  Supply  \n63 GND  GNDD  Digital ground  Ground  \n64 Power  VDDA  Analog supply  Supply  \n65 GND  GNDA  Analog ground  Ground  \n66 Power  VDDD  Digital supply  Supply  \n67 GND  GNDD  Digital ground  Ground  \n68 O NC N/A Leave floating  \n69 I/O VREF  Internally generated voltage reference  Bias \n70 Power  VDDA  Analog supply  Supply  \n71 I/O RES_EXT_NODE_P  Connected to RES_EXT_NODE_N through a 12.4K Ω  \nresistor  Analog input/output  \n72 I/O RES_EXT_NODE_N  Connected to RES_EXT_NODE_P through a 12.4K Ω  \nresistor  Analog input/output  \n73 GND  GNDA  Analog ground  Ground  \n74 I/O VRS Internally generated voltage reference  Bias \n \n \n  \nGPIXEL  \n \n2.4MP  Global Shutter CMOS Image Sensor                 GMAX4002  \n13 \nConfidential  Electrical Characteristics  \nDC Characteristics  \nTable 2 DC c haracteristics  \nItem  Pins Symbol  Min.  Typ.  Max.  Unit  \nSupply voltage  Analog  VDDA   3.2 3.3 3.4 V \nDigital  VDDD   1.1 1.2 1.3 V \nVDDIO   1.7 1.8 3.3 V \nDigital Input  SLAMODE  \nSCL \nSDA \nCLK_REF  \nSYS_RST_N  \nTEXP VIH 0.8xVDDIO  VDDIO  VDDIO+0.3V  V \nVIL 0 0 0.3 V \nDigital Output  TDIG  VOH   VDDIO   V \nVOL  0  V \nSub-LVDS Output  CLKN_OUT  \nCLKP_OUT  \nOUTN<0:7>  \nOUTP<0:7>  VCM   0.9  V \nVOD  0.1 0.15 0.2 V \n \nNote:  \n1) The characterization results are measured with typical values of all supplies in the above table.  \n \n  \nGPIXEL  \n \n2.4MP  Global Shutter CMOS Image Sensor                 GMAX4002  \n14 \nConfidential  AC Characteristics  \n1. Digital input reference clock (CLK_REF) waveform diagram  \n0.8 x VDDIO\n0.5 x VDDIO\n0.2 x VDDIO1/fINCK\ntWP\ntPtCKR tCKF\n \nFigure 6 AC input reference clock  \nTable 3 AC characteristics for CLK_REF  \nItem  Symbol  Min.  Typ. Max.  Unit  Remarks  \nCLK_REF frequency  fINCK  20 40 62.5  MHz   \nCLK_REF rising edge  tCKR   5 ns Define with 0. 2 x VDDIO and 0.8 x VDDIO  \nCLK_REF falling edge  tCKF   5 ns Define with 0. 2 x VDDIO and 0.8 x VDDIO  \nCLK_REF duty  ratio   45 50 55 % Define with 0.5 x VDDIO  \n \n2. Digital input control signal waveform diagram  \n0.8 x VDDIO\n0.2 x VDDIOtIR tIF\n \nFigure 7 AC digital input control signal  \nTable 4 AC characteristics for digital input control signals  \nItem  Symbol  Min.  Typ. Max.  Unit  Remarks  \nControl signal rising edge  tIR — 3 5 ns Define with 0. 2 x VDDIO and 0.8 x VDDIO  \nControl signal falling edge  tIF — 3 5 ns Define with 0. 2 x VDDIO and 0.8 x VDDIO  \n \n3. Digital Output Signal waveform diagram  \n0.8 x VDDIO\n0.2 x VDDIOtOR tOF\n \nFigure 8 AC digital output control signal  \nGPIXEL  \n \n2.4MP  Global Shutter CMOS Image Sensor                 GMAX4002  \n15 \nConfidential  Table 5 AC characteristics for digital input control signal  \nItem  Symbol  Min.  Typ. Max.  Unit  Remarks  \nDigital output signal rising edge  tOR  0.9  ns Define with 0. 2 x VDDIO and 0.8 x VDDIO  \nSimulated with 15pF capacitance load  \nDigital output signal falling edge  tOF  0.9  ns Define with 0. 2 x VDDIO and 0.8 x VDDIO  \nSimulated with 15pF capacitance load  \n \nNote:  \n1) Output load capacitance < 18pF.  \n4. Sub-LVDS Driver Output  \nCLKN _OUTCLKP _OUT\nCLKP _OUT – \nCLKN _OUT\nOUTP\nOUTP – \nOUTNtsu\n thd\nOUTNVCM\nVOD\n \nFigure 9 Sub-LVDS driver output  \nTable 6 Sub-LVDS driver output  \nItem  Symbol  Min.  Typ.  Max.  Unit  Remarks  \nClock Duty Cycle   40 50 60 % DDR clock 40 0MHz  \nData setup time  tsu T.B.D.    ps Data rate  800Mbps  \nData hold time  thd T.B.D.    ps Data rate  800Mbps  \nDifferential voltage swing  VOD 100 150 200 mV  \nCommon mode voltage  VCM 0.8 0.9 1.0 V  \n \nNote:  \n1) The same AC characteristics applies for clock channel.  \n2) Output load capacitance < 8pF.   \nGPIXEL  \n \n2.4MP  Global Shutter CMOS Image Sensor                 GMAX4002  \n16 \nConfidential  Power Consumption  \nT.B.D.  \nGPIXEL  \n \n2.4MP  Global Shutter CMOS Image Sensor      GMAX4002  \n17 \nConfidential  Image Sensor Characteristics  \n \nT.B.D.  \nGPIXEL  \n \n2.4MP  Global Shutter CMOS Image Sensor      GMAX4002  \n18 \nConfidential  Image Sensor Characteristics Measurement Method  \n \nT.B.D.  \n \n  \nGPIXEL  \n \n2.4MP  Global Shutter CMOS Image Sensor      GMAX4002  \n19 \nConfidential  Register Map  \nTable 7 gives the default register setting after sensor power -on. The recommend register setting for GMAX4002  \nworking  would be given after testing . \nSome of the registers may need to be tuned based on  specific applications, i. e. the registers described in section \n‘Sensor Configuration ’ and ‘Description of Various Functions ’. These  registers can have digital setting bits separated \nin two or more neighbor bytes(Address). In this case, the grouping is always from high to low. For example, register \nDOFF  is 12-bit shown in  Table 36. Its digital bit from high to low  is 305C-Bit < 3:0> to 305B-Bit <7: 0>. \nTable 7 Default register map after sensor power -on \nAddress \n(hex)  Hex value  Address \n(hex)  Hex value  Address \n(hex)  Hex value  Address \n(hex)  Hex value  \n2E00  2 2E80  5 3034  1F 3302  0 \n2E01  0 2E81  32 3035  8 3303  0 \n2E02  0 2E82  28 3036  8 3304  0 \n2E03  7 2E83  FF 3037  20 3305  0 \n2E04  0 2E84  5 3038  8 3306  0 \n2E05  A 2E85  41 3039  0 3307  1 \n2E06  0 2E86  63 303A  1 3308  0 \n2E07  1 2E87  84 303B  1 3309  1 \n2E08  1 2E88  3 303C  1 330A  0 \n2E09  0 2E89  16 303D  1 330B  1 \n2E0A  0 2E8A  1B 303E  1 330C  0 \n2E0B  1 2E8B  82 303F  1 330D  1 \n2E0C  0 2E8C  FF 3040  0 330E  0 \n2E0D  BE 2E8D  FF 3041  0 330F  1 \n2E0E  4 2E8E  FF 3042  10 3310  0 \n2E0F  1 2E8F  FF 3043  0 3311  1 \n2E10  0 2E90  FF 3044  4 3312  0 \n2E11  14 2E91  FF 3045  10 3313  2C \n2E12  0 2E92  FF 3046  0 3314  1 \n2E13  0 2E93  FF 3047  0 3315  1 \n2E14  BA 2E94  4 3048  0 3316  0 \n2E15  4 2E95  16 3049  0 3317  E2 \n2E16  0 2E96  1C 304A  0 3318  4 \n2E17  0 2E97  82 304B  0 3319  E2 \n2E18  8 2E98  1 304C  0 331A  4 \n2E19  0 2E99  2 304D  0 331B  E2 \n2E1A  B0 2E9A  19 304E  0 331C  4 \n2E1B  4 2E9B  1A 304F  8 331D  E2 \n2E1C  0 2E9C  4 3050  20 331E  4 \nGPIXEL  \n \n2.4MP  Global Shutter CMOS Image Sensor      GMAX4002  \n20 \nConfidential  2E1D  0 2E9D  16 3051  2 331F  E2 \n2E1E  0 2E9E  1C 3052  0 3320  4 \n2E1F  0 2E9F  82 3053  10 3321  E2 \n2E20  0 2EA0  14 3054  0 3322  4 \n2E21  0 2EA1  16 3055  0 3323  EE \n2E22  0 2EA2  80 3056  0 3324  2 \n2E23  0 2EA3  82 3057  0 3325  EE \n2E24  0 2EA4  16 3058  0 3326  2 \n2E25  0 2EA5  1C 3059  0 3327  1 \n2E26  0 2EA6  18 305A  0 3328  0 \n2E27  0 2EA7  FF 305B  0 3329  1 \n2E28  0 2EA8  1 305C  0 332A  0 \n2E29  0 2EA9  2 305D  0 332B  1 \n2E2A  0 2EAA  19 305E  0 332C  0 \n2E2B  0 2EAB  1A 305F  1 332D  1 \n2E2C  0 2EAC  1 3060  0 332E  0 \n2E2D  0 2EAD  2 3200  20 332F  77 \n2E2E  0 2EAE  FF 3201  7 3330  1 \n2E2F  0 2EAF  FF 3202  4 3331  1 \n2E30  0 2EB0  FF 3203  3 3332  0 \n2E31  0 2EB1  FF 3204  14 3333  E2 \n2E32  0 2EB2  FF 3205  3 3334  4 \n2E33  0 2EB3  FF 3206  3 3335  E2 \n2E34  0 2EB4  FF 3207  3 3336  4 \n2E35  0 2EB5  FF 3208  14 3337  E2 \n2E36  0 2EB6  14 3209  4 3338  4 \n2E37  0 2EB7  0 320A  7 3339  E2 \n2E38  0 2EB8  4 320B  16 333A  4 \n2E39  0 2EB9  C 320C  4 333B  E2 \n2E3A  0 2EBA  3 320D  16 333C  4 \n2E3B  0 2EBB  0 320E  F 333D  E2 \n2E3C  0 2EBC  1 320F  7 333E  4 \n2E3D  0 2EBD  0 3210  11 333F  1 \n2E3E  0 2EBE  1 3211  7 3340  0 \n2E3F  0 2EBF  3 3212  0 3341  1 \n2E40  0 2EC0  0 3213  E 3342  0 \n2E41  0 2EC1  0 3214  1B 3343  1 \n2E42  0 2EC2  0 3215  3 3344  0 \n2E43  0 2EC3  1 3216  28 3345  0 \n2E44  0 2EC4  28 3217  4 3346  0 \n2E45  0 2EC5  C 3218  0 3347  0 \n2E46  0 2EC6  0 3219  7 3348  0 \nGPIXEL  \n \n2.4MP  Global Shutter CMOS Image Sensor      GMAX4002  \n21 \nConfidential  2E47  0 2EC7  0 321A  28 3349  0 \n2E48  0 2EC8  0 321B  0 334A  0 \n2E49  0 2EC9  0 321C  7 334B  0 \n2E4A  0 2ECA  0 321D  4 334C  0 \n2E4B  0 2ECB  0 321E  28 334D  10 \n2E4C  0 3000  0 321F  4 334E  32 \n2E4D  0 3001  2 3220  0 334F  54 \n2E4E  0 3002  0 3221  7 3350  86 \n2E4F  0 3003  0 3222  68 3351  A9 \n2E50  0 3004  1 3223  3 3352  CB \n2E51  0 3005  20 3224  0 3353  ED \n2E52  0 3006  8 3225  0 3354  7F \n2E53  0 3007  0 3226  68 3355  10 \n2E54  0 3008  0 3227  3 3356  32 \n2E55  0 3009  4 3228  0 3357  54 \n2E56  0 300A  1 3229  0 3358  87 \n2E57  0 300B  0 322A  11 3359  A9 \n2E58  1 300C  1 322B  3 335A  CB \n2E59  1E 300D  F 322C  1B 335B  ED \n2E5A  0 300E  0 322D  0 335C  5F \n2E5B  0 300F  1 322E  7 335D  0 \n2E5C  2 3010  0 322F  F 335E  0 \n2E5D  E 3011  1 3230  E 335F  0 \n2E5E  1 3012  0 3231  0 3360  0 \n2E5F  2 3013  0 3232  13 3361  1 \n2E60  2 3014  6E 3233  7 3362  0 \n2E61  2 3015  8 3234  7 3400  0 \n2E62  28 3016  4 3235  7 3401  0 \n2E63  28 3017  0 3236  7 3402  0 \n2E64  2 3018  8 3237  7 3403  1 \n2E65  0 3019  7 3238  10 3404  64 \n2E66  3 301A  10 3239  7   \n2E67  0 301B  7 323A  13   \n2E68  24 301C  27 323B  13   \n2E69  4 301D  0 323C  A   \n2E6A  62 301E  B 323D  A   \n2E6B  3 301F  9 323E  28   \n2E6C  53 3020  5 323F  A   \n2E6D  85 3021  6 3240  0   \n2E6E  12 3022  96 3241  A   \n2E6F  3A 3023  C8 3242  1C   \n2E70  49 3024  14 3243  20   \nGPIXEL  \n \n2.4MP  Global Shutter CMOS Image Sensor      GMAX4002  \n22 \nConfidential  2E71  FF 3025  0 3244  13   \n2E72  FF 3026  0 3245  13   \n2E73  FF 3027  0 3246  30   \n2E74  44 3028  0 3247  E   \n2E75  53 3029  0 3248  1   \n2E76  46 302A  0 3249  20   \n2E77  FF 302B  0 324A  0   \n2E78  FF 302C  0 324B  0   \n2E79  FF 302D  0 324C  0   \n2E7A  1 302E  0 324D  0   \n2E7B  85 302F  0 324E  0   \n2E7C  FF 3030  0 324F  D_TEMP    \n2E7D  FF 3031  0 3250  D_TEMP    \n2E7E  FF 3032  0 3300  0   \n2E7F  FF 3033  1F 3301  0   \nGPIXEL  \n \n2.4MP  Global Shutter CMOS Image Sensor      GMAX4002  \n23 \nConfidential  Driving the Sensor  \nSensor Setting Flow  \nStart\nPin Connection\nPower -ON\nConfig upload for STREAMING\nSTREAM _EN = 1\nTEXP\ninput start\nWait for image stabilization\n>TBD frames\nStreamingConfig upload for SLEEP\nSTREAM _EN = 0\nRegister changes\nShutter\nGain\nOtherTEXP\ninput stopWait for clock stablization\nPower -OFFData Interface Training\n \nFigure 10 GMAX4002  setting flow  \nRegisters for ‘STREAM_EN ’ is described as below:  \nTable 8 Register description for ‘STREAM_EN ’ \nAddress (hex)  Bit Name  Description  \n2E00  1 STREAM_EN  0: Disable image capture  \n1: Enable image capture  \nGPIXEL  \n \n2.4MP  Global Shutter CMOS Image Sensor      GMAX4002  \n24 \nConfidential  Periphery Connections  \nThis section shows the typical examples for hardware connections of GMAX4002 . They are provided for user ’s \nreference, Gpixel does not take any responsibility for use of these circuits.  \nAnalog Power  Connections  \n   \n             GMAX 400213\n8\n16\n15\n33\n32VDDA\nVDDA\nVDDA\nVDDAGNDA\nGNDA\nGNDA0.1uF\n0.1uF\n0.1uF4.7uF\n4.7uF\n4.7uF\n61 GNDA70\n73VDDA\nGNDA0.1uF 4.7uF64\n65VDDA\nGNDA0.1uF 4.7uF             GMAX 400219\n27\n31VDDA\nVDDA\nVDDAGNDA0.1uF\n0.1uF4.7uF\n4.7uF22uF 22uF 22uF 22uF  \nFigure 11 GMAX4002  analog power/ground c onnections  \nNote:  \n1) Avoid using switching power for analog supplies . \nGPIXEL  \n \n2.4MP  Global Shutter CMOS Image Sensor      GMAX4002  \n25 \nConfidential  Digital Power Connections  \n \n             GMAX 40022\n1\n18\n17\n34\n35VDDD\nVDDD\nVDDD\nVDDDGNDD\nGNDD\nGNDD0.1uF\n0.1uF\n0.1uF4.7uF\n4.7uF\n4.7uF\n44\n45VDDD\nGNDD0.1uF 4.7uF             GMAX 400228\n0.1uF 4.7uFVDD IO\n22uF VDD IO             GMAX 400254\n0.1uF 4.7uFVDD D\n22uF VDD D\n66\n67VDDD\nGNDD0.1uF 4.7uF57\n58VDDD\nGNDD0.1uF 4.7uF\n59\n60VDDD\nGNDD0.1uF 4.7uF\n62\n63VDDD\nGNDD0.1uF 4.7uF22uF 22uF22uF\n22uF\n20 GNDD21 VDD IO  \nFigure 12 GMAX4002  digital  power/ground c onnections  \n \n  \nGPIXEL  \n \n2.4MP  Global Shutter CMOS Image Sensor      GMAX4002  \n26 \nConfidential  Array Supply Connections  \n  \nGMAX 400211 VGRSTH\n0.1uF 4.7uF 22uF\n10 VTX1H\n0.1uF 4.7uF 22uF7 VTX1L\n0.1uF 4.7uF 22uF\n9\n0.1uF 4.7uF 22uFVTX2H5 VGRSTL\n0.1uF 4.7uF\n6 VTX2L\n0.1uF 4.7uF 22uF22uF 22uF\n22uF\n22uF22uF\n22uF\n22uF\n    GMAX 40024\n3VCPNI\nVCPNO12\n14VCPPI\nVCPPO0.1uF 4.7uF 22uF\n0.1uF 4.7uF 22uF0.1uF 4.7uF 22uF\n0.1uF 4.7uF 22uF22uF\n22uF 22uF22uF  \nFigure 13 GMAX4002  array supply c onnections  \nGPIXEL  \n \n2.4MP  Global Shutter CMOS Image Sensor      GMAX4002  \n27 \nConfidential  Bias Pin Connections  \n  \n    GMAX 400269\n74VREF\nVRS0.1uF\n0.22uFGNDA\nGNDA12.4kΩ 71\n72RES_EXT_NODE _P\nRES_EXT_NODE _N  \nFigure 14 GMAX4002  bias pin connections  \nDigital I/O and Clock inputs  \n GMAX 400229 CLK_REF30 SYS_RST_N\n22 TEXP GMAX 400226 SLAMODE\n24 SDA25 SCL1kΩ 1kΩ VDDIOTDIG 23\n \nFigure 15 GMAX4002  digital IO and clock input connections  \nNote : \n1) For the connection of pin -25 and pin-24, the recommended range of connected resistance value is from 648Ω \nto 2951Ω, and the load capacitance is from 10pF to 400pF.  \n \n \nGPIXEL  \n \n2.4MP  Global Shutter CMOS Image Sensor                                    GMAX4002  \n28 \nConfidential  Data  Outputs  \n           GMAX 4002OUTN <0>49 OUTP <0>\n48OUT <0>+\n-100Ω\nOUTN <1>43 OUTP <1>\n42OUT <1>+\n-100Ω\nOUTN <2>51 OUTP <2>\n50OUT <2>+\n-100Ω\nOUTN <3>41 OUTP <3>\n40OUT <3>+\n-100Ω\nOUTN <4>53 OUTP <4>\n52OUT <4>+\n-100Ω\nOUTN <5>39 OUTP <5>\n38OUT <5>+\n-100Ω\nOUTN <6>56 OUTP <6>\n55OUT <6>+\n-100Ω\nOUTN <7>37 OUTP <7>\n36OUT <7>+\n-100ΩCLKN _OUT47 CLKP _OUT\n46CLK_OUT+\n-100ΩSub-LVDS output ：\n           GMAX 4002OUTN <0>49 OUTP <0>\n48OUT <0>+\n-\nOUTN <1>43 OUTP <1>\n42OUT <1>+\n-\nOUTN <2>51 OUTP <2>\n50OUT <2>+\n-\nOUTN <3>41 OUTP <3>\n40OUT <3>+\n-\nOUTN <4>53 OUTP <4>\n52\nOUTN <5>39 OUTP <5>\n38\nOUTN <6>56 OUTP <6>\n55\nOUTN <7>37 OUTP <7>\n36CLKN _OUT47 CLKP _OUT\n46CLK_OUT+\n-MIPI CSI -2 output：\nLeave floating\nLeave floating\nLeave floating\nLeave floating\nLeave floating\nLeave floating\nLeave floating\nLeave floating\n \nFigure 16 GMAX4002  data  output connections  \nGPIXEL  \n \n2.4MP  Global Shutter CMOS Image Sensor                                                                            GMAX4002  \n29 \nConfidential  Power O n/Off  Sequence  \nThe power supplies should follow the power on/off sequence as illustrated in Figure 17 and Figure 18 to avoid current peaks during power on and off. Minimum time delays \nshould be guaranteed. After power on, user should first upload the sensor register setting based on section ‘Sensor Configuration ’ and ‘Clock System ’ then wait for PLL \noutput clock to stabilize. This can take up to 5ms. Then set PWR_UP_EN to ‘1’ and waiting for minimum TBD ms for internal supplies power -on. After this, STREAM_EN can \nbe set to ‘1’ so the sensor will enter IDLE state.  When using MIPI serial output interface , MIPI calibration ( PHY cal in Figure 18) needs be added between PWR_UP_EN  and  \nRelated registers to control the power -on/off sequence are listed in Table 9. \nCLK_REF2us \nMINVDDDVDDIO\nVDDA\nSYS_RST_N\nConfig Upload I2C2us \nMIN\n5ms \nMIN2us \nMIN\nSensor State RESET IDLE RESET IDLECLK_STABLE _EN = 1 PWR _DOWN _EN = 1\n1ms \nMINPWR _UP_EN = 1 PWR _UP_EN = 0\n0us \nMINTBDms \nMINSTREAM _EN = 1\n0us \nMIN0us \nMIN0us \nMIN90%\n90%\n90%1\nms1\nmsMIN\nvalue  200ms\n10%1\nms1\nmsMIN\nvalue \n10%\n \nFigure 17 Power -on and power -off sequence  for Sub -LVDS output interface  \nGPIXEL  \n \n2.4MP  Global Shutter CMOS Image Sensor                                                                            GMAX4002  \n30 \nConfidential  \nCLK_REF2us \nMINVDDDVDDIO\nVDDA\nSYS_RST_N\nConfig Upload I2C2us \nMIN\n5ms \nMIN2us \nMIN\nSensor State RESET IDLE RESET IDLECLK_STABLE _EN = 1 PWR _DOWN _EN = 1\n1ms \nMINPWR _UP_EN = 1 PWR _UP_EN = 0\n0us \nMINTBDms \nMINSTREAM _EN = 1\n0us \nMIN0us \nMIN0us \nMIN90%\n90%\n90%1\nms1\nmsMIN\nvalue  200ms\n10%1\nms1\nmsMIN\nvalue \n10%\nTBDms \nMINPHY cal\nD<3024 >_Bit<5>=0\n D<3023 >_Bit<7:4>\nTBDms \nMIN\nTBDms \nMIN\nTBDms \nMIN\nD<3023 >_Bit<0>=1\nTBDms \nMIN\nD<3023 >_Bit<2:1>\n=2'b11\nTBDms \nMIN\nD<3024 >_Bit<5>=1\n D<3023 >_Bit<2>=0\nmipi 1lane : =4'b1000\nmipi 2lane : =4'b1100\nmipi 4lane : =4'b1111 \nFigure 18 Power -on and power -off sequence for MIPI serial output interface  \n \nTable 9 Register description for power -on/off sequence  \nAddress (hex)  Bit Name  Description  \n2E00  0 CLK_STABLE_EN  Enable internal clock system  \n3301  0 PWR_UP_EN  Enable internal supplies power on  \n3302  0 PWR_DOWN_EN  Enable internal supplies power down  \n \nGPIXEL  \n \n2.4MP  Global Shutter CMOS Image Sensor      GMAX4002  \n31 \nConfidential  Sensor Configuration  \nAll on -chip registers should be programmed to the recommended value  before image capture. This section lists \nsome basic sensor configuration that user may want to change for specific applications . For more  options please \nrefer to section ‘Description of Various Functions ’. \nLine Time  \nGMAX4002  readout is always line time based. In each line time, one row of image data will be output from the \noutput channels. It is always calculated in number of CLK_PIX cycles.  \nTable 10 Register  setting for line time unit length  \nAddress (hex)  Bit Name  Description  \n2E5E:2E5D  all LINE_TIME  Value must be an integer. ( 140≤LINE_TIME ≤65535 ) \n \nThe line time can be calculated as:  \nTLINE = LINE_TIME × TCLK_PIX  \nwhere TCLK_PIX  is the period of CLK_PIX.  \n \nNote:   \n1) Change of TLINE may cause shift of image dark offset.  \n \nSub-Sampling  \nTo maintain the same optical format but reduce the amount of sensor output data, GMAX4002 supports sub -\nsampling function. This function can also achieve a higher frame rate without losing the basic information of the \ncaptured image.  \nSub-sampling in Y -direction is supported. Users can set the register SUBSMP_SPACE to change the space between \nreadout rows. Figure 19 and Figure 20 show the sub -sampling for mono sensor and color senso r respectively. For \nmono sensor, one row will be selected for readout. For color sensor, two neighbor rows will be selected for readout. \nThis is set through register COLR_EN. Table 11 gives more detail for this two registers.  \nGPIXEL  \n \n2.4MP  Global Shutter CMOS Image Sensor      GMAX4002  \n32 \nConfidential  \nSUBSMP_SPACE = 11 row\nSUBSMP_SPACE = 3 \nFigure 19 Y-direction sub -sampling for mono sensor   \nSUBSMP_SPACE = 22 row\nSUBSMP_SPACE = 6\n \nFigure 20 Y-direction sub -sampling for color sensor  \nTable 11 Register  setting for sub -sampling  \nAddress (hex)  Bit Name  Description  \n2E02  0 COLR_EN  0: Mono sensor  \n1: Color sensor  \n2E13  all SUBSMP_SPACE  Space between the readout rows  \n \n \n \nWindowing  \nMaximum 16 regions of interest can be support in GMAX4002  pixel  array  (User Defined region , please refer to  Figure \n3). The start address , length and width  can be set  via different register  settings . All the 16 regions should have the \nsame x -direction address and width which with the unit of 8 columns. Only windowing in vertical direction can \nspeed up the frame rate.   GMAX4002  can also output electric black rows.  The row output sequence of GMAX4002  \nduring image readout is shown in  Figure 21. First ly, Dummy  window will be output a nd later on user defined(UD)  \nwindow s. Definition of these windows are shown in Table 12. The description for related registers of windowing is \nlisted in Table 13. \nGPIXEL  \n \n2.4MP  Global Shutter CMOS Image Sensor      GMAX4002  \n33 \nConfidential  Table 12 Definition of different windows in GMAX4002  \nSymbol  Description  Size restrictions  \nDummy  Dummy  pixel windows, used to do \ncalibration internal.  Fixed 18 rows.  \nUD User defined  pixel  windows  Limitation for the size is depending on the window start address. In \ngeneral, it is no t allowed to readout rows outsid e the windowing \nregion  shown in Figure 3. \n \nThe figure below shows the image output sequence with  windowing operation.  Note location of pixel(0,0) is \ndifferent from drawing in Figure 3, the drawing here is based on data output sequence coming out from the output \nchannels.  \n1212X_WINY_WIN _12080\nROI_1 F\nX_WINY_WIN _2\nROI_2 F\nX_WINY_WIN _16\nROI_16 FDummyDummies Pixel\n(0,0)\nImage output sequence Pin - 74 Pin - 54\nX_WINY_WIN _1\nROI_1 F\nX_WINY_WIN _2\nROI_2 F\nX_WINY_WIN _16\nROI_16 FDummyX - windowing Dummies\nY -windowing\nImage output sequencePin - 74 Pin - 54a) full UD array image output sequence\nb) regions of interested image output sequenceB\nRGG. . .\n. . .\n \nFigure 21 Image output sequence with  windowing operation  \nGPIXEL  \n \n2.4MP  Global Shutter CMOS Image Sensor      GMAX4002  \n34 \nConfidential  Table 13 Register  setting for windowing operation  \nAddress (hex)  Bit Name  Description  \n2E57:2E56  all WIN16_L  Number of readout rows in UD window 16  \n2E55:2E54  all WIN16_S  Start row address in UD window 16. Should be set between 0 and 1211  \n2E53:2E52  all WIN15_L  Number of readout rows in UD window 15  \n2E51:2E50  all WIN15_S  Start row address in UD window 15. Should be set between 0 and 1211  \n2E4F:2E4E  all WIN14_L  Number of readout rows in UD window 14 \n2E4D:2E4C  all WIN14_S  Start row address in UD window 14. Should be set between 0 and 1211  \n2E4B:2E4A  all WIN13_L  Number of readout rows in UD window 13  \n2E49:2E48  all WIN13_S  Start row address in UD window 13. Should be set between 0 and 1211  \n2E47:2E46  all WIN12_L  Number of readout rows in UD window 12  \n2E45:2E44  all WIN12_S  Start row address in UD window 12. Should be set between 0 and 1211  \n2E43:2E42  all WIN11_L  Number of readout rows in UD window 11  \n2E41:2E40  all WIN11_S  Start row address in UD window 11. Should be set between 0 and 1211  \n2E3F:2E3E  all WIN10_L  Number of readout rows in UD window 10  \n2E3D:2E3C  all WIN10_S  Start row address in UD window 10. Should be set between 0 and 1211  \n2E3B:2E3A  all WIN9_L  Number of readout rows in UD window 9  \n2E39:2E38  all WIN9_S  Start row address in UD window 9. Should be set between 0 and 1211  \n2E37:2E36  all WIN8_L  Number of readout rows in UD window 8  \n2E35:2E34  all WIN8_S  Start row address in UD window 8. Should be set between 0 and 1211  \n2E33:2E32  all WIN7_L  Number of readout rows in UD window 7  \n2E31:2E30  all WIN7_S  Start row address in UD window 7. Should be set between 0 and 1211  \n2E2F:2E2E  all WIN6_L  Number of readout rows in UD window 6  \n2E2D:2E2C  all WIN6_S  Start row address in UD window 6. Should be set between 0 and 1211  \n2E2B:2E2A  all WIN5_L  Number of readout rows in UD window 5  \n2E29:2E28  all WIN5_S  Start row address in UD window 5. Should be set between 0 and 1211  \n2E27:2E26  all WIN4_L  Number of readout rows in UD window 4  \n2E25:2E24  all WIN4_S  Start row address in UD window 4. Should be set between 0 and 1211  \n2E23:2E22  all WIN3_L  Number of readout rows in UD window 3  \n2E21:2E20  all WIN3_S  Start row address in UD window 3. Should be set between 0 and 1211  \n2E1F:2E1E  all WIN2_L  Number of readout rows in UD window 2  \n2E1D:2E1C  all WIN2_S  Start row address in UD window 2. Should be set between 0 and 1211  \n2E1B:2E1A  all WIN1_L  Number of readout rows in UD window 1  \n2E19:2E18  all WIN1_S  Start row address in UD window 1. Should be set  between 0 and 1211  \n2E10:2E0F  all NR_MIN  Minimum readout rows for frame readout. This registers can be used to limit the \nframe rate.  \n3006  3:0 \nWIN_X_L  Number of readout columns in UD window. Should be multiple of 8, and be set \nbetween 8 and 2080.  3005  7:0 \n3008  3:0 \nWIN_X_S  Start column address in UD window. Should be set between 0 and (2080 – \nWIN_X_L)  3007  7:0 \n \nGPIXEL  \n \n2.4MP  Global Shutter CMOS Image Sensor      GMAX4002  \n35 \nConfidential  Suppose we define N W_SUM  the summation of  output  rows in  Dummy and User defined pixel windows  which is:  \nNW_SUM  = WIN1_L + WIN2_L + … + WIN 16_L+ 18 \nThe number of row  readout s for each frame  will be : \nNROW = {NR_MIN + 2,                                                 NW_SUM  + 2 x (SI_CNT1 + SI_CNT2) < NR_MIN\nNW_SUM  + 2  + (SI_CNT1 + SI_CNT2),   NW_SUM  + 2 x (SI_CNT1 + SI_CNT2)   ≥ NR_MIN \nNROW is an important parameter in frame rate calculation.  \nNote:  \n1) The selected readout rows in each window should take sub -sampling related registers into account. For example, \nSet WIN1_S = 1000, WIN1_L = 4, COLR_EN = 0, SUBSMP_SPACE= 2 will select Row 1000, 1003, 1006, 1009.  \n2) Vertical w indow overlap is allowed, however,  due to destructive readout, the 2nd readout of the overlapped \nrows will output dark image data.  \n3) The windowing function stops as soon as the readout rows in a specific window is set to 0. For instance, if \nWIN 2_L set to 0, then all selected rows in WIN 3_L, WIN 4_L, etc… will be invalid.  \n4) Vertical windowing helps speed boosting, but horizontal windowing doesn ’t help.  \n \nFrame Number and Exposure Setting  \nFor internal exposure, the exposure time and requested frame number are set by uploading the relevant registers . \nFor external exposure, the exposure tim e is set by pulse width of TEXP . Only one frame will be output with the \ntrigger signal in external exposure. The registers related are listed below. For info on exposure time please refer to \nsection ‘Exposure Time Calculation ’. \nTable 14 Register setting for exposure control  \nAddress (hex)  Bit Name  Description  \n2E0C:2E0B  all FRAME_NUM  65535: Continous image capture  \nOthers: Number of frames  \n2E03  0 INT_EXP_EN  0: External exposure  \n1: Internal exposure  \n2E07  all EXP0_F  Fine setting for exposure time  \n2E0A:2E08  all EXP0_C  Coarse setting for exposure time  \n \n \n \n  \nGPIXEL  \n \n2.4MP  Global Shutter CMOS Image Sensor      GMAX4002  \n36 \nConfidential  Clock System  \nThe clock system  of GMAX4002  is illustrat ed in Figure 22. There are  two clock inputs: SCL and CLK_REF. SCL is needed \nfor I2C programming. CLK_REF is input to PLL  to generate  the on -chip high speed clock CLK_SER . This clock  is used \nto control most of the functional blocks such as Sequencer, ADC, sub-LVDS /MIPI  outputs etc.  \nGMAX 4002\nPLLSub-LVDS\nDriver\nOr CSI -2(MIPI )\nI2CCLK_REF\nSCLSub-LVDS\ndriverSub-LVDS\ndriverSub-LVDS\nDriver\nOr CSI -2(MIPI )\nClock \nChannelDIVCLK_SER CLK_PIXData \nFormating\nCLK_DDR\nData Channel\n \nFigure 22 The block diagram of clock management  \nTable 15 Clock system in GMAX4002  \nClock  Symbol  Type  Description  \nCLK_REF  FINCLK Input  Clock input for on chip PLL  \nSCL FSCL Input  I2C clock  \nCLK_PIX  FCLK_PIX  Internal  FCLK_PIX = F CLK_SER /10 for 10 -bit ADC  \nFCLK_PIX = F CLK_SER /12 for 12 -bit ADC  \nCLK_SER  FCLK_SER  Internal  On chip high speed clock  \nCLK_DDR  FCLK_DDR  Output  Clock output from sensor clock channel, F CLK_ DDR= F CLK_SER /2 \n \nCLK_PIX is GMAX4002  internal pixel clock, where one pixel data is output per clock cycle from each output channel. \nCLK_DDR is a double data rate clock output to the external system, which can be used for pixel data sampling.  \n \nThe frequency of the internally generated high -speed clock CLK_SER can be calculated by the PLL multiplication \nfactor(M X) and PLL dividing factor(D YI and D YO), as shown below:  \nFCLK_SER = FCLK_REF  × MX\n DYI × DYO     \nWhere 20MHz ≤ FCLK_REF ≤62.5 MHz  , 20MHz ≤FCLK _REF\n DYI ≤62.5 MHz   and 400MHz ≤FCLK_SER  × DYO≤1500 MHz  . Details for \nPLL register settings are shown in  Table 16.  \n \nGPIXEL  \n \n2.4MP  Global Shutter CMOS Image Sensor      GMAX4002  \n37 \nConfidential  Table 16 Registers for PLL setting  \nAddress (hex)  Bit Name  Description  \n2EC6  3:0 PLL_DIV_IN  Set PLL dividing factor D YI \n0: D YI = 1 \n1: D YI = 2 \n2: D YI = 3 \n… … \n14: D YI = 15  \n15: D YI = 16  \n2EC4  6:0 PLL_MULT  Set PLL multiplication factor M X \n0 ~ 11: not defined  \n12: M X = 12  \n13: M X = 13  \n… … \n126: M X = 126  \n127: M X = 127  \n2EC2  1:0 PLL_DIV_OUT  Set PLL dividing factor D YO \n0: D YO = 1 \n1: D YO = 2 \n2: D YO = 3 \n3: D YO = 4 \n \nReset Sequence  \nThe sensor reset sequence is shown in Figure 23 and Figure 24. All the signals in the figure should follow the \ncorresponding minimal time delays for correct reset operation. All programming registers will be reset to their \ndefault value when SYS_RST_N is set to ‘0’. It is necessary to reconfigure the registers before image capture. If \ndifferent CLK_PIX frequency is required whil e the sensor running, the sensor reset sequence must be executed.  \nCLK_REF2us \nMINSYS_RST_N\nConfig Upload\nSensor StateI2C2us \nMIN5 ms \nMIN\nRESET IDLE FOT/FRD/IDLECLK_STABLE _EN = 1 PWR _UP_EN = 10us \nMINTBDms \nMIN\nSTREAM _EN = 1\n \nFigure 23 Sensor reset sequence  for Sub -LVDS output interface  \nGPIXEL  \n \n2.4MP  Global Shutter CMOS Image Sensor      GMAX4002  \n38 \nConfidential  \nCLK_REF2us \nMINSYS_RST_N\nConfig Upload\nSensor StateI2C2us \nMIN5 ms \nMIN\nRESET IDLE FOT/FRD/IDLECLK_STABLE _EN = 1 PWR _UP_EN = 10us \nMINTBDms \nMIN\nSTREAM _EN = 1TBDms \nMIN\nPHY_cal\nD<3024 >_Bit<5>=0\n D<3023 >_Bit<7:4>\nTBDms \nMIN\nTBDms \nMIN\nTBDms \nMIN\nD<3023 >_Bit<0>=1\nTBDms \nMIN\nD<3023 >_Bit<2:1>\n=2'b11\nTBDms \nMIN\nD<3024 >_Bit<5>=1\n D<3023 >_Bit<2>=0\nmipi 1lane : =4'b1000\nmipi 2lane : =4'b1100\nmipi 4lane : =4'b1111 \nFigure 24 Sensor reset sequence  for MIPI serial output interface  \n \nGPIXEL  \n \n2.4MP  Global Shutter CMOS Image Sensor      GMAX4002  \n39 \nConfidential  Register Communication Timing  \nAfter the sensor power on, all registers will be reset to  default  state.  Some of the r egisters need to be re -configured \nbefor e proper operation of the sensor.  The read and write of these registers are through  the I2C interface . Details \nabout the read and write operation is explained below.  \nI2C Communication Operation  \nWith the PIN -26 SLAMODE,  GMAX4002  can be used two kinds of slave address with common I2C bus  as shown in \nTable 17.  \nThere is a R/W bit follows SLAVE address. R/W bit is set to 0 indicates I2C write and 1 indicates I2C read.  \nTable 17 SLAMODE address  \nSLAMODE  SLAVE Address (7 bit) Description  \n0 001_0000  Address 1  \n1 001_1010  Address 2  \n \nI2C WRITE  \nAfter a write request with designating slave address, the master sets the address to M  which is the designating \naddress . Then the master can write the data in address M . After successful written, the master generates the stop \ncondition to end the communication. The sensor address and data flow in write operation is shown in Figure 25. \nAfter each data byte is transferred, A(Acknowledge) or \uf060A(Negative Acknowledge) is transferred from slave to \nmaster.  \nSSlave Address\n[7:1]0ARegister Address\n[15:8]ARegister Address\n[7:0]AData\n[7:0]A\n/\n P\nFrom Master to Slave\nFrom Slave to MasterS = Start Condition\nP = Stop ConditionA = AcknowledgePrevious Address Address M Address M+1\nAddress M\n\uf060A = Negative Acknowledge\uf060A\n \nFigure 25 I2C single write  \n \nGMAX4002  also support sequential write as shown in Figure 26. \nSSlave \nAddress\n[7:1]0ARegister \nAddress\n[15:8]ARegister \nAddress\n[7:0]AData\n[7:0]P\nFrom Master to Slave\nFrom Slave to MasterS = Start Condition\nP = Stop ConditionA = AcknowledgePrevious Address Address M Address M+L\nAddress MAData\n[7:0]A AData\n[7:0]\nL bytes of dataAddress \nM+L -1Address \nM+1\n\uf060A = Negative AcknowledgeA\n/\n \uf060A\n \nFigure 26 I2C sequential write  \n \nGPIXEL  \n \n2.4MP  Global Shutter CMOS Image Sensor      GMAX4002  \n40 \nConfidential  Data is transferred serially with MSB first. Serial data is transferred through pin SDA  and serial clock is transferred \nthrough pin SCL . They share the same pin -24 and pin-25 respectively, but with different peripheral connection. As \nshown in Figure 27, serial data(SDA) is transferred at serial clock(SCL) cycle. During data transferred phase, SDA \nmust be held  while SCL is hi gh. SDA could be changed only when SCL is low. The SCL has a maximum frequency of \n400kHz.  \nAs shown in Figure 27, the start condition  ‘S’ is defined as SDA changing from high to low while SCL is high , and \nstop condition  ‘P’ is defined as SDA changing from low to high while SCL is high.  Repeated start condition ‘Sr’ is \ndefined as a start condition, when it is generated, the stop conditio n has not been generated in the previous \ncommunication phase.  \nA7 A6 A5 A4 A3 A2 A1 R/WSLAVE address\nSStart condition\nSDA ACK\nSCLStart State\nThe data valid while the clock is at low level\nSDA\nSCLStop StateACK/\nNACKD0 D1 D2 D3 D4 D5 D6 P Bus FreeStop condition\nA7 A6 A5 A4 A3Start condition\nSDA\nSCLRepeated Start StateACK/\nNACKSrSLAVE address\nThe Stop State not happenedSr = repeated start conditionS = start condition\nP = stop condition\n \nFigure 27 I2C operation timing  \n \nI2C READ  \nBefore reading the data, the master must set the designating address first. Figure 28 and Figure 29 describe single \nread and sequential read respectively.  \nSSlave Address\n[7:1]0ARegister Address\n[15:8]ARegister Address\n[7:0]ASlave Address\n[7:1]A1Data\n[7:0]P\nFrom Master to Slave\nFrom Slave to MasterS = Start Condition A = AcknowledgePrevious Address Address M Address M+1\nAddress M\n\uf060A = Negative Acknowledge\uf060A\nP = Stop Condition\nSr = Repeated Start ConditionSr\n \nFigure 28 I2C single read  \n \nGPIXEL  \n \n2.4MP  Global Shutter CMOS Image Sensor      GMAX4002  \n41 \nConfidential  \nSSlave \nAddress\n[7:1]0ARegister \nAddress\n[15:8]ARegister \nAddress\n[7:0]ASlave \nAddress\n[7:1]A1Data\n[7:0]P\nFrom Master to Slave\nFrom Slave to MasterS = Start Condition A = AcknowledgePrevious Address Address M Address M+L\nAddress MAData\n[7:0]A AData\n[7:0]\nL bytes of dataAddress \nM+L -1Address \nM+1\n\uf060A = Negative Acknowledge\uf060A\nP = Stop Condition\nSr = Repeated Start ConditionSr \nFigure 29 I2C sequential read  \n \n \nSynchronization of Registers  \nGMAX4002 sensor on -chip registers are categorized into two types with the unit of byte. Although all of the registers \nwill be uploaded into the sensor with I2C write operation, some of them will not be functional until a trigger moment. \nDescriptions of these re gisters are listed in  Table 18.  \nTable 18 Categories of GMAX4002  registers  \nType  Trigger Moment  Address (hex)  Description  \nA Falling edge of FOT  305C:305B  Black level offset value setting  \n3002  Horizontal flip enable  \n3008:3005  X window setting  \n2EC9  PGA gain setting  \n3043:3042  Digital gain setting  \nB Rising edge of TEXP and \nend of FOT  2E07  EXP0_F  \n2E0A:2E08  EXP0_C  \nRising edge of TEXP  2E0C:2E0B  FRAME_NUM  \nImmdiately after I2C write  Others  \n \nCategory A type registers will be reflected at the falling edge of TEXP with a fixed delay and globally controlled by \nthe register REG_HOLD. Setting REG_HOLD=1 at the start of register communication period prevents the registers \nthat are se t thereafter from reflecting at the frame TEXP1 falling edge. After registers uploaded, setting REG_HOLD \n= 0 and designating registers will be reflected at the falling edge of TEXP in the next frame.  \nGPIXEL  \n \n2.4MP  Global Shutter CMOS Image Sensor      GMAX4002  \n42 \nConfidential  \nTEXP\nCategory A Register UploadRegister Upload\nCategory A Register RefreshREG_HOLD _EN \nFigure 30 Category A register refresh timing  \n \nTable 19 register setting for group hold  \nAddress (hex)  Bit Name  Description  \n2E01  0 REG_HOLD  0: invalid  \n1: valid (register hold)  \n \nCategory B type registers will be reflected immediately when the communication is performed. Then the state of \nsensor will be changed. It ’s strongly recommended to reconfigure this type registers under the IDEL state when \npixel is neither exposure nor read ing out.  \n \nCategory B Register \nUpload & RefreshSensor State IDLE Active IDLE Active\nRegister\nUploadRegister\nUpload\n \nFigure 31 Category B register refresh timing  \nGPIXEL  \n \n2.4MP  Global Shutter CMOS Image Sensor      GMAX4002  \n43 \nConfidential  Requesting Frame s \nAfter sensor power on sequence and register configuration , GMAX4002  will enter the IDLE state  and wait for \nexternal trigger signal for image capture. The sensor starts exposure  when high state of TEXP  is detected. Once the \nexposure finishes, the charges collected in the photodiode will be transferred and stored in the memory cell inside \neach pixel. This period is named as frame overhead time(FOT). After this, the sensor enters frame readout state( FRD) \nand the image signals  can be readout row by row. A second frame exposure can start when the sensor is in FRD \nstate. The sensor enters IDLE again once frame readout is finished.  When pin ‘SYS_RST_N ’ is pulled low, the sensor \nwill enter RESET state , with all  on-chip registers reset  to their default value. GMAX4002  will not response to any \nexternal trigger signal in RESET state . The four operation states  is described in Table 20. \nTable 20 Operation states of GMAX4002  \nOperation State  Description  \nRESET  When pin ‘SYS_RST_N’ is pulled low, sensor is in RESET phase. The sensor will not response to any \nexternal trigger in this state.  \nIDLE  In this state, the sensor configuration is ready. It waits for external trigger signal to start image \ncapture.  GMAX4002  is in IDLE state whenever it is not in RESET, FOT and FRD state.  \nFOT Frame Overhead Time, in this state, the image  signal are transferred globally in the storage node \ninside each pixel.  \nFRD Frame Readout, in this state, the stored image signal is readout row by row  \n \nGMAX4002 sensor supports both internal and external exposure control. Details of the them are describ ed in below \nsection.  \nNote:  \n1) The pulse width of external trigger signal TEXP  must be at least 1 CLK_PIX cycles.   \nInternal Exposure Control  \nWhen GMAX4002  is working with internal exposure control, the exposure time is set through on -chip registers. \nPlease refer to section  ‘Frame Number and Exposure Setting ’ for the relevant registers. GMAX4002  will start \nexpos ure when the high state of TEXP  is detected.   \nFigure 32 shows the request of two frames with internal exposure. Figure 32(a) shows frame request when exposure \ntime is shorter than the readout time. In this situation, the exposure of the second frame starts during the readout \nand ends immediately once readout is finished. Figure 32(b) shows frame request when exposure time is longer \nthan readout time. In this situation, the second frame exposure starts with a fixed delay after FOT of the previous \nframe.  \nGPIXEL  \n \n2.4MP  Global Shutter CMOS Image Sensor      GMAX4002  \n44 \nConfidential  \nFOT FRD\nFEXP _FRM 2FOT FRDTEXP\nState\nExposure\nFOT FRD\nFEXP _FRM 2FOT FRDTEXP\nState\nExposure(a)\n(b)IDLE\nIDLE IDLEIDLE\nFEXP _FRM 1\nIDLE\nFEXP _FRM 1 \nFigure 32 Frame request with internal exposure control  \nNote:  \n1) Frame exposure always extends into FOT state, details please refer to section “Exposure End Delay ”. \n \nIt is possible that before the frame readout of previously requested frames, a second TEXP  pulse is triggered as like \nshown in Figure 33. In this case, after frame readout of current frame, new frames will be requested. This new \ntrigger will also update the exposure time and number of frames. Refer to section  ‘Synchronization of Registers ’ for \nmore info.  \nFOT FOT FRD\nFEXP _FRM 2TEXP\nState\nExposureIDLE\nFEXP _FRM 3FRD\nFEXP _FRM 4FOT FRD3 frames requested 2 frames requested\nFOT FRD IDLE\nFEXP _FRM 1\n  \n Figure 33 Trigger before readout of previous requested frames  \n  \nGPIXEL  \n \n2.4MP  Global Shutter CMOS Image Sensor      GMAX4002  \n45 \nConfidential  External Exposure Control  \nWhen GMAX4002 is working with external exposure control, only one frame can be output each time.  Figure \n34(a) shows one frame requested when the sensor is in IDLE state. Exposure starts immediately after detection of \nhigh state in TEXP signal, and it stops when a low state is detected.  \nStarting ex posure in the FOT phase of previous frame is not allowed, otherwise the image sensor will not work \nproperly.  \nEnding exposure after FRD of the previous frame is recommended, otherwise the exposure end will be delayed, as \nillustrated in  Figure 34(b).  \n \n \nFOT FRD\nFEXP _FRM 2TEXP\nState\nExposure\nDelay\nIDLEFOT FRDTEXP\nState\n IDLE\n(a)\n(b)FOT FRD IDLE IDLE\nFEXP _FRM 1 Exposure FEXP _FRM 2\nFOT FRD IDLE\nFEXP _FRM 1  \nFigure 34 Two frame requests with external exposure  \n  \nGPIXEL  \n \n2.4MP  Global Shutter CMOS Image Sensor      GMAX4002  \n46 \nConfidential  Exposure Delay  \nThe real exposure of GMAX4002  will always have a delay compared with external trigger signals. They are described \nin more detail below.   \nNote:  \n1) There is a maximum uncertainty of 1 CLK_PIX cycles for detection of the external trigger signal.  \nExposure Start  Delay  \na. Internal Exposure  \nWith internal exposure, the exposure start delay depends on the status of the sensor. We only provide the equation \nfor this delay with trigger in IDLE state.  \nTDEXPS_INT  =  (SI_CNT1 + 2 )  × TLINE - min (EXP0_F × 4  ×  TCLK_PIX , TLINE  - TCLK_PIX ) ,   (Trigger in IDLE)  \nb. External Exposure  \nThe exposure start delay also depends on the sensor status with sensor in external exposure mode, as calculated \nbelow:  \nTDEXPS_EXT ={0 or (2 × TLINE),   (Trigger in IDLE)\n2 × TLINE,                (Trigger in FRD ) \nRegister detail with TD EXPS_EXT  triggered in IDLE is shown in  Table 21. \n Table 21: Register setting for External Exposure  \nAddress (hex)  Bit Name  Description  \n2E06  2 EXT_IDLE_EXP_DELAY  0: TDEXPS_EXT  = 0 (trigger in IDLE)  \n1: TDEXPS_EXT  = 2 x T LINE (trigger in IDLE)   \n \nExposure End Delay  \nThe exposure time always extend into part of the FOT state both in internal exposure and external exposure mode.  \nThe exact exposure end moment will be TBD CLK_PIX cycles delayed after start of FOT. \nGPIXEL  \n \n2.4MP  Global Shutter CMOS Image Sensor      GMAX4002  \n47 \nConfidential  \nFEXP _FRM 1TEXPExposure End\nDelayExposureFOT FRD IDLE IDLE State \nFigure 35 Exposure delay for GMAX4002  sensor  \nExposure Time Calculation  \nFor internal exposure, the exposure time can be calculated as:  \nTEXP ,INT  = EXP0_C × TLINE + min (EXP0_F × 4  ×  TCLK_PIX , TLINE  - TCLK_PIX ) + TBD × TCLK_PIX  \nFor external exposure, the exposure time can be calculated as:  \nTEXP ,EXT  = TFR_W  + TBD × TCLK_PIX  \nWith T FR_W the pulse width of TEXP . \n \n \nGPIXEL  \n \n2.4MP  Global Shutter CMOS Image Sensor      GMAX4002  \n48 \nConfidential  Frame Rate Calculation  \nIf exposure time is longer than the readout time of GMAX4002 , the frame rate will depend on the exposure time.  \nThe frame readout (FRD)  time is equal to:  \nTRD = NROW  × TLINE \nFOT time is equal to:  \nTFOT = (FOT_CNT1  + FOT_CNT2) × TLINE \nThen frame time can be c alculated as :  \nTFRM={TRD + TFOT          ,                                                            NROW≥TFR_W  + SI_CNT1 +4\n(TFR_W  + FOT_CNT2  + SI_CNT1  +4) × TLINE             NRow<TFR_W  + SI_CNT1 +4 \nGPIXEL  \n \n2.4MP  Global Shutter CMOS Image Sensor      GMAX4002  \n49 \nConfidential  Reading Out The Sensor  \n \nGMAX4002 supports two types of data output interfaces: Sub -LVDS and CSI -2(MIPI). Register can be used to select \nthe output interface, please refer to Table 22. \nPlease do not switch the output interface during operation, or the imaging characteristics cannot be guaranteed.  \nTable 22: Register setting for data output interface selection  \nAddress (hex)  Bit Name  Description  \n3000  0 OUT_MODE_SEL  Output interface selection:  \n0: Sub_LVDS  \n1: CSI -2(MIPI)  \n \nSub-LVDS Output  \nThere are eight  sub-LVDS data channels in total. Together with the data channel, GMAX4002 has one sub-LVDS clock \nchannel. The clock channel can be used to sample the image data.  \n\uf0d8 8 data channels  \n\uf0d8 1 clock channel  \nThe data channels are used to transport the image data to the receiving end of the surrounding system. The clock \nchannel outputs a Double Data Rate(DDR) clock which can be used at the receiving  end to sample the image data. \nIt is synchronous to the data channels with mi nimum skew.  \nData Interface Training  \nFor correct data receiving, it is recommend ed to train the output data interface (data channel s) before image \ncapture. It is possible to use the  DDR clock channel to directly sample the data channe l. Normally only word \nalignment is needed for this training process.  \nDescribed in  section ‘Sensor Setting Flow ’, a known training pattern(TP) will be output continuously on all data \nchannels  after STREAM_EN release to state ‘1’. With this TP  output, word alignment is possible .  \nRegisters detail with d ata interface training are shown in Table 23.  \nTable 23 Register setting for  data interface training  \nAddress (hex)  Bit Name  Description  \n3015  3:0 \nTraining Pattern  Training pattern at channel output  \n3014  7:0 \nGPIXEL  \n \n2.4MP  Global Shutter CMOS Image Sensor      GMAX4002  \n50 \nConfidential  SYNC Code  \nSync code is added in the image sensor output to indicate the correct pixel data. The Sync code length is 40 -bit and \n48-bit for 10 -bit out and 12 -bit out respectively  . So always 4 -word in serial. There are four types of Sync codes used \nin GMAX4002  sensor. They are  listed below  in Table 24 and Table 25. \nTable 24 Types of SYNC c odes in GMAX4002  sensor  \nSync code  Description  \nSOF Start of Frame: Beginning of Image  \nEOF End of Frame: End of Image  \nSOL Start of Line: Beginning of horizontal line  \nEOL End of Line: End of horizontal line  \n \nTable 25 Details of the SYNC codes  \nSync code  First word  Second word  Third word  Fourth word  \n10-bit 12-bit 10-bit 12-bit 10-bit 12-bit 10-bit 12-bit \nSOF 3FFh  FFFh  000h  000h  000h  000h  200h  800h  \nEOF 3FFh  FFFh  000h  000h  000h  000h  274h  9D0h  \nSOL 3FFh  FFFh  000h  000h  000h  000h  2ACh  AB0h  \nEOL 3FFh  FFFh  000h  000h  000h  000h  D8h B60h  \n \nFigure 36 illustrates the image data outp ut format for GMAX4002  sensor. TP code is data word based and placed \nany moment when SYNC code and valid data are not output.  The sensor will always output Dummy window , \nfollowed by UD window  as described before in section ‘Windowing ’. \nGPIXEL  \n \n2.4MP  Global Shutter CMOS Image Sensor      GMAX4002  \n51 \nConfidential  \nSOLTP\nEOLTP ...\n...TEXP\n1st\n2nd\n3rd\n4th\nDATA\nDATA\nDATA\nDATA\n1st\n2nd\n3rd\n4th\nTP\nTP ... . . . . . . . ...SOF/SOL EOF/EOL\nSOF...\nSOLEOL\n...\nEOF\nTP...\nTPEB/effective pixel\nSOLEOL\n...SOFTPTP\nTP\nTPTP\nTP\nTP\nTP ...TP\nTP\nTP\nTP ...TP\nTP\nTPEB/effective pixel\nEB/effective pixel\nEB/effective pixel\nEB/effective pixel\nEB/effective pixel\nEB/effective pixel\nEB/effective pixel\nEB/effective pixel\nEB/effective pixel\nEB/effective pixel\nEB/effective pixel\nPlease refer to the following note \nfor TP Row Number \nFigure 36 GMAX4002  image data output format  \nNote:  \n1) TP Row Number = (SI_CNT1 + SI_CNT2) when exposure starts during readout.  \n2) TP Row Number = 0 when exposure does not start during readout.  \n \n  \nGPIXEL  \n \n2.4MP  Global Shutter CMOS Image Sensor      GMAX4002  \n52 \nConfidential  Image Data Output Format  \nGMAX4002  array data output  is split in 8 blocks horizontally . Figure 37 shows the column address and data word \nsequence  in different sub -LVDS channels .  \nTP 0 Line Output 1 1042 1043 TP\nRow output\nPixel Output Word\nSYNC Code of SOF /SOL1045 1214 1215 TP\nSYNC Code of EOF /EOL\nTP Line /Word0 1 TP TP TP TP\nOUT <0>\nOUT <1>\nOUT <7>1044\nSOF4/\nSOL4SOF3/\nSOL3SOF2/\nSOL2SOF1/\nSOL1TP TP TPEOL1/\nEOF1EOL2/\nEOF2EOL3/\nEOF3EOL4/\nEOF4\nSOF4/\nSOL4SOF3/\nSOL3SOF2/\nSOL2SOF1/\nSOL1EOL1/\nEOF1EOL2/\nEOF2EOL3/\nEOF3EOL4/\nEOF4\nSOF4/\nSOL4SOF3/\nSOL3SOF2/\nSOL2SOF1/\nSOL1EOL1/\nEOF1EOL2/\nEOF2EOL3/\nEOF3EOL4/\nEOF4\nSOF4/\nSOL4SOF3/\nSOL3SOF2/\nSOL2SOF1/\nSOL1EOL1/\nEOF1EOL2/\nEOF2EOL3/\nEOF3EOL4/\nEOF4TP TP TP\nTP TP TP\nTP TP TP32 0 8 16 24\n33 1 9 17 25\n39 7 15 23 312064 2072\n2065 2073\n2071 2079TP TP TP\nTP TP TP\nTP TP TP\nTP TP TP\n4 260 4\n12-bit pixel data \n@HLO _ORDER =0 3 2 1 0 5 4 9 8 7 6 11 10 11 10 1 0\n10-bit pixel data \n@HLO _ORDER =03 2 1 0 5 4 9 8 7 6 1 0 9 8 3 2\n1-bit digital data 12-bit pixel data \n@HLO _ORDER =1\nDDR Clock8 9 10 11 6 7 2 3 4 5 0 1 0 1 10 11\n10-bit pixel data \n@HLO _ORDER =16 7 8 9 4 54 0 1 2 3 8 9 0 1 6 7\n \nFigure 37 Data output format  \nIn sub -LVDS output mode, the MSB and LSB sequence could be configured with register HLO_ORDER,  please refer to \nTable 26. \nTable 26: Register setting for data output interface selection  \nAddress (hex)  Bit Name  Description  \n3010  0 HLO_ORDER  Sub-LVDS ouptut mode:  \n0: MSB output first  \n1: LSB output first  \nCSI-2(MIPI) output mode:  \n  Must be set to 1  \nChannel Multiplexing  \nWith the default setting, GMAX4002 use 8 channels to output the 12/10 -bit image data. It supports to readout the \nfull frame with reduced number of output channels. In thi s case, the frame rate will be reduced proportionally. All \nthe sub -LVDS channels unused will automatically be switched off to save power.  \nTable 27 GMAX4002 channel output info with different setting for CHAN_NUM  gives more detailed information for \nchannel multiplexing setting with register CHAN_NUM. For example, when CHAN_NUM is set to 2h, OUT <0:3> will \nbe used to output the full image, with each ch annel output 520 pixels per row. Figure 38 gives the number of pixels \noutput by each channel in one line time.   \nGPIXEL  \n \n2.4MP  Global Shutter CMOS Image Sensor      GMAX4002  \n53 \nConfidential  Table 27 GMAX4002 channel output info with different setting for CHAN_NUM  \nAddress (hex)  Bit Name  Value(hex)  Channal No.  Number of pixes per channel  \n3009  3:0 CHAN_NUM  4 OUT <0:7>  260 \n2 OUT <0:3>  520 \n1 OUT <0:1>  1040  \n0 OUT <0>  2080  \n \n \nTP 0 Line Output 1 1042 1043 TP\nRow output\nPixel Output Word\nSYNC Code of SOF /SOL1045 1214 1215 TP\nSYNC Code of EOF /EOL\nTP Line /Word0 1 TP TP TP TP\nOUT <0>\nOUT <1>\nOUT <7>\nOUT <0>8 \nChannels\n4 \nChannels1044\nSOF4/\nSOL4SOF3/\nSOL3SOF2/\nSOL2SOF1/\nSOL1TP TP TPEOL1/\nEOF1EOL2/\nEOF2EOL3/\nEOF3EOL4/\nEOF4\nSOF4/\nSOL4SOF3/\nSOL3SOF2/\nSOL2SOF1/\nSOL1EOL1/\nEOF1EOL2/\nEOF2EOL3/\nEOF3EOL4/\nEOF4\nSOF4/\nSOL4SOF3/\nSOL3SOF2/\nSOL2SOF1/\nSOL1EOL1/\nEOF1EOL2/\nEOF2EOL3/\nEOF3EOL4/\nEOF4\nSOF4/\nSOL4SOF3/\nSOL3SOF2/\nSOL2SOF1/\nSOL1EOL1/\nEOF1EOL2/\nEOF2EOL3/\nEOF3EOL4/\nEOF4TP TP TP\nTP TP TP\nTP TP TP\nSOF4/\nSOL4SOF3/\nSOL3SOF2/\nSOL2SOF1/\nSOL1TP TP TPEOL1/\nEOF1EOL2/\nEOF2EOL3/\nEOF3EOL4/\nEOF4\nSOF4/\nSOL4SOF3/\nSOL3SOF2/\nSOL2SOF1/\nSOL1EOL1/\nEOF1EOL2/\nEOF2EOL3/\nEOF3EOL4/\nEOF4\nSOF4/\nSOL4SOF3/\nSOL3SOF2/\nSOL2SOF1/\nSOL1TP TP TP32 0 8 16 24\n33 1 9 17 25\n39 7 15 23 312064 2072\n2065 2073\n2071 2079\n16 0 4 8 12\n17 1 5 9 132072 2076\n2073 2077\nSOF4/\nSOL4SOF3/\nSOL3SOF2/\nSOL2SOF1/\nSOL1EOL1/\nEOF1EOL2/\nEOF2EOL3/\nEOF3EOL4/\nEOF4TP TP TP 19 3 7 11 15 2075 2079EOL1/\nEOF1EOL2/\nEOF2EOL3/\nEOF3EOL4/\nEOF4TP TP TP 18 2 6 10 14 2074 2078TP TP TP\nTP TP TP\nTP TP TP\nTP TP TP\nTP TP TP\nTP TP TP\nTP TP TPTP TP TP4 260 4\n4 520 4OUT <1>\nOUT <2>\nOUT <3>\n2 \nChannelsSOF4/\nSOL4SOF3/\nSOL3SOF2/\nSOL2SOF1/\nSOL1\nSOF4/\nSOL4SOF3/\nSOL3SOF2/\nSOL2SOF1/\nSOL1EOL1/\nEOF1EOL2/\nEOF2EOL3/\nEOF3EOL4/\nEOF4TP TP TP 9 1 3 5 7 2077 2079EOL1/\nEOF1EOL2/\nEOF2EOL3/\nEOF3EOL4/\nEOF4TP TP TP 8 0 2 4 6 2076 2078\nTP TP TPTP TP TP\n4 1040 4OUT <0>\nOUT <1>\n1 \nChannelsSOF4/\nSOL4SOF3/\nSOL3SOF2/\nSOL2SOF1/\nSOL1EOL1/\nEOF1EOL2/\nEOF2EOL3/\nEOF3EOL4/\nEOF4TP TP TP 4 0 1 2 3 2078 2079 TP TP TP\n4 2080 4OUT <0>\n \nFigure 38 Pixel mapping with channel multiplexing  \nMIPI Serial Output  \nIn MIPI output mode, GMAX4002 has 4 lanes for data and 1 lane for clock.  \n\uf0d8 4 data lanes  \n\uf0d8 1 clock lane  \nThe data lanes are used to transport the 10 bit image data to the receiving end of the surrounding system. The clock \nlane outputs a Double Data Rate(DDR) clock which can be used at the receiving end to sample the image data. It is \nsynchronous to the data channels with minimum skew.   \nImage Data Ou tput Format  \nThe image data output format with 4 lanes  output is shown in  Figure 39. Blank(B) code is data word based and \nplaced any moment when packet header/footer code and valid data are not output.  \nGPIXEL  \n \n2.4MP  Global Shutter CMOS Image Sensor      GMAX4002  \n54 \nConfidential  In 4lane MIPI output mode, the register HLO_ORDER listed in Table 26 must be set to 1.  \nPH\nC2<9:2>\nOUT <0>\nOUT <1>\nOUT <2>\nOUT <3>\n4 CSI-2(MIPI ) \nlanes\nB\n B\n 0\n 1\n D\n 1042\n 1043\n B\n B\nRow \noutput\nB\n B\n B\nRow output of effective pixels\nPacket header\nPacket footer\nColumn output of effective pixels\nC0<9:2>\nC1<9:2>\nC3<9:2>\nC0<1:0> C1<1:0>\nC2<1:0> C3<1:0>\nC4<9:2>\nC5<9:2>\nC6<9:2>\nC7<9:2>\nC4<1:0> C5<1:0>\nC6<1:0> C7<1:0>\nC8<9:2>\nC9<9:2>\nC8<1:0> C9<1:0>\nC10<1:0> C11<1:0>\nC10<9:2>\nC11<9:2>\nC12<9:2>\nPH\nPH\nPH\nPF\nPF\nPF\nPF\nB\nB\nB\nB\nC8\n<2>\nC8\n<3>\nC8\n<4>\nC8\n<5>\nC8\n<6>\nC8\n<7>\nC8\n<8>\nC8\n<9>\nC8\n<0>\nC8\n<1>\nC9\n<0>\nC9\n<1>\nC10\n<0>\nC10\n<1>\nC11\n<0>\nC11\n<1>\nC5\n<2>\nC5\n<3>\nC5\n<4>\nC5\n<5>\nC5\n<6>\nC5\n<7>\nC5\n<8>\nC5\n<9>\n8-bit digital pixel data\nCSI-2(MIPI ) clock lane\n1-bit digital data\nC means column \n1044\n 1045\nBlank rows\nC2074 <9:2>\nC2072 <1:0> C2073 <1:0>\nC2074 <1:0> C2075 <1:0>\nC2076 <9:2>\nC2077 <9:2>\nC2078 <9:2>\nC2079 <9:2>\nC2076 <1:0> C2077 <1:0>\nC2078 <1:0> C2079 <1:0>\nC2075 <9:2>\n1214\n 1215\nB\nB\nB\nB\n \nFigure 39: Image data output format of 4lane 10bit (CSI-2 serial output)  \nWith register LANE_NUM and MIPI_CHN_EN configured at the same time, GMAX4002 also supports 2lane and \n1lane mode. See for more information of the registers.  \nTable 28 Register setting for lane number of MIPI mode   \nAddress (hex)  Bit Name  Description  \n3004  1:0 LANE_NUM  0h: 1lane  \n1h: 2lane  \n3h: 4lane  \nOthers: prohibited  \n3023  7:4 MIPI_CHN_EN  8h: 1lane  \nCh: 2lane  \nFh: 4lane  \nOthers: prohibited  \n \nThe image data output format with 2 lanes output is shown in  Figure 40. \nGPIXEL  \n \n2.4MP  Global Shutter CMOS Image Sensor      GMAX4002  \n55 \nConfidential  \nPH\n C2<9:2>\n OUT <0>\nOUT <1>\n2 CSI-2(MIPI ) \nlanes\nB\n B\n 0\n 1\n D\n 1042\n 1043\n B\n B\nRow \noutput\nB\n B\n B\nRow output of effective pixels\nPacket header\nPacket footer\nColumn output of effective pixels\nC0<9:2>\nC1<9:2>\n C3<9:2>\nC0<1:0> C1<1:0>\nC2<1:0> C3<1:0>\nC4<9:2>\nC5<9:2>\nC6<9:2>\n PH\nPF\nPF\nB\nB\nC2\n<2>\nC2\n<3>\nC2\n<4>\nC2\n<5>\nC2\n<6>\nC2\n<7>\nC2\n<8>\nC2\n<9>\nC0\n<0>\nC0\n<1>\nC1\n<0>\nC1\n<1>\nC2\n<0>\nC2\n<1>\nC3\n<0>\nC3\n<1>\nC0\n<2>\nC0\n<3>\nC0\n<4>\nC0\n<5>\nC0\n<6>\nC0\n<7>\nC0\n<8>\nC0\n<9>\n8-bit digital pixel data\nCSI-2(MIPI ) clock lane\n1-bit digital data\nC means column \n1044\n 1045\nBlank rows\nC2077 <9:2>\nC2078 <9:2>\nC2079 <9:2>\nC2076 <1:0> C2077 <1:0>\nC2078 <1:0> C2079 <1:0>\n1214\n 1215\nB\nB\n \nFigure 40: Image data output format of 2lane 10bit (CSI-2 serial output)  \nThe image data output format with 1 lane  output is shown in  Figure 41. \nPH\n C2<9:2>\n OUT <0>\n1 CSI-2(MIPI ) \nlane\nB\n B\n 0\n 1\n D\n 1042\n 1043\n B\n B\nRow \noutput\nB\n B\n B\nRow output of effective pixels\nPacket header\nPacket footer\nColumn output of effective pixels\nC0<9:2>\n C1<9:2>\n C3<9:2>\nC0<1:0> C1<1:0>\nC2<1:0> C3<1:0>\nC4<9:2>\n PF\n B\nC3\n<2>\nC3\n<3>\nC3\n<4>\nC3\n<5>\nC3\n<6>\nC3\n<7>\nC3\n<8>\nC\n<9>\nC0\n<0>\nC0\n<1>\nC1\n<0>\nC1\n<1>\nC2\n<0>\nC2\n<1>\nC3\n<0>\nC3\n<1>\nC2\n<2>\nC2\n<3>\nC2\n<4>\nC2\n<5>\nC2\n<6>\nC2\n<7>\nC2\n<8>\nC2\n<9>\n8-bit digital pixel data\nCSI-2(MIPI ) clock lane\n1-bit digital data\nC means column \n1044\n 1045\nBlank rows\nC2078 <9:2>\n C2079 <9:2>\nC2076 <1:0> C2077 <1:0>\nC2078 <1:0> C2079 <1:0>\n1214\n 1215\nB\n \nFigure 41: Image data output format of 1lane 10bit (CSI-2 serial output)  \n \n \n \nGPIXEL   \n                                                                                                                                                                          \n2.4MP  Global Shutter CMOS Image Sensor                                    GMAX4002  \n56 \nConfidential  Description of Various Functions  \nMinimum Exposure  \nWith external exposure, GMAX4002 can be configured to capture image with exposure time smaller than the on e \nspecified i n section ‘Exposure Time Calculation ’. Regi sters related are listed in Table 29. The delay for exposure \nstart will be 32 T CLK_PIX , and for exposure end is 2 T CLK_PIX . Triggering is only allowed when sensor is in  IDLE state. \nThe sensor enters FOT state right after detecting the falling edge of TEXP pulse.  \n \nTable 29 Register setting for working with minimum exposure  \nAddress (hex)  Bit Name  Description  \n2E04 0 MIN_EXP_EN  0: Disable minimum exposure mode  \n1: Enable minimum exposure mode  \n2E03  0 INT_EXP_EN  0: External exposure  \n1: Internal exposure  \n2E45:2E44  all MIN_EXP_TIMING  FFFFh: minimum exposure mode  \nDefault: others  \n \nFor minimum exposure, the exposure time is calculated by:  \nTEXP,MIN = TFR_W  - 30 × TCLK_PIX   \nWith T FR_W is the pulse width of TEXP , which should be larger than (900ns + 30  x TCLK_PIX ) in minimum exposure \nmode.  \nPins for Status Monitoring  \nPin TDIG (pin-23) can be used to monitor the sensor status. User needs to set the correct registers for status \nmonitoring.  \nTable 30 Register setting for status monitoring with digital output pins  \nAddress (hex)  Bit Name  Description  \n2E62  all TDIG  6h: FOT  \n2Ch: State’0’  \nOthers: N/A  \n \n  \nGPIXEL   \n                                                                                                                                                                          \n2.4MP  Global Shutter CMOS Image Sensor                                    GMAX4002  \n57 \nConfidential  Gain Adjustment  \nDigital Gain  \nThe digital gain (GDIG) is set with the 2 -bit coarse gain (DIG_GAIN_C) and 4-bit fine gain (DIG_GAIN_F) registers  \nshown in Table 31, expressed as:  \n GDIG = (2^DIG_GAIN_C) x ( 1 + DIG_GAIN_F/16)  \nFigure 42 shows the possible gain steps.   \n \nFigure 42: Digital gain  setting  \n \nTable 31 Register for digital gain setting in GMAX4002  \nAddress (hex)  Bit Name  Description  \n3043  1:0 DIG_GAIN_C  Digital coarse gain adjustment.  \n2’d0 is prohibited  when using digital gain . \n3042  3:0 DIG_GAIN_F  Digital fine gain adjustment.  \n303D  3:0 DIG_GAIN_SELN  When enable digital gain(2x ~ 15.5x), DIG_GAIN_SELN must \nbe set to 0.  \n\rWhen disable digital gain(1x), DIG_GAIN_SELN must be set \nto 1.  \n \n \n\nGPIXEL   \n                                                                                                                                                                          \n2.4MP  Global Shutter CMOS Image Sensor                                    GMAX4002  \n58 \nConfidential  PGA  Gain  \nThe PGA  gain of the sensor  can be adjusted by the register PGA_GAIN. More information for the register is shown \nin Table 32 and Table 33. \nTable 32 Register for  PGA  gain setting in GMAX4002  \nAddress (hex)  Bit Name  Description  \n2EC9  3:0 PGA_GAIN  PGA gain setting  \n \nTable 33 Mapping of PGA  gain and register value  \nRegister value (hex)  Gain (dec)  Register value (hex)  Gain (dec)  \nF 3.8 7 2.2 \nE 3.6 6 2.0 \nD 3.4 5 1.8 \nC 3.2 4 1.6 \nB 3.0 3 1.4 \nA 2.8 2 1.2 \n9 2.6 1 1.0 \n8 2.4 0 0.8 \n \n \n \n \n  \nGPIXEL   \n                                                                                                                                                                          \n2.4MP  Global Shutter CMOS Image Sensor                                    GMAX4002  \n59 \nConfidential  Image Flipping  \nHorizontal  \nGMAX4002  supports image flipping horizontally as shown in  Figure 43. Please note that when register FLIP_H as \nlisted in Table 34 is enabled, the pixel mapping needs to be adapted as well. Figure 44 and Figure 45 give an example \nof pixel mapping when FLIP_H is enabled  in sub -LVDS output mode and MIPI output mode respectively .  \n \nFigure 43 Image horizontal flipping  \nTable 34 Registers for image horizontal flipping  \nAddress (hex)  Bit Name  Description  \n3002  0 FLIP_H  0: Disable image horizontal flipping  \n1: Enable image horizontal flipping  \n \nTP 0 Line Output 1 1042 1043 TP\nRow output\nPixel Output Word\nSYNC Code of SOF /SOL1045 1214 1215 TP\nSYNC Code of EOF /EOL\nTP Line /Word0 1 TP TP TP TP\nOUT <0>\nOUT <1>\nOUT <7>2079 2071 2063 2055 15 7SOF4/\nSOL4SOF3/\nSOL3SOF2/\nSOL2SOF1/\nSOL1TP TP TPEOL1/\nEOF1EOL2/\nEOF2EOL3/\nEOF3EOL4/\nEOF4\n2078 2070 2062 2054 14 6SOF4/\nSOL4SOF3/\nSOL3SOF2/\nSOL2SOF1/\nSOL1EOL1/\nEOF1EOL2/\nEOF2EOL3/\nEOF3EOL4/\nEOF4\nSOF4/\nSOL4SOF3/\nSOL3SOF2/\nSOL2SOF1/\nSOL1EOL1/\nEOF1EOL2/\nEOF2EOL3/\nEOF3EOL4/\nEOF4\n2072 2064 2056 2048 8 0SOF4/\nSOL4SOF3/\nSOL3SOF2/\nSOL2SOF1/\nSOL1EOL1/\nEOF1EOL2/\nEOF2EOL3/\nEOF3EOL4/\nEOF4TP TP TP\nTP TP TP\nTP TP TP1044\nTP TP TP\nTP TP TP\nTP TP TP\nTP TP TP\n \nFigure 44 Pixel mapping when horizontal flipping is enabled in 8-lane sub -LVDS  \nGPIXEL   \n                                                                                                                                                                          \n2.4MP  Global Shutter CMOS Image Sensor                                    GMAX4002  \n60 \nConfidential  \nPH\nC2079 <3:0>\nOUT <0>\nOUT <1>\nOUT <2>\nOUT <3>\n4 CSI-2(MIPI ) \nlanes\nB\n B\n 0\n 1\n D\n 1042\n 1043\n B\n B\nRow \noutput\nB\n B\n B\nRow output of effective pixels\nPacket header\nPacket footer\nColumn output of effective pixels\nC2079 <11:4>\nC2078 <11:4>\nC2077 <11:4>\nC2078 <3:0>\nC2076 <11:4>\nC2077 <3:0>\n C2076 <3:0>\nC2075 <11:4>\nC2074 <11:4>\nC2075 <3:0>\n C2074 <3:0>\nC2073 <11:4>\nC2072 <11:4>\nC2073 <3:0>\n C2072 <3:0>\nC2071 <3:0>\nC2071 <11:4>\nC2070 <11:4>\nC2069 <11:4>\nC2070 <3:0>\nPH\nPH\nPH\nPF\nPF\nPF\nPF\nB\nB\nB\nB\nC2074\n<4>\nC2074\n<5>\nC2074\n<6>\nC2074\n<7>\nC2074\n<8>\nC2074\n<9>\nC2074\n<10>\nC2074\n<11>\nC2073\n<0>\nC2073\n<1>\nC2073\n<2>\nC2073\n<3>\nC2072\n<0>\nC2072\n<1>\nC2072\n<2>\nC2072\n<3>\nC2077\n<4>\nC2077\n<5>\nC2077\n<6>\nC2077\n<7>\nC2077\n<8>\nC2077\n<9>\nC2077\n<10>\nC2077\n<11>\n 8-bit digital pixel data\nCSI-2(MIPI ) clock lane\n1-bit digital data\nC means column \n1044\n 1045\nBlank rows\nC4<11:4>\nC3<11:4>\nC2<11:4>\nC3<3:0>\n C2<3:0>\nC1<11:4>\nC0<11:4>\nC1<3:0>\n C0<3:0>\nC5<3:0>\n C4<3:0>\n1214\n 1215\nB\nB\nB\nB \nFigure 45 Pixel mapping when horizontal flipping is enabled in 4 -lane MIPI  \n \nVertical  \nImage vertical flipping, as shown in  Figure 46, can be enabled through register FLIP_V.  \n \nFigure 46 Image vertical flipping  \nTable 35 Registers for image vertical flipping  \nAddress (hex)  Bit Name  Description  \n2E05  0 FLIP_V  0: Enable image vertical flipping  \n1: Disable image vertical flipping  \nNote:  \n1) Only  rows  in UD region  of pixels can do vertical flipping, refer to Figure 3. \n \n  \nGPIXEL   \n                                                                                                                                                                          \n2.4MP  Global Shutter CMOS Image Sensor                                    GMAX4002  \n61 \nConfidential  Black Level  \nThe black level for readout can be tuned  by DOFF . The black level offset changes linearly with this number.  \nTable 36 Registers for dark offset setting of GMAX4002  \nAddress (hex)  Bit Name  Description  \n305C  3:0 \nDOFF  Dark offset tunning.  \n305B  all \n \n \n \n \n  \nGPIXEL   \n                                                                                                                                                                          \n2.4MP  Global Shutter CMOS Image Sensor                                    GMAX4002  \n62 \nConfidential  Test Image  \nGMAX4002  can be configured to output a test image for users to debug the surrounding system.  The related \nregisters to configure GMAX4002  is described in Table 37. The data of pixel(X, Y) is calculated by:  \nDN TI = (X + Y) % DN MAX \nWhere  DN MAX is 4095 for 12 -bit. The test image  is shown in Figure 47. \nTable 37 Registers setting for GMAX4002  to output test image  \nAddress (hex)  Bit Name  Description  \n3001  0 TEST_IMG_EN  1: Test image out  \n0: Image capture  \nPIX(0,0)\nPIX(X,Y)XY\n \nFigure 47 Test image output (12-bit) \n \n  \nGPIXEL   \n                                                                                                                                                                          \n2.4MP  Global Shutter CMOS Image Sensor                                    GMAX4002  \n63 \nConfidential  Binning  Mode  \nGMAX4002  supports 2x2 binning mode in which at least x2 frame rate is achieved. The related  registers  are \ndescribed in Table 38. When binning mode is enabled, BINNING_EN should be set to 1, COLR _EN set to 0 and \nSUBSMP_SPACE set to 1. Sub -sampling is not supported in binning mode.  \n \nTable 38 Register s setting for binning mode   \nAddress (hex)  Bit Name  Description  \n323E  7 BINNING_EN  0: Disable binning mode  \n1: Enable binning mode  \n2E02  0 COLR_EN  0: Mono sensor  \n1: Color sensor  \n2E13  all SUBSMP_SPACE  Space between the readout rows  \n \n \n \n  \nGPIXEL   \n                                                                                                                                                                          \n2.4MP  Global Shutter CMOS Image Sensor                                    GMAX4002  \n64 \nConfidential  Temperature Readout  \nThe temperature sensor  location s on chip are shown in  Figure 2.  \nThe readout of digital temperature sensor is through register D_TEMP . An example for the output of this \ntemperature sensor (DN) versus the chip temperature would be  shown in the graph below  later . The temperature \nof the sensor can be  obtained by using this fit line.  \n \nNote : \n1) The fitting of the temperature output curve may be different from sensor to sensor, the user is advised to make  \ncalibration  on individual sensor for best accuracy.  \n2) The curve has high correlation with CLK_ PIX frequency (80MHz in default) , when a change of CLK_ PIX happens, \nthis curve needs to be re -characterized  \n3) The I2C address  of D_TEMP  is 3250:324F . \nGPIXEL   \n                                                                                                                                                                          \n2.4MP  Global Shutter CMOS Image Sensor                                                                            GMAX4002  \n65 \nConfidential  OTP Memory Readout  \nReading out the OTP memory data occurs via the I2C interface. Figure 48 shows the read out timing to read out the OTP memory in I2C. \n\uf0b7 OTP Readout is initiated by writing the desired OTP address to I2C address 3401h.  \n\uf0b7 Next, reading address 3402h sends out the data on the programmed OTP address of the I2C register.  \n\uf0b7 To jump to another OTP address, a new OTP address has to be uploaded to I2C address 3401h. Repeat ② in Figure 48 would to sequential readout the memory \ndata.  \nA7 A6 A1 0 Sr D6 D7ACK/\nNACKACK/\nNACKD0 D6 D7ACK/\nNACKD0 A7 A6SrSLAVE address\nA1 1 D6 D7ACK/\nNACKD0ACK/\nNACKPSLAVE address Address [15:8]  Address [7:0]  DATA <1>OTP data storage in N\nA7 A6 A1 0 S D6 D7ACK/\nNACKACK/\nNACKD0 D6 D7ACK/\nNACKD0SLAVE address Address [15:8]  Address [7:0]\nD6 D7 D0ACK/\nNACK DATA <0>OTP address N repeated start \nconditionrepeated start \ncondition\n1 2SYS_RST_N\nAddress 3401 h Address 3402 h\nSDA\nSCL\n \nFigure 48 Readout of OTP data in I2C \nGPIXEL   \n                                                                                                                                                                          \n2.4MP  Global Shutter CMOS Image Sensor                                    GMAX4002  \n66 \nConfidential  OTP Data Description  \nT.B.D . \n \n \n  \nGPIXEL   \n                                                                                                                                                                          \n2.4MP  Global Shutter CMOS Image Sensor                                    GMAX4002  \n67 \nConfidential  Blemish Specification  \nGMAX4002 outgoing test will be performed with the following sensor configuration.  \nTable 39 Sensor configuration  \nSensor version  Test Configuration  Channels  PGA gain  \nNormal speed version  10-bit @sub -LVDS  recommended settings  8CH PGA gain  x1 \n10-bit @MIPI  recommended settings  4CH PGA gain x1  \n \nGMAX 4002  monochromatic sensors ’ defect limits only apply to Area A of 2048 x1200  pixel array; GMAX 4002  Bayer \nRGB color sensors ’ defect limits only apply to Area B of 1988 x1140  pixel array.  \nEffective pixels : 2048 (H) x 1200 (V)\n164\nMarginMargin\nMarginMargin\nPin- 74 Pin- 5416\n8 4Dummy\nArea A , 2048 x 1200\nArea B , 1988 x 1140\n(16,8)(46,38)(2033 ,1177 )(2063 ,1207 )\n \nFigure 49 Defects controlled area  \nTest images  \nTest images as listed in Table 40 are grabbed with GMAX4002 final tester at room temperature, under the illuminat ion \nof a white LED light source with uniformity better than 98% across the image area, and the F number is 16. No image \ncorrection algorithm is applied.  \nTable 40 Test image Definition  \nTest Images  Description  \nDark  2 images grabbed  at shortest integration time in dark environment; per pixel average is performed \non these images to form the test image.  \nGrey  2 images grabbed at a typical integration time (T) to reach half -saturation in light environment; per \npixel average is performed  on these images to form the test image.  \nSaturation  2 images grabbed at an integration time of 2xT in light environment; per pixel average is performed \non these images to form the test image.  \nGPIXEL   \n                                                                                                                                                                          \n2.4MP  Global Shutter CMOS Image Sensor                                    GMAX4002  \n68 \nConfidential  Defect definitions  \nTable below describes the definition of defects.  \nTable 41 Defect definitions  \nDefect Name  Description  \nBad pixel in Dark image  Any pixel deviates more than +/ -5% of the full swing (1) from the mean value of the Dark \nimage.  \nBad pixel in Grey image  Any pixel deviates more than +/ -20% from the mean value of the Grey image.  \nBad pixel in Saturation image  Any pixel deviates more than -20% from the mean value of the Saturation image.  \nTotal defect pixels  The total number of non -overlapping bad pixels in Dark, Grey and Satu ration image.  \nCluster  Horizontal and vertical consecutive defect pixels are considered as a cluster.  \nCluster (N)  Any cluster with size of N defect pixels is considered as cluster (N). For color sensors, the \nrule is applied within each color plane (R, Gr,  B, Gb).  \nDefect Row/Column  Any row/column with its mean value deviating more than +/ -3% of the full swing from the \nmean value of the Dark image.  \nAny row/column with its mean value deviating more than +/ -5% from the mean value of the \nGrey image.  \nAny row/column with its mean value deviating more than -5% from the mean value of the \nSaturation image.  \nOr a row/column with more than 100 defect pixels.  \n(1) Swing is equal to the difference between the mean value of the Saturation image a nd the mean value of the  Dark image.  \nDefect limits  \nMaximum allowed defect numbers are indicated below.  \nTable 42 Defect limits (1)  \nItem  Demo grade  \nMaximum # of defect pixels  200 \nMaximum # of defect row and column  0 \nMaximum # of Clusters ≥ 3 (2)(3) 0 \n(1) Sensors failed the defect limits but functional is classified as Engineering sample grade.  \n(2) For color version sensor, t hree consecutive defect pixels or more within same color plane is not allowed . \n(3) Example of allowed and not allowed cluster s. “OK” is allowed, “NOK ” is not allowed.  \n \nX X X XX X\nX X XX X XXX X\nX X\nX X\nX XXXX X X X X\nX X\nX X X\nX\nOK OK OK NOK NOKOK OK OK NOK NOK NOK\nGPIXEL   \n                                                                                                                                                                          \n2.4MP  Global Shutter CMOS Image Sensor                                    GMAX4002  \n69 \nConfidential  Storage Condition, Handling and Soldering  \nT.B.D.  \n \nGPIXEL   \n                                                                                                                                                                          \n2.4MP  Global Shutter CMOS Image Sensor                                                                            GMAX4002  \n70 \nConfidential  Product  Ordering Information  \n \nPart number  Blemish Grade  Description  Marking Code  \nGMAX4002 -AVM -NCV -AUD  Demo  grade  Monochrome, microlens, ceramic 74 pins LCC, Sealed D263T glass with no AR \ncoating, 229fps @ 10bit 8 x LVDS, 195fps @  12bit 8 x LVDS, 166fps @ 10bit 4 x MIPI  GMAX4002 -AM \nSerial number  GMAX4002 -AVM -NCV -AUE  ES \nGMAX4002 -AVC-NCV -AUD  Demo  grade  Color, microlens, ceramic 74 pins LCC, Sealed D263T glass with no AR coating, \n229fps @ 10bit 8 x LVDS, 195fps @ 12bit 8 x LVDS, 166fps @ 10bit 4 x MIPI  GMAX4002 -AC \nSerial number  GMAX4002 -AVC-NCV -AUE  ES \n \n \n  \nGPIXEL   \n                                                                                                                                                                          \n2.4MP  Global Shutter CMOS Image Sensor                                    GMAX4002  \n71 \nConfidential  Packing and Tray Specification  \nT.B.D.  \n \n \n  \nGPIXEL   \n                                                                                                                                                                          \n2.4MP  Global Shutter CMOS Image Sensor                                    GMAX4002  \n72 \nConfidential  Rights  \nGpixel reserves the right to change any information contained herein without notice.  \n  \nGPIXEL  \n2.4MP  Global Shutter CMOS Image Sensor GMAX4002  \n73 \nConfidential  For More Information  \nGpixel Changchun OptoTech \nInc. \nBuilding #5, Optoelectronic \nInformation Industrial Park, \n#7691 Ziyou Road, Changchun, \nJilin, China.  \nTEL. +86 -431-85077785  Gpixel Microelectronics \nHangzhou Inc.  \nE3044, 3rd floor, Building  \n1(south), 368 Liuhe road, Binjiang, \nHangzhou,  China.  \nTEL.+86 -571- 87718606 -888 Gpixel NV  \nCopernicuslaan 60, \n2018 Antwerp, \nBelgium  \nTEL. +32 -33034442  Gpixel Japan Co., Ltd.  \n4th floor, 2 -4-32 Aomi, \nKotoku, Tokyo, 135 -\n0064, Japan  \nTEL. +81 -03-5962- 1600  \n"}]
!==============================================================================!
### GMAX4002-AVC-NCV-AUD Summary

**Component Type:**  
Global Shutter CMOS Image Sensor

**Key Specifications:**
- **Resolution:** 2048 (H) x 1200 (V) effective pixels
- **Pixel Size:** 4 µm x 4 µm
- **Optical Format:** 1/1.7 inch
- **Global Shutter:** Yes (electronic)
- **Max Frame Rate:** 
  - 229 fps @ 10-bit (Sub-LVDS)
  - 195 fps @ 12-bit (Sub-LVDS)
  - 166 fps @ 10-bit (MIPI)
- **Supply Voltage:**
  - Analog: 3.3V
  - Digital: 1.2V
  - IO: 1.8V - 3.3V
- **Power Consumption:** < 0.5 W
- **Operating Temperature Range:** TBD (to be determined)
- **Package Type:** LCC, 74 pins
- **Moisture Sensitive Level:** Not specified in the provided data.

**Special Features:**
- External triggering capability
- On-chip sequencer
- I2C control interface
- One Time Programmable (OTP) memory
- Supports various output formats: Sub-LVDS and MIPI (CSI-2)
- Features such as vertical sub-sampling, image flipping, and region of interest (ROI) with speed boosting.

### Description
The GMAX4002 is a 2.4MP Global Shutter CMOS Image Sensor designed for high-speed imaging applications. It features a resolution of 2048 x 1200 pixels with a pixel size of 4 µm, allowing for high-quality image capture with minimal motion blur due to its electronic global shutter capability. The sensor supports various gain settings and has a high dynamic range, making it suitable for diverse lighting conditions.

### Typical Applications
The GMAX4002 is primarily used in:
- **Machine Vision:** For industrial automation and quality control.
- **Logistics Bar Code Readers:** Enhancing the speed and accuracy of scanning systems.
- **Intelligent Traffic Systems (ITS):** For monitoring and analyzing traffic flow and vehicle recognition.
- **Surveillance Systems:** Providing high-quality imaging for security applications.

This sensor is ideal for applications requiring fast image capture and processing, such as robotics, automotive systems, and advanced imaging solutions in various industries.