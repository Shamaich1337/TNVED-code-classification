[{'role': 'system', 'content': 'You are a technical specialist with expertise in electronics. Your task is to analyze datasheets for electronic components and provide a concise summary of the product’s key characteristics and specifications. In addition, you need to gather textual information about the component, including its description and typical applications.Instructions:    Identify the correct component in the datasheet using the provided product code.    Summarize key parameters, including:        Voltage ratings        Current ratings        Power consumption        Operating temperature range        Package type        Special features or notes (if applicable)        Moisture Sensetive Level JEDEC J-STD-020E    Provide a short description of the component, including what it is (e.g., transistor, microcontroller, sensor) and its primary function.    Explain typical applications for the component (e.g., power management, signal processing, data storage, etc.).    Be thorough and accurate: Ensure the information corresponds specifically to the product code, as some datasheets cover multiple variants.Your goal is to create a clear and accurate technical summary that includes both key specifications and a description of what the component is used for.'}, {'role': 'user', 'content': 'Give me information about the component of TCA8418RTWR production of TEXAS INSTRUMENTS from the text:TCA8418\nGNDVCC\nSDA\nSCLROW0\nI2C or SMBus Master\n(for example, Processor)\nINTROW1\nROW2\nROW3\nCOL0\nCOL1\nCOL2123\n456\n789\n*0#\nCopyright © 2016, Texas Instruments Incorporated\nProduct\nFolder\nOrder\nNow\nTechnical\nDocuments\nTools &\nSoftware\nSupport &\nCommunity\nAnIMPORTANT NOTICE attheend ofthisdata sheet addresses availability, warranty, changes, use insafety-critical applications,\nintellectual property matters andother important disclaimers. PRODUCTION DATA.TCA8418\nSCPS215G –SEPTEMBER 2009 –REVISED JUNE 2018\nTCA8418 I2CControlled Keypad ScanICWithIntegrated ESDProtection\n11Features\n1•Operating Power-Supply Voltage Range of1.65-V\nto3.6-V\n•Supports 80Buttons With Use of18GPIOs\n•Supports QWERTY Keypad Operation Plus GPIO\nExpansion\n•Low Standby (Idle) Current Consumption: 3μA\n•Supports 1-MHz Fast Mode Plus I2CBus\n•10Byte FIFO toStore 10Key Presses and\nReleases\n•Open-Drain Active-Low Interrupt Output\n•Integrated Debounce Time of50μs\n•Schmitt-Trigger Action Allows Slow Input\nTransition andBetter Switching Noise Immunity at\ntheSCL andSDA Inputs: Typical Vhysat1.8Vis\n0.18 V\n•Latch-Up Performance Exceeds 200mAPer\nJESD 78,Class II\n•ESD Protection Exceeds JESD 22onall18GPIO\nPins andnonGPIO pins\n–2000-V Human Body Model (A114-A)\n–1000-V Charged Device Model (C101)2Applications\n•Smart Phones\n•Tablets\n•HMI Panels\n•GPS Devices\n•MP3 Players\n•Digital Cameras\n3Description\nThe TCA8418 isakeypad scan device with\nintegrated ESD protection. Itcanoperate from 1.65 V\nto3.6Vand has 18general purpose inputs/outputs\n(GPIO) that canbeused tosupport upto80keys via\ntheI2Cinterface.\nThe keycontroller debounces inputs and maintains a\n10byte FIFO ofkey-press and release events which\ncanstore upto10keys with overflow wrap capability.\nAninterrupt (INT) output can beconfigured toalert\nkeypresses and releases either asthey occur, orat\nmaximum rate.\nDevice Information(1)\nPART NUMBER PACKAGE BODY SIZE (NOM)\nTCA8418 WQFN (24) 4.00 mm×4.00 mm\n(1)Forallavailable packages, see theorderable addendum at\ntheendofthedatasheet.\nSimplified Schematic\nOnly 7GPIOs areshown outofthefull18GPIOs\n2TCA8418\nSCPS215G –SEPTEMBER 2009 –REVISED JUNE 2018 www.ti.com\nProduct Folder Links: TCA8418Submit Documentation Feedback Copyright ©2009 –2018, Texas Instruments IncorporatedTable ofContents\n1Features .................................................................. 1\n2Applications ........................................................... 1\n3Description ............................................................. 1\n4Revision History ..................................................... 2\n5PinConfiguration andFunctions ......................... 3\n6Specifications ......................................................... 4\n6.1 Absolute Maximum Ratings ..................................... 4\n6.2 ESD Ratings .............................................................. 4\n6.3 Recommended Operating Conditions ....................... 4\n6.4 Thermal Information .................................................. 4\n6.5 Electrical Characteristics ........................................... 5\n6.6 I2CInterface Timing Requirements ........................... 6\n6.7 Reset Timing Requirements ..................................... 6\n6.8 Switching Characteristics .......................................... 7\n6.9 Keypad Switching Characteristics ............................. 7\n6.10 Typical Characteristics ............................................ 8\n7Parameter Measurement Information ................ 11\n8Detailed Description ............................................ 15\n8.1 Overview ................................................................. 158.2 Functional Block Diagram ....................................... 15\n8.3 Feature Description ................................................. 15\n8.4 Device Functional Modes ........................................ 20\n8.5 Programming .......................................................... 21\n8.6 Register Maps ........................................................ 25\n9Application andImplementation ........................ 37\n9.1 Application Information ............................................ 37\n9.2 Typical Application .................................................. 39\n10Power Supply Recommendations ..................... 42\n11Layout ................................................................... 44\n11.1 Layout Guidelines ................................................. 44\n11.2 Layout Example .................................................... 44\n12Device andDocumentation Support ................. 45\n12.1 Receiving Notification ofDocumentation Updates 45\n12.2 Community Resources .......................................... 45\n12.3 Trademarks ........................................................... 45\n12.4 Electrostatic Discharge Caution ............................ 45\n12.5 Glossary ................................................................ 45\n13Mechanical, Packaging, andOrderable\nInformation ........................................................... 45\n4Revision History\nNOTE: Page numbers forprevious revisions may differ from page numbers inthecurrent version.\nChanges from Revision F(July 2017) toRevision G Page\n•Added sentence: "Ifdebouncing isenabled, these registers return... "toGPIO Data Status Registers,\nGPIO_DAT_STAT1 –3(Address 0x14 –0x16) ....................................................................................................................... 31\nChanges from Revision E(November 2015) toRevision F Page\n•Changed theWQFN Body Size From: 4.00 mm×3.00 mmTo:4.00 mm×4.00 mmanddeleted theDSBGA (25)\npackage intheDevice Information table ............................................................................................................................... 1\nChanges from Revision D(July 2014) toRevision E Page\n•Added ESD Ratings table, Feature Description section, Device Functional Modes ,Application andImplementation\nsection, Power Supply Recommendations section, Layout section, Device andDocumentation Supportt section, and\nMechanical, Packaging, andOrderable Information section ................................................................................................. 1\n•Updated Register Descriptions table. .................................................................................................................................. 25\nChanges from Revision B(March 2010) toRevision C Page\n•Added CAD Interrupt Errata section. .................................................................................................................................... 35\n•Added Overflow Errata section. ........................................................................................................................................... 36\n24 INT 7 ROW11 ROW7 18  COL923 SCL 8 ROW02 ROW6 17  COL822 SDA 9 COL03 ROW5 16  COL721 VCC 10 COL14 ROW4 15  COL620 RESET 11 COL25 ROW3 14  COL519 GND 12 COL36 ROW2 13  COL4\nNot to scaleThermal\nPad\n3TCA8418\nwww.ti.com SCPS215G –SEPTEMBER 2009 –REVISED JUNE 2018\nProduct Folder Links: TCA8418Submit Documentation Feedback Copyright ©2009 –2018, Texas Instruments Incorporated5PinConfiguration andFunctions\nRTW Package\n24-Pin WQFN\nTopView\nPinFunctions\nPIN\nTYPE DESCRIPTION\nNo. NAME\n1 ROW7 I/O GPIO orrow7inkeypad matrix. Ifunused, connect toVCCthrough apull-up resistor.\n2 ROW6 I/O GPIO orrow6inkeypad matrix. Ifunused, connect toVCCthrough apull-up resistor.\n3 ROW5 I/O GPIO orrow5inkeypad matrix. Ifunused, connect toVCCthrough apull-up resistor.\n4 ROW4 I/O GPIO orrow4inkeypad matrix. Ifunused, connect toVCCthrough apull-up resistor.\n5 ROW3 I/O GPIO orrow3inkeypad matrix. Ifunused, connect toVCCthrough apull-up resistor.\n6 ROW2 I/O GPIO orrow2inkeypad matrix. Ifunused, connect toVCCthrough apull-up resistor.\n7 ROW1 I/O GPIO orrow1inkeypad matrix. Ifunused, connect toVCCthrough apull-up resistor.\n8 ROW0 I/O GPIO orrow0inkeypad matrix. Ifunused, connect toVCCthrough apull-up resistor.\n9 COL0 I/O GPIO orcolumn 0inkeypad matrix. Ifunused, connect toVCCthrough apull-up resistor.\n10 COL1 I/O GPIO orcolumn 1inkeypad matrix. Ifunused, connect toVCCthrough apull-up resistor.\n11 COL2 I/O GPIO orcolumn 2inkeypad matrix. Ifunused, connect toVCCthrough apull-up resistor.\n12 COL3 I/O GPIO orcolumn 3inkeypad matrix. Ifunused, connect toVCCthrough apull-up resistor.\n13 COL4 I/O GPIO orcolumn 4inkeypad matrix. Ifunused, connect toVCCthrough apull-up resistor.\n14 COL5 I/O GPIO orcolumn 5inkeypad matrix. Ifunused, connect toVCCthrough apull-up resistor.\n15 COL6 I/O GPIO orcolumn 6inkeypad matrix. Ifunused, connect toVCCthrough apull-up resistor.\n16 COL7 I/O GPIO orcolumn 7inkeypad matrix. Ifunused, connect toVCCthrough apull-up resistor.\n17 COL8 I/O GPIO orcolumn 8inkeypad matrix. Ifunused, connect toVCCthrough apull-up resistor.\n18 COL9 I/O GPIO orcolumn 9inkeypad matrix. Ifunused, connect toVCCthrough apull-up resistor.\n19 GND – Ground\n20 RESET I Active-low reset input. Connect toVCCthrough apull-up resistor, ifnoactive connection isused.\n21 VCC - Supply voltage of1.65 Vto3.6V\n22 SDA I/O Serial data bus. Connect toVCCthrough apull-up resistor.\n23 SCL I Serial clock bus. Connect toVCCthrough apull-up resistor.\n24 INT O Active-low interrupt output. Open drain structure. Connect toVCCthrough apull-up resistor.\n4TCA8418\nSCPS215G –SEPTEMBER 2009 –REVISED JUNE 2018 www.ti.com\nProduct Folder Links: TCA8418Submit Documentation Feedback Copyright ©2009 –2018, Texas Instruments Incorporated(1) Stresses beyond those listed under Absolute Maximum Ratings may cause permanent damage tothedevice. These arestress ratings\nonly, andfunctional operation ofthedevice atthese oranyother conditions beyond those indicated under Recommended Operating\nConditions isnotimplied. Exposure toabsolute-maximum-rated conditions forextended periods may affect device reliability.\n(2) The input negative-voltage andoutput voltage ratings may beexceeded iftheinput andoutput current ratings areobserved.6Specifications\n6.1 Absolute Maximum Ratings(1)\nover operating free-air temperature range (unless otherwise noted)\nMIN MAX UNIT\nVCC Supply voltage range –0.5 4.6 V\nVI Input voltage range(2)–0.5 4.6 V\nVOVoltage range applied toanyoutput inthehigh-impedance orpower-off state(2)–0.5 4.6\nV\nOutput voltage range inthehigh orlowstate(2)–0.5 4.6\nIIK Input clamp current VI<0 ±20 mA\nIOK Output clamp current VO<0 ±20 mA\nIOL Continuous output Low currentPport, SDA\nVO=0toVCC50\nmA INT 25\nIOH Continuous output High current Pport VO=0toVCC 50\nTstg Storage temperature range –65 150 °C\n(1) JEDEC document JEP155 states that500-V HBM allows safe manufacturing with astandard ESD control process.\n(2) JEDEC document JEP157 states that250-V CDM allows safe manufacturing with astandard ESD control process.6.2 ESD Ratings\nVALUE UNIT\nV(ESD) Electrostatic dischargeHuman body model (HBM), perANSI/ESDA/JEDEC JS-001, allpins(1)±2000\nV Charged device model (CDM), perJEDEC specification JESD22-C101,\nallpins(2) ±1000\n6.3 Recommended Operating Conditions\nMIN MAX UNIT\nVCC Supply voltage 1.65 3.6 V\nVIH High-level input voltage SCL, SDA, ROW0 –7,COL0 –9,RESET 0.7×VCC 3.6 V\nVIL Low-level input voltage SCL, SDA, ROW0 –7,COL0 –9,RESET –0.5 0.3×VCC V\nIOH High-level output current ROW0 –7,COL0 –9 10 mA\nIOL Low-level output current ROW0 –7,COL0 –9 25 mA\nTA Operating free-air temperature –40 85 °C\n(1) Formore information about traditional andnew thermal metrics, seetheSemiconductor andICPackage Thermal Metrics application\nreport.6.4 Thermal Information\nTHERMAL METRIC(1)TCA8418\nUNIT RTW (WQFN)\n24PINS\nRθJA Junction-to-ambient thermal resistance 38.9 °C/W\nRθJC(top) Junction-to-case (top) thermal resistance 40.6 °C/W\nRθJB Junction-to-board thermal resistance 17.2 °C/W\nψJT Junction-to-top characterization parameter 0.9 °C/W\nψJB Junction-to-board characterization parameter 17.2 °C/W\nRθJC(bot) Junction-to-case (bottom) thermal resistance 6.6 °C/W\n5TCA8418\nwww.ti.com SCPS215G –SEPTEMBER 2009 –REVISED JUNE 2018\nProduct Folder Links: TCA8418Submit Documentation Feedback Copyright ©2009 –2018, Texas Instruments Incorporated(1) Assumes thatoneGPIO isenabled.6.5 Electrical Characteristics\nover recommended operating free-air temperature range, VCC=1.65 Vto3.6V(unless otherwise noted)\nPARAMETER TEST CONDITIONS VCC MIN TYP MAX UNIT\nVIK Input diode clamp voltage II=–18mA 1.65 Vto3.6V –1.2 V\nVPORR Power-on reset voltage, VCCrising\nVI=VCCorGND, IO=0 1.65 Vto3.6V1.03 1.43\nV\nVPORF Power-on reset voltage, VCCfalling 0.76 1.15\nVOHROW0 –7,COL0 –9high-level output\nvoltageIOH=–1mA 1.65 V 1.25\nVIOH=–8mA1.65 V 1.2\n2.3V 1.8\n3V 2.6\nIOH=–10mA1.65 V 1.1\n2.3V 1.7\n3V 2.5\nVOLROW0 –7,COL0 –9low-level output\nvoltageIOL=1mA 1.65 V 0.4\nVIOL=8mA1.65 V 0.45\n2.3V 0.25\n3V 0.25\nIOL=10mA1.65 V 0.6\n2.3V 0.3\n3V 0.25\nIOLSDA VOL=0.4V 1.65 Vto3.6V 3\nmA\nINTandCAD_INT VOL=0.4V 1.65 Vto3.6V 3\nIISCL, SDA, ROW0 –7,COL0 –9,\nRESETVI=VCCIorGND 1.65 Vto3.6V 1μA\nRINT Internal pull-up resistor value ROW0 –7,COL0 –9 105 kΩ\nICC Supply currentVIonSDA,\nROW0 –7,\nCOL0 –9=VCCor\nGND,\nIO=0,I/O=inputs,fSCL=0kHzOscillator\nOFF1.65 Vto3.6V10\nμAOscillator ON 18\nfSCL=400kHz\n1keypress1.65 V 50\n3.6V 90\nfSCL=1MHz1.65 V 65\n3.6V 153\nfSCL=400kHzGPI low(pull-\nupenable)(1)\n1.65 Vto3.6V55\nfSCL=1MHz 65\nfSCL=400kHz GPI low(pull-\nupdisable)15\nfSCL=1MHz 24\nfSCL=400kHz\n1GPO active55\nfSCL=1MHz 65\nCI SCL VI=VCCIorGND 1.65 Vto3.6V 6 8 pF\nCioSDA\nVIO=VCCorGND 1.65 Vto3.6V10 12.5\npF\nROW0 –7,COL0 –9 5 6\n6TCA8418\nSCPS215G –SEPTEMBER 2009 –REVISED JUNE 2018 www.ti.com\nProduct Folder Links: TCA8418Submit Documentation Feedback Copyright ©2009 –2018, Texas Instruments Incorporated(1) Cb=total capacitance ofonebuslineinpF6.6 I2CInterface Timing Requirements\nover recommended operating free-air temperature range (unless otherwise noted) (see Figure 16)\nSTANDARD MODE\nI2CBUSFAST MODE\nI2CBUSFAST MODE PLUS (FM+)\nI2CBUS UNIT\nMIN MAX MIN MAX MIN MAX\nfscl I2Cclock frequency 0 100 0 400 0 1000 kHz\ntsch I2Cclock high time 4 0.6 0.26 μs\ntscl I2Cclock lowtime 4.7 1.3 0.5 μs\ntsp I2Cspike time 50 50 50 ns\ntsds I2Cserial data setup time 250 100 50 ns\ntsdh I2Cserial data hold time 0 0 0 ns\nticr I2Cinput risetime 1000 20+0.1C b(1)300 120 ns\nticf I2Cinput falltime 300 20+0.1C b(1)300 120 ns\ntocf I2Coutput falltime; 10pFto400pFbus 300 20+0.1C b(1)300 120μs\ntbufI2Cbusfree time between Stop and\nStart4.7 1.3 0.5 μs\ntstsI2CStart orrepeater Start condition\nsetup time4.7 0.6 0.26 μs\ntsthI2CStart orrepeater Start condition hold\ntime4 0.6 0.26 μs\ntsps I2CStop condition setup time 4 0.6 0.26 μs\ntvd(data)Valid data time; SCL lowtoSDA output\nvalid1 0.9 0.45μs\ntvd(ack)Valid data time ofACK condition; ACK\nsignal from SCL lowtoSDA (out) low1 0.9 0.45μs\n(1) The GPIO debounce circuit uses each GPIO input which passes through atwo-stage register circuit. Both registers areclocked bythe\nsame clock signal, presumably free-running, with anominal period of50μs.When aninput changes state, thenew state isclocked into\nthefirststage ononeclock transition. Onthenext same-direction transition, iftheinput state isstillthesame asthepreviously clocked\nstate, thesignal isclocked intothesecond stage, andthen ontotheremaining circuits. Since theinputs areasynchronous totheclock,\nitwilltake anywhere from zero to50μsafter theinput transition toclock thesignal intothefirststage. Therefore, thetotal debounce\ntime may beaslong as100μs.Finally, toaccount foraslow clock, thespec further guard-banded at120μs.6.7 Reset Timing Requirements\nover recommended operating free-air temperature range (unless otherwise noted) (see Figure 19)\nSTANDARD MODE, FAST\nMODE, FAST MODE PLUS\n(FM+)\nI2CBUSUNIT\nMIN MAX\ntW Reset pulse duration 120(1)μs\ntREC Reset recovery time 120(1)μs\ntRESET Time toreset 120(1)μs\n7TCA8418\nwww.ti.com SCPS215G –SEPTEMBER 2009 –REVISED JUNE 2018\nProduct Folder Links: TCA8418Submit Documentation Feedback Copyright ©2009 –2018, Texas Instruments Incorporated6.8 Switching Characteristics\nPARAMETER FROM TOSTANDARD MODE,\nFAST MODE, FAST\nMODE PLUS (FM+)\nI2CBUSUNIT\nMIN MAX\ntIV Interrupt valid timeKey event orKey\nunlock orOverflow\nROW0 –7,\nCOL0 –9INT20 60\nμsGPI_INT with\nDebounce_DIS_Low40 120\nGPI_INT with\nDebounce_DIS_High10 30\ntIR Interrupt reset delay time SCL INT 200 ns\ntPV Output data valid SCLROW0 –7,\nCOL0 –9400 ns\ntPS Input data setup time Pport SCL 0 ns\ntPH Input data hold time Pport SCL 300 ns\n6.9 Keypad Switching Characteristics\nPARAMETERSTANDARD MODE, FAST MODE, FAST\nMODE PLUS (FM+)\nI2CBUS UNIT\nMIN MAX\nKey press todetection delay 25 μs\nKey release todetection delay 25 μs\nKeypad unlock timer 7 s\nKeypad interrupt mask timer 31 s\nDebounce 60 ms\n010203040506070\n0.0 0.1 0.2 0.3 0.4 0.5 0.6\nOutput Low Voltage, V OL(V)Sink Current, I SINK(mA)TA= -40°C\nTA= 25°C\nTA= 85°CVCC= 1.8 V\n020406080100\n0.0 0.1 0.2 0.3 0.4 0.5 0.6\nOutput Low Voltage, V OL(V)Sink Current, I SINK(mA)TA= -40°C\nTA= 25°C\nTA= 85°CVCC= 2.5 V\n0102030405060\n0.0 0.1 0.2 0.3 0.4 0.5 0.6\nOutput Low Voltage, V OL(V)Sink Current, I SINK(mA)TA= -40°C\nTA= 25°C\nTA= 85°CVCC= 1.65 V\n01234567891011\n1.6 2.0 2.4 2.8 3.2 3.6\nSupply Voltage, V CC(V)Supply Current, I CC(uA)\n02004006008001000120014001600\n-40 -15 10 35 60 85\nTemperature, T A(°C)Supply Current, I CC(nA) VCC= 3.6 V\nVCC= 3.3 V\nVCC= 2.5 V\nVCC= 1.8 V\nVCC= 1.65 V\n0123456789101112\n-40 -15 10 35 60 85\nTemperature, T A(°C)Supply Current, I CC(µA)VCC= 3.6 V\nVCC= 3.3 V\nVCC= 2.5 V\nVCC= 1.8 V\nVCC= 1.65 V\n8TCA8418\nSCPS215G –SEPTEMBER 2009 –REVISED JUNE 2018 www.ti.com\nProduct Folder Links: TCA8418Submit Documentation Feedback Copyright ©2009 –2018, Texas Instruments Incorporated6.10 Typical Characteristics\nTA=25°C(unless otherwise noted)\nFigure 1.Supply Current vsTemperature Figure 2.Standby Supply Current vsTemperature\nFigure 3.Supply Current vsSupply Voltage Figure 4.I/OSink Current vsOutput Low Voltage\n(VCC=1.65 V)\nFigure 5.I/OSink Current vsOutput Low Voltage\n(VCC=1.8V)Figure 6.I/OSink Current vsOutput Low Voltage\n(VCC=2.5V)\n06121824\n0.0 0.1 0.2 0.3 0.4 0.5 0.6\nVCCP- V OH(V)Source Current, I SOURCE (-mA)TA= -40°C\nTA= 25°C\nTA= 85°CVCC= 1.8 V\n09182736\n0.0 0.1 0.2 0.3 0.4 0.5 0.6\nVCCP- V OH(V)Source Current, I SOURCE (-mA)TA= -40°C\nTA= 25°C\nTA= 85°CVCC= 2.5 V\n0306090120\n-40 -15 10 35 60 85\nTemperature, T A(°C)Output Low Voltage, V OL(mV)VCC= 1.8 V, I OL= 10 mA\nVCC= 3.3 V, I OL= 10 mA\nVCC= 1.8 V, I OL= 1 mA VCC= 3.3 V, I OL= 1 mA\n05101520\n0.0 0.1 0.2 0.3 0.4 0.5 0.6\nVCCP- V OH(V)Source Current, I SOURCE (-mA)TA= -40°C\nTA= 25°C\nTA= 85°CVCC= 1.65 V\n020406080100120\n0.0 0.1 0.2 0.3 0.4 0.5 0.6\nOutput Low Voltage, V OL(V)Sink Current, I SINK(mA)TA= -40°C\nTA= 25°C\nTA= 85°CVCC= 3.3 V\n020406080100120140\n0.0 0.1 0.2 0.3 0.4 0.5 0.6\nOutput Low Voltage, V OL(V)Sink Current, I SINK(mA)TA= -40°C\nTA= 25°C\nTA= 85°CVCC= 3.6 V\n9TCA8418\nwww.ti.com SCPS215G –SEPTEMBER 2009 –REVISED JUNE 2018\nProduct Folder Links: TCA8418Submit Documentation Feedback Copyright ©2009 –2018, Texas Instruments IncorporatedTypical Characteristics (continued)\nTA=25°C(unless otherwise noted)\nFigure 7.I/OSink Current vsOutput Low Voltage\n(VCC=3.3V)Figure 8.I/OSink Current vsOutput Low Voltage\n(VCC=3.6V)\nFigure 9.I/OLow Voltage vsTemperature Figure 10.I/OSource Current vsOutput High Voltage\n(VCC=1.65 V)\nFigure 11.I/OSource Current vsOutput High Voltage\n(VCC=1.8V)Figure 12.I/OSource Current vsOutput High Voltage\n(VCC=2.5V)\n050100150200250300350\n-40 -15 10 35 60 85\nTemperature, T A(°C)VCC- V OH(mV)VCC= 1.8 V, I OH= -10 mA\nVCC= 3.3 V, I OH= -10 mA\n011223344\n0.0 0.1 0.2 0.3 0.4 0.5 0.6\nVCCP- V OH(V)Source Current, I SOURCE (-mA)TA= -40°C\nTA= 25°C\nTA= 85°CVCC= 3.3 V\n011223344\n0.0 0.1 0.2 0.3 0.4 0.5 0.6\nVCCP- V OH(V)Source Current, I SOURCE (-mA)TA= -40°C\nTA= 25°C\nTA= 85°CVCC= 3.6 V\n10TCA8418\nSCPS215G –SEPTEMBER 2009 –REVISED JUNE 2018 www.ti.com\nProduct Folder Links: TCA8418Submit Documentation Feedback Copyright ©2009 –2018, Texas Instruments IncorporatedTypical Characteristics (continued)\nTA=25°C(unless otherwise noted)\nFigure 13.I/OSource Current vsOutput High Voltage\n(VCC=3.3V)Figure 14.I/OSource Current vsOutput High Voltage\n(VCC=3.6V)\nFigure 15.I/OHigh Voltage vsTemperature\nRL= 1 kΩVCC\nCL= 50 pF\ntbuf\nticr\ntsth tsdstsdhticfticrtscl tsch\ntsts tPHL\ntPLH0.3 × V CC\nStop\nConditiontsps\nRepeat\nStart\nConditionStart or\nRepeat\nStart\nConditionSCL\nSDAStart\nCondition\n(S)Address\nBit 7\n(MSB)Data\nBit 10\n(LSB)Stop\nCondition\n(P)Three Bytes for Complete\nDevice ProgrammingSDA LOAD CONFIGURATION\nVOLTAGE WAVEFORMSticfStop\nCondition\n(P)\ntspDUTSDA\n0.7 × V CC\n0.3 × V CC0.7 × V CCR/W\nBit 0\n(LSB)ACK\n(A)Data\nBit 07\n(MSB)Address\nBit 1Address\nBit 6\nBYTE DESCRIPTION\n1 I2C address\n2, 3 P-port data\n11TCA8418\nwww.ti.com SCPS215G –SEPTEMBER 2009 –REVISED JUNE 2018\nProduct Folder Links: TCA8418Submit Documentation Feedback Copyright ©2009 –2018, Texas Instruments Incorporated7Parameter Measurement Information\nA. CLincludes probe andjigcapacitance. tocfismeasured with CLof10pFor400pF.\nB. Allinputs aresupplied bygenerators having thefollowing characteristics: PRR≤10MHz, ZO=50Ω,tr/tf≤30ns.\nC. Allparameters andwaveforms arenotapplicable toalldevices.\nFigure 16.I2CInterface Load Circuit And Voltage Waveforms\nA\nAA\nAS 0 110 01 1 Data 1 1 P Data 2Start\nCondition8 Bits\n(One Data Byte)\nFrom Port Data From Port Slave AddressR/W\n87654321\nAddress Data 1 Data 2INTB\nB\nA\nA\nPn INTR/W AINT SCL\nView B−B View A−AACK\nFrom Slave\nACK\nFrom SlaveINTERRUPT LOAD CONFIGURATIONVCC\nR = 4.7 kL/c87\nC = 100 pF\n(see Note A)LDUTINT\n0.7 V/c180CC\n0.3 VCC/c180\n0.5 VCC/c1800.5 VCC/c180\n0.5 VCC/c180tspstirtir\ntiv\ntiv tirData\nInto\nPort0\n12TCA8418\nSCPS215G –SEPTEMBER 2009 –REVISED JUNE 2018 www.ti.com\nProduct Folder Links: TCA8418Submit Documentation Feedback Copyright ©2009 –2018, Texas Instruments IncorporatedParameter Measurement Information (continued)\nA. CLincludes probe andjigcapacitance.\nB. Allinputs aresupplied bygenerators having thefollowing characteristics: PRR≤10MHz, ZO=50Ω,tr/tf≤30ns.\nC. Allparameters andwaveforms arenotapplicable toalldevices.\nFigure 17.Interrupt Load Circuit And Voltage Waveforms\nP0 ASCLP3\nUnstable\nDataLast Stable BitSDA\nWRITE MODE (R/ = 0) W\nP0 ASCLP3\nREAD MODE (R/ = 1) WDUT\nP-PORT LOAD CONFIGURATIONPn\n500 /c87500 /c87\n2 V/c180CC\n0.7 VCC/c180\n0.3 VCC/c180\n0.7 VCC/c180\n0.3 VCC/c180\n0.5 VCC/c180C = 50 pF\n(see Note A)L\nSlave\nACK\nt\n(see Note B)pv\nPnPn\ntpstph\n13TCA8418\nwww.ti.com SCPS215G –SEPTEMBER 2009 –REVISED JUNE 2018\nProduct Folder Links: TCA8418Submit Documentation Feedback Copyright ©2009 –2018, Texas Instruments IncorporatedParameter Measurement Information (continued)\nA. CLincludes probe andjigcapacitance.\nB. tpvismeasured from 0.7×VCConSCL to50% I/O(Pn) output.\nC. Allinputs aresupplied bygenerators having thefollowing characteristics: PRR≤10MHz, ZO=50Ω,tr/tf≤30ns.\nD. The outputs aremeasured oneatatime, with onetransition permeasurement.\nE. Allparameters andwaveforms arenotapplicable toalldevices.\nFigure 18.PPort Load Circuit And Timing Waveforms\nSDASCLStart\nACK or Read Cycle\nRESET\nPnSDA LOAD CONFIGURATIONVCC\nR = 1 k /c87L\nC = 50 pF\n(see Note A)LDUTSDADUT\nP-PORT LOAD CONFIGURATIONPn\n500 /c87500 /c87\n2 V/c180CC\nC = 50 pF\n(see Note A)L\n0.3 V´CC\nV /2CC\nV /2CCtRESET\ntRESETtWtRECtREC\n14TCA8418\nSCPS215G –SEPTEMBER 2009 –REVISED JUNE 2018 www.ti.com\nProduct Folder Links: TCA8418Submit Documentation Feedback Copyright ©2009 –2018, Texas Instruments IncorporatedParameter Measurement Information (continued)\nA. CLincludes probe andjigcapacitance.\nB. Allinputs aresupplied bygenerators having thefollowing characteristics: PRR≤10MHz, ZO=50Ω,tr/tf≤30ns.\nC. The outputs aremeasured oneatatime, with onetransition permeasurement.\nD. I/Os areconfigured asinputs.\nE. Allparameters andwaveforms arenotapplicable toalldevices.\nFigure 19.Reset Load Circuits And Voltage Waveforms\nKeypad\nControlControl\nRegisters\nand FIFO\nOscillator\n(32 kHz)Power-On\nResetSDASCLI C Bus\nControl2\nRESETINTInterrupt\nControl\nVCCROW0 COL9 –\n15TCA8418\nwww.ti.com SCPS215G –SEPTEMBER 2009 –REVISED JUNE 2018\nProduct Folder Links: TCA8418Submit Documentation Feedback Copyright ©2009 –2018, Texas Instruments Incorporated8Detailed Description\n8.1 Overview\nThe TCA8418 supports upto10columns Table 9by8rows ofkeys, upto80keys. Any combination ofthese\nrows and columns canbeconfigured tobeadded tothekeypad matrix. This isdone bysetting theappropriate\nrows and columns toavalue of1inthecorresponding KP_GPIO registers (seen in).Once therows and\ncolumns that areconnected tothekeypad matrix areadded tothekeypad array, then theTCA8418 willbegin\nmonitoring thekeypad array, andanyconfigured general purpose inputs (GPIs).\n8.2 Functional Block Diagram\n8.3 Feature Description\n8.3.1 KeyEvents\n8.3.1.1 KeyEvent Table\nThe TCA8418 canbeconfigured tosupport many different configurations ofkeypad setups. All18GPIOs forthe\nrows and columns canbeused tosupport upto80keys inakeypad array. Another option isthat all18GPIOs\nbeused forGPIs toread 18buttons which arenotconnected inanarray. Any combination inbetween isalso\nacceptable (forexample, a3x4keypad matrix and using theremaining 11GPIOs asacombination ofinputs\nandoutputs).\nForboth types ofinputs (keypad matrix andaGPI), akeyevent canbeadded tothekeyevent FIFO. The values\nthat areadded totheFIFO depend ontheconfiguration (keypad array orGPI) and onwhich port thepress was\nread on.The tables below show thevalues thatcorrespond toboth types ofconfigurations.\nKey values below arerepresented indecimal values, because the10s place isused tomark therow, and the\nones place isused todenote thecolumn. Itismore clear toseethenumbering convention used when viewed in\ndecimal values.\nTable 1.KeyEvent Table (Keypad Array)\nC0 C1 C2 C3 C4 C5 C6 C7 C8 C9\nR0 1 2 3 4 5 6 7 8 9 10\nR1 11 12 13 14 15 16 17 18 19 20\nR2 21 22 23 24 25 26 27 28 29 30\nR3 31 32 33 34 35 36 37 38 39 40\nR4 41 42 43 44 45 46 47 48 49 50\nR5 51 52 53 54 55 56 57 58 59 60\nR6 61 62 63 64 65 66 67 68 69 70\nR7 71 72 73 74 75 76 77 78 79 80\n16TCA8418\nSCPS215G –SEPTEMBER 2009 –REVISED JUNE 2018 www.ti.com\nProduct Folder Links: TCA8418Submit Documentation Feedback Copyright ©2009 –2018, Texas Instruments IncorporatedTable 2.KeyEvent Table (Row GPIEvents)\nR0 R1 R2 R3 R4 R5 R6 R7\n97 98 99 100 101 102 103 104\nTable 3.KeyEvent Table (Column GPIEvents)\nC0 C1 C2 C3 C4 C5 C6 C7 C8 C9\n105 106 107 108 109 110 111 112 113 114\n8.3.1.2 General Purpose Input (GPI) Events\nAcolumn orrowconfigured asGPI canbeprogrammed tobepart oftheKeyEvent Table ,hence becomes also\ncapable ofgenerating Key Event Interrupt. AKey Event Interrupt caused byaGPI follow thesame process flow\nasaKey Event Interrupt caused byaKey press.\nGPIs configured aspart oftheKey Event Table allows forsingle keyswitches tobemonitored aswell asother\nGPI interrupts. Aspart oftheEvent Table, GPIs arerepresented with decimal value of97and runthrough\ndecimal value of114. R0-R7 arerepresented by97-104 andC0-C9 arerepresented by105-114\nForaGPI that issetasactive high, and isenabled intheKey Event Table, thestate-machine willadd anevent\ntotheevent count and event table whenever that GPI goes high. IftheGPI issettoactive low, atransition from\nhigh tolowwillbeconsidered apress and willalso beadded totheevent count and event table. Once the\ninterrupt state hasbeen met, thestate machine willinternally setaninterrupt fortheopposite state programmed\nintheregister toavoid polling forthereleased state, hence saving current. Once thereleased state isachieved,\nitwilladdittotheevent table. The press andrelease willstillbeindicated bybit7intheevent register.\nThe GPI Events canalso beused asunlocked sequences. When theGPI_EM bitisset,GPI events willnotbe\ntracked when thekeypad islocked. GPI_EM bitmust becleared fortheGPI events tobetracked intheevent\ncounter andtable when thekeypad islocked.\n8.3.1.3 KeyEvent (FIFO) Reading\nThe TCA8418 hasa10-byte event FIFO, which stores anykeypresses orreleases which have been configured\ntobeadded totheKey Event Table. AllROWs and COLs added tothekeypad matrix viatheKP_GPIO1-3\nRegisters willhave any key pad events added totheFIFO. Any GPIs configured with a1intheGPI_EM1-3\nRegisters willalso bepart oftheevent FIFO.\nWhen thehost wishes toread theFIFO, thefollowing procedure isrecommended.\n1.Read theINT_STAT (0x02) register todetermine what asserted theINTline. IfGPI_INT orK_INT isset,then\nakeyevent hasoccurred, andtheevent isstored intheFIFO.\n2.Read theKEY_LCK_EC (0x03) register, bits[3:0] toseehow many events arestored inFIFO.\n3.Read theKEY_EVENT_A (0x04) register. Bit7value \'0\'signifies keyrelease, value 1signifies keypress.\nBits [6:0] state which keywas pressed with respect totheKeyEvent Table .With each read ofthekeyevent\nregister, theevent counter inKEY_LCK_EC[3:0] willdecrease by1,andtheFIFO willshift theevents down 1\nregister.\n4.Repeat step 3until either KEY_LCK_EC[3:0] =0orKEY_EVENT_A =0.This signifies that theFIFO is\nempty.\n5.Reset theINT_STAT interrupt flagwhich was causing theinterrupt bywriting a1tothespecific bit.\n17TCA8418\nwww.ti.com SCPS215G –SEPTEMBER 2009 –REVISED JUNE 2018\nProduct Folder Links: TCA8418Submit Documentation Feedback Copyright ©2009 –2018, Texas Instruments IncorporatedAsanexample, consider thefollowing keypresses.\nTable 4.Example KeySequence\nEvent # Key(Decimal Value) Press/Release\n1 1 Press\n2 32 Press\n3 1 Release\n4 32 Release\n5 23 Press\n6 23 Release\n7 45 Press\n8 41 Press\n9 41 Release\n10 45 Release\nIfthisexample keysequence occurs, then while performing therecommended read procedure listed above, the\nhost would see the following information. Information atthe top ofthe listisofaninitial read tothe\nKEY_LCK_EC[3:0] register.\nTable 5.Example KeySequence\nKEY_LCK_EC[3:0] ValueKEY_EVENT_A Value\n(Binary/Hex)Key(Decimal Value) Press/Release\n10 N/A N/A N/A\n9 10000001 (0x81) 1 Press\n8 10100000 (0xA0) 32 Press\n7 00000001 (0x01) 1 Release\n6 00100000 (0x20) 32 Release\n5 10010111 (0x97) 23 Press\n4 00010111 (0x17) 23 Release\n3 10101101 (0xAD) 45 Press\n2 10101001 (0xA9) 41 Press\n1 00101001 (0x29) 41 Release\n0 00101101 (0x2D) 45 Release\n(1) Note thattheMSB oftheKEY_EVENT_A value signifies akeypress orrelease. MSB Bit=1signifies akeypress; MSB Bit=0signifies\nakeyrelease(1)8.3.1.4 KeyEvent Overflow\nThe TCA8418 hastheability tohandle anoverflow ofthekeyevent FIFO. Anoverflow event occurs when the\nFIFO isfullofevents (10key events arestored) and anew key event occurs. Inshort, this means that the\nTCA8418 does nothave theability tohold any more key press information intheinternal buffer. When this\noccurs, theOVR_FLOW_INT bitintheINT_STAT Register isset, and iftheOVR_FLOW_IEN bitissetinthe\nCFG Register ,then theINToutput willbeasserted lowtolettheprocessor know thatanoverflow hasoccurred.\nThe TCA8418 hastheability tohandle anoverflow in1oftwoways, which isdetermined bythebitvalue ofthe\nOVR_FLOW_M bitintheCFG Register .\nPlease seetheOverflow Errata section formore information about overflow behavior.\nTable 6.OVR_FLOW_M Bit\nOVR_FLOW_M Value Overflow Mode Behavior\n1 Enabled Overflow data shifts with lastevent pushing firstevent out\n0 Disabled (Default) Overflow data isnotstored andlost\n18TCA8418\nSCPS215G –SEPTEMBER 2009 –REVISED JUNE 2018 www.ti.com\nProduct Folder Links: TCA8418Submit Documentation Feedback Copyright ©2009 –2018, Texas Instruments IncorporatedConsider theexample below, iftheFIFO isfullofthekeypresses and anew keypress comes in.This new\noverflow keypress willbeakeypress ofkey2(0x82 isthehexrepresentation ofakey2press event)\nTable 7.KeyEvent Overflow Handling\nFIFO Register Original ValueAfter Key1Press Event (0x82)\nOVR_FLOW_M =1 OVR_FLOW_M =0\nA 0x81 0xA0 0x81\nB 0xA0 0x01 0xA0\nC 0x01 0x20 0x01\nD 0x20 0x97 0x20\nE 0x97 0x17 0x97\nF 0x17 0xAD 0x17\nH 0xAD 0xA9 0xAD\nI 0xA9 0x29 0xA9\nJ 0x29 0x2D 0x29\nK 0x2D 0x82 0x2D\n8.3.2 Keypad Lock/Unlock\nThis user can lock thekeypad through thelock/unlock feature inthis device. Once thekeypad islocked by\nsetting BIT6 inKEY_LCK_EC ,itcanprevent thegeneration ofkeyevent interrupts andrecorded keyevents. The\nunlock keys canbeprogrammed with anyvalue ofthekeys inthekeypad matrix oranygeneral purpose input\n(GPI) values that arepart oftheKey Event Table .When thekeypad lock interrupt mask timer isnon-zero, the\nuser willneed topress twospecific keys before ankeylock interrupt isgenerated orkeypad events arerecorded.\nAkeyevent interrupt isgenerated thefirsttime auser presses anykey. This firstinterrupt canbeused toturn on\nanLCD and display theunlock message. The processor willthen read thelock status register tosee ifthe\nkeypad isunlocked. The next interrupt (keylock interrupt) willnotbegenerated unless both unlock keys\nsequences arecorrect. Ifcorrect Unlock keys arenotpressed before themask timer expires, thestate machine\nwillstart over again.\nThe recommended procedure tolock thekeypad istodothefollowing\n1.Determine which keys willbeused fortheunlock sequence. The keyvalue from theKeyEvent Tables needs\ntobeentered intotheUNLOCK1 andUNLOCK2 registers.\n2.The UNLOCK1 toUNLOCK2 timer duration must besetbyentering thedesired seconds (valid range is0to\n7seconds) intobits[2:0] oftheKP_LCK_TMR register.\n3.Ifaninterrupt mask isdesired (see Keypad Lock Interrupt Mask Timer ),then thedesired interrupt mask\nduration (valid range is0to31seconds) must beentered intobits[7:3] oftheKP_LCK_TMR register.\n4.When thehost isready tolock thekeypad, a1istobewritten totheK_LCK_EN bit(BIT6) inthe\nKEY_LCK_EC register. This willlock thekeypad.\n5.Ifthe host wishes tomanually unlock the keypad, writing a\'0\'tothe K_LCK_EN bit(BIT6) inthe\nKEY_LCK_EC register willunlock thekeypad.\nKey Press / Start\nKP_LCK_TIMER\n[7:3] == 0Generate KE_INT\nStart Mask Timer \nCountdownNO\nMask Timer \nCountdown \nExpiredFirst Unlock Key \nPressedYES\nStart Unlock1 to \nUnlock2 Timer\nMask Timer \nCountdown \nExpiredUnlock1 to \nUnlock2 Timer \nExpired\nSecond Unlock \nKey PressedUnlock Keypad\nGenerate \nK_LCK_INTNO\nNO\nYES\nNO YES YES\nNO\nNO\nYESFirst Unlock Key \nPressedYES\nNO\nStart Unlock1 to \nUnlock2 Timer\nUnlock1 to \nUnlock2 Timer \nExpired\nSecond Unlock \nKey Pressed\nUnlock Keypad\nGenerate \nK_LCK_INTYES\nYES\nNO\nYESNO\n19TCA8418\nwww.ti.com SCPS215G –SEPTEMBER 2009 –REVISED JUNE 2018\nProduct Folder Links: TCA8418Submit Documentation Feedback Copyright ©2009 –2018, Texas Instruments IncorporatedFigure 20.Keypad Lock Flowchart\n8.3.3 Keypad Lock Interrupt Mask Timer\nThe TCA8418 features aKeypad Lock/Unlock feature which allows theuser tostop thegeneration ofkeyevent\ninterrupts bylocking thekeypad. There isaninterrupt mask timer feature with thekeypad lock, which allows the\ngeneration ofasingle interrupt when akeyispressed, primarily forthepurpose ofLCD backlighting. Note that\nthisinterrupt mask timer canalso beused tolimit thenumber ofinterrupts generated foragiven amount oftime.\nThe interrupt mask timer isenabled bysetting bits[7:3] oftheKP_LCK_TIMER register. The value inthisregister\ncanbeanywhere from 0to31seconds (note that avalue of0willdisable thisinterrupt mask feature). When a\nkeypad islocked andtheinterrupt mask timer issettoanon-zero value, thiswillenable theinterrupt mask timer.\nThis interrupt mask timer limits theamount ofinterrupts generated. Typically, this isused with theKeypad\nLock/Unlock feature forLCD back lights. Itiseasiest toexplain thisfeature with thefollowing example; Amobile\ndevice hasaLCD screen with aback light display which turns offafter 10seconds tosave power. Normally, an\ninterrupt totheprocessor would tellthisLCD back light toturn on.When thekeypad islocked, nointerrupts are\ngenerated, sotheback light willnever turn on.This iswhere theinterrupt mask feature isused. Please refer to\nFigure 20.The procedure foranexample isbelow.\n1.Since the back light turns offafter 10seconds ofnointerrupts, the interrupt mask timer (\nKP_LCK_TIMER [7:3] )gets setto10seconds. Keypad isthen locked.\n2.When thefirstkeypress isdetected, theTCA8418 sends aninterrupt totheprocessor and starts a10\nsecond count down.\n3.Ifthecorrect unlock sequence isnotentered within the10seconds, nointerrupts aresent and theback\nlight willturn off.\n4.After the10second timer hasexpired, ifanother keypress occurs while keypad islocked (regardless of\nwhether itisacorrect unlock keyornot), another interrupt isgenerated and the10second count down\nbegins again.\n20TCA8418\nSCPS215G –SEPTEMBER 2009 –REVISED JUNE 2018 www.ti.com\nProduct Folder Links: TCA8418Submit Documentation Feedback Copyright ©2009 –2018, Texas Instruments Incorporated8.3.4 Control-Alt-Delete Support\nThe TCA8418 cansupport normal keypresses, butitalso cansupport a<Ctrl><Alt><Del>(CAD) keypress. This\nfeature allows thehost torecognize aspecific keypress and alert thehost that thecombination has occurred.\nThe TCA8418 willrecognize a<Ctrl><Alt><Del>keypress ifkeys 1,11,and21areallpressed atthesame time.\nThese keys arereferenced tothekeyvalues listed intheKey Event Table .Note that thiskeycombination that\ntriggers aCAD interrupt isnotadjustable, andmust bekeys 1,11,and21.\nPlease seeCAD Interrupt Errata formore information.\n8.3.5 Interrupt Output\nAninterrupt isgenerated byanyrising orfalling edge oftheport inputs intheinput mode. After time tiv,thesignal\nINTisvalid. Resetting theinterrupt circuit isachieved when data ontheport ischanged totheoriginal setting or\ndata isread from theport that generated theinterrupt. Resetting occurs intheread mode attheacknowledge\n(ACK) ornotacknowledge (NACK) bitafter therising edge oftheSCL signal. Interrupts that occur during the\nACK orNACK clock pulse can belost(orbevery short) due totheresetting oftheinterrupt during thispulse.\nEach change oftheI/Os after resetting isdetected andistransmitted asINT.\nReading from orwriting toanother device does notaffect theinterrupt circuit, and apinconfigured asanoutput\ncannot cause aninterrupt. Changing anI/Ofrom anoutput toaninput may cause afalse interrupt tooccur, ifthe\nstate ofthepindoes notmatch thecontents oftheinput port register.\nThe INToutput hasanopen-drain structure andrequires apull-up resistor toVCCdepending ontheapplication. If\ntheINTsignal isconnected back totheprocessor thatprovides theSCL signal totheTCA8418, then theINTpin\nhastobeconnected toVCC.Ifnot,theINTpincanbeconnected toVCC.\n8.3.5.1 50Micro-second Interrupt Configuration\nThe TCA8418 provides thecapability ofdeasserting theinterrupt for50μswhile there isapending event. When\ntheINT_CFG bitinRegister 0x01 isset, any attempt toclear theinterrupt bitwhile theinterrupt pinisalready\nasserted results ina50μsdeassertion. When theINT_CFG bitiscleared, INTremains asserted ifthehost tries\ntoclear theinterrupt. This feature isparticularly useful forsoftware development andedge triggering applications.\n8.4 Device Functional Modes\n8.4.1 Power-On Reset (POR)\nWhen power (from 0V)isapplied toVCC,aninternal power-on reset circuit holds theTCA8418 inareset\ncondition until VCChasreached VPORR .Atthat time, thereset condition isreleased, and theTCA8418 registers\nand I2C/SMBus state machine initialize totheir default states. After that, VCCmust belowered tobelow VPORF\nand back uptotheoperating voltage forapower-reset cycle. See Power Supply Recommendations formore\ninformation onpower upreset requirements.\n8.4.2 Powered (Key Scan Mode)\nThe TCA8418 canbeused toread GPI from single buttons, orconfigured inkeyscan mode toread anarray of\nkeys. Inkeyscan mode, there aretwomodes ofoperation.\n8.4.2.1 IdleKeyScan Mode\nOnce theTCA8418 hashadthekeypad array configured, itwillenter idlemode when nokeys arebeing pressed.\nAllcolumns configured aspart ofthekeypad array willbedriven lowand allrows configured aspart ofthe\nkeypad array willbesettoinputs, with pull-up resistors enabled. During idlemode, theinternal oscillator isturned\noffsothatpower consumption islowasthedevice awaits akeypress.\n8.4.2.2 Active KeyScan Mode\nWhen theTCA8418 isinidlekeyscan mode, thedevice awaits akeypress. Once akeyispressed inthearray,\nalowsignal ononeoftheROW pininputs triggers aninterrupt, which willturn ontheinternal oscillator andenter\ntheactive keyscan mode. Atthispoint, theTCA8418 willstart thekeyscan algorithm todetermine which keyis\nbeing pressed, and/or itwilluse theinternal oscillator fordebouncing. Once allkeys have been released, the\ndevice willenter idlekeyscan mode.\nSCL\nSDA\nSTART\nConditionSTOP\nConditionData Transfer\n21TCA8418\nwww.ti.com SCPS215G –SEPTEMBER 2009 –REVISED JUNE 2018\nProduct Folder Links: TCA8418Submit Documentation Feedback Copyright ©2009 –2018, Texas Instruments Incorporated8.5 Programming\n8.5.1 I2CInterface\nThe TCA8418 has astandard bidirectional I2Cinterface that iscontrolled byamaster device inorder tobe\nconfigured orread thestatus ofthis device. Each slave ontheI2Cbus has aspecific device address to\ndifferentiate between other slave devices that are onthesame I2Cbus. Many slave devices willrequire\nconfiguration upon startup tosetthebehavior ofthedevice. This istypically done when themaster accesses\ninternal register maps oftheslave, which have unique register addresses. Adevice can have one ormultiple\nregisters where data isstored, written, orread.\nThe physical I2Cinterface consists oftheserial clock (SCL) andserial data (SDA) lines. Both SDA andSCL lines\nmust beconnected toVCCthrough apull-up resistor. The size ofthepull-up resistor isdetermined bytheamount\nofcapacitance ontheI2Clines. (For further details, refer toI2Cpull-up Resistor Calculation (SLVA689 ).)Data\ntransfer may beinitiated only when thebusisidle. Abusisconsidered idleifboth SDA and SCL lines arehigh\nafter aSTOP condition.\nThe following isthegeneral procedure foramaster toaccess aslave device:\n1.Ifamaster wants tosend data toaslave:\n–Master-transmitter sends aSTART condition andaddresses theslave-receiver.\n–Master-transmitter sends data toslave-receiver.\n–Master-transmitter terminates thetransfer with aSTOP condition.\n2.Ifamaster wants toreceive orread data from aslave:\n–Master-receiver sends aSTART condition andaddresses theslave-transmitter.\n–Master-receiver sends therequested register toread toslave-transmitter.\n–Master-receiver receives data from theslave-transmitter.\n–Master-receiver terminates thetransfer with aSTOP condition.\nFigure 21.Definition ofStart andStop Conditions\nSCL\nSDA\nMSB Bit Bit Bit Bit Bit Bit LSB\nByte: 1010 1010 ( 0xAAh )1 0 1 0 1 0 1 0SDA line stable while SCL line is high\nACKACK\n22TCA8418\nSCPS215G –SEPTEMBER 2009 –REVISED JUNE 2018 www.ti.com\nProduct Folder Links: TCA8418Submit Documentation Feedback Copyright ©2009 –2018, Texas Instruments IncorporatedProgramming (continued)\nFigure 22.BitTransfer\n8.5.2 Bus Transactions\nData must besent toandreceived from theslave devices, andthisisaccomplished byreading from orwriting to\nregisters intheslave device.\nRegisters arelocations inthememory oftheslave which contain information, whether itbetheconfiguration\ninformation orsome sampled data tosend back tothemaster. The master must write information tothese\nregisters inorder toinstruct theslave device toperform atask.\nWhile itiscommon tohave registers inI2Cslaves, note that notallslave devices willhave registers. Some\ndevices aresimple and contain only 1register, which may bewritten todirectly bysending theregister data\nimmediately after theslave address, instead ofaddressing aregister. Anexample ofasingle-register device\nwould bean8-bit I2Cswitch, which iscontrolled viaI2Ccommands. Since ithas 1bittoenable ordisable a\nchannel, there isonly 1register needed, and themaster merely writes theregister data after theslave address,\nskipping theregister number.\n8.5.2.1 Writes\nTowrite ontheI2Cbus, themaster willsend aSTART condition onthebuswith theaddress oftheslave, aswell\nasthelastbit(the R/Wbit)setto0,which signifies awrite. After theslave sends theacknowledge bit,themaster\nwillthen send theregister address oftheregister towhich itwishes towrite. The slave willacknowledge again,\nletting themaster know itisready. After this, themaster willstart sending theregister data totheslave until the\nmaster hassent allthedata necessary (which issometimes only asingle byte), andthemaster willterminate the\ntransmission with aSTOP condition.\nFigure 23shows anexample ofwriting asingle byte toaregister.\nS 0 1 1 0 1 0 0 0Device (Slave) Address (7 bits)\n0 0 1 0 0 0 0 0 ARegister Address 0x01 (8 bits)\nD7 D6 D5 D4 D3 D2 D1 D0 AData Byte to Register 0x01 (8 bits)\nA P\nSTART R/W=0 ACK ACK ACK STOPMaster controls SDA line\nSlave controls SDA line\nS 0 1 1 0 1 0 0 0Device (Slave) Address (7 bits)\nB7 B6 B5 B4 B3 B2 B1 B0 ARegister Address N (8 bits)\nD7 D6 D5 D4 D3 D2 D1 D0 AData Byte to Register N (8 bits)\nA P\nSTART R/W=0 ACK ACK ACK STOPWrite to one register in a deviceMaster controls SDA line\nSlave controls SDA line\n23TCA8418\nwww.ti.com SCPS215G –SEPTEMBER 2009 –REVISED JUNE 2018\nProduct Folder Links: TCA8418Submit Documentation Feedback Copyright ©2009 –2018, Texas Instruments IncorporatedProgramming (continued)\nFigure 23.Write toRegister\nFigure 24.Write toConfiguration Register\nRead from one register in a device\nS 0 1 1 0 1 0 0 0Device (Slave) Address (7 bits)\nB7 B6 B5 B4 B3 B2 B1 B0 ARegister Address N (8 bits)\nA\nSTART ACK ACK1 Sr 0 1 1 0 0 0Device (Slave) Address (7 bits)\nRepeated START1 A D7 D6 D5 D4 D3 D2 D1 D0 NAData Byte from Register N (8 bits)\nP\nNACK STOP ACKMaster controls SDA line\nSlave controls SDA line\nR/W=0 R/W=1\n24TCA8418\nSCPS215G –SEPTEMBER 2009 –REVISED JUNE 2018 www.ti.com\nProduct Folder Links: TCA8418Submit Documentation Feedback Copyright ©2009 –2018, Texas Instruments IncorporatedProgramming (continued)\n8.5.2.2 Reads\nReading from aslave isvery similar towriting, butrequires some additional steps. Inorder toread from aslave,\nthemaster must firstinstruct theslave which register itwishes toread from. This isdone bythemaster starting\noffthetransmission inasimilar fashion asthewrite, bysending theaddress with theR/Wbitequal to0\n(signifying awrite), followed bytheregister address itwishes toread from. Once theslave acknowledges this\nregister address, themaster willsend aSTART condition again, followed bytheslave address with theR/Wbit\nsetto1(signifying aread). This time, theslave willacknowledge theread request, and themaster willrelease\ntheSDA busbutwillcontinue supplying theclock totheslave. During thispart ofthetransaction, themaster will\nbecome themaster-receiver, andtheslave willbecome theslave-transmitter.\nThe master willcontinue tosend outtheclock pulses, butwillrelease theSDA linesothattheslave cantransmit\ndata. Attheend ofevery byte ofdata, themaster willsend anACK totheslave, letting theslave know that itis\nready formore data. Once themaster has received thenumber ofbytes itisexpecting, itwillsend aNACK,\nsignaling totheslave tohalt communications and release thebus. The master willfollow thisupwith aSTOP\ncondition.\nFigure 25shows anexample ofreading asingle byte from aslave register.\nFigure 25.Read from Register\n25TCA8418\nwww.ti.com SCPS215G –SEPTEMBER 2009 –REVISED JUNE 2018\nProduct Folder Links: TCA8418Submit Documentation Feedback Copyright ©2009 –2018, Texas Instruments Incorporated8.6 Register Maps\n8.6.1 Device Address\nThe address oftheTCA8418 isshown inTable 8.\nTable 8.TCA8418 Device Addresses\nBYTEBIT\n7(MSB) 6 5 4 3 2 1 0(LSB)\nI2Cslave address 0 1 1 0 1 0 0 R/W\nThe lastbitoftheslave address defines theoperation (read orwrite) tobeperformed. Ahigh (1)selects aread\noperation, while alow(0)selects awrite operation.\n8.6.2 Control Register andCommand Byte\nFollowing thesuccessful acknowledgment oftheaddress byte, thebusmaster sends acommand byte, which is\nstored inthecontrol register intheTCA8418. The command byte indicates theregister that willbeupdated with\ninformation. Allregisters canberead andwritten tobythesystem master.\nTable 9shows alltheregisters within thisdevice andtheir descriptions. The default value inallregisters is0.\nTable 9.Register Descriptions\nADDRESS REGISTER NAMEREGISTER\nDESCRIPTION7 6 5 4 3 2 1 0\n0x00 Reserved Reserved\n0x01 CFGConfiguration register\n(interrupt processor\ninterrupt enables)AIGPI_E_\nCGFOVR_FL\nOW_MINT_\nCFGOVR_F\nLOW_I\nENK_LC\nK_IENGPI_IE\nNKE_IEN\n0x02 INT_STAT Interrupt status registerN/A\n0N/A\n0N/A\n0CAD_I\nNTOVR_F\nLOW_I\nNTK_LC\nK_INTGPI_\nINTK_INT\n0x03 KEY_LCK_ECKey lock andevent\ncounter registerN/A\n0K_LCK\n_ENLCK2 LCK1 KLEC3KLEC\n2KLEC1 KLEC0\n0x04 KEY_EVENT_A Key event register AKEA7\n0KEA6\n0KEA5\n0KEA4\n0KEA3\n0KEA2\n0KEA1\n0KEA0\n0\n0x05 KEY_EVENT_B Key event register BKEB7\n0KEB6\n0KEB5\n0KEB4\n0KEB3\n0KEB2\n0KEB1\n0KEB0\n0\n0x06 KEY_EVENT_C Key event register CKEC7\n0KEC6\n0KEC5\n0KEC4\n0KEC3\n0KEC2\n0KEC1\n0KEC0\n0\n0x07 KEY_EVENT_D Key event register DKED7\n0KED6\n0KED5\n0KED4\n0KED3\n0KED2\n0KED1\n0KED0\n0\n0x08 KEY_EVENT_E Key event register EKEE7\n0KEE6\n0KEE5\n0KEE4\n0KEE3\n0KEE2\n0KEE1\n0KEE0\n0\n0x09 KEY_EVENT_F Key event register FKEF7\n0KEF6\n0KEF5\n0KEF4\n0KEF3\n0KEF2\n0KEF1\n0KEF0\n0\n0x0A KEY_EVENT_G Key event register GKEG7\n0KEG6\n0KEG5\n0KEG4\n0KEG3\n0KEG2\n0KEG1\n0KEG0\n0\n0x0B KEY_EVENT_H Key event register HKEH7\n0KEH6\n0KEH5\n0KEH4\n0KEH3\n0KEH2\n0KEH1\n0KEH0\n0\n0x0C KEY_EVENT_I Key event register IKEI7\n0KEI6\n0KEI5\n0KEI4\n0KEI3\n0KEI2\n0KEI1\n0KEI0\n0\n0x0D KEY_EVENT_J Key event register JKEJ7\n0KEJ6\n0KEJ5\n0KEJ64\n0KEJ3\n0KEJ2\n0KEJ1\n0KEJ0\n0\n0x0E KP_LCK_TIMERKeypad lock 1tolock 2\ntimerKL7 KL6 KL5 KL4 KL3 KL2 KL1 KL0\n0x0F UNLOCK1 Unlock key1 UK1_7 UK1_6 UK1_5 UK1_4 UK1_3UK1_\n2UK1_1 UK1_0\n0x10 UNLOCK1 Unlock key2 UK2_7 UK2_6 UK2_5 UK2_4 UK2_3UK2_\n2UK2_1 UK2_0\n26TCA8418\nSCPS215G –SEPTEMBER 2009 –REVISED JUNE 2018 www.ti.com\nProduct Folder Links: TCA8418Submit Documentation Feedback Copyright ©2009 –2018, Texas Instruments IncorporatedTable 9.Register Descriptions (continued)\nADDRESS REGISTER NAMEREGISTER\nDESCRIPTION7 6 5 4 3 2 1 0\n0x11 GPIO_INT_STAT1 GPIO interrupt statusR7IS\n0R6IS\n0R5IS\n0R4IS\n0R3IS\n0R2IS\n0R1IS\n0R0IS\n0\n0x12 GPIO_INT_STAT2 GPIO interrupt statusC7IS\n0C6IS\n0C5IS\n0C4IS\n0C3IS\n0C2IS\n0C1IS\n0C0IS\n0\n0x13 GPIO_INT_STAT3 GPIO interrupt statusN/A\n0N/A\n0N/A\n0N/A\n0N/A\n0N/A\n0C9IS\n0C8IS\n0\n0x14GPIO_DAT_STAT1\n(read twice toclear)GPIO data status R7DS R6DS R5DS R4DS R3DS R2DS R1DS R0DS\n0x15GPIO_DAT_STAT2\n(read twice toclear)GPIO data status C7DS C6DS C5DS C4DS C3DS C2DS C1DS C0DS\n0x16GPIO_DAT_STAT3\n(read twice toclear)GPIO data statusN/A\n0N/A\n0N/A\n0N/A\n0N/A\n0N/A\n0C9DS C8DS\n0x17 GPIO_DAT_OUT1 GPIO data outR7DO\n0R6DO\n0R5DO\n0R4DO\n0R3DO\n0R2DO\n0R1DO\n0R0DO\n0\n0x18 GPIO_DAT_OUT2 GPIO data outC7DO\n0C6DO\n0C5DO\n0C4DO\n0C3DO\n0C2DO\n0C1DO\n0C0DO\n0\n0x19 GPIO_DAT_OUT3 GPIO data outN/A\n0N/A\n0N/A\n0N/A\n0N/A\n0N/A\n0C9DO\n0C8DO\n0\n0x1A GPIO_INT_EN1 GPIO interrupt enableR7IE\n0R6IE\n0R5IE\n0R4IE\n0R3IE\n0R2IE\n0R1IE\n0R0IE\n0\n0x1B GPIO_INT_EN2 GPIO interrupt enableC7IE\n0C6IE\n0C5IE\n0C4IE\n0C3IE\n0C2IE\n0C1IE\n0C0IE\n0\n0x1C GPIO_INT_EN3 GPIO interrupt enableN/A\n0N/A\n0N/A\n0N/A\n0N/A\n0N/A\n0C9IE\n0C8IE\n0\n0x1D KP_GPIO1Keypad orGPIO\nselection\n0:GPIO\n1:KPmatrixROW7\n0ROW6\n0ROW5\n0ROW4\n0ROW3\n0ROW2\n0ROW1\n0ROW0\n0\n0x1E KP_GPIO2Keypad orGPIO\nselection\n0:GPIO\n1:KPmatrixCOL7\n0COL6\n0COL5\n0COL4\n0COL3\n0COL2\n0COL1\n0COL0\n0\n0x1F KP_GPIO3Keypad orGPIO\nselection\n0:GPIO\n1:KPmatrixN/A\n0N/A\n0N/A\n0N/A\n0N/A\n0N/A\n0COL9\n0COL8\n0\n0x20 GPI_EM1 GPI event mode 1ROW7\n0ROW6\n0ROW5\n0ROW4\n0ROW3\n0ROW2\n0ROW1\n0ROW0\n0\n0x21 GPI_EM2 GPI event mode 2COL7\n0COL6\n0COL5\n0COL4\n0COL3\n0COL2\n0COL1\n0COL0\n0\n0x22 GPI_EM3 GPI event mode 3N/A\n0N/A\n0N/A\n0N/A\n0N/A\n0N/A\n0COL9\n0COL8\n0\n0x23 GPIO_DIR1GPIO data direction\n0:input\n1:outputR7DD\n0R6DD\n0R5DD\n0R4DD\n0R3DD\n0R2DD\n0R1DD\n0R0DD\n0\n0x24 GPIO_DIR2GPIO data direction\n0:input\n1:outputC7DD\n0C6DD\n0C5DD\n0C4DD\n0C3DD\n0C2DD\n0C1DD\n0C0DD\n0\n0x25 GPIO_DIR3GPIO data direction\n0:input\n1:outputN/A\n0N/A\n0N/A\n0N/A\n0N/A\n0N/A\n0C9DD\n0C8DD\n0\n27TCA8418\nwww.ti.com SCPS215G –SEPTEMBER 2009 –REVISED JUNE 2018\nProduct Folder Links: TCA8418Submit Documentation Feedback Copyright ©2009 –2018, Texas Instruments IncorporatedTable 9.Register Descriptions (continued)\nADDRESS REGISTER NAMEREGISTER\nDESCRIPTION7 6 5 4 3 2 1 0\n0x26 GPIO_INT_LVL1GPIO edge/level detect\n0:falling/low\n1:rising/highR7IL\n0R6IL\n0R5IL\n0R4IL\n0R3IL\n0R2IL\n0R1IL\n0R0IL\n0\n0x27 GPIO_INT_LVL2GPIO edge/level detect\n0:falling/low\n1:rising/highC7IL\n0C6IL\n0C5IL\n0C4IL\n0C3IL\n0C2IL\n0C1IL\n0C0IL\n0\n0x28 GPIO_INT_LVL3GPIO edge/level detect\n0:falling/low\n1:rising/highN/A\n0N/A\n0N/A\n0N/A\n0N/A\n0N/A\n0C9IL\n0C8IL\n0\n0x29 DEBOUNCE_DIS1Debounce disable\n0:debounce enabled\n1:debounce disabledR7DD\n0R6DD\n0R5DD\n0R4DD\n0R3DD\n0R2DD\n0R1DD\n0R0DD\n0\n0x2A DEBOUNCE_DIS2Debounce disable\n0:debounce enabled\n1:debounce disabledC7DD\n0C6DD\n0C5DD\n0C4DD\n0C3DD\n0C2DD\n0C1DD\n0C0DD\n0\n0x2B DEBOUNCE_DIS3Debounce disable\n0:debounce enabled\n1:debounce disabledN/A\n0N/A\n0N/A\n0N/A\n0N/A\n0N/A\n0C9DD\n0C8DD\n0\n0x2C GPIO_PULL1GPIO pull-up disable\n0:pull-up enabled\n1:pull-up disabledR7PD\n0R6PD\n0R5PD\n0R4PD\n0R3PD\n0R2PD\n0R1PD\n0R0PD\n0\n0x2D GPIO_PULL2GPIO pull-up disable\n0:pull-up enabled\n1:pull-up disabledC7PD\n0C6PD\n0C5PD\n0C4PD\n0C3PD\n0C2PD\n0C1PD\n0C0PD\n0\n0x2E GPIO_PULL3GPIO pull-up disable\n0:pull-up enabled\n1:pull-up disabledN/A\n0N/A\n0N/A\n0N/A\n0N/A\n0N/A\n0C9PD\n0C8PD\n0\n0x2F Reserved\n28TCA8418\nSCPS215G –SEPTEMBER 2009 –REVISED JUNE 2018 www.ti.com\nProduct Folder Links: TCA8418Submit Documentation Feedback Copyright ©2009 –2018, Texas Instruments Incorporated8.6.2.1 Configuration Register (Address 0x01)\nBIT NAME DESCRIPTION\n7 AIAuto-increment forread andwrite operations; See below table formore information\n0=disabled\n1=enabled\n6 GPI_E_CFGGPI event mode configuration\n0=GPI events aretracked when keypad islocked\n1=GPI events arenottracked when keypad islocked\n5 OVR_FLOW_MOverflow mode\n0=disabled; Overflow data islost\n1=enabled; Overflow data shifts with lastevent pushing firstevent out\n4 INT_CFGInterrupt configuration\n0=processor interrupt remains asserted (orlow) ifhost tries toclear interrupt while there is\nstillapending keypress, keyrelease orGPI interrupt\n1=processor interrupt isdeasserted for50μsandreassert with pending interrupts\n3 OVR_FLOW_IENOverflow interrupt enable\n0=disabled; INTisnotasserted iftheFIFO overflows\n1=enabled; INTbecomes asserted iftheFIFO overflows\n2 K_LCK_IENKeypad lock interrupt enable\n0=disabled; INTisnotasserted after acorrect unlock keysequence\n1=enabled; INTbecomes asserted after acorrect unlock keysequence\n1 GPI_IENGPI interrupt enable tohost processor\n0=disabled; INTisnotasserted forachange onaGPI\n1=enabled; INTbecomes asserted forachange onaGPI\n0 KE_IENKey events interrupt enable tohost processor\n0=disabled; INTisnotasserted when akeyevent occurs\n1=enabled; INTbecomes asserted when akeyevent occurs\nBit7inthisregister isused todetermine theprogramming mode. Ifitislow, alldata bytes arewritten tothe\nregister defined bythecommand byte. Ifbit7ishigh, thevalue ofthecommand byte isautomatically\nincremented after each byte iswritten, and thenext data byte isstored inthecorresponding register. Registers\narewritten inthesequence shown inTable 9.Once theGPIO_PULL3 register (0x2E) iswritten to,thecommand\nbyte returns toregister 0.Registers 0and 2Farereserved and acommand byte that references these registers\nisnotacknowledged bytheTCA8418.\nThe keypad lock interrupt enable determines iftheinterrupt pinisasserted when thekey lock interrupt (see\nInterrupt Status Register )bitisset.\n29TCA8418\nwww.ti.com SCPS215G –SEPTEMBER 2009 –REVISED JUNE 2018\nProduct Folder Links: TCA8418Submit Documentation Feedback Copyright ©2009 –2018, Texas Instruments Incorporated8.6.2.2 Interrupt Status Register, INT_STAT (Address 0x02)\nBIT NAME DESCRIPTION\n7 N/A Always 0\n6 N/A Always 0\n5 N/A Always 0\n4 CAD_INTCTRL-ALT-DEL keysequence status. Requires writing a1toclear interrupts.\n0=interrupt notdetected\n1=interrupt detected\n3 OVR_FLOW_INTOverflow interrupt status. Requires writing a1toclear interrupts.\n0=interrupt notdetected\n1=interrupt detected\n2 K_LCK_INTKeypad lock interrupt status. This istheinterrupt totheprocessor when thekeypad lock\nsequence isstarted. Requires writing a1toclear interrupts.\n0=interrupt notdetected\n1=interrupt detected\n1 GPI_INTGPI interrupt status. Requires writing a1toclear interrupts.\n0=interrupt notdetected\n1=interrupt detected\nCan beused tomask interrupts\n0 K_INTKey events interrupt status. Requires writing a1toclear interrupts.\n0=interrupt notdetected\n1=interrupt detected\n(1) KEC[3:0] indicates how many keyevents areintheFIFO. Forexample, KEC[3:0] =0b0000 =0events, KEC[3:0] =0b0001 =1event\nandKEC[3:0] =0b1010 =10events. Asevents happen (press orrelease), thecount increases accordingly.The INT_STAT register isused tocheck which type ofinterrupt hasbeen triggered. Ifthecorresponding interrupt\nenable bitsaresetintheConfiguration Register ,then avalue of1inthecorresponding bitwillassert theINTline\nlow. Anexception tothisistheCAD_INT bit,which willassert theCAD_INT pinonYFP packages.\nAread tothis register willreturn which types ofevents have occurred. Writing a1tothebitwillclear the\ninterrupt, unless there isstilldata which hassettheInterrupt (unread keys intheFIFO).\n8.6.2.3 KeyLock andEvent Counter Register, KEY_LCK_EC (Address 0x03)\nBIT NAME DESCRIPTION\n7 N/A Always 0\n6 K_LCK_ENKey lock enable\n0=disabled; Write a0tothisbittounlock thekeypad manually\n1=enabled; Write a1tothisbittolock thekeypad\n5 LCK2Keypad lock status\n0=unlock (ifLCK1 is0too)\n1=locked (ifLCK1 is1too)\n4 LCK1Keypad lock status\n0=unlock (ifLCK2 is0too)\n1=locked (ifLCK2 is1too)\n3 KEC3(1)Key event count, Bit3\n2 KEC2 Key event count, Bit2\n1 KEC1 Key event count, Bit1\n0 KEC0 Key event count, Bit0\n30TCA8418\nSCPS215G –SEPTEMBER 2009 –REVISED JUNE 2018 www.ti.com\nProduct Folder Links: TCA8418Submit Documentation Feedback Copyright ©2009 –2018, Texas Instruments Incorporated(1) Only KEY_EVENT_A register isshown8.6.2.4 KeyEvent Registers (FIFO), KEY_EVENT_A –J(Address 0x04 –0x0D)\nADDRESS REGISTER NAME(1)REGISTER DESCRIPTIONBIT\n7 6 5 4 3 2 1 0\n0x04 KEY_EVENT_A Key event register A KEA7 KEA6 KEA5 KEA4 KEA3 KEA2 KEA1 KEA0\nThese registers –KEY_EVENT_A-J –function asaFIFO stack which can store upto10key presses and\nreleases. The user firstchecks theINT_STAT register toseeifthere areanyinterrupts. Ifso,then theKey Lock\nand Event Counter Register (KEY_LCK_EC, register 0x03) isread toseehow many interrupts arestored. The\nINT_STAT register isthen read again toensure nonew events have come in.The KEY_EVENT_A register is\nthen read asmany times asthere areinterrupts. Each time aread happens, thecount intheKEY_LCK_EC\nregister reduces by1.The data intheFIFO also moves down thestack by1too(from KEY_EVENT_J to\nKEY_EVENT_A). Once allevents have been read, thekey event count isat0and then KE_INT bitcan be\ncleared bywriting a‘1’toit.\nIntheKEY_EVENT_A register, KEA[6:0] indicates thekey#pressed orreleased. Avalue of0to80indicate\nwhich keyhasbeen pressed orreleased inakeypad matrix. Values of97to114areforGPI events.\nBit7orKEA[7] indicate ifakeypress orkeyrelease hashappened. A‘0’means akeyrelease happened. A‘1’\nmeans akeyhasbeen pressed (which canbecleared onaread).\nForexample, 3keypresses and 3keyreleases arestored as6words intheFIFO. Aseach word isread, the\nuser knows ifitisakeypress orkeyrelease thatoccurred. Key presses such asCTRL+ALT+DEL arestored as\n3simultaneous keypresses. Key presses and releases generate keyevent interrupts. The KE_INT bitand /INT\npinwillnotcleared until theFIFO iscleared ofallevents.\nAllregisters can beread butforthepurpose oftheFIFO, theuser should only read KEY_EVENT_A register.\nOnce alltheevents intheFIFO have been read, reading ofKEY_EVENT_A register willyield azero value.\n8.6.2.5 Keypad Lock1 toLock2 Timer Register, KP_LCK_TIMER (Address 0x0E)\nADDRESS REGISTER NAME REGISTER DESCRIPTIONBIT\n7 6 5 4 3 2 1 0\n0x0E KP_LCK_TIMERKeypad lock interrupt mask timer and\nlock 1tolock 2timerKL7 KL6 KL5 KL4 KL3 KL2 KL1 KL0\nKL[2:0] arefortheLock1 toLock2 timer\nKL[7:3] arefortheinterrupt mask timer\nLock1 toLock2 timer must benon-zero forkeylock tobeenabled. The lock1 tolock2 bits(KL[2:0] )define the\ntime inseconds theuser hastopress unlock key2after unlock key1before thekeylock sequence times out.\nFormore information, please seeKeypad Lock/Unlock .\nIfthekeypad lock interrupt mask timer isnon-zero, akeyevent interrupt (K_INT) willbegenerated onanyfirst\nkeypress. The second interrupt (K_LCK_IN) willonly begenerated when thecorrect unlock sequence hasbeen\ncompleted. Ifeither timer expires, thekeylock state machine willreset.\nWhen theinterrupt mask timer isdisabled (‘0’),akey lock interrupt willtrigger only when thecorrect unlock\nsequence iscompleted.\nThe interrupt mask timer should besetforthetime ittakes fortheLCD todimorturn off.Formore information,\nplease seeKeypad Lock Interrupt Mask Timer .\n31TCA8418\nwww.ti.com SCPS215G –SEPTEMBER 2009 –REVISED JUNE 2018\nProduct Folder Links: TCA8418Submit Documentation Feedback Copyright ©2009 –2018, Texas Instruments Incorporated8.6.2.6 Unlock1 andUnlock2 Registers, UNLOCK1/2 (Address 0x0F-0x10)\nADDRESS REGISTER NAME REGISTER DESCRIPTIONBIT\n7 6 5 4 3 2 1 0\n0x0F Unlock1 Unlock key1 UK1_7 UK1_6 UK1_5 UK1_4 UK1_3 UK1_2 UK1_1 UK1_0\n0x10 Unlock2 Unlock key2 UK2_7 UK2_6 UK2_5 UK2_4 UK2_3 UK2_2 UK2_1 UK2_0\nUK1[6:0] contains thekeynumber used tounlock key1\nUK2[6:0] contains thekeynumber used tounlock key2\nA‘0’ineither register disables thekeylock function.\n8.6.2.7 GPIO Interrupt Status Registers, GPIO_INT_STAT1 –3(Address 0x11 –0x13)\nThese registers areused tocheck GPIO interrupt status. IftheGPI_INT bitissetinINT_STAT register, then the\nGPI which settheinterrupt ismarked with a1inthecorresponding table. Toclear theGPI_INT bit,these\nregisters must allbe0x00. Aread totheregister clears thebit.\nADDRESS REGISTER NAME REGISTER DESCRIPTIONBIT\n7 6 5 4 3 2 1 0\n0x11 GPIO_INT_STAT1 GPIO Interrupt Status 1 R7IS R6IS R5IS R4IS R3IS R2IS R1IS R0IS\n0x12 GPIO_INT_STAT2 GPIO Interrupt Status 2 C7IS C6IS C5IS C4IS C3IS C2IS C1IS C0IS\n0x13 GPIO_INT_STAT3 GPIO Interrupt Status 3 N/A N/A N/A N/A N/A N/A C9IS C8IS\n8.6.2.8 GPIO Data Status Registers, GPIO_DAT_STAT1 –3(Address 0x14 –0x16)\nThese registers show theGPIO state when read forinputs andoutputs. Read these twice toclear them.\nIfdebouncing isenabled, these registers return their default values until achange ofstate occurs ataninput.\nInitial pinstates canberead bydisabling debouncing.\nADDRESS REGISTER NAME REGISTER DESCRIPTIONBIT\n7 6 5 4 3 2 1 0\n0x14 GPIO_DAT_STAT1 GPIO Data Status 1 R7DS R6DS R5DS R4DS R3DS R2DS R1DS R0DS\n0x15 GPIO_DAT_STAT2 GPIO Data Status 2 C7DS C6DS C5DS C4DS C3DS C2DS C1DS C0DS\n0x16 GPIO_DAT_STAT3 GPIO Data Status 3 N/A N/A N/A N/A N/A N/A C9DS C8DS\n8.6.2.9 GPIO Data OutRegisters, GPIO_DAT_OUT1 –3(Address 0x17 –0x19)\nThese registers contain GPIO data tobewritten toGPIO outdriver; inputs arenotaffected. This sets theoutput\nforthecorresponding GPIO output.\nADDRESS REGISTER NAME REGISTER DESCRIPTIONBIT\n7 6 5 4 3 2 1 0\n0x17 GPIO_DAT_OUT1 GPIO Data Out1 R7DO R6DO R5DO R4DO R3DO R2DO R1DO R0DO\n0x18 GPIO_DAT_OUT2 GPIO Data Out2 C7DO C6DO C5DO C4DO C3DO C2DO C1DO C0DO\n0x19 GPIO_DAT_OUT3 GPIO Data Out3 N/A N/A N/A N/A N/A N/A C9DO C8DO\n32TCA8418\nSCPS215G –SEPTEMBER 2009 –REVISED JUNE 2018 www.ti.com\nProduct Folder Links: TCA8418Submit Documentation Feedback Copyright ©2009 –2018, Texas Instruments Incorporated8.6.2.10 GPIO Interrupt Enable Registers, GPIO_INT_EN1 –3(Address 0x1A –0x1C)\nThese registers enable interrupts (bitvalue 1)ordisable interrupts (bitvalue \'0\')forgeneral purpose inputs (GPI)\nonly. Iftheinput changes onapinwhich issetup asaGPI, then theGPI_INT bitwillbesetintheINT_STAT\nregister.\nAbitvalue of\'0\'inany oftheunreserved bitsdisables thecorresponding pin\'s ability togenerate aninterrupt\nwhen thestate oftheinput changes. This isthedefault value.\nAbitvalue of1inany oftheunreserved bitsenables thecorresponding pin\'s ability togenerate aninterrupt\nwhen thestate oftheinput changes.\nADDRESS REGISTER NAME REGISTER DESCRIPTIONBIT\n7 6 5 4 3 2 1 0\n0x1A GPIO_INT_EN1 GPIO Interrupt Enable 1 R7IE R6IE R5IE R4IE R3IE R2IE R1IE R0IE\n0x1B GPIO_INT_EN2 GPIO Interrupt Enable 2 C7IE C6IE C5IE C4IE C3IE C2IE C1IE C0IE\n0x1C GPIO_INT_EN3 GPIO Interrupt Enable 3 N/A N/A N/A N/A N/A N/A C9IE C8IE\n8.6.2.11 Keypad orGPIO Selection Registers, KP_GPIO1 –3(Address 0x1D –0x1F)\nAbitvalue of\'0\'inanyoftheunreserved bitsputs thecorresponding pininGPIO mode. ApininGPIO mode can\nbeconfigured asaninput oranoutput intheGPIO_DIR1-3 registers. This isthedefault value.\nA1inany ofthese bits puts thepininkey scan mode and becomes part ofthekeypad array, then itis\nconfigured asaroworcolumn accordingly (this isnotadjustable).\nADDRESS REGISTER NAME REGISTER DESCRIPTIONBIT\n7 6 5 4 3 2 1 0\n0x1D KP_GPIO1 Keypad/GPIO Select 1 ROW7 ROW6 ROW5 ROW4 ROW3 ROW2 ROW1 ROW0\n0x1E KP_GPIO2 Keypad/GPIO Select 2 COL7 COL6 COL5 COL4 COL3 COL2 COL1 COL0\n0x1F KP_GPIO3 Keypad/GPIO Select 3 N/A N/A N/A N/A N/A N/A COL9 COL8\n8.6.2.12 GPIEvent Mode Registers, GPI_EM1 –3(Address 0x20 –0x22)\nAbitvalue of\'0\'inanyoftheunreserved bitsindicates that itisnotpart oftheevent FIFO. This isthedefault\nvalue.\nA1inanyofthese bitsmeans itispart oftheevent FIFO. When apinissetup asaGPI andhasavalue of1in\ntheEvent Mode register, then anykeypresses willbeadded totheFIFO. Please seeKeyEvent Table formore\ninformation.\nADDRESS REGISTER NAME REGISTER DESCRIPTIONBIT\n7 6 5 4 3 2 1 0\n0x20 GPI_EM1 GPI Event Mode Select 1 ROW7 ROW6 ROW5 ROW4 ROW3 ROW2 ROW1 ROW0\n0x21 GPI_EM2 GPI Event Mode Select 2 COL7 COL6 COL5 COL4 COL3 COL2 COL1 COL0\n0x23 GPI_EM3 GPI Event Mode Select 3 N/A N/A N/A N/A N/A N/A COL9 COL8\n8.6.2.13 GPIO Data Direction Registers, GPIO_DIR1 –3(Address 0x23 –0x25)\nAbitvalue of\'0\'inanyoftheunreserved bitssets thecorresponding pinasaninput. This isthedefault value.\nA1inanyofthese bitssets thepinasanoutput.\nADDRESS REGISTER NAME REGISTER DESCRIPTIONBIT\n7 6 5 4 3 2 1 0\n0x23 GPIO_DIR1 GPIO Direction 1 R7DD R6DD R5DD R4DD R3DD R2DD R1DD R0DD\n0x24 GPIO_DIR2 GPIO Direction 2 C7DD C6DD C5DD C4DD C3DD C2DD C1DD C0DD\n0x25 GPIO_DIR3 GPIO Direction 3 N/A N/A N/A N/A N/A N/A C9DD C8DD\nD EEBOUNCE NABLED\nGPI with INT\nINT\nV H T IALID IGH RIGGER NTERRUPT50 s/c109\nV LOW T IALID RIGGER NTERRUPT50 s/c109\nD DISABLEDEBOUNCE\nGPI with INT\nINT\nV H T IALID IGH RIGGER NTERRUPT V LOW T IALID RIGGER NTERRUPT\n33TCA8418\nwww.ti.com SCPS215G –SEPTEMBER 2009 –REVISED JUNE 2018\nProduct Folder Links: TCA8418Submit Documentation Feedback Copyright ©2009 –2018, Texas Instruments Incorporated8.6.2.14 GPIO Edge/Level Detect Registers, GPIO_INT_LVL1 –3(Address 0x26 –0x28)\nAbitvalue of\'0\'indicates that interrupt willbetriggered onahigh-to-low/low-level transition fortheinputs in\nGPIO mode. This isthedefault value.\nAbitvalue of1indicates that interrupt willbetriggered onalow-to-high/high-level value fortheinputs inGPIO\nmode.\nADDRESS REGISTER NAME REGISTER DESCRIPTIONBIT\n7 6 5 4 3 2 1 0\n0x26 GPIO_INT_LVL1 GPIO Edge/Level Detect 1 R7IL R6IL R5IL R4IL R3IL R2IL R1IL R0IL\n0x27 GPIO_INT_LVL2 GPIO Edge/Level Detect 2 C7IL C6IL C5IL C4IL C3IL C2IL C1IL C0IL\n0x28 GPIO_INT_LVL3 GPIO Edge/Level Detect 3 N/A N/A N/A N/A N/A N/A C9IL C8IL\n8.6.2.15 Debounce Disable Registers, DEBOUNCE_DIS1 –3(Address 0x29 –0x2B)\nThis isforpins configured asinputs. Abitvalue of‘0’inanyoftheunreserved bitsenables thedebounce. This is\nthedefault value\nAbitvalue of‘1’disables thedebounce.\nADDRESS REGISTER NAME REGISTER DESCRIPTIONBIT\n7 6 5 4 3 2 1 0\n0x29 DEBOUNCE_DIS1 Debounce Disable 1 R7DD R6DD R5DD R4DD R3DD R2DD R1DD R0DD\n0x30 DEBOUNCE_DIS2 Debounce Disable 2 C7DD C6DD C5DD C4DD C3DD C2DD C1DD C0DD\n0x2B DEBOUNCE_DIS3 Debounce Disable 3 N/A N/A N/A N/A N/A N/A C9DD C8DD\nDebounce disable willhave thesame effect forGPI mode orforrows inkeypad scanning mode. The RESET\ninput always hasa50-μsdebounce time.\nThe debounce time forinputs isthetime required fortheinput tobestable tobenoticed. This time is50μs.\nThe debounce time forthekeypad isforthecolumns only. The minimum time is25ms.Allcolumns arescanned\nonce every 25mstodetect anykeypresses. Two fullscans arerequired toseeifanykeys were pressed. Ifthe\nfirstscan isdone justafter akeypress, ittakes 25mstodetect thekeypress. Ifthefirstscan isdown much later\nthan thekeypress, itwilltake 40mstodetect akeypress.\n34TCA8418\nSCPS215G –SEPTEMBER 2009 –REVISED JUNE 2018 www.ti.com\nProduct Folder Links: TCA8418Submit Documentation Feedback Copyright ©2009 –2018, Texas Instruments Incorporated8.6.2.16 GPIO pull-up Disable Register, GPIO_PULL1 –3(Address 0x2C –0x2E)\nThis register enables ordisables pull-up registers from inputs.\nAbitvalue of\'0\'willenable theinternal pull-up resistors. This isthedefault value.\nAbitvalue of1willdisable theinternal pull-up resistors.\nADDRESS REGISTER NAME REGISTER DESCRIPTIONBIT\n7 6 5 4 3 2 1 0\n0x2C GPIO_PULL1 GPIO pull-up Disable 1 R7PD R6PDR5P\nDR4PD R3PDR2P\nDR1PDR0P\nD\n0x3D GPIO_PULL2 GPIO pull-up Disable 2 C7PD C6PDC5P\nDC4PD C3PDC2P\nDC1PDC0P\nD\n0x2E GPIO_PULL3 GPIO pull-up Disable 3 N/A N/A N/A N/A N/A N/A C9PDC8P\nD\n35TCA8418\nwww.ti.com SCPS215G –SEPTEMBER 2009 –REVISED JUNE 2018\nProduct Folder Links: TCA8418Submit Documentation Feedback Copyright ©2009 –2018, Texas Instruments Incorporated8.6.3 CAD Interrupt Errata\n8.6.3.1 Description\nIntheInterrupt Status Register (see Table 10),bit4isused toindicate thedetection ofaCTRL-ALT-DEL key\nsequence. Certain keypress sequences trigger thisbittoregister aCAD_INT improperly.\nTable 10.Interrupt Status Register, INT_STAT (Address 0x02)\nBIT NAME DESCRIPTION\n7 N/A Always 0\n6 N/A Always 0\n5 N/A Always 0\n4 CAD_INTCTRL-ALT-DEL keysequence status. Requires writing a1toclear interrupts.\n0=interrupt notdetected\n1=interrupt detected\n3 OVR_FLOW_INTOverflow interrupt status. Requires writing a1toclear interrupts.\n0=interrupt notdetected\n1=interrupt detected\n2 K_LCK_INTKeypad lock interrupt status. This istheinterrupt totheprocessor when thekeypad\nlock sequence isstarted. Requires writing a1toclear interrupts.\n0=interrupt notdetected\n1=interrupt detected\n1 GPI_INTGPI interrupt status. Requires writing a1toclear interrupts.\n0=interrupt notdetected\n1=interrupt detected\nCan beused tomask interrupts\n0 K_INTKey events interrupt status. Requires writing a1toclear interrupts.\n0=interrupt notdetected\n1=interrupt detected\nThe following keypress combinations willcause afalse CAD_INT:\n•1+11\n•1+21\n•21+1+11\n8.6.3.2 System Impact\nThis device has anindividual pinfortheCAD_INT unlike theTCA8418. The CAD_INT pinfalsely flag the\nprocessor inaddition totheInterrupt Status Register ’sCAD_INT bitbeing High when aCAD sequence didnot\noccur.\n8.6.3.3 System Workaround\nThere isnosystem workaround toavoid theInterrupt Status Register toindicate aCAD_INT sequence being\ndetected.\n36TCA8418\nSCPS215G –SEPTEMBER 2009 –REVISED JUNE 2018 www.ti.com\nProduct Folder Links: TCA8418Submit Documentation Feedback Copyright ©2009 –2018, Texas Instruments Incorporated8.6.4 Overflow Errata\n8.6.4.1 Description\nThe TCA8418 allows foroverflow detection ofthe10byte FIFO ofkey-press andrelease events. Foroverflow to\nbeenabled, both Bit_3 andBit_5 oftheConfiguration Register (see Table 11)must besetHigh. Ifonly Bit_3 set\nhigh, nooverflow interrupt isgenerated.\nTable 11.Configuration Register (Address 0x01)\nBIT NAME DESCRIPTION\n7 AIAuto-increment forread andwrite operation\n0=disabled\n1=enabled\n6 CPI_E_CFGGPI even mode configuration\n0=GPI events aretracked when keypad islocked\n1=GPI events arenottracked when keypad islocked\n5 OVR_FLOW_MOverflow mode\n0=disabled; overflow data islost\n1=enabled.\n4 INT_CFGOverflow data shifts with lastevent pushing firstevent outinterrupt configuration.\n0=processor interrupt remains asserted (orlow) ifhost tries toclear interrupt\nwhile there isstillapending keypress, keyrelease orGPI interrupt\n1=processor interrupt isdeasserted for50µsandreassert with pending interrupts\n3 OVR_FLOW_IENOverflow interrupt enable\n0=disabled\n1=enabled\n2 K_LCK_IENKeypad lock interrupt enable\n0=disabled\n1=enabled\n8.6.4.2 System Impact\nEnabling theOverflow improperly may lead todata loss.\n8.6.4.3 System Workaround\nThe FIFO stack should beread asnew information ispassed in.Since theOverflow interrupt istriggered once\nthatstack hasbegun tooverflow, meaning data isalready being lost.\n123\n111213\n212223\n313233R0\nR1\nR2\nR3\nC0 C1 C2\n37TCA8418\nwww.ti.com SCPS215G –SEPTEMBER 2009 –REVISED JUNE 2018\nProduct Folder Links: TCA8418Submit Documentation Feedback Copyright ©2009 –2018, Texas Instruments Incorporated9Application andImplementation\nNOTE\nInformation inthe following applications sections isnot part ofthe TIcomponent\nspecification, and TIdoes notwarrant itsaccuracy orcompleteness. TI’scustomers are\nresponsible fordetermining suitability ofcomponents fortheir purposes. Customers should\nvalidate andtesttheir design implementation toconfirm system functionality.\n9.1 Application Information\n9.1.1 Ghosting Considerations\nThe TCA8418 supports multiple keypresses accurately. Applications requiring three-key combinations (such as\n<Ctrl><Alt><Del>,orany other combinations) must ensure that thethree keys arewired inappropriate key\npositions toavoid ghosting (orappearing likea4thkeyhasbeen pressed).\nToavoid ghosting, itisbest tokeep 3-button combinations that arepressed onseparate rows and columns.\nConsider thesituation with thekeypad described inFigure 26.\nFigure 26.Example Keypad\nInthekeypad setup inFigure 26,there isa4x3keypad matrix, connected toROW0-ROW3, andCOL0-COL2. All\noftheROWs areconfigured asinputs with pullup resistors. The COLs areconfigured asoutputs, driving low.\nWhen akeypress ismade, one oftheROW inputs willbepulled low, letting theTCA8418 know that akeyhas\nbeen pressed, and theTCA8418 willthen start thekeyscanning algorithm. During thisalgorithm, Itsweeps the\noutput lowacross thecolumns, such that only 1column isdriven lowatatime. While this isdone toeach\ncolumn, theTCA8418 willread theROW inputs, todetermine which keys onacolumn arebeing pressed.\nGhosting canoccur when multiple keys arepressed that canmake itappear that additional keys (which arenot\nbeing pressed) arebeing pressed.\n23\n1213\n2223\n313233R0\nR1\nR2\nR3\nC0 C1 C2\n123\n1213\n212223\n313233R0\nR1\nR2\nR3\nC0 C1 C2\n38TCA8418\nSCPS215G –SEPTEMBER 2009 –REVISED JUNE 2018 www.ti.com\nProduct Folder Links: TCA8418Submit Documentation Feedback Copyright ©2009 –2018, Texas Instruments IncorporatedApplication Information (continued)\nFigure 27.Incorrect 3Button Combination\nInFigure 27,keys 1,2,and11arepressed, which causes aghosting issue. Since R1becomes pulled toground\nthrough key 1(which ispulled through key 2when C1istransmitting alow), when C1isdriving low, the\nTCA8418 willsee alowsignal atboth R0and R1. This willfalsely trigger key 12asbeing pressed (the key\nhighlighted asyellow).\nThe reason forthisisthat keypad matrices willshort thecolumns totherows connected together. When C1is\ndriving low, thelowgets transmitted onto R0viakey2.Key 1isbeing pressed, which also shorts C0toground.\nKey 11ispressed, which then shorts R1toC0.Inthisprocess, R1isshorted toC1,which isthereason ghosting\noccurs.\nKeypad matrices can support multiple key presses properly, ifcare istaken when choosing thelayout. In\nFigure 28,weseea3button combination which work asexpected. Keys 1,11,and 21arepressed (this also is\nthecombination thatwillsetthe<Ctrl><Alt><Del>interrupt, seeControl-Alt-Delete Support formore information).\nFigure 28.Correct 3Button Combination\n123\n456\n789\n*0#ROW0\nROW1\nROW2\nROW3\nCOL0 COL1 COL2\n39TCA8418\nwww.ti.com SCPS215G –SEPTEMBER 2009 –REVISED JUNE 2018\nProduct Folder Links: TCA8418Submit Documentation Feedback Copyright ©2009 –2018, Texas Instruments Incorporated9.2 Typical Application\nFigure 29shows atypical application oftheTCA8418. Inthisspecific example, acommon 12keynumber pad\nlayout isused. This number padhaskeys fornumbers 0to9,*,and#.\nFigure 29.Typical Application\n9.2.1 Design Requirements\nThe system designer needs toknow afewkeypieces inorder todesign their system fortheTCA8418.\n•The number ofkeys desired\n•Whether thekeys willbemultiplexed ornot\n•The layout ofthemultiplexed keys\n•Unused keys betiedtoVCC through apullup resistor (10kΩ)\n9.2.2 Detailed Design Procedure\n9.2.2.1 Designing theHardware Layout\nThe firststeps towards designing akeypad array istodetermine thedesired layout, and tomap each keytothe\nappropriate value which willshow upintheFIFO. Forthis example, thenumber pad below isthephysical\nlocation ofthekeys that aredesired. The layout isa4x3array, using rows 0-3and columns 0-2. Forthis\nexample, wewillnotassume anyoftheother pins willbeused.\nThe following behavior isdesired forthisexample design\n•Allkeys inthekeypad array tobeadded totheFIFO upon akeypress\n•Attempting toclear theinterrupt before theproper registers have been cleared tode-assert theINTpinfor50\nμs,then assert theINTpin.\n•Noadditional pins arebeing used, other than thekeypad array\n•Keypad lock support, requiring that theunlock combination be‘#,1’which must bepressed within 2seconds\nofeach other\n•Keypad lock interrupt mask timer of10seconds tomatch theback light auto-turn offwith 10seconds ofno\ninterrupt\n•Hardware debouncing tobeenabled\n123\n456\n789\n*0#ROW0\nROW1\nROW2\nROW3\nCOL0 COL1 COL2\n40TCA8418\nSCPS215G –SEPTEMBER 2009 –REVISED JUNE 2018 www.ti.com\nProduct Folder Links: TCA8418Submit Documentation Feedback Copyright ©2009 –2018, Texas Instruments IncorporatedTypical Application (continued)\nFigure 30.Example Keypad\nSince theTCA8418 reports keys pressed according tothevalues inthekeyvalue table, itisimportant toknow\ntheTCA8418 values forthekeylocations.\nAccording tothekeyevent table, thekeypresses areassigned inTable 12.\nTable 12.KeyPress Assignment\nKeypad Button 1 2 3 4 5 6 7 8 9 * 0 #\nKey Event Table\nValue (Decimal)1 2 3 11 12 13 21 22 23 31 32 33\n1 2 3\n11 12 13\n21 22 23\n31 32 33ROW0\nROW1\nROW2\nROW3\nCOL0 COL1 COL2\n41TCA8418\nwww.ti.com SCPS215G –SEPTEMBER 2009 –REVISED JUNE 2018\nProduct Folder Links: TCA8418Submit Documentation Feedback Copyright ©2009 –2018, Texas Instruments IncorporatedThe schematic forthiskeypad layout isshown infigure (schematic below) with thekeyevent table values. Note\nthatnoexternal pullup resistors areneeded, because theTCA8418 hasintegrated pullup resistors.\nFigure 31.Keypad Schematic\n9.2.2.2 Configuring theRegisters\nThe next step todesign akeypad array fortheTCA8418 istoconfigure theappropriate hardware registers.\nThe registers thatmust bemodified forthedesired features arethefollowing\nSTEP REGISTER TOEDIT VALUE TOWRITE DESCRIPTION\nSetup keypad arrayKP_GPIO1 (0x1D) 0x0FSetROW0-ROW3 toKP\nMatrix\nKP_GPIO2 (0x1E) 0x07SetCOL0-COL2 toKP\nMatrix\nKP_GPIO3 (0x1F) 0x00 SetCOL8-COL9 toGPIO\nSetup Interrupts CFG (0x01) 0x95SettheKE_IEN,\nK_LCK_IEN, INT_CFG,\nandAIbits\nSetup Unlock Key CombinationUNLOCK1 (0x0F) 0x21Setfirstunlock keytokey\n33\nUNLOCK2 (0x10) 0x01Setsecond unlock keyto\nkey1\nSetKeypad Lock Timers KP_LCK_TIMER (0x0E) 0x52Lock1 toLock2 setto2\nseconds. Interrupt mask\ntimer setto10seconds\nVCC\nRamp-Up\nTime to Re-RampTimeRamp-Down\nVINdrops below POR levels\nVCC_RTVCC_FTVCC_TRR_VPOR50\nVCC\nRamp-Up Re-Ramp-Up\nTime to Re-RampTimeRamp-Down\nVCC_RTVCC_RTVCC_FTVCC_TRR_GND\nTime (ms)Voltage (V)\n-2 0 2 4 6 810 12 14 16 18 20 22 24 2600.511.522.533.54\nD001ROW0\nINT Output\nTime (µs)Voltage (V)\n-40 -20 0 20 40 60 80 10000.511.522.533.54\nD002ROW0\nINT Output\n42TCA8418\nSCPS215G –SEPTEMBER 2009 –REVISED JUNE 2018 www.ti.com\nProduct Folder Links: TCA8418Submit Documentation Feedback Copyright ©2009 –2018, Texas Instruments Incorporated9.2.3 Application Curves\nFigure 32.Initial KeyPress toInterrupt Output Figure 33.Zoom OnSecond Scan\n(1) TA=–40°Cto85°C(unless otherwise noted)10Power Supply Recommendations\nIntheevent ofaglitch ordata corruption, TCA8418 canbereset toitsdefault conditions byusing thepower-on\nreset feature. Power-on reset requires that thedevice gothrough apower cycle tobecompletely reset. This\nreset also happens when thedevice ispowered onforthefirsttime inanapplication.\nThe twotypes ofpower-on reset areshown inFigure 34andFigure 35.\nFigure 34.VCCisLowered Below 0.2Vor0VandThen Ramped UptoVCC\nFigure 35.VCCisLowered Below thePOR Threshold, Then Ramped Back UptoVCC\nTable 13specifies theperformance ofthepower-on reset feature forTCA8418 forboth types ofpower-on reset.\nTable 13.Recommended Supply Sequencing andRamp Rates(1)\nPARAMETER MIN TYP MAX UNIT\nVCC_FT Fallrate See Figure 34 1 100 ms\nVCC_RT Rise rate See Figure 34 0.01 100 ms\nVCC_TRR_GND Time tore-ramp (when VCCdrops toGND) See Figure 34 0.001 ms\nVCC_TRR_POR50 Time tore-ramp (when VCCdrops toVPOR_MIN –50mV) See Figure 35 0.001 ms\nVCC\nVPOR\nVPORF\nTime\nPOR\nTime\nVCC\nTimeVCC_GH\nVCC_GW\n43TCA8418\nwww.ti.com SCPS215G –SEPTEMBER 2009 –REVISED JUNE 2018\nProduct Folder Links: TCA8418Submit Documentation Feedback Copyright ©2009 –2018, Texas Instruments IncorporatedTable 13.Recommended Supply Sequencing andRamp Rates()(continued)\nPARAMETER MIN TYP MAX UNIT\nVCC_GHLevel thatVCCcanglitch down to,butnotcause afunctional\ndisruption when VCCX_GW =1μsSee Figure 36 1.2 V\nVCC_GWGlitch width thatwillnotcause afunctional disruption when\nVCCX_GH =0.5×VCCxSee Figure 36 10μs\nVPORF Voltage trippoint ofPOR onfalling VCC 0.76 1.15 V\nVPORR Voltage trippoint ofPOR onrising VCC 1.03 1.43 V\nGlitches inthepower supply can also affect thepower-on reset performance ofthis device. The glitch width\n(VCC_GW )and height (VCC_GH )aredependent oneach other. The bypass capacitance, source impedance, and\ndevice impedance arefactors that affect power-on reset performance. Figure 36and Table 13provide more\ninformation onhow tomeasure these specifications.\nFigure 36.Glitch Width andGlitch Height\nVPORiscritical tothepower-on reset. VPORisthevoltage level atwhich thereset condition isreleased andallthe\nregisters and theI2C/SMBus state machine areinitialized totheir default states. The value ofVPORdiffers based\nontheVCCbeing lowered toorfrom 0.Figure 37andTable 13provide more details onthisspecification.\nFigure 37.VPOR\nForproper operation ofthepower-on reset feature, useasdirected intheprevious figures andtable above.\n06030603\nTo keypadROW7ROW6\nROW5\nROW4ROW3ROW2 ROW1ROW0COL0COL1COL2COL3\nCOL4\nCOL5COL6COL7COL8\nCOL9INT\nSCL\nSDA\nVCC\nRESET = Via to GND Plane\n44TCA8418\nSCPS215G –SEPTEMBER 2009 –REVISED JUNE 2018 www.ti.com\nProduct Folder Links: TCA8418Submit Documentation Feedback Copyright ©2009 –2018, Texas Instruments Incorporated11Layout\n11.1 Layout Guidelines\nForprinted circuit board (PCB) layout oftheTCA8418, common PCB layout practices should befollowed, but\nadditional concerns related tohigh-speed data transfer, such asmatched impedances and differential pairs are\nnotaconcern forI2Csignal speeds.\nInallPCB layouts, itisbest practice toavoid right angles insignal traces, tofanoutsignal traces away from\neach other upon leaving thevicinity ofanintegrated circuit (IC), and tousethicker trace widths tocarry higher\namounts ofcurrent that commonly pass through power and ground traces. Bypass and de-coupling capacitors\narecommonly used tocontrol thevoltage ontheVCC pin,using alarger capacitor toprovide additional power in\ntheevent ofashort power supply glitch and asmaller capacitor tofilter outhigh-frequency ripple. These\ncapacitors should beplaced asclose totheTCA8418 aspossible.\nForthelayout example provided inLayout Example ,a4layer board isrequired toroute allofthesignals. The\nlayout example shows away toroute thesignals outfrom thedevice, which caneventually bebrought uptothe\ntoplayer (oranyrequired layer) with theuseofavia.This technique isnotdemonstrated inthisexample due to\nthecomplexity ofthelayout.\n11.2 Layout Example\nFigure 38.RTW Package Layout Example\n45TCA8418\nwww.ti.com SCPS215G –SEPTEMBER 2009 –REVISED JUNE 2018\nProduct Folder Links: TCA8418Submit Documentation Feedback Copyright ©2009 –2018, Texas Instruments Incorporated12Device andDocumentation Support\n12.1 Receiving Notification ofDocumentation Updates\nToreceive notification ofdocumentation updates, navigate tothedevice product folder onti.com. Intheupper\nright corner, click onAlert metoregister and receive aweekly digest ofany product information that has\nchanged. Forchange details, review therevision history included inanyrevised document\n12.2 Community Resources\nThe following links connect toTIcommunity resources. Linked contents areprovided "AS IS"bytherespective\ncontributors. They donotconstitute TIspecifications and donotnecessarily reflect TI\'sviews; seeTI\'sTerms of\nUse.\nTIE2E™Online Community TI\'sEngineer-to-Engineer (E2E) Community. Created tofoster collaboration\namong engineers. Ate2e.ti.com, youcanaskquestions, share knowledge, explore ideas andhelp\nsolve problems with fellow engineers.\nDesign Support TI\'sDesign Support Quickly findhelpful E2E forums along with design support tools and\ncontact information fortechnical support.\n12.3 Trademarks\nE2E isatrademark ofTexas Instruments.\nAllother trademarks aretheproperty oftheir respective owners.\n12.4 Electrostatic Discharge Caution\nThese devices have limited built-in ESD protection. The leads should beshorted together orthedevice placed inconductive foam\nduring storage orhandling toprevent electrostatic damage totheMOS gates.\n12.5 Glossary\nSLYZ022 —TIGlossary .\nThis glossary lists andexplains terms, acronyms, anddefinitions.\n13Mechanical, Packaging, andOrderable Information\nThe following pages include mechanical, packaging, and orderable information. This information isthemost\ncurrent data available forthedesignated devices. This data issubject tochange without notice and revision of\nthisdocument. Forbrowser-based versions ofthisdata sheet, refer totheleft-hand navigation.\nPACKAGE OPTION ADDENDUM\nwww.ti.com 10-Dec-2020\nAddendum-Page 1PACKAGING INFORMATION\nOrderable Device Status\n(1)Package Type Package\nDrawingPinsPackage\nQtyEco Plan\n(2)Lead finish/\nBall material\n(6)MSL Peak Temp\n(3)Op Temp (°C) Device Marking\n(4/5)Samples\nTCA8418RTWR ACTIVE WQFN RTW 243000RoHS & Green NIPDAU Level-2-260C-1 YEAR -40 to 85 PZ418\n \n(1) The marketing status values are defined as follows:\nACTIVE: Product device recommended for new designs.\nLIFEBUY:  TI has announced that the device will be discontinued, and a lifetime-buy period is in effect.\nNRND: Not recommended for new designs. Device is in production to support existing customers, but TI does not recommend using this part in a new design.\nPREVIEW:  Device has been announced but is not in production. Samples may or may not be available.\nOBSOLETE:  TI has discontinued the production of the device.\n \n(2) RoHS:  TI defines "RoHS" to mean semiconductor products that are compliant with the current EU RoHS requirements for all 10 RoHS substances,  including the requirement that RoHS substance\ndo not exceed 0.1% by weight in homogeneous materials. Where designed to be soldered at high temperatures, "RoHS" products are suitable for use in specified lead-free processes. TI may\nreference these types of products as "Pb-Free".\nRoHS Exempt:  TI defines "RoHS Exempt" to mean products that contain lead but are compliant with EU RoHS pursuant to a specific EU RoHS exemption.\nGreen: TI defines "Green" to mean the content of Chlorine (Cl) and Bromine (Br) based flame retardants meet JS709B low halogen requirements of <=1000ppm threshold.  Antimony trioxide based\nflame retardants must also meet the <=1000ppm threshold requirement.\n \n(3) MSL, Peak Temp. - The Moisture Sensitivity Level rating according to the JEDEC industry standard classifications, and peak solder temperature.\n \n(4) There may be additional marking, which relates to the logo, the lot trace code information, or the environmental category on the device.\n \n(5) Multiple Device Markings will be inside parentheses. Only one Device Marking contained in parentheses and separated by a "~" will appear on a device. If a line is indented then it is a continuation\nof the previous line and the two combined represent the entire Device Marking for that device.\n \n(6) Lead finish/Ball material - Orderable Devices may have multiple material finish options. Finish options are separated by a vertical ruled line. Lead finish/Ball material values may wrap to two\nlines if the finish value exceeds the maximum column width.\n \nImportant Information and Disclaimer: The information provided on this page represents TI\'s knowledge and belief as of the date that it is provided. TI bases its knowledge and belief on information\nprovided by third parties, and makes no representation or warranty as to the accuracy of such information. Efforts are underway to better integrate information from third parties. TI has taken and\ncontinues to take reasonable steps to provide representative and accurate information but may not have conducted destructive testing or chemical analysis on incoming materials and chemicals.\nTI and TI suppliers consider certain information to be proprietary, and thus CAS numbers and other limited information may not be available for release.\n \nIn no event shall TI\'s liability arising out of such information exceed the total purchase price of the TI part(s) at issue in this document sold by TI to Customer on an annual basis.\n \nPACKAGE MATERIALS INFORMATION\n  \nwww.ti.com 3-Jun-2022\nTAPE AND REEL INFORMATION\nReel Width (W1)REEL DIMENSIONS\nA0\nB0\nK0\nWDimension designed to accommodate the component length\nDimension designed to accommodate the component thickness\nOverall width of the carrier tape\nPitch between successive cavity centersDimension designed to accommodate the component widthTAPE DIMENSIONS\nK0 P1\nB0W\nA0 Cavity\nQUADRANT ASSIGNMENTS FOR PIN 1 ORIENTATION IN TAPE\nPocket QuadrantsSprocket Holes\nQ1 Q1 Q2 Q2\nQ3 Q3 Q4 Q4 User Direction of FeedP1Reel\nDiameter\n \n*All dimensions are nominal\nDevice Package\nTypePackage\nDrawingPinsSPQ Reel\nDiameter\n(mm)Reel\nWidth\nW1 (mm)A0\n(mm)B0\n(mm)K0\n(mm)P1\n(mm)W\n(mm)Pin1\nQuadrant\nTCA8418RTWR WQFN RTW 243000 330.0 12.44.254.251.158.012.0 Q2\nPack Materials-Page 1\nPACKAGE MATERIALS INFORMATION\n  \nwww.ti.com 3-Jun-2022\nTAPE AND REEL BOX DIMENSIONS\nWidth (mm)\nWLH\n \n*All dimensions are nominal\nDevice Package Type Package Drawing Pins SPQ Length (mm) Width (mm) Height (mm)\nTCA8418RTWR WQFN RTW 243000 367.0 367.0 35.0\nPack Materials-Page 2\nwww.ti.comGENERIC PACKAGE VIEW\nThis image is a representation of the package family, actual package may vary.\nRefer to the product data sheet for package details.WQFN - 0.8 mm max height RTW 24\nPLASTIC QUAD FLATPACK - NO LEAD 4 x 4, 0.5 mm pitch\n4224801/A\nNOTES:\n1. All linear dimensions are in millimeters. Any dimensions in parenthesis are for reference only. Dimensioning and tolerancing\nper ASME Y14.5M.\n2. This drawing is subject to change without notice.PACKAGE OUTLINE\n4219135 /B   11/2016\nwww.ti.comWQFN  - 0.8 mm max height\nPLASTIC QUAD FLATPACK-NO LEADRTW0024B \nA\n0.08 C\n0.1 CAB\n0.05 CB\nSYMM\nSYMM4.15\n3.85\n4.15\n3.85\nPIN 1 INDEX AREA\n0.8 MAX\n0.05\n0.00C\nSEATING PLANE\nPIN 1 ID\n(OPTIONAL)2X\n2.520X 0.52X 2.5\n16\n18137 12\n24 192.45±0.1\n24X 0.3\n0.18\n24X 0.5\n0.3(0.2) TYP\n25EXPOSED\nTHERMAL PAD\nNOTES: (continued)\n3. For more information, see Texas Instruments literature number SLUA271  (www.ti.com/lit/slua271) .EXAMPLE BOARD LAYOUT\n4219135 /B   11/2016\nwww.ti.comWQFN  - 0.8 mm max height RTW0024B \nPLASTIC QUAD FLATPACK-NO LEAD\nSYMMSYMM\nLAND PATTERN EXAMPLE\nSCALE: 20X(    2.45)\n24X (0.6)\n24X (0.24)1\n6\n7 12131819 24\n(3.8)(0.97)\n(3.8)(0.97)25\n(R0.05)\n TYP20X (0.5)\n(Ø0.2) TYP\nVIA\n0.07 MAX\nALL AROUND0.07 MIN\nALL AROUNDMETAL\nSOLDER MASK\nOPENINGSOLDER MASK\nOPENING\nMETAL UNDER\nSOLDER MASK\nSOLDER MASK DETAILSNON SOLDER MASK\nDEFINED\n(PREFERRED)SOLDER MASK\nDEFINED\nNOTES: (continued)\n4. Laser cutting apertures with trapezoidal walls and rounded corners may offer better paste release. IPC-7525 may have alternate\ndesign recommendations.EXAMPLE STENCIL DESIGN\n4219135 /B   11/2016\nwww.ti.comWQFN  - 0.8 mm max height RTW0024B \nPLASTIC QUAD FLATPACK-NO LEAD\nSYMM\nSYMM\nSOLDER PASTE EXAMPLE\nBASED ON 0.125 mm THICK STENCIL\nEXPOSED PAD 25:\n78% PRINTED COVERAGE BY AREA UNDER PACKAGE\nSCALE: 20X(3.8)(0.64) TYP\n1\n6\n7 12131819 24\n25\n(0.64)\n TYP4X(    1.08)\n(R0.05) TYP\n(3.8)20X (0.5)24X (0.24)24X (0.6)\nMETAL\nTYP\nIMPORTANT NOTICE AND DISCLAIMER\nTI PROVIDES TECHNICAL AND RELIABILITY DATA (INCLUDING DATA SHEETS), DESIGN RESOURCES (INCLUDING REFERENCE \nDESIGNS), APPLICATION OR OTHER DESIGN ADVICE, WEB TOOLS, SAFETY INFORMATION, AND OTHER RESOURCES “AS IS” \nAND WITH ALL FAULTS, AND DISCLAIMS ALL WARRANTIES, EXPRESS AND IMPLIED, INCLUDING WITHOUT LIMITATION ANY \nIMPLIED WARRANTIES OF MERCHANTABILIT Y, FITNESS FOR A PARTICULAR PURPOSE OR NON-INFRINGEMENT OF THIRD \nPARTY INTELLECTUAL PROPERTY RIGHTS.\nThese resources are intended for skilled developers designing with TI products. Y ou are solely responsible for (1) selecting the appropriate \nTI products for your application, (2) designing, validating and testing your application, and (3) ensuring your application meets applicable \nstandards, and any other safety, security, regulatory or other requirements.\nThese resources are subject to change without notice. TI grants you permission to use these resources only for development of an \napplication that uses the TI products described in the resource. Other reproduction and display of these resources is prohibited. No license \nis granted to any other TI intellectual property right or to any third party intellectual property right. TI disclaims responsibility for , and you \nwill fully indemnify TI and its representatives against, any claims, damages, costs, losses, and liabilities arising out of your use of these \nresources.\nTI’s products are provided subject to TI’s Terms of Sale or other applicable terms available either on ti.com or provided in conjunction with \nsuch TI products. TI’s provision of these resources does not expand or otherwise alter TI’s applicable warranties or warranty disclaimers for \nTI products.\nTI objects to and rejects any additional or different terms you may have proposed. IMPORTANT NOTICE\nMailing Address: Texas Instruments, Post Office Box 655303, Dallas, Texas 75265\nCopyright © 202 2, Texas Instruments Incorporated\n'}]
!==============================================================================!
### TCA8418RTWR - Texas Instruments

#### Key Characteristics and Specifications:
- **Voltage Ratings**: 
  - Operating Power-Supply Voltage Range: 1.65 V to 3.6 V
  - Absolute Maximum Supply Voltage: -0.5 V to 4.6 V

- **Current Ratings**: 
  - Low Standby (Idle) Current Consumption: 3 μA
  - Continuous Output Low Current (SDA): 50 mA
  - Continuous Output High Current (SDA): 50 mA

- **Power Consumption**: 
  - Supply current varies based on operation mode, with typical values ranging from 10 μA (oscillator off) to 153 μA (1 MHz operation).

- **Operating Temperature Range**: 
  - -40 °C to 85 °C

- **Package Type**: 
  - WQFN (24 pins), dimensions 4.00 mm x 4.00 mm

- **Special Features**: 
  - Supports up to 80 buttons using 18 GPIOs.
  - Integrated ESD protection (2000 V HBM, 1000 V CDM).
  - 10-byte FIFO for storing key presses/releases.
  - Integrated debounce time of 50 μs.
  - Open-drain active-low interrupt output.
  - Schmitt-trigger action for better noise immunity.
  - Latch-up performance exceeds 200 mA per JESD 78, Class II.

- **Moisture Sensitive Level**: 
  - MSL Level 2 per JEDEC J-STD-020E.

#### Description:
The TCA8418 is an I2C-controlled keypad scan integrated circuit (IC) designed for applications requiring keypad input. It features integrated ESD protection and can operate from a supply voltage of 1.65 V to 3.6 V. The device supports up to 80 keys through a matrix configuration using 18 general-purpose input/output (GPIO) pins. It includes a built-in debounce feature to ensure reliable key detection and a FIFO buffer to store key events.

#### Typical Applications:
- **Smartphones**: Used for keypad input in mobile devices.
- **Tablets**: Facilitates user interaction through touch or physical buttons.
- **Human-Machine Interface (HMI) Panels**: Provides input options for various control systems.
- **GPS Devices**: Allows user input for navigation and settings.
- **MP3 Players**: Enables control over playback and settings.
- **Digital Cameras**: Used for menu navigation and settings adjustment.

The TCA8418 is particularly useful in applications where multiple key presses need to be detected accurately without ghosting, making it ideal for devices that require reliable user input.