[{'role': 'system', 'content': 'You are a technical specialist with expertise in electronics. Your task is to analyze datasheets for electronic components and provide a concise summary of the product’s key characteristics and specifications. In addition, you need to gather textual information about the component, including its description and typical applications.Instructions:    Identify the correct component in the datasheet using the provided product code.    Summarize key parameters, including:        Voltage ratings        Current ratings        Power consumption        Operating temperature range        Package type        Special features or notes (if applicable)        Moisture Sensetive Level JEDEC J-STD-020E    Provide a short description of the component, including what it is (e.g., transistor, microcontroller, sensor) and its primary function.    Explain typical applications for the component (e.g., power management, signal processing, data storage, etc.).    Be thorough and accurate: Ensure the information corresponds specifically to the product code, as some datasheets cover multiple variants.Your goal is to create a clear and accurate technical summary that includes both key specifications and a description of what the component is used for.'}, {'role': 'user', 'content': 'Give me information about the component of STM32F103T8U6TR production of STM from the text:This is information on a product in full production. March 2022 DS5319 Rev 18 1/116STM32F103x8  \n STM32F103xB\nMedium-density performance line Arm®-based 32-bit MCU with  \n64 or 128 KB Flash, USB, CAN, 7 timers, 2 ADCs, 9 com. interfaces\nDatasheet - production data\nFeatures\n\uf0b7Arm® 32-bit Cortex®-M3 CPU core \n– 72 MHz maximum frequency, \uf020\n1.25 DMIPS / MHz (Dhrystone 2.1) performance at 0 wait state memory access\n– Single-cycle multiplic ation and hardware \ndivision\n\uf0b7Memories\n– 64 or 128 Kbytes of Flash memory\n– 20 Kbytes of SRAM\n\uf0b7Clock, reset and supply management\n– 2.0 to 3.6 V application supply and I/Os – POR, PDR, and programmable voltage \ndetector (PVD)\n– 4 to 16 MHz crystal oscillator \n– Internal 8 MHz factory-trimmed RC– Internal 40 kHz RC\n– PLL for CPU clock\n– 32 kHz oscillator for RTC with calibration\n\uf0b7Low-power\n– Sleep, Stop and Standby modes–V\nBAT supply for RTC and backup registers\n\uf0b72x 12-bit, 1 µs A/D converters (up to 16 \nchannels)\n– Conversion range: 0 to 3.6 V\n– Dual-sample and hold capability\n– Temperature sensor\n\uf0b7DMA\n– 7-channel DMA controller – Peripherals supported: timers, ADC, SPIs, \nI\n2Cs and USARTs\n\uf0b7Up to 80 fast I/O ports\n– 26/37/51/80 I/Os, all mappable on 16 \nexternal interrupt vectors and almost all 5 V-tolerant\uf0b7Debug mode\n– Serial wire debug (SWD) and JTAG \ninterfaces\n\uf0b7Seven timers\n– Three 16-bit timers, each with up to \n4 IC/OC/PWM or pulse counter and quadrature (incremental) encoder input\n– 16-bit, motor control PWM timer with \uf020\ndead-time generation and emergency stop\n– Two watchdog timers (independent and \nwindow)\n– SysTick timer 24-bit downcounter\n\uf0b7Up to nine communication interfaces\n– Up to two I\n2C interfaces (SMBus/PMBus®)\n– Up to three USARTs (ISO 7816 interface, \nLIN, IrDA capability, modem control)\n– Up to two SPIs (18 Mbit/s)\n– CAN interface (2.0B Active)\n– USB 2.0 full-speed interface\n\uf0b7CRC calculation unit, 96-bit unique ID\n\uf0b7Packages are ECOPACK®\n          Table 1. Device summary\nReference Part number\nSTM32F103x8STM32F103C8, STM32F103R8 \nSTM32F103V8, STM32F103T8\nSTM32F103xBSTM32F103RB STM32F103VB, \nSTM32F103CB, STM32F103TBBGA100 10 × 10 mm\nUFBGA100 7 x 7 mm\nBGA64 5 × 5 mmVFQFPN36 6 × 6 mm\nLQFP100 14 × 14 mm\nLQFP64 10 × 10 mm\nLQFP48 7 × 7 mmUFQFPN48 7 × 7 mm\nwww.st.com\nContents STM32F103x8, STM32F103xB\n2/116 DS5319 Rev 18Contents\n1 Introduction . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 9\n2 Description . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 9\n2.1 Device overview . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 10\n2.2 Full compatibility throughout the family  . . . . . . . . . . . . . . . . . . . . . . . . . . 13\n2.3 Overview  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 14\n2.3.1 Arm® Cortex®-M3 core with embedded Flash and SRAM . . . . . . . . . . . 14\n2.3.2 Embedded Flash memory  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 14\n2.3.3 CRC (cyclic redundancy check) calculation unit  . . . . . . . . . . . . . . . . . . 14\n2.3.4 Embedded SRAM  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 142.3.5 Nested vectored interrupt controller (NVIC)  . . . . . . . . . . . . . . . . . . . . . . 14\n2.3.6 External interrupt/event controller (EXTI)  . . . . . . . . . . . . . . . . . . . . . . . 15\n2.3.7 Clocks and startup . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 152.3.8 Boot modes  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 15\n2.3.9 Power supply schemes  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 15\n2.3.10 Power supply supervisor  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 152.3.11 Voltage regulator  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 16\n2.3.12 Low-power modes . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 16\n2.3.13 DMA . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 172.3.14 RTC (real-time clock) and backup register s . . . . . . . . . . . . . . . . . . . . . . 17\n2.3.15 Timers and watchdogs . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 17\n2.3.16 I²C bus . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 192.3.17 Universal synchronous/asynchronous receiver transmitter (USART)  . . 19\n2.3.18 Serial peripheral interface (SPI) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 19\n2.3.19 Controller area network (CAN)  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 192.3.20 Universal serial bus (USB) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 19\n2.3.21 GPIOs (general-purpose inputs/outputs) . . . . . . . . . . . . . . . . . . . . . . . . 20\n2.3.22 ADC (analog-to-digital converter)  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 20\n2.3.23 Temperature sensor . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 20\n2.3.24 Serial wire JTAG debug port (SWJ-DP) . . . . . . . . . . . . . . . . . . . . . . . . . 20\n3 Pinouts and pin description . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 21\n4 Memory mapping . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 34\nDS5319 Rev 18 3/116STM32F103x8, STM32F103xB Contents\n45 Electrical characteristi cs  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 35\n5.1 Parameter conditions . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 35\n5.1.1 Minimum and maximum values . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 35\n5.1.2 Typical values  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 35\n5.1.3 Typical curves  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 355.1.4 Loading capacitor  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 35\n5.1.5 Pin input voltage  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 35\n5.1.6 Power supply scheme  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 365.1.7 Current consumption measurement  . . . . . . . . . . . . . . . . . . . . . . . . . . . 36\n5.2 Absolute maximum ratings . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 37\n5.3 Operating conditions  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 38\n5.3.1 General operating conditions . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 38\n5.3.2 Operating conditions at power-up / powe r-down . . . . . . . . . . . . . . . . . . 39\n5.3.3 Embedded reset and power control bloc k characteristics . . . . . . . . . . . 39\n5.3.4 Embedded reference voltage . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 405.3.5 Supply current characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 40\n5.3.6 External clock source characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . 50\n5.3.7 Internal clock source charac teristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . 54\n5.3.8 PLL characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 56\n5.3.9 Memory characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 56\n5.3.10 EMC characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 575.3.11 Absolute maximum ratings (electrical sensitivity)  . . . . . . . . . . . . . . . . . 59\n5.3.12 I/O current injection characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . 60\n5.3.13 I/O port characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 615.3.14 NRST pin characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 66\n5.3.15 TIM timer characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 67\n5.3.16 Communications interfaces . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 685.3.17 CAN (controller area network) interface  . . . . . . . . . . . . . . . . . . . . . . . . 73\n5.3.18 12-bit ADC characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 74\n5.3.19 Temperature sensor characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . 78\n6 Package information . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 79\n6.1 VFQFPN36 package information . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 79\n6.2 UFQFPN48 package information . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 83\n6.3 LFBGA100 package information  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 866.4 LQFP100 package information . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 89\nContents STM32F103x8, STM32F103xB\n4/116 DS5319 Rev 186.5 UFBGA100 package information  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 92\n6.6 LQFP64 package information . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 95\n6.7 TFBGA64 package information  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 98\n6.8 LQFP48 package information . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 1016.9 Thermal characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 104\n6.9.1 Reference document . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 104\n6.9.2 Selecting the product temperature range  . . . . . . . . . . . . . . . . . . . . . . 105\n7 Ordering information scheme  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 107\n8 Revision history  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 108\nDS5319 Rev 18 5/116STM32F103x8, STM32F103xB List of tables\n6List of tables\nTable 1. Device summary . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . . . 1\nTable 2. STM32F103xx medium-density device features and peripheral counts . . . . . . . . . . . . . . . 10\nTable 3. STM32F103xx family  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 13\nTable 4. Timer feature comparison. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . 17\nTable 5. Medium-density STM32F103xx pin definitions . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 28Table 6. Voltage characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . . 37\nTable 7. Current characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . . 37\nTable 8. Thermal characteristics. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 37\nTable 9. General operating conditions . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 38\nTable 10. Operating conditions at power-up / power-down  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 39Table 11. Embedded reset and power control block characterist ics. . . . . . . . . . . . . . . . . . . . . . . . . . 39\nTable 12. Embedded internal reference voltage. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4 0\nTable 13. Maximum current consumption in Run mode, code with data processing \uf020\nrunning from Flash . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 41\nTable 14. Maximum current consumption in Run mode, code with data processing \uf020\nrunning from RAM. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  41\nTable 15. Maximum current consumption in Sleep mode, code running \uf020\nfrom Flash or RAM . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  43\nTable 16. Typical and maximum current consumptions in  Stop and Standby modes  . . . . . . . . . . . . 44\nTable 17. Typical current consumption in  Run mode, code with data processing \uf020\nrunning from Flash . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 47\nTable 18. Typical current consumption in Sleep mode, code running \uf020\nfrom Flash or RAM . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  48\nTable 19. Peripheral current consumption . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . 49\nTable 20. High-speed external user clock characteristics. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 50\nTable 21. Low-speed external user clock characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 51\nTable 22. HSE 4-16 MHz oscillator characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 5 2\nTable 23. LSE oscillator characteristics (f\nLSE = 32.768 kHz) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 53\nTable 24. HSI oscillator characteristics. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 54\nTable 25. LSI oscillator characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 55\nTable 26. Low-power mode wakeup timings  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 56Table 27. PLL characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . . . 56\nTable 28. Flash memory characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 56\nTable 29. Flash memory endurance and data  retention . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 57\nTable 30. EMS characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 58\nTable 31. EMI characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . . . 58\nTable 32. ESD absolute maximum ratings . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 59\nTable 33. Electrical sensitivities . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . . . . 59\nTable 34. I/O current injection susceptibility . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 60\nTable 35. I/O static characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . . . 61\nTable 36. Output voltage characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . 64\nTable 37. I/O AC characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 65\nTable 38. NRST pin characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . 66\nTable 39. TIMx characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . . . 67\nTable 40. I\n2C characteristics. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 68\nTable 41. SCL frequency (fPCLK1  = 36 MHz, VDD_I2C  = 3.3 V). . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 69\nTable 42. SPI characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 70\nTable 43. USB startup time. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 72\nList of tables STM32F103x8, STM32F103xB\n6/116 DS5319 Rev 18Table 44. USB DC electrical characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . 73\nTable 45. USB: Full-speed electrical characteristics. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 73\nTable 46. ADC characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 74\nTable 47. RAIN max for fADC = 14 MHz. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 75\nTable 48. ADC accuracy - Limited test conditi ons . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7 5\nTable 49. ADC accuracy  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 76\nTable 50. TS characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 78\nTable 51. VFQFPN36 mechanical data  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  80\nTable 52. UFQFPN48 mechanical data . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  83\nTable 53. LFBGA100 mechanical data. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 86\nTable 54. LFBGA100 recommended PCB design rules (0.8 mm  pitch BGA). . . . . . . . . . . . . . . . . . . 87\nTable 55. LQPF100 mechanical data . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . 89\nTable 56. UFBGA100 mechanical data  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  92\nTable 57. UFBGA100 recommended PCB design rules (0.5 mm pitch BGA)  . . . . . . . . . . . . . . . . . . 93\nTable 58. LQFP64 mechanical data . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 95\nTable 59. TFBGA64 mechanical data. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . 98\nTable 60. TFBGA64 recommended PCB design rules (0.5 mm pitch BGA). . . . . . . . . . . . . . . . . . . . 99\nTable 61. LQFP48 mechanical data . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 101\nTable 62. Package thermal characteristics. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  104\nTable 63. Document revision history  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 108\nDS5319 Rev 18 7/116STM32F103x8, STM32F103xB List of figures\n8List of figures\nFigure 1. STM32F103xx performance line block diagram . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 11\nFigure 2. Clock tree . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . . . . . . 12\nFigure 3. STM32F103xx performance line LFBGA100 ballout  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 21\nFigure 4. STM32F103xx performance line LQFP100 pinout . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 22\nFigure 5. STM32F103xx performance line UFBGA100 pinout  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 23\nFigure 6. STM32F103xx performance line LQFP64 pinout . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 24\nFigure 7. STM32F103xx performance line TFBGA64 ballout  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 25\nFigure 8. STM32F103xx performance line LQFP48 pinout . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 26\nFigure 9. STM32F103xx performance line UFQFPN48 pinout  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 26\nFigure 10. STM32F103xx performance line VFQFPN36 pinout  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 27\nFigure 11. Memory map. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . . . . 34\nFigure 12. Pin loading conditions. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . . . 35\nFigure 13. Pin input voltage . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 35\nFigure 14. Power supply scheme. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 36\nFigure 15. Current consumption measurement scheme . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 36\nFigure 16. Typical current consumption in  Run mode versus frequency (at 3.6 V), \uf020\ncode with data processing running from RAM, perip herals enabled. . . . . . . . . . . . . . . . . . 42\nFigure 17. Typical current consumption in  Run mode versus frequency (at 3.6 V), \uf020\ncode with data processing running from RAM, perip herals disabled . . . . . . . . . . . . . . . . . 42\nFigure 18. Typical current consumption on VBAT (RTC on) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 44\nFigure 19. Typical current consumption in Stop mode, wit h regulator in Run mode . . . . . . . . . . . . . . 45\nFigure 20. Typical current consumption in Stop mode, with regulator in Low-power mode. . . . . . . . . 45Figure 21. Typical current consumption in Standby mode. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 46\nFigure 22. High-speed external clock source AC timing diagra m  . . . . . . . . . . . . . . . . . . . . . . . . . . . . 51\nFigure 23. Low-speed external clock source AC timing diagram.  . . . . . . . . . . . . . . . . . . . . . . . . . . . . 52\nFigure 24. Typical application with an 8 MHz crystal . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 53\nFigure 25. Typical application with a 32.768 kHz crystal . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 54\nFigure 26. Standard I/O input characterist ics - CMOS port . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 62\nFigure 27. Standard I/O input characteristics - TTL port . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 6 2\nFigure 28. 5 V tolerant I/O inpu t characteristics - CMOS port . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 63\nFigure 29. 5 V tolerant I/O inpu t characteristics - TTL port  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 6 3\nFigure 30. I/O AC characteristics definition . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . 66\nFigure 31. Recommended NRST pin protection  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 67\nFigure 32. I\n2C bus AC waveforms and measurement ci rcuit . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 69\nFigure 33. SPI timing diagram - slave mode and CPHA = 0 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 71Figure 34. SPI timing diagram - slave mode and CPHA = 1\n(1) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 71\nFigure 35. SPI timing diagram - master mode(1) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 72\nFigure 36. USB timings: definition of data signal rise and fa ll time  . . . . . . . . . . . . . . . . . . . . . . . . . . . 73\nFigure 37. ADC accuracy characteristics. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . 76\nFigure 38. Typical connection diagram using the ADC . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 77Figure 39. Power supply and reference decoupling (V\nREF+ not connected to VDDA). . . . . . . . . . . . . . 77\nFigure 40. Power supply and reference decoupling (VREF+ connected to VDDA). . . . . . . . . . . . . . . . . 78\nFigure 41. VFQFPN36 outline . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 79\nFigure 42. VFQFPN36 recommended footprint . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 81\nFigure 43. VFPFPN36 package top view example  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 82\nFigure 44. UFQFPN48 outline . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . . 83\nFigure 45. UFQFPN48 recommended footprint . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 84Figure 46. UFQFPN48 package top view example . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 85\nList of figures STM32F103x8, STM32F103xB\n8/116 DS5319 Rev 18Figure 47. LFBGA100 outline  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 86\nFigure 48. LFBGA100 recommended footprint  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 87Figure 49. LFBGA100 package top view example. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 88Figure 50. LQFP100 outline. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 89\nFigure 51. LQFP100 recommended footprint  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 9 0\nFigure 52. LQFP100 package top view example . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 91Figure 53. UFBGA100 - outline . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 92\nFigure 54. UFBGA100 recommended footprint . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 93\nFigure 55. UFBGA100 package top view exam ple  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 94\nFigure 56. LQFP64 outline. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . . . . 95\nFigure 57. LQFP64 recommended footprint  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 96\nFigure 58. LQFP64 package top view example .  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 97\nFigure 59. TFBGA64 outline  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . . . 98\nFigure 60. TFBGA64 recommended footprint . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 9 9\nFigure 61. TFBGA64 package top view exam ple  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 100\nFigure 62. LQFP48 outline. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . . . 101\nFigure 63. LQFP48 - 48-pin recommended fo otprint . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 102\nFigure 64. LQFP48 package top view example . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 103\nFigure 65. LQFP100 P\nD max vs. TA . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 106\nDS5319 Rev 18 9/116STM32F103x8, STM32F103xB Introduction\n1151 Introduction\nThis document provides the ordering informatio n and mechanical device characteristics of \nthe STM32F103x8 and STM32F103xB medium-den sity performance line microcontrollers. \nFor more details on the whole STMicroelectronics STM32F103xx family, refer to \nSection  2.2: Full compatibility throughout the family .\nThe medium-density STM32F103xx datasheet must be read in conjun ction with the low-, \nmedium- and high-density STM32F10xxx reference manual . The reference and Flash \nprogramming manuals are both available from the STMicroelectronics website www.st.com .\nFor information on the Arm®(a) Cortex®-M3 core refer to the Cortex®-M3 Technical \nReference Manual, available from the www.arm.com website.\n2 Description\nThe STM32F103xx medium-density performance line family incorporates the \uf020\nhigh-performance Arm® Cortex®-M3 32-bit RISC core operating at a 72  MHz frequency, \nh\nigh-speed embedded memories (Flash memory up to 128  Kbytes and SRAM up to \n20 Kbytes), and an extensive range of enhanced I/Os and peripherals connected to two \nAPB buses. \nAll devices offer two 12-bit ADCs, th ree general purpose 16-bit timers plus one \nPWM timer, as well as standard and advanced communication interfaces: up to two I2Cs \nand SPIs, three USARTs, an USB and a CAN.\nThe devices operate from a 2.0 to 3.6  V power supply. They are available in both the –40 to \n+85\n °C temperature range and the –40 to +105  °C extended temperature range. A \ncom\nprehensive set of power-saving mode allo ws the design of low-power applications.\nThe STM32F103xx medium-density performance lin e f amily includes devices in six different \npackage types: from 36 pins to 100 pins. Depending on the device chosen, different sets of \nperipherals are included, the description below gives an overview of the complete range of \nperipherals proposed in this family.\nThese features make the STM32F103xx medium -de nsity performance line microcontroller \nfamily suitable for a wide range of applications  such as motor drives, application control, \nmedical and handheld equipment, PC and gaming peripherals, GPS platforms, industrial \napplications, PLCs, inve rters, printers, scanners, alarm systems, video intercoms, and \nHVACs.\na. Arm is a registered trademark of Arm Limited (o r its subsidiaries) in the US and/or elsewhere.\nDescription STM32F103x8, STM32F103xB\n10/116 DS5319 Rev 182.1 Device overview\n            \n \nTable 2. STM32F103xx medium-density device features and peripheral counts\nPeripheral STM32F103Tx STM32F103Cx STM32F103Rx STM32F103Vx\nFlash - Kbytes 64 128 64 128 64 128 64 128\nSRAM - Kbytes 20 20 20 20TimersGeneral-purpose 33 3 3\nAdvanced-control 11 1 1CommunicationSPI 12 2 2\nI2C 12 2 2\nUSART 23 3 3\nUSB 11 1 1\nCAN 11 1 1\nGPIOs 26 37 51 80\n12-bit synchronized ADC\nNumber of channels2\n10 channels2\n10 channels2\n16 channels(1)\n1. On the TFBGA64 package only 15 channels are available (one analog input pin has been replaced by \nVREF+).2\n16 channels\nCPU frequency 72 MHz\nOperating voltage 2.0 to 3.6 V\nOperating temperaturesAmbient temperatures: -40 to +85 °C / -40 to +105 °C (see Table 9 )\nJunction temperature: -40 to + 125 °C (see Table 9)\nPackages VFQFPN36LQFP48, \nUFQFPN48LQFP64, \nTFBGA64LQFP100, \nLFBGA100, \nUFBGA100\nDS5319 Rev 18 11/116STM32F103x8, STM32F103xB Description\n115Figure 1. STM32F103xx performance line block diagram\n1. TA = –40 °C to +105 °C (junction temperature up to 125 °C).\n2. AF = alternate function on I/O port pin.USBDP/CAN_TXPA[ 15:0]EXTI\nWW DG12bit ADC116AFJTDI\nJTCK/SWCLK\nJTMS/SWDIONJTRSTTRST\nJTDO\nNRSTVDD = 2 to 3.6V\n80AF\nPB[15:0]\nPC[15:0]AHB2\nMOSI,MISO,SCK,NSSSRAM \n2x(8x16bit)WAKEUP\nGPIOA\nGPIOB\nGPIOCFmax: 72 MHzVSS\nSCL,SDA I2C2\nVREF+GP DMA\nTIM2\nTIM3XTAL OSC \n4-16 MHz\nXTAL 32 kHzOSC_IN\nOSC_OUT\nOSC32_OUTOSC32_INPLL & APB1 : Fmax=24 / 36 MHzPCLK1\nHCLKCLOCK \nMANAGTPCLK2\nas AF\nas AFFlash  128 KB VOLT. REG.\n3.3V TO 1.8VPOWER\nBacku p interfaceas AF\nTIM 4BusM atrix64 bitInterfac e\n20 KB\nRTCRC 8 MHzCortex-M3 CPUIbus\nDbuspbus\nobl flash\nSRAM 512BTrace \nControlle r\nUSART1USART2\nSPI2\nbxCAN7 channels\nBackup\nreg\n4 Channels\nTIM13 compl. Channels\nSCL,SDA,SMBA I2C1\nas AFRX,TX, CTS, RTS,USART3\nTem p sensorVREF-PD[15:0] GPIOD\nPE[15:0] GPIOE\nAHB:Fmax=48/72 MHz\nETR and BKIN4 Channels\n4 Channels\n4 ChannelsFCLK\nRC 40 kHz\nStand byIWDG \n@VBAT\nPOR / PDRSUPPLY @VDDA\nVDDA\nVSSA\n@VDDAVBAT\nRX,TX, CTS, RTS,\nSmartCard as AFRX,TX, CTS, RTS,\nCK, SmartCard as AFAPB2 : Fmax=48 / 72 MHzNVIC\nSPI1MOSI,MISO,\nSCK,NSS as AF\n12bit ADC2IF\nIFIF interface@VDDA\nSUPERVISION\nPVDRst\nInt@VDD\nAHB2\nAPB2 APB1\nAWUTAMPER-RTC@VDD\nUSB 2.0 FS USBDM/CAN_RXSyst em\nai14390dTRACECLK\nTRACED[0:3]as AS\nSW/JTAGTPIU\nTrace/trig\nCK, SmartCard as AF\nDescription STM32F103x8, STM32F103xB\n12/116 DS5319 Rev 18Figure 2. Clock tree\n1. When the HSI is used as a PLL clock input, the maxi mum system clock frequency t hat can be achieved is \n64 MHz.\n2. For the availability of the USB function both HSE and PLL must be enabled, with USBCLK running at \n48 MHz.\n3. To have an ADC conversion time of 1 µs, APB2 must be at 14 MHz, 28 MHz or 56 MHz.HSE OSC4-16 MHz\nOSC_IN OSC_OUT\nOSC32_IN\nOSC32_OUTLSE OSC\n32.768 kHzHSI RC8 MHz\nLSI RC\n40 kHzto Independent Watchdog (IWDG)PLLx2, x3, x4 PLLMUL\nLegend:\nMCO Clock OutputMainPLLXTPRE\n/2..., x16 AHB\nPrescaler\n/1, 2..512\n/2 PLLCLK\nHSI\nHSEAPB1\nPrescaler\n/1, 2, 4, 8, 16\nADC\nPrescaler\n/2, 4, 6, 8ADCCLKPCLK1HCLK\nPLLCLKto AHB bus, core, \nmemory and DMAUSBCLK\nto USB interface\nto TIM2, 3and 4USB\nPrescaler\n/1, 1.5\nto ADC\nLSE\nLSIHSI\n/128/2\nHSI\nHSEperipheralsto APB1\nPeripheral Clock \nEnable (13 bits)\nEnable (3 bits)Peripheral Clock \nAPB2\nPrescaler\n/1, 2, 4, 8, 16PCLK2\nto TIM1 peripheralsto APB2\nPeripheral Clock \nEnable (11 bits)\nEnable (1 bit)Peripheral Clock 48 MHz\n72 MHz max\n72 MHz\n72 MHz max36 MHz max\nto RTCPLLSRC SW\nMCO CSSto Cortex System timer /8Clock \nEnable (3 bits)\nSYSCLK\n max\nRTCCLK\nRTCSEL[1:0] TIM1CLKTIMXCLK\nIWDGCLK\nSYSCLKFCLK Cortex\nfree running clock\nTIM2,3, 4\nIf (APB1 prescaler =1) x1else x2\nTIM1 timer\nIf (APB2 prescaler =1) x1\nelse x2\nHSE = high-speed external clock signal\nHSI = high-speed internal clock signalLSI = low-speed internal clock signalLSE = low-speed external clock signal\nai14903FLITFCLK\nto Flash programming interface\nDS5319 Rev 18 13/116STM32F103x8, STM32F103xB Description\n1152.2 Full compatibility throughout the family\nThe STM32F103xx is a complete family whose members are fully pin- to-pin, software and \nfeature compatible. In the reference manual, the STM32F103x4 and STM32F103x6 are identified as low-density devices, the STM32F 103x8 and STM32F103xB are referred to as \nmedium-density devices, and the STM32F 103xC, STM32F103xD and STM32F103xE are \nreferred to as high-density devices.\nLow- and high-density devices are an extens ion of the STM32F103x8/B devices, they are \nspecified in the STM32F103x4/6 and STM3 2F103xC/D/E datasheets, respectively. \uf020\nLow-density devices feature lower Flash memory and RAM capacities, less timers and \nperipherals. High-density devices have highe r Flash memory and RAM capacities, and \nadditional peripherals like SDIO, FSMC, I2S and DAC, while remainin g fully compatible with \nthe other members of the STM32F103xx family.\nThe STM32F103x4, STM32F103x6, STM32F103xC, STM32F103xD and STM32F103xE are a drop-in replacement for STM32F103x8/B medium-density devices, allowing the user \nto try different memory densities and prov iding a greater degree of freedom during the \ndevelopment cycle.\nMoreover, the STM32F103xx performance line fami ly is fully compatible with all existing \nSTM32F101xx access line and STM32F102xx USB access line devices.\n          Table 3. STM32F103xx family\nPinoutLow-density devices Medium-densi ty devices High-density devices\n16 KB \nFlash32 KB \nFlash64 KB \nFlash128 KB \nFlash256 KB \nFlash384 KB \nFlash512 KB \nFlash\n6 KB RAM 10 KB RAM 20 KB RAM 20 KB RAM 48 KB RAM 64 KB RAM 64 KB RAM\n144 - - - - 5× USARTs \uf020\n4× 16-bit timers, 2× basic timers \uf020\n3× SPIs, 2× I2Ss, 2× I2Cs \uf020\nUSB, CAN, 2× PWM timers \uf020\n3× ADCs, 2× DACs, 1× SDIO \uf020\nFSMC (100 and 144 pins)100 - -\n3× USARTs \uf020\n3× 16-bit timers \uf020\n2× SPIs, 2× I2Cs, USB, \nCAN, 1× PWM timer \uf020\n2× ADCs642× USARTs \uf020\n2× 16-bit timers \uf020\n1× SPI, 1× I2C, USB, \nCAN, 1× PWM timer \uf020\n2× ADCs4 8 ---\n3 6 ---\nDescription STM32F103x8, STM32F103xB\n14/116 DS5319 Rev 182.3 Overview\n2.3.1 Arm® Cortex®-M3 core with embedded Flash and SRAM\nThe Arm® Cortex®-M3 processor is the latest generat ion of Arm processors for embedded \nsystems. It has been developed to provide a low-cost platform that meets the needs of MCU implementation, with a reduced pin count a nd low-power consumption, while delivering \noutstanding computational performance and an advanced system response to interrupts.\nThe Arm® Cortex®-M3 32-bit RISC processor features exceptional code-efficiency, \ndelivering the high-performance expected from an Arm core in the memory size usually \nassociated with 8- and 16-bit devices.\nThe STM32F103xx performance line family having an embedded Arm core, is therefore compatible with all Arm tools and software.\nFigure  1 shows the general block diagram of the device family.\n2.3.2 Embedded Flash memory\n64 or 128 Kbytes of embedded Flash is available for storing programs and data.\n2.3.3 CRC (cyclic redundan cy check) calculation unit\nThe CRC (cyclic redundancy check) calculation unit  is used to get a CRC code from a 32-bit \ndata word and a fixed generator polynomial.\nAmong other applications, CRC-based techniques  are used to verify data transmission or \nstorage integrity. In the scope of the EN/I EC 60335-1 standard, they offer a means of \nverifying the Flash memory integrity. The CRC calculation unit helps compute a signature of \nthe software during runtime, to be compared with a reference signature generated at link-time and stored at a given memory location.\n2.3.4 Embedded SRAM\nTwenty Kbytes of embedded SRAM accessed (read/write) at CPU clock speed with 0 wait \nstates.\n2.3.5 Nested vectored interrupt controller (NVIC)\nThe STM32F103xx performance line embeds a ne sted vectored interrupt controller able to \nhandle up to 43 maskable interrupt channels (not including the 16 interrupt lines of Cortex®-\nM3) and 16 priority levels.\n\uf0b7 Closely coupled NVIC gives low-latency interrupt processing\n\uf0b7 Interrupt entry vector table address passed directly to the core\n\uf0b7 Closely coupled NVIC core interface\n\uf0b7 Allows early processing of interrupts\n\uf0b7 Processing of late arriving  higher priority interrupts\n\uf0b7 Support for tail-chaining\n\uf0b7 Processor state automatically saved\n\uf0b7 Interrupt entry restored on interrupt exit with no instruction overhead\nDS5319 Rev 18 15/116STM32F103x8, STM32F103xB Description\n115This hardware block provides flexible interrupt management features with minimal interrupt \nlatency.\n2.3.6 External interrupt /event controller (EXTI)\nThe external interrupt/event controller consists of 19 edge detector lines used to generate \ninterrupt/event requests. Each line can be ind ependently configured to select the trigger \nevent (rising edge, falling edge, both) and can be masked inde pendently. A pending register \nmaintains the status of the interrupt requests. The EXTI can detect an external line with a pulse width shorter than  the Internal APB2 cloc k period. Up to 80 GP IOs can be connected \nto the 16 external interrupt lines.\n2.3.7 Clocks and startup\nSystem clock selection is perf ormed on startup, however the in ternal RC 8 MHz oscillator is \nselected as default CPU clock on reset. An external 4-16 MHz clock can be selected, in \nwhich case it is monitored for fa ilure. If failure is detected, th e system automatically switches \nback to the internal RC oscillator.  A software interrupt is genera ted if enabled. Similarly, full \ninterrupt management of the PLL clock entry is available when necessary (for example on failure of an indirectly used extern al crystal, resona tor or oscillator).\nSeveral prescalers allow the configuration of the AHB fr equency, the high-speed APB \n(APB2) and the low-speed APB (APB1) doma ins. The maximum frequency of the AHB and \nthe high-speed APB domains is 72 MHz. The maximum allowed frequency of the low-speed APB domain is 36 MHz. See \nFigure  2 for details on the clock tree.\n2.3.8 Boot modes\nAt startup, boot pins are used to select one of three boot options:\n\uf0b7 Boot from user Flash\n\uf0b7 Boot from System memory\n\uf0b7 Boot from embedded SRAM\nThe boot loader is located in System memory. It is used to reprogram the Flash memory by \nusing USART1. For further details refer to AN2606, available on www.st.com .\n2.3.9 Power supply schemes\n\uf0b7 VDD = 2.0 to 3.6 V: external power supply for I/Os and the internal regulator. \uf020\nProvided externally through VDD pins.\n\uf0b7 VSSA, VDDA = 2.0 to 3.6 V: external analog power supplies for ADC, reset blocks, RCs \nand PLL (minimum voltage to be applied to VDDA is 2.4 V when the ADC is used). \uf020\nVDDA and VSSA must be connected to VDD and VSS, respectively.\n\uf0b7 VBAT = 1.8 to 3.6 V: power supply for RTC, external clock 32 kHz oscillator and backup \nregisters (through power switch) when VDD is not present.\nFor more details on how to c onnect power pins, refer to Figure  14: Power supply scheme .\n2.3.10 Power supply supervisor\nThe device has an integrated power-on reset (POR) / power-down reset (PDR) circuitry. It is \nalways active, and ensures proper operation st arting from/down to 2 V. The device remains \nDescription STM32F103x8, STM32F103xB\n16/116 DS5319 Rev 18in reset mode when VDD is below a specified threshold, VPOR/PDR , without the need for an \nexternal reset circuit.\nThe device features an embedded programmabl e voltage detector (PVD) that monitors the \nVDD/VDDA power supply and compares it to the VPVD threshold. An interrupt can be \ngenerated when VDD/VDDA drops below the VPVD threshold and/or when VDD/VDDA is \nhigher than the VPVD threshold. The interrupt service routine can then generate a warning \nmessage and/or put the MCU into a safe state. The PVD is enabled by software. \nRefer to Table  11 for the values of VPOR/PDR  and VPVD.\n2.3.11 Voltage regulator\nThe regulator has three operation modes: main (MR), low-power (LPR) and power down.\n\uf0b7 MR is used in the nominal regulation mode (Run) \n\uf0b7 LPR is used in the Stop mode\n\uf0b7 Power down is used in Standby mode: the regu lator output is in high impedance: the \nkernel circuitry is powered do wn, inducing zero consumption (but the contents of the \nregisters and SRAM are lost)\nThis regulator is always enabled  after reset. It is disabled in Standby mode, providing high \nimpedance output.\n2.3.12 Low-power modes\nThe STM32F103xx performance line supports three low-power modes to achieve the best compromise between low-power consumption, short startup time and available wakeup \nsources:\n\uf0b7 Sleep  mode\nIn Sleep mode, only the CPU is stopped. All peripherals continue to operate and can \nwake up the CPU when an interrupt/event occurs.\n\uf0b7 Stop  mode\nThe Stop mode achieves the lowest power consumption while retaining the content of \nSRAM and registers. All clocks in the 1.8 V domain are stopped, the PLL, the HSI RC \nand the HSE crystal oscillato rs are disabled. The volta ge regulator can also be put \neither in normal or in low-power mode.\nThe device can be woken up from Stop mode by any of the EXTI line. The EXTI line \nsource can be one of the 16 external lines, the PVD output, the RTC alarm or the USB \nwakeup. \n\uf0b7 Standby  mode\nThe Standby mode is used to achieve the lo west power consumpt ion. The internal \nvoltage regulator is s witched off so that the entire 1.8 V domain is powered off. The \nPLL, the HSI RC and the HSE crystal oscillators  are also switched off. After entering \nStandby mode, SRAM and register contents ar e lost except for registers in the Backup \ndomain and Standby circuitry.\nThe device exits Standby mode  when an external reset (NRST pin), an IWDG reset, a \nrising edge on the WKUP pin, or an RTC alarm occurs.\nNote: The RTC, the IWDG, and the corresponding clock sources are not stopped by entering Stop \nor Standby mode.\nDS5319 Rev 18 17/116STM32F103x8, STM32F103xB Description\n1152.3.13 DMA\nThe flexible 7-channel general-purpose DMA is able to manage memory-to-memory, \nperipheral-to-memory and memory-to-peripheral transfers. The DMA controller supports circular buffer management avoiding the ge neration of interrupts when the controller \nreaches the end of the buffer.\nEach channel is connected to dedicated hard ware DMA requests, with support for software \ntrigger on each channel. Configuration is made by software and transfer sizes between source and destination are independent.\nThe DMA can be used with the main peripherals: SPI, I2C, USART, general-purpose and \nadvanced-control timers TIMx and ADC.\n2.3.14 RTC (real-time cl ock) and backup registers\nThe RTC and the backup registers are supplied through a switch that takes power either on \nVDD supply when present or through the VBAT pin. The backup registers are ten 16-bit \nregisters used to store 20 bytes of user application data when VDD power is not present.\nThe real-time clock provides a set of continuously running counters which can be used with suitable software to provide a clock calendar function, and provides an alarm interrupt and a periodic interrupt. It  is clocked by a 32.768 kHz external crystal, resonator or oscillator, the \ninternal low-power RC oscillato r or the high-speed  external clock di vided by 128. The \ninternal low-power RC has a typical frequency of 40 kHz. The RTC can be calibrated using an external 512 Hz output to compensate for any natural crystal deviation. The RTC \nfeatures a 32-bit programmable counter for long-term measurement using the Compare register to generate an alarm. A 20-bit presca ler is used for the time base clock and is by \ndefault configured to generate a time base of 1 second from a clock at 32.768 kHz.\n2.3.15 Timers and watchdogs\nThe medium-density STM32F103xx performance line devices include an advanced-control \ntimer, three general-purpose timers, two watchdog timers and a SysTick timer.\nTable  4 compares the features of the advanc ed-control and general-purpose timers.\n          Table 4. Timer feature comparison\nTimerCounter \nresolutionCounter \ntypePrescaler \nfactorDMA request \ngenerationCapture/compare \nchannelsComplementary\noutputs\nTIM1 16-bitUp, \ndown, \nup/downAny integer \nbetween 1 \nand 65536Yes 4 Yes\nTIM2, \nTIM3, \nTIM416-bitUp, \ndown, \nup/downAny integer \nbetween 1 \nand 65536Yes 4 No\nDescription STM32F103x8, STM32F103xB\n18/116 DS5319 Rev 18Advanced-control timer (TIM1)\nThe advanced-control timer (TIM1) can be seen as a three-phase PWM multiplexed on 6 \nchannels. It has complementary PWM output s with programmable inserted dead-times. It \ncan also be seen as a complete general-purpose timer. The 4 independent channels can be used for\n\uf0b7 Input capture\n\uf0b7 Output compare\n\uf0b7 PWM generation (edge- or center-aligned modes)\n\uf0b7 One-pulse mode output\nIf configured as a general-purpose 16-bit timer, it has the same features as the TIMx timer. If \nconfigured as the 16-bit PW M generator, it has full modu lation capability (0-100%). \nIn debug mode, the advanced-control timer counter can be frozen and the PWM outputs \ndisabled to turn off any power switch driven by these outputs.\nMany features are shared with those of the general-purpose TIM timers which have the \nsame architecture. The advanced-control timer can therefore work together with the TIM timers via the Timer Link feature fo r synchronization or event chaining. \nGeneral-purpose timers (TIMx)\nThere are up to three synchronizable general-purpose timers embedded in the \nSTM32F103xx performance line devices. These timers are based on a 16-bit auto-reload \nup/down counter, a 16-bit prescaler and feat ure four independent channels each for input \ncapture/output compare, PWM or one-pulse mode output. This gives up to 12 input captures/output compares/PWMs on the largest packages.\nThe general-purpose timers can work together with the advanced-control timer via the Timer Link feature for synchronization or event chaining. Their counter can be frozen in debug mode. Any of the general-purpose timers can be used to generate PWM outputs. They all \nhave independent DMA request generation.\nThese timers are capable of handling quadra ture (incremental) encoder signals and the \ndigital outputs from one to three Hall-effect sensors.\nIndependent watchdog\nThe independent watchdog is based on a 12-bit downcounter and 8-bit prescaler. It is clocked from an independent 40 kHz internal RC  and as it operates independently of the \nmain clock, it can operate in Stop and Standby  modes. It can be used either as a watchdog \nto reset the device when a problem occurs, or as a free-running timer for application timeout management. It is hardware- or software-configurable through the option bytes. The counter can be frozen in debug mode.\nWindow watchdog\nThe window watchdog is based on a 7-bit downcounter that can be set as free-running. It can be used as a watchdog to reset the device when a problem occurs. It is clocked from \nthe main clock. It  has an early warning interrupt capabilit y and the counter c an be frozen in \ndebug mode.\nDS5319 Rev 18 19/116STM32F103x8, STM32F103xB Description\n115SysTick timer\nThis timer is dedicated for OS, but can be used  also as a standard dow ncounter. It features:\n\uf0b7 A 24-bit downcounter\n\uf0b7 Autoreload capability\n\uf0b7 Maskable system interrupt generation when the counter reaches 0\n\uf0b7 Programmable clock source \n2.3.16 I²C bus\nUp to two I²C bus interfaces can operate in multimaster and slave modes. They can support \nstandard and fast modes. \nThey support dual slave addressing (7-bit onl y) and both 7/10-bit addressing in master \nmode. A hardware CRC generation/verification is embedded.\nThey can be served by DMA and they support SM Bus 2.0/PM Bus.\n2.3.17 Universal sync hronous/asynchronous receiver  transmitter (USART)\nOne of the USART interfaces is able to commu nicate at speeds of up to 4.5 Mbit/s. The \nother available interfaces communicate at up to 2.25 Mbit/s. They provide hardware management of the CTS and RTS signals, IrDA SIR ENDEC support, are ISO 7816 \ncompliant and have LIN Master/Slave capability.\nAll USART interfaces can be served by the DMA controller.\n2.3.18 Serial peripheral interface (SPI)\nUp to two SPIs are able to co mmunicate up to 18 Mbits/s in slave and master modes in \uf020\nfull-duplex and simplex communication modes. The 3-bit prescaler gives 8 master mode \nfrequencies and the frame is configurable to 8 bits or 16 bits. The hardware CRC generation/verification support s basic SD Card/MMC modes.\nBoth SPIs can be served by the DMA controller.\n2.3.19 Controller area network (CAN)\nThe CAN is compliant with specifications 2.0A an d B (active) with a bit rate up to 1 Mbit/s. It \ncan receive and transmit standard frames with 11 -bit identifiers as well as extended frames \nwith 29-bit identifiers. It has three transmit mailboxes, two receive FIFOs with three stages \nand 14 scalable filter banks.\n2.3.20 Universal serial bus (USB)\nThe STM32F103xx performance line embeds a USB device peripheral compatible with the \nUSB full-speed 12 Mbs. The USB interface im plements a full-speed (12 Mbit/s) function \ninterface. It has software-configurable endpoi nt setting and suspend/resume support. The \ndedicated 48 MHz clock is generated from the internal main PLL (the clock source must use \na HSE crystal oscillator).\nDescription STM32F103x8, STM32F103xB\n20/116 DS5319 Rev 182.3.21 GPIOs (general -purpose inputs/outputs)\nEach of the GPIO pins can be configured by so ftware as output (push-pull or open-drain), as \ninput (with or without pull-up or pull-down) or as peripheral alternate function. Most of the \nGPIO pins are shared with digital or analog al ternate functions. All GPIOs are high current-\ncapable.\nThe I/Os alternate function configuration c an be locked if needed following a specific \nsequence in order to avoid spurious writing to the I/Os registers.\nI/Os on APB2 with up to 18 MHz toggling speed.\n2.3.22 ADC (analog-to -digital converter)\nTwo 12-bit analog-to-digital converters are embedded into STM32F103xx performance line \ndevices and each ADC shares up to 16 external channels, performing conversions in single-\nshot or scan modes. In scan mode, automatic conversion is performed on a selected group of analog inputs.\nAdditional logic functions embedded in the ADC interface allow:\n\uf0b7 Simultaneous sample and hold\n\uf0b7 Interleaved sample and hold\n\uf0b7 Single shunt\nThe ADC can be served by the DMA controller.\nAn analog watchdog feature allows very precise monitoring of the converted voltage of one, \nsome or all selected channels. An interrup t is generated when the converted voltage is \noutside the programmed thresholds.\nThe events generated by the general-purpose timers (TIMx) and the advanced-control timer \n(TIM1) can be internally connected to the ADC start trigger, injection trigger, and DMA trigger respectively, to allow the application to synchronize A/D conversion and timers.\n2.3.23 Temperature sensor\nThe temperature sensor has to generate a volta ge that varies linearly with temperature. The \nconversion range is between 2 V < VDDA < 3.6 V. The temperature sensor is internally \nconnected to the ADC12_IN16 input channel wh ich is used to convert the sensor output \nvoltage into a digital value.\n2.3.24 Serial wire JTAG debug port (SWJ-DP)\nThe Arm SWJ-DP Interface is embedded. and is a combined JTAG and serial wire debug \nport that enables either a serial wire debug or  a JTAG probe to be connected to the target. \nThe JTAG TMS and TCK pins are shared wit h SWDIO and SWCLK, respectively, and a \nspecific sequence on the TMS pin is us ed to switch between JTAG-DP and SW-DP.\nDS5319 Rev 18 21/116STM32F103x8, STM32F103xB Pinouts and pin description\n1153 Pinouts and pin description\nFigure 3. STM32F103xx performance line LFBGA100 ballout\nPinouts and pin description STM32F103x8, STM32F103xB\n22/116 DS5319 Rev 18Figure 4. STM32F103xx performance line LQFP100 pinout\nai14391100\n99\n98\n9796\n95\n9493\n92\n91\n90\n89\n88\n87\n86\n85\n84\n83\n82\n81\n80\n79\n78\n77\n761\n2\n34\n5\n6\n7\n8\n9\n10\n11\n1213\n14\n15\n16\n17\n1819\n20\n2122\n23\n24\n2575\n74\n7372\n71\n70\n69\n68\n67\n66\n65\n6463\n62\n61\n60\n59\n5857\n56\n5554\n53\n52\n51VDD_2 \nVSS_2  \nNC  \nPA 13  \nPA 12  PA 11  \nPA 10  \nPA 9  PA 8  \nPC9  \nPC8  \nPC7  \nPC6  \nPD15  PD14  \nPD13  \nPD12  \nPD11  \nPD10  \nPD9  PD8  \nPB15  \nPB14  \nPB13  \nPB12  PA3\nVSS_4\nVDD_4\nPA4PA5\nPA6\nPA7\nPC4\nPC5\nPB0PB1\nPB2\nPE7\nPE8\nPE9\nPE10PE11\nPE12\nPE13\nPE14\nPE15\nPB10\nPB11\nVSS_1\nVDD_1VDD_3  \nVSS_3  \nPE1  \nPE0  \nPB9  \nPB8  \nBOOT0  PB7  \nPB6  \nPB5  \nPB4  \nPB3  \nPD7  \nPD6  \nPD5  \nPD4  \nPD3  \nPD2  \nPD1  PD0  \nPC12  \nPC11  \nPC10  \nPA15  \nPA14 26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n3637\n38\n3940\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50PE2\nPE3\nPE4PE5\nPE6\nVBAT\nPC13-TAMPER-RTC\nPC14-OSC32_IN\nPC15-OSC32_OUT\nVSS_5\nVDD_5\nOSC_IN\nOSC_OUT\nNRST\nPC0\nPC1\nPC2\nPC3\nVSSA\nVREF-\nVREF+\nVDDA\nPA0-WKUP\nPA1\nPA2LQFP100\nDS5319 Rev 18 23/116STM32F103x8, STM32F103xB Pinouts and pin description\n115Figure 5. STM32F103xx performance line UFBGA100 pinout\nMS30481V1A\nB\nEDC\nF\nG\nH\nJ\nK\nL\nMPE3\nOSC_INPC15\nOSC32_OUTPC14RTC_TAMPERPE4\nOSC_OUT\nPC0\nVSSA\nVREF-\nVREF+\nVDDAPE1\nPE5PE2\nPE6\nVBAT\nVSS_5\nVDD_5\nNRST\nPC1\nPC3\nPA0\nWKUP1\nPA1PB8\nPE0PB9\nVSS_3\nVSS_4\nVDD_4\nPC2\nPA2\nPA3\nPA4BOOT0\nPB7\nVDD_3\nPA5\nPA6\nPA7PD7\nPB6PB5\nPC4\nPC5\nPB0PD5\nPD6\nPB2\nPB1PB4\nPD4\nPE8\nPE7PB3\nPD3\nPD2\nPD9\nPE10\nPE9PA15\nPD1\nPD0\nPD8\nPE12\nPE11PA14\nPC12\nPC11\nPC8PA9\nPD15\nPD12\nPB15\nPB10\nPE13PA13\nPC10\nNC\nPA8\nPC7\nPD14\nPD11\nPB14\nPB11\nPE14VSS_2\nVDD_2PA12\nPA11\nPA10\nPC9PC6\nPD13\nPD10\nPB13\nPB12\nPE15VSS_1\nVDD_12 3 4 5 6 7 8 9 10 11 12 1\nPC13\nOSC32_IN\nPinouts and pin description STM32F103x8, STM32F103xB\n24/116 DS5319 Rev 18Figure 6. STM32F103xx performance line LQFP64 pinout\n64 63 62 61 60 59 58 57 56 55 54 53 52 51 50 49\n48\n47\n46\n45\n44\n43\n42\n41\n40\n3938\n37\n3635\n34\n33\n17 18 19 20 21 22 23 24 29 30 31 32 25 26 27 281\n2\n3\n4\n5\n6  \n7  \n8  9  \n10\n1112\n13\n14\n15\n16VBAT\nPC13-TAMPER-RTC\nPC 14-O SC 32_IN\nPC 15-O SC 32_OU T\nP D0-OS C_IN\nP D1-OS C_OUT\nNRST\nPC0\nPC1\nPC2\nPC3\nVSSA\nVDDA\nPA 0 - W K U P\nPA 1\nPA 2\nVDD_3\nVSS_3\nPB 9    \nPB 8    \nBOO T 0    \nPB 7    \nPB 6    \nPB 5    \nPB 4    \nPB 3    \nPD2    \nPC12\nPC11\nPC10\nPA 1 5\nPA 1 4\nVDD_2\nVSS_2\nPA 1 3\nPA 1 2\nPA 1 1\nPA 1 0PA 9\nPA 8\nPC9PC8\nPC7\nPC6\nPB 15\nPB 14\nPB 13\nPB 12PA 3\nVSS_4\nVDD_4\nPA 4\nPA 5\nPA 6\nPA 7\nPC4\nPC5\nPB 0\nPB 1\nPB 2\nPB1 0\nPB1 1\nVSS_1\nVDD_1LQFP64\nai14392\nDS5319 Rev 18 25/116STM32F103x8, STM32F103xB Pinouts and pin description\n115Figure 7. STM32F103xx performance line TFBGA64 ballout\nAI15494PB2PC14-\nOSC32_IN\nPA7 PA4PA2PA15\nPB11PB1 PA6 PA3\nHPB10\nPC5 PC4D PA8PA9BOOT0 PB8\nC\nPC9PA11\nPB6PC12\nVDDAPB9\nB PA12 PC10PC15-\nOSC32_OUTPB3\nPD2A8 7 6 5 4 3 2 1\nVSS_4OSC_IN\nOSC_OUT VDD_4\nGFE\nPC2\nVREF+PC13-\nTAMPER-RTCPB4 PA13 PA14\nPB7 PB5\nVSS_3\nPC7 PC8 PC0 NRST PC1\nPB0 PA5 PB14VDD_2 VDD_3\nPB13VBAT PC11\nPA10\nVSS_2 VSS_1\nPC6 VSSA\nPA1VDD_1\nPB15\nPB12PA0-WKUP\nPinouts and pin description STM32F103x8, STM32F103xB\n26/116 DS5319 Rev 18Figure 8. STM32F103xx performance line LQFP48 pinout\nFigure 9. STM32F103xx performance line UFQFPN48 pinout44 43 42 41 40 39 38 37\n36\n35\n34\n33\n32\n31\n30\n29\n28\n27\n26\n25\n242312\n13 14 15 16 17 18 19 20 21 221\n2\n3\n4\n5\n6 \n7 \n8 \n9 \n10\n1148 47 46 45PA3\nPA4\nPA5\nPA6\nPA7\nPB0PB1\nPB2\nPB10\nPB11\nVSS_1\nVDD_1VDD_2  VSS_2  \nPA13  \nPA12  \nPA11  \nPA10  \nPA9  \nPA8  \nPB15  \nPB14  \nPB13  PB12 VBAT\nPC13-TAMPER-RTC\nPC14-OSC32_IN\nPC15-OSC32_OUT\nPD0-OSC_IN\nPD1-OSC_OUT\nNRST\nVSSA\nVDDA\nPA0-WKUP\nPA1\nPA2\nVDD_3  \nVSS_3  \nPB9  PB8  \nBOOT0  \nPB7  \nPB6  \nPB5  \nPB4  PB3  \nPA15  \nPA14 \nLQFP48\nai14393b \nMS31472V1VDD_3\nVSS_3\nPB9\nPB8\nBOOT0\nPB7\nPB6\nPB5\nPB4PB3\nPA15\nPA14PA3\nPA4\nPA5PA6PA7\nPB0\nPB1PB2\nPB10\nPB11\nVSS_1\nVDD_1VBAT\nPC13-TAMPER-RTC\nPC14-OSC32_IN\nPC15-OSC32_OUT\nPD0-OSC_IN\nPD1-OSC_OUT\nNRST\nVSSA\nVDDA\nPA0-WKUP\nPA1\nPA2VDD_2VSS_2PA13PA12\nPA11\nPA10\nPA9PA8PB15\nPB14\nPB13\nPB1248\nQFPN4847 46 45 44 4342 41 40 39 3837\n36\n35343332\n31\n30\n292827\n26\n25\n1314 15 16 17 1819 20 21 22 23241\n2\n3456789101112\nDS5319 Rev 18 27/116STM32F103x8, STM32F103xB Pinouts and pin description\n115Figure 10. STM32F103xx performance line VFQFPN36 pinout\nVSS_3\nBOOT0\nPB7PB6PB5\nPB4PB3PA15\nPA14\n36 35 34 33 32 31 30 29 28\nVDD_3 1 27 VDD_2\nOSC_IN/PD0 2 26 VSS_2\nOSC_OUT/PD1 3 25 PA13\nNRST 4\nQFN3624 PA12\nVSSA 5 23 PA11\nVDDA 6 22 PA10\nPA0-WKUP 7 21 PA9\nPA1 8 20 PA8\nPA2 9 19 VDD_1\n10 11 12 13 14 15 16 17 18\nPA3\nPA4PA5\nPA6\nPA7\nPB0PB1PB2\nV\nSS_1\nai14654 \nPinouts and pin description STM32F103x8, STM32F103xB\n28/116 DS5319 Rev 18          Table 5. Medium-density STM32F103xx pin definitions \nPins \nPin name\nType(1)\nI / O Level(2)\nMain \nfunction(3) \n(after reset)Alternate functions(4)LFBGA100\nUFBG100\nLQFP48/UFQFPN48\nTFBGA64\nLQFP64\nLQFP100\nVFQFPN36Default Remap\nA3 B2 - - - 1 - PE2 I/O FT PE2 TRACECK -\nB3 A1 - - - 2 - PE3 I/O FT PE3 TRACED0 -\nC3 B1 - - - 3 - PE4 I/O FT PE4 TRACED1 -D3 C2 - - - 4 - PE5 I/O FT PE5 TRACED2 -\nE3 D2 - - - 5 - PE6 I/O FT PE6 TRACED3 -\nB2 E2 1 B2 1 6 - V\nBAT S- VBAT --\nA2 C1 2 A2 2 7 -PC13-TAMPER-\nRTC(5) I/O - PC13(6)TAMPER-RTC -\nA1 D1 3 A1 3 8 - PC14-OSC32_IN(5)I/O - PC14(6)OSC32_IN -\nB1 E1 4 B1 4 9 -PC15-\nOSC32_OUT(5) I/O - PC15(6)OSC32_OUT -\nC2 F2 - - - 10 - VSS_5 S- VSS_5 --\nD2 G2 - - - 11 - VDD_5 S- VDD_5 -\nC1 F1 5 C1 5 12 2 OSC_IN I - OSC_IN - PD0(7)\nD1 G1 6 D1 6 13 3 OSC_OUT O - OSC_OUT PD1(7)\nE1 H2 7 E1 7 14 4 NRST I/O - NRST - -\nF1 H1 - E3 8 15 - PC0 I/O - PC0 ADC12_IN10 -F2 J2 - E2 9 16 - PC1 I/O - PC1 ADC12_IN11 -\nE2 J3 - F2 10 17 - PC2 I/O - PC2 ADC12_IN12 -\nF3 K2 - -\n(8)11 18 - PC3 I/O - PC3 ADC12_IN13 -\nG1 J1 8 F1 12 19 5 VSSA S- VSSA --\nH1 K1 - - - 20 - VREF- S- VREF- --\nJ1 L1 - G1(8)-2 1 - VREF+ S- VREF+ --\nK1 M1 9 H1 13 22 6 VDDA S- VDDA --\nDS5319 Rev 18 29/116STM32F103x8, STM32F103xB Pinouts and pin description\n115G2 L2 10 G2 14 23 7 PA0-WKUP I/O - PA0WKUP/\nUSART2_CTS(9)/\nADC12_IN0/\nTIM2_CH1_\nETR(9)-\nH2 M2 11 H2 15 24 8 PA1 I/O - PA1USART2_RTS(9)/\nADC12_IN1/ \nTIM2_CH2(9)-\nJ2 K3 12 F3 16 25 9 PA2 I/O - PA2USART2_TX(9)/\nADC12_IN2/ \nTIM2_CH3(9)-\nK2 L3 13 G3 17 26 10 PA3 I/O - PA3USART2_RX(9)/\nADC12_IN3/\nTIM2_CH4(9)-\nE4 E3 - C2 18 27 - VSS_4 S- VSS_4 --\nF4 H3 - D2 19 28 - VDD_4 S- VDD_4 --\nG3 M3 14 H3 20 29 11 PA4 I/O - PA4SPI1_NSS(9)/ \nUSART2_CK(9)/ \nADC12_IN4 -\nH3 K4 15 F4 21 30 12 PA5 I/O - PA5SPI1_SCK(9)/ \nADC12_IN5 -\nJ3 L4 16 G4 22 31 13 PA6 I/O - PA6SPI1_MISO(9)/\nADC12_IN6/\nTIM3_CH1(9)TIM1_BKIN\nK3 M4 17 H4 23 32 14 PA7 I/O - PA7SPI1_MOSI(9)/\nADC12_IN7/\nTIM3_CH2(9)TIM1_CH1N\nG4 K5 - H5 24 33 PC4 I/O - PC4 ADC12_IN14 -\nH4 L5 - H6 25 34 PC5 I/O - PC5 ADC12_IN15 -\nJ4 M5 18 F5 26 35 15 PB0 I/O - PB0ADC12_IN8/\nTIM3_CH3(9) TIM1_CH2N\nK4 M6 19 G5 27 36 16 PB1 I/O - PB1ADC12_IN9/\nTIM3_CH4(9) TIM1_CH3NTable 5. Medium-density STM32F 103xx pin definitions (continued)\nPins \nPin name\nType(1)\nI / O Level(2)\nMain \nfunction(3) \n(after reset)Alternate functions(4)LFBGA100\nUFBG100\nLQFP48/UFQFPN48\nTFBGA64\nLQFP64\nLQFP100\nVFQFPN36Default Remap\nPinouts and pin description STM32F103x8, STM32F103xB\n30/116 DS5319 Rev 18G5 L6 20 G6 28 37 17 PB2 I/O FT PB2/BOOT1 - -\nH5 M7 - - - 38 - PE7 I/O FT PE7 - TIM1_ETR\nJ5 L7 - - - 39 - PE8 I/O FT PE8 - TIM1_CH1N\nK5 M8 - - - 40 - PE9 I/O FT PE9 - TIM1_CH1\nG6 L8 - - - 41 - PE10 I/O FT PE10 - TIM1_CH2N\nH6 M9 - - - 42 - PE11 I/O FT PE11 - TIM1_CH2\nJ6 L9 - - - 43 - PE12 I/O FT PE12 - TIM1_CH3N\nK6 M10 - - - 44 - PE13 I/O FT PE13 - TIM1_CH3\nG7 M11 - - - 45 - PE14 I/O FT PE14 - TIM1_CH4\nH7 M12 - - - 46 - PE15 I/O FT PE15 - TIM1_BKIN\nJ7 L10 21 G7 29 47 - PB10 I/O FT PB10I2C2_SCL/\nUSART3_TX(9) TIM2_CH3\nK7 L11 22 H7 30 48 - PB11 I/O FT PB11I2C2_SDA/ \nUSART3_RX(9) TIM2_CH4\nE7 F12 23 D6 31 49 18 VSS_1 S- VSS_1 --\nF7 G12 24 E6 32 50 19 VDD_1 S- VDD_1 --\nK8 L12 25 H8 33 51 - PB12 I/O FT PB12SPI2_NSS/\nI2C2_SMBAl/\nUSART3_CK(9)/\nTIM1_BKIN(9)-\nJ8 K12 26 G8 34 52 - PB13 I/O FT PB13SPI2_SCK/\nUSART3_CTS(9)/\nTIM1_CH1N (9)-\nH8 K11 27 F8 35 53 - PB14 I/O FT PB14SPI2_MISO/ \nUSART3_RTS(9) \nTIM1_CH2N (9)-\nG8 K10 28 F7 36 54 - PB15 I/O FT PB15SPI2_MOSI/\nTIM1_CH3N(9) -\nK9 K9 - - - 55 - PD8 I/O FT PD8 - USART3_TX\nJ9 K8 - - - 56 - PD9 I/O FT PD9 - USART3_RXTable 5. Medium-density STM32F 103xx pin definitions (continued)\nPins \nPin name\nType(1)\nI / O Level(2)\nMain \nfunction(3) \n(after reset)Alternate functions(4)LFBGA100\nUFBG100\nLQFP48/UFQFPN48\nTFBGA64\nLQFP64\nLQFP100\nVFQFPN36Default Remap\nDS5319 Rev 18 31/116STM32F103x8, STM32F103xB Pinouts and pin description\n115H9 J12 - - - 57 - PD10 I/O FT PD10 - USART3_CK\nG9 J11 - - - 58 - PD11 I/O FT PD11 - USART3_CTS\nK10 J10 - - - 59 - PD12 I/O FT PD12 -TIM4_CH1 / \nUSART3_RTS\nJ10 H12 - - - 60 - PD13 I/O FT PD13 - TIM4_CH2\nH10 H11 - - - 61 - PD14 I/O FT PD14 - TIM4_CH3\nG10 H10 - - - 62 - PD15 I/O FT PD15 - TIM4_CH4\nF10 E12 - F6 37 63 - PC6 I/O FT PC6 - TIM3_CH1\nE10 E11 E7 38 64 - PC7 I/O FT PC7 - TIM3_CH2\nF9 E10 E8 39 65 - PC8 I/O FT PC8 - TIM3_CH3\nE9 D12 - D8 40 66 - PC9 I/O FT PC9 - TIM3_CH4\nD9 D11 29 D7 41 67 20 PA8 I/O FT PA8USART1_CK/\nTIM1_CH1(9)/\nMCO -\nC9 D10 30 C7 42 68 21 PA9 I/O FT PA9USART1_TX(9)/ \nTIM1_CH2(9) -\nD10 C12 31 C6 43 69 22 PA10 I/O FT PA10USART1_RX(9)/ \nTIM1_CH3(9) -\nC10 B12 32 C8 44 70 23 PA11 I/O FT PA11USART1_CTS/ \nCANRX(9)/ \nUSBDM/\nTIM1_CH4(9)-\nB10 A12 33 B8 45 71 24 PA12 I/O FT PA12USART1_RTS/ \nCANTX(9) \n/USBDP\nTIM1_ETR(9)-\nA10 A11 34 A8 46 72 25 PA13 I/O FT JTMS/SWDIO  - PA13\nF8 C11 - - - 73 - Not connected -\nE6 F11 35 D5 47 74 26 VSS_2 S- VSS_2 --\nF6 G11 36 E5 48 75 27 VDD_2 S- VDD_2 --Table 5. Medium-density STM32F 103xx pin definitions (continued)\nPins \nPin name\nType(1)\nI / O Level(2)\nMain \nfunction(3) \n(after reset)Alternate functions(4)LFBGA100\nUFBG100\nLQFP48/UFQFPN48\nTFBGA64\nLQFP64\nLQFP100\nVFQFPN36Default Remap\nPinouts and pin description STM32F103x8, STM32F103xB\n32/116 DS5319 Rev 18A9 A10 37 A7 49 76 28 PA14 I/O FT JTCK/SWCLK - PA14\nA8 A9 38 A6 50 77 29 PA15 I/O FT JTDI -TIM2_CH1_\nETR/ PA15 \n/SPI1_NSS\nB9 B11 - B7 51 78 PC10 I/O FT PC10 - USART3_TX\nB8 C10 - B6 52 79 PC11 I/O FT PC11 - USART3_RX\nC8 B10 - C5 53 80 PC12 I/O FT PC12 - USART3_CKD8 C9 - C1 - 81 2 PD0 I/O FT PD0 - CANRX\nE8 B9 - D1 - 82 3 PD1 I/O FT PD1 - CANTX\nB7 C8 B5 54 83 - PD2 I/O FT PD2 TIM3_ETR -\nC7 B8 - - - 84 - PD3 I/O FT PD3 - USART2_CTS\nD7 B7 - - - 85 - PD4 I/O FT PD4 - USART2_RTS\nB6 A6 - - - 86 - PD5 I/O FT PD5 - USART2_TX\nC6 B6 - - - 87 - PD6 I/O FT PD6 - USART2_RX\nD6 A5 - - - 88 - PD7 I/O FT PD7 - USART2_CK\nA7 A8 39 A5 55 89 30 PB3 I/O FT JTDO -TIM2_CH2 / \nPB3 \nTRACESWO\nSPI1_SCK\nA6 A7 40 A4 56 90 31 PB4 I/O FT JNTRST -TIM3_CH1/ \nPB4/ \nSPI1_MISO\nC5 C5 41 C4 57 91 32 PB5 I/O PB5 I2C1_SMBAl TIM3_CH2 / \nSPI1_MOSI\nB5 B5 42 D3 58 92 33 PB6 I/O FT PB6I2C1_SCL\n(9)/\nTIM4_CH1(9) USART1_TX\nA5 B4 43 C3 59 93 34 PB7 I/O FT PB7I2C1_SDA(9)/\nTIM4_CH2(9) USART1_RX\nD5 A4 44 B4 60 94 35 BOOT0 I BOOT0 - -Table 5. Medium-density STM32F 103xx pin definitions (continued)\nPins \nPin name\nType(1)\nI / O Level(2)\nMain \nfunction(3) \n(after reset)Alternate functions(4)LFBGA100\nUFBG100\nLQFP48/UFQFPN48\nTFBGA64\nLQFP64\nLQFP100\nVFQFPN36Default Remap\nDS5319 Rev 18 33/116STM32F103x8, STM32F103xB Pinouts and pin description\n115B4 A3 45 B3 61 95 - PB8 I/O FT PB8 TIM4_CH3(9) I2C1_SCL / \nCANRX\nA4 B3 46 A3 62 96 - PB9 I/O FT PB9 TIM4_CH4(9) I2C1_SDA/\nCANTX\nD4 C3 - - - 97 - PE0 I/O FT PE0 TIM4_ETR -\nC4 A2 - - - 98 - PE1 I/O FT PE1 - -\nE5 D3 47 D4 63 99 36 VSS_3 S- VSS_3 --\nF5 C4 48 E4 64 100 1 VDD_3 S- VDD_3 --\n1. I = input, O = output, S = supply.\n2. FT = 5 V tolerant.3. Function availability depends upon the chosen device. For devices having reduced peripheral counts, it is always the lower \nnumber of peripheral that is included. For example, if a device has only one SPI and two USARTs, they are called SPI1 and \nUSART1 and USART2, respectively. Refer to Table 2 .\n4. If several peripherals share the same I/O pin, to avoid c onflict between these alternate f unctions only one peripheral should  \nbe enabled at a time through the peri pheral clock enable bit (in the correspondi ng RCC peripheral clock enable register).\n5. PC13, PC14 and PC15 are supplied through the power switch. Si nce the switch only sinks a limited amount of current \n(3 mA), the use of GPIOs PC13 to PC15 in output mode is  limited: the speed should not exceed 2 MHz with a maximum \nload of 30 pF and these IOs must not be used as a current source (e.g. to drive a LED).\n6. Main function after the first backup domain power-up. Later  on, it depends on the contents of the Backup registers even \nafter reset (because these registers are not reset by the main reset). For details on how to manage these IOs, refer to the Battery backup domain and BKP register description sections in  the STM32F10xxx reference manual, available from the \nSTMicroelectronics website: www.st.com .\n7. The pins number 2 and 3 in the VFQFPN36 package, 5 and 6 in the LQFP48, UFQFP48 and LQFP64 packages, and C1 \nand C2 in the TFBGA64 package are configured as OSC_IN /OSC_OUT after reset, however the functionality of PD0 and \nPD1 can be remapped by software on these pins. For the LQ FP100 package, PD0 and PD1 are available by default, so \nthere is no need for remapping. For more details, refer to t he Alternate function I/O and debug configuration section in the \nSTM32F10xxx reference manual. \uf020\nThe use of PD0 and PD1 in output mode is limited as they can only be used at 50 MHz in output mode.\n8. Unlike in the LQFP64 package, there is no PC3 in the TFBGA64 package. The V\nREF+ functionality is provided instead.\n9. This alternate function can be remapped by software to some other port pins (if available on the used package). For more \ndetails, refer to the Alternate function I/O and debug configurat ion section in the STM32F10xxx reference manual, available \nfrom the STMicroelectronics website: www.st.com .Table 5. Medium-density STM32F 103xx pin definitions (continued)\nPins \nPin name\nType(1)\nI / O Level(2)\nMain \nfunction(3) \n(after reset)Alternate functions(4)LFBGA100\nUFBG100\nLQFP48/UFQFPN48\nTFBGA64\nLQFP64\nLQFP100\nVFQFPN36Default Remap\nMemory mapping STM32F103x8, STM32F103xB\n34/116 DS5319 Rev 184 Memory mapping\nThe memory map is shown in Figure  11.\nFigure 11. Memory map\nreservedAPB memory space\nDMA\nTIM2Reserved\nTIM3TIM4reservedRTCWWDGIWDGreservedSPI2USART2USART3AFIOPort APort CPort Dreserved ADC1reservedUSART1reserved\nreservedADC2 TIM1SPI1\nreservedI2C1BKPPort E\nPWRPort B\nI2C2reserved\nbxCANEXTIreservedRCCreservedFlash Interfacereservedreservedreservedreserved\nUSB RegistersCRC\n01234567\nPeripherals\nSRAM\nFlash memoryreservedreserved\nSystem memoryOption BytesCortex- M3 Internal  \nPeripherals\nai14394fshared 512 byte\nUSB/CAN SRAM\nAliased to Flash or system\nmemory depending on\nBOOT pins\nDS5319 Rev 18 35/116STM32F103x8, STM32F103xB Electrical characteristics\n1155 Electrical characteristics\n5.1 Parameter conditions\nUnless otherwise specified, a ll voltages are referenced to VSS.\n5.1.1 Minimum and maximum values\nUnless otherwise specified the minimum and ma ximum values are guaranteed in the worst \nconditions of ambient temperature, supply vo ltage and frequencies by tests in production on \n100% of the devices with an ambient temperature at TA = 25 °C and TA = TAmax (given by \nthe selected temperature range).\nData based on characterization results, desig n simulation and/or technology characteristics \nare indicated in the table footnotes and are not tested in production. Based on characterization, the minimum and maximum valu es refer to sample tests and represent the \nmean value plus or minus three times the standard deviation (mean ± 3 σ).\n5.1.2 Typical values\nUnless otherwise specified, typical data are based on TA = 25 °C, VDD = 3.3 V (for the \n2 V \uf0a3\uf020 VDD \uf0a3\uf020\uf0203.6 V voltage range). They are given only as design guidelines and are not \ntested.\nTypical ADC accuracy values are determined by ch aracterization of a batch of samples from \na standard diffusion lot over the full temperat ure range, where 95% of the devices have an \nerror less than or equal to the value indicated  (mean ± 2 σ).\n5.1.3 Typical curves\nUnless otherwise specified, all typical curves  are given only as design guidelines and are \nnot tested.\n5.1.4 Loading capacitor\nThe loading conditions used for pin parameter measurement are shown in Figure  12.\n5.1.5 Pin input voltage\nThe input voltage measurement on a pin of the device is described in Figure  13.\n          \nFigure 12. Pin loading condition s Figure 13. Pin input voltage\nai14141C = 50 pFSTM32F103xx pin\nai14142STM32F103xx pin\nVIN\nElectrical characteristics STM32F103x8, STM32F103xB\n36/116 DS5319 Rev 185.1.6 Power supply scheme\nFigure 14. Power supply scheme\nCaution: In Figure 14 , the 4.7 µF capacitor must be connected to VDD3.\n5.1.7 Current consumption measurement\nFigure 15. Current consum ption measurement schemeai14125dVDD\n1/2/3/4/5\nAnalog: \nRCs, \nPLL,...Power switch\nGP I/OsOUT\nIN\nKernel logic \n(CPU, Digital & \nMemories)  Backup circuitry (OSC32K, \nRTC, Backup registers,  \nWake-up logic)\n5 × 100 nF + 1 × 4.7 μF1.8 - 3.6V\nRegulator\nVDDA\nVREF+\nADC/\nDAC\nLevel shifterIO \nLogic\nVDD\n10 nF + \n1 μFVREF\n10 nF + \n1 μF\nVREF-\nVSSAVSS\n1/2/3/4/5\nVDDVBAT\nai14126VBAT\nVDD\nVDDAIDD_VBAT\nIDD\nDS5319 Rev 18 37/116STM32F103x8, STM32F103xB Electrical characteristics\n1155.2 Absolute maximum ratings\nStresses above the absolute maximum ratings listed in Table  6, Table  7, and Table  8 may \ncause permanent damage to the device. These are stress ratings only and functional \noperation of the device at these conditions is  not implied. Exposure to maximum rating \nconditions for extend ed periods may affect device reliability.\n           \n           \n          Table 6. Voltage characteristics\nSymbol Ratings Min Max Unit\nVDD\uf020\uf02d VSS External main supply voltage (including VDDA and VDD)(1)\n1. All main power (VDD, VDDA) and ground (VSS, VSSA) pins must always be connected to the external power \nsupply, in the permitted range.–0.3 4.0\nV\nVIN(2)\n2. VIN maximum must always be respected. Refer to Table 7  for the maximum allowed injected current \nvalues. Input voltage on 5 V tolerant pin VSS \uf02d 0.3 VDD \uf02b 4.0\nInput voltage on any other pin VSS \uf02d\uf0200.3 4.0\n|\uf044VDDx| Variations between different VDD power pins - 50\nmV\n|VSSX \uf02d\uf020VSS| Variations between all the different ground pins - 50\nVESD(HBM) Electrostatic discharge voltage (human body model) See Section 5.3.11\nTable 7. Current characteristics\nSymbol Ratings  Max. Unit\nIVDD Total current into VDD/VDDA power lines (source)(1)\n1. All main power (VDD, VDDA) and ground (VSS, VSSA) pins must always be connected to the external power \nsupply, in the permitted range.150\nmAIVSS Total current out of VSS ground lines (sink)(1)150\nIIOOutput current sunk by any I/O and control pin 25\nOutput current source by any I/Os and control pin \uf02d 25\nIINJ(PIN)(2)\n2. Negative injection disturbs the analog performance of the device. See footnote 2 of Table 48 .Injected current on five  volt tolerant pins(3)\n3. Positive injection is not possible on thes e I/Os. A negative injection is induced by VIN<VSS. IINJ(PIN)  must \nnever be exceeded. Refer to Table 6  for the maximum allowed input voltage values.-5/+0\nInjected current on any other pin(4)\n4. A positive injection is induced by VIN > VDD, while a negative injection is induced by VIN < VSS. \uf020\nIINJ(PIN)  must never be exceeded. Refer to Table 6  for the maximum allowed input voltage values.± 5\n\uf053IINJ(PIN) Total injected current (sum of all I/O and control pins)(5)\n5. When several inputs are submitted to a current injection, the maximum \uf053IINJ(PIN)  is the absolute sum of the \npositive and negative injected currents (instantaneous values).± 25\nTable 8. Thermal characteristics \nSymbol Ratings  Value Unit\nTSTG Storage temperatur e range –65 to +150\n°C\nTJ Maximum junction temperature 150\nElectrical characteristics STM32F103x8, STM32F103xB\n38/116 DS5319 Rev 185.3 Operating conditions\n5.3.1 General operating conditions\n          Table 9. General operating conditions \nSymbol Parameter  Conditions Min Max Unit\nfHCLK Internal AHB clock frequency - 0 72\nMHz fPCLK1 Internal APB1 clock frequency - 0 36\nfPCLK2 Internal APB2 clock frequency - 0 72\nVDD Standard operating voltage - 2 3.6\nV VDDA(1)\n1. When the ADC is used, refer to Table 46 .Analog operating voltage \uf020\n(ADC not used)Must be the same potential \nas VDD(2)\n2. It is recommended to power VDD and VDDA from the same source. A maximum difference of 300 mV \nbetween VDD and VDDA can be tolerated during power-up and operation.23 . 6\nAnalog operating voltage \uf020\n(ADC used)2.4 3.6\nVBAT Backup operating voltage - 1.8 3.6\nVIN I/O input voltageStandard IO –0.3VDD+\n0.3\nVFT IO(3)\n3. To sustain a voltage higher than VDD + 0.3 V, the internal pull-up/pull-down resistors must be disabled.2 V < VDD \uf0a3\uf020 3.6 V –0.3 5.5\nVDD = 2 V –0.3 5.2\nBOOT0 0 5.5\nPDPower dissipation at \uf020\nTA = 85 °C for suffix 6 or \uf020\nTA = 105 °C for suffix 7(4)\n4. If TA is lower, higher PD values are allowed as long as TJ does not exceed TJmax (see Section 6.9 ).LFBGA100 - 454\nmWLQFP100 - 434\nUFBGA100 - 339\nTFBGA64 - 308\nLQFP64 - 444LQFP48 - 363\nUFQFPN48 - 624\nVFQFPN36 - 1000\nT\nA Ambient temperature for 6 \nsuffix versionMaximum power dissipation –40 85\n°CLow-power dissipation(5)\n5. In low-power dissipation state, TA can be extended to this range as long as TJ does not exceed TJmax (see \nSection 6.9 ).–40 105\nAmbient temperature for 7 \nsuffix versionMaximum power dissipation –40 105\nLow-power dissipation(5)–40 125\nTJ Junction temperature range6 suffix version –40 105\n7 suffix version –40 125\nDS5319 Rev 18 39/116STM32F103x8, STM32F103xB Electrical characteristics\n1155.3.2 Operating conditions at power-up / power-down\nSubject to general operating conditions for TA.\n          \n5.3.3 Embedded reset and power control block characteristics\nThe parameters given in Table  11 are derived from tests performed under ambient \ntemperature and VDD supply voltage conditions summarized in Table  9.\n           Table 10. Operating conditions at power-up / power-down \nSymbol Parameter Conditions Min Max Unit\ntVDDVDD rise time rate\n-0 \uf0a5\nµs/V\nVDD fall time rate 20 \uf0a5\nTable 11. Embedded reset and power control block characteristics \nSymbol Parameter Conditions Min Typ Max Unit\nVPVDProgrammable voltage \ndetector level selectionPLS[2:0] = 000 (rising edge) 2.10 2.18 2.26\nVPLS[2:0] = 000 (falling edge) 2,00 2.08 2.16\nPLS[2:0] = 001 (rising edge) 2.19 2.28 2.37\nPLS[2:0] = 001 (falling edge) 2.09 2.18 2.27PLS[2:0] = 010 (rising edge) 2.28 2.38 2.48\nPLS[2:0] = 010 (falling edge) 2.18 2.28 2.38\nPLS[2:0] = 011 (rising edge) 2.38 2.48 2.58PLS[2:0] = 011 (falling edge) 2.28 2.38 2.48\nPLS[2:0] = 100 (rising edge) 2.47 2.58 2.69\nPLS[2:0] = 100 (falling edge) 2.37 2.48 2.59PLS[2:0] = 101 (rising edge) 2.57 2.68 2.79\nPLS[2:0] = 101 (falling edge) 2.47 2.58 2.69\nPLS[2:0] = 110 (rising edge) 2.66 2.78 2.90PLS[2:0] = 110 (falling edge) 2.56 2.68 2.80\nPLS[2:0] = 111 (rising edge) 2.76 2.88 3.00\nPLS[2:0] = 111 (falling edge) 2.66 2.78 2.90\nV\nPVDhyst(2)PVD hysteresis - - 100 - mV\nVPOR/PDRPower on/power down \nreset thresholdFalling edge 1.8(1)\n1. The product behavior is specified by design down to the minimum VPOR/PDR  value.1.88 1.96\nV\nRising edge 1.84 1.92 2.0\nVPDRhyst(2)PDR hysteresis - - 40 - mV\nTRSTTEMPO(2)\n2. Specified by design, not tested in production.Reset temporization - 1.0 2.5 4.5 ms\nElectrical characteristics STM32F103x8, STM32F103xB\n40/116 DS5319 Rev 185.3.4 Embedded reference voltage\nThe parameters given in Table  12 are derived from tests performed under ambient \ntemperature and VDD supply voltage conditions summarized in Table  9.\n           \n5.3.5 Supply current characteristics\nThe current consumption is a function of seve ral parameters and factors such as operating \nvoltage, ambient temperature, I/O pin loading, device software configuration, operating frequencies, I/O pin switching rate, program lo cation in memory, and executed binary code.\nThe current consumption is measured as described in Figure  15.\nAll Run-mode current consumption measurements given in this section are performed with a \nreduced code that gives a consumption equivalent to Dhrystone 2.1 code.\nMaximum current consumption\nThe MCU is placed under the following conditions:\n\uf0b7 All I/O pins are in input mo de with a static value at VDD or VSS (no load)\n\uf0b7 All peripherals are disabled ex cept when explicitly mentioned\n\uf0b7 The Flash memory access time is adjusted to the fHCLK  frequency (0 wait state from 0 \nto 24 MHz, one wait state from 24 to  48 MHz and two wait states above)\n\uf0b7 Prefetch in ON (reminder: this bit must be set before clock setting and bus prescaling)\n\uf0b7 When the peripherals are enabled fPCLK1  = fHCLK  / 2, fPCLK2  = fHCLK\nThe parameters given in Table  13, Table  14 and Table  15 are derived from tests performed \nunder ambient temperature and VDD supply voltage conditions summarized in Table  9.Table 12. Embedded internal reference voltage\nSymbol Parameter Conditions Min Typ Max Unit\nVREFINT Internal reference voltage–40 °C < TA < +105 °C 1.16 1.20 1.26\nV\n–40 °C < TA < +85 °C 1.16 1.20 1.24\nTS_vrefint(1)\n1. Shortest sampling time can be determined in the application by multiple iterations.ADC sampling time when \nreading the internal reference \nvoltage-- 5 . 1 17.1(2)\n2. Specified by design, not tested in production.µs\nVRERINT(2)Internal reference voltage \nspread over the temperature \nrangeVDD = 3 V ±10 mV - - 10 mV\nTCoeff(2)Temperature coefficient - - - 100 ppm/°C\nDS5319 Rev 18 41/116STM32F103x8, STM32F103xB Electrical characteristics\n115          \n          Table 13. Maximum current consumption in Run mode, code with data processing\nrunning from Flash \nSymbol Parameter Conditions fHCLKMax(1)\n1. Evaluated by characterization, not test ed in production, unless otherwise specified.Unit\nTA = 85 °C TA = 105 °C\nIDDSupply current in \nRun modeExternal clock(2), all \nperipherals enabled\n2. External clock is 8 MHz and PLL is on when fHCLK  > 8 MHz.72 MHz 50.0 50.3\nmA48 MHz 36.1 36.2\n36 MHz 28.6 28.7\n24 MHz 19.9 20.1\n16 MHz 14.7 14.9\n8 MHz 8.6 8.9\nExternal clock(2), all \nperipherals disabled72 MHz 32.8 32.9\n48 MHz 24.4 24.536 MHz 19.8 19.9\n24 MHz 13.9 14.2\n16 MHz 10.7 11.0\n8 MHz 6.8 7.1\nTable 14. Maximum current consumption in Run mode, code with data processing\nrunning from RAM \nSymbol Parameter Conditions fHCLKMax(1)\n1. Based on characterization, tested in production at VDD max, fHCLK  max.Unit\nTA = 85 °C TA = 105 °C\nIDDSupply \ncurrent in \nRun modeExternal clock(2), all \nperipherals enabled\n2. External clock is 8 MHz and PLL is on when fHCLK  > 8 MHz.72 MHz 48 50\nmA48 MHz 31.5 32\n36 MHz 24 25.524 MHz 17.5 18\n16 MHz 12.5 13\n8 MHz 7.5 8\nExternal clock\n(2), all \nperipherals disabled72 MHz 29 29.5\n48 MHz 20.5 21\n36 MHz 16 16.524 MHz 11.5 12\n16 MHz 8.5 9\n8 MHz 5.5 6\nElectrical characteristics STM32F103x8, STM32F103xB\n42/116 DS5319 Rev 18Figure 16. Typical current consumption in Run mode versus frequency (at 3.6 V),\ncode with data processing running from RAM, peripherals enabled\nFigure 17. Typical current consumption in Run mode versus frequency (at 3.6 V),\ncode with data processing running from RAM, peripherals disabled\n          051015202530354045\n-40 0 25 70 85 105\nTemperature (°C)Consumption (mA)72 MHz\n36 MHz\n16 MHz\n8 MHz\n051015202530\n-40 0 25 70 85 105\nTemperature (°C)Consumption (mA)72 MHz\n36 MHz\n16 MHz\n8 MHz\nDS5319 Rev 18 43/116STM32F103x8, STM32F103xB Electrical characteristics\n115Table 15. Maximum current consumption in Sleep mode, code running\nfrom Flash or RAM \nSymbol Parameter Conditions fHCLKMax(1)\nUnit\nTA = 85 °C TA = 105 °C\nIDDSupply current in \nSleep modeExternal clock(2), all \nperipherals enabled72 MHz 30 32\nmA48 MHz 20 20.5\n36 MHz 15.5 16\n24 MHz 11.5 12\n16 MHz 8.5 98 MHz 5.5 6\nExternal clock\n(2), all \nperipherals disabled72 MHz 7.5 8\n48 MHz 6 6.536 MHz 5 5.524 MHz 4.5 5\n16 MHz 4 4.5\n8 MHz 3 4\n1. Based on characterization, tested in production at VDD max , fHCLK  max with peripherals enabled.\n2. External clock is 8 MHz and PLL is on when fHCLK  > 8 MHz.\nElectrical characteristics STM32F103x8, STM32F103xB\n44/116 DS5319 Rev 18          \nFigure 18. Typical current consumption on VBAT (RTC on)Table 16. Typical and maximum current consumptions in Stop and Standby modes \nSymbol Parameter ConditionsTyp(1)Max\nUnitVDD/VBAT \n= 2.0 VVDD/VBAT \n= 2.4 VVDD/VBAT \n= 3.3 VTA = \n85 °CTA = \n105 °C\nIDDSupply current \nin Stop modeRegulator in Run mode, low-speed \nand high-speed internal RC \noscillators and high-speed oscillator \nOFF (no independent watchdog)- 23.5 24 200 370\nµARegulator in Low-power mode, low-\nspeed and high-speed internal RC oscillators and high-speed oscillator \nOFF (no independent watchdog)- 13.5 14 180 340\nSupply current \nin Standby \nmodeLow-speed internal RC oscillator and \nindependent watchdog ON-2 . 6 3 . 4 - -\nLow-speed internal RC oscillator \nON, independent watchdog OFF-2 . 4 3 . 2 - -\nLow-speed internal RC oscillator and \nindependent watchdog OFF, \uf020\nlow-speed oscillator and RTC OFF-1 . 72 4 5\nI\nDD_VBATBackup \ndomain supply \ncurrent Low-speed oscillator and RTC ON 0.9 1.1 1.4 1.9(2)2.2\n1. Typical values are measured at TA = 25 °C.\n2. Evaluated by characterization, not tested  in production, unless otherwise specified.\n00.511.522.5\n –40 °C 25 °C 70 °C 85 °C 105 °C\nTemperature (°C)Consumption ( µA )2 V\n2.4 V\n3 V\n3.6 V\nai17351\nDS5319 Rev 18 45/116STM32F103x8, STM32F103xB Electrical characteristics\n115Figure 19. Typical current consumption in Stop mode, with regulator in Run mode\nFigure 20. Typical current consumption in St op mode, with regulator in Low-power mode050100150200250300\n-45 25 70 90 110\nTemperature (°C)Consumption (µA)3.3 V\n3.6 V\n050100150200250300\n-40 0 25 70 85 105\nTemperature (°C)Consumption (µA)3.3 V\n3.6 V\nElectrical characteristics STM32F103x8, STM32F103xB\n46/116 DS5319 Rev 18Figure 21. Typical current consumption in Standby mode\nTypical current consumption\nThe MCU is placed under the following conditions:\n\uf0b7 All I/O pins are in input mo de with a static value at VDD or VSS (no load)\n\uf0b7 All peripherals are disabled ex cept if explicitly mentioned\n\uf0b7 The Flash  access time is adjusted to fHCLK  frequency (0 wait state from 0 to 24 MHz, \none wait state from 24 to 48 MHz and two wait states above)\n\uf0b7 Ambient temperature and VDD supply voltage conditions summarized in Table 9\n\uf0b7 Prefetch is ON (this bit must be set before clock setting and bus prescaling)\n\uf0b7 When the peripherals are enabled fPCLK1 = fHCLK  / 4, fPCLK2  = fHCLK  / 2, \uf020\nfADCCLK  = fPCLK2  / 400.511.522.533.544.5\n–45 °C 25 °C 85 °C 105 °C\nTemperature (°C)Consumption (µA)3.3 V\n3.6 V\nDS5319 Rev 18 47/116STM32F103x8, STM32F103xB Electrical characteristics\n115          Table 17. Typical current consumption in Run mode, code with data processing\nrunning from Flash \nSymbol Parameter Conditions fHCLKTyp(1)\n1. Typical values are measures at TA = 25 °C, VDD = 3.3 V.UnitAll peripherals \nenabled(2)\n2. Add an additional power consumption of 0.8 mA per ADC for the analog part. In applications, this \nconsumption occurs only while the ADC is on (ADON bit is set in the ADC_CR2 register).All peripherals \ndisabled\nIDDSupply \ncurrent in \nRun modeExternal clock(3)\n3. External clock is 8 MHz and PLL is on when fHCLK  > 8 MHz.72 MHz 36 27\nmA48 MHz 24.2 18.6\n36 MHz 19.0 14.824 MHz 12.9 10.1\n16 MHz 9.3 7.4\n8 MHz 5.5 4.64 MHz 3.3 2.8\n2 MHz 2.2 1.9\n1 MHz 1.6 1.45\n500 kHz 1.3 1.25\n125 kHz 1.08 1.06\nRunning on high \nspeed internal RC (HSI), AHB \nprescaler used to \nreduce the frequency64 MHz 31.4 23.9\nmA48 MHz 23.5 17.9\n36 MHz 18.3 14.124 MHz 12.2 9.5\n16 MHz 8.5 6.8\n8 MHz 4.9 4.04 MHz 2.7 2.2\n2 MHz 1.6 1.4\n1 MHz 1.02 0.9\n500 kHz 0.73 0.67\n125 kHz 0.5 0.48\nElectrical characteristics STM32F103x8, STM32F103xB\n48/116 DS5319 Rev 18          Table 18. Typical current consumption in Sleep mode, code running\nfrom Flash or RAM \nSymbol Parameter Conditions fHCLKTyp(1)\n1. Typical values are measures at TA = 25 °C, VDD = 3.3 V.UnitAll peripherals \nenabled(2)\n2. Add an additional power consumption of 0.8 mA per ADC for the analog part. In applications, this \nconsumption occurs only while the ADC is on (ADON bit is set in the ADC_CR2 register).All peripherals \ndisabled\nIDDSupply \ncurrent in \nSleep modeExternal clock(3)\n3. External clock is 8 MHz and PLL is on when fHCLK  > 8 MHz.72 MHz 14.4 5.5\nmA48 MHz 9.9 3.9\n36 MHz 7.6 3.1\n24 MHz 5.3 2.316 MHz 3.8 1.8\n8 MHz 2.1 1.2\n4 MHz 1.6 1.12 MHz 1.3 1.0\n1 MHz 1.11 0.98\n500 kHz 1.04 0.96\n125 kHz 0.98 0.95\nRunning on high \nspeed internal RC \n(HSI), AHB prescaler \nused to reduce the frequency64 MHz 12.3 4.4\n48 MHz 9.3 3.3\n36 MHz 7 2.5\n24 MHz 4.8 1.816 MHz 3.2 1.2\n8 MHz 1.6 0.6\n4 MHz 1.0 0.52 MHz 0.72 0.47\n1 MHz 0.56 0.44\n500 kHz 0.49 0.42125 kHz 0.43 0.41\nDS5319 Rev 18 49/116STM32F103x8, STM32F103xB Electrical characteristics\n115On-chip peripheral current consumption\nThe current consumption of the on-chip peripherals is given in Table  19. The MCU is put \nunder the following conditions:\n\uf0b7 all I/O pins are in input mode with a static value at VDD or VSS (no load)\n\uf0b7 all peripherals are disabled unless otherwise mentioned\n\uf0b7 the given value is calculated by measuring the current consumption\n– with all peripherals clocked off– with only one peripheral clocked on\n\uf0b7 ambient operating temperature and V\nDD supply voltage conditions summarized in \nTable 6\n          Table 19. Peripheral current consumption  \nPeripherals µA/MHz\nAHB (up to 72 MHz)DMA1 16.53\nBusMatrix(1)8.33\nAPB1 (up to 36 MHz)APB1-Bridge 10.28\nTIM2 32.50\nTIM3 31.39TIM4 31.94\nSPI2 4.17\nUSART2 12.22USART3 12.22\nI2C1 10.00\nI2C2 10.00\nUSB 17.78\nCAN1 18.06\nWWDG 2.50\nPWR 1.67\nBKP 2.50\nIWDG 11.67\nElectrical characteristics STM32F103x8, STM32F103xB\n50/116 DS5319 Rev 185.3.6 External clock source characteristics\nHigh-speed external user clock generated from an external source\nThe characteristics given in Table  20 result from tests performed using a high-speed \nexternal clock source, and under ambient temperature and supply voltage conditions \nsummarized in Table  9.\n          APB2 (up to 72 MHz)APB2-Bridge 3.75\nGPIOA 6.67\nGPIOB 6.53\nGPIOC 6.53GPIOD 6.53\nGPIOE 6.39\nSPI1 4.72\nUSART1 11.94\nTIM1 23.33\nADC1\n(2)17.50\nADC2(2)16.07\n1. The BusMatrix is automatically ac tive when at least one master peripheral is ON (CPU or DMA).\n2. Specific conditions for measur ing ADC current consumption: fHCLK  = 56 MHz, fAPB1 = fHCLK  / 2, \uf020\nfAPB2 = fHCLK , fADCCLK  = fAPB2 / 4, When ADON bit in the ADCx_CR2 register is set to 1, a current \nconsumption of analog part equal to 0.65 mA must be added for each ADC.Table 19. Peripheral current consumption  (continued)\nPeripherals µA/MHz\nTable 20. High-speed external user clock characteristics \nSymbol Parameter Conditions Min Typ Max Unit\nfHSE_ext User external clock source frequency(1)\n-18 2 5 M H z\nVHSEH OSC_IN input pin high level voltage 0.7VDD -VDDV\nVHSEL OSC_IN input pin low level voltage VSS -0 . 3 VDD\ntw(HSE)\ntw(HSE)OSC_IN high or low time(1)\n1. Specified by design, not tested in production.5--\nns\ntr(HSE)\ntf(HSE)OSC_IN rise or fall time(1)-- 2 0\nCin(HSE) OSC_IN input capacitance(1)-- 5 - p F\nDuCy(HSE) Duty cycle - 45 - 55 %\nIL OSC_IN Input leakage current VSS \uf0a3\uf020VIN \uf0a3\uf020VDD -- ± 1 µ A\nDS5319 Rev 18 51/116STM32F103x8, STM32F103xB Electrical characteristics\n115Low-speed external user clock generated from an external source\nThe characteristics given in Table  21 result from tests performed using an low-speed \nexternal clock source, and under ambient temperature and supply voltage conditions \nsummarized in Table  9.\n          \nFigure 22. High-speed external clock source AC timing diagramTable 21. Low-speed external user clock characteristics \nSymbol Parameter Conditions Min Typ Max Unit\nfLSE_extUser external clock source \nfrequency(1)\n-32.768 1000 kHz\nVLSEH OSC32_IN input pin high level voltage 0.7VDD -VDDV\nVLSEL OSC32_IN input pin low level voltage VSS -0 . 3 VDD\ntw(LSE)\ntw(LSE)OSC32_IN high or low time(1)450 - -\nns\ntr(LSE)\ntf(LSE)OSC32_IN rise or fall time(1)-- 5 0\nCin(LSE) OSC32_IN input capacitance(1)-- 5 - p F\nDuCy(LSE) Duty cycle - 30 - 70 %\nIL OSC32_IN Input leakage current VSS \uf0a3 VIN \uf0a3 VDD -- ± 1 µ A\n1. Specified by design, not tested in production.\nai14143OSC _I NEXTERNAL\nSTM32F103xxCLOCK SOURC EVHSEH\ntf(HSE)tW(HSE)\nIL90%\n10%\nTHSEttr(HSE)tW(HSE)\nfHSE_extVHSEL\nElectrical characteristics STM32F103x8, STM32F103xB\n52/116 DS5319 Rev 18Figure 23. Low-speed external cl ock source AC timing diagram\nHigh-speed external clock generated from a crystal/ceramic resonator\nThe high-speed external (HSE) clock can be  supplied with a 4 to 16 MHz crystal/ceramic \nresonator oscillator. All th e information given in this  paragraph are based on \ncharacterization re sults obtained with typical external components specified in Table  22. In \nthe application, the resonator and the load capacitors have to be placed as close as \npossible to the oscillator pins in order to minimize output distortion an d startup stabilization \ntime. Refer to the crystal re sonator manufacturer for more  details on the resonator \ncharacteristics (frequenc y, package, accuracy).\n          ai14144bOSC32_INEXTERNAL\nSTM32F103xxCLOCK SOURC EVLSEH\ntf(LSE)tW(LSE)\nIL90%\n10%\nTLSEttr(LSE)tW(LSE)\nfLSE_extVLSEL\nTable 22. HSE 4-16 MHz oscillator characteristics(1) (2) \nSymbol Parameter Conditions Min Typ Max Unit\nfOSC_IN Oscillator frequency - 4 8 16 MHz\nRF Feedback resistor - - 200 - k Ω \nCRecommended load capacitance \nversus equivalent serial \nresistance of the crystal (RS)(3)RS = 30\uf020Ω -3 0-p F\ni2 HSE driving currentVDD = 3.3 V, VIN = VSS \nwith 30 pF load--1 m A\ngm Oscillator transconductance Startup 25 - - mA/V\ntSU(HSE(4)Startup time  VDD is stabilized - 2 - ms\n1. Resonator characteristics given by the crystal/ceramic resonator manufacturer.\n2. Evaluated by characterization, not test ed in production, unless otherwise specified.\n3. The relatively low value of the RF resistor offers a good protection against issues  resulting from use in a \nhumid environment, due to the induced leakage and t he bias condition change. However, it is \nrecommended to take this point into account if  the MCU is used in tough humidity conditions.\n4. tSU(HSE)  is the startu.p time measured from the moment  it is enabled (by software) to a stabilized 8 MHz \noscillation is reached. This value is  measured for a standard crystal res onator and it can vary significantly \nwith the crystal manufacturer\nDS5319 Rev 18 53/116STM32F103x8, STM32F103xB Electrical characteristics\n115For CL1 and CL2, it is recommended to use high-qualit y external ceramic capacitors in the \n5 pF to 25  pF range (typ.), designed for high-freque ncy applications, and selected to match \nthe requirements of the crystal or resonator (see Figure  24). CL1 and CL2 are usually the \nsame size. The crystal manufac turer typically specifies a lo ad capacitance which is the \nseries combination of CL1 and CL2. PCB and MCU pin capacitance must be included (10  pF \ncan be used as a rough estimate of the comb ined pin and board capacitance) when sizing \nCL1 and CL2. Refer to AN2867 “ Oscillator design guide for ST microcontrollers ”, available \nfrom the ST website www.st.com .\nFigure 24. Typical application with an 8 MHz crystal\n1. REXT value depends on the cr ystal characteristics.\nLow-speed external clock generated from a crystal/ceramic resonator\nThe low-speed external (LSE) clock can be supplied with a 32.768 kHz crystal/ceramic \nresonator oscillator. All th e information given in this  paragraph are based on \ncharacterization re sults obtained with typical external components specified in Table  23. In \nthe application, the resonator and the load capacitors have to be placed as close as \npossible to the oscillator pins in order to minimize output distortion an d startup stabilization \ntime. Refer to the crystal re sonator manufacturer for more  details on the resonator \ncharacteristics (frequenc y, package, accuracy).\n          ai14145OSC_OUTOSC_IN fHSECL1\nRF\nSTM32F103xx8 MHz\nresonator\nREXT(1) CL2Resonator with\nintegrated capacitors\nBias \ncontrolled\ngain\nTable 23. LSE oscillator characteristics (fLSE = 32.768 kHz)(1) (2) \nSymbol Parameter Conditions Min Typ Max Unit\nRF Feedback resistor - - 5 - M Ω\nCRecommended load capacitance versus \nequivalent serial resistance of the crystal (RS)RS = 30 KΩ - - 15 pF\nI2 LSE driving current VDD = 3.3 V, VIN = VSS -- 1 . 4 µ A\ngm Oscillator transconductance - 5 - - µA/V\ntSU(LSE)(3)Startup time  VDD is \nstabilizedTA = 50 °C - 1.5 -\nsTA = 25 °C - 2.5 -\nTA = 10 °C - 4 -\nTA = 0 °C - 6 -\nTA = -10 °C - 10 -\nTA = -20 °C - 17 -\nTA = -30 °C - 32 -\nTA = -40 °C - 60 -\nElectrical characteristics STM32F103x8, STM32F103xB\n54/116 DS5319 Rev 18Note: For CL1 and CL2 it is recommended to use high-quality ceramic capacitors in the 5 to 15  pF \nrange selected to match the requirements of the crystal or resonator. CL1 and CL2, are \nusually the same size. The crystal manufacturer typically specifies a load capacitance, which is the series combination of C\nL1 and CL2.\uf020\nLoad capacitance CL has the following formula: CL = CL1 x CL2 / (CL1 + CL2) + Cstray, where \nCstray is the pin capacitance and board or trace PCB-related capacitance. Typically, it is \nbetween 2 and 7 pF.\nCaution: To avoid exceeding the maximum value of CL1 and CL2 (15 pF) it is strongly recommended \nto use a resonator with a load capacitance CL\uf020\uf0a3  7 pF. Never use a resonator with a load \ncapacitance of 12.5 pF. \uf020\nExample:  when choosing a resonator with a load capacitance of CL = 6 pF and \uf020\nCstray = 2 pF, then CL1 = CL2 = 8 pF.\nFigure 25. Typical application with a 32.768 kHz crystal\n5.3.7 Internal clock source characteristics\nThe parameters given in Table  24 are derived from tests performed under ambient \ntemperature and VDD supply voltage conditions summarized in Table  9.\nHigh-speed internal (HSI) RC oscillator\n          1. Evaluated by characterization, not tested  in production, unless otherwise specified.\n2. Refer to the note and caution paragraphs below the table, and to AN2867 “ Oscillator design guide for ST microcontrollers ”.\n3.  tSU(LSE)  is the startup time measured from the moment it is enab led (by software) to a stabili zed 32.768 kHz oscillation is \nreached. This value is measured for a standard crystal and it  can vary significantly with the crystal manufacturer\nai14146OSC32_OUTOSC32_IN fLSECL1\nRF\nSTM32F103xx32.768 kHz\nresonator\nCL2Resonator with\nintegrated capacitors\nBias \ncontrolled\ngain\nTable 24. HSI oscillator characteristics(1) \nSymbol Parameter Conditions Min Typ Max Unit\nfHSI Frequency - - 8 - MHz\nDuCy(HSI) Duty cycle - 45 - 55\n%\nACCHSIAccuracy of the HSI \noscillatorUser-trimmed with the RCC_CR \nregister(2) -- 1(3)\nFactory-\ncalibrated \uf020\n(4)(5)TA = –40 to 105 °C –2 - 2.5\nTA = –10 to 85 °C –1.5 - 2.2\nTA = 0 to 70 °C –1.3 - 2\nTA = 25 °C –1.1 - 1.8\nDS5319 Rev 18 55/116STM32F103x8, STM32F103xB Electrical characteristics\n115Low-speed internal (LSI) RC oscillator\n          \nWakeup time from low-power mode\nThe wakeup times given in Table  26 is measured on a wakeup phase with an 8-MHz HSI \nRC oscillator. The clock source used to wake  up the device depends from the current \noperating mode:\n\uf0b7 Stop or Standby mode:  the clock source is the RC oscillator\n\uf0b7 Sleep mode: the clock source is the clock that was set before entering Sleep mode.\nAll timings are derived from tests performed under ambient temperature and VDD supply \nvoltage conditions summarized in Table  9.tsu(HSI)(4) HSI oscillator startup \ntime-1 - 2 µ s\nIDD(HSI)(4)HSI oscillator power \nconsumption- - 80 100 µA\n1. VDD = 3.3 V, TA = –40 to 105 °C unless otherwise specified.\n2. Refer to AN2868 “ STM32F10xxx internal RC oscillator (HSI) calibration ” available from www.st.com .\n3. Specified by design, not tested in production.\n4. Evaluated by characterization, not test ed in production, unless otherwise specified.\n5. The actual frequency of HSI oscillator  may be impacted by a reflow, but does not drift out of the specified \nrange.\nTable 25. LSI oscillator characteristics (1)\n1. VDD = 3 V, TA = –40 to 105 °C unless otherwise specified.Symbol Parameter Min Typ Max Unit\nfLSI(2)\n2. Evaluated by characterization, not test ed in production, unless otherwise specified.Frequency 30 40 60 kHz\ntsu(LSI)(3)\n3. Specified by design, not tested in production.LSI oscillator startup time - - 85 µs\nIDD(LSI)(3)LSI oscillator power consumption - 0.65 1.2 µATable 24. HSI oscillator characteristics(1) (continued)\nSymbol Parameter Conditions Min Typ Max Unit\nElectrical characteristics STM32F103x8, STM32F103xB\n56/116 DS5319 Rev 18          \n5.3.8 PLL characteristics\nThe parameters given in Table  27 are derived from tests performed under ambient \ntemperature and VDD supply voltage conditions summarized in Table  9.\n          \n5.3.9 Memory characteristics\nFlash memory\nThe characteristics are given at TA = –40 to 105 °C  unless otherwise specified.\n          Table 26. Low-power mode wakeup timings \nSymbol Parameter Typ Unit\ntWUSLEEP(1)\n1. The wakeup times are measured from the wakeup even t to the point in which the user application code \nreads the first instruction.Wakeup from Sleep mode 1.8\nµs tWUSTOP(1)Wakeup from Stop mode (regulator in run mode) 3.6\nWakeup from Stop mode (regulator in low-power mode) 5.4\ntWUSTDBY(1)Wakeup from Standby mode 50\nTable 27. PLL characteristics \nSymbol ParameterValue\nUnit\nMin(1)\n1. Evaluated by characterization, not test ed in production, unless otherwise specified.Typ Max(1)\nfPLL_INPLL input clock(2)\n2. Take care of using the appropriate multiplier factors so as to have PLL input cloc k values compatible with \nthe range defined by fPLL_OUT .18 . 0 2 5 M H z\nPLL input clock duty cycle 40 - 60 %\nfPLL_OUT PLL multiplier output clock 16 - 72 MHz\ntLOCK PLL lock time - - 200 µs\nJitter Cycle-to-cycle jitter - - 300 ps\nTable 28. Flash memory characteristics \nSymbol Parameter  Conditions Min(1)Typ Max(1)Unit\ntprog 16-bit programming time TA\uf020\uf03d\uf020–40 to +105 °C 40 52.5 70 µs\ntERASE Page (1 KB) erase time TA \uf03d\uf020–40 to +105 °C 20 - 40\nms\ntME Mass erase time TA \uf03d\uf020–40 to +105 °C 20 - 40\nDS5319 Rev 18 57/116STM32F103x8, STM32F103xB Electrical characteristics\n115          \n5.3.10 EMC characteristics\nSusceptibility tests ar e performed on a sample basis during device characterization.\nFunctional EMS (electromagnetic susceptibility)\nWhile a simple application is executed on t he device (toggling 2 LEDs through I/O ports). \nthe device is stressed by two electromagnetic events until a failure occurs. The failure is indicated by the LEDs:\n\uf0b7 Electrostatic discharge (ESD) (positive and negative) is applied to all device pins until \na functional disturbance occurs. This test is compliant with the IEC 61000-4-2 standard.\n\uf0b7 FTB: A Burst of Fast Transient voltage (positive and negative) is applied to VDD and \nVSS through a 100 pF capacitor, until a func tional disturbance occurs. This test is \ncompliant with the IEC 61000-4-4 standard.\nA device reset allows normal operations to be resumed.\nThe test results are given in Table  30. They are based on the EMS levels and classes \ndefined in application note AN1709, available on www.st.com .IDD Supply current Read mode \uf020\nfHCLK  = 72 MHz with two wait \nstates, VDD = 3.3 V-- 2 0\nmA\nWrite / Erase modes \uf020\nfHCLK  = 72 MHz, VDD = 3.3 V--5\nPower-down mode / Halt, \uf020\nVDD = 3.0 to 3.6 V-- 5 0 µ A\nVprog Programming voltage - 2 - 3.6 V\n1. Specified by design, not tested in production.\nTable 29. Flash memory endurance and data retention \nSymbol Parameter  ConditionsValue\nUnit\nMin(1)\n1. Evaluated by characterization, not test ed in production, unless otherwise specified.Typ Max\nNEND EnduranceTA = –40 to +85 °C (6 suffix versions)\nTA = –40 to +105 °C (7 suffix versions)10 - - kcycles\ntRET Data retention1 kcycle(2) at TA = 85 °C\n2. Cycling performed over the whole temperature range.30 - -\nYears 1 kcycle(2) at TA = 105 °C 10 - -\n10 kcycles(2) at TA = 55 °C 20 - -Table 28. Flash memory characteristics (continued)\nSymbol Parameter  Conditions Min(1)Typ Max(1)Unit\nElectrical characteristics STM32F103x8, STM32F103xB\n58/116 DS5319 Rev 18          \nDesigning hardened software to avoid noise problems\nEMC characterization and optimization are per formed at component level with a typical \napplication environment and simplified MCU so ftware. It should be noted that good EMC \nperformance is highly dependent on the user application and the software in particular.\nTherefore it is recommended that the us er applies EMC software optimization and \nprequalification tests in re lation with the EMC level requ ested for his application.\nSoftware recommendations\nThe software flow must include the mana gement of runaway conditions such as:\n\uf0b7 Corrupted program counter\n\uf0b7 Unexpected reset\n\uf0b7 Critical data corruption (control registers...)\nPrequalification trials\nMost of the common failures (unexpected reset and program counter corruption) can be \nreproduced by manually forc ing a low state on the NRST pin or the Oscillator pins for 1 \nsecond.\nTo complete these trials, ESD stress can be applie d directly on the device, over the range of \nspecification values. When une xpected behavior is detected, the software can be hardened \nto prevent unrecoverable errors occurring (see application note AN1015, available on www.st.com ).\nElectromagnetic Interference (EMI)\nThe electromagnetic field emitted by the device are monitored while a simple application is \nexecuted (toggling 2 LEDs through the I/O ports). This emission test is compliant with IEC\n 61967-2 standard which specifies the test board and the pin loading.\n          Table 30. EMS characteristics \nSymbol Parameter Conditions Level/Class\nVFESDVoltage limits to be applied on any I/O pin \nto induce a functional disturbanceVDD \uf03d\uf0203.3 V, TA \uf03d\uf020+25 °C, \uf020\nfHCLK\uf020\uf03d 72 MHz\uf020\nconforms to IEC 61000-4-22B\nVEFTBFast transient voltage  burst limits to be \napplied through 100 pF on VDD and VSS \npins to induce a functional disturbanceVDD\uf020\uf03d\uf0203.3 V, TA \uf03d\uf020+25 °C, \uf020\nfHCLK \uf03d\uf02072 MHz\uf020\nconforms to IEC 61000-4-44A\nTable 31. EMI characteristics \nSymbol Parameter ConditionsMonitored\nfrequency bandMax vs. [fHSE/fHCLK ]\nUnit\n8/48 MHz 8/72 MHz\nSEMI Peak levelVDD \uf03d\uf0203.3 V, TA \uf03d\uf02025 °C,\uf020\nLQFP100 package \uf020\ncompliant with \nIEC 61967-20.1 to 30 MHz 12 12\ndBµV 30 to 130 MHz 22 19\n130 MHz to 1GHz 23 29\nSAE EMI Level 4 4 -\nDS5319 Rev 18 59/116STM32F103x8, STM32F103xB Electrical characteristics\n1155.3.11 Absolute maximum ratings (electrical sensitivity)\nBased on three different tests (ESD, LU) using specific measurement me thods, the device is \nstressed in order to determine its performance in terms of electrical sensitivity.\nElectrostatic discharge (ESD)\nElectrostatic discharges (a positive then a n egative pulse separated by 1 second) are \napplied to the pins of each sample according to each pin combinati on. The sample size \ndepends on the number of supply pins in the device  (3 parts × (n + 1) supply pins). This test \nconforms to the JESD22-A114/C101 standard.\n           \nStatic latch-up\nTwo complementary static tests are required  on six parts to assess the latch-up \nperformance:\n\uf0b7 A supply overvoltage is applied to each power supply pin\n\uf0b7 A current injection is applied to each input, output and configurable I/O pin\nThese tests are compliant with EI A/JESD 78A IC latch-up standard.\n          Table 32. ESD absolute maximum ratings \nSymbol Ratings Conditions Class Maximum value(1)Unit\nVESD(HBM)Electrostatic discharge \nvoltage (human body model)TA \uf03d\uf020+25 °C\uf020\nconforming to \nJESD22-A11422 0 0 0\nV\nVESD(CDM)Electrostatic discharge \nvoltage (charge device \nmodel)TA \uf03d\uf020+25 °C\uf020\nconforming to \nANSI/ESD STM5.3.1II 500\n1. Guaranteed based on test during characterization\nTable 33. Electrical sensitivities \nSymbol Parameter Conditions Class\nLU Static latch-up class TA \uf03d\uf020+105 °C conforming to JESD78A II level A\nElectrical characteristics STM32F103x8, STM32F103xB\n60/116 DS5319 Rev 185.3.12 I/O current in jection characteristics\nAs a general rule, current injection to the I/O pins, due to external voltage below VSS or \nabove VDD (for standard, 3 V-capable I/O pins) should be avoided during normal product \noperation. However, in order to give an indica tion of the robustness of the microcontroller in \ncases when abnormal injection a ccidentally happens, susceptibilit y tests are performed on a \nsample basis during device characterization.\nFunctional susceptibilty to I/O current injection \nWhile a simple application is executed on the de vice,  the device is stressed by injecting \ncurrent into the I/O pins  programmed in floating input mode . While current is  injected into \nthe I/O pin, one at a time, the device is checked for functional failures. \nThe failure is indicated by an out of rang e parameter: ADC error above a certain limit \n(>5 LSB TUE), out of spec current injection on adja cent pins or other functional failure (for \nexample reset, oscillator frequency deviation).\nThe test results are given in Table  34\n          Table 34. I/O current injection susceptibility \nSymbol DescriptionFunctional susceptibility\nUnit\nNegative injection Positive injection\nIINJInjected curren t on OSC_IN32, \nOSC_OUT32, PA4, PA5, PC13-0 +0\nmAInjected current on all FT pins -5 +0\nInjected current on any other pin -5 +5\nDS5319 Rev 18 61/116STM32F103x8, STM32F103xB Electrical characteristics\n1155.3.13 I/O port characteristics\nGeneral input/output characteristics\nUnless otherwise specified,  the parameters given in Table  35 are derived from tests \nperformed under the conditions summarized in Table  9. All I/Os are CMOS and TTL \ncompliant.\n          Table 35. I/O static characteristics \nSymbol Parameter Conditions Min Typ Max Unit\nVILLow level \uf020\ninput voltageStandard IO \ninput low level voltage- - 0.28*(V\nDD-2 V)+0.8 V(1)\nVIO FT(3) input \nlow level voltage- - 0.32*(VDD-2V)+0.75 V(1)\nAll I/Os except \nBOOT0- - 0.35 VDD(2)\nVIHHigh level \uf020\ninput voltageStandard IO \ninput high level \nvoltage0.41*(VDD-2 V)+1.3 V(1)--\nIO FT(3) input \nhigh level \nvoltage0.42*(VDD-2 V)+1 V(1)--\nAll I/Os except \nBOOT00.65 VDD(2)--\nVhysStandard IO \uf020\nSchmitt trigger \nvoltage hysteresis(4)- 200 - -\nmV\nIO FT Schmitt trigger \nvoltage hysteresis(4) -5 %  VDD(5)--\nIlkgInput leakage \uf020\ncurrent (6)VSS \uf0a3\uf020\uf020VIN \uf0a3\uf020\uf020VDD\nStandard I/Os-- \uf0b11\nµA\nVIN = 5 V\nI/O FT--3\nRPUWeak pull-up \nequivalent resistor(7) VIN \uf03d\uf020VSS 30 40 50\nkΩ\nRPDWeak pull-down \nequivalent resistor(7) VIN \uf03d\uf020VDD 30 40 50\nCIO I/O pin capacitance - 5 - pF\n1. Data based on design simulation.\n2. Tested in production.\n3. FT = 5 V tolerant. To sustain a voltage higher than VDD + 0.3 V the internal pull-up/pull -down resistors must be disabled.\n4. Hysteresis voltage between Schmitt trigger  switching levels. Evaluated by characte rization, not tested in production, unless \notherwise specified.\n5. With a minimum of 100 mV.\n6. Leakage can be higher than Max if negative current is injected on adjacent pins.\nElectrical characteristics STM32F103x8, STM32F103xB\n62/116 DS5319 Rev 18All I/Os are CMOS and TTL compliant (no software configuration required). Their \ncharacteristics cover more than the strict CMOS-technology or TTL parameters. The coverage of these requirements is shown in \nFigure  26 and Figure  27 for standard I/Os, and \nin Figure  28 and Figure  29 for 5  V tolerant I/Os. \nFigure 26. Standard I/O input characteristics - CMOS port\nFigure 27. Standard I/O input characteristics - TTL port7. Pull-up and pull-down resistor s are designed with a true resistance in seri es with a switchable PMOS/NMOS. This \nPMOS/NMOS contribution to the series resistance is minimum (~10%).\nai17277cVDD (V)1.3\n0.8\n2 3.6 2.7 30.7CMOS standard requirement VIH=0.65V DD \n3.3VIH/VIL (V)\n1.251.961.711.71\n1.59\n1 1.081.08\nVILmaxVIHminTested in production V DD-2)+0.8=0.28(VIL\nCMOS standard requirement VIL=0.35V DDVIH=0.41(V DD-2)+1.3\nTested in productionBased on design simulationsBased on design simulationsArea not \ndetermined\nai17278b2 3.6VIH/VIL (V)\n1.32.0\n0.8\n2.16TTL requirements VIH=2V\nVIH=0.41(V DD-2)+1.3\nVIL=0.28(V DD-2)+0.8\nTTL requirements VIL=0.8V1.96\n1.25\nVDD (V)VILmaxVIHmin\nBased on design simulations\nBased on design simulationsArea not \ndetermined\nDS5319 Rev 18 63/116STM32F103x8, STM32F103xB Electrical characteristics\n115Figure 28. 5 V tolerant I/O inpu t characteristics - CMOS port\nFigure 29. 5 V tolerant I/O input characteristics - TTL portVDD1.3\n2 3.6CMOS standard requirements VIH=0.65V DD\n \nCMOS standard requirment VIL=0.35V DD1.67\n1\n2.70.7\n33 . 31\n0.751.295\n0.9751.42\n1.071.55\n1.16VIH/VIL (V)\nVDD (V)\nai17279cVIH=0.42(V DD-2)+1\nVIL=0.32(V DD-2)+0.75Based on design simulations\nBased on design simulationsTested in production\nTested in productionArea not \ndetermined\n2.0\n0.8\n2 3.6 2.161.67\n1\n0.75TTL requirement  VIH=2V\nTTL requirements VIL=0.8V VIH/VIL (V)\nVDD (V)VILmaxVIHmin\nai17280bVIH=0.42*(V DD-2)+1\nVIL=0.32*(V DD-2)+0.75Based on design simulations\nBased on design simulationsArea not \ndetermined\nElectrical characteristics STM32F103x8, STM32F103xB\n64/116 DS5319 Rev 18Output driving current\nThe GPIOs (general-purpose inputs/outputs) can sink or source up to ±8  mA, and sink or \nsource up to ±20  mA (with a relaxed VOL/VOH) except PC13, PC14 and PC15, which can \nsink or source up to ±3 mA. When using th e GPIOs PC13 to PC15 in output mode, the \nspeed should not exceed 2 MHz with a maximum load of 30 pF.\nIn the user application, the number of I/O pi ns which can drive curr ent must be limited to \nrespect the absolute maximum rating specified in Section  5.2:\n\uf0b7 The sum of the currents sourced by all the I/Os on VDD, plus the maximum Run \nconsumption of the MCU sourced on VDD, cannot exceed the absolute maximum rating \nIVDD (see Table 7 ). \n\uf0b7 The sum of the currents sunk by all the I/Os on VSS plus the maximum Run \nconsumption of the MCU sunk on VSS cannot exceed the absolute maximum rating \nIVSS (see Table 7 ). \nOutput voltage levels\nUnless otherwise specified,  the parameters given in Table  36 are derived from tests \nperformed under ambient temperature and VDD supply voltage conditions summarized in \nTable  9. All I/Os are CMOS and TTL compliant.\n          Table 36. Output voltage characteristics  \nSymbol Parameter Conditions Min Max Unit\nVOL(1) Output low level voltage for an I/O pin \nwhen 8 pins are sunk at same timeCMOS port(2),\nIIO = +8 mA\n2.7 V < VDD < 3.6 V-0 . 4\nVVOH(3) Output high level voltage for an I/O pin \nwhen 8 pins are sourced at same timeVDD–0.4 -\nVOL (1) Output low level voltage for an I/O pin \nwhen 8 pins are sunk at same timeTTL port(2)\nIIO =+ 8mA\n2.7 V < VDD < 3.6 V-0 . 4\nVOH (3) Output high level voltage for an I/O pin \nwhen 8 pins are sourced at same time2.4 -\nVOL(1)(4) Output low level voltage for an I/O pin \nwhen 8 pins are sunk at same time IIO = +20 mA\n2.7 V < VDD < 3.6 V-1 . 3\nVOH(3)(4) Output high level voltage for an I/O pin \nwhen 8 pins are sourced at same timeVDD–1.3 -\nVOL(1)(4) Output low level voltage for an I/O pin \nwhen 8 pins are sunk at same time IIO = +6 mA\n2 V < VDD < 2.7 V-0 . 4\nVOH(3)(4) Output high level voltage for an I/O pin \nwhen 8 pins are sourced at same timeVDD–0.4 -\n1. The IIO current sunk by the device must always re spect the absolute maximu m rating specified in Table 7  \nand the sum of IIO (I/O ports and control pins) must not exceed IVSS.\n2. TTL and CMOS outputs are compatible with JEDEC standards JESD36 and JESD52.\n3. The IIO current sourced by the device must always re spect the absolute maximum rating specified in \nTable 7  and the sum of IIO (I/O ports and control pins) must not exceed IVDD.\n4. Evaluated by characterization, not test ed in production, unless otherwise specified.\nDS5319 Rev 18 65/116STM32F103x8, STM32F103xB Electrical characteristics\n115Input/output AC characteristics\nThe definition and values of input/output AC characteristics are given in Figure  30 and \nTable  37, respectively.\nUnless otherwise specified,  the parameters given in Table  37 are derived from tests \nperformed under the ambient temperature and VDD supply voltage conditions summarized \nin Table  9.\n          Table 37. I/O AC characteristics(1)  \n1. The I/O speed is configured using the MODEx[1:0] bi ts. Refer to the STM32F10xxx reference manual for a \ndescription of GPIO port configuration register.MODEx[1:0] \nbit value(1) Symbol Parameter Conditions Min Max Unit\n10fmax(IO)out Maximum frequency(2)\n2. The maximum frequency is defined in Figure 30 .CL = 50 pF, VDD = 2 V to 3.6 V - 2 MHz\ntf(IO)outOutput high to low \nlevel fall time\nCL = 50 pF, VDD = 2 V to 3.6 V-1 2 5(3)\n3. Specified by design, not tested in production.ns\ntr(IO)outOutput low to high \nlevel rise time-1 2 5(3)\n01fmax(IO)out Maximum frequency(2)CL = 50 pF, VDD = 2 V to 3.6 V - 10 MHz\ntf(IO)outOutput high to low \nlevel fall time\nCL = 50 pF, VDD = 2 V to 3.6 V-2 5(3)\nns\ntr(IO)outOutput low to high \nlevel rise time-2 5(3)\n11Fmax(IO)out Maximum frequency(2)CL = 30 pF, VDD = 2.7 V to 3.6 V - 50\nMHz CL = 50 pF, VDD = 2.7 V to 3.6 V - 30\nCL = 50 pF, VDD = 2 V to 2.7 V - 20\ntf(IO)outOutput high to low \nlevel fall timeCL = 30 pF, VDD = 2.7 V to 3.6 V - 5(3)\nnsCL = 50 pF, VDD = 2.7 V to 3.6 V - 8(3)\nCL = 50 pF, VDD = 2 V to 2.7 V - 12(3)\ntr(IO)outOutput low to high \nlevel rise timeCL = 30 pF, VDD = 2.7 V to 3.6 V - 5(3)\nCL = 50 pF, VDD = 2.7 V to 3.6 V - 8(3)\nCL = 50 pF, VDD = 2 V to 2.7 V - 12(3)\n-tEXTIpwPulse width of external \nsignals detected by the EXTI controller-1 0 - n s\nElectrical characteristics STM32F103x8, STM32F103xB\n66/116 DS5319 Rev 18Figure 30. I/O AC characteristics definition \n5.3.14 NRST pin characteristics\nThe NRST pin input driver uses CMOS technology. It is connected to a permanent pull-up \nresistor, RPU (see Table  35).\nUnless otherwise specified,  the parameters given in Table  38 are derived from tests \nperformed under the ambient temperature and VDD supply voltage conditions summarized \nin Table  9. \n          ai14131c10%90%\n50%\ntr(IO)out\nOUTPUTEXTERNAL\nON 50pF\nMaximum frequency is achieved if (tr + tf) ≤ 2/3)T and if the duty cycle is (45-55%) \n 10%\n50%\n90%\nwhen loaded by 50pFTtf(IO)out\nTable 38. NRST pin characteristics  \nSymbol Parameter Conditions Min Typ Max Unit\nVIL(NRST)(1)\n1. Specified by design, not tested in production.NRST Input low level voltage - –0.5 - 0.8\nV\nVIH(NRST)(1)NRST Input high level voltage - 2 - VDD+0.5\nVhys(NRST) NRST Schmitt trigger voltage hysteresis - - 200 - mV\nRPU Weak pull-up equivalent resistor(2)\n2. The pull-up is designed with a true resistance in series  with a switchable PMOS. This PMOS contribution to \nthe series resistance must be minimum (~10%).VIN \uf03d\uf020VSS 30 40 50 k Ω\nVF(NRST)(1)NRST Input filtered pulse - - - 100 ns\nVNF(NRST)(1)NRST Input not filtered pulse - 300 - - ns\nDS5319 Rev 18 67/116STM32F103x8, STM32F103xB Electrical characteristics\n115Figure 31. Recommended NRST pin protection  \n2. The reset network protects t he device against par asitic resets.\n3. The user must ensure that the level on the NRST pin can go below the VIL(NRST)  max level specified in \nTable 38 , otherwise the reset is not taken into account by the device.\n5.3.15 TIM time r characteristics\nThe parameters given in Table  39 are specified by design, not tested in production.\nRefer to Section  5.3.12  for details on the inpu t/output alternate func tion characteristics \n(output compare, input capture, external clock, PWM output).\n           ai14132dSTM32RPUNRST(2)VDD\nFilterInternal Reset\n0.1 μFExternal\nreset circuit(1)\nTable 39. TIMx(1) characteristics  \n1. TIMx is used as a general term to refer to the TIM1, TIM2, TIM3 and TIM4 timers.Symbol Parameter Conditions Min Max Unit\ntres(TIM) Timer resolution time-1 - tTIMxCLK\n fTIMxCLK  = 72 MHz 13.9 - ns\nfEXTTimer external clock \nfrequency on CH1 to CH4 -0 fTIMxCLK /2 MHz\nfTIMxCLK  = 72 MHz 03 6 M H z\nResTIM Timer resolution - - 16 bit\ntCOUNTER16-bit counter clock period \nwhen internal clock is \nselected- 1 65536 tTIMxCLK\n fTIMxCLK  = 72 MHz 0.0139 910 µs\ntMAX_COUNT Maximum possible count- - 65536 × 65536 tTIMxCLK\n fTIMxCLK  = 72 MHz -5 9 . 6 s\nElectrical characteristics STM32F103x8, STM32F103xB\n68/116 DS5319 Rev 185.3.16 Communications interfaces\nI2C interface  characteristics\nThe STM32F103xx performance line I2C interface meets the requirements of the standard \nI2C communication protocol with the following re strictions: the I/O pins SDA and SCL are \nmapped to are not “true” open-drain. When co nfigured as open-drain, the PMOS connected \nbetween the I/O pin and VDD is disabled, but is still present.\nThe I2C characteristics are described in Table  40. Refer also to  Section  5.3.12  for more \ndetails on the input/output alternate fu nction characteristics (SDA and SCL) .\n          Table 40. I2C characteristics  \nSymbol ParameterStandard mode I2C(1)(2)Fast mode I2C(1)(2)\nUnit\nMin Max Min Max\ntw(SCLL) SCL clock low time 4.7 - 1.3 -\nµs\ntw(SCLH) SCL clock high time 4.0 - 0.6 \ntsu(SDA) SDA setup time 250 - 100 -\nnsth(SDA) SDA data hold time - 3450(3)-9 0 0(3)\ntr(SDA)\ntr(SCL)SDA and SCL rise time - 1000 - 300\ntf(SDA)\ntf(SCL)SDA and SCL fall time - 300 - 300 \nth(STA) Start condition hold time 4.0 - 0.6 -\nµs\ntsu(STA) Repeated Start condition setup time 4.7 - 0.6 -\ntsu(STO) Stop condition setup time 4.0 - 0.6 - \uf06ds\ntw(STO:STA) Stop to Start condition time (bus free) 4.7 - 1.3 - \uf06ds\nCb Capacitive load for each bus line - 400 - 400 pF\ntSPPulse width of spikes suppressed by \nthe analog filter05 0(4)05 0(4)ns\n1.Specified by design, not tested in production.\n2. fPCLK1  must be at least 2 MHz to achieve standard mode I2C frequencies. It must be at least 4 MHz to achieve fast mode \nI2C frequencies. It must be a multiple of 10 MHz to reach the 400 kHz maximum I2C fast mode clock.\n3.The maximum Data hold time must be met if the interface does not stretch the low period of SCL signal.\n4. The minimum width of the spikes fi ltered by the analog filter is above tSP(max).\nDS5319 Rev 18 69/116STM32F103x8, STM32F103xB Electrical characteristics\n115Figure 32. I2C bus AC waveforms and measurement circuit\n1.Measurement points are done at CMOS levels: 0.3 VDD and 0.7 VDD.\n2. Rs = Series protection resistors, Rp = Pull-up resistors, VDD_I2C  = I2C bus supply.\n          Table 41. SCL frequency (fPCLK1  = 36 MHz, VDD_I2C  = 3.3 V)(1)(2) \n1. RP = External pull-up resistance, fSCL = I2C speed, \n2. For speeds around 200 kHz, the to lerance on the achieved speed is \uf0b15%. For other speed ranges, the \ntolerance on the achieved speed is \uf0b12%. These variations depend upon t he accuracy of the external \ncomponents used to design the application.fSCL (kHz)I2C_CCR value\nRP = 4.7 kΩ\n400 0x801E\n300 0x8028200 0x803C\n100 0x00B4\n50 0x016820 0x0384ai14133gStart\nSD AI²C busVDD_I2CVDD_I2C\nSTM32F10x\nSDA\nSCL\ntf(SDA)tr(SDA)\nSCLth(STA)\ntw(SCLL)tw(SCLH)tsu(SDA)\ntr(SCL)tf(SCL)th(SDA)Start repeated\nStart\ntsu(STA)\ntsu(STO)Stoptsu(STO:STA)Rp Rp\nRs\nRs\nElectrical characteristics STM32F103x8, STM32F103xB\n70/116 DS5319 Rev 18SPI interface characteristics\nUnless otherwise specified,  the parameters given in Table  42 are derived from tests \nperformed under the ambient temperature, fPCLKx frequency and VDD supply voltage \nconditions su mmarized in Table  9.\nRefer to Section  5.3.12  for more details on the input/outpu t alternate function characteristics \n(NSS, SCK, MOSI, MISO).\n          Table 42. SPI characteristics \nSymbol Parameter Conditions Min Max Unit\nfSCK\n1/tc(SCK)SPI clock frequencyMaster mode - 18\nMHz\nSlave mode -  18\ntr(SCK)\ntf(SCK)SPI clock rise and fall time Capa citive load: C = 30 pF -  8 ns\nDuCy(SCK)SPI slave input clock \uf020\nduty cycleSlave mode 30 70 %\ntsu(NSS)(1)\n1. Evaluated by characterization, not test ed in production, unless otherwise specified.NSS setup time Slave mode 4 tPCLK -\nnsth(NSS)(1)NSS hold time Slave mode 2 tPCLK -\ntw(SCKH)(1)\ntw(SCKL)(1)SCK high and low timeMaster mode, fPCLK  = 36 MHz, \npresc = 4 50 60\ntsu(MI) (1)\ntsu(SI)(1) Data input setup timeMaster mode 5 -\nSlave mode 5 -\nth(MI) (1)\nData input hold timeMaster mode 5 -\nth(SI)(1)Slave mode 4 -\nta(SO)(1)(2)\n2. Min time is for the minimum time to drive the output and the max time is for the maximum time to validate \nthe data.Data output access time Slave mode, fPCLK  = 20 MHz  0 3 tPCLK\ntdis(SO)(1)(3)\n3. Min time is for the minimum time to invalidate the output and the max time is for the maximum time to put \nthe data in Hi-Z.Data output disable time Slave mode 2 10\ntv(SO) (1)Data output valid time Slave mode (after enable edge) - 25\ntv(MO)(1)Data output valid time Master mode (after enable edge) - 5\nth(SO)(1)\nData output hold timeSlave mode (after enable edge) 15 -\nth(MO)(1)Master mode (after enable edge) 2 -\nDS5319 Rev 18 71/116STM32F103x8, STM32F103xB Electrical characteristics\n115Figure 33. SPI timing diagram - slave mode and CPHA = 0\nFigure 34. SPI timing diagram - slave mode and CPHA = 1(1)\n1. Measurement points are done at CMOS levels: 0.3 VDD and 0.7 VDD.SCK input\n(SI)\nMSB IN BIT1 IN LSB INBIT6 OUT MSB OUT LSB OUTNSS input\nMOSI\nINPUTMISO\nOUTPUT\n(SI)\nai14135bNSS input\ntSU(NSS) tc(SCK) th(NSS)SCK inputCPHA=1\nCPOL=0\nCPHA=1\nCPOL=1tw(SCKH)\ntw(SCKL)\nta(SO)tv(SO) th(SO)tr(SCK)\ntf(SCK)tdis(SO)\nMISO\nOUTPUT\nMOSI\nINPUTtsu(SI) th(SI)MSB OUT\nMSB INBIT6 OUT LSB OUT\nLSB IN BIT 1 IN\nElectrical characteristics STM32F103x8, STM32F103xB\n72/116 DS5319 Rev 18Figure 35. SPI timing diagram - master mode(1)\n1. Measurement points are done at CMOS levels: 0.3 VDD and 0.7 VDD.\nUSB characteristics\nThe USB interface is USB- IF certified (Full Speed).\n          ai14136cSCK OutputCPHA=0\nMOSI\nOUTPUTMISO\nINPUTCPHA=0\nLSB OUTLSB INCPOL=0\nCPOL=1\nBIT1 OUTNSS input\ntc(SCK)\ntw(SCKH)\ntw(SCKL)tr(SCK)\ntf(SCK)\nth(MI)HighSCK OutputCPHA=1\nCPHA=1CPOL=0\nCPOL=1\ntsu(MI)\ntv(MO) th(MO)MSB IN BIT6 IN\nMSB OUT\nTable 43. USB startup time \nSymbol Parameter  Max  Unit\ntSTARTUP(1)USB transceiver startup time 1 µs\n1. Specified by design, not tested in production.\nDS5319 Rev 18 73/116STM32F103x8, STM32F103xB Electrical characteristics\n115          \nFigure 36. USB timings: definition of data signal rise and fall time\n          \n5.3.17 CAN (controller ar ea network) interface\nRefer to Section  5.3.12  for more details on the input/outpu t alternate function characteristics \n(CAN_TX and CAN_RX).Table 44. USB DC electrical characteristics \nSymbol Parameter Conditions Min.(1)\n1. All the voltages are measured from the local ground potential.Max.(1)Unit\nInput levels\nVDD USB operating voltage(2)\n2. To be compliant with the USB 2.0 full-speed electrical  specification, the USBDP (D+) pin must be pulled up \nwith a 1.5 k Ω resistor to a 3.0 to 3.6 V voltage range.3.0(3)\n3. The STM32F103xx USB functionality is ensured dow n to 2.7 V, but not the full USB electrical \ncharacteristics, which are degraded in the 2.7 to 3.0 V VDD voltage range.3.6 V\nVDI(4)\n4. Specified by design, not tested in production.Differential input sensitivity I(USBDP, USBDM) 0.2 -\nV VCM(4)Differential common mode range Includes VDI range 0.8 2.5\nVSE(4)Single ended receiver threshold 1.3 2.0\nOutput levels\nVOL Static output level low RL of 1.5 kΩ to 3.6 V(5)\n5.RL is the load connected on the USB drivers.-0 . 3\nV\nVOH Static output level high RL of 15 kΩ to VSS(5)2.8 3.6\nTable 45. USB: Full-speed electrical characteristics(1)  \n1. Specified by design, not tested in production.Symbol Parameter Conditions Min Max Unit\nDriver characteristics\ntr Rise time(2)\n2.Measured from 10% to 90% of the data signal. For more detailed informations, refer to USB specification - \nSection 7 (version 2.0).CL = 50 pF 42 0 n s\ntf Fall time(2)CL = 50 pF 4 20 ns\ntrfm Rise/ fall time matching tr/tf 90 110 %\nVCRS Output signal crossover voltage - 1.3 2.0 Vai14137bCross over\npoints\nDifferential\ndata lines\nVCRS\nVSS\ntf tr\nElectrical characteristics STM32F103x8, STM32F103xB\n74/116 DS5319 Rev 185.3.18 12-bit ADC characteristics\nUnless otherwise specified,  the parameters given in Table  46 are derived from tests \nperformed under the ambient temperature, fPCLK2 frequency and VDDA supply voltage \nconditions su mmarized in Table  9.\nNote: It is recommended to perform a calibration after each power-up.\n          Table 46. ADC characteristics \nSymbol Parameter  Conditions Min Typ Max Unit\nVDDA Power supply - 2.4 - 3.6\nV\nVREF+ Positive reference voltage - 2.4 - VDDA\nIVREF Current on the VREF input pin - - 160(1)220(1)µA\nfADC ADC clock frequency - 0.6 - 14\nMHz\nfS(2)Sampling rate - 0.05 - 1\nfTRIG(2)External trigger frequencyfADC = 14 MHz - - 823 kHz\n- - 17 1 / fADC\nVAIN(3)Conversion voltage range0 (VSSA or VREF- \ntied to ground)-VREF+ V\nRAIN(2)External input impedanceSee Equation 1  and \nTable 47  for details-- 5 0\nkΩ\nRADC(2)Sampling switch resistance - - - 1\nCADC(2) Internal sample and hold \ncapacitor-- - 8 p F\ntCAL(2)Calibration timefADC = 14 MHz 5.9 µs\n-8 3 1  /  fADC\ntlat(2) Injection trigger conversion \nlatencyfADC = 14 MHz - - 0.214 µs\n-- - 3(4)1 / fADC\ntlatr(2) Regular trigger conversion \nlatencyfADC = 14 MHz - - 0.143 µs\n-- - 2(4)1 / fADC\ntS(2)Sampling timefADC = 14 MHz 0.107 - 17.1 µs\n- 1.5 - 239.5 1 / fADC\ntSTAB(2)Power-up time - 0 0 1 µs\ntCONV(2) Total conversion time \n(including sampling time)fADC = 14 MHz 1 - 18 µs\n-14 to 252 (tS for sampling +12.5 for \nsuccessive approximation)1 / fADC\n1. Evaluated by characterization, not tested  in production, unless otherwise specified.\n2. Specified by design, not tested in production.3. In devices delivered in VFQFPN and LQFP packages, V\nREF+ is internally connected to VDDA and VREF- is internally \nconnected to VSSA. Devices that come in the TFBGA64 package have a VREF+ pin but no VREF- pin (VREF- is internally \nconnected to VSSA), see Table 5  and Figure 7 .\n4. For external triggers, a delay of 1/fPCLK2  must be added to the latency specified in Table 46 .\nRAINTS\nfADC CADC 2N2+\uf028\uf029ln\uf0b4 \uf0b4------------------------------------------------------------- -RADC– \uf03c\nDS5319 Rev 18 75/116STM32F103x8, STM32F103xB Electrical characteristics\n115Equation 1: RAIN max formula:\nThe formula above ( Equation 1 ) is used to determine the maximum external impedance allowed for an  \nerror below 1/4 of LSB. Here N = 12 (from 12-bit resolution).\n          \n          Table 47. RAIN max for fADC = 14 MHz(1) \n1. Evaluated by characterization, not test ed in production, unless otherwise specified.Ts (cycles) tS (µs) RAIN max (k\uf057)\n1.5 0.11 0.4\n7.5 0.54 5.9\n13.5 0.96 11.4\n28.5 2.04 25.2\n41.5 2.96 37.2\n55.5 3.96 50\n71.5 5.11 NA\n239.5 17.1 NA\nTable 48. ADC accuracy - Limited test conditions(1) (2) \n1. ADC DC accuracy values are measured after internal calibration.\n2. Injecting a negative current on any analog input pins should be avoided as  this significantly reduces the \naccuracy of the conversion being performed on another  analog input. It is recommended to add a Schottky \ndiode (pin to ground) to analog pins that may potentially inject negative currents. \uf020\nAny positive injection current within the limits specified for IINJ(PIN)  and \uf053IINJ(PIN)  in Section 5.3.12  does not \naffect the ADC accuracy.Symbol Parameter Test conditions Typ Max(3)\n3. Evaluated by characterization, not test ed in production, unless otherwise specified.Unit\nET Total unadjusted errorfPCLK2  = 56 MHz, \uf020\nfADC = 14 MHz, RAIN < 10 kΩ, \nVDDA = 3 V to 3.6 V, \uf020\nTA = 25 °C\nMeasurements made after \nADC calibration±1.3 ±2\nLSBEO Offset error ±1.0 ±1.5\nEG Gain error ±0.5 ±1.5\nED Differential linearity error ±0.7 ±1.0\nEL Integral linearity error ±0.8 ±1.5\nElectrical characteristics STM32F103x8, STM32F103xB\n76/116 DS5319 Rev 18          \nFigure 37. ADC accuracy characteristicsTable 49. ADC accuracy(1) (2) (3) \n1. ADC DC accuracy values are measured after internal calibration.\n2. Better performance can be achieved in restricted VDD, frequency and temperature ranges.\n3. Injecting a negative current on any analog input pins should be avoided as  this significantly reduces the \naccuracy of the conversion being performed on another  analog input. It is recommended to add a Schottky \ndiode (pin to ground) to standard analog pins which may potentially inject negative current. \uf020\nAny positive injection current within the limits specified for IINJ(PIN)  and \uf053IINJ(PIN)  in Section 5.3.12  does not \naffect the ADC accuracy.Symbol Parameter Test conditions Typ Max(4)\n4. Evaluated by characterization, not test ed in production, unless otherwise specified.Unit\nET Total unadjusted error\nfPCLK2  = 56 MHz, \uf020\nfADC = 14 MHz, RAIN < 10 kΩ,\nVDDA = 2.4 V to 3.6 V\nMeasurements made after \nADC calibration±2 ±5\nLSBEO Offset error ±1.5 ±2.5\nEG Gain error ±1.5 ±3\nED Differential linearity error ±1 ±2\nEL Integral linearity error ±1.5 ±3\nMSv19880V6(1) Example of an actual transfer curve\n(2) Ideal transfer curve(3) End-point correlation line\nn = ADC resolution\nE\nT = total unadjusted error: maximum deviation    \nbetween the actual and ideal transfer curves\nEO = offset error: maximum deviation between the first \nactual transition and the first ideal one\nEG = gain error: deviation between the last ideal \ntransition and the last actual one\nED = differential linearity error: maximum deviation \nbetween actual steps and the ideal one\nEL = integral linearity error: maximum deviation between \nany actual transition and the end point correlation line2n-1 \n7\n6\n5\n4\n3\n2\n1\n0\n(1/2n)*V REF+Output code\nEO\nVSSA2n-2 \n2n-3 \nVREF+ (VDDA)ET\nEL\nED\n1 LSB idealEG\n(1)(2)\n(3)(or                 )] [1LSB =    VDDA\n2n VREF+\n2n (2/2n)*V REF+\n(3/2n)*V REF+\n(4/2n)*V REF+\n(5/2n)*V REF+\n(6/2n)*V REF+\n(7/2n)*V REF+\n(2n-3/2n)*V REF+\n(2n-2/2n)*V REF+\n(2n-1/2n)*V REF+\n(2n/2n)*V REF+\nDS5319 Rev 18 77/116STM32F103x8, STM32F103xB Electrical characteristics\n115Figure 38. Typical connection diagram using the ADC\n1. Refer to Table 46  for the values of RAIN, RADC and CADC.\n2. Cparasitic  represents the capacitance of the PCB (dependent on soldering and PCB layout quality) plus the \npad capacitance (refer to Table 35  for the value of the pad capacitance). A high Cparasitic  value will \ndowngrade conversion accuracy. To remedy this, fADC should be reduced.\n3. Refer to Table 35  for the values of Ilkg.\n4. Refer to Figure 14 .\nGeneral PCB design guidelines\nPower supply decoupling must be performed as shown in Figure  39 or Figure  40, depending \non whether VREF+ is connected to VDDA or not. The 10 nF capacitors should be ceramic \n(good quality), and placed as close as possible to the chip.\nFigure 39. Power supply and reference decoupling (VREF+ not connected to VDDA)\n1. VREF+ and VREF– inputs are available only on 100-pin packages. MSv67871V3Sample-and-hold ADC converter\nConverter\nCparasitic(2)Ilkg(3) CADCVDDA(4)\nRAIN(1)\nVAINRADCVREF+(4)\nVSSAI/O \nanalog \nswitch\nSampling \nswitch with \nmultiplexing\nVSS VSS\nVREF+\n(see note 1)STM32F103xx\nVDDA\nVSSA/VREF–\n(see note 1)1 μF // 10 nF\n1 μF // 10 nF\nai14388b\nElectrical characteristics STM32F103x8, STM32F103xB\n78/116 DS5319 Rev 18Figure 40. Power supply and reference decoupling  (VREF+ connected to VDDA)\n1. VREF+ and VREF– inputs are available only on 100-pin packages.\n5.3.19 Temperature sensor characteristics\n          VREF+/VDDASTM32F103xx\n1 μF // 10 nF\nVREF–/VSSA\nai14389(See note 1)\n(See note 1)\nTable 50. TS characteristics \nSymbol Parameter Min Typ Max Unit\nTL(1)\n1. Evaluated by characterization, not tested  in production, unles s otherwise specified.VSENSE  linearity with temperature -\uf0b11\uf0b12° C\nAvg_Slope(1)Average slope 4.0 4.3 4.6 mV / °C\nV25(1)Voltage at 25 °C 1.34 1.43 1.52 V\ntSTART(2)\n2. Specified by design, not tested in production.Startup time 4 - 10\nµs\nTS_temp(3)(2)\n3. Shortest sampling time can be determined in  the application by multiple iterations.ADC sampling time when reading the temperature - - 17.1\nDS5319 Rev 18 79/116STM32F103x8, STM32F103xB Package information\n1156 Package information\nIn order to meet environmental requirements, ST offers these devices in different grades of \nECOPACK® packages, depending on their level of environmental compliance. ECOPACK® \nspecifications, grade definitions a nd product status are available at: www.st.com . \nECOPACK® is an ST trademark.\n6.1 VFQFPN36 package information\nThis VFQFPN is a 36-pin, 6x6 mm, 0.5 mm pitch, very thin profile fine pitch quad flat package.\nFigure 41. VFQFPN36 outline\n1. Drawing is not to scale.ZR_ME_V2Seating plane\nddd CC\nA3 A1AA2\nPin # 1 ID\nR = 0.20E2\nb\n19101827\n28\n3619\nD2\nEDe\nLLK\nPackage information STM32F103x8, STM32F103xB\n80/116 DS5319 Rev 18          Table 51. VFQFPN36 mechanical data \nSymbolmillimeters inches(1)\n1. Values in inches are converted fr om mm and rounded to four decimal digits.Min Typ Max Min Typ Max\nA 0.800 0.900 1.000 0.0315 0.0354 0.0394\nA1 - 0.020 0.050 - 0.0008 0.0020A2 - 0.650 1.000 - 0.0256 0.0394\nA3 - 0.250 - - 0.0098 -\nb 0.180 0.230 0.300 0.0071 0.0091 0.0118\nD 5.875 6.000 6.125 0.2313 0.2362 0.2411\nD2 1.750 3.700 4.250 0.0689 0.1457 0.1673\nE 5.875 6.000 6.125 0.2313 0.2362 0.2411\nE2 1.750 3.700 4.250 0.0689 0.1457 0.1673\ne 0.450 0.500 0.550 0.0177 0.0197 0.0217\nL 0.350 0.550 0.750 0.0138 0.0217 0.0295\nK 0.250 - - 0.0098 - -\nddd - - 0.080 - - 0.0031\nDS5319 Rev 18 81/116STM32F103x8, STM32F103xB Package information\n115Figure 42. VFQFPN36 recommended footprint\nZR_FP_V10.30\n6.300.501.00 4.30\n4.30\n4.80\n4.804.10\n4.10\n128\n919\n3627\n18\n10\n0.75\nPackage information STM32F103x8, STM32F103xB\n82/116 DS5319 Rev 18Marking of engineering samples\nFigure  43 gives an example of topside marking orient ation versus pin 1 identifier location. \nThe printed markings may differ depending on the supply chain.\nOther optional marking or inse t/upset marks, which identify the parts throughout supply \nchain operations, are not indicated below.\nFigure 43. VFPFPN36 package top view example\n1. Parts marked as “ES”, “E” or accompanied by an Engineering Sample notification letter, are not yet \nqualified and therefore not yet ready to be used in  production and any consequences  deriving from such \nusage will not be at ST charge. In no event, ST will  be liable for any customer usage of these engineering \nsamples in production. ST Quality has to be cont acted prior to any decisi on to use these Engineering \nsamples to run qualification activity.MSv37531V1\nRevision codeProduct identification(1)\nDate code\nPin 1 \nindentifierF103T8U6\nYWW\nRSTM32\nDS5319 Rev 18 83/116STM32F103x8, STM32F103xB Package information\n1156.2 UFQFPN48 package information\nThis UFQFPN is a 48-lead, 7x7 mm, 0.5 mm pitch,  ultra thin fine pitch quad flat package.\nFigure 44. UFQFPN48 outline\n1. Drawing is not to scale.\n2. There is an exposed die pad on the underside of the QFPN  package, this pad is not internally connected to \nthe VSS or VDD power pads. It is recommended to connect it to VSS.\n3. All leads/pads should also be soldered to th e PCB to improve the lead solder joint life.\n          A0B9_ME_V3DPin 1 identifier\nlaser marking area\nEE\nD\nY\nD2\nE2Exposed pad \narea\nZ1\n48Detail ZR 0.125 typ.1\n48L\nC 0.500x45°\npin1 cornerA\nSeating plane\nA1\nb eddd\nDetail YT\nTable 52. UFQFPN48 mechanical data \nSymbolmillimeters inches(1)\nMin Typ Max Min Typ Max\nA 0.500 0.550 0.600 0.0197 0.0217 0.0236\nA1 0.000 0.020 0.050 0.0000 0.0008 0.0020\nD 6.900 7.000 7.100 0.2717 0.2756 0.2795\nE 6.900 7.000 7.100 0.2717 0.2756 0.2795\nD2 5.500 5.600 5.700 0.2165 0.2205 0.2244\nE2 5.500 5.600 5.700 0.2165 0.2205 0.2244\nPackage information STM32F103x8, STM32F103xB\n84/116 DS5319 Rev 18Figure 45. UFQFPN48 recommended footprint\n1. Dimensions are expr essed in millimeters.L 0.300 0.400 0.500 0.0118 0.0157 0.0197\nT  - 0.152 -  - 0.0060 - \nb 0.200 0.250 0.300 0.0079 0.0098 0.0118e  - 0.500 - - 0.0197 - \nddd - - 0.080 - - 0.0031\n1. Values in inches are converted fr om mm and rounded to four decimal digits.Table 52. UFQFPN48 mechanical data (continued)\nSymbolmillimeters inches(1)\nMin Typ Max Min Typ Max\n7.30\n7.300.20\n0.30\n0.550.50\n5.806.20\n6.205.60\n5.605.80\n0.75\nA0B9_FP_V248\n1\n12\n13 24253637\nDS5319 Rev 18 85/116STM32F103x8, STM32F103xB Package information\n115Marking of engineering samples\nFigure  46 gives an example of topside marking orient ation versus pin 1 identifier location. \nThe printed markings may differ depending on the supply chain.\nOther optional marking or inse t/upset marks, which identify the parts throughout supply \nchain operations, are not indicated below.\nFigure 46. UFQFPN48 package top view example\n1. Parts marked as “ES”, “E” or accompanied by an Engineering Sample notification letter, are not yet \nqualified and therefore not yet ready to be used in  production and any consequences  deriving from such \nusage will not be at ST charge. In no event, ST will  be liable for any customer usage of these engineering \nsamples in production. ST Quality has to be cont acted prior to any decisi on to use these Engineering \nsamples to run qualification activity.(1)Product\nidentification STM32F\n103CBU6\nRYW W\nPin 1 \nidentifierRevision codeDate code\nMS37524V1\n\nPackage information STM32F103x8, STM32F103xB\n86/116 DS5319 Rev 186.3 LFBGA100 package information\nThis LFBGA is a 100-ball, 10x 10 mm, low-profile fine pitch ball grid array, 0.8 mm pitch\nFigure 47. LFBGA100 outline\n1. Drawing is not to scale.\n          Table 53. LFBGA100 mechanical data \nSymbolmillimeters inches(1)\nMin Typ Max Min Typ Max\nA  - - 1.700  -  - 0.0669\nA1 0.270 - - 0.0106  - - \nA2  - 0.300 - - 0.0118 - \nA4 - - 0.800 - - 0.0315\nb 0.450 0.500 0.550 0.0177 0.0197 0.0217\nD 9.850 10.000 10.150 0.3878 0.3937 0.3996\nD1  - 7.200  -  - 0.2835  -\nE 9.850 10.000 10.150 0.3878 0.3937 0.3996\nE1  - 7.200 -  - 0.2835 - \ne  - 0.800 - - 0.0315 - \nF  - 1.400  - - 0.0551 - \nddd  -  - 0.120 -  - 0.0047eee  -  - 0.150 - - 0.0059\nfff  - - 0.080  - - 0.0031H0_ME_V2Seating plane\nA4A1\ne F\nF\nD\nK\neee Z Y X\nfffØb (100 balls)\nØ\nØA\nM\nME\nTOP VIEW BOTTOM VIEW1 10eAA2\nZYXZ\nddd Z\nD1E1A1 ball \nidentifierA1 ball \nindex area\nDS5319 Rev 18 87/116STM32F103x8, STM32F103xB Package information\n115Figure 48. LFBGA100 recommended footprint\n          1. Values in inches are converted fr om mm and rounded to four decimal digits.\nTable 54. LFBGA100 recommended PCB design rules (0.8 mm pitch BGA) \nDimension Recommended values\nPitch 0.8\nDpad 0.500 mm\nDsm 0.570 mm typ. (depends on the soldermask registration tolerance)Stencil opening 0.500 mm\nStencil thickness Between 0.100 mm and 0.125 mm\nPad trace width 0.120 mmH0_FP_V1Dpad\nDsm\nPackage information STM32F103x8, STM32F103xB\n88/116 DS5319 Rev 18Marking of engineering samples\nFigure  49 gives an example of topside marking orient ation versus pin 1 identifier location. \nThe printed markings may differ depending on the supply chain.\nOther optional marking or inse t/upset marks, which identify the parts throughout supply \nchain operations, are not indicated below.\nFigure 49. LFBGA100 package top view example\n1. Parts marked as “ES”, “E” or accompanied by an Engineering Sample notification letter, are not yet \nqualified and therefore not yet ready to be used in  production and any consequences  deriving from such \nusage will not be at ST charge. In no event, ST will  be liable for any customer usage of these engineering \nsamples in production. ST Quality has to be cont acted prior to any decisi on to use these Engineering \nsamples to run qualification activity.Revision code\nSTM32F103Product identification(1)\nDate code = year + week\nYW W\nBall A1 \nindentifier\nV8H6R\nDS5319 Rev 18 89/116STM32F103x8, STM32F103xB Package information\n1156.4 LQFP100 pac kage information\nThis LQFP is a 100-pin, 14x14 mm, low-profile quad flat package.\nFigure 50. LQFP100 outline\n          Table 55. LQPF100 mechanical data \nSymbolmillimeters inches(1)\nMin Typ Max Min Typ Max\nA - - 1.600 - - 0.0630\nA1 0.050 - 0.150 0.0020 - 0.0059A2 1.350 1.400 1.450 0.0531 0.0551 0.0571\nb 0.170 0.220 0.270 0.0067 0.0087 0.0106\nc 0.090 - 0.2 0.0035 - 0.0079\nD 15.800 16.000 16.200 0.6220 0.6299 0.6378\nD1 13.800 14.000 14.200 0.5433 0.5512 0.5591\nD3 - 12.000 - - 0.4724 -\nE 15.800 16.00 16.200 0.6220 0.6299 0.6378\nE1 13.800 14.000 14.200 0.5433 0.5512 0.5591\nE3 - 12.000 - - 0.4724 -eIDENTIFICATIONPIN 1GAUGE PLANE0.25 mmSEATING PLANE\nD\nD1\nD3\nE3\nE1\nEKccc CC\n1 25261007675 51\n50\n1L_ME_V5A2A\nA1\nL1Lcb\nA1\nPackage information STM32F103x8, STM32F103xB\n90/116 DS5319 Rev 18Figure 51. LQFP100 recommended footprint\n1. Dimensions are expr essed in millimeters.e - 0.500 - - 0.0197 -\nL 0.450 0.600 0.750 0.0177 0.0236 0.0295\nL1 - 1.000 - - 0.0394 -\nk 0.0° 3.5° 7.0° 0.0° 3.5° 7.0°\nccc -8 - 0.080 - - 0.0031\n1. Values in inches are converted fr om mm and rounded to four decimal digits..Table 55. LQPF100 mechanical data (continued)\nSymbolmillimeters inches(1)\nMin Typ Max Min Typ Max\n75 51\n50 760.5\n0.3\n16.7 14.3\n100 26\n12.3251.2\n16.71\nai14906c\nDS5319 Rev 18 91/116STM32F103x8, STM32F103xB Package information\n115Marking of engineering samples\nFigure  52 gives an example of topside marking orient ation versus pin 1 identifier location. \nThe printed markings may differ depending on the supply chain.\nOther optional marking or inse t/upset marks, which identify the parts throughout supply \nchain operations, are not indicated below.\nFigure 52. LQFP100 package top view example\n1. Parts marked as “ES”, “E” or accompanied by an Engineering Sample notification letter, are not yet \nqualified and therefore not yet ready to be used in  production and any consequences  deriving from such \nusage will not be at ST charge. In no event, ST will  be liable for any customer usage of these engineering \nsamples in production. ST Quality has to be cont acted prior to any decisi on to use these Engineering \nsamples to run qualification activity.MSv37526V1Revision codeProduct identification(1)\nDate code\nPin 1 \nindentifierSTM32F103\nV8T6   R\nYWW\n\nPackage information STM32F103x8, STM32F103xB\n92/116 DS5319 Rev 186.5 UFBGA100 package information\nThis UFBGA is a 100-ball, 7x7 mm, 0.50 mm pitc h, ultra fine pitch ball grid array package.\nFigure 53. UFBGA100 - outline\n1. Drawing is not to scale.\n          Table 56. UFBGA100 mechanical data \nSymbolmillimeters inches(1)\nMin Typ Max Min Typ Max\nA 0.460 0.530 0.600 0.0181 0.0209 0.0236\nA1 0.050 0.080 0.110 0.0020 0.0031 0.0043A2 0.400 0.450 0.500 0.0157 0.0177 0.0197\nA3 0.080 0.130 0.180 0.0031 0.0051 0.0071\nA4 0.270 0.320 0.370 0.0106 0.0126 0.0146\nb 0.200 0.250 0.300 0.0079 0.0098 0.0118\nD 6.950 7.000 7.050 0.2736 0.2756 0.2776\nD1 5.450 5.500 5.550 0.2146 0.2165 0.2185\nE 6.950 7.000 7.050 0.2736 0.2756 0.2776\nE1 5.450 5.500 5.550 0.2146 0.2165 0.2185\ne  - 0.500 - - 0.0197 - \nF 0.700 0.750 0.800 0.0276 0.0295 0.0315\nd d d  - - 0 . 1 0 0  - - 0 . 0 0 3 9A0C2_ME_V4Seating plane\nA1\ne F\nF\nD\nM\nØb (100 balls)AE\nTOP VIEW BOTTOM VIEW1 12A1 ball \nidentifier\neA A2\nYXZ\nddd Z\nD1E1\neee Z Y X\nfffØ\nØM\nMZA3A4\nA1 ball \nindex area\nDS5319 Rev 18 93/116STM32F103x8, STM32F103xB Package information\n115Figure 54. UFBG A100 recommended footprint\n          eee - - 0.150  - - 0.0059\nfff -  -- 0.050 -  - 0.0020\n1. Values in inches are converted fr om mm and rounded to four decimal digits.\nTable 57. UFBGA100 recommended PCB design rules (0.5 mm pitch BGA) \nDimension Recommended values\nPitch 0.5\nDpad 0.280 mm\nDsm 0.370 mm typ. (depends on the soldermask registration tolerance)\nStencil opening 0.280 mm\nStencil thickness Between 0.100 mm and 0.125 mmTable 56. UFBGA100 mechanical data (continued)\nSymbolmillimeters inches(1)\nMin Typ Max Min Typ Max\nA0C2_FP_V1Dpad\nDsm\nPackage information STM32F103x8, STM32F103xB\n94/116 DS5319 Rev 18Marking of engineering samples\nFigure  46 gives an example of topside marking orient ation versus pin 1 identifier location. \nThe printed markings may differ depending on the supply chain.\nOther optional marking or inse t/upset marks, which identify the parts throughout supply \nchain operations, are not indicated below.\nFigure 55. UFBGA100 package top view example\n1. Parts marked as “ES”, “E” or accompanied by an Engineering Sample notification letter, are not yet \nqualified and therefore not yet ready to be used in  production and any consequences  deriving from such \nusage will not be at ST charge. In no event, ST will  be liable for any customer usage of these engineering \nsamples in production. ST Quality has to be cont acted prior to any decisi on to use these Engineering \nsamples to run qualification activity.(1)Product\nidentification STM32F\n103VBI6\nRYW W\nBall A1 \nidentifierRevision codeDate code\nMS37527V1\n\nDS5319 Rev 18 95/116STM32F103x8, STM32F103xB Package information\n1156.6 LQFP64 package information\nThis LQFP is a 64-pin, 10x10 mm low-profile quad flat package.\nFigure 56. LQFP64 outline\n1. Drawing is not to scale.\n          Table 58. LQFP64 mechanical  data \nSymbolmillimeters inches(1)\nMin Typ Max Min Typ Max\nA - - 1.600 - - 0.0630\nA1 0.050 - 0.150 0.0020 - 0.0059\nA2 1.350 1.400 1.450 0.0531 0.0551 0.0571\nb 0.170 0.220 0.270 0.0067 0.0087 0.0106\nc 0.090 - 0.200 0.0035 - 0.0079\nD - 12.000 - - 0.4724 -\nD1 - 10.000 - - 0.3937 -\nD3 - 7.500 - - 0.2953 -\nE - 12.000 - - 0.4724 -\nE1 - 10.000 - - 0.3937 -5W_ME_V3A1A2ASEATING PLANE\nccc C\nbC\nc\nA1\nL\nL1K\nIDENTIFICATIONPIN 1D\nD1\nD3\ne1 16173233 48\n49\n64\nE3\nE1\nEGAUGE PLANE0.25 mm\nPackage information STM32F103x8, STM32F103xB\n96/116 DS5319 Rev 18Figure 57. LQFP64 recommended footprint\n1. Dimensions are expr essed in millimeters.E3 - 7.500 - - 0.2953 -\ne - 0.500 - - 0.0197 -\nK 0 °3 . 5 °7 ° 0 °3 . 5 °7 °\nL 0.450 0.600 0.750 0.0177 0.0236 0.0295\nL1 - 1.000 - - 0.0394 -\nccc - - 0.080 - - 0.0031\n1. Values in inches are converted from mm and rounded to four decimal digits.Table 58. LQFP64 mechanical  data (continued)\nSymbolmillimeters inches(1)\nMin Typ Max Min Typ Max\n48\n32 49\n64 17\n1 161.20.333\n10.312.7\n10.30.5\n7.8\n12.7\nai14909c\nDS5319 Rev 18 97/116STM32F103x8, STM32F103xB Package information\n115Marking of engineering samples\nFigure  58 gives an example of topside marking orient ation versus pin 1 identifier location. \nThe printed markings may differ depending on the supply chain.\nOther optional marking or inse t/upset marks, which identify the parts throughout supply \nchain operations, are not indicated below.\nFigure 58. LQFP64 package top view example\n1. Parts marked as “ES”, “E” or accompanied by an Engineering Sample notification letter, are not yet \nqualified and therefore not yet ready to be used in  production and any consequences  deriving from such \nusage will not be at ST charge. In no event, ST will  be liable for any customer usage of these engineering \nsamples in production. ST Quality has to be cont acted prior to any decisi on to use these Engineering \nsamples to run qualification activity.MSv37530V1Revision code\nSTM32F103Product identification(1)\nDate code\nYW W\nPin 1 \nindentifier\nR8T6R\nPackage information STM32F103x8, STM32F103xB\n98/116 DS5319 Rev 186.7 TFBGA64 package information\nThis TFBGA is a 64-ball, 5x5 mm, 0.5 mm pitch th in profile fine pitch ball grid array package.\nFigure 59. TFBGA64 outline\n1. Drawing is not to scale.\n          Table 59. TFBGA64 mechanical data \nSymbolmillimeters inches(1)\nMin Typ Max Min Typ Max\nA - - 1.200 - - 0.0472\nA1 0.150 - - 0.0059 - -\nA2 - 0.200 - - 0.0079 -A4 - - 0.600 - - 0.0236\nb 0.250 0.300 0.350 0.0098 0.0118 0.0138\nD 4.850 5.000 5.150 0.1909 0.1969 0.2028\nD1 - 3.500 - - 0.1378 -\nE 4.850 5.000 5.150 0.1909 0.1969 0.2028\nE1 - 3.500 - - 0.1378 -\ne - 0.500 - - 0.0197 -\nF - 0.750 - - 0.0295 -\nddd - - 0.080 - - 0.0031\nR8_ME_V4Seating plane\nA1e F\nF\nDH\nØb (64 balls)\nAE\nTOP VIEW BOTTOM VIEW18e\nABA\nC\nddd CD1E1\neee C B A\nfffØ\nØM\nMC\nA2A4A1 ball \nidentifierA1 ball \nindex area\nSIDE VIEW\nDS5319 Rev 18 99/116STM32F103x8, STM32F103xB Package information\n115Figure 60. TFBGA64 recommended footprint\n          \nMarking of engineering samples\nFigure  61 gives an example of topside marking orient ation versus pin 1 identifier location. \nThe printed markings may differ depending on the supply chain.eee - - 0.150 - - 0.0059\nfff - - 0.050 - - 0.0020\n1. Values in inches are converted fr om mm and rounded to four decimal digits.\nTable 60. TFBGA64 recommended PCB design rules (0.5 mm pitch BGA) \nDimension Recommended values\nPitch 0.5\nDpad 0.280 mm\nDsm 0.370 mm typ. (depends on the soldermask registration tolerance)\nStencil opening 0.280 mmStencil thickness Between 0.100 mm and 1.125 mm\nPad trace width 0.100 mmTable 59. TFBGA64 mechanical data (continued)\nSymbolmillimeters inches(1)\nMin Typ Max Min Typ Max\nR8_FP_V1Dpad\nDsm\nPackage information STM32F103x8, STM32F103xB\n100/116 DS5319 Rev 18Other optional marking or inse t/upset marks, which identify the parts throughout supply \nchain operations, are not indicated below.\nFigure 61. TFBGA64 package top view example\n1. Parts marked as “ES”, “E” or accompanied by an Engineering Sample notification letter, are not yet \nqualified and therefore not yet ready to be used in  production and any consequences  deriving from such \nusage will not be at ST charge. In no event, ST will  be liable for any customer usage of these engineering \nsamples in production. ST Quality has to be cont acted prior to any decisi on to use these Engineering \nsamples to run qualification activity.MSv37528V1\nRevision codeProduct identification(1)\nDate code\nBall A1 \nindentifier32F10386\nYWW\nR\nDS5319 Rev 18 101/116STM32F103x8, STM32F103xB Package information\n1156.8 LQFP48 package information\nThis LQFP is a 48-pin, 7x7 mm low-profile quad flat package.\nFigure 62. LQFP48 outline\n1. Drawing is not to scale.\n          Table 61. LQFP48 mechanical data \nSymbolmillimeters inches(1)\nMin Typ Max Min Typ Max\nA  -  - 1.600  -  - 0.0630\nA1 0.050  - 0.150 0.0020 - 0.0059\nA2 1.350 1.400 1.450 0.0531 0.0551 0.0571\nb 0.170 0.220 0.270 0.0067 0.0087 0.0106\nc 0.090  - 0.200 0.0035 - 0.0079\nD 8.800 9.000 9.200 0.3465 0.3543 0.3622\nD1 6.800 7.000 7.200 0.2677 0.2756 0.2835\nD3  - 5.500  -  - 0.2165 - \nE 8.800 9.000 9.200 0.3465 0.3543 0.36225B_ME_V2PIN 1\nIDENTIFICATIONccc CC\nD30.25 mm\nGAUGE PLANE\nb\nA1A\nA2\nc\nA1\nL1LD\nD1\nE3\nE1\nE\ne12 1132425 36\n37\n48SEATING\nPLANE\nK\nPackage information STM32F103x8, STM32F103xB\n102/116 DS5319 Rev 18Figure 63. LQFP48 - 48-pin recommended footprint\n1. Dimensions are expr essed in millimeters.E1 6.800 7.000 7.200 0.2677 0.2756 0.2835\nE3  - 5.500  -  - 0.2165  -\ne  - 0.500  -  - 0.0197  -L 0.450 0.600 0.750 0.0177 0.0236 0.0295\nL1  - 1.000  -  - 0.0394  -\nk 0 °3 . 5 °7 ° 0 °3 . 5 °7 °\nccc - - 0.080 - - 0.0031\n1. Values in inches are converted fr om mm and rounded to four decimal digits.Table 61. LQFP48 mechanical data (continued)\nSymbolmillimeters inches(1)\nMin Typ Max Min Typ Max\n9.70 5.807.30\n1224\n0.20\n7.30\n13736\n1.20\n5.80\n9.700.30251.200.50\nai14911d13 48\nDS5319 Rev 18 103/116STM32F103x8, STM32F103xB Package information\n115Marking of engineering samples\nFigure  64 gives an example of topside marking orient ation versus pin 1 identifier location. \nThe printed markings may differ depending on the supply chain.\nOther optional marking or inse t/upset marks, which identify the parts throughout supply \nchain operations, are not indicated below.\nFigure 64. LQFP48 package top view example\n1. Parts marked as “ES”, “E” or accompanied by an Engineering Sample notification letter, are not yet \nqualified and therefore not yet ready to be used in  production and any consequences  deriving from such \nusage will not be at ST charge. In no event, ST will  be liable for any customer usage of these engineering \nsamples in production. ST Quality has to be cont acted prior to any decisi on to use these Engineering \nsamples to run qualification activity.(1)Product\nidentification STM32\nF103CBT6\nRYW W\nPin 1 \nidentificationRevision codeDate code\nMS37529V1\n\nPackage information STM32F103x8, STM32F103xB\n104/116 DS5319 Rev 186.9 Thermal characteristics\nThe maximum chip junction temperature (TJmax) must never exceed the values given in \nTable  9: General operating conditions .\nThe maximum chip-junction temperature, TJ max, in degrees Celsius, may be calculated \nusing the following equation:\nTJ max = TA max + (PD max × \uf051JA)\nwhere:\n\uf0b7 TA max is the maximum ambient temperature in \uf0b0C,\n\uf0b7\uf051JA is the package junction-to-ambient thermal resistance, in \uf0b0C/W,\n\uf0b7 PD max is the sum of PINT max and PI/O max (PD max = PINT max + PI/Omax),\n\uf0b7 PINT max is the product of IDD and VDD, expressed in Watts. This is the maximum chip \ninternal power.\nPI/O max represents the maximum power dissipation on output pins where:\nPI/O max  = \uf053\uf020(VOL × IOL) + \uf053((VDD – VOH) × IOH),\ntaking into account the actual VOL / IOL and VOH / IOH of the I/Os at low and high level in the \napplication.\n          \n6.9.1 Reference document\nJESD51-2 Integrated Circuits Thermal Test  Method Environment Conditions - Natural \nConvection (Still Air). Available from www.jedec.org.Table 62. Package thermal characteristics\nSymbol Parame ter Value Unit\n\uf051JAThermal resistance junction-ambient \uf020\nLFBGA100 - 10 × 10 mm / 0.8 mm pitch44\n°C/WThermal resistance junction-ambient \uf020\nLQFP100 - 14 × 14 mm / 0.5 mm pitch46\nThermal resistance junction-ambient \uf020\nUFBGA100 - 7 × 7 mm / 0.5 mm pitch59\nThermal resistance junction-ambient \uf020\nLQFP64 - 10 × 10 mm / 0.5 mm pitch45\nThermal resistance junction-ambient \uf020\nTFBGA64 - 5 × 5 mm / 0.5 mm pitch65\nThermal resistance junction-ambient \uf020\nLQFP48 - 7 x 7 mm / 0.5 mm pitch55\nThermal resistance junction-ambient \uf020\nUFQFPN 48 - 7 × 7 mm / 0.5 mm pitch32\nThermal resistance junction-ambient \uf020\nVFQFPN 36 - 6 × 6 mm / 0.5 mm pitch18\nDS5319 Rev 18 105/116STM32F103x8, STM32F103xB Package information\n1156.9.2 Selecting the product temperature range\nWhen ordering the microcontroller, the temperature range is specified in the ordering \ninformation scheme shown in Section  7.\nEach temperature range suffix corresponds to a specific guaranteed ambient temperature at \nmaximum dissipation and, to a spec ific maximum junction temperature.\nAs applications do not commonly use the STM32F10 3xx at maximum dissipat ion, it is useful \nto calculate the exact power consumption and junction temperature to determine which temperature ra nge will be best suited to the application.\nThe following examples show how to calculat e the temperature range needed for a given \napplication.\nExample 1: High-performance application\nAssuming the following ap plication conditions:\nMaximum ambient temperature TAmax = 82 °C (measured according to JESD51-2), \nIDDmax  = 50 mA, VDD = 3.5 V, maximum 20 I/Os used at the same time in output at low \nlevel with IOL = 8 mA, VOL= 0.4 V and maximum 8 I/Os used  at the same time in output \nat low level with IOL = 20 mA, VOL= 1.3 V\nPINTmax  = 50 mA × 3.5 V= 175 mW\nPIOmax  = 20 × 8 mA × 0.4 V + 8 × 20 mA × 1.3 V = 272 mW\nThis gives: PINTmax  = 175 mW and PIOmax  = 272 mW:\nPDmax  = 175 + 272 = 447 mW\nThus: PDmax  = 447 mW\nUsing the values obtained in Table  62 TJmax is calculated as follows:\n– For LQFP100, 46 °C/W T\nJmax = 82 °C + (46 °C/W × 447 mW) = 82 °C + 20.6 °C = 102.6 °C\nThis is within the range of the suffix 6 version parts (–40 < TJ < 105 °C).\nIn this case, parts must be ordered at least with the temperature range suffix 6 (see \nSection  7).\nExample 2: High-temperature application\nUsing the same rules, it is possible to address applications that run at high ambient \ntemperatures with a low dissipation, as long as junction temperature TJ remains within the \nspecified range.\nAssuming the following ap plication conditions:\nMaximum ambient temperature TAmax = 115 °C (measured according to JESD51-2), \nIDDmax  = 20 mA, VDD = 3.5 V, maximum 20 I/Os used at the same time in output at low \nlevel with IOL = 8 mA, VOL= 0.4 V\nPINTmax  = 20 mA × 3.5 V= 70 mW\nPIOmax  = 20 × 8 mA × 0.4 V = 64 mW\nThis gives: PINTmax  = 70 mW and PIOmax  = 64 mW:\nPDmax  = 70 + 64 = 134 mW\nThus: PDmax  = 134 mW\nPackage information STM32F103x8, STM32F103xB\n106/116 DS5319 Rev 18Using the values obtained in Table  62 TJmax is calculated as follows:\n– For LQFP100, 46 °C/W \nTJmax = 115 °C + (46 °C/W × 134 mW) = 115 °C + 6.2 °C = 121.2 °C\nThis is within the range of the suffix 7 version parts (–40 < TJ < 125 °C).\nIn this case, parts must be ordered at least with the temperature range suffix 7 (see \nSection  7).\nFigure 65. LQFP100 PD max vs. TA\n0100200300400500600700\n65 75 85 95 105 115 125 135\nTA (°C)PD (mW)Suffix 6\nSuffix 7\nDS5319 Rev 18 107/116STM32F103x8, STM32F103xB Ordering information scheme\n1157 Ordering information scheme\n          \nFor a list of available options (speed, package, etc.) or for further information on any aspect \nof this device, contact your  nearest ST sales office.\uf020\nExample: STM32 F 103 C 8 T 7 xxx\nDevice family\nSTM32 = Arm-based 32-bit microcontroller\nProduct type\nF = General-purpose\nDevice subfamily\n103 = Performance line\nPin count\nT = 36 pins\nC = 48 pinsR = 64 pins\nV = 100 pins\nFlash memory size\n8 = 64 Kbytes of Flash memory\nB = 128 Kbytes of Flash memory\nPackage\nH = BGA\nI = UFBGA\nT = LQFPU = VFQFPN or UFQFPN\nTemperature range\n6 = Industrial temperature range, –40 to 85 °C7 = Industrial temperature range, –40 to 105 °C\nOptions\nxxx = programmed partsTR = tape and reel\nRevision history STM32F103x8, STM32F103xB\n108/116 DS5319 Rev 188 Revision history\n          Table 63. Document revision history \nDate Revision Changes\n01-Jun-2007 1 Initial release.\n20-Jul-2007 2Flash memory size modified in Note 9 , Note 5 , Note 7 , Note 7  and \nBGA100 pins added to Table 5: Medium-density STM32F103xx pin \ndefinitions . Figure 3: STM32F103xx performance line LFBGA100 ballout  \nadded.\nTHSE changed to TLSE in Figure 23: Low-speed external clock source AC \ntiming diagram . VBAT ranged modified in Power supply schemes .\ntSU(LSE)  changed to tSU(HSE)  in Table 22: HSE 4-16 MHz oscillator \ncharacteristics . IDD(HSI)  max value added to Table 24: HSI oscillator \ncharacteristics .\nSample size modified and machine model removed in Electrostatic \ndischarge (ESD) .\nNumber of parts modified and standard reference updated in Static latch-\nup. 25 °C and 85 °C conditions removed and class name modified in \nTable 33: Electrical sensitivities . RPU and RPD min and max values added \nto Table 35: I/O static characteristics . RPU min and max values added to \nTable 38: NRST pin characteristics .\nFigure 32: I2C bus AC waveforms and measurement circuit  and \nFigure 31: Recommended NRST pin protection  corrected.\nNotes removed below Table 9 , Table 38 , Table 44 .\nIDD typical values changed in Table 11: Maximum current consumption in \nRun and Sleep modes . Table 39: TIMx characteristics  modified.\ntSTAB, VREF+ value, tlat and fTRIG added to Table 46: ADC characteristics .\nIn Table  : , typical endurance and data retention for TA = 85 °C added, \ndata retention for TA = 25 °C removed.\nVBG changed to VREFINT in Table 12: Embedded internal reference \nvoltage . Document title changed. Controller area network (CAN)  section \nmodified.\nFigure 14: Power supply scheme  modified.\nFeatures on page 1  list optimized. Small text changes.\nDS5319 Rev 18 109/116STM32F103x8, STM32F103xB Revision history\n11518-Oct-2007 3STM32F103CBT6, STM32F103T6 and STM32F103T8 root part numbers \nadded (see Table 2: STM32F103xx medium-density device features and \nperipheral counts )\nVFQFPN36 package added (see Section 6: Package information ). All \npackages are ECOPACK® compliant. Package mechanical data inch values are calculated from mm and rounded to 4 decimal digits (see \nSection 6: Package information ).\uf020\nTable 5: Medium-density STM32F103xx pin definitions  updated and \nclarified.\nTable 26: Low-power mode wakeup timings  updated. \uf020\nT\nA min corrected in Table 12: Embedded internal reference voltage .\uf020\nNote 2  added below Table 22: HSE 4-16 MHz oscillator characteristics .\uf020\nVESD(CDM)  value added to Table 32: ESD absolute maximum ratings .\nNote 4  added and VOH parameter descripti on modified in Table 36: \nOutput voltage characteristics .\uf020\nNote 1  modified under Table 37: I/O AC characteristics .\uf020\nEquation 1  and Table 47: RAIN max for fADC = 14 MHz  added to \nSection 5.3.18: 12-bit ADC characteristics .\uf020\nVAIN, tS max, tCONV , VREF+ min and tlat max modified, notes modified and \ntlatr added in Table 46: ADC characteristics .\uf020\nFigure 37: ADC accuracy characteristics  updated. Note 1  modified below \nFigure 38: Typical connection diagram using the ADC .\uf020\nElectrostatic discharge (ESD) on page 59  modified. \uf020\nNumber of TIM4 channels modified in Figure 1: STM32F103xx \nperformance line block diagram .\uf020\nMaximum current consumption Table 13 , Table 14  and Table 15  updated. \nVhysmodified in Table 35: I/O static characteristics .\uf020\nTable 49: ADC accuracy  updated. VFESD  value added in Table 30: EMS \ncharacteristics .\nValues corrected, note 2 modified and note 3 removed in Table 26: Low-\npower mode wakeup timings .\uf020\nTable 16: Typical and maximum current consumptions in Stop and \nStandby modes : Typical values added for VDD/VBAT = 2.4 V, Note 2  \nmodified, Note 2  added.\uf020\nTable 21: Typical current consumption in Standby mode  added. On-chip \nperipheral current consumption on page 49  added.\uf020\nACCHSI values updated in Table 24: HSI oscillator characteristics .\uf020\nVprog added to Table 28: Flash memory characteristics .\uf020\nUpper option byte address modified in Figure 11: Memory map .\uf020\nTypical fLSI value added in Table 25: LSI oscillator characteristics  and \ninternal RC value corrected from 32 to 40 kHz in entire document. \uf020\nTS_temp  added to Table 50: TS characteristics . NEND modified in Table  : .\uf020\nTS_vrefint  added to Table 12: Embedded internal reference voltage .\uf020\nHandling of unused pins specified in General input/output characteristics \non page 61 . All I/Os are CMOS and TTL compliant. Figure 39: Power \nsupply and reference decoupling (VREF+ not connected to VDDA) \nmodified. \uf020\ntJITTER  and fVCO removed from Table 27: PLL characteristics .\nAppendix A: Important  notes on page 81  added.\uf020\nAdded Figure 16 , Figure 17 , Figure 19  and Figure 21 .Table 63. Document revision history (continued)\nDate Revision Changes\nRevision history STM32F103x8, STM32F103xB\n110/116 DS5319 Rev 1822-Nov-2007 4Document status promoted from preliminary data to datasheet. \uf020\nThe STM32F103xx is USB certified. Small text changes. \uf020\nPower supply schemes on page 15  modified. Number of communication \nperipherals corrected for STM32F103Tx  and number of GPIOs corrected \nfor LQFP package in Table 2: STM32F103xx medium-density device \nfeatures and peripheral counts .\uf020\nMain function and default alternate f unction modified for PC14 and PC15 \nin, Note 6  added and Remap column added in Table 5: Medium-density \nSTM32F103xx pin definitions .\uf020\nVDD–VSS ratings and Note 1  modified in Table 6: Voltage characteristics , \nNote 1 modified in Table 7: Current characteristics .\uf020\nNote 1  and Note 2  added in Table 11: Embedded reset and power control \nblock characteristics .\uf020\nIDD value at 72 MHz with peripherals enabled modified in Table 14: \nMaximum current consumption in Run mode, code with data processing  \nrunning from RAM .\uf020\nIDD value at 72 MHz with peripherals enabled modified in Table 15: \nMaximum current consumption in Sleep mode, code running from Flash \nor RAM on page 43 .\uf020\nIDD_VBAT  typical value at 2.4 V modified and IDD_VBAT  maximum values \nadded in Table 16: Typical and maximum current consumptions in Stop \nand Standby modes . Note added in Table 17 on page 47  and Table 18 on \npage 48 . ADC1 and ADC2 consumption and notes modified in Table 19: \nPeripheral current consumption .\uf020\ntSU(HSE)  and tSU(LSE)  conditions modified in Table 22  and Table 23 , \nrespectively. \uf020\nMaximum values removed from Table 26: Low-power mode wakeup \ntimings . tRET conditions modified in Table  : . Figure 14: Power supply \nscheme  corrected. \uf020\nFigure 20: Typical current consumptio n in Stop mode, with regulator in \nLow-power mode  added.\uf020\nNote removed below Figure 33: SPI timing diagram - slave mode and \nCPHA = 0 . Note added below Figure 34: SPI timing diagram - slave mode \nand CPHA = 1(1).\uf020\nDetails on unused pins removed from General input/output \ncharacteristics on page 61 .\uf020\nTable 42: SPI characteristics  updated. Table 43: USB startup time  added. \nVAIN, tlat and tlatr modified, note added and Ilkg removed in Table 46: ADC \ncharacteristics . Test conditions modified and note added in Table 49: \nADC accuracy . Note added below Table 47  and Table 50 .\uf020\nInch values corrected in Table 55: LQPF100 mechanical data , Table 58: \nLQFP64 mechanical data  and Table 60: LQFP48, 7 x 7 mm, 48-pin low-\nprofile quad flat package mechanical data .\uf020\n\uf051JAvalue for VFQFPN36 package added in Table 62: Package thermal \ncharacteristics \uf02e\uf020\nOrder codes replaced by Section 7: Ordering information scheme .\uf020\nMCU ‘s operating conditions modified in Typical current consumption on \npage 46 . Avg_Slope and V25 modified in Table 50: TS characteristics . I2C \ninterface characteristics on page 68  modified. \uf020\nImpedance specified in A.4: Voltage glitch on ADC input 0 on page 81 .Table 63. Document revision history (continued)\nDate Revision Changes\nDS5319 Rev 18 111/116STM32F103x8, STM32F103xB Revision history\n11514-Mar-2008 5Figure 2: Clock tree on page 12  added.\nMaximum TJ value given in Table 8: Thermal characteristics on page 37 .\nCRC feature added (see CRC (cyclic redundancy check) calculation unit \non page 9  and Figure 11: Memory map on page 34  for address).\nIDD modified in Table 16: Typical and maximum current consumptions in \nStop and Standby modes .\nACCHSI modified in Table 24: HSI oscillator characteristics on page 54 , \nnote 2 removed.\nPD, TA and TJ added, tprog values modified and tprog description clarified \nin Table 28: Flash memory characteristics on page 56 .\ntRET modified in Table  : .\nVNF(NRST)  unit corrected in Table 38: NRST pin characteristics on \npage 66 .\nTable 42: SPI characteristics on page 70  modified.\nIVREF  added to Table 46: ADC characteristics on page 74 .\nTable 48: ADC accuracy - Limited test conditions  added. Table 49: ADC \naccuracy  modified.\nLQFP100 package specifications updated (see Section 6: Package \ninformation on page 79 ).\nRecommended LQFP100, LQFP 64, LQFP48 and VFQFPN36 footprints \nadded (see Figure 55 , Figure 60 , Figure 64  and Figure 44 ).\nSection 6.9: Thermal characteristics on page 104  modified, Section 6.9.1  \nand Section 6.9.2  added.\nAppendix A: Important  notes on page 81  removed.\n21-Mar-2008 6Small text changes. Figure 11: Memory map  clarified.\nIn Table  : :\n–NEND tested over the whole temperature range\n– cycling conditions specified for tRET\n–tRET min modified at TA = 55 °C\nV25, Avg_Slope and  TL modified in Table 50: TS characteristics .\nCRC feature removed.\n22-May-2008 7CRC feature added back. Small text changes. Section 1: Introduction  \nmodified. Section 2.2: Full compatib ility throughout the family  added.\nIDD at TA max = 105 °C added to Table 16: Typical and maximum current \nconsumptions in Stop and Standby modes on page 44 .\nIDD_VBAT removed from Table 21: Typical current consumption in Standby \nmode on page 47 .\nValues added to Table 41: SCL frequency (fPCLK1  = 36 MHz, VDD_I2C  = \n3.3 V) on page 69 .\nFigure 33: SPI timing diagram - slave mode and CPHA = 0 on page 71  \nmodified. Equation 1  corrected.\ntRET at TA = 105 °C modified in Table  :  on page 57 .\uf020\nVUSB added to Table 44: USB DC electrical characteristics on page 73 .\uf020\nFigure 65: LQFP100 PD max vs. TA on page 106  modified.\nAxx option added to Table 63: Ordering information scheme on page 110 .Table 63. Document revision history (continued)\nDate Revision Changes\nRevision history STM32F103x8, STM32F103xB\n112/116 DS5319 Rev 1821-Jul-2008 8Power supply supervisor  updated and VDDA added to Table 9: General \noperating conditions .\nCapacitance modified in Figure 14: Power supply scheme on page 36 .\nTable notes revised in Section 5: Electrical characteristics .\nTable 16: Typical and maximum current consumptions in Stop and \nStandby modes  modified.\nData added to Table 16: Typical and maximum current consumptions in \nStop and Standby modes  and Table 21: Typical current consumption in \nStandby mode  removed.\nfHSE_ext  modified in Table 20: High-speed external user clock \ncharacteristics on page 50 . fPLL_IN  modified in Table 27: PLL \ncharacteristics on page 56 .\nMinimum SDA and SCL fall time value for Fast mode removed from \nTable 40: I2C characteristics on page 68 , note 1 modified.\nth(NSS) modified in Table 42: SPI characteristics on page 70  and \nFigure 33: SPI timing diagram - slave mode and CPHA = 0 on page 71 .\nCADC modified in Table 46: ADC characteristics on page 74  and \nFigure 38: Typical connection diagram using the ADC  modified.\nTypical TS_temp  value removed from Table 50: TS characteristics on \npage 78 .\nLQFP48 package specifications updated (see Table 60  and Table 64 ), \nSection 6: Package information  revised.\nAxx option removed from Table 63: Ordering information scheme on \npage 110 .\nSmall text changes.\n22-Sep-2008 9STM32F103x6 part numbers removed (see Table 63: Ordering \ninformation scheme ). Small text changes.\nGeneral-purpose timers (TIMx)  and Advanced-control timer (TIM1) on \npage 18  updated.\nNotes updated in Table 5: Medium-density STM32F103xx pin definitions \non page 28 .\nNote 2  modified below Table 6: Voltage characteristics on page 37 , \n|\uf044VDDx| min and | \uf044VDDx| min removed.\nMeasurement conditions specified in Section 5.3.5: Supply current \ncharacteristics on page 40 .\nIDD in standby mode at 85 °C modified in Table 16: Typical and maximum \ncurrent consumptions in Stop and Standby modes on page 44 .\nGeneral input/output characteristics on page 61  modified.\nfHCLK conditions modified in Table 30: EMS characteristics on page 58 .\n\uf051JA and pitch value modified for LFBGA100 package in Table 62: \nPackage thermal characteristics . Small text changes.Table 63. Document revision history (continued)\nDate Revision Changes\nDS5319 Rev 18 113/116STM32F103x8, STM32F103xB Revision history\n11523-Apr-2009 10I/O informatio n clarified  on page 1 .\uf020\nFigure 3: STM32F103xx performance line LFBGA100 ballout  modified. \nFigure 11: Memory map  modified. Table 4: Timer feature comparison  \nadded.\uf020\nPB4, PB13, PB14, PB15,  PB3/TRACESWO moved from Default column \nto Remap column in Table 5: Medium-density STM32F103xx pin \ndefinitions .\nPD for LFBGA100 corrected in Table 9: General operating conditions .\nNote modified in Table 13: Maximum current consumption in Run mode, \ncode with data processing  running from Flash  and Table 15: Maximum \ncurrent consumption in Sleep mode, code running from Flash or RAM .\nTable 20: High-speed external user clock characteristics  and Table 21: \nLow-speed external user clock characteristics  modified.\nFigure 20  shows a typical curve (title modified). ACCHSI max values \nmodified in Table 24: HSI oscillator characteristics .\nTFBGA64 package added (see Table 59  and Table 60 ). Small text \nchanges.\n22-Sep-2009 11Note 5  updated and Note 4  added in Table 5: Medium-density \nSTM32F103xx pin definitions .\nVRERINT  and TCoeff added to Table 12: Embedded internal reference \nvoltage . IDD_VBAT  value added to Table 16: Typical and maximum current \nconsumptions in Stop and Standby modes . Figure 18: Typical current \nconsumption on VBAT (RTC on)  added.\nfHSE_ext  min modified in Table 20: High-speed external user clock \ncharacteristics .\nCL1 and CL2 replaced by C in Table 22: HSE 4-16 MHz oscillator \ncharacteristics  and Table 23: LSE oscillator characteristics (fLSE = 32.768 \nkHz), notes modified and moved below the tables. Table 24: HSI \noscillator characteristics  modified. Conditions removed from Table 26: \nLow-power mode wakeup timings .\nNote 1  modified below Figure 24: Typical application with an 8 MHz \ncrystal .\nIEC 1000 standard updated to IEC 61000 and SAE J1752/3 updated to \nIEC 61967-2 in Section 5.3.10: EMC characteristics on page 57 .\nJitter added to Table 27: PLL characteristics .\nTable 42: SPI characteristics  modified.\nCADC and RAIN parameters modified in Table 46: ADC characteristics . \nRAIN max values modified in Table 47: RAIN max for fADC = 14 MHz .\nFigure 47: LFBGA100 outline  updated.\n03-Jun-2010 12Added STM32F103TB devices.\nAdded VFQFPN48 package.Updated note 2 below Table 40: I\n2C characteristics\nUpdated Figure 32: I2C bus AC waveforms and measurement circuit\nUpdated Figure 31: Recommended NRST pin protection\nUpdated Section 5.3.12: I/O current injection characteristicsTable 63. Document revision history (continued)\nDate Revision Changes\nRevision history STM32F103x8, STM32F103xB\n114/116 DS5319 Rev 1819-Apr-2011 13Updated footnotes below Table 6: Voltage characteristics on page 37  and \nTable 7: Current characteristics on page 37\nUpdated tw min in Table 20: High-speed external user clock \ncharacteristics on page 50\nUpdated startup time in Table 23: LSE oscillator characteristics (fLSE = \n32.768 kHz) on page 53\nAdded Section 5.3.12: I/O current injection characteristics\nUpdated Section 5.3.13: I/O port characteristics\n07-Dec-2012 14Added UFBGA100 7 x 7 mm.\nUpdated Figure 59: LQFP64, 10 x 10 mm, 64-pin low-profile quad flat \npackage outline  to add pin 1 identification. \n14-May-2013 15Replaced VQFN48 package with UQFN48 in cover page packages, \nTable 2: STM32F103xx medium-density device features and peripheral counts , Figure 9: STM32F103xx performance line UFQFPN48 pinout , \nTable 2: STM32F103xx medium-density device features and peripheral \ncounts , Table 56: UFBGA100 mechanical data , Table 63: Ordering \ninformation scheme  and updated Table 62: Package thermal \ncharacteristics\nAdded footnote for TFBGA ADC channels in Table 2: STM32F103xx \nmedium-density device features and peripheral counts\nUpdated ‘All GPIOs are high current...’ in Section 2.3.21: GPIOs \n(general-purpose inputs/outputs)\nUpdated Table 5: Medium-density STM32F103xx pin definitions\nCorrected Sigma letter in Section 5.1.1: Minimum and maximum values\nRemoved the first sentence in Section 5.3.16: Communications \ninterfaces\nAdded ‘V\nIN’ in Table 9: General operating conditions\nUpdated first sentence in Output driving current\nAdded note 5. in Table 24: HSI oscillator characteristics\nUpdated ‘VIL’ and ‘VIH’ in Table 35: I/O static characteristics\nAdded notes to Figure 26: Standard I/O input characteristics - CMOS \nport, Figure 27: Standard I/O input characteristics - TTL port , Figure 28: \n5 V tolerant I/O input characteristics - CMOS port  and Figure 29: 5 V \ntolerant I/O input characteristics - TTL port\nUpdated Figure 32: I2C bus AC waveforms and measurement circuit\nUpdated note 2. and 3.,removed note “the device must internally...” in \nTable 40: I2C characteristics\nUpdated title of Table 41: SCL frequency (fPCLK1  = 36 MHz, VDD_I2C  = 3.3 \nV)\nUpdated note 2. in Table 49: ADC accuracy\nUpdated Figure 53: UFBGA100 - 100-ball, 7 x 7 mm, 0.50 mm pitch, ultra \nfine pitch ball grid array package outline  and Table 56: UFBGA100 \nmechanical data\nUpdated Figure 47: LFBGA100 outline  and Table 53: LFBGA100 \nmechanical data\nUpdated Figure 60: TFBGA64 - 8 x 8 active ball array, 5 x 5 mm, 0.5 mm \npitch, package outline  and Table 59: TFBGA64 - 8 x 8 active ball array, 5 \nx 5 mm, 0.5 mm pitch, package mechanical dataTable 63. Document revision history (continued)\nDate Revision Changes\nDS5319 Rev 18 115/116STM32F103x8, STM32F103xB Revision history\n11505-Aug-2013 16Updated the reference for ‘VESD(CDM) ’ in Table 32: ESD absolute \nmaximum ratings\nCorrected ‘tf(IO)out’ in Figure 30: I/O AC characteristics definition\nUpdated Table 52: UFQFPN48 mechanical data\n21-Aug-2015 17Updated Table 3: STM32F103xx family  removing the note.\nUpdated Table 63: Ordering information scheme  removing the note.\nUpdated Section 6: Package information  and added Section : Marking of \nengineering samples  for all packages.\nUpdated I2C characteristics, added tSP parameter and note 4 in Table 40: \nI2C characteristics .\nUpdated Figure 32: I2C bus AC waveforms and measurement circuit  \nswapping SCLL and SCLH.\nUpdated Figure 33: SPI timing diagram - slave mode and CPHA = 0 .\nUpdated min/max value notes repl acing ‘Guaranteed by design, not \ntested in production” by “guaranteed by design”.\nUpdated min/max value notes replacing ‘based on characterization, not \ntested in production” by “Guaranteed based on test during characterization”.\nUpdated Table 19: Peripheral current consumption .\n29-Mar-2022 18Updated Table 5: Medium-density STM32F103xx pin definitions .\nUpdated Figure 37: ADC accuracy characteristics , Figure 38: Typical \nconnection diagram using the ADC  and its footnotes.\nMinor text edits across the whole document.Table 63. Document revision history (continued)\nDate Revision Changes\nSTM32F103x8, STM32F103xB\n116/116 DS5319 Rev 18IMPORTANT NOTICE – PLEASE READ CAREFULLY\nSTMicroelectronics NV and its subsidiaries (“ST”) reserve the right to make changes, corrections, enhancements, modifications, and \nimprovements to ST products and/or to this document at any time without notice. Purchasers should obtain the latest relevant in formation on \nST products before placing orders. ST products are sold pursuant to ST’s terms and conditions of sale in place at the time of o rder \nacknowledgement.\nPurchasers are solely responsible for the choice, selection, and use of ST products and ST assumes no liability for application  assistance or \nthe design of Purchasers’ products.\nNo license, express or implied, to any intellectual property right is granted by ST herein.\nResale of ST products with provisions different from the information set forth herein shall void any warranty granted by ST for  such product.\nST and the ST logo are trademarks of ST. For additional information about ST trademarks, please refer to www.st.com/trademarks . All other \nproduct or service names are the property of their respective owners.\nInformation in this document supersedes and replaces information previously supplied in any prior versions of this document.\n© 2022 STMicroelectronics – All rights reserved\n'}]
!==============================================================================!
### Component Summary: STM32F103T8U6TR

#### Key Characteristics and Specifications:
- **Voltage Ratings**: 
  - Operating Voltage: 2.0 to 3.6 V
  - VDD (Main Supply Voltage): 2.0 to 3.6 V
  - VDDA (Analog Supply Voltage): 2.4 to 3.6 V (when ADC is used)
  - VBAT (Backup Supply Voltage): 1.8 to 3.6 V

- **Current Ratings**:
  - Maximum Supply Current in Run Mode: 
    - Up to 50 mA at 72 MHz (with all peripherals enabled)
  - Maximum current consumption in Sleep Mode: 
    - 30 mA at 72 MHz (with all peripherals enabled)
  - I/O Current: 
    - Sink/Source up to ±8 mA (±20 mA with relaxed VOL/VOH)

- **Power Consumption**:
  - Typical current consumption in Run Mode: 
    - 36 mA at 72 MHz (with all peripherals enabled)
  - Power Dissipation: 
    - Varies based on operating conditions and peripherals used.

- **Operating Temperature Range**: 
  - -40 to +85 °C (suffix 6)
  - -40 to +105 °C (suffix 7)

- **Package Type**: 
  - Available in multiple packages: LQFP100, LQFP64, LQFP48, VFQFPN36, UFBGA100, TFBGA64.

- **Special Features**:
  - Arm® Cortex®-M3 CPU core with a maximum frequency of 72 MHz.
  - Integrated peripherals including USB, CAN, multiple timers, and ADCs.
  - Low-power modes: Sleep, Stop, and Standby.
  - 64 or 128 Kbytes of Flash memory and 20 Kbytes of SRAM.
  - 2x 12-bit ADCs with up to 16 channels.
  - 7-channel DMA controller.
  - Debugging support via SWD and JTAG interfaces.
  - CRC calculation unit for data integrity checks.

- **Moisture Sensitive Level (MSL)**: 
  - MSL is typically classified according to JEDEC J-STD-020E standards, but specific MSL for this component is not provided in the summary.

#### Description:
The **STM32F103T8U6TR** is a medium-density performance line microcontroller based on the Arm® Cortex®-M3 architecture. It operates at a maximum frequency of 72 MHz and is designed for high-performance applications requiring efficient processing and low power consumption. The microcontroller integrates a variety of peripherals, including timers, ADCs, and communication interfaces, making it suitable for a wide range of applications.

#### Typical Applications:
The STM32F103T8U6TR microcontroller is commonly used in:
- **Motor Control**: For driving motors in various applications.
- **Industrial Automation**: In PLCs and control systems.
- **Medical Devices**: For handheld medical equipment and monitoring systems.
- **Consumer Electronics**: Such as gaming peripherals and GPS platforms.
- **Home Automation**: In HVAC systems, alarm systems, and video intercoms.
- **Data Acquisition**: Utilizing its ADC capabilities for sensor interfacing.

This microcontroller's versatility and performance make it an ideal choice for embedded systems requiring robust processing capabilities and extensive peripheral support.