[{'role': 'system', 'content': 'You are a technical specialist with expertise in electronics. Your task is to analyze datasheets for electronic components and provide a concise summary of the product’s key characteristics and specifications. In addition, you need to gather textual information about the component, including its description and typical applications.Instructions:    Identify the correct component in the datasheet using the provided product code.    Summarize key parameters, including:        Voltage ratings        Current ratings        Power consumption        Operating temperature range        Package type        Special features or notes (if applicable)        Moisture Sensetive Level JEDEC J-STD-020E    Provide a short description of the component, including what it is (e.g., transistor, microcontroller, sensor) and its primary function.    Explain typical applications for the component (e.g., power management, signal processing, data storage, etc.).    Be thorough and accurate: Ensure the information corresponds specifically to the product code, as some datasheets cover multiple variants.Your goal is to create a clear and accurate technical summary that includes both key specifications and a description of what the component is used for.'}, {'role': 'user', 'content': 'Give me information about the component of DS21Q59LN production of MAXIM from the text: \n \n \n 1 of 76   REV: 090104 Note:  Some revisions of this device may incorporate deviations from published specifications known as errata. Multiple revisions of any device \nmay be simultaneously available through various sales channels. For information about device errata, click here: www.maxim-ic.com/errata .  \n \n  \n \n \n \n \n \nGENERAL DESCRIPTION \nThe DS21Q59 E1 quad transceiver contains all the \nnecessary functions for connecting to four E1 lines. The DS21Q59 is a direct replacement for the \nDS21Q50, with the addition of signaling access and \nimproved interrupt handling. It is composed of a line interface unit (LIU), framer, and a TDM backplane \ninterface, and is controlled through an 8-bit parallel \nport configured for Intel or Motorola bus operations or serial port operation. \n \n \nAPPLICATIONS \nDSLAMs \nRouters \nIMA and WAN Equipment  \n \n \nPIN CONFIGURATION  FEATURES \n/g167/g32Four Complete E1 (C EPT) PCM-30/ISDN-PRI \nTransceivers  \n/g167/g32Pin Compatible with the DS21Q50 \n/g167/g32Long-Haul and Short-Haul Line Interfaces  \n/g167/g3232-Bit or 128-Bit Crystal-Less Jitter Attenuator \n/g167/g32Frames to FAS, CAS, and CRC4 Formats \n/g167/g32CAS/CCS Signaling Support \n/g167/g324MHz/8MHz/16MHz Clock Synthesizer \n/g167/g32Flexible System Clock with Automatic Source \nSwitching on Loss-of-Clock Source \n/g167/g32Two-Frame Elastic-Store Slip Buffer on the Receive Side  \n/g167/g32Interleaving PCM Bus Operation Up to \n16.384MHz \n/g167/g32Configurable Parallel and Serial Port Operation \n/g167/g32Detects and Generates Remote and AIS Alarms \n/g167/g32Fully Independent Transmit and Receive \nFunctionality \n/g167/g32Four Separate Loopback Functions  \n/g167/g32PRBS Generation/Detection/Error Counting  \n/g167/g323.3V Low-Power CMOS  \n/g167/g32Large Counters for Bipolar and Code Violations, \nCRC4 Codeword Errors, FAS Word Errors, and \nE Bits \n/g167/g32Eight Additional User-Configurable Output Pins \n/g167/g32100-Pin (14mm) LQFP Package  \n \n \nORDERING INFORMATION  \nPART TEMP RANGE PIN-PACKAGE \nDS21Q59L 0°C to +70°C 100 LQFP \nDS21Q59LN -40°C to +85°C 100 LQFP \n LQFP  1100Dallas \nSemiconducto r \nDS21Q59 TOP VIEW DS21Q59 \nE1 Quad Transceive r\nwww.maxim-ic.com \n\nDS21Q59 Quad E1 Transceiver \n \n \n2 of 76 TABLE OF CONTENTS \n1. ACRONYMS ....................................................................................................................... 6 \n2. DETAILED DESCRIPTION.................................................................................................6  \n3. BLOCK DIAG RAM .............................................................................................................7  \n4. PIN DESCRI PTION.............................................................................................................8  \n4.1 PIN FUNCTION DESCRIPTIONS ......................................................................................................12  \n5. FUNCTIONAL DESCRIPTION .........................................................................................13  \n6. HOST INTERFACE PORT................................................................................................14  \n6.1 PARALLEL PORT OPERATION .......................................................................................................14  \n6.2 SERIAL PORT OPERATION ............................................................................................................14  \n7. REGISTER MAP...............................................................................................................16  \n8. CONTROL, ID, AND T EST REGISTERS .........................................................................17  \n8.1 POWER -UP SEQUENCE ................................................................................................................18  \n8.2 FRAMER LOOPBACK ....................................................................................................................21  \n8.3 AUTOMATIC ALARM GENERATION .................................................................................................22  \n8.4 REMOTE LOOPBACK ....................................................................................................................22  \n8.5 LOCAL LOOPBACK .......................................................................................................................23  \n9. STATUS AND INFORM ATION REGISTERS ...................................................................27  \n9.1 INTERRUPT HANDLING .................................................................................................................28  \n9.2 CRC4 S YNC COUNTER ................................................................................................................29  \n10. ERROR COUNT REGISTERS..........................................................................................34  \n10.1 BPV OR CV C OUNTER .............................................................................................................34  \n10.2 CRC4 E RROR COUNTER ..........................................................................................................34  \n10.3 E-BIT/PRBS B IT-ERROR COUNTER ..........................................................................................35  \n10.4 FAS E RROR COUNTER .............................................................................................................35  \n11. SIGNALING OPERATION................................................................................................36  \n11.1 RECEIVE SIGNALING .................................................................................................................36  \n11.2 TRANSMIT SIGNALING ...............................................................................................................36  \n11.3 CAS O PERATION .....................................................................................................................36  \n12. DS0 MONITORING  FUNCTION .......................................................................................37  \n13. PRBS GENERATION AND DETECTION.........................................................................39  \n14. SYSTEM CLOCK INTERFACE ........................................................................................40  \n15. TRANSMIT CL OCK SOURCE..........................................................................................41  \n16. IDLE CODE INSERTION..................................................................................................41  \nDS21Q59 Quad E1 Transceiver \n \n \n3 of 76 17. PER-CHANNEL LOOPBACK ..........................................................................................42  \n18. ELASTIC STORE OPERATION .......................................................................................42  \n19. ADDITIONAL (Sa) AND INTERNATIONAL (Si) BIT OPERATION..................................43  \n20. USER-CONFIGURABL E OUTPUTS................................................................................45  \n21. LINE INTERFACE UNIT...................................................................................................47  \n21.1 RECEIVE CLOCK AND DATA RECOVERY .....................................................................................47  \n21.1.1  Termination .................................................................................................................... .......................47  \n21.2 TRANSMIT WAVESHAPING AND LINE DRIVING .............................................................................48  \n21.3 JITTER ATTENUATORS ..............................................................................................................50  \n21.3.1  Clock and Data Jitter Attenuators .............................................................................................. ...........50  \n21.3.2  Undedicated Clock Jitter Attenuator ............................................................................................ .........51  \n22. CODE MARK INVERSION (CMI) .....................................................................................52  \n23. INTERLEAVED PCM BUS OPERATION .........................................................................54  \n24. FUNCTIONAL TIMING  DIAGRAMS.................................................................................56  \n24.1 RECEIVE ............................................................................................................................... ...56 \n24.2 TRANSMIT ............................................................................................................................... .58 \n25. OPERATING PARAMETERS...........................................................................................62  \n26. AC TIMING PARAMETE RS AND DIAGRAMS ................................................................63  \n26.1 MULTIPLEXED BUS AC C HARACTERISTICS .................................................................................63  \n26.2 NONMULTIPLEXED BUS AC C HARACTERISTICS ..........................................................................66  \n26.3 SERIAL PORT...........................................................................................................................68  \n26.4 RECEIVE AC C HARACTERISTICS ...............................................................................................69  \n26.5 TRANSMIT AC C HARACTERISTICS .............................................................................................72  \n26.6 SPECIAL MODES AC C HARACTERISTICS ....................................................................................74  \n27. PACKAGE INFORMATION..............................................................................................75  \n28. REVISION HI STORY........................................................................................................76  \nDS21Q59 Quad E1 Transceiver \n \n \n4 of 76 LIST OF FIGURES \nFigure 3-1. Block Diagram...................................................................................................... ................. 7  \nFigure 6-1. Serial Po rt Operati on Mode 1 ....................................................................................... ........14  \nFigure 6-2. Serial Po rt Operati on Mode 2 ....................................................................................... ........15  \nFigure 6-3. Serial Po rt Operati on Mode 3 ....................................................................................... ........15  \nFigure 6-4. Serial Po rt Operati on Mode 4 ....................................................................................... ........15  \nFigure 21-1. External Analog C onnections (Basic C onfigurat ion)...........................................................48  \nFigure 21-2. External Analog C onnections (Protect ed Interf ace) ............................................................49  \nFigure 21-3. Transmit Waveform Template ........................................................................................ ....50  \nFigure 21-4. Jitter Tolerance.................................................................................................. .................51  \nFigure 21-5. Jitter Attenuation ................................................................................................ ................51  \nFigure 22-1. CMI Coding ........................................................................................................ ................52  \nFigure 22-2. Example of CMI Code Viol ation (CV)................................................................................ ..53 \nFigure 23-1. IBO Configuration Using Two DS21Q59 Transceivers (Eight E1 Lines)..............................55  \nFigure 24-1. Receive Frame and Multiframe Timing ............................................................................... 56 \nFigure 24-2. Receive Boundary Timing  (With Elastic Store Dis abled) .....................................................56  \nFigure 24-3. Receive Boundary Timing  (With Elastic Store E nabled) .....................................................56  \nFigure 24-4. Receive Interleave Bus Operation .................................................................................. ....57  \nFigure 24-5. Transmit Frame and Multiframe Timing .............................................................................. 58 \nFigure 24-6. Trans mit Boundary Timing.......................................................................................... ........58  \nFigure 24-7. Transmit Interleave Bus Operation ................................................................................. ....59  \nFigure 24-8. Framer Synchronization Flowchart .................................................................................. ...60 \nFigure 24-9. Transmit Data Flow ................................................................................................ ............61  \nFigure 26-1. Intel Bus Read AC Timing (PBTS = 0)............................................................................... .64 \nFigure 26-2. Intel Bus Write Timing (PBTS = 0)................................................................................. .....64  \nFigure 26-3. Motorola Bus AC Timing (PBTS = 1) ................................................................................. .65 \nFigure 26-4. Intel Bus Read Timing (PBTS = 0).................................................................................. ....66  \nFigure 26-5. Intel Bus Write Timing (PBTS = 0)................................................................................. .....67  \nFigure 26-6. Motorola Bu s Read Timing (PBTS = 1)............................................................................... 67 \nFigure 26-7. Motorola Bus Write Timing (PBTS = 1).............................................................................. .67 \nFigure 26-8. Serial Bus Timing (BTS1 = 1, BTS0 = 0) ............................................................................ 68 \nFigure 26-9. Receive AC Timing (Receive Elastic Store Disabled) .........................................................70  \nFigure 26-10. Receive AC Timing (R eceive Elastic Store E nabled) ........................................................71  \nFigure 22-11. Transmit AC Timing (IBO Disabled)................................................................................ ..73 \nFigure 22-12. Transmit AC  Timing (IBO  Enabl ed) ................................................................................. .74 \nFigure 26-13. NRZ Input AC Timing .............................................................................................. .........74  \n \nDS21Q59 Quad E1 Transceiver \n \n \n5 of 76 LIST OF TABLES \nTable 4-A. Pin Description (Sorted by Function)................................................................................ ...... 8  \nTable 4-B. Pin Assignments (Sorted by Number) .................................................................................. .10 \nTable 4-C. System (Bac kplane) Inte rface Pins ................................................................................... ....12  \nTable 4-D. Alternate Jitter At tenuato r ......................................................................................... ............12  \nTable 4-E. Clock Synthesizer ................................................................................................... ..............12  \nTable 4-F. Parallel Port Control Pins .......................................................................................... ............12  \nTable 4-G. Serial Port Control Pins............................................................................................ .............13  \nTable 4-H. Line Interface Pins ................................................................................................. ...............13  \nTable 4-I. Supply Pins ......................................................................................................... ...................13  \nTable 6-A. Bu s Mode Se lect..................................................................................................... ..............14  \nTable 7-A. Register Map (Sorted by Address) .................................................................................... ....16  \nTable 8-A. Sync/Resync Criteria................................................................................................ .............19  \nTable 8-B. G. 703 Func tion...................................................................................................... ................24  \nTable 8-C. Ou tput Modes ........................................................................................................ ...............25  \nTable 9-A. Alarm Criteria ...................................................................................................... ..................29  \nTable 13-A. Transmit PRBS Mode Select.......................................................................................... .....39  \nTable 13-B. Receiv e PRBS Mode Select........................................................................................... .....39  \nTable 14-A. Synthesizer Output Select.......................................................................................... .........40  \nTable 14-B. System Clock Selection............................................................................................. ..........40  \nTable 20-A. OUTA and OU TB Functi on Sele ct...................................................................................... .46 \nTable 21-A. Line Build-Out Select in LICR...................................................................................... ........48  \nTable 21-B. Transformer Specifications......................................................................................... .........48  \nTable 23-A. IBO System Clock Select ............................................................................................ ........54  \nTable 23-B. IBO Device Assignment .............................................................................................. ........54  \nTable 26-A. AC Characteristi cs\x97Multiplexed Pa rallel Port.....................................................................63  \nTable 26-B. AC Characteristics\x97N onmultiplexed Pa rallel Port ..............................................................66  \nTable 26-C. AC Characteristics\x97Seria l Port (BTS1 = 1,  BTS0 = 0) .......................................................68  \nTable 26-D. AC Charac teristics\x97R eceive r........................................................................................ .....69  \nTable 26-E. AC Characteristics\x97Transmit ........................................................................................ .....72  \nTable 26-F. AC Charac teristics\x97Spec ial M odes ................................................................................... .74 \n \nDS21Q59 Quad E1 Transceiver \n \n \n6 of 76 1. ACRONYMS \nThe following abbreviations are used throughout this data sheet:  \n \nFAS Frame Alignment Signal \nCAS Channel Associated Signaling \nMF Multiframe  \nSi International Bits \nCRC4 Cyclical Redundancy Check \nCCS Common Channel Signaling \nSa Additional bits \nE-Bit CRC4 Error Bits \nLOC Loss of Clock \nTCLK This generally refers to the transmit rate clock and can reference an actual input signal to the \ndevice (TCLK) or an internally derived signal used for transmission. \nRCLK This generally refers to the recovered network clock and can be a reference to an actual output \nsignal from the device or an internal signal. \n \n2. DETAILED DESCRIPTION \nThe LIU is composed of a transmit interface, receive interface, and a jitter attenuator. The transmit interface \ngenerates the necessary waveshapes for driving the network, depending on the type of media used. E1 waveform \ngeneration includes G.703 waveshapes for both 75 /g87 coax and 120 /g87 twisted cables. The receive interface recovers \nclock and data from the network. The  receive sensitivity adjusts automatically to the incoming signal. The jitter \nattenuator removes phase jitter from the transmitted or received signal. The crystal-less jitter attenuator only requires a 2.048MHz MCLK and can be placed in either the transmit or receive data paths. An additional feature of the LIU is a code mark inversion (CMI) coder/decoder for interfacing to optical networks. \n \nOn the transmit side, the backplane interface section provides clock/data and frame-sync signals to the framer. The framer inserts the appropriate synchronization framing patterns, alarm information, calculates and inserts the CRC codes, and provides the HDB3 (zero code suppression) and alternate mark inversion (AMI) line coding. The receive-side framer decodes AMI and HDB3 line coding, synchronizes to the data stream, reports alarm information, counts framing/coding/CRC errors, and provi des clock/data and frame-sync signals to the backplane \ninterface section. \n The backplane interface provides a versatile method of sending and receiving data from the host system. The receive elastic store provides a method for interfacing to asynchronous systems. The elastic store also manages slip conditions (asynchronous interface). An interleave bus option (IBO) is provided to allow multiple E1 lines to share a high-speed backplane. \n \nThe parallel port provides access for control and configuration of all the DS21Q59\x92s features. Diagnostic capabilities include loopbacks, PRBS pattern generation /detection, and 16-bit l oop-up and loop-down code \ngeneration and detection. The device fully meets all the latest E1 specifications, including ITU-T G.703, G.704, G.706, G.823, G.732 and I.431 ETS 300 011, ETS 300 233, and ETS 300 166 as well as CTR12 and CTR4. \n \nThe DS21Q59 is optimized for high-density termination of E1 lines. Two significant features are included for this type of application: the IBO and a system clock synthesizer feature. The IBO allows up to eight E1 data streams to be multiplexed onto a single high-speed PCM bus without additional external logic. The system clock synthesizer allows any of the E1 lines to be selected as the master source of the clock for the system and for all the transmitters. This is also accomplished without the need of external logic. Each of the four transceivers has a clock \nand data jitter attenuator that can be assigned to either the transmit or receive path. In addition there is a single, \nundedicated clock jitter attenuator that can be hardware configured as needed by the user. Each transceiver also contains a PRBS pattern generator and detector. Figure 23-1\n shows a simplified typical application that terminates \neight E1 lines (transmit and receive pairs) and combines the data into a single 16.384MHz PCM bus. The 16.384MHz system clock is derived and phase-locked to one of the eight E1 lines. On the receive side of each port, an elastic store provides logical management of any slip conditions due to the asynchronous relationship of the \neight E1 lines. In this application all eight transmitters are timed to the selected E1 line.  \nDS21Q59 Quad E1 Transceiver \n \n \n7 of 76 3. BLOCK DIAGRAM \nFigure 3-1. Block Diagram \nALE(AS)/A5RRING1  \nRECEIVE-SIDE \nFRAMER\nTRANSMIT-\nSIDE \nFORMATTER\nTCLK1TSER1RSER1\nSYSCLK1\nRSYNC1ELASTIC \nSTORE AND \nIBO BUFFER  \nTRING1  \nTTIP1  \nJITTER ATTENUATOR  EITHER TRANSMIT OR RECEIVE PATH  RECEIVE  LINE I/F  CLOCK/DATA  RECOVERY  \nRTIP1  VCO/PLL  LINE I/F \nTRANSMIT  DATA\nCLOCK\nSYNC\nSYNCCLOCKDATAIBO \nBUFFER\nDIVIDE-\nBY-2/4/8  MCLK  \nTSYNC1SYNC \nCONTROL  \nBU Ck\nMUXTx Ck  \nMUX A \nB A\nB\nCUSER OUTPUT \nSELECT  OUTA1\nOUTB1\nRCLK TRANSCEIVER 2\nRCLK TRANSCEIVER 3\nRCLK TRANSCEIVER 4\nMUX\n4/8/16MHz\nSYNTHESIZERBACKUP CLOCK MUX\nTRANSCEIVERS 2, 3, 4  \n4/8/16MCKREFCLKSYSTEM CLOCK  \nINTERFACE  TRANSMIT  \nCLOCK SOURCE  TRANSCEIVER 1 OF 4  TRANSMIT  \nSIDE  RECEIVE  \nSIDE  \nLOCAL LOOPBACK  \nREMOTE LOOPBACK  \nFRAMER LOOPBAC K\nLOTC  \nDETECT  2.048MHz  D0\x96D7 /\nAD0\x96AD7TS1\nINTWR(R/W)\nRD(DS)CS\nA0\x96A4PARALLEL AND TEST CONTROL PORT\n(ROUTED TO ALL BLOCKS ) BTS1\nBTS0\nTS0PBTS\nAJACOI\nAJACKIALTERNATE\nJITTER  \nATTENUATORDallas \nSemiconductor \nDS21Q59 \nDS21Q59 Quad E1 Transceiver \n \n \n8 of 76 4. PIN DESCRIPTION \nTable 4-A. Pin Description (Sorted by Function) \nNAME \nPIN PARALLEL \nPORT ENABLED SERIAL PORT \nENABLED TYPE FUNCTION \n[SERIAL PORT MODE IN BRACKETS] \n71 4/8/16MCK \x97 O 4.096MHz, 8.192MHz, or 16.384MHz Clock \n45 A0 ICES I Address Bus Bit 0/Serial Port [Input-Clock Edge Select] \n46 A1 OCES I Address Bus Bit 1/Serial Port [Output-Clock Edge Select] \n47 A2 \x97  I Address Bus Bit 2 \n48 A3 \x97  I Address Bus Bit 3 \n49 A4 \x97  I Address Bus Bit 4 \n70 AJACKI \x97  I Alternate Jitter Attenuator Clock Input \n69 AJACKO \x97  O Alternate Jitter Attenuator Clock Output \n50 ALE (AS)/A5 \x97  I Address Latch Enable/Address Bus Bit 5 \n96 BTS0 \x97   Bus Type Select 0 \n97 BTS1 \x97   Bus Type Select 1 \n98 CS \x97 I Chip Select \n19 D0/AD0 \x97  I/O Data Bus Bit 0/Address/Data Bus Bit 0 \n20 D1/AD1 \x97  I/O Data Bus Bit 1/Address/Data Bus Bit 1 \n21 D2/AD2 \x97  I/O Data Bus Bit 2/Address/Data Bus Bit 2 \n22 D3/AD3 \x97  I/O Data Bus Bit 3/Address/Data Bus Bit 3 \n23 D4/AD4 \x97  I/O Data Bus Bit 4/Address/Data Bus Bit 4 \n24 D5/AD5 \x97  I/O Data Bus Bit 5/Address/Data Bus Bit 5 \n25 D6/AD6 \x97  I/O Data Bus Bit 6/Address/Data Bus Bit 6 \n44 D7/AD7 SDO I/O Data Bus Bit 7/Addres s/Data Bus Bit 7 [Serial Data Output] \n84 DVDD1 \x97  \x97 Digital Positive Supply \n59 DVDD2 \x97  \x97 Digital Positive Supply \n34 DVDD3 \x97  \x97 Digital Positive Supply \n9 DVDD4 \x97  \x97 Digital Positive Supply \n83 DVSS1 \x97  \x97 Digital Signal Ground \n58 DVSS2 \x97  \x97 Digital Signal Ground \n33 DVSS3 \x97  \x97 Digital Signal Ground \n8 DVSS4 \x97  \x97 Digital Signal Ground \n94 INT \x97 O Interrupt \n73 MCLK \x97  I Master Clock Input \n61 OUTA1 \x97  O User-Selectable Output A  \n36 OUTA2 \x97  O User-Selectable Output A \n11 OUTA3 \x97  O User-Selectable Output A \n86 OUTA4 \x97  O User-Selectable Output A \n60 OUTB1 \x97  O User-Selectable Output B \n35 OUTB2 \x97  O User-Selectable Output B \n10 OUTB3 \x97  O User-Selectable Output B \n85 OUTB4 \x97  O User-Selectable Output B \n95 PBTS \x97  I Parallel Bus Type Select \n75 RD (DS) SCLK I Read Input (Data Strobe) [Serial Port Clock] \n72 REFCLK \x97  I/O Reference Clock \n67 RRING1 \x97  I Receive Analog Ring Input \n42 RRING2 \x97  I Receive Analog Ring Input \n17 RRING3 \x97  I Receive Analog Ring Input \n92 RRING4 \x97  I Receive Analog Ring Input \n63 RSER1 \x97  O Receive Serial Data \n38 RSER2 \x97  O Receive Serial Data \n13 RSER3 \x97  O Receive Serial Data \n88 RSER4 \x97  O Receive Serial Data \n64 RSYNC1 \x97  I/O Receive Sync \n39 RSYNC2 \x97  I/O Receive Sync \n14 RSYNC3 \x97  I/O Receive Sync \nDS21Q59 Quad E1 Transceiver \n \n \n9 of 76 NAME \nPIN PARALLEL \nPORT ENABLED SERIAL PORT \nENABLED TYPE FUNCTION \n[SERIAL PORT MODE IN BRACKETS] \n89 RSYNC4 \x97  I/O Receive Sync \n66 RTIP1 \x97  I Receive Analog Tip Input \n41 RTIP2 \x97  I Receive Analog Tip Input \n16 RTIP3 \x97  I Receive Analog Tip Input \n91 RTIP4 \x97  I Receive Analog Tip Input \n93 RVDD1 \x97  \x97 Receive Analog Positive Supply \n68 RVDD2 \x97  \x97 Receive Analog Positive Supply \n43 RVDD3 \x97  \x97 Receive Analog Positive Supply \n18 RVDD4 \x97  \x97 Receive Analog Positive Supply \n90 RVSS1 \x97  \x97 Receive Analog Signal Ground \n65 RVSS2 \x97  \x97 Receive Analog Signal Ground \n40 RVSS3 \x97  \x97 Receive Analog Signal Ground \n15 RVSS4 \x97  \x97 Receive Analog Signal Ground \n62 SYSCLK1 \x97  I Transmit/Receive System Clock \n37 SYSCLK2 \x97  I Transmit/Receive System Clock \n12 SYSCLK3 \x97  I Transmit/Receive System Clock \n87 SYSCLK4 \x97  I Transmit/Receive System Clock \n80 TCLK1 \x97  I Transmit Clock \n55 TCLK2 \x97  I Transmit Clock \n30 TCLK3 \x97  I Transmit Clock \n5 TCLK4 \x97  I Transmit Clock \n79 TRING1 \x97  O Transmit Analog Ring Output \n54 TRING2 \x97  O Transmit Analog Ring Output \n29 TRING3 \x97  O Transmit Analog Ring Output \n4 TRING4 \x97  O Transmit Analog Ring Output \n99 TS0 \x97  I Transceiver Select 0 \n100 TS1 \x97  I Transceiver Select 1 \n81 TSER1 \x97  I Transmit Serial Data \n56 TSER2 \x97  I Transmit Serial Data \n31 TSER3 \x97  I Transmit Serial Data \n6 TSER4 \x97  I Transmit Serial Data \n82 TSYNC1 \x97  I/O Transmit Sync \n57 TSYNC2 \x97  I/O Transmit Sync \n32 TSYNC3 \x97  I/O Transmit Sync \n7 TSYNC4 \x97  I/O Transmit Sync \n76 TTIP1 \x97  O Transmit Analog Tip Output \n51 TTIP2 \x97  O Transmit Analog Tip Output \n26 TTIP3 \x97  O Transmit Analog Tip Output \n1 TTIP4 \x97  O Transmit Analog Tip Output \n78 TVDD1 \x97  \x97 Transmit Analog Positive Supply \n53 TVDD2 \x97  \x97 Transmit Analog Positive Supply \n28 TVDD3 \x97  \x97 Transmit Analog Positive Supply \n3 TVDD4 \x97  \x97 Transmit Analog Positive Supply \n77 TVSS1 \x97  \x97 Transmit Analog Signal Ground \n52 TVSS2 \x97  \x97 Transmit Analog Signal Ground \n27 TVSS3 \x97  \x97 Transmit Analog Signal Ground \n2 TVSS4 \x97  \x97 Transmit Analog Signal Ground \n74 WR (R/W) SDI I Write Input (Read/Write) [Serial Data Input] \n \nNote:  EQVSS lines are wired to RVSS lines. \n \nDS21Q59 Quad E1 Transceiver \n \n \n10 of 76 Table 4-B. Pin Assignments (Sorted by Number) \nNAME \nPIN PARALLEL \nPORT ENABLED SERIAL PORT \nENABLED TYPE FUNCTION \n[Serial Port Mode in Brackets] \n1 TTIP4 \x97  O Transmit Analog Tip Output \n2 TVSS4 \x97  \x97 Transmit Analog Signal Ground \n3 TVDD4 \x97  \x97 Transmit Analog Positive Supply \n4 TRING4 \x97  O Transmit Analog Ring Output \n5 TCLK4 \x97  I Transmit Clock \n6 TSER4 \x97  I Transmit Serial Data \n7 TSYNC4 \x97  I/O Transmit Sync \n8 DVSS4 \x97  \x97 Digital Signal Ground \n9 DVDD4 \x97  \x97 Digital Positive Supply \n10 OUTB3 \x97  O User-Selectable Output B \n11 OUTA3 \x97  O User-Selectable Output A \n12 SYSCLK3 \x97  I Transmit/Receive System Clock \n13 RSER3 \x97  O Receive Serial Data \n14 RSYNC3 \x97  I/O Receive Sync \n15 RVSS4 \x97  \x97 Receive Analog Signal Ground \n16 RTIP3 \x97  I Receive Analog Tip Input \n17 RRING3 \x97  I Receive Analog Ring Input \n18 RVDD4 \x97  \x97 Receive Analog Positive Supply \n19 D0/AD0 \x97  I/O Data Bus Bit 0/Address/Data Bus Bit 0 \n20 D1/AD1 \x97  I/O Data Bus Bit 1/Address/Data Bus Bit 1 \n21 D2/AD2 \x97  I/O Data Bus Bit 2/Address/Data Bus Bit 2 \n22 D3/AD3 \x97  I/O Data Bus Bit 3/Address/Data Bus Bit 3 \n23 D4/AD4 \x97  I/O Data Bus Bit 4/Address/Data Bus Bit 4 \n24 D5/AD5 \x97  I/O Data Bus Bit 5/Address/Data Bus Bit 5 \n25 D6/AD6 \x97  I/O Data Bus Bit 6/Address/Data Bus Bit 6 \n26 TTIP3 \x97  O Transmit Analog Tip Output \n27 TVSS3 \x97  \x97 Transmit Analog Signal Ground \n28 TVDD3 \x97  \x97 Transmit Analog Positive Supply \n29 TRING3 \x97  O Transmit Analog Ring Output \n30 TCLK3 \x97  I Transmit Clock \n31 TSER3 \x97  I Transmit Serial Data \n32 TSYNC3 \x97  I/O Transmit Sync \n33 DVSS3 \x97  \x97 Digital Signal Ground \n34 DVDD3 \x97  \x97 Digital Positive Supply \n35 OUTB2 \x97  O User-Selectable Output B \n36 OUTA2 \x97  O User-Selectable Output A \n37 SYSCLK2 \x97  I Transmit/Receive System Clock \n38 RSER2 \x97  O Receive Serial Data \n39 RSYNC2 \x97  I/O Receive Sync \n40 RVSS3 \x97  \x97 Receive Analog Signal Ground \n41 RTIP2 \x97  I Receive Analog Tip Input \n42 RRING2 \x97  I Receive Analog Ring Input \n43 RVDD3 \x97  \x97 Receive Analog Positive Supply \n44 D7/AD7 SDO I/O Data Bus Bit 7/Addres s/Data Bus Bit 7 [Serial Data Output] \n45 A0 ICES I Address Bus Bit 0/Serial Port [Input-Clock Edge Select] \n46 A1 OCES I Address Bus Bit 1/Serial Port [Output-Clock Edge Select] \n47 A2 \x97  I Address Bus Bit 2 \n48 A3 \x97  I Address Bus Bit 3 \n49 A4 \x97  I Address Bus Bit 4 \n50 ALE (AS)/A5 \x97  I Address Latch Enable/Address Bus Bit 5 \n51 TTIP2 \x97  O Transmit Analog Tip Output \n52 TVSS2 \x97  \x97 Transmit Analog Signal Ground \n53 TVDD2 \x97  \x97 Transmit Analog Positive Supply \n54 TRING2 \x97  O Transmit Analog Ring Output \nDS21Q59 Quad E1 Transceiver \n \n \n11 of 76 NAME \nPIN PARALLEL \nPORT ENABLED SERIAL PORT \nENABLED TYPE FUNCTION \n[Serial Port Mode in Brackets] \n55 TCLK2 \x97  I Transmit Clock \n56 TSER2 \x97  I Transmit Serial Data \n57 TSYNC2 \x97  I/O Transmit Sync \n58 DVSS2 \x97  \x97 Digital Signal Ground \n59 DVDD2 \x97  \x97 Digital Positive Supply \n60 OUTB1 \x97  O User-Selectable Output B \n61 OUTA1 \x97  O User-Selectable Output A  \n62 SYSCLK1 \x97  I Transmit/Receive System Clock \n63 RSER1 \x97  O Receive Serial Data \n64 RSYNC1 \x97  I/O Receive Sync \n65 RVSS2 \x97  \x97 Receive Analog Signal Ground \n66 RTIP1 \x97  I Receive Analog Tip Input \n67 RRING1 \x97  I Receive Analog Ring Input \n68 RVDD2 \x97  \x97 Receive Analog Positive Supply \n69 AJACKO \x97  O Alternate Jitter Attenuator Clock Output \n70 AJACKI \x97  I Alternate Jitter Attenuator Clock Input \n71 4/8/16MCK \x97  O 4.096MHz, 8.192MHz, or 16.384MHz Clock \n72 REFCLK \x97  I/O Reference Clock \n73 MCLK \x97  I Master Clock Input \n74 WR (R/W) SDI I Write Input (Read/Write) [Serial Data Input] \n75 RD (DS) SCLK I Read Input (Data Strobe) [Serial Port Clock] \n76 TTIP1 \x97  O Transmit Analog Tip Output \n77 TVSS1 \x97  \x97 Transmit Analog Signal Ground \n78 TVDD1 \x97  \x97 Transmit Analog Positive Supply \n79 TRING1 \x97  O Transmit Analog Ring Output \n80 TCLK1 \x97  I Transmit Clock \n81 TSER1 \x97  I Transmit Serial Data \n82 TSYNC1 \x97  I/O Transmit Sync \n83 DVSS1 \x97  \x97 Digital Signal Ground \n84 DVDD1 \x97  \x97 Digital Positive Supply \n85 OUTB4 \x97  O User-Selectable Output B \n86 OUTA4 \x97  O User-Selectable Output A \n87 SYSCLK4 \x97  I Transmit/Receive System Clock \n88 RSER4 \x97  O Receive Serial Data \n89 RSYNC4 \x97  I/O Receive Sync \n90 RVSS1 \x97  \x97 Receive Analog Signal Ground \n91 RTIP4 \x97  I Receive Analog Tip Input \n92 RRING4 \x97  I Receive Analog Ring Input \n93 RVDD1 \x97  \x97 Receive Analog Positive Supply \n94 INT \x97 O Interrupt \n95 PBTS \x97  I Parallel Bus Type Select \n96 BTS0 \x97  \x97 Bus Type Select 0 \n97 BTS1 \x97  \x97 Bus Type Select 1 \n98 CS \x97 I Chip Select \n99 TS0 \x97  I Transceiver Select 0 \n100 TS1 \x97  I Transceiver Select 1 \n \nNote:  EQVSS lines are wired to RVSS. \n \nDS21Q59 Quad E1 Transceiver \n \n \n12 of 76 4.1 Pin Function Descriptions \nTable 4-C. System (Backplane) Interface Pins \nNAME TYPE FUNCTION \nTCLK I Transmit Clock.  TCLK is a 2.048MHz primary clock that is used to clock data through the transmit \nformatter. \nTSER I Transmit Serial Data.  Transmit NRZ serial data. TSER is sampled on the falling edge of TCLK when \nIBO disabled. It is sampled on the falling edge of SYSCLK when the IBO function is enabled. \nTSYNC I/O Transmit Sync.  As an input, pulse at this pin establishes either frame or multiframe boundaries for the \ntransmitter. As an output, it can be programmed to output either a frame or multiframe pulse.  \nRSER O Receive Serial Data.  RSER is the received NRZ serial data. RSER is updated on the rising edges of \nRCLK when the receive elastic store is disabled. It is updated on the rising edges of SYSCLK when the \nreceive elastic store is enabled.  \nRSYNC I/O Receive Sync.  An extracted pulse one RCLK wide is output at this pin that identifies either frame or \nCAS/CRC4 multiframe boundaries. If the receive elastic store is enabled, this pin can be enabled to be an input at which a frame-boundary pulse synchronous with SYSCLK is applied. \nSYSCLK I System Clock.  SYSCLK is a 2.048MHz clock used to clock data out of the receive elastic store. When \nthe IBO is enabled SYSCLK can be a 4.096MHz, 8.192MHz, or 16.384MHz clock.  \nOUTA O User-Selectable Output A.  OUTA is a multifunction pin the host can program to output various alarms, \nclocks, or data, or be used to control external circuitry.  \nOUTB O User-Selectable Output B.  OUTB is a multifunction pin the host can program to output various alarms, \nclocks, or data, or be used to control external circuitry.  \nTable 4-D. Alternate Jitter Attenuator \nNAME TYPE FUNCTION \nAJACKI I Alternate Jitter Attenuator Clock Input.  AJACKI is clock input to the alternate jitter attenuator. \nAJACKO O Alternate Jitter Attenuator Clock Output.  AJACKO is clock output of the alternate jitter attenuator. \nTable 4-E. Clock Synthesizer \nNAME TYPE FUNCTION \n4/8/16MCK O 4.096MHz/8.192MHz/16.384MHz Clock Output.  4/8/16MCK is a 4.096MHz, 8.192MHz, or 16.384MHz \nclock output that is referenced to one of the four recovered line clocks (RCLKs) or to an external \n2.048MHz reference. \nREFCLK I/O Reference Clock.  REFCLK can be configured as an output to source a 2.048MHz reference clock or as \nan input to supply a 2.048MHz reference clock from an external source to the clock synthesizer. \nTable 4-F. Parallel Port Control Pins \nNAME TYPE FUNCTION \nINT O Interrupt.  INT flags the host controller during conditions and change of conditions defined in status \nregisters 1 and 2 and the HDLC status register. It is an active-low, open-drain output.  \nBTS0 I Bus Type Select Bit 0.  BTS0 is used with BTS1 to select between muxed, nonmuxed, serial bus \noperation, and output high-Z mode. \nBTS1 I Bus Type Select Bit 1.  BTS1 is used with BTS0 to select between muxed, nonmuxed, serial bus \noperation, and output high-Z mode.  \nTS0 I Transceiver Select Bit 0.  TS0 is used with TS1 to select one of four transceivers.  \nTS1 I Transceiver Select Bit 1.  TS1 is used with TS0 to select one of four transceivers. \nPBTS I Parallel Bus Type Select.  PBTS is used to select between Motorola and Intel parallel bus types.  \nAD0 to \nAD7/SDO I/O Data Bus or Address/Data Bus [D0 to D6], Data Bus or Address/Data Bus [D7]/Serial Port Output. \nIn nonmultiplexed bus operation (MUX = 0), these pins serve as the data bus. In multiplexed bus \noperation (MUX = 1), they serve as an 8-bit multiplexed address/data bus.  \nA0 to A4 I Address Bus. In nonmultiplexed bus operation, these pins serve as the address bus. In multiplexed bus \noperation, these pins are not used and should be wired low.  \nRD (DS)/SCLK I Read Input\x97Data Strobe/Serial Port Clock.  RD and DS are active-low signals. DS is active high when \nin multiplexed mode (Section 26). \nCS I Chip Select.  CS must be low to read or write to the device. It is an active-low signal . \nALE (AS)/A5 I Address Latch Enable (Address Strobe) or A6.  In nonmultiplexed bus operation, this pin serves as the \nupper address bit. In multiplexed bus operation, it demultiplexes the bus on a positive-going edge.  \nWR (R/W)/SDI I Write Input (Read/Write)/Serial Port Data Input, Active Low  \nDS21Q59 Quad E1 Transceiver \n \n \n13 of 76 Table 4-G. Serial Port Control Pins \nNAME TYPE FUNCTION \nSDO O Serial Port Data Output.  Data at this output can be updated on the rising or fa lling edge of SCLK.  \nSDI I Serial Port Data Input.  Data at this input can be sampled on the rising or fa lling edge of SCLK. \nICES I Input Clock-Edge Select.  ICES is used to select which SCLK clock edge samples data at SDI.  \nOCES I Output Clock-Edge Select.  OCES is used to select which SCLK clock edge updates data at SDO.  \nSCLK I Serial Port Clock.  SCLK is used to clock data into and out of the serial port. \nTable 4-H. Line Interface Pins \nNAME TYPE FUNCTION \nMCLK I Master Clock Input.  A 2.048MHz (±50ppm) clock source with TTL levels is applied at this pin. This clock is \nused internally for both clock/data recovery and for jitter attenuation.  \nRTIP and \nRRING I Receive Tip and Ring.  RTIP and RRING are analog inputs for clock recovery circuitry. These pins connect \nthrough a 1:1 step-up transformer to the E1 line. See Section 21 for details. \nTTIP and \nTRING O Transmit Tip and Ring.  TTIP and TRING are analog line-driver outputs. These pins connect through a 1:2 \nstep-up transformer to the E1 line. See Section 21 for details.  \nTable 4-I. Supply Pins \nNAME TYPE FUNCTION \nDVDD Supply Digital Positive Supply.  3.3V ±5%. Should be wired to the RVDD and TVDD pins.  \nRVDD Supply Receive Analog Positive Supply.  3.3V ±5%. Should be wired to the DVDD and TVDD pins. \nTVDD Supply Transmit Analog Positive Supply.  3.3V ±5%. Should be wired to the RVDD and DVDD pins.  \nDVSS Supply  Digital Signal Ground.  0V. Should be wired to the RVSS and TVSS pins.  \nRVSS Supply  Receive Analog Signal Ground.  0V. Should be wired to DVSS and TVSS.  \nTVSS Supply  Transmit Analog Signal Ground.  0V. Should be wired to DVSS and RVSS.  \n \n5. FUNCTIONAL DESCRIPTION \nThe analog AMI/HDB3 waveform off the E1 line is transformer-coupled into the DS21Q59\x92s RRING and RTIP pins. \nThe device recovers clock and data from the analog signal and passes it through the jitter attenuation mux to the receive framer, where the digital serial stream is analyzed to locate the framing/multiframe pattern. The DS21Q59 contains an active filter that reconstructs the analog-received signal for the nonlinear losses that occur in transmission. The device has a usable receive sensitivity of 0dB to -43dB, which allows the device to operate on \ncables over 2km in length. The receive framer locates FAS frame and CRC and CAS multiframe boundaries as well \nas detects incoming alarms including carrier loss, loss of synchronization, AIS, and remote alarm. If needed, the receive elastic store can be enabled to absorb the phase and frequency differences between the recovered E1 data stream and an asynchronous backplane clock, which is provided at the SYSCLK input. The clock applied at the SYSCLK input can be either a 2.048MHz/4.096MHz/8.192MHz or 16.384MHz clock. The transmit framer is independent of the receive framer in both the clock requirements and characteristics. The transmit formatter \nprovides the necessary frame/multiframe data overhead for E1 transmission.  \n \nNote:  This data sheet assumes a particular nomenclature of the E1 operating environment. In each 125 /g109s frame, \nthere are 32 8-bit time slots numbered 0 to 31. Time slot 0 is transmitted first and received first. These 32 time slots are also referred to as channels with a numbering scheme of 1 to 32. Time slot 0 is identical to channel 1, time slot 1 is identical to channel 2, and so on. Each time slot (or channel) is made up of eight bits that are numbered 1 to 8. Bit number 1, MSB, is transmitted first. Bit number 8, the LSB, is transmitted last. The term \x93locked\x94 is used to refer \nto two clock signals that are phase-locked or frequency-locked or derived from a common clock (i.e., an 8.192MHz \nclock can be locked to a 2.048MHz clock if they share the same 8kHz component).\n \nDS21Q59 Quad E1 Transceiver \n \n \n14 of 76 6. HOST INTERFACE PORT \nThe DS21Q59 is controlled through either a nonmultiplexed bus, a multiplexed bus, or serial interface bus by an external microcontroller or microprocessor. The device can operate with either Intel or Motorola bus timing \nconfigurations. See Table 6-A\n for a description of the bus configurations. Motorola bus signals are listed in \nparentheses (). See the timing diagrams in the AC Electrical Characteristics  in Section 26 for more details. \nTable 6-A. Bus Mode Select \nPBTS BTS1 BTS0 PARALLEL PORT MODE \n0 0 0 Intel Multiplexed \n0 0 1 Intel Nonmultiplexed \n1 0 0 Motorola Multiplexed \n1 0 1 Motorola Nonmultiplexed \nX 1 0 Serial \nX 1 1 TEST (Outputs High-Z) \n6.1 Parallel Port Operation \nWhen using the parallel interface on the DS21Q59 (BTS1 = 0) the user has the option for either multiplexed bus \noperation (BTS1 = 0, BTS0 = 0) or nonmultiplexed bus operation (BTS1 = 0, BTS0 = 1). The DS21Q59 can operate \nwith either Intel or Motorola bus timing configurations. If the PBTS pin is wired low, Intel timing is selected; if wired \nhigh, Motorola timing is selected. All Motorola bus signals are listed in parentheses (). See the timing diagrams in Section 26\n for more details. \n6.2 Serial Port Operation \nSetting the BTS1 pin = 1 and BTS0 pin = 0 enables the serial bus interface on the DS21Q59. Port read/write timing \nis unrelated to the system transmit and receive timing, allowing asynchronous reads or writes by the host. See \nSection 26 for the AC timing of the serial port. All serial port accesses are LSB first. See Figure 6-1 , Figure 6-2 , \nFigure 6-3 , and Figure 6-4  for more details. \n Reading or writing to the internal registers requires writing one address/command byte prior to transferring register \ndata. The first bit written (LSB) of the address/command byte specifies whether the access is a read (1) or a write \n(0). The next five bits identify the register address. The next bit is reserved and must be set to 0 for proper operation. The last bit (MSB) of the address/command byte enables the burst mode when set to 1. The burst mode causes all registers to be consecutively written or read.  \nAll data transfers are initiated by driving the \nCS input low. When input-clock edge select (ICES) is low, input data is \nlatched on the rising edge of SCLK; when ICES is high, input data is latched on the falling edge of SCLK. When \noutput-clock edge select (OCES) is low, data is output on the falling edge of SCLK; when OCES is high, data is output on the rising edge of SCLK. Data is held until the next falling or rising edge. All data transfers are terminated \nif the  \nCS input transitions high. Port control logic is disabled and SDO is tri-stated when  CS is high.  \nFigure 6-1. Serial Port Operation Mode 1  \nICES = 1 (SAMPLE SDI ON THE FALLING EDGE OF SCLK) \nOCES = 1 (UPDATE SDO ON THE RISING EDGE OF SCLK )\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16\nR/W A0 A1 A2 A3 A4 A5 B\nD1 D2 D3 D4 D5 D6 SCLK \nSDI \nSDO CS \nLSB  MSB\nD0LSBD7\nMSB\nDS21Q59 Quad E1 Transceiver \n \n \n15 of 76 Figure 6-2. Serial Port Operation Mode 2 \n  \n \n     \n \n     \n \n \nFigure 6-3. Serial Port Operation Mode 3 \n \n \n     \n \n     \n \n \nFigure 6-4. Serial Port Operation Mode 4 \n ICES = 1 (SAMPLE SDI ON THE FALLING EDGE OF SCLK) \nOCES = 0 (UPDATE SDO ON THE FALLING EDGE OF SCLK)  \n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16\nR/W A0 A1 A2 A3 A4 A5 B\nD1 D2 D3 D4 D5 D6 SCLK \nSDI \nSDO CS \nLSB MSB\nD0LSBD7\nMSB\nICES = 0 (SAMPLE SDI ON THE RISING EDGE OF SCLK) \nOCES = 0 (UPDATE SDO ON THE FALLING EDGE OF SCLK)  \n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16\nR/W A0 A1 A2 A3 A4 A5 B\nD1 D2 D3 D4 D5 D6 SCLK \nSDI \nSDO CS \nLSB MSB\nD0LSBD7\n \nMSB \nICES = 0 (SAMPLE SDI ON THE RISING EDGE OF SCLK) \nOCES = 1 (UPDATE SDO ON THE RISING EDGE OF SCLK)  \n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16\nR/W A0 A1 A2 A3 A4 A5 B\nD1 D2 D3 D4 D5 D6 SCLK \nSDI \nSDO CS \nLSB MSB\nD0LSBD7\nMSB\nDS21Q59 Quad E1 Transceiver \n \n \n16 of 76 7. REGISTER MAP \nTable 7-A. Register Map (Sorted by Address) \nADDRESS R/W NAME FUNCTION \n00 R VCR1 BPV or Code Violation Count 1 \n01 R VCR2 BPV or Code Violation Count 2 \n02 R CRCCR1 CRC4 Error Count 1 \n03 R CRCCR2 CRC4 Error Count 2 \n04 R EBCR1 E-Bit Count 1/PRBS Error Count 1 \n05 R EBCR2 E-Bit Count 2/PRBS Error Count 2 \n06 R FASCR1 FAS Error Count 1 \n07 R FASCR2 FAS Error Count 2 \n08 R/W RIR Receive Information \n09 R SSR Synchronizer Status \n0A R/W SR1 Status 1 \n0B R/W SR2 Status 2  \n0C \x97 \x97  Unused \n0D \x97  \x97 Unused \n0E \x97  \x97 Unused \n0F R IDR Device ID  (Note 1) \n10 R/W RCR Receive Control \n11 R/W TCR Transmit Control 1 \n12 R/W CCR1 Common Control 1 \n13 R/W CCR2 Common Control 2 \n14 R/W CCR3 Common Control 3 \n15 R/W CCR4 Common Control 4 \n16 R/W CCR5 Common Control 5 \n17 R/W LICR Line Interface Control Register \n18 R/W IMR1 Interrupt Mask 1 \n19 R/W IMR2 Interrupt Mask 2 \n1A R/W OUTAC Output A Control \n1B R/W OUTBC Output B Control \n1C R/W IBO Interleave Bus Operation Register \n1D R/W SCICR System Clock-Interface Control Register (Note 1) \n1E R/W TEST3 (set to 00h) Test 2  (Note 2) \n1F R/W CCR7 Common Control 7 \n20 R/W TAF Transmit Align Frame \n21 R/W TNAF Transmit Nonalign Frame \n22 R TDS0M Transmit DS0 Monitor \n23 R/W TIDR Transmit Idle Definition \n24 R/W TIR1 Transmit Idle 1 \n25 R/W TIR2 Transmit Idle 2 \n26 R/W TIR3 Transmit Idle 3 \n27 R/W TIR4 Transmit Idle 4 \n28 R RAF Receive Align Frame \n29 R RNAF Receive Nonalign Frame \n2A R RDS0M Receive DS0 Monitor \n2B R/W PCLB1 Per-Channel Loopback Control 1 \n2C R/W PCLB2 Per-Channel Loopback Control 2 \n2D R/W PCLB3 Per-Channel Loopback Control 3 \n2E R/W PCLB4 Per-Channel Loopback Control 4 \n2F R/W CCR6 Common Control 6 \n30 R/W SA1 Signaling Access Register 1 \n31 R/W SA2 Signaling Access Register 2 \n32 R/W SA3 Signaling Access Register 3 \n33 R/W SA4 Signaling Access Register 4 \n34 R/W SA5 Signaling Access Register 5 \n35 R/W SA6 Signaling Access Register 6 \n36 R/W SA7 Signaling Access Register 7 \nDS21Q59 Quad E1 Transceiver \n \n \n17 of 76 ADDRESS R/W NAME FUNCTION \n37 R/W SA8 Signaling Access Register 8 \n38 R/W SA9 Signaling Access Register 9 \n39 R/W SA10 Signaling Access Register 10 \n3A R/W SA11 Signaling Access Register 11 \n3B R/W SA12 Signaling Access Register 12 \n3C R/W SA13 Signaling Access Register 13 \n3D R/W SA14 Signaling Access Register 14 \n3E R/W SA15 Signaling Access Register 15 \n3F R/W SA16 Signaling Access Register 16 \n \nNote 1:  The device ID register and the system clock-interface control register exist in Transceiver 1 only (TS0, TS1 = 0). \nNote 2:  Only the factory uses the test register; this register must be cleared (set to all zeros) on power-up initialization to ensure  proper \noperation.   \n \n \n8. CONTROL, ID, AND TEST REGISTERS \nThe DS21Q59 operation is configured through a set of nine control registers. Typically, registers are only accessed \nwhen the system is first powered up. Once the device has been initialized, the control registers only need to be \naccessed when there is a change in the system configurat ion. There is one receive control register (RCR), one \ntransmit control register (T CR), and seven common control registers (CCR1 to CCR7). Each of these registers is \ndescribed in this section.   Address 0Fh has a device identification register (IDR). The four MSBs of this read-only register are fixed to 1 0 0 1, \nindicating that a DS21Q59 E1 quad transceiver is present. The lower 4 bits of the IDR are used to identify the \nrevision of the device. This register exists in Transceiver 1 only (TS0, TS1 = 0).   The factory in testing the DS21Q59 uses the test register at addresses 1E. On power-up, the test register should be set to 00h for the DS21Q59 to properly operate.\n \n \nRegister Name: IDR \nRegister Description: Device Identification Register \nRegister Address: 0F Hex \n \nBit # 7 6 5 4 3 2 1 0 \nName 1 0 0 1 ID3 ID2 ID1 ID0 \n \nNAME BIT FUNCTION \n1 7 Bit 7 \n0 6 Bit 6  \n0 5 Bit 5  \n1 4 Bit 4  \nID3 3 Chip Revision Bit 3.  MSB of a decimal code that represents the chip revision. \nID2 1 Chip Revision Bit 2  \nID1 2 Chip Revision Bit 1  \nID0 0 Chip Revision Bit 0.  LSB of a decimal code that represents the chip revision. \n \nDS21Q59 Quad E1 Transceiver \n \n \n18 of 76 8.1 Power-Up Sequence \nOn power-up and after the supplies are stable, the DS21Q59 should be configured for operation by writing to all the internal registers (this includes setting the test register to 00h) since the contents of the internal registers cannot be \npredicted on power-up. The LIRST (CCR5.4) should be toggled from 0 to 1 to reset the line interface circuitry. (It \ntakes the device about 40ms to recover from the LIRST bit being toggled.) After the SYSCLK input is stable, the ESR bits (CCR4.5 and CCR4.6) should be toggled from 0 to 1 (this step can be skipped if the elastic store is disabled). \n \nRegister Name: RCR \nRegister Description: Receive Control Register \nRegister Address: 10 Hex \n \nBit # 7 6 5 4 3 2 1 0 \nName RSMF RSM RSIO RESE \x97 FRC SYNCE RESYNC \n \nNAME BIT FUNCTION \nRSMF 7 RSYNC Multiframe Function.  Only used if the RSYNC pin is programmed in the \nmultiframe mode (RCR.6 = 1). \n0 = RSYNC outputs CAS multiframe boundaries. \n1 = RSYNC outputs CRC4 multiframe boundaries. \nRSM 6 RSYNC Mode Select  \n0 = frame mode (see the timing diagrams in Section 24.1) \n1 = multiframe mode (see the timing diagrams in Section 24.1) \nRSIO 5 RSYNC I/O Select.  (Note: This bit must be set to 0 when RCR .4 = 0.) \n0 = RSYNC is an output (depends on RCR.6) \n1 = RSYNC is an input (only valid if elastic store enabled) \nRESE 4 Receive Elastic Store Enable  \n0 = elastic store is bypassed \n1 = elastic store is enabled \n\x97 3 Unused. Should be set = 0 for proper operation.  \nFRC 2 Frame Resync Criteria  \n0 = resync if FAS received in error three consecutive times \n1 = resync if FAS or bit 2 of non-FAS is received in error three consecutive times \nSYNCE 1 Sync Enable  \n0 = auto resync enabled \n1 = auto resync disabled \nRESYNC 0 Resync.  When toggled from low to high, a resync is initiated. Must be cleared and \nset again for a subsequent resync. \n \nDS21Q59 Quad E1 Transceiver \n \n \n19 of 76 Table 8-A. Sync/Resync Criteria \nFRAME OR \nMULTIFRAME \nLEVEL SYNC CRITERIA RESYNC CRITERIA ITU SPEC. \nFAS FAS present in frame N and N + 2, \nand FAS not present in frame N + 1 Three consecutive incorrect FAS received; \nalternate (RCR1.2 = 1): if the above criteria is met or three consecutive incorrect bit 2 of non-FAS received G.706 \n4.1.1 4.1.2 \nCRC4 Two valid MF alignment words found \nwithin 8ms 915 or more CRC4 codewords out of 1000 \nreceived in error G.706 \n4.2 and 4.3.2 \nCAS Valid MF alignment word found and \nprevious time slot 16 contains code other than all zeros Two consecutive MF alignment words \nreceived in error G.732 5.2 \n \nRegister Name: TCR \nRegister Description: Transmit Control Register \nRegister Address: 11 Hex \n \nBit # 7 6 5 4 3 2 1 0 \nName IFSS TFPT AEBE TUA1 TSiS TSA1 TSM TSIO \n \nNAME BIT FUNCTION \nIFSS 7 Internal Frame-Sync Select \n0 = TSYNC normal \n1 = if TSYNC is in the INPUT mode (TSIO = 0), then TSYNC is internally replaced by the recovered receive frame sync. The TSYNC pin is ignored 1 = if TSYNC is in the OUTPUT mode (TSIO = 1), then TSYNC outputs the \nrecovered multiframe frame sync \nTFPT 6 Transmit Time Slot 0 Pass Through  \n0 = FAS bits/Sa bits/remote alarm sourced internally from the TAF and TNAF \nregisters 1 = FAS bits/Sa bits/remote alarm sourced from TSER \nAEBE 5 Automatic E-Bit Enable  \n0 = E-bits not automatically set in the transmit direction 1 = E-bits automatically set in the transmit direction \nTUA1 4 Transmit Unframed All Ones  \n0 = transmit data normally \n1 = transmit an unframed all-ones code \nTSiS 3 Transmit International Bit Select  \n0 = sample Si bits at TSER pin \n1 = source Si bits from TAF and TNAF registers (In this mode, TCR.6 must be \nset to 0) \nTSA1 2 Transmit Signaling All Ones  \n0 = normal operation \n1 = force time slot 16 in every frame to all ones \nTSM 1 TSYNC Mode Select  \n0 = frame mode (see the timing diagrams in Section 24.2) \n1 = CAS and CRC4 multiframe mode (see the timing diagrams in Section 24.2) \nTSIO 0 TSYNC I/O Select  \n0 = TSYNC is an input \n1 = TSYNC is an output \n \nNote:  See Figure 24-9  for more details about how the transmit control register affects DS21Q59 operation. \n \nDS21Q59 Quad E1 Transceiver \n \n \n20 of 76 Register Name: CCR1 \nRegister Description: Common Control Register 1 \nRegister Address: 12 Hex \n Bit # 7 6 5 4 3 2 1 0 \nName FLB THDB3 TIBE TCRC4 RSMS RHDB3 PCLMS RCRC4 \n \nNAME BIT FUNCTION \nFLB 7 Framer Loopback. See Section 8.2 for details. \n0 = loopback disabled \n1 = loopback enabled \nTHDB3 6 Transmit HDB3 Enable  \n0 = HDB3 disabled \n1 = HDB3 enabled \nTIBE 5 Transmit Insert Bit Error. A 0-to-1 transition causes a single bit error to be \ninserted in the transmit path. \nTCRC4 4 Transmit CRC4 Enable  \n0 = CRC4 disabled 1 = CRC4 enabled \nRSMS 3 Receive Signaling Mode Select  \n0 = CAS signaling mode. Receiver searches for the CAS MF alignment \nsignal. 1 = CCS signaling mode. Receiver does not search for the CAS MF \nalignment signal. \nRHDB3 2 Receive HDB3 Enable  \n0 = HDB3 disabled \n1 = HDB3 enabled \nPCLMS 1 Per-Channel Loopback Mode Select. See Section 17 for details.  \n0 = remote per-channel loopback \n1 = local per-channel loopback \nRCRC4 0 Receive CRC4 Enable  \n0 = CRC4 disabled \n1 = CRC4 enabled \n \nDS21Q59 Quad E1 Transceiver \n \n \n21 of 76 8.2 Framer Loopback \nWhen CCR1.7 is set to 1, the DS21Q59 enters a framer loopback (FLB) mode ( Figure 3-1 ). This loopback is useful \nin testing and debugging applications. In FLB mode, the SCT loops data from the transmitter back to the receiver. When FLB is enabled, the following occurs:  \n1) Data is transmitted as normal at TPOSO and TNEGO. \n2) Data input through RPOSI and RNEGI is ignored. 3) The RCLK output is replaced with the TCLK input.\n  \n Register Name: CCR2 \nRegister Description: Common Control Register 2 \nRegister Address: 13 Hex \n \nBit # 7 6 5 4 3 2 1 0 \nName ECUS VCRFS AAIS ARA RSERC LOTCMC RCLA TCSS \n \nNAME BIT FUNCTION \nECUS 7 Error Counter Update Select.  See Section 10 for details. \n0 = update error counters once a second \n1 = update error counters every 62.5ms (500 frames) \nVCRFS 6 VCR Function Select.  See Section 10 for details. \n0 = count bipolar violations (BPVs) \n1 = count code violations (CVs) \nAAIS 5 Automatic AIS Generation  \n0 = disabled \n1 = enabled \nARA 4 Automatic Remote Alarm Generation  \n0 = disabled \n1 = enabled \nRSERC 3 RSER Control  \n0 = allow RSER to output data as received under all conditions 1 = force RSER to 1 under loss-of-frame alignment conditions \nLOTCMC 2 Loss-of-Transmit Clock Mux Control.  Determines whether the transmit \nformatter should switch to the ever present RCLK if the TCLK should fail to \ntransition.  0 = do not switch to RCLK if TCLK stops \n1 = switch to RCLK if TCLK stops \nRCLA 1 Receive Carrier Loss (RCL) Alternate Criteria  \n0 = RCL declared upon 255 consecutive 0s (125 /g109s) \n1 = RCL declared upon 2048 consecutive 0s (1ms) \nTCSS 0 Transmit Clock Source Select.  This function allows the user to internally \nselect RCLK as the clock source for the transmit formatter. \n0 = source of transmit clock is determined by CCR2.2 (LOTCMC) 1 = forces transmitter to internally switch to RCLK as source of transmit clock; \nsignal at TCLK pin is ignored \n \nDS21Q59 Quad E1 Transceiver \n \n \n22 of 76 8.3 Automatic Alarm Generation \nThe device can be programmed to automatically transmit AIS or remote alarm. When automatic AIS generation is enabled (CCR2.5 = 1), the device monitors the receive framer  to determine if any of the following conditions are \npresent: loss-of-receive frame synchronization, AIS alarm (all ones) reception, or loss-of-receive carrier (or signal). \nIf one (or more) of these conditions is present, the framer forces an AIS alarm.  When automatic RAI generation is enabled (CCR2.4 = 1), the receiver is monitored to determine if any of the following conditions are present: loss-of-receive frame synchronization, AIS alarm (all ones) reception, or loss-of-receive carrier (or signal), or if CRC4 multiframe synchronization cannot be found within 128ms of FAS \nsynchronization (if CRC4 is enabled). If one (or more) of these conditions is present, the device transmits an RAI \nalarm. RAI generation conforms to ETS 300 011 specifications, and a constant remote alarm is transmitted if the DS21Q59 cannot find CRC4 multiframe synchronization within 400ms as per G.706.  Register Name: CCR3 \nRegister Description: Common Control Register \nRegister Address: 14 Hex \n \nBit # 7 6 5 4 3 2 1 0 \nName RLB LLB LIAIS TCM4 TCM3 TCM2 TCM1 TCM0 \n \nNAME BIT FUNCTION \nRLB 7 Remote Loopback. See Section 8.4 for details. \n0 = loopback disabled \n1 = loopback enabled \nLLB 6 Local Loopback. See Section 8.5 for details. \n0 = loopback disabled \n1 = loopback enabled   \nLIAIS 5 Line Interface AIS-Generation Enable  \n0 = allow normal data to be transmitted at TTIP and TRING  \n1 = force unframed all ones to be transmitted at TTIP and TRING at the MCLK rate \nTCM4 4 Transmit Channel Monitor Bit 4 . MSB of a channel decode that \ndetermines which transmit channel data appears in the TDS0M register. \nSee Section 10 or details. \nTCM3 3 Transmit Channel Monitor Bit 3  \nTCM2 2 Transmit Channel Monitor Bit 2  \nTCM1 1 Transmit Channel Monitor Bit 1  \nTCM0 0 Transmit Channel Monitor Bit 0.  LSB of the channel decode. \n \n8.4 Remote Loopback \nWhen CCR4.7 is set to 1, the DS21Q59 is forced into remote loopback (RLB) mode. In this loopback, data input \nthrough the RPOSI and RNEGI pins is transmitted back to the TPOSO and TNEGO pins. Data continues to pass through the DS21Q59\x92s receive framer as it would normally and the data from the transmit formatter is ignored (Figure 3-1\n). \n \nDS21Q59 Quad E1 Transceiver \n \n \n23 of 76 8.5 Local Loopback \nWhen CCR4.6 is set to 1, the DS21Q59 is forced into local loopback (LLB) mode. In this loopback, data continues to be transmitted as normal. Data being received at RTIP and RRING is replaced with the data being transmitted. Data in this loopback passes through the jitter attenuator ( Figure 3-1\n). \n \nRegister Name: CCR4 \nRegister Description: Common Control Register 4 \nRegister Address: 15 Hex \n \nBit # 7 6 5 4 3 2 1 0 \nName LIRST RESA RESR RCM4 RCM3 RCM2 RCM1 RCM0 \n \nNAME BIT FUNCTION \nLIRST 7 Line Interface Reset.  Setting this bit from 0 to 1 initiates an internal reset \nthat affects the clock recovery state machine and jitter attenuator. Normally this bit is only toggled on power-up. It must be cleared and set again for a subsequent reset. \nRESA 6 Receive Elastic Store Align.  Setting this bit from 0 to 1 may force the \nreceive elastic store\x92s write/read pointers to a minimum separation of half \na frame. No action is taken if the pointer separation is already greater \nthan or equal to half a frame. If pointer separation is less than half a \nframe, the command is executed and data is disrupted. This bit should be toggled after SYSCLK has been applied and is stable. It must be cleared and set again for a subsequent align. See Section 18\n for details. \nRESR 5 Receive Elastic Store Reset.  Setting this bit from 0 to 1 forces the \nreceive elastic store to a depth of one frame. Receive data is lost during \nthe reset. The bit should be toggled after SYSCLK has been applied and \nis stable. It must be cleared and set again for a subsequent reset. See Section 18\n for details. \nRCM4 4 Receive Channel Monitor Bit 4.  MSB of a channel decode that \ndetermines which receive channel data appears in the RDS0M register. \nSee Section 10 for details. \nRCM3 3 Receive Channel Monitor Bit 3  \nRCM2 2 Receive Channel Monitor Bit 2  \nRCM1 1 Receive Channel Monitor Bit 1  \nRCM0 0 Receive Channel Monitor Bit 0.  LSB of the channel decode. \n \nDS21Q59 Quad E1 Transceiver \n \n \n24 of 76 Register Name: CCR5 \nRegister Description: Common Control Register 5 \nRegister Address: 16 Hex \n \nBit # 7 6 5 4 3 2 1 0 \nName LIUODO CDIG LIUSI IRTSEL TPRBS1 TPRBS0 RPRBS1 RPRBS0 \n \nNAME BIT FUNCTION \nLIUODO 7 Line Interface Open-Drain Option.  This control bit determines whether or not the \nTTIP and TRING outputs are open drain. The line driver outputs can be forced \nopen drain to allow 6V PEAK pulses to be generated or to allow the creation of a very \nlow power interface. 0 = allow TTIP and TRING to operate normally 1 = force the TTIP and TRING outputs to be open drain \nCDIG 6 Customer Disconnect Indication Generator.  This control bit determines whether \nthe line interface generates an unframed ...1010... pattern at TTIP and TRING \ninstead of the normal data pattern. \n0 = generate normal data at TTIP and TRING 1 = generate  a ...1010... pattern at TTIP and TRING \nLIUSI 5 Line Interface G.703 Synchronization Interface Enable.  This control bit works \nwith CCR7.0 to select G.703 functionality on the transmitter and receiver ( Table  \n8-B). These bits determine whether the line receiver and transmitter should \nreceive/transmit a normal E1 signal (Section 6 of G.703) or a 2.048MHz \nsynchronization signal (Section 10 of G.703). \nIRTSEL 4 Receive Termination Select. This function applies internal parallel resistance to \nthe normal 120 /g87 external termination to create a 75 /g87 termination. \n0 = normal 120 /g87 external termination \n1 = internally adjust receive termination to 75 /g87 \nTPRBS1 3 Transmit PRBS Mode Bit 1 \nTPRBS0 2 Transmit PRBS Mode Bit 0 \nRPRBS1 1 Receive PRBS Mode Bit 1 \nRPRBS0 0 Receive PRBS Mode Bit 0 \nTable 8-B. G.703 Function \nLIUSI \n(CCR5.5) TG703 \n(CCR7.0) FUNCTION \n0 0 Transmit and receive function normally \n0 1 Transmit G.703 signal, receiver functions normally \n1 0 Transmit and receive G.703 signal \n1 1 Receive G.703, transmitter functions normally \n \nDS21Q59 Quad E1 Transceiver \n \n \n25 of 76 Register Name: CCR6 \nRegister Description: Common Control Register 6 \nRegister Address: 2F Hex \n \nBit # 7 6 5 4 3 2 1 0 \nName OTM1 OTM0 SRAS LTC/SC T16S \x97 \x97 RESET \n \nNAME BIT FUNCTION \nOTM1 7 Output Test Mode 1  (Table 8-C ) \nOTM0 6 Output Test Mode 0 (Table 8-C ) \nSRAS 5 Signaling Read Access Select. This bit controls the function of registers \nSA1 through SA16 when reading. \n0 = reading SA1\x96SA16 accesses receive signaling data 1 = reading SA1\x96SA16 accesses transmit signaling data \nLTC/SC 4 Loss-of-Transmit Clock/Signaling Change-of-State Select. This bit \ndetermines how the status register bit at SR2.2 operates. \n0 = SR2.2 indicates loss-of-transmit clock \n1 = SR2.2 indicates signaling data has changed states since the last multiframe  \nT16S 3 Time Slot 16 Select . Transmit signaling insertion enable. \n0 =  signaling is not inserted into the transmit path from SA1\x96SA16 \n1 =  signaling is inserted into the transmit path from SA1\x96SA16 \n\x97 2 Unused. Should be set = 0 for proper operation.  \n\x97 1 Unused. Should be set = 0 for proper operation. \nRESET 0 Reset . A low-to-high transition of this bit resets all register bits to 0. \nTable 8-C. Output Modes \nOTM1 OTM0 OUTPUTS \n0 0 Normal Operation \n0 1 Outputs in Tri-State \n1 0 Outputs Low \n1 1 Outputs High \n \nDS21Q59 Quad E1 Transceiver \n \n \n26 of 76 Register Name: CCR7 \nRegister Description: Common Control Register 7 \nRegister Address: 1F Hex \n \nBit: 7 6 5 4 3 2 1 0 \nName: \x97 \x97 \x97 \x97 136S ALB \x97 TG703 \n \nNAME BIT FUNCTION \n\x97 7 Unused. Should be set = 0 for proper operation. \n\x97 6 Unused. Should be set = 0 for proper operation.  \n\x97 5 Unused. Should be set = 0 for proper operation. \n\x97 4 Unused. Should be set = 0 for proper operation.  \n136S 3 1:1.36 Transformer Select \n0 = 1:2 transmit transformer \n1 = 1:1.36 or 1:1.6 transmit transformer (see table below for details)  \nALB 2 Analog Loopback. Setting this bit internally connects TTIP and TRING to \nRTIP and RRING. The external signal at the RTIP and RRING pins is \nignored.  \n\x97 1 Unused. Should be set = 0 for proper operation. \nTG703 0 Transmit G.703. This control bit works with CCR5.5 to select G.703 \nfunctionality on the transmitter and receiver ( Table 8-B ). These bits \ndetermine whether the line receiver and transmitter should receive/ transmit a normal E1 signal (Section 6 of G.703) or a 2.048MHz synchronization signal (Section 10 of G.703).  \n \n136S L2 L1 L0 APPLICATION TRANSFORMER \n1:1.6 TRANSFORMER \n1:1.36 \n1 0 0 0 75/g87 Rt = 0 /g87 N.M. \n1 0 0 1 120/g87 Rt = 0 /g87 N.M. \n1 0 1 0 75/g87 Rt = 2.7 /g87 Rt = 0 /g87 \n1 0 1 1 120/g87 Rt = 3.3 /g87 Rt = 0 /g87 \n1 1 0 0 N.M. N.M. N.M. \n1 1 0 1 N.M. N.M. N.M. \n1 1 1 0 N.M. N.M. N.M. \n1 1 1 1 N.M. N.M. N.M. \n \nN.M. = Not meaningful \nDS21Q59 Quad E1 Transceiver \n \n \n27 of 76 9. STATUS AND INFORMATION REGISTERS \nThe DS21Q59 has a set of four registers that contain information about a framer\x92s real-time status. The registers include status register 1 (SR1), status register 2 (SR2), receive information register (RIR), and synchronizer status register (SSR).   \nWhen a particular event has occurred (or is occurring), the appropriate bit in one of these four registers is set to 1. \nAll the bits in the SR1, SR2, and RIR1 registers operate in a latched fashion. The SSR contents are not latched, which means that if an event or an alarm occurs and a bit is set to 1 in any of the registers, the bit remains set until the user reads that bit. The bit is cleared when it is read and is not set again until the event has occurred again (or, in the case of the RUA1, RRA, RCL, and RLOS alarms, the bit remains set if the alarm is still present).  \n \nThe user always precedes a read of the SR1, SR2, and RIR registers with a write. The byte written to the register informs the framer which bits the user wishes to read and have cleared. The user writes a byte to one of these registers with a 1 in the bit positions he or she wishes to  read and a 0 in the bit positions he or she does not wish to \nobtain the latest information on. When a 1 is written to a bit location, the read register updates with the latest information. When a 0 is written to a bit position, the read register does not update and the previous value is held. \nA write to the status and information registers is immediately followed by a read of the same register. The read \nresult should be logically ANDed with the mask byte that was just written, and this value should be written back into the same register to ensure the bit clears. This second write step is necessary because the alarms and events in the status registers occur asynchronously in respect to their access through the parallel port. This write-read-write scheme allows an external microcontroller or microprocessor to individually poll certain bits without disturbing the other bits in the register. This operation is key in controlling the DS21Q59 with higher-order software languages. \n \nThe SSR register operates differently than the other three. It is a read-only register and reports the status of the synchronizer in real time. This register is not latched and it is not necessary to precede a read of this register with a write.  \nThe SR1 and SR2 registers have the unique ability to initiate a hardware interrupt through the \nINT output pin. Each \nof the alarms and events in SR1 and SR2 can be either masked or unmasked from the interrupt pin through \ninterrupt mask register 1 (IMR1) and interrupt mask register 2 (IMR2). \n \nThe interrupts caused by alarms in SR1 (RUA1, RRA, RCL, and RLOS) act differently than the interrupts caused by events in SR1 and SR2 (RSA1, RDMA, RSA0, RSLIP, RMF, TMF, SEC, TAF, LOTC, and RCMF). The alarm-\ncaused interrupts force the \nINT pin low whenever the alarm changes state (i.e., the alarm goes active or inactive \naccording to the set/clear criteria in Table 9-A ). The INT pin is allowed to return high (if no other interrupts are \npresent) when the user reads the alarm bit that caused the interrupt to occur, even if the alarm is still present. \n \nThe event-based interrupts force the INT pin low when the event occurs. The INT pin returns high () when the user \nreads the event bit that caused the interrupt to occur. Furthermore, some event-based interrupts occur continuously \nas long as the event is occurring (RSLIP, SEC, TMF, RMF, TAF, RAF, RCMF). Other event-based interrupts force \nthe INT pin low only once when the event is first detected (LOTC, PRSBD, RDMA, RSA1, RSA0), that is, the \nPRBSD interrupt fires once when the receiver detects the PRBS pattern. If the receiver continues to receive the \nPRBS pattern, no more interrupts are fired. If the receiver then detects that PRBS is no longer being sent, it resets and, when it receives the PRBS pattern again, another interrupt is fired.\n \n \nDS21Q59 Quad E1 Transceiver \n \n \n28 of 76 9.1 Interrupt Handling \nThe host can quickly determine which status registers in the four ports are causing an interrupt by reading one of the unused addresses such as 0Ch, 0Dh, or 0Eh in any port.  Bit # 7 6 5 4 3 2 1 0 \nName SR2P4 SR1P4 SR2P3 SR1P3 SR2P2 SR1P2 SR2P1 SR1P1 \n \nNAME BIT FUNCTION \nSR2P4 7 Status Register 2, Port 4.  A 1 in this bit position indicates that status register 2 \nin port 4 is asserting an interrupt. \nSR1P4 6 Status Register 1, Port 4.  A 1 in this bit position indicates that status register 1 \nin port 4 is asserting an interrupt. \nSR2P3 5 Status Register 2, Port 3.  A 1 in this bit position indicates that status register 2 \nin port 3 is asserting an interrupt. \nSR1P3 4 Status Register 1, Port 3.  A 1 in this bit position indicates that status register 1 \nin port 3 is asserting an interrupt. \nSR2P2 3 Status Register 2, Port 2.  A 1 in this bit position indicates that status register 2 \nin port 2 is asserting an interrupt. \nSR1P2 2 Status Register 1, Port 2.  A 1 in this bit position indicates that status register 1 \nin port 2 is asserting an interrupt. \nSR2P1 1 Status Register 2, Port 1.  A 1 in this bit position indicates that status register 2 \nin port 1 is asserting an interrupt. \nSR1P1 0 Status Register 1, Port 1.  A 1 in this bit position indicates that status register 1 \nin port 1 is asserting an interrupt. \n  \nRegister Name: RIR \nRegister Description: Receive Information Register \nRegister Address: 08 Hex \n \nBit # 7 6 5 4 3 2 1 0 \nName RGM1 RGM0 JALT RESF RESE CRCRC FASRC CASRC \n \nNAME BIT FUNCTION \nRGM1 7 Receive Gain Monitor Bit 1.  See table below for level indication. \nRGM0 6 Receive Gain Monitor Bit 0.  See table below for level indication. \nJALT 5 Jitter Attenuator Limit Trip . Set when the jitter attenuator FIFO reaches to \nwithin 4 bits of its limit; useful for debugging jitter attenuation operation. \nRESF 4 Receive Elastic Store Full.  Set when the receive elastic store buffer fills and a \nframe is deleted. \nRESE 3 Receive Elastic Store Empty.  Set when the receive elastic store buffer \nempties and a frame is repeated. \nCRCRC 2 CRC Resync Criteria Met.  Set when 915/1000 codewords are received in \nerror. \nFASRC 1 FAS Resync Criteria Met.  Set when three consecutive FAS words are \nreceived in error. \nCASRC 0 CAS Resync Criteria Met.  Set when two consecutive CAS MF alignment \nwords are received in error. \n \nLevel Indication  \nRGM1 RGM0 LEVEL (dB) \n0 0 0 to 10 \n0 1 10 to 20 \n1 0 20 to 30 \n1 1 >30 \nDS21Q59 Quad E1 Transceiver \n \n \n29 of 76 Register Name: SSR \nRegister Description: Synchronizer Status Register \nRegister Address: 09 Hex \n \nBit # 7 6 5 4 3 2 1 0 \nName CSC5 CSC4 CSC3 CSC2  CSC0 FASSA CASSA CRC4SA \n \nNAME BIT FUNCTION \nCSC5 7 CRC4 Sync Counter Bit 5.  MSB of the 6-bit counter. \nCSC4 6 CRC4 Sync Counter Bit 4  \nCSC3 5 CRC4 Sync Counter Bit 3  \nCSC2 4 CRC4 Sync Counter Bit 2  \nCSC0 3 CRC4 Sync Counter Bit 0.  LSB of the 6-bit counter. Counter bit 1 is not \naccessible. \nFASSA 2 FAS Sync Active.  Set while the synchronizer is searching for alignment at the \nFAS level. \nCASSA 1 CAS MF Sync Active.  Set while the synchronizer is searching for the CAS MF \nalignment word. \nCRC4SA 0 CRC4 MF Sync Active.  Set while the synchronizer is searching for the CRC4 \nMF alignment word. \n \n9.2 CRC4 Sync Counter \nThe CRC4 sync counter increments each time the 8ms CRC4 multiframe search times out. The counter is cleared \nwhen the framer has successfully obtained synchronization at the CRC4 level. The counter can also be cleared by disabling the CRC4 mode (CCR1.0 = 0). This counter is useful for determining the amount of time the framer has been searching for synchronization at the CRC4 level. ITU G.706 suggests that if synchronization at the CRC4 level cannot be obtained within 400ms, the search s hould be abandoned and proper action taken. The CRC4 sync \ncounter rolls over.  \nTable 9-A. Alarm Criteria \nALARM SET CRITERIA CLEAR CRITERIA ITU SPEC \nRSA1 \n(Receive Signaling \nAll Ones) Over 16 consecutive frames (one full \nMF) time slot 16 contains less than three \nzeros Over 16 consecutive frames (one full \nMF) time slot 16 contains three or more \nzeros G.732 \n4.2 \nRSA0 \n(Receive Signaling \nAll Zeros) Over 16 consecutive frames (one full \nMF) time slot 16 contains all zeros Over 16 consecutive frames (one full \nMF) time slot 16 contains at least a \nsingle one G.732 \n5.2 \nRDMA \n(Receive Distant \nMultiframe Alarm) Bit 6 in time slot 16 of frame 0 set to one \nfor two consecutive MF Bit 6 in time slot 16 of frame 0 set to \nzero for two consecutive MF O.162 \n2.1.5 \nRUA1 \n(Receive Unframed \nAll Ones) Fewer than three zeros in two frames \n(512 bits) More than two zeros in two frames (512 \nbits) O.162 \n1.6.1.2 \nRRA \n(Receive Remote \nAlarm) Bit 3 of nonalign frame set to one for \nthree consecutive occasions Bit 3 of nonalign frame set to zero for \nthree consecutive occasions O.162 \n2.1.4 \nRCL \n(Receive Carrier \nLoss) 255 (or 2048) consecutive zeros \nreceived In 255-bit times at least 32 ones are \nreceived  G.775/ \nG.962 \n \n \nDS21Q59 Quad E1 Transceiver \n \n \n30 of 76 Register Name: SR1 \nRegister Description: Status Register 1 \nRegister Address: 0A Hex \n \nBit # 7 6 5 4 3 2 1 0 \nName RSA1 RDMA RSA0 RSLIP RUA1 RRA RCL RLOS \n \nNAME BIT FUNCTION \nRSA1 7 Receive Signaling All Ones.  Set when the contents of time slot 16 contains fewer \nthan three zeros over 16 consecutive frames. This alarm is not disabled in the CCS signaling mode. Both RSA1 and RSA0 are set if a change in signaling is detected. \nRDMA 6 Receive Distant MF Alarm.  Set when bit 6 of time slot 16 in frame 0 has been set \nfor two consecutive multiframes. This alarm is not disabled in the CCS signaling \nmode. \nRSA0 5 Receive Signaling All Zeros.  Set when over a full MF, time slot 16 contains all \nzeros. Both RSA1 and RSA0 are set if a change in signaling is detected. \nRSLIP 4 Receive Elastic Store Slip.  Set when the elastic store has either repeated or \ndeleted a frame of data. \nRUA1 3 Receive Unframed All Ones.  Set when an unframed all-ones code is received at \nRPOSI and RNEGI. \nRRA 2 Receive Remote Alarm.  Set when a remote alarm is received at RPOSI and \nRNEGI. \nRCL 1 Receive Carrier Loss.  Set when 255 (or 2048 if CCR2.1 = 1) consecutive zeros \nhave been detected at RTIP and RRING. (Note: A receiver carrier loss based on \ndata received at RPOSI and RNEGI is available in the HSR register.) \nRLOS 0 Receive Loss of Sync.  Set when the device is not synchronized to the receive E1 \nstream. \nDS21Q59 Quad E1 Transceiver \n \n \n31 of 76 Register Name: IMR1 \nRegister Description: Interrupt Mask Register 1 \nRegister Address: 18 Hex \n \nBit # 7 6 5 4 3 2 1 0 \nName RSA1 RDMA RSA0 RSLIP RUA1 RRA RCL RLOS \n \nNAME BIT FUNCTION \nRSA1 7 Receive Signaling All Ones  \n0 = interrupt masked \n1 = interrupt enabled \nRDMA 6 Receive Distant MF Alarm  \n0 = interrupt masked \n1 = interrupt enabled \nRSA0 5 Receive Signaling All Zeros  \n0 = interrupt masked \n1 = interrupt enabled \nRSLIP 4 Receive Elastic Store Slip Occurrence  \n0 = interrupt masked \n1 = interrupt enabled \nRUA1 3 Receive Unframed All Ones  \n0 = interrupt masked 1 = interrupt enabled \nRRA 2 Receive Remote Alarm  \n0 = interrupt masked \n1 = interrupt enabled \nRCL 1 Receive Carrier Loss  \n0 = interrupt masked \n1 = interrupt enabled \nRLOS 0 Receive Loss of Sync  \n0 = interrupt masked \n1 = interrupt enabled \n \nDS21Q59 Quad E1 Transceiver \n \n \n32 of 76 Register Name: SR2 \nRegister Description: Status Register 2 \nRegister Address: 0B Hex \n \nBit # 7 6 5 4 3 2 1 0 \nName RMF RAF TMF SEC TAF LOTC RCMF PRBSD \n \nNAME BIT FUNCTION \nRMF 7 Receive CAS Multiframe . Set every 2ms (regardless if CAS signaling is \nenabled or not) on receive multiframe boundaries.  \nRAF 6 Receive Align Frame.  Set every 250µs at the beginning of align frames. \nUsed to alert the host that Si and Sa bits are available in the RAF and \nRNAF registers. \nTMF 5 Transmit Multiframe.  Set every 2ms (regardless if CRC4 is enabled) on \ntransmit multiframe boundaries.  \nSEC 4 One-Second Timer.  Set on increments of one second based on RCLK. If \nCCR2.7 = 1, this bit is set every 62.5ms instead of once a second. \nTAF 3 Transmit Align Frame.  Set every 250µs at the beginning of align frames. \nUsed to alert the host that the TAF and TNAF registers need to be \nupdated. \nLOTC 2 Loss-of-Transmit Clock.  Set when the TCLK pin has not transitioned for \none channel time (or 3.9ms). \nRCMF 1 Receive CRC4 Multiframe.  Set on CRC4 multiframe boundaries; \ncontinues to be set every 2ms on an arbitrary boundary if CRC4 is \ndisabled. \nPRBSD 0 Pseudorandom Bit-Sequence Detect. When receive PRBS is enabled, \nthis bit is set when the 215 - 1 PRBS pattern is detected at RPOS and \nRNEG. The PRBS pattern can be framed, unframed, or in a specific time \nslot. \n \nDS21Q59 Quad E1 Transceiver \n \n \n33 of 76 Register Name: IMR2 \nRegister Description: Interrupt Mask Register 2 \nRegister Address: 19 Hex \n \nBit # 7 6 5 4 3 2 1 0 \nName RMF RAF TMF SEC TAF LOTC RCMF PRBSD \n \nNAME BIT FUNCTION \nRMF 7 Receive CAS Multiframe  \n0 = interrupt masked \n1 = interrupt enabled \nRAF 6 Receive Align Frame  \n0 = interrupt masked 1 = interrupt enabled \nTMF 5 Transmit Multiframe  \n0 = interrupt masked \n1 = interrupt enabled \nSEC 4 One-Second Timer  \n0 = interrupt masked \n1 = interrupt enabled \nTAF 3 Transmit Align Frame  \n0 = interrupt masked \n1 = interrupt enabled \nLOTC 2 Loss-of-Transmit Clock  \n0 = interrupt masked \n1 = interrupt enabled \nRCMF 1 Receive CRC4 Multiframe  \n0 = interrupt masked \n1 = interrupt enabled \nPRBSD 0 Pseudorandom Bit-Sequence Detect \n0 = interrupt masked \n1 = interrupt enabled \n \nDS21Q59 Quad E1 Transceiver \n \n \n34 of 76 10. ERROR COUNT REGISTERS \nEach DS21Q59 transceiver contains a set of four counters that record bipolar (BPVs) or code violations (CVs), errors in the CRC4 SMF codewords, E bits as reported by the far end, and word errors in the FAS. The E-bit \ncounter is reconfigured for counting errors in the PRBS pattern if receive PRBS is enabled. Each of these four counters is automatically updated on either one-second boundaries (CCR2.70 = 0) or every 62.5ms (CCR2.7 = 1) \nas determined by the timer in status register 2 (SR2.4). Hence, these registers contain performance data from \neither the previous second or the previous 62.5ms. The user can use the interrupt from the one-second timer to determine when to read these registers. The user has a full second (or 62.5ms) to read the counters before the data is lost. The counters saturate at their respective maximum counts and do not roll over. \n10.1 BPV or CV Counter \nViolation count register 1 (VCR1) is the most significant word and VCR2 is the least significant word of a 16-bit counter that records either BPVs or CVs. If CCR2.6 = 0,  the VCR counts BPVs. BPVs are defined as consecutive \nmarks of the same polarity. In this mode, if the HDB3 mode is set for the receiver through CCR1.2, then HDB3 codewords are not counted as BPVs. If CCR2.6 = 1, the VCR counts CVs as defined in ITU O.161. CVs are defined as consecutive BPVs of the same polarity. In most applications, the framer should be programmed to count \nBPVs when receiving AMI code and to count CVs when receiving HDB3 code. This counter increments at all times \nand is not disabled by loss-of-sync conditions. The counter saturates at 65,535 and does not roll over. The bit-error rate on an E1 line would have to be greater than 10\n-2 before the VCR would saturate. \n Register Name: VCR1, VCR2 \nRegister Description: Bipolar Violation Count Registers \nRegister Address: 00 Hex, 01 Hex \n \nBit # 7 6 5 4 3 2 1 0 \nV15 V14 V13 V12 V11 V10 V9 V8 Name \nV7 V6 V5 V4 V3 V2 V1 V0 \n \nNAME BIT FUNCTION \nV15 VCR1.7 MSB of the 16-bit code violation count. \nV0 VCR2.0 LSB of the 16-bit code violation count. \n \n10.2 CRC4 Error Counter \nCRC4 count register 1 (CRCCR1) is the most significant word and CRCCR2 is the least significant word of a 16-bit \ncounter that records word errors in the cyclic redundancy check 4 (CRC4). Since the maximum CRC4 count in a \none-second period is 1000, this counter cannot saturate. The counter is disabled during loss of sync at either the \nFAS or CRC4 level; it continues to count if loss-of-multiframe sync occurs at the CAS level. CRCCR1 and CRCCR2 have an alternate function.   Register Name: CRCCR1, CRCCR2 \nRegister Description: CRC4 Count Registers \nRegister Address: 02 Hex, 03 Hex \n \nBit # 7 6 5 4 3 2 1 0 \nCRC15 CRC14 CRC13 CRC12 CRC11 CRC10 CRC9 CRC8 Name \nCRC7 CRC6 CRC5 CRC4 CRC/3 CRC2 CRC1 CRC0 \n \nNAME BIT FUNCTION \nCRC15 CRCCR1.7 MSB of the 16-bit CRC4 error count. \nCRC0 CRCCR2.0 LSB of the 16-bit CRC4 error count. \n \nDS21Q59 Quad E1 Transceiver \n \n \n35 of 76 10.3 E-Bit/PRBS Bit-Error Counter \nE-bit count register 1 (EBCR1) is the most significant word and EBCR2 is the least significant word of a 16-bit counter that records far-end block errors (FEBE) as reported in the first bit of frames 13 and 15 on E1 lines running with CRC4 multiframe. These error count registers increment once each time the received E-bit is set to 0. Since the maximum E-bit count in a one-second period is 1000, this counter cannot saturate. The counter is disabled \nduring loss of sync at either the FAS or CRC4 level; it continues to count if loss-of-multiframe sync occurs at the \nCAS level.  Alternately, this counter counts bit errors in the received PRBS pattern when the receive PRBS function is enabled. In this mode, the counter is active when the receive PRBS detector can synchronize to the PRBS pattern. This pattern can be framed, unframed, or in any time slot. See Section 13\n for more details.  \n \nRegister Name: EBCR1, EBCR2 \nRegister Description: E-Bit Count Registers \nRegister Address: 04 Hex, 05 Hex \n \nBit # 7 6 5 4 3 2 1 0 \nEB15 EB14 EB13 EB12 EB11 EB10 EB9 EB8 Name \nEB7 EB6 EB5 EB4 EB3 EB2 EB1 EB0 \n \nNAME BIT FUNCTION \nEB15 EBCR1.7 MSB of the 16-bit E-bit error count. \nEB0 EBCR2.0 LSB of the 16-bit E-bit error count. \n \n10.4 FAS Error Counter \nFAS count register 1 (FASCR1) is the most significant word and FASCR2 is the least significant word of a 16-bit \ncounter that records word errors in the FAS in time slot 0. This counter is disabled when RLOS is high. FAS errors are not counted when the framer is searching for FAS ali gnment and/or synchronization at either the CAS or CRC4 \nmultiframe level. Since the maximum FAS word error count in a one-second period is 4000, this counter cannot saturate.  \nRegister Name: FASCR1, FASCR2 \nRegister Description: FAS Error Count Registers \nRegister Address: 06 Hex, 07 Hex \n \nBit # 7 6 5 4 3 2 1 0 \nFAS15 FAS14 FAS13 FAS12 FAS11 FAS10 FAS9 FAS8 \nName \nFAS7 FAS6 FAS5 FAS4 FAS3 FAS2 FAS1 FAS0 \n \nNAME BIT FUNCTION \nFAS15 FASCR1.7 MSB of the 16-bit FAS error count. \nFAS0 FASCR2.0 LSB of the 16-bit FAS error count. \n \nDS21Q59 Quad E1 Transceiver \n \n \n36 of 76 11. SIGNALING OPERATION \nRegisters SA1 and SA16 are used to access the transmit and receive signaling function. Normally, reading these registers accesses the receive signaling data and writing these registers sources signaling data for the transmitter. The user can read what was written to the transmit signaling buffer by setting CCR6.5 = 1, then reading  SA1\x96SA16. In most applications, however, CCR6.5 should be set = 0. \n11.1 Receive Signaling \nSignaling data is sampled from time slot 16 in the receive data stream and copied into the receive signaling buffers. The host can access the signaling data by reading SA1 through SA16. The signaling information in these registers is always updated on multiframe boundaries. The SR2.7 bit in status register 2 can be used to alert the host that \nnew signaling data is present in the receive signaling buffers. The host has 2ms to read the signaling buffers before \nthey are updated. \n11.2 Transmit Signaling \nInsertion of signaling data from the transmit signaling buffers is enabled by setting CCR6.3 = 1. Signaling data is loaded into the transmit signaling buffers by writing the signaling data to SA1\x96SA16. On multiframe boundaries, the \ncontents of the transmit signaling buffer is loaded into a shift register for placement in the appropriate bit position in \nthe outgoing data stream. The user can use the transmit multiframe interrupt in status register 2 (SR2.5) to know when to update the signaling bits. The host has 2ms to update the signaling data. The user only needs to update the signaling data that has changed since the last update. \n11.3 CAS Operation \nFor CAS mode, the user must provide the CAS alignment pattern (four 0s in the upper nibble of TS16). Typically this is done by setting the upper four bits of SA1 = 0. The lower four bits are alarm bits. The user only needs to update the appropriate channel associated signaling data in SA2\x96SA16 on multiframe boundaries.  Register Name: SA1 to SA16  \nRegister Description: Signaling Registers   \nRegister Address: 30h to 3Fh  \n \n(MSB)       (LSB)  \n0 0 0 0 X Y X X SA1 \nCH1-A CH1-B CH1-C CH1-D CH16- A CH16-B CH16-C CH16-D SA2  \nCH2-A CH2-B CH2-C CH2-D CH17- A CH17-B CH17-C CH17-D SA3  \nCH3-A CH3-B CH3-C CH3-D CH18- A CH18-B CH18-C CH18-D SA4  \nCH4-A CH4-B CH4-C CH4-D CH19- A CH19-B CH19-C CH19-D SA5  \nCH5-A CH5-B CH5-C CH5-D CH20- A CH20-B CH20-C CH20-D SA6  \nCH6-A CH6-B CH6-C CH6-D CH 21-A CH21-B CH21-C CH21-D SA7 \nCH7-A CH7-B CH7-C CH7-D CH22- A CH22-B CH22-C CH22-D SA8  \nCH8-A CH8-B CH8-C CH8-D CH23- A CH23-B CH23-C CH23-D SA9  \nCH9-A CH9-B CH9-C CH9-D CH24- A CH24-B CH24-C CH24-D SA10  \nCH10-A CH10-B CH10-C CH10-D CH25-A CH25-B CH25-C CH25-D SA11  \nCH11-A CH11-B CH11-C CH11-D CH26-A CH26-B CH26-C CH26-D SA12 \nCH12-A CH12-B CH12-C CH12-D CH27-A CH27-B CH27-C CH27-D SA13 \nCH13-A CH13-B CH13-C CH13-D CH28-A CH28-B CH28-C CH28-D SA14 \nCH14-A CH14-B CH14-C CH14-D CH29-A CH29-B CH29-C CH29-D SA15 \nCH15-A CH15-B CH15-C CH15-D CH30-A CH30-B CH30-C CH30-D SA16  \nDS21Q59 Quad E1 Transceiver \n \n \n37 of 76 12. DS0 MONITORING FUNCTION \nEach DS21Q59 framer can monitor one DS0 (64kbps) channel in the transmit direction and one DS0 channel in the receive direction at the same time. In the transmit direction, the user determines which channel is to be monitored by properly setting the TCM0 to TCM4 bits in the CCR3 register. In the receive direction, the RCM0 to RCM4 bits in the CCR4 register need to be properly set. The DS0 channel pointed to by the TCM0 to TCM4 bits appear in the \ntransmit DS0 monitor (TDS0M) register and the DS0 channel pointed to by the RCM0 to RCM4 bits appear in the \nreceive DS0 (RDS0M) register. The TCM4 to TCM0 and RCM4 to RCM0 bits should be programmed with the decimal decode of the appropriate E1 channel. For example, if DS0 channel 6 in the transmit direction and DS0 channel 15 in the receive direction needed to be monitored, then the following values would be programmed into CCR4 and CCR5: \n \nTCM4 = 0  RCM4 = 0 TCM3 = 0  RCM3 = 1 TCM2 = 1  RCM2 = 1 TCM1 = 0  RCM1 = 1 TCM0 = 1  RCM0 = 0\n \n \nRegister Name: CCR3 (Repeated here from Section 6 for convenience.)  \nRegister Description: Common Control Register 3 \nRegister Address: 14 Hex \n \nBit # 7 6 5 4 3 2 1 0 \nName RLB LLB LIAIS TCM4 TCM3 TCM2 TCM1 TCM0 \n \nNAME BIT FUNCTION \nRLB 7 Remote Loopback  \nLLB 6 Local Loopback  \nLIAIS 5 Line Interface AIS Generation Enable  \nTCM4 4 Transmit Channel Monitor Bit 4 . MSB of a channel decode that \ndetermines which transmit channel data appears in the TDS0M register. \nSee Section 10 or details. \nTCM3 3 Transmit Channel Monitor Bit 3  \nTCM2 2 Transmit Channel Monitor Bit 2  \nTCM1 1 Transmit Channel Monitor Bit 1  \nTCM0 0 Transmit Channel Monitor Bit 0.  LSB of the channel decode. \n \n Register Name: TDS0M \nRegister Description: Transmit DS0 Monitor Register \nRegister Address: 22 Hex \n \nBit # 7 6 5 4 3 2 1 0 \nName B1 B2 B3 B4 B5 B6 B7 B8 \n \nNAME BIT FUNCTION \nB1 7 Transmit DS0 Channel Bit 1.  MSB of the DS0 channel (first bit to be \ntransmitted). \nB2 6 Transmit DS0 Channel Bit 2 \nB3 5 Transmit DS0 Channel Bit 3 \nB4 4 Transmit DS0 Channel Bit 4 \nB5 3 Transmit DS0 Channel Bit 5 \nB6 2 Transmit DS0 Channel Bit 6 \nB7 1 Transmit DS0 Channel Bit 7 \nB8 0 Transmit DS0 Channel Bit 8.  LSB of the DS0 channel (last bit to be \ntransmitted). \n \nDS21Q59 Quad E1 Transceiver \n \n \n38 of 76 Register Name: CCR4 (Repeated here from Section 6 for convenience.)  \nRegister Description: Common Control Register 4 \nRegister Address: 15 Hex \n \nBit # 7 6 5 4 3 2 1 0 \nName LIRST RESA RESR RCM4 RCM3 RCM2 RCM1 RCM0 \n \nNAME BIT FUNCTION \nLIRST 7 Line Interface Reset  \nRESA 6 Receive Elastic Store Align  \nRESR 5 Receive Elastic Store Reset  \nRCM4 4 Receive Channel Monitor Bit 4.  MSB of a channel decode that \ndetermines which receive channel data appears in the RDS0M register. \nSee Section 10 for details. \nRCM3 3 Receive Channel Monitor Bit 3  \nRCM2 2 Receive Channel Monitor Bit 2  \nRCM1 1 Receive Channel Monitor Bit 1  \nRCM0 0 Receive Channel Monitor Bit 0.  LSB of the channel decode. \n \n Register Name: RDS0M \nRegister Description: Receive DS0 Monitor Register \nRegister Address: 2A Hex \n \nBit # 7 6 5 4 3 2 1 0 \nName B1 B2 B3 B4 B5 B6 B7 B8 \n \nNAME BIT FUNCTION \nB1 7 Receive DS0 Channel Bit 1.  MSB of the DS0 channel (first bit received). \nB2 6 Receive DS0 Channel Bit 2  \nB3 5 Receive DS0 Channel Bit 3 \nB4 4 Receive DS0 Channel Bit 4 \nB5 3 Receive DS0 Channel Bit 5 \nB6 2 Receive DS0 Channel Bit 6 \nB7 1 Receive DS0 Channel Bit 7 \nB8 0 Receive DS0 Channel Bit 8.  LSB of the DS0 channel (last bit received). \n \nDS21Q59 Quad E1 Transceiver \n \n \n39 of 76 13. PRBS GENERATION AND DETECTION \nThe DS21Q59 can transmit and receive the 215 - 1 PRBS pattern. This PRBS pattern complies with ITU-T O.151 \nspecifications. The PRBS pattern can be unframed (in all 256 bits of the frame), framed (in all time slots except TS0), or in any single time slot. Register CCR5 contains  the control bits for configuring the transmit and receives \nPRBS functions.  See Table 13-A\n and Table 13-B  for selecting the transmit and receive modes of operation. In \ntransmit and receive mode 1 operation, the transmit- and re ceive-channel monitor-select bits of registers CCR3 \nand CCR4 have an alternate use. When this mode is selected, these bits determine which time slot transmits and/or receives the PRBS pattern. \n \nSR2.0 indicates when the receiver has synchronized to the PRBS pattern. The PRBS synchronizer remains in sync \nuntil it experiences six or more bit errors within a 64-bit span. Choosing any receive mode other than NORMAL \ncauses the 16-bit E-bit error counter\x97EBCR1 and EBCR2\x97to be reconfigured for counting PRBS errors.   User-definable outputs OUTA or OUTB can be configured to output a pulse for every bit error received. See Section 20\n and Table 20-A  for details. This signal can be used with external circuitry to keep track of bit-error rates \nduring PRBS testing. Once synchronized, any bit errors received cause a positive-going pulse, synchronous with \nRCLK.  \nTable 13-A. Transmit PRBS Mode Select \nTPRBS1 \n(CCR5.3) TPBRS0 \n(CCR5.2) MODE \n0 0 Mode 0:  Normal (PRBS disabled) \n0 1 Mode 1:  PRBS in TSx. PRBS pattern is transmitted in a single time slot (TS). In this mode, the \ntransmit-channel monitor-select bits in register CCR3 are used to select a time slot in which to \ntransmit the PRBS pattern. \n1 0 Mode 2:  PRBS in all but TS0. PRBS pattern is transmitted in time slots 1 through 31. \n1 1 Mode 3:  PRBS unframed. PRBS pattern is transmitted in all time slots. \nTable 13-B. Receive PRBS Mode Select \nRPRBS1 \n(CCR5.1) RPBRS0 \n(CCR5.0) MODE \n0 0 Mode 0:  Normal (PRBS disabled) \n0 1 Mode 1:  PRBS in TSx. PRBS pattern is received in a single time slot (TS). In this mode, the \nreceive-channel monitor-select bits in register CCR4  are used to select a time slot in which to \nreceive the PRBS pattern. \n1 0 Mode 2:  PRBS in all but TS0. PRBS pattern is received in time slots 1 through 31. \n1 1 Mode 3:  PRBS unframed. PRBS pattern is received in all time slots. \n \nDS21Q59 Quad E1 Transceiver \n \n \n40 of 76 14. SYSTEM CLOCK INTERFACE \nA single system clock interface (SCI) is common to all four DS21Q59 transceivers. The SCI is designed to allow any one of the four receivers to act as the master reference clock for the system. When multiple DS21Q59s are used to build an N port system, the SCI allows any one of the N ports to be the master. The selected reference is then distributed to the other DS21Q59s through the REFCLK pin. The REFCLK pin acts as an output on the \nDS21Q59, which has been selected to provide the reference clock from one of its four receivers. On DS21Q59s not \nselected to source the reference clock, this pin becomes an input by writing 0s to the SCSx bits. The reference clock is also passed to the clock synthesizer PLL to generate a 2.048MHz, 4.096MHz, 8.192MHz, or 16.384MHz clock. This clock can then be used with the IBO function to merge up to eight E1 lines onto a single high-speed PCM bus. In the event that the master E1 port fails (enters a receive carrier loss condition), that port automatically \nswitches to the clock present on the MCLK pin. Therefore, MCLK acts as the backup source of master clock. The \nhost can then find and select a functioning E1 port as the master. Because the selected port\x92s clock is passed to the other DS21Q59s in a multiple device configuration, one DS21Q59\x92s synthesizer can always be the source of the high-speed clock. This allows smooth transitions when clock-source switching occurs. The SCI control register exists in Transceiver 1 only (TS0, TS1 = 0). \n \nRegister Name: SCICR \nRegister Description: System Clock Interface Control Register  \n(Note: This register is valid only for Transceiver 1 (TS0 = 0, TS1 = 0).)  \nRegister Address: 1D Hex \n \nBit # 7 6 5 4 3 2 1 0 \nName AJACKE BUCS SOE CSS1 CSS0 SCS2 SCS1 SCS0 \n \nNAME BIT FUNCTION \nAJACKE 7 AJACK Enable. This bit enables the alternate jitter attenuator. \nBUCS 6 \n Backup Clock Select. Selects which clock source to switch to \nautomatically during a loss-of-transmit clock event. \n0 = during an LOTC event switch to MCLK 1 = during an LOTC event switch to system reference clock  \nSOE 5 Synthesizer Output Enable  \n0 = 2/4/8/16MCK pin in high-Z mode \n1 = 2/4/8/16MCK pin active \nCSS1 4 Clock Synthesizer Select Bit 1 (Table 14-A ) \nCSS0 3 Clock Synthesizer Select Bit 0 (Table 14-A ) \nSCS2 2 System Clock Select Bit 2 (Table 14-B ) \nSCS1 1 System Clock Select Bit 1 (Table 14-B ) \nSCS0 0 System Clock Select Bit 0 (Table 14-B ) \nTable 14-A. Synthesi zer Output Select \nCSS1 CSS0 SYNTHESIZER OUTPUT \nFREQUENCY (MHz) \n0 0 2.048 \n0 1 4.096 \n1 0 8.192 \n1 1 16.384 \nTable 14-B. System Clock Selection \nSCS2 SCS1 SCS0 PORT SELECTED AS MASTER \n0 0 0 None (Master Port can be derived from another DS21Q59 in the system.) \n0 0 1 Transceiver 1 \n0 1 0 Transceiver 2 \n0 1 1 Transceiver 3 \n1 0 0 Transceiver 4 \n1 0 1 Reserved for future use. \n1 1 0 Reserved for future use. \n1 1 1 Reserved for future use. \nDS21Q59 Quad E1 Transceiver \n \n \n41 of 76 15. TRANSMIT CLOCK SOURCE \nDepending on the DS21Q59\x92s operating mode, the transmit clock can be derived from different sources. In a basic configuration, where the IBO function is disabled, the transmit clock is normally sourced from the TCLK pin. In this mode, a 2.048MHz clock with ±50ppm accuracy is applied to the TCLK pin. If the signal at TCLK is lost, the DS21Q59 automatically switches to either the system reference clock present on the REFCLK pin or to the \nrecovered clock off the same port, depending on which source the host assigned as the backup clock. At the same \ntime the host can be notified of the loss-of-transmit clock through an interrupt. The host can at any time force a switchover to one of the two backup clock sources regardless of the state of the TCLK pin.  When the IBO function is enabled, the transmit clock must be synchronous to the system clock since slips are not \nallowed in the transmit direction. In this mode, the TCLK pin is ignored, and a transmit clock is automatically \nprovided by the IBO circuit by dividing the clock present on the SYSCLK pin by 2, 4, or 8. In this configuration, if the signal present on the SYSCLK pin is lost, the DS21Q59 automatically switches to either the system reference clock or to the recovered clock off the same port, depending on which source the host assigned as the backup clock. The host can at any time force a switchover to one of the two backup clock sources regardless of the state of the SYSCLK pin. \n \n16. IDLE CODE INSERTION \nThe transmit idle registers (TIR1/2/3/4) determine which of the 32 E1 channels should be overwritten with the code placed in the transmit idle definition register (TIDR). This allows the same 8-bit code to be placed into any of the 32 E1 channels. Each of the bit positions in the transmit idle registers represents a DS0 channel in the outgoing frame. When these bits are set to 1, the corresponding channel transmits the idle code contained in the TIDR.   \nRegister Name: TIR1, TIR2, TIR3, TIR4 \nRegister Description: Transmit Idle Registers \nRegister Address: 24 Hex, 25 Hex, 26 Hex, 27 Hex \n \nBit # 7 6 5 4 3 2 1 0 \nCH8 CH7 CH6 CH5 CH4 CH3 CH2 CH1 \nCH16 CH15 CH14 CH13 CH12 CH11 CH10 CH9 \nCH24 CH23 CH22 CH21 CH20 CH19 CH18 CH17 Name \nCH32 CH31 CH30 CH29 CH28 CH27 CH26 CH25 \n \nNAME BIT FUNCTION \nCH1 to CH32 TIR1.0 to 4.7 Transmit Idle Code-Insertion Control Bits  \n0 = do not insert the idle code in the TIDR into this channel \n1 = insert the idle code in the TIDR into this channel \n  Register Name: TIDR \nRegister Description: Transmit Idle Definition Register \nRegister Address: 23 Hex \n \nBit # 7 6 5 4 3 2 1 0 \nName TIDR7 TIDR6 TIDR5 TIDR4 TIDR3 TIDR2 TIDR1 TIDR0 \n \nNAME BIT FUNCTION \nTIDR7 7 MSB of the Idle Code  (This bit is transmitted first.) \nTIDR6 6 \x97 \nTIDR5 5 \x97 \nTIDR4 4 \x97 \nTIDR3 3 \x97 \nTIDR2 2 \x97 \nTIDR1 1 \x97 \nTIDR0 0 LSB of the Idle Cod e (This bit is transmitted last.) \nDS21Q59 Quad E1 Transceiver \n \n \n42 of 76 17. PER-CHANNEL LOOPBACK \nThe DS21Q59 has per-channel loopback capability that can operate in one of two modes: remote per-channel loopback or local per-channel loopback. PCLB1/2/3/4 are used for both modes to determine which channels are looped back. In remote per-channel loopback mode, PCLB1/2/3/4 determine which channels (if any) in the transmit direction should be replaced with the data from the receiver or, in other words, off the E1 line. In local per-channel \nloopback mode, PCLB1/2/3/4 determine which channels (if any) in the receive direction should be replaced with the \ndata from the transmit. If either mode is enabled, transmit and receive clocks and frame syncs must be synchronized. There are no restrictions on which channels can be looped back or on how many channels can be looped back.  \nRegister Name: PCLB1, PCLB2, PCLB3, PCLB4 \nRegister Description: Per-Channel Loopback Registers \nRegister Address: 2B Hex, 2C Hex, 2D Hex, 2E Hex \n \nBit # 7 6 5 4 3 2 1 0 \nCH8 CH7 CH6 CH5 CH4 CH3 CH2 CH1 \nCH16 CH15 CH14 CH13 CH12 CH11 CH10 CH9 \nCH24 CH23 CH22 CH21 CH20 CH19 CH18 CH17 Name \nCH32 CH31 CH30 CH29 CH28 CH27 CH26 CH25 \n \nNAME BIT FUNCTION \nCH1 to CH32 PCLB1.0 to 4.7 Per-Channel Loopback Control Bits  \n0 = do not loopback this channel \n1 = loopback this channel \n \n  \n18. ELASTIC STORE OPERATION \nThe DS21Q59 contains a two-frame (512 bits) elastic store fo r the receive direction. The elastic store is used to \nabsorb the differences in frequency and phase between the E1 data stream and an asynchronous (i.e., not frequency locked) backplane clock that can be 2.048MHz for normal operation or 4.096MHz, 8.192MHz, or 16.384MHz when using the IBO function. The elastic store contains full controlled slip capability.   If the receive elastic store is enabled (RCR.4 = 1), the user  must provide a 2.048MHz clock to the SYSCLK pin. If \nthe IBO function is enabled, a 4.096MHz, 8.192MHz, or 16.384MHz clock must be provided at the SYSCLK pin. \nThe user has the option of either providing a frame/mult iframe sync at the RSYNC pin (RCR.5 = 1) or having the \nRSYNC pin provide a pulse on frame/multiframe boundaries (RCR. 5 = 0). If the user wishes to obtain pulses at the \nframe boundary, RCR1.6 must be set to 0; if the user wishes to have pulses occur at the multiframe boundary, RCR1.6 must be set to 1. If the elastic store is enabled, either CAS (RCR.7 = 0) or CRC4  (RCR.7 = 1) multiframe \nboundaries are indicated through the RSYNC output. See Section 24\n for timing details. If the 512-bit elastic buffer \neither fills or empties, a controlled slip occurs. If the buffer empties, a full frame of data (256 bits) is repeated at \nRSER, and the SR1.4 and RIR.3 bits are set to 1. If the buffer fills, a full frame of data is deleted, and the SR1.4 and RIR.4 bits are set to 1.\n \n \nDS21Q59 Quad E1 Transceiver \n \n \n43 of 76 19. ADDITIONAL (Sa) AND INTERNATIONAL (Si) BIT OPERATION \nOn the receiver, the RAF and RNAF registers always report the data as it is received in the additional (Sa) and international (Si) bit locations. The RAF and RNAF registers are updated with the setting of the receive align frame bit in status register 2 (SR2.6). The host can use the SR2.6 bit to know when to read the RAF and RNAF registers. \nIt has 250 /g109s to retrieve the data before it is lost. \n On the transmitter, data is sampled from the TAF and TNAF registers with the setting of the transmit align frame bit \nin status register 2 (SR2.3). The host can use the SR2.3 bit to know when to update the TAF and TNAF registers. It \nhas 250 /g109s to update the data or else the old data is retransmitted. Data in the Si bit position is overwritten if either \nthe framer is programmed (1) to source the Si bits from the TSER pin, (2) in the CRC4 mode, or if the framer (3) \nhas automatic E-bit insertion enabled. Data in the Sa bit position is overwritten if any of the TCR.3\x96TCR.7 bits are set to 1. Please see the TCR register descriptions for more details.  \nRegister Name: RAF \nRegister Description: Receive Align Frame Register \nRegister Address: 28 Hex \n \nBit # 7 6 5 4 3 2 1 0 \nName Si 0 0 1 1 0 1 1 \n \nNAME BIT FUNCTION \nSi 7 International Bit \n0 6 Frame Alignment Signal Bit \n0 5 Frame Alignment Signal Bit \n1 4 Frame Alignment Signal Bit \n1 3 Frame Alignment Signal Bit \n0 2 Frame Alignment Signal Bit \n1 1 Frame Alignment Signal Bit \n1 0 Frame Alignment Signal Bit \n \n \nRegister Name: RNAF \nRegister Description: Receive Nonalign Frame Register \nRegister Address: 29 Hex \n \nBit # 7 6 5 4 3 2 1 0 \nName Si 1 A Sa4 Sa5 Sa6 Sa7 Sa8 \n \nNAME  BIT FUNCTION  \nSi 7 International Bit \n1 6 Frame Nonalignment Signal Bit \nA 5 Remote Alarm \nSa4 4 Additional Bit 4 \nSa5 3 Additional Bit 5 \nSa6 2 Additional Bit 6 \nSa7 1 Additional Bit 7 \nSa8 0 Additional Bit 8 \n \n \nDS21Q59 Quad E1 Transceiver \n \n \n44 of 76 Register Name: TAF \nRegister Description: Transmit Align Frame Register \nRegister Address: 20 Hex \n \nBit # 7 6 5 4 3 2 1 0 \nName Si 0 0 1 1 0 1 1 \n \nNote:  This register must be programmed with the 7-bit FAS word. The DS21Q59 does not automatically set these bits.  \n \nNAME BIT FUNCTION  \nSi 7 International Bit \n0 6 Frame Alignment Signal Bit. Set this bit = 0.  \n0 5 Frame Alignment Signal Bit. Set this bit = 0.  \n1 4 Frame Alignment Signal Bit. Set this bit = 1.  \n1 3 Frame Alignment Signal Bit. Set this bit = 1.  \n0 2 Frame Alignment Signal Bit. Set this bit = 0.  \n1 1 Frame Alignment Signal Bit. Set this bit = 1.  \n1 0 Frame Alignment Signal Bit. Set this bit = 1.  \n \n \nRegister Name: TNAF \nRegister Description: Transmit Nonalign Frame Register \nRegister Address: 21 Hex \n \nBit # 7 6 5 4 3 2 1 0 \nName Si 1 A Sa4 Sa5 Sa6 Sa7 Sa8 \n \nNote:  Bit 6 must be programmed to 1. The DS21Q59 does not automatically set this bit. \n \nNAME BIT FUNCTION  \nSi 7 International Bit \n1 6 Frame Nonalignment Signal Bit. Set this bit = 1.  \nA 5 Remote Alarm (Used to transmit the alarm.) \nSa4 4 Additional Bit 4 \nSa5 3 Additional Bit 5 \nSa6 2 Additional Bit 6 \nSa7 1 Additional Bit 7 \nSa8 0 Additional Bit 8 \n \nDS21Q59 Quad E1 Transceiver \n \n \n45 of 76 20. USER-CONFIGURABLE OUTPUTS \nThere are two user-configurable output pins for each transceiver, OUTA and OUTB. These pins can be programmed to output various clocks, alarms for line monitoring, or logic 0 and 1 levels to control external circuitry. They can also be used to access transmit data between the framer and transmit LIU. OUTA and OUTB can be active low or active high when operating as clock and alarm outputs. OUTA is active high if OUTAC.4 = 1 and \nactive low if OUTAC.3 = 0. OUTB is active high if OUTBC.4 = 1 and active low if OUTBC.4 = 0 ( Table 20-A\n). Select \nmode 0000 to control external circuitry. In this configuration, the OUTA pin follows OUTAC.4 and the OUTB pin follows OUTBC.4. The OUTAC register also contains a control bit for CMI operation. See Section 22\n for details \nabout CMI operation.  \nRegister Name: OUTAC \nRegister Description: OUTA Control Register \nRegister Address: 1A Hex \n \nBit # 7 6 5 4 3 2 1 0 \nName TTLIE CMII CMIE OA4 OA3 OA2 OA1 OA0 \n \nNAME BIT FUNCTION  \nTTLIE 7 TTL Input Enable.  When this bit is set, the receiver can accept TTL \npositive and negative data at the RTIP and RRING inputs. The data is \nclocked in on the falling edge of MCLK.  \nCMII 6 CMI Invert. See Section 22 for details. \n0 = CMI input data not inverted \n1 = CMI input data inverted  \nCMIE 5 CMI Enable.  See Section 22 for details. \n0 = CMI disabled \n1 = CMI enabled  \nOA4 4 OUTA Control Bit 4. Inverts OUTA output.  \nOA3 3 OUTA Control Bit 3. See Table 20-A  for details.  \nOA2 2 OUTA Control Bit 2. See Table 20-A  for details.  \nOA1 1 OUTA Control Bit 1. See Table 20-A  for details.  \nOA0 0 OUTA Control Bit 0. See Table 20-A  for details.  \n \n \nRegister Name: OUTBC \nRegister Description: OUTB Control Register \nRegister Address: 1B Hex \n \nBit # 7 6 5 4 3 2 1 0 \nName NRZE \x97 \x97 OB4 OB3 OB2 OB1 OB0 \n \nNAME BIT FUNCTION  \nNRZE 7 NRZ Enable. When this bit is set, the receiver can accept TTL-type NRZ \ndata at the RTIP input. RRING becomes a clock input. \n0 = RTIP and RRING are in normal mode. 1 = RTIP becomes an NRZ TTL-type input and RRING is its associated clock input. Data at RTIP is clocked in on the falling edge of the clock \npresent on RRING.  \n\x97 6 Unused. Should be set = 0 for proper operation.  \n\x97 5 Unused. Should be set = 0 for proper operation.  \nOB4 4 OUTB Control Bit 4. Inverts OUTB output.  \nOB3 3 OUTB Control Bit 3 \nOB2 2 OUTB Control Bit 2 \nOB1 1 OUTB Control Bit 1 \nOB0 0 OUTB Control Bit 0 \n \nDS21Q59 Quad E1 Transceiver \n \n \n46 of 76 Table 20-A. OUTA and OUTB Function Select \nOA3 \nOB3 OA2 \nOB2 OA1 \nOB1 OA0 \nOB0 FUNCTION \n0 0 0 0 External Hardware Control Bit . In this mode, OUTA and OUTB can be used as simple \ncontrol pins for external circuitry. Use OA4 and OB4 to toggle OUTA and OUTB. \n0 0 0 1 RCLK . Receive recovered clock. \n0 0 1 0 Receive Loss-of-Sync Indicator . Real-time hardware version of SR1.0 ( Table 9-A ).  \n0 0 1 1 Receive Loss-of-Carrier Indicator . Real-time hardware version of SR1.1 ( Table 9-A ).  \n0 1 0 0 Receive Remote Alarm Indicator . Real-time hardware version of SR1.2 ( Table 9-A ).  \n0 1 0 1 Receive Unframed All-Ones Indicator.  Real-time hardware version of SR1.3 ( Table 9-A ). \n0 1 1 0 Receive Slip-Occurrence Indicator . One-clock-wide pulse for every slip of the receive \nelastic store. Hardware version of SR1.4.  \n0 1 1 1 Receive CRC Error Indicator . One-clock-wide pulse for every multiframe that contains a \nCRC error. Output forced to 0 during loss of sync.  \n1 0 0 0 Loss-of-Transmit Clock Indicator . Real-time hardware version SR2.2 ( Table 9-A ).  \n1 0 0 1 RFSYNC . Recovered frame-sync pulse.  \n1 0 1 0 PRBS Bit Error . A half-clock-wide pulse for every bit error in the received PRBS pattern. \n1 0 1 1 TDATA/RDATA . OUTB outputs an NRZ version of the transmit data stream (TDATA) prior \nto the transmit line interface. OUTA outputs the received serial data stream (RDATA) prior \nto the elastic store. \n1 1 0 0 Receive CRC4 Multiframe Sync . Recovered CRC4 MF sync pulse. \n1 1 0 1 Receive CAS Multiframe Sync . Recovered CAS MF sync pulse. \n1 1 1 0 Transmit Current Limit . Real-time indicator that the TTIP and TRING outputs have \nreached their 50mA current limit. \n1 1 1 1 TPOS/TNEG Output . This mode outputs the AMI/HDB3 encoded transmit data. OUTA \noutputs TNEG data. OUTB outputs TPOS data. \n \nDS21Q59 Quad E1 Transceiver \n \n \n47 of 76 21. LINE INTERFACE UNIT \nThe line interface unit contains three sections: the receiver, which handles clock and data recovery; the transmitter, which waveshapes and drives the E1 line; and the jitter attenuator. The line interface control register (LICR), described below, controls each of these three sections.   \nRegister Name: LICR \nRegister Description: Line Interface Control Register \nRegister Address: 17 Hex \n \nBit # 7 6 5 4 3 2 1 0 \nName L2 L1 L0 EGL JAS JABDS DJA TPD \n \nNAME BIT FUNCTION \nL2 7 Line Build-Out Select Bit 2.  Sets the transmitter build-out. \nL1 6 Line Build-Out Select Bit 1.  Sets the transmitter build-out. \nL0 5 Line Build-Out Select Bit 0.  Sets the transmitter build-out. \nEGL 4 Receive Equalizer Gain Limit \n0 = -12dB  \n1 = -43dB \nJAS 3 Jitter Attenuator Select \n0 = place the jitter attenuator on the receive side  \n1 = place the jitter attenuator on the transmit side \nJABDS 2 Jitter Attenuator Buffer Depth Select \n0 = 128 bits  \n1 = 32 bits (use for delay-sensitive applications) \nDJA 1 Disable Jitter Attenuator \n0 = jitter attenuator enabled  \n1 = jitter attenuator disabled \nTPD 0 Transmit Power-Down  \n0 = powers down the transmitter and tri-states the TTIP and TRING pins \n1 = normal transmitter operation \n21.1 Receive Clock and Data Recovery \nThe DS21Q59 contains a digital clock recovery system. (See Figure 3-1  and Figure 21-1  for more details.) The \ndevice couples to the receive E1 shielded twisted pair or coax through a 1:1 transformer ( Table 21-B ). The \n2.048MHz clock attached at the MCLK pin is internally multiplied by 16 through an internal PLL and fed to the clock recovery system. The clock recovery system uses the clock from the PLL circuit to form a 16 times oversampler, which is used to recover the clock and data. This oversampling technique offers outstanding jitter tolerance  \n(Figure 21-4\n). \n Normally, RCLK is the recovered clock from the E1 AMI/HDB3 waveform presented at the RTIP and RRING inputs. When no AMI signal is present at RTIP and RRING, an RCL condition occurs and the RCLK is sourced from the clock applied at the MCLK pin. If the jitter attenuator is either placed in the transmit path or is disabled, RCLK can \nexhibit slightly shorter high cycles of the clock. This is because of the highly oversampled digital clock recovery \ncircuitry. If the jitter attenuator is placed in the receive path (as is the case in most applications), the jitter attenuator \nrestores the RCLK to being close to 50% duty cycle. See Receive AC Characteristics  in Section 26.4\n for more \ndetails. \n \n21.1.1 Termination \nThe DS21Q59 is designed to be fully software-selectable for 75 /g87 and 120 /g87 termination without the need to change \nany external resistors. The user can configure the DS21Q59 for 75 /g87 or 120 /g87 receive termination by setting the \nIRTSEL (CCR5.4) bit. When using the internal termination feature, the external termination resistance should be \n120/g87 (typically two 60 /g87 resistors). Setting IRTSEL = 1 causes the DS21Q59 to internally apply parallel resistance \nto the external resistors to adjust the termination to 75 /g87 (Figure 21-2 ). \n  \nDS21Q59 Quad E1 Transceiver \n \n \n48 of 76 21.2 Transmit Waveshaping and Line Driving \nThe DS21Q59 uses a set of laser-trimmed delay lines and a precision digital-to-analog converter (DAC) to create the waveforms that are transmitted onto the E1 line. The waveforms meet the ITU G.703 specifications  (Figure 21-3\n). The user selects which waveform is to be generated by properly programming the L2/L1/L0 bits in \nthe line interface control register (LICR). The DS21Q59 can be set up in a number of various configurations \ndepending on the application ( Table 21-A ). \nTable 21-A. Line Build-Out Select in LICR \nL2 L1 L0 APPLICATION TRANSFORMER RETURN LOSS* Rt (/g87)** \n0 0 0 75/g87 normal 1:2 step-up N.M. 0 \n0 0 1 120/g87 normal 1:2 step-up N.M. 0 \n0 1 0 75/g87 with protection resistors 1:2 step-up N.M. 2.5 \n0 1 1 120/g87 with protection resistors 1:2 step-up N.M. 2.5 \n1 0 0 75/g87 with high return loss 1:2 step-up 21dB 6.2 \n1 0 1 120/g87 with high return loss 1:2 step-up 21dB 11.6 \n \n*N.M. = Not meaningful (return loss value too low for significance)  \n**See Application Note 336: Transparent Operation on T1, E1 Framers and Transceivers  for details on E1 line interface design.  \n \nBecause of the nature of the transmitter\x92s design, very little jitter (less than 0.005UI P-P broadband from 10Hz to \n100kHz) is added to the jitter present on TCLK (or source used for transmit clock). Also, the waveform created is independent of the duty cycle of TCLK. The transmitter in the device couples to the E1 transmit-shielded twisted \npair or coax through a 1:2 step-up transformer, as shown in Figure 21-1\n. For the devices to create the proper \nwaveforms, the transformer used must meet the specifications listed in Table 21-B . The line driver in the device \ncontains a current limiter that prevents more than 50mA (RMS) from being sourced in a 1 /g87 load. \nTable 21-B. Transformer Specifications \nSPECIFICATION RECOMMENDED VALUE \nTurns Ratio 1:1 (receive) and 1:2 (transmit) ±3% \nPrimary Inductance 600/g109H minimum \nLeakage Inductance 1.0/g109H maximum \nIntertwining Capacitance 40pF maximum \nDC Resistance 1.2/g87 maximum \n \nFigure 21-1. External Analog Conn ections (Basic Configuration) \n \n   \n \n     \n \n     \n \n   \nRTIP  \nRRING  TTIP  \nTRING  E1 TRANSMIT \nLINEDS21Q59  0.47/g109F \n(NONPOLARIZED )\nDVDD  \nDVSS  0.1/g109F \nRVDD  \nRVSS  0.1/g109F \nTVDD  \nTVSS  0.1/g109F +3.3V  \nRr \n0.1/g109F 0.01/g109F \n2.048MHz  MCLK  1 : 1           2 : 1  \nRr 1/4 \nE1 RECEIVE\nLINE\nDS21Q59 Quad E1 Transceiver \n \n \n49 of 76 Figure 21-2. External Analog Connections (Protected Interface) \nRTIP1\nRRING1TTIP1\nTRING1\n1/4 DS21Q59  0.47/g109F\n(NONPOLARIZED )DVDD\nDVSS0.1/g109F \nRVDD RVSS 0.1/g109F +VDD\n0.01/g109F \n2.048MHz  MCLKS \n1:1 \n0.1/g109F FUSE  \nFUSE  \n60 60+VDD\nC2D5 D6\nD7 D868/g109F\nS TRANSMI T\nLINEFUSE  \nFUSE  \n0.1/g109F +VDD\nC1D1 D2\nD3 D4\nTVDD \nTVSS 2:1 \nRECEIVE\nLINE\nNote 1:  All resistor values are ±1%. \nNote 2:  C1 = C2 = 0.1 /g109F. \nNote 3:  S is a 6V transient suppressor. \nNote 4:  D1 to D8 are Schottky diodes. \nNote 5:  The fuses are optional to prevent AC power line crosses from compromising the transformers. \nNote 6:  The 68 /g109F is used to keep the local power plane potential within tolerance during a surge.  \nDS21Q59 Quad E1 Transceiver \n \n \n50 of 76 Figure 21-3. Transmit Waveform Template \n  \n \n     \n \n     \n \n    \n \n     \n \n     \n21.3 Jitter Attenuators \nThe DS21Q59 contains an on-board clock and data jitter attenuator for each transceiver and a single, undedicated \x93clock only\x94 jitter attenuator. This undedicated jitter attenuator is shown in the block diagram ( Figure 3-1\n) as the \nalternate jitter attenuator.  \n21.3.1 Clock and Data Jitter Attenuators \nThe clock and data jitter attenuators can be mapped into the receive or transmit paths and can be set to buffer depths of either 32 or 128 bits through the LICR. The 128-bit mode is used in applications where large excursions \nof wander are expected. The 32-bit mode is used in delay-sensitive applications. The characteristics of the \nattenuators are shown in Figure 21-5\n. The jitter attenuators can be placed in either the receive path or the transmit \npath by appropriately setting or clearing the JAS bit in the LICR. Also, setting the DJA bit in the LICR can disable the jitter attenuator (in effect, remove it). For the jitter attenuator to operate properly, a 2.048MHz clock (±50ppm) must be applied at the MCLK pin. On-board circuitry adjusts either the recovered clock from the clock/data recovery block or the clock applied at the TCLKI pin to create a smooth jitter-free clock that is used to clock data \nout of the jitter attenuator FIFO. It is acceptable to provide a gapped/bursty clock at the TCLKI pin if the jitter \nattenuator is placed on the transmit side. If the incoming jitter exceeds either 120UI\nP-P (buffer depth is 128 bits) or \n28UI P-P (buffer depth is 32 bits), the DS21Q59 divides the internal nominal 32.768MHz clock by either 15 or 17 \ninstead of the normal 16 to keep the buffer from overflowing. When the device divides by either 15 or 17, it also sets the jitter attenuator limit trip (JALT) bit in the receive information register (RIR.5).  \n 0 \n-0.1 \n-0.2 0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9 1.0 1.1 1.2 \n0\nTIME (ns)SCALED AMPLITUDE  \n50 100 150 200 250 -50 -100 -150 -200 -250 269ns  \n194ns\n219ns(in 75/g87  systems, 1.0  on the scale = 2.37Vpeak  \nin 120/g87 systems, 1.0 on the scale = 3.00Vpeak)  \nG.703  \nTEMPLATE  \nDS21Q59 Quad E1 Transceiver \n \n \n51 of 76 21.3.2 Undedicated Clock Jitter Attenuator \nThe undedicated jitter attenuator is useful for preparing a user-supplied clock for use as a transmission clock \n(TCLK). AJACKI is the input pin and AJCAKO is the output pin. Clocks generated by certain types of PLL or other \nsynthesizers can contain too much jitter to be appropriate for transmission. Network requirements limit the amount of jitter that can be transmitted onto the network. This feature is enabled by setting SC1CR.7 = 1 in Transceiver 1. \n \nFigure 21-4. Jitter Tolerance \n \n \n    \n \n     \n \n     \n \n    \nFigure 21-5. Jitter Attenuation FREQUENCY (Hz)UNIT INTERVALS (UI P-P) 1k \n100 \n10 \n1 \n0.1 \n10 100 1k 10k 100k  DS21Q59\nTOLERANCE\n1 MINIMUM TOLERANCE  \nLEVEL AS PER\nITU G.823  40 \n1.5\n0.2 \n20 2.4k 18k\nFREQUENCY (Hz)0\n-20\n-60\n1 10 100 1k 10kJITTER ATTENUATION (dB)  \n100k  ITU G.7XX  \nPROHIBITED AREA\nETS 300 011 AND TBR12  \nPROHIBITED AREA\n40-40\nJITTER ATTENUATION CURVE\nDS21Q59 Quad E1 Transceiver \n \n \n52 of 76 22. CODE MARK INVERSION (CMI) \nThe DS21Q59 provides a CMI interface for connecting to optical transports. This interface is a unipolar 1T2B-coded signal. Ones are alternately encoded as a logical 1 or 0 level for the full duration of the clock period. Zeros are encoded as a 0-to-1 transition at the middle of the clock period. Figure 22-1\n shows an example data pattern \nand its CMI result. The control bit for enabling CMI is in the OUTAC register, as shown below. \n  \nRegister Name: OUTAC \nRegister Description: OUTA Control Register \nRegister Address: 1A Hex \n \nBit # 7 6 5 4 3 2 1 0 \nName TTLIE CMII CMIE OA4 OA3 OA2 OA1 OA0 \n \nNAME BIT FUNCTION  \nTTLIE 7 TTL Input Enable. When this bit is set, the receiver can accept TTL \npositive and negative data at the RTIP and RRING inputs. The data is \nclocked in on the falling edge of MCLK. \nCMII 6 CMI Invert  \n0 = CMI input data not inverted \n1 = CMI input data inverted  \nCMIE 5 Transmit and Receive CMI Enable  \n0 = Transmit and receive line interface operates in normal AMI/HDB3 mode \n1 = Transmit and receive line interface operate in CMI mode. TTIP is CMI output and RTIP is CMI input. In this mode of operation TRING and RRING are no connects.  \nOA4 4 OUTA Control Bit 4. Inverts OUTA output.  \nOA3 3 OUTA Control Bit 3. See Table 20-A  for details.  \nOA2 2 OUTA Control Bit 2. See Table 20-A  for details.  \nOA1 1 OUTA Control Bit 1. See Table 20-A  for details.  \nOA0 0 OUTA Control Bit 0. See Table 20-A  for details.  \nFigure 22-1. CMI Coding \n0 1 1 1 0 0 1 CLOCK\nDATA\nCMI\nDS21Q59 Quad E1 Transceiver \n \n \n53 of 76 Transmit and receive CMI is enabled through OUTAC.7. When this register bit is set, the TTIP pin outputs CMI-\ncoded data at normal TTL-type levels. This signal can be used to directly drive an optical interface. When CMI is enabled, the user can also use HDB3 coding.  \nWhen this register bit is set, the RTIP pin becomes a unipolar CMI input. The CMI signal is processed to extract \nand align the clock with data. The bipolar code-violation counter counts CVs in the CMI signal. CVs are defined as consecutive 1s of the same polarity, as shown in Figure 22-2\n. If HDB3 precoding is enabled, the CVs generated by \nHDB3 are not counted as errors.  \nFigure 22-2. Example of CMI Code Violation \n \n0 1 1 1 0 0 1 CLOCK\nDATA\nCMI\nCODE VIOLATION  \nDS21Q59 Quad E1 Transceiver \n \n \n54 of 76 23. INTERLEAVED PCM BUS OPERATION \nIn many architectures, the PCM outputs of individual framers are combined into higher-speed PCM buses to simplify transport across the system backplane. The DS21Q59 can be configured to allow PCM data buses to be multiplexed into higher-speed data buses, eliminating external hardware and saving board space and cost. The DS21Q59 uses a channel interleave method. See Figure 24-4\n and Figure 24-7  for details of the channel interleave. \n \nThe interleaved PCM bus option supports three bus speeds. The 4.096MHz bus speed allows two PCM data streams to share a common bus. The 8.192MHz bus speed allows four PCM data streams to share a common bus. The 16.384MHz bus speed allows eight PCM data streams to share a common bus. See Figure 23-1\n for an \nexample of four transceivers sharing a common 8.192MHz PCM bus. The receive elastic stores of each transceiver \nmust be enabled. Through the IBO register the user can configure each transceiver for a specific bus speed and \nposition. For all IBO bus configurations each transceiver is assigned an exclusive position in the high-speed PCM bus. When the device is configured for IBO operation, the TSYNCx pin should be configured as an output or as an input connected to ground. The user cannot supply a TSYNCx signal in this mode. When IBO operation is enabled, TSYNCx will be internally tied to RSYNCx. If TSYNCx is configured as an input, the physical pin will be disconnected from the internal TSYNCx signal and should therefore be connected to ground to keep it from \nfloating.  \n \nRegister Name: IBO \nRegister Description: Interleave Bus Operation Register \nRegister Address: 1C Hex \n \nBit # 7 6 5 4 3 2 1 0 \nName \x97 IBOTCS SCS1 SC S0 IBOEN DA2 DA1 DA0 \n \nNAME BIT FUNCTION \n\x97 7 Not Assigned.   Should be set to 0. \nIBOTCS 6 IBO Transmit Clock Source \n0 = TCLK pin is the source of transmit clock \n1 = Transmit clock is internally derived from the clock at the SYSCLK pin  \nSCS1 5 System Clock Select Bit 1 (Table 23-A ) \nSCS0 4 System Clock Select Bit 0 (Table 23-A ) \nIBOEN 3 Interleave Bus Operation Enable  \n0 = IBO disabled \n1 = IBO enabled \nDA2 2 Device Assignment Bit 3  (Table 23-B ) \nDA1 1 Device Assignment Bit 2 (Table 23-B ) \nDA0 0 Device Assignment Bit 1 (Table 23-B ) \n \nTable 23-A. IBO System Clock Select  \nSCS1 SCS0 FUNCTION \n0 0 2.048MHz, single device on bus \n0 1 4.096MHz, two devices on bus \n1 0 8.192MHz, four devices on bus \n1 1 16.384MHz, eight devices on bus \n Table 23-B. IBO Device Assignment \nDA2 DA1 DA0 FUNCTION \n0 0 0 1st device on bus \n0 0 1 2nd device on bus \n0 1 0 3rd device on bus \n0 1 1 4th device on bus \n1 0 0 5th device on bus \n1 0 1 6th device on bus \n1 1 0 7th device on bus \n1 1 1 8th device on bus \n \nDS21Q59 Quad E1 Transceiver \n \n \n55 of 76 Figure 23-1. IBO Configuration Using Two DS21Q59 Transceivers (Eight E1 Lines) \nXFMR  \nXFMR  \nXFMR  \nXFMR  \nXFMR  \nXFMR  \nXFMR  \nXFMR  \nXFMR  \nXFMR  \nXFMR  \nXFMR  \nXFMR  \nXFMR  \nXFMR  \nXFMR  DS21Q59  \nDS21Q59  PCM IN  \nPCM OUT  16.384MHz INTERLEAVED\n PCM BUS  \n16.384MHz CLOCK DERIVED FROM\n ONE OF THE EIGHT E1 LINESE1 #1  \nE1 #2  \nE1 #3  \nE1 #4  \nE1 #5  \nE1 #6  \nE1 #7  \nE1 #8  RSER1\nRSER2\nRSER3\nRSER4TSER1\nTSER2\nTSER3\nTSER4\nRSER1\nRSER2\nRSER3\nRSER4TSER1\nTSER2\nTSER3\nTSER44/8/16MCK\n4/8/16MCKREFCLK\nREFCLKRTIP1/RRING1\n TTIP1/TRING1  \nRTIP2/RRING2  TTIP2/TRING2  \nRTIP3/RRING3  TTIP3/TRING3  \nRTIP4/RRING4  TTIP4/TRING4  \nRTIP1/RRING1  TTIP1/TRING1  \nRTIP2/RRING2  TTIP2/TRING2  \nRTIP3/RRING3  TTIP3/TRING3  \nRTIP4/RRING4  TTIP4/TRING4  SYSCLK1\nSYSCLK2\nSYSCLK3\nSYSCLK4\nSYSCLK1\nSYSCLK2\nSYSCLK3\nSYSCLK4TSYNC1\nRSYNC2\nRSYNC3\nRSYNC4\nRSYNC4RSYNC3RSYNC2RSYNC1RSYNC1\nNOTE: SEE SECTION 21 FOR DETAILS ON LINE INTERFACE CIRCUIT. \nDS21Q59 Quad E1 Transceiver \n \n \n56 of 76 24. FUNCTIONAL TIMING DIAGRAMS  \n24.1 Receive  \nFigure 24-1. Receive Frame and Multiframe Timing \n \n    \n \n     \n \n \nFigure 24-2. Receive Boundary Timing (With Elastic Store Disabled) \n \n  \n \n     \n \n \nFigure 24-3. Receive Boundary Timi ng (With Elastic Store Enabled) FRAME# 1 23456789 1 0 1 1 1 2 1 3 1 4 1 5 1 6 1\nRSYNC1RSYNC \n2\nNOTE 1:  RSYNC IN FRAME/OUTPUT MODE (RCR.6 = 0). \nNOTE 2:  RSYNC IN MULTIFRAME/OUTPUT MODE (RCR.6 = 1). THIS DIAGRAM ASSUMES THE CAS MF BEGINS IN THE RAF FRAME.  \nCHANNEL 32 CHANNEL 1 CHANNEL 2RCLK\nRSER\nRSYNCLSB MSB Si 1 A Sa4 Sa5 Sa6 Sa7 Sa8\nRSER CHANNEL 1SYSCLK\nRSYNCCHANNEL 31 CHANNEL 32\n1RSYNC\n2LSB MSB LSB MSB\nNOTE 1:  RSYNC IS IN THE OUTPUT MODE (RCR.5 = 0). \nNOTE 2:  RSYNC IS IN THE INPUT MODE (RCR.5 = 1). RSYNC MAY BE HELD HIGH FOR MULTIPLE CLOCK CYCLES AS LONG \nAS IT TRANSITIONS LOW ONE CLOCK CYCLE BEFORE TRANSITIONING HIGH AGAIN FOR THE NEXT SYNC PULSE.  \nDS21Q59 Quad E1 Transceiver \n \n \n57 of 76 Figure 24-4. Receive Interleave Bus Operation  \n \nRSER  LSB SYSCLK  \nRSYNC  \nFRAMER 3, CHANNEL 32  \nMSB LSBFRAMER 0, CHANNEL 1\nMSB LSBFRAMER 1, CHANNEL 1  4 RSER  RSYNC  \nRSER  FR2 CH32  FR3 CH32  FR0 CH1  FR1 CH1 FR2 CH1 FR3 CH1 FR0 CH2 FR1 CH2 FR2 CH2  FR3 CH2  1 \n2 \nBIT DETAIL  FR1 CH32  FR0 CH1  FR1 CH1 FR0 CH2 FR1 CH2  \nNOTE 1:  4.096MHZ BUS CONFIGURATION. \nNOTE 2:  8.192MHZ BUS CONFIGURATION. \nNOTE 3:  16.384MHZ BUS CONFIGURATION. \nNOTE 4:  RSYNC IS IN THE INPUT MODE (RCR.5 = 1). RSYNC MAY BE HELD HIGH FOR MULTIPLE CLOCK CYCLES AS LONG AS IT \nTRANSITIONS LOW ONE CLOCK CYCLE BEFORE TRANSITIONING HIGH AGAIN FOR THE NEXT SYNC PULSE. RSER  \nFR4 CH32  \nFR5 CH32  FR0 CH1  \nFR1 CH1  FR2 CH1\nFR3 CH1FR0 CH2\nFR1 CH2FR2 CH2\nFR3 CH23 \nFR6 CH32  \nFR7 CH32  FR4 CH1\nFR5 CH1FR6 CH1\nFR7 CH1FR4 CH2  \nFR5 CH2  FR6 CH2  \nFR7 CH2\nDS21Q59 Quad E1 Transceiver \n \n \n58 of 76 24.2 Transmit \nFigure 24-5. Transmit Frame and Multiframe Timing \n \n     \n \n     \n \nFigure 24-6. Transmit Boundary Timing \n \n \n \n     \n \n     \n \n 12345 6789 1 0 11 12\n1FRAME#\nTSYNC\nTSYNC1314 15 16 12345 14 15 16 6789 1 0\n2\nNOTE 1:  TSYNC IN FRAME MODE (TCR.1 = 0). \nNOTE 2:  TSYNC IN MULTIFRAME MODE (TCR.1 = 1).  \nLSB MSB LSB MSBCHANNEL 1 CHANNEL 2TCLK\nTSER\nTSYNC\nTSYNC1\n2Si 1 A Sa4 Sa5 Sa6 Sa7 Sa8\nNOTE 1:  TSYNC IS IN THE OUTPUT MODE (TCR.0 = 1). \nNOTE 2:  TSYNC IS IN THE INPUT MODE (TCR.0 = 0). TSYNC MAY BE HELD HIGH FOR MULTIPLE CLOCK CYCLES AS LONG \nAS IT TRANSITIONS LOW ONE CLOCK CYCLE BEFORE TRANSITIONING HIGH AGAIN FOR THE NEXT SYNC PULSE.  \nDS21Q59 Quad E1 Transceiver \n \n \n59 of 76 Figure 24-7. Transmit Interleave Bus Operation \n  \n \n     \n \n     \n \n    \n \nTSER  LSB SYSCLK  \nTSYNC  \nFRAMER 3, CHANNEL 32  \nMSB LSBFRAMER 0, CHANNEL 1\nMSB LSBFRAMER 1, CHANNEL 1  4 TSER  TSYNC  \nTSER  FR2 CH32  FR3 CH32  FR0 CH1  FR1 CH1 FR2 CH1 FR3 CH1 FR0 CH2 FR1 CH2 FR2 CH2  FR3 CH2  1 \n2 \nBIT DETAIL  FR1 CH32  FR0 CH1  FR1 CH1 FR0 CH2 FR1 CH2  \nNOTE 1:  4.096MHZ BUS CONFIGURATION. \nNOTE 2:  8.192MHZ BUS CONFIGURATION. \nNOTE 3: 16.384MHZ BUS CONFIGURATION. \nNOTE 4:  TSYNC IS IN THE INPUT MODE (TCR.0 = 0). TSYNC MAY BE HELD HIGH FOR MULTIPLE CLOCK CYCLES AS LONG AS IT \nTRANSITIONS LOW ONE CLOCK CYCLE BEFORE TRANSITIONING HIGH AGAIN FOR THE NEXT SYNC PULSE.  TSER  \nFR4 CH32  \nFR5 CH32  FR0 CH1  \nFR1 CH1  FR2 CH1\nFR3 CH1FR0 CH2\nFR1 CH2FR2 CH2\nFR3 CH23 \nFR6 CH32  \nFR7 CH32  FR4 CH1\nFR5 CH1FR6 CH1\nFR7 CH1 FR5 CH2  FR6 CH2  \nDS21Q59 Quad E1 Transceiver \n \n \n60 of 76 Figure 24-8. Framer Synchronization Flowchart \n \nFAS Resync\nCriteria Met\nCheck for >=915\nOut of 1000\nCRC4 Word Errors8ms\nTime\nOutRLOS = 1\nSet FASRC\n (RIR.1)\nCAS Resync\nCriteria Met;\nSet CASRC\n  (RIR.0)FAS Search\nFASSA = 1\n FAS Sync\nCriteria M et\n FASSA = 0\nCAS Sync\nCriteria M et\nCASSA = 0\nIf CRC4 is on\n(CCR1.0 = 1)RLOS = 1\nIf CAS is on\n(CCR1.3 = 0)Power Up\nIncrement CRC4\nSync Counter;\nCRC4SA = 0\nCRC4 Resync\nCriteria Met\n(RIR.2)CAS Multiframe Search\n(if enabled via CCR1.3)\n      CASSA = 1CRC4 Multiframe Search\n(if enabled via CCR1.0)\nCRC4SA = 1Resync if\nRCR1.0 = 0\n  Check for FAS\n  Framing Error\n(depends on RCR1.2)\n  Check for CAS\n  MF W ord ErrorSync Declared\nRLOS = 0CRC4 Sync Criteria\nMet; CRC4SA = 0;\nReset CRC4\nSync Counter\n \nDS21Q59 Quad E1 Transceiver \n \n \n61 of 76 Figure 24-9. Transmit Data Flow \nSi Bit Insertion\nControl\n(TCR.3)Timeslot 0\nPass-Through\n(TCR.6)\nE-Bit Generation\n(TCR.5)\nIdle Code / Channel\nInsertion Control via\nTIR1/2/3/4\nTransmit Unframed All\nOnes (TCR.4) or\nAuto AIS (CCR2.5)Code Word\nGeneration\nCRC4 Enable\n(CCR.4)TAF\nTNAF.5-7\nTIDR\nTo Waveshaping\n and Line Drivers01\n0 1\n0110\n0\n= Register\n= Device Pin\n= SelectorKEY:\nNOTES:\n1. Auto Remote Alarm if enabled will only overwrite bit 3 of timeslot 0 in the\n    Not Align Frames if the alarm needs to be sent.CRC4 Multiframe\nAlignment Word\nGeneration (CCR.4)Receive Side\nCRC4 Error\nDetector\nAuto Remote Alarm\nGeneration (CCR.4)TSER\nAMI or HDB3\nConverter\nCCR.61\n1\nSA1 - SA16\nSignaling Insertion\n         CCR6.301\nDS21Q59 Quad E1 Transceiver \n \n \n62 of 76 25. OPERATING PARAMETERS \n \nABSOLUTE MAXIMUM RATINGS \nVoltage Range on Any Pin Relative to Ground -1.0V to +6.0V Operating Temperature Range for DS21Q59L 0°C to +70°C Operating Temperature Range for DS21Q59LN -40°C to +85°C Storage Temperature Range -55°C to +125°C Soldering Temperature Range See IPC/JEDEC J-STD-020A Specification \nStresses beyond those listed under \x93Absolute Maximum Ratings\x94 may cause permanent damage to the device. These are stress rating s only, \nand functional operation of the device at these or any other conditions beyond those indicated in the operational sections of t he specifications is \nnot implied. Exposure to the absolute maximum rating conditions for extended periods may affect device.  \n \nRECOMMENDED DC OPERATING CONDITIONS \n(TA = 0°C to +70°C for DS21Q59L; T A = -40°C to +85°C for DS21Q59LN.) \nPARAMETER SYMBOL CONDITIONS MIN TYP MAX UNITS \nLogic 1 V IH  2.0  5.5 V \nLogic 0 V IL  -0.3  +0.8 V \nSupply V DD (Note 1) 3.135 3.3 3.465 V \n \nCAPACITANCE \n(TA = +25°C)  \nPARAMETER SYMBOL CONDITIONS MIN TYP MAX UNITS \nInput Capacitance C IN   5  pF \nOutput Capacitance C OUT   7  pF \n \nDC CHARACTERISTICS  \n(VDD = 3.3V /g1775%, T A = 0°C to +70°C for DS21Q59L; V DD = 3.3V /g1775%, T A = -40°C to +85°C for DS21Q59LN.)  \nPARAMETER SYMBOL CONDITIONS MIN TYP MAX UNITS \nSupply Current at 3.3V I DD (Note 2)  230  mA \nInput Leakage I IL (Note 3) -1.0  +1.0 /g109A \nOutput Leakage I LO (Note 4)   +1.0 /g109A \nOutput Current (2.4V) I OH  -1.0   mA \nOutput Current (0.4V) I OL  +4.0   mA \n \nNote 1:  Applies to RVDD, TVDD, and DVDD. \nNote 2:  TCLKs = SYSCLKs = MCLK = 2.048MHz; outputs open circuited; TTIPs and TRINGs driving 30 /g87; QRSS data pattern.  \n0.0V < V IN < V DD. \nNote 3:  Applied to INT when tri-stated. \nNote 4:  Applies to output pins in a tri-state condition.  \n \nDS21Q59 Quad E1 Transceiver \n \n \n63 of 76 26. AC TIMING PARAMETERS AND DIAGRAMS \n26.1 Multiplexed Bus AC Characteristics \nTable 26-A. AC Characteristics\x97Multiplexed Parallel Port \n(VDD = 3.3V /g1775%, T A = 0°C to +70°C for DS21Q59L; V DD = 3.3V /g1775%, T A = -40°C to +85°C for DS21Q59LN.) \n(Figure 26-1 , Figure 26-2 , and Figure 26-3 ) \nPARAMETER SYMBOL CONDITIONS MIN TYP MAX UNITS \nCycle Time t CYC  200   ns \nPulse Width, DS Low or RD High PW EL  100   ns \nPulse Width, DS High or RD Low PW EH  100   ns \nInput Rise/Fall times t R, tF    20 ns \nR/W Hold Time tRWH  10   ns \nR/W Setup Time Before DS High tRWS  50   ns \nCS Setup Time Before DS, WR, or \nRD Active tCS  20   ns \nCS Hold Time tCH  0   ns \nRead Data Hold Time t DHR  10  50 ns \nWrite Data Hold Time t DHW  0   ns \nMuxed Address Valid to AS or ALE \nFall tASL  15   ns \nMuxed Address Hold Time t AHL  10   ns \nDelay Time DS, WR, or RD to AS or \nALE Rise tASD  20   ns \nPulse Width AS or ALE High PW ASH  30   ns \nDelay Time, AS or ALE to DS, WR, \nor RD tASED  10   ns \nOutput Data-Delay Time from DS or \nRD tDDR  20  140 ns \nData Setup Time t DSW  50   ns \n \nDS21Q59 Quad E1 Transceiver \n \n \n64 of 76 Figure 26-1. Intel Bus Read AC Timing (PBTS = 0) \n  \n \n     \n \n     \n \n    \n \n   \nFigure 26-2. Intel Bus Write Timing (PBTS = 0) \n ASHPW tCYC\nt ASD \nt ASD PW\nPW EH\nEL t\nt\nt \ntt t \nAHLCH CS\nASL ASED\nCS \nAD0\x96AD7  DHR  tDDRALE \nRD WR \nASH PW tCYC\nt ASD \nt ASD PW\nPW EH\nEL t\nt\nt \ntt t \ntAHL DSWDHW  CH CS\nASL ASED\nCS \nAD0\x96AD7  RD \nWR ALE \nDS21Q59 Quad E1 Transceiver \n \n \n65 of 76 Figure 26-3. Motorola Bus AC Timing (PBTS = 1) \n  \n \n     \n \n     \n \n    \n \n     \n t ASD ASH PW \nt \nt ASL \nAHL tCS\nt ASL \nt t\nt DSW\nDHW  tCH tt t \nDDRDHR  RWH  tASEDPWEH \ntRWS\nAHL PW EL tCYCAS \nDS \nAD0\x96AD7  \n(WRITE)  AD0\x96AD7  \n(READ)  R/W \nCS \nDS21Q59 Quad E1 Transceiver \n \n \n66 of 76 26.2 Nonmultiplexed Bus AC Characteristics \nTable 26-B. AC Characteristics\x97Nonmultiplexed Parallel Port \n(VDD = 3.3V /g1775%, T A = 0°C to +70°C for DS21Q59L; V DD = 3.3V /g1775%, T A = -40°C to +85°C for DS21Q59LN.) \n(Figure 26-4  through Figure 26-7 ) \nPARAMETER SYMBOL CONDITIONS MIN TYP MAX UNITS \nSetup Time for A0 to A7, Valid to CS Active t1  0   ns \nSetup Time for CS Active to Either RD, WR, \nor DS Active t2  0   ns \nDelay Time from Either RD or DS Active to \nData Valid t3    140 ns \nHold Time from Either RD, WR, or DS \nInactive to CS Inactive t4  0   ns \nHold Time from CS Inactive to Data Bus \nTri-State t5  5.0  20 ns \nWait Time from Either WR or DS Active to \nLatch Data t6  75   ns \nData Setup Time to Either WR or DS \nInactive t7  10   ns \nData Hold Time from Either WR or DS \nInactive t8  10   ns \nAddress Hold from Either WR or DS \nInactive t9  10   ns \n \nFigure 26-4. Intel Bus Read Timing (PBTS = 0) \n \n    \n \n     \n \n    \n \n ADDRESS VALID  \nDATA VALID  A0\x96A7  \nD0\x96D7  \nWR \nCS \nRD 0ns MIN  \n0ns MIN  \n75ns MAX  0ns MIN  5ns MIN/20ns MAX  \nt1 \nt2 t3 t4 t5 \nDS21Q59 Quad E1 Transceiver \n \n \n67 of 76 Figure 26-5. Intel Bus Write Timing (PBTS = 0) \n  \n \n     \n \n     \n \n  \nFigure 26-6. Motorola Bus Read Timing (PBTS = 1) \n      \n \n     \n \n   \n \nFigure 26-7. Motorola Bus Write Timing (PBTS = 1) \n \n    \n \n     \n \n     ADDRESS VALID  A0\x96A7  \nD0\x96D7  \nRD \nCS \nWR 0ns MIN  \n0ns MIN  75ns MIN  0ns MIN  10ns  \nMIN 10ns  \nMIN t1 \nt2 t6 t4 t7 t8 \nADDRESS VALID  \nDATA VALID  A0\x96A7  \nD0\x96D7  \nR/W \nCS \nDS 0ns MIN  \n0ns MIN  \n75ns MAX  0ns MIN  5ns MIN/20ns MAX  \nt1 \nt2 t3 t4 t5 \nADDRESS VALID  A0\x96A7  \nD0\x96D7  \nR/W \nCS \nDS 0ns MIN  \n0ns MIN  \n75ns MIN  0ns MIN  10ns  \nMIN 10ns  \nMIN \nt1 \nt2 t6 t4 t7 t8 \nDS21Q59 Quad E1 Transceiver \n \n \n68 of 76 26.3 Serial Port \nTable 26-C. AC Characteristics\x97Serial Port (BTS1 = 1, BTS0 = 0) \n(VDD = 3.3V /g1775%, T A = 0°C to +70°C for DS21Q59L; V DD = 3.3V /g1775%, T A = -40°C to +85°C for DS21Q59LN.) \n(Figure 26-8 ) \nPARAMETER SYMBOL CONDITIONS MIN TYP MAX UNITS \nSetup Time CS to SCLK tCSS  50   ns \nSetup Time SDI to SCLK t SSS  50   ns \nHold Time SCLK to SDI t SSH  50   ns \nSCLK High/Low Time t SLH  200   ns \nSCLK Rise/Fall Time t SRF    50 ns \nSCLK to CS Inactive tLSC  50   ns \nCS Inactive Time tCM  250   ns \nSCLK to SDO Valid t SSV    50 ns \nSCLK to SDO Tri-State t SSH   100  ns \nCS Inactive to SDO Tri-State tCSH   100  ns \n \nFigure 26-8. Serial Bus Timing (BTS1 = 1, BTS0 = 0) \n \nSCLK1\nSCLK2\nSDICS\nHIGH-Z SDOt CSS \nt SSS t SSH tSRF tSLHt LSC t CM \ntSSV t SSH tCSH\nHIGH-Z  LSB\nLSBLSB MSB \nMSB MSB\nNOTE 1: OCES = 1 AND ICES = 0.  \nNOTE 2: OCES = 0 AND ICES = 1. \nDS21Q59 Quad E1 Transceiver \n \n \n69 of 76 26.4 Receive AC Characteristics \nTable 26-D. AC Characteristics\x97Receiver \n(VDD = 3.3V /g1775%, T A = 0°C to +70°C for DS21Q59L; V DD = 3.3V /g1775%, T A = -40°C to +85°C for DS21Q59LN.) \n(Figure 26-9  and Figure 26-10 ) \nPARAMETER SYMBOL CONDITIONS MIN TYP MAX UNITS \n(Note 1)  648  \n(Note 2)  488  \n(Note 3)  244  \n(Note 4)  122  SYSCLK Period t SP \n(Note 5)  61  ns \ntSH  20 0.5 t SP  SYSCLK Pulse Width tSL  20 0.5 t SP  ns \nRSYNC Setup to SYSCLK Falling t SU  20   ns \nRSYNC Hold from SYSCLK Falling t HD  20   ns \nRSYNC Pulse Width t PW  50   ns \nDelay RCLK to RSER Valid t D1    50 ns \nDelay RCLK to RSYNC, OUTA, OUTB t D2    50 ns \nDelay SYSCLK to RSER Valid t D3    22 ns \nDelay SYSCLK to RSYNC, OUTA, \nOUTB tD4    22 ns \n \nNote 1:  SYSCLK = 1.544MHz. \nNote 2:  SYSCLK = 2.048MHz. \nNote 3:  SYSCLK = 4.096MHz. \nNote 4:  SYSCLK = 8.192MHz. \nNote 5:  SYSCLK = 16.384MHz.  \nDS21Q59 Quad E1 Transceiver \n \n \n70 of 76 Figure 26-9. Receive AC Timing (Receive Elastic Store Disabled) \n  \n \n     \n \n     \n \n    \n \n     \n t D1 \ntD2RSER\nRSYNC3 OUTA/OUTB2 (RCLK) \nMSB OF\nCHANNEL 1\nOUTA/OUTB4 \nOUTA/OUTB5 OUTA/OUTB1 (RCLK)  \nNOTE 1:  OUTA OR OUTB CONFIGURED TO OUTPUT RCLK (NONINVERTED). \nNOTE 2:  OUTA OR OUTB CONFIGURED TO OUTPUT RCLK  (INVERTED). \nNOTE 3:  RSYNC IS IN THE OUTPUT MODE (RCR1.5 = 0). \nNOTE 4:  OUTA OR OUTB CONFIGURED TO OUTPUT RFSYNC , CRC4 MF SYNC, OR CAS MF SYNC (NONINVERTED). \nNOTE 5:  OUTA OR OUTB CONFIGURED TO OUTPUT RFSYNC, CRC4 MF SYNC, OR CAS MF SYNC (INVERTED). \nDS21Q59 Quad E1 Transceiver \n \n \n71 of 76 Figure 26-10. Receive AC Timing (Receive Elastic Store Enabled)  \n  \n \n     \n \n     \n \n    \n \n     \n \n t F tR \nt D3 \ntD4 \nt\ntSU HD RSER\nRSYNC1\nRSYNC3SYSCLKSL t\ntSP SH t\nMSB OF\nCHANNEL 1\nOUTA/OUTB2\nNOTE 1:  RSYNC IS IN THE OUTPUT MODE (RCR.5 = 0). \nNOTE 2:  OUTA OR OUTB CONFIGURED AS CRCR MF SYNC OR CAS MF SYNC. \nNOTE 3:  RSYNC IS IN THE INPUT MODE (RCR.5 = 1).  \nDS21Q59 Quad E1 Transceiver \n \n \n72 of 76 26.5 Transmit AC Characteristics \nTable 26-E. AC Characteristics\x97Transmit \n(VDD = 3.3V /g1775%, T A = 0°C to +70°C for DS21Q59L; V DD = 3.3V /g1775%, T A = -40°C to +85°C for DS21Q59LN.) \n(Figure 26-11  and Figure 26-12 ) \nPARAMETER SYMBOL CONDITIONS MIN TYP MAX UNITS \n(Note 1)  648  \nTCLK Period t CP (Note 2)  488  ns \ntCH  20 0.5 t CP  \nTCLK Pulse Width \ntCL  20 0.5 t CP  ns \n(Note 1)  648  \n(Note 2)  488  \n(Note 3)  244  \n(Note 4)  122  SYSCLK Period t SP \n(Note 5)  61  ns \ntSH  20 0.5 t SP  \nSYSCLK Pulse Width \ntSL  20 0.5 t SP  ns \nTSYNC Setup to TCLK  t SU  20   ns \nTSYNC Pulse Width t PW  50   ns \nTSER Setup to TCLK or SYSCLK \nFalling tSU  20   ns \nTSER Hold from TCLK or \nSYSCLK Falling tHD  20   ns \nTCLK Rise and Fall Times t R, tF    25 ns \n \nNote 1:  SYSCLK = 1.544MHz. \nNote 2:  SYSCLK = 2.048MHz. \nNote 3:  SYSCLK = 4.096MHz. \nNote 4:  SYSCLK = 8.192MHz. \nNote 5:  SYSCLK = 16.384MHz.  \nDS21Q59 Quad E1 Transceiver \n \n \n73 of 76 Figure 26-11. Transmit AC Timing (IBO Disabled) \n  \n \n     \n \n     \n \n    \n \n     \n \n t FtR \nTCLK  \nTSER  t\ntCLtCH CP\nTSYNC1 \nTSYNC2 t D2\nt\ntSUHDSU\nOUTA/OUTB3 t D2\nNOTE 1:  TSYNC IS IN OUTPUT MODE (TCR.0 = 1). \nNOTE 2:  TSYNC IS IN INPUT MODE (TCR.0 = 0). TSYNC MAY BE HELD HIGH FOR MULTIPLE CLOCK CYCLES AS LONG AS IT \nTRANSITIONS LOW AT LEAST TWO CLOCK CYCLES BEFORE TRANSITIONING HIGH AGAIN. \nNOTE 3:  APPLIES TO OUTA AND OUTB WHEN CONFIGURED FOR TPOS AND TNEG OUTPUTS.\nDS21Q59 Quad E1 Transceiver \n \n \n74 of 76 Figure 26-12. Transmit AC Timing (IBO Enabled) \n  \n \n     \n \n     \n26.6 Special Modes AC Characteristics  \nTable 26-F. AC Characteristics\x97Special Modes \n(VDD = 3.3V /g1775%, T A = 0°C to +70°C for DS21Q59L; V DD = 3.3V /g1775%, T A = -40°C to +85°C for DS21Q59LN.) \n(Figure 26-13 ) \nPARAMETER SYMBOL CONDITIONS MIN TYP MAX UNITS \nRTIP Period t CP   488  ns \ntCH  75   \nRTIP Pulse Width \ntCL  75   ns \nRTIP Setup to RRING Falling  t SU  20   ns \nTSER Hold from TCLK Falling t HD  20   ns \nRTIP, RRING Rise and Fall Times t R, tF    25 ns \n \nSpecial Mode: OUTBC.7 = 1. \nNote:  RTIP and RRING become NRZ data and clock inputs. \n \nFigure 26-13. NRZ Input AC Timing \n \nRTIP  \nRRING  SU CLt\ntCPCHt\nt HD t FtR t Ft R \nSYSCLK  \nTSER  t\ntSLtSHSP\ntSU \nNOTE:  TSER IS ONLY SAMPLED ON THE FALLING EDGE OF SYSCLK WHEN THE IBO MODE IS ENABLED. tHD \nDS21Q59 Quad E1 Transceiver \n \n \n75 of 76 27. PACKAGE INFORMATION \n(The package drawing(s) in this data sheet may not reflect the most current specifications. For the latest package outline info rmation, go to \nwww.maxim-ic.com/DallasPackInfo .)\n \nDS21Q59 Quad E1 Transceiver \n \nMaxim/Dallas Semiconductor cannot assume responsibility for use of any circuitry other than circuitry entirely embodied in a Ma xim/Dallas Semiconductor product. \nNo circuit patent licenses are implied. Maxim/Dallas Semiconductor reserves the right to change the circuitry and specification s without notice at any time. \nMaxim Integrated Products, 120 San Gabriel Drive, Sunnyvale, CA 94086 408-737-7600 \n© 2004 Maxim Integrated Products /g183 Printed USA  \n \n76 of 76 28. REVISION HISTORY \nDATE DESCRIPTION \n042403 New product release. \n090104 1) Add 16MHz IBO timing diagram and AC characteristics \n2) Correct typos in Figure 26-10. Reference to RSYNC as an input, not an output as \nshown in Note 3. \n3) Added clarification to Section 23 regarding the TSYNCx pin when the part is configured \nfor IBO mode. \n4) Modified Table 26-D for clarification and corrected values. \n5) Modified Table 26-E for clarification and corrected values. 6) Added tHD parameter to Figure 26-12. \n7) Added Notes to Figures 24-3, 24-4, 24-6, 24-7, 26-11 regarding the duration of the Sync \npin when configured as an input. \n8) Corrected typo on Figure 24-4 Note 3, incorrect bit value for RSYNC configured as an \ninput. (should be RCR.5 = 1).\n \n \nMouser Electronics\n  \nAuthorized Distributor\n \n  \nClick to View Pricing, Inventory, Delivery & Lifecycle Information:\n \n \n \n Maxim Integrated:   \n\xa0 DS21Q59DK\xa0 DS21Q59L\xa0 DS21Q59LN\n'}]
!==============================================================================!
### Component Summary: DS21Q59LN Quad E1 Transceiver

#### Key Specifications:
- **Voltage Ratings**: 
  - Supply Voltage (VDD): 3.3V ±5%
- **Current Ratings**: 
  - Supply Current (IDD): 230 mA (typical)
- **Power Consumption**: 
  - 3.3V operation, with a typical current draw of 230 mA.
- **Operating Temperature Range**: 
  - DS21Q59L: 0°C to +70°C
  - DS21Q59LN: -40°C to +85°C
- **Package Type**: 
  - 100-Pin LQFP (Low-Profile Quad Flat Package)
- **Moisture Sensitive Level**: 
  - Level 1 (according to JEDEC J-STD-020E)
- **Special Features**: 
  - Supports four complete E1 transceivers.
  - Configurable for parallel or serial port operation.
  - Integrated jitter attenuator and elastic store for data buffering.
  - Supports various signaling formats including CAS and CCS.
  - Automatic alarm generation for loss of signal and synchronization.

#### Description:
The **DS21Q59LN** is a quad E1 transceiver designed for high-density termination of E1 lines. It integrates a line interface unit (LIU), framer, and a time-division multiplexing (TDM) backplane interface. The device is controlled via an 8-bit parallel port or a serial port, making it versatile for various applications. It is a direct replacement for the DS21Q50, with enhancements in signaling access and interrupt handling.

#### Typical Applications:
- **Digital Subscriber Line Access Multippliers (DSLAMs)**: Used for managing multiple DSL connections.
- **Routers**: Facilitates E1 line connectivity for data routing.
- **Integrated Multiservice Access (IMA) and Wide Area Network (WAN) Equipment**: Supports the transmission of voice and data over E1 lines.
- **Telecommunications Infrastructure**: Provides reliable E1 line interfacing for telecom systems.

The DS21Q59LN is optimized for applications requiring robust E1 line management, including error detection, signaling support, and flexible clock management, making it suitable for modern telecommunications and data networking environments.