[{'role': 'system', 'content': 'You are a technical specialist with expertise in electronics. Your task is to analyze datasheets for electronic components and provide a concise summary of the product’s key characteristics and specifications. In addition, you need to gather textual information about the component, including its description and typical applications.Instructions:    Identify the correct component in the datasheet using the provided product code.    Summarize key parameters, including:        Voltage ratings        Current ratings        Power consumption        Operating temperature range        Package type        Special features or notes (if applicable)        Moisture Sensetive Level JEDEC J-STD-020E    Provide a short description of the component, including what it is (e.g., transistor, microcontroller, sensor) and its primary function.    Explain typical applications for the component (e.g., power management, signal processing, data storage, etc.).    Be thorough and accurate: Ensure the information corresponds specifically to the product code, as some datasheets cover multiple variants.Your goal is to create a clear and accurate technical summary that includes both key specifications and a description of what the component is used for.'}, {'role': 'user', 'content': 'Give me information about the component of STM8S103F3P3TR production of ST MICROELECTRONICS from the text:This is information on a product in full production. February 2017 DocID15441 Rev 14 1/121STM8S103F2 STM8S103F3 \nSTM8S103K3\nAccess line, 16 MHz STM8S 8-bit MCU, up to 8 Kbytes Flash, \n data EEPROM,10-bit ADC, 3 timers, UART, SPI, I²C\nDatasheet - production data\nFeatures\nCore\n•16 MHz advanced STM8 core with Harvard \narchitecture and 3-stage pipeline \n•Extended instruction set \nMemories\n•Program memory: 8 Kbyte Flash; data \nretention 20 years at 55 °C after 10 kcycle \n•Data memory: 640 byte true data EEPROM; \nendurance 300 kcycle \n•RAM: 1 Kbyte\nClock, reset and supply management\n•2.95 to 5.5 V operating voltage \n•Flexible clock control, 4 master clock sources\n– Low power crystal resonator oscillator – External clock input \n– Internal, user-trimmable 16 MHz RC \n– Internal low-po wer 128 kHz RC\n•Clock security system with clock monitor \n•Power management: \n– Low-power modes (wait, active-halt, halt) \n– Switch-off peripheral clocks individually \n•Permanently active, low-consumption power-\non and power-down reset\nInterrupt management\n•Nested interrupt contro ller with 32 interrupts \n•Up to 27 external interrupts on 6 vectors \nTimers\n•Advanced control timer: 16-bit, 4 CAPCOM \nchannels, 3 complementary outputs, dead-time insertion and flexible synchronization •16-bit general purpose timer, with 3 CAPCOM \nchannels (IC, OC or PWM) \n•8-bit basic timer with 8-bit prescaler \n•Auto wake-up timer \n•Window watchdog and independent watchdog \ntimers \nCommunication interfaces\n•UART with clock output for synchronous \noperation, SmartCard, IrDA, LIN master mode \n•SPI interface up to 8 Mbit/s \n•I2C interface up to 400 kbit/s \nAnalog to digital converter (ADC)\n•10-bit, ±1 LSB ADC with up to 5 multiplexed \nchannels, scan mode and analog watchdog \nI/Os\n•Up to 28 I/Os on a 32-pin package including  \n21 high sink outputs \n•Highly robust I/O design, immune against \ncurrent injection \nUnique ID\n•96-bit unique key for each device06Y\x16\x19\x17\x14\x179\x14/4)3\x16\x15\n\x1a\x03[\x03\x1a\x03PP8)4)31\x16\x15\n\x18\x03[\x03\x18\x03PP\n76623\x15\x13\n\x17\x11\x17\x13\x03PP\x03ERG\\8)4)31\x15\x13\n\x16\x03[\x03\x16\x03PP62\x15\x13\n\x16\x13\x13\x03PLOV6\',3\x16\x15\x03\n\x17\x13\x13\x03PLOV\nwww.st.com\nContents STM8S103F2 STM8S103F3 STM8S103K3\n2/121 DocID15441 Rev 14Contents\n1 Introduction . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 9\n2 Description . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 10\n3 Block diagram  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 11\n4 Product overview  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 12\n4.1 Central processing unit STM8  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 12\n4.2 Single wire interface module (SWIM)  and debug module (DM) . . . . . . . . 13\n4.3 Interrupt controller  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 13\n4.4 Flash program and data EEPROM  memory . . . . . . . . . . . . . . . . . . . . . . . 13\n4.5 Clock controller . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 154.6 Power management . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 16\n4.7 Watchdog timers  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 16\n4.8 Auto wakeup counter  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 174.9 Beeper  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 17\n4.10 TIM1 - 16-bit advanced control timer  . . . . . . . . . . . . . . . . . . . . . . . . . . . . 17\n4.11 TIM2 - 16-bit general purpose timer . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 174.12 TIM4 - 8-bit basic timer . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 184.13 Analog-to-digital converter (ADC1)  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 18\n4.14 Communication interfaces  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 18\n4.14.1 UART1 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 19\n4.14.2 SPI . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 19\n4.14.3 I2C  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 20\n5 Pinout and pin description . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 21\n5.1 STM8S103K3 UFQFPN32/LQFP32/SDIP32 pinout and pin  \n description . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 22\n5.2 STM8S103F2/F3 TSSOP20/SO20/UFQFPN20 pinout and pin  \n description . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 26\n5.2.1 STM8S103F2/F3 TSSOP20/SO20 pinout . . . . . . . . . . . . . . . . . . . . . . . 26\n5.2.2 STM8S103F2/F3 UFQFPN20 pinout . . . . . . . . . . . . . . . . . . . . . . . . . . . 27\n5.3 Alternate function remapping . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 30\nDocID15441 Rev 14 3/121STM8S103F2 STM8S103F3  STM8S103K3 Contents\n46 Memory and register map . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 31\n6.1 Memory map  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 31\n6.2 Register map  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 32\n6.2.1 I/O port hardware register map  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 32\n6.2.2 General hardware register map . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 33\n6.2.3 CPU/SWIM/debug module/interrupt contro ller registers  . . . . . . . . . . . . 41\n7 Interrupt vector mapping  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 43\n8 Option byte  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 45\n8.1 Alternate function remapping bits . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 47\n9 Unique ID  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 49\n10 Electrical characteristi cs  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 50\n10.1 Parameter conditions . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 50\n10.1.1 Minimum and maximum values . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 50\n10.1.2 Typical values  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 5010.1.3 Typical curves  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 50\n10.1.4 Loading capacitor  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 50\n10.1.5 Pin input voltage  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 50\n10.2 Absolute maximum ratings . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 51\n10.3 Operating conditions  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 52\n10.3.1 VCAP external capacitor  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 55\n10.3.2 Supply current characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 5510.3.3 External clock sources and timing characteristics . . . . . . . . . . . . . . . . . 64\n10.3.4 Internal clock sources and timing characte ristics  . . . . . . . . . . . . . . . . . 67\n10.3.5 Memory characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 6910.3.6 I/O port pin characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 70\n10.3.7 Reset pin characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 75\n10.3.8 SPI serial peripheral interface  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7710.3.9 I\n2C interface characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 81\n10.3.10 10-bit ADC characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 82\n10.3.11 EMC characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 86\n11 Package information . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 89\n11.1 LQFP32 package information . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 89\nContents STM8S103F2 STM8S103F3 STM8S103K3\n4/121 DocID15441 Rev 1411.2 UFQFPN32 package information . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 92\n11.3 UFQFPN20 package information . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 95\n11.4 SDIP32 package information  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 98\n11.5 TSSOP20 package information  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 10011.6 SO20 package information . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 103\n11.7 UFQFPN recommended footprint . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 104\n12 Thermal characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 106\n12.1 Reference document  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 106\n12.2 Selecting the product temperature range . . . . . . . . . . . . . . . . . . . . . . . . 107\n13 Ordering information  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 108\n13.1 STM8S103 FASTROM microcontroller option list  . . . . . . . . . . . . . . . . . 109\n14 STM8 development tools  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 113\n14.1 Emulation and in-circuit debugging tools  . . . . . . . . . . . . . . . . . . . . . . . . .113\n14.1.1 STice key features . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 113\n14.2 Software tools . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .114\n14.2.1 STM8 toolset  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 114\n14.2.2 C and assembly toolchains  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 114\n14.3 Programming tools . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .115\n15 Revision history  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 116\nDocID15441 Rev 14 5/121STM8S103F2 STM8S103F3 ST M8S103K3 List of tables\n6List of tables\nTable 1. STM8S103F2/x3 access line features  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 10\nTable 2. Peripheral clock gating bit assignments in CLK_PCKENR1/2 registers. . . . . . . . . . . . . . . 15Table 3. TIM timer features. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . . . 18\nTable 4. Legend/abbreviations for pin description tables . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 21Table 5. STM8S103K3 pin descriptions . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 23\nTable 6. STM8S103F2 and STM8S103F3 pin descriptions . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 28\nTable 7. I/O port hardware register map. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . 32\nTable 8. General hardware register map  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  33\nTable 9. CPU/SWIM/debug module/interrupt controller registers.  . . . . . . . . . . . . . . . . . . . . . . . . . . 41\nTable 10. Interrupt mapping . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 43\nTable 11. Option byte . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . . . . . 45\nTable 12. Option byte description . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . . 46\nTable 13. STM8S103K3 alternate function remapping bits fo r 32-pin devices. . . . . . . . . . . . . . . . . . 47\nTable 14. STM8S103Fx alternate function remapping bits fo r 20-pin devices . . . . . . . . . . . . . . . . . . 48\nTable 15. Unique ID registers (96 bits) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . 49\nTable 16. Voltage characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 51\nTable 17. Current characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 51\nTable 18. Thermal characteristics.  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . . 52\nTable 19. General operating conditions . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . 52\nTable 20. Operating conditions at power-up/power-down  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 53Table 21. Total current consumption wit h code execution in run mode at V\nDD = 5 V. . . . . . . . . . . . . 55\nTable 22. Total current consumption wit h code execution in run mode at VDD = 3.3 V . . . . . . . . . . . 56\nTable 23. Total current consumption in wait mode at VDD = 5 V  . . . . . . . . . . . . . . . . . . . . . . . . . . . . 57\nTable 24. Total current consumption in wait mode at VDD = 3.3 V . . . . . . . . . . . . . . . . . . . . . . . . . . . 57\nTable 25. Total current consumption in active halt mode at VDD = 5 V  . . . . . . . . . . . . . . . . . . . . . . . 58\nTable 26. Total current consumption in active halt mode at VDD = 3.3 V . . . . . . . . . . . . . . . . . . . . . . 58\nTable 27. Total current consum ption in halt mode at VDD = 5 V. . . . . . . . . . . . . . . . . . . . . . . . . . . . . 59\nTable 28. Total current consum ption in halt mode at VDD = 3.3 V . . . . . . . . . . . . . . . . . . . . . . . . . . . 59\nTable 29. Wakeup times . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 59\nTable 30. Total current consumption and ti ming in forced reset state  . . . . . . . . . . . . . . . . . . . . . . . . 60\nTable 31. Peripheral current consumption . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . 60\nTable 32. HSE user external clock characteri stics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 6 4\nTable 33. HSE oscillator characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 65\nTable 34. HSI oscillator characteristics. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 67\nTable 35. LSI oscillator characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 68\nTable 36. RAM and hardware registers  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . 69\nTable 37. Flash program memory/data EEPROM memory  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 69Table 38. I/O static characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . . . 70\nTable 39. Output driving current (standard ports). . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  71\nTable 40. Output driving current (true open drain ports). . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 72\nTable 41. Output driving current (high sink ports). . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 72\nTable 42. NRST pin characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . 75\nTable 43. SPI characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 77\nTable 44. I\n2C characteristics. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 81\nTable 45. ADC characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 82\nTable 46. ADC accuracy with RAIN< 10 k Ω, VDD= 5 V . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 83\nTable 47. ADC accuracy with RAIN< 10 k Ω, VDD= 3.3 V. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 84\nTable 48. EMS data  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . . . . . 86\nList of tables STM8S103F2 STM8S103F3 STM8S103K3\n6/121 DocID15441 Rev 14Table 49. EMI data . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 87\nTable 50. ESD absolute maximum ratings . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 87\nTable 51. Electrical sensitivities . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . . . . 88\nTable 52. LQFP32 - 32-pin, 7 x 7 mm low-profile quad flat package mechanical data. . . . . . . . . . . . 90Table 53. UFQFPN32 - 32-pin, 5x5 mm, 0.5 mm pitch ultra thin fine pitch quad flat  \npackage mechanical data . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 93\nTable 54. UFQFPN20 - 20-lead, 3x3 mm, 0.5 mm  pitch, ultra thin fine pitch quad flat  \npackage mechanical data . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 95\nTable 55. SDIP32 package mechanical data . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 9 8\nTable 56. TSSOP20 package mechanical data . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 100Table 57. SO20 mechanical data . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 103\nTable 58. Thermal characteristics.  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . 106\nTable 59. Document revision history  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 116\nDocID15441 Rev 14 7/121STM8S103F2 STM8S103F3 ST M8S103K3 List of figures\n8List of figures\nFigure 1. STM8S103F2/x3 block diagram  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 1 1\nFigure 2. Flash memory organization . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 14\nFigure 3. STM8S103K3 UFQFPN32/LQFP32 pi nout  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 22\nFigure 4. STM8S103K3 SDIP32 pinout . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 23\nFigure 5. STM8S103F2/F3 TSSOP2 0/SO20 pinout  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 26\nFigure 6. STM8S103F2/F3 UFQFPN20-pin pinout . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 27\nFigure 7. Memory map  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 31\nFigure 8. Pin loading conditions. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 50\nFigure 9. Pin input voltage . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . . . . 51\nFigure 10. fCPUmax  versus VDD . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 53\nFigure 11. External capacitor CEXT . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 55\nFigure 12. Typ IDD(RUN)  vs. VDD HSE user external clock, fCPU = 16 MHz  . . . . . . . . . . . . . . . . . . . . 61\nFigure 13. Typ IDD(RUN)  vs. fCPU HSE user external clock, VDD = 5 V . . . . . . . . . . . . . . . . . . . . . . . . 61\nFigure 14. Typ IDD(RUN)  vs. VDD HSI RC osc, fCPU = 16 MHz  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 62\nFigure 15. Typ IDD(WFI)  vs. VDD HSE external clock, fCPU = 16 MHz . . . . . . . . . . . . . . . . . . . . . . . . . 62\nFigure 16. Typ IDD(WFI)  vs. fCPU HSE external clock, VDD = 5 V  . . . . . . . . . . . . . . . . . . . . . . . . . . . . 63\nFigure 17. Typ IDD(WFI)  vs. VDD HSI RC osc., fCPU = 16 MHz  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 63\nFigure 18. HSE external clock source . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . 64\nFigure 19. HSE oscillator circuit diagram. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . 66\nFigure 20. Typical HSI frequency variation vs VDD @ 4 temperatures  . . . . . . . . . . . . . . . . . . . . . . . . 67\nFigure 21. Typical LSI frequency variation vs VDD@ 4 temperatures . . . . . . . . . . . . . . . . . . . . . . . . . 68\nFigure 22. Typical VIL and VIH vs VDD @ 4 temperatures . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 71\nFigure 23. Typical pull-up current vs VDD @ 4 temperatures  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 71\nFigure 24. Typical pull-up resistance vs VDD @ 4 temperatures  . . . . . . . . . . . . . . . . . . . . . . . . . . . . 71\nFigure 25. Typ. VOL @ VDD = 3.3 V (standard ports)  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 72\nFigure 26. Typ. VOL @ VDD = 5.0 V (standard ports)  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 72\nFigure 27. Typ. VOL @ VDD = 3.3 V (true open drain ports) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 73\nFigure 28. Typ. VOL @ VDD = 5.0 V (true open drain ports) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 73\nFigure 29. Typ. VOL @ VDD = 3.3 V (high sink ports) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 73\nFigure 30. Typ. VOL @ VDD = 5.0 V (high sink ports) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 73\nFigure 31. Typ. VDD - VOH @ VDD = 3.3 V (standard ports)  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 74\nFigure 32. Typ. VDD - VOH @ VDD = 5.0 V (standard ports)  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 74\nFigure 33. Typ. VDD - VOH @ VDD = 3.3 V (high sink ports) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 74\nFigure 34. Typ. VDD - VOH @ VDD = 5.0 V (high sink ports) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 74\nFigure 35. Typical NRST VIL and VIH vs VDD @ 4 temperatures. . . . . . . . . . . . . . . . . . . . . . . . . . . . . 75\nFigure 36. Typical NRST pull-up resistance RPU vs VDD @ 4 temperatures. . . . . . . . . . . . . . . . . . . . 76\nFigure 37. Typical NRST pull-up current Ipu vs VDD @ 4 temperatures. . . . . . . . . . . . . . . . . . . . . . . . 76\nFigure 38. Recommended reset pin protection . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 77\nFigure 39. SPI timing diagram where slav e mode and CPHA = 0 . . . . . . . . . . . . . . . . . . . . . . . . . . . . 79\nFigure 40. SPI timing diagram where slav e mode and CPHA = 1 . . . . . . . . . . . . . . . . . . . . . . . . . . . . 79\nFigure 41. SPI timing diagram - master mode . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  80\nFigure 42. Typical application with I2C bus and timing diagram  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 81\nFigure 43. ADC accuracy characteristics. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . 84\nFigure 44. Typical application with ADC  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 85\nFigure 45. LQFP32 - 32-pin, 7 x 7 mm low-profile quad flat package outline  . . . . . . . . . . . . . . . . . . . 89\nFigure 46. LQFP32 - 32-pin, 7 x 7 mm low-profile quad flat package recommended footprint . . . . . . 90Figure 47. LQFP32 marking example (package top view)  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 91\nFigure 48. UFQFPN32 - 32-pin, 5x5 mm, 0.5 mm pitch ultra thin fine pitch quad flat  \nList of figures STM8S103F2 STM8S103F3 STM8S103K3\n8/121 DocID15441 Rev 14package outline. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 92\nFigure 49. UFQFPN32 - 32-pin, 5 x5  mm, 0.5 mm pitch ultra thin fine pitch quad flat  \npackage recommended footprint  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 93\nFigure 50. UFQFPN32 marking example (package top view)   . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 94\nFigure 51. UFQFPN20 - 20-lead, 3x3 mm, 0.5 mm pitch, ultra thin fine pitch quad flat  \npackage outline. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 95\nFigure 52. UFQFPN20 - 20-lead, 3x3 mm, 0.5 mm  pitch, ultra thin fine pitch quad flat  \npackage recommended footprint  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 96\nFigure 53. UFQFPN20 marking example (package top view) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 97\nFigure 54. SDIP32 package outline . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . 98\nFigure 55. SDIP32 marking example (package top view)   . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 99\nFigure 56. TSSOP20 package outline . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 100\nFigure 57. TSSOP20 recommended package footprint . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 101\nFigure 58. TSSOP20 marking example (package top view) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 102\nFigure 59. SO20 package outline  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 103\nFigure 60. SO20 marking example (package top view)  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 104Figure 61. UFQFPN recommended footprint for on-board emul ation . . . . . . . . . . . . . . . . . . . . . . . . 104\nFigure 62. UFQFPN recommended footprint without on-board emulation. . . . . . . . . . . . . . . . . . . . . 105\nFigure 63. STM8S103F2/x3 access line ordering information scheme\n(1) . . . . . . . . . . . . . . . . . . . . . 108\nDocID15441 Rev 14 9/121STM8S103F2 STM8S103F3 STM8S103K3 Introduction\n201 Introduction\nThis datasheet contains the description of  the device features, pinout, electrical \ncharacteristics, mechanical data and ordering information. \n• For complete information on the STM8S microcontroller memory, registers and \nperipherals, please refer to the STM8S microcontroller family reference manual (RM0016). \n• For information on programming, erasing and protection of the internal Flash memory \nplease refer to the STM8S Flash programming manual (PM0051). \n• For information on the debug and SWIM (s ingle wire interface module) refer to the \nSTM8 SWIM communication protocol and debug module user manual (UM0470). \n• For information on the STM8 core, please refer to the STM8 CPU programming manual \n(PM0044). \nDescription STM8S103F2 STM8S103F3 STM8S103K3\n10/121 DocID15441 Rev 142 Description\nThe STM8S103F2/x3 access line 8-bit microcontrollers offer 8  Kbyte Flash program \nmemory, plus integrated true data EEPROM. T he STM8S microcontrolle r family reference \nmanual (RM0016) refers to devices in this fami ly as low-density. They provide the following \nbenefits: performance, robustness, and reduced system cost.\nDevice performance and robustness are ensured by advanced core and peripherals made in a state-of-the art technology, a 16 MHz clock frequency, robust I/Os, independent watchdogs with separate  clock source, and a cl ock security system.\nThe system cost is reduced thanks to an integrated true data EEPROM for up to 300 k \nwrite/erase cycles and a high system integrat ion level with internal clock oscillators, \nwatchdog and brown-out reset.\nFull documentation is offered as well as a wide choice of development tools.\n          Table 1. STM8S103F2/x3 access line features \nDevice STM8S103K3 STM8S103F3 STM8S103F2\nPin count 32 20 20\nMaximum number of \nGPIOs (I/Os)28 16 16\nExt. interrupt pins 27 16 16\nTimer CAPCOM \nchannels777\nTimer complementary \noutputs322\nA/D converter channels 4 5 5\nHigh sink I/Os 21 12 12Low density Flash \nprogram memory \n(bytes)8K 8K 4K\nData EEPROM (bytes) 640\n(1)\n1.  No read-while-write (RWW) capability.640(1)640(1)\nRAM (bytes) 1K 1K 1K\nPeripheral setMultipurpose timer (TIM1), SPI, I2 C, UART window WDG, independent \nWDG, ADC, PWM timer (T IM2), 8-bit timer (TIM4)\nDocID15441 Rev 14 11/121STM8S103F2 STM8S103F3 STM8S103K3 Block diagram\n203 Block diagram\nFigure 1. STM8S103F2/x3 block diagram \n06Y\x16\x19\x17\x14\x169\x14,\x15&;7$/\x03\x14\x10\x14\x19\x030+]\n5&\x03LQW\x11\x03\x14\x19\x030+]\n5&\x03LQW\x11\x03\x14\x15\x1b\x03N+]\n670\x1b\x03\nFRUH\n\'HEXJ\x126:,0\n63,\n8$57\x14\n\x14\x19\x10ELW\x03JHQHUDO\x03SXUSRVH\n7LPHU\x03\x0b7,0\x15\x0c\n$:8\x03WLPHU5HVHW\x03EORFN\n5HVHW\n325 %25&ORFN\x03FRQWUROOHU\n\'HWHFWRU\n&ORFN\x03WR\x03SHULSKHUDOV\x03DQG\x03FRUH\n\x1b\x030ELW\x12V\n/,1\x03PDVWHU\n63,\x03HPXO\x11\n$GGUHVV\x03DQG\x03GDWD\x03EXV\x1b\x03.E\\WHV\n3URJUDP\n)ODVK\n\x19\x17\x13\x03E\\WHV\nGDWD\x03((3520\n\x14\x03.E\\WH\n5$0\n$\'&\x145HVHW\n\x17\x13\x13\x03.ELW\x12V6LQJOH\x03ZLUH\nGHEXJ\x03LQWHUI\x11\n\x14\x19\x10ELW\x03DGYDQFHG\nFRQWURO\x03WLPHU\x03\x0b70\x14\x0c\x03\x03\n\x1b\x10ELW\x03EDVLF\x03WLPHU\n\x0b7,0\x17\x0c8S\x03WR\x03\x17\x03&$3&20\x03\nFKDQQHOV\x03\x0e\x03\x16\x03FRPSOHPHQWDU\\\x03RXWSXWV\n%HHSHU\x14\x12\x15\x12\x17\x03N+]\nEHHS,QGHSHQGHQW\x03:\'*\n8S\x03WR\x03\x16\x03&$3&20\nFKDQQHOV\n8S\x03WR\x03\x18\nFKDQQHOV:LQGRZ\n:\'*\nProduct overview STM8S103F2 STM8S103F3 STM8S103K3\n12/121 DocID15441 Rev 144 Product overview\nThe following section provides an overview of th e basic features of the device functional \nmodules and peripherals.\nFor more detailed information please refer to the corresponding family reference manual \n(RM0016).\n4.1 Central proc essing unit STM8\nThe 8-bit STM8 core is designed for code efficiency and performance. \nIt contains 6 internal registers which are directly addressable in each execution context, 20 \naddressing modes including indexed indirect an d relative addressing and 80 instructions. \nArchitecture and registers\n• Harvard architecture,\n• 3-stage pipeline, \n• 32-bit wide program memory bus - single cycle fetching for most instructions, \n• X and Y 16-bit index registers - enabling indexed addressing modes with or without \noffset and read-modify-write type data manipulations, \n• 8-bit accumulator,\n• 24-bit program counter - 16-Mbyte linear memory space,\n• 16-bit stack pointer - acce ss to a 64 K-level stack,\n• 8-bit condition code register - 7 condition flag s for the result of the last instruction. \nAddressing\n• 20 addressing modes, \n• Indexed indirect addressing mode for look-up tables located anywhere in the address \nspace, \n• Stack pointer relative addressing mode for local variables and parameter passing.\nInstruction set\n• 80 instructions with 2-byte average instruction size, \n• Standard data movement and logic/arithmetic functions,\n• 8-bit by 8-bit multiplication,\n• 16-bit by 8-bit and 16-bit by 16-bit division,\n• Bit manipulation, \n• Data transfer between stack and accumu lator (push/pop) with direct stack access,\n• Data transfer using the X and Y registers or direct memory-to-memory transfers.\nDocID15441 Rev 14 13/121STM8S103F2 STM8S103F3 ST M8S103K3 Product overview\n204.2 Single wire interface module  (SWIM) and debug module (DM)\nThe single wire interface module and debug module permits non-intrusive, real-time in-\ncircuit debugging and fast memory programming. \nSWIM\nSingle wire interface module  for direct access to the debug module and memory \nprogramming. The interface can be activated in  all device operation modes. The maximum \ndata transmission speed is 145 bytes/ms. \nDebug module\nThe non-intrusive debugging module features a performance close to a full-featured emulator. Beside memory and peripherals, also CPU operation can be monitored in real-time by means of shadow registers. \n• R/W to RAM and peripheral registers in real-time \n• R/W access to all resour ces by stalling the CPU \n• Breakpoints on all program-memory instructions (software breakpoints) \n• Two advanced breakpoints, 23 predefined configurations \n4.3 Interrupt controller\n• Nested interrupts with three software  priority levels, \n• 32 interrupt vectors wit h hardware priority, \n• Up to 27 external interrupts on 6 vectors including TLI,\n• Trap and reset interrupts \n4.4 Flash program and data EEPROM memory\n• 8 Kbyte of Flash program single voltage Flash memory, \n• 640 byte true data EEPROM,\n• User option byte area. \nWrite protection (WP)\nWrite protection of Flash program memory  and data EEPROM is provided to avoid \nunintentional overwriting of me mory that could result from a user software malfunction. \nThere are two levels of write protection. The first level is known as MASS (memory access \nsecurity system). MASS is always enabled and protects the main Flash program memory, data EEPROM and option bytes. \nTo perform in-application programming (IAP), this write protection can be removed by \nwriting a MASS key sequence in a control register. This allows the application to write to \ndata EEPROM, modify the conten ts of main program memory or the device option bytes. \nA second level of write protection, can be en abled to further protect a specific area of \nmemory known as UBC (user boot code ). Refer to the figure below. \nThe size of the UBC is programmable through the UBC option byte, in increments of 1 page \n(64-byte block) by programming the UBC option byte in ICP mode. \nProduct overview STM8S103F2 STM8S103F3 STM8S103K3\n14/121 DocID15441 Rev 14This divides the program memory into two areas: \n• Main program memory: up to 8 Kbyte minus UBC \n• User-specific boot code (UBC): Configurable up to 8 Kbyte \nThe UBC area remains write-protected during in-application programming. This means that \nthe MASS keys do not unlock the UBC area. It protects the memory used to store the boot program, specific code libraries, reset and in terrupt vectors, the reset routine and usually \nthe IAP and communication routines. \nFigure 2. Flash memory organization \nRead-out protection (ROP)\nThe read-out protection blocks reading and writing the Flash program memory and data EEPROM memory in ICP mode (and debug mode). Once th e read-out protection is \nactivated, any attempt to toggle its status triggers a global erase of the program and data memory. Even if no protection can be cons idered as totally unbreakable, the feature \nprovides a very high level of protection for a general purpose microcontroller. 06Y\x16\x19\x17\x1a\x1c9\x148%&\x03DUHD\n5HPDLQV\x03ZULWH\x03SURWHFWHG\x03GXULQJ\x03,$3\n3URJUDP\x03PHPRU\\\x03DUHD\x03\n:ULWH\x03DFFHVV\x03SRVVLEOH\x03IRU\x03,$3\'DWD\x03PHPRU\\\x03DUHD\x03\x0b\x03\x19\x17\x13\x03E\\WHV\x0c\'DWD\n((3520\nPHPRU\\\n2SWLRQ\x03E\\WHV\n/RZ\x03GHQVLW\\\x03\n)ODVK\x03SURJUDP\x03PHPRU\\\x03\x0b\x1b\x03.E\\WHV\x0c3URJUDPPDEOH\x03DUHD\x03\nIURP\x03\x19\x17\x03E\\WHV\x03\n\x0b\x14\x03SDJH\x0c\x03XS\x03WR\x03\x1b\x03.E\\WHV\x03\n\x0bLQ\x03\x14\x03SDJH\x03VWHSV\x0c\nDocID15441 Rev 14 15/121STM8S103F2 STM8S103F3 ST M8S103K3 Product overview\n204.5 Clock controller\nThe clock controller distributes the system clock (fMASTER) coming from different \noscillators to the core and t he peripherals. It also mana ges clock gating for low power \nmodes and ensures clock robustness. \nFeatures\n• Clock prescaler: to get the best compromise between speed and current consumption \nthe clock frequency to the CPU and peripherals can be adjusted by a programmable prescaler. \n• Safe clock switching:  clock sources can be changed safely on the fly in run mode \nthrough a configuration register. The clock signal is not switched until the new clock \nsource is ready. The design guarantees glitch-free switching. \n• Clock management:  to reduce power consumption, the clock controller can stop the \nclock to the core, individual peripherals or memory. \n• Master clock sources:  four different clock sources can be used to drive the master \nclock: \n– 1-16 MHz high-speed external crystal (HSE) – Up to 16 MHz high-speed user-external clock (HSE user-ext) – 16 MHz high-speed internal RC oscillator (HSI) – 128 kHz low-speed internal RC (LSI) \n• Startup clock:  After reset, the microcontroller restarts by default with an internal 2 MHz \nclock (HSI/8). The prescaler ratio and cloc k source can be changed by the application \nprogram as soon as the code execution starts. \n• Clock security system (CSS):  This feature can be enabled by software. If an HSE \nclock failure occurs, the internal RC (16 MH z/8) is automatically selected by the CSS \nand an interrupt can optionally be generated. \n• Configurable main clock output (CCO):  This outputs an external clock for use by the \napplication.\n          Table 2. Peripheral clock gating bit assignments in CLK_PCKENR1/2 registers \nBit Peripheral \nclock Bit Peripheral \nclock Bit Peripheral \nclock Bit Peripheral \nclock \nPCKEN17 TIM1 PCKEN13 UART1 PCKEN27 Reserved PCKEN23 ADC \nPCKEN16 Reserved PCKEN12 Reserved  PCKEN26 Reserved PCKEN22 AWU \nPCKEN15 TIM2 PCKEN11 SPI PCKEN 25 Reserved PCKEN21 Reserved \nPCKEN14 TIM4 PCKEN10 I2C PCKEN 24 Reserved PCKEN20 Reserved \nProduct overview STM8S103F2 STM8S103F3 STM8S103K3\n16/121 DocID15441 Rev 144.6 Power management\nFor efficient power management , the application can be put in one of four different low-\npower modes. You can configure each mode to obtain the best compromise between lowest power consumption, fastest start-up time and available wakeup sources. \n• Wait mode:  In this mode, the CPU is stopped, but peripherals are kept running. The \nwakeup is performed by an internal or external interrupt or reset. \n• Active halt mode with regulator on:  In this mode, the CPU and peripheral clocks are \nstopped. An internal wakeup is generated at programmable intervals by the auto wake \nup unit (AWU). The main voltage regulator is kept powered on, so current consumption \nis higher than in active halt mode with regulator off, but the wakeup time is faster. Wakeup is triggered by the internal AWU interrupt, exte rnal interrupt or reset. \n• Active halt mode with regulator off: This mode is the same as active halt with \nregulator on, except that the main voltage regul ator is powered off, so the wake up time \nis slower. \n• Halt mode:  In this mode the microcontroller uses the least power. The CPU and \nperipheral clocks are stopped, the main voltage regulator is powered off. Wakeup is triggered by external  event or reset. \n4.7 Watchdog timers\nThe watchdog system is based on two independent timers providing maximum security to \nthe applications. \nActivation of the watchdog timers is contro lled by option bytes or by software. Once \nactivated, the watchdogs cannot be disabled by the user program without performing a \nreset. \nWindow watchdog timer\nThe window watchdog is used to detect the occurrence of a software fault, usually generated by external interferences or by un expected logical conditions, which cause the \napplication program to abandon its normal sequence. \nThe window function can be used to trim the watchdog behavior to match the application perfectly. \nThe application software must refresh the coun ter before time-out and during a limited time \nwindow. \nA reset is generated in two situations: \n1. Timeout: At 16 MHz CPU clock the time-out period can be adjusted between 75  µs up \nto 64  ms. \n2. Refresh out of window: The downcounter is refreshed before its value is lower than the \none stored in the window register. \nDocID15441 Rev 14 17/121STM8S103F2 STM8S103F3 ST M8S103K3 Product overview\n20Independent watchdog timer\nThe independent watchdog peripheral can be used  to resolve processor malfunctions due to \nhardware or software failures. \nIt is clocked by the 128  kHz LSI internal RC clock source, and thus stays active even in case \nof a CPU clock failure \nThe IWDG time base spans from 60  µs to 1  s. \n4.8 Auto wakeup counter\n• Used for auto wakeup fr om active halt mode, \n• Clock source: Internal 128 kHz internal low frequency RC o scillator or external clock, \n• LSI clock can be internally connected to TIM1 input capture channel 1 for calibration. \n4.9 Beeper\nThe beeper function outputs a si gnal on the BEEP pin for sound generation. The signal is in \nthe range of 1, 2 or 4  kHz.\nThe beeper output port is only available thro ugh the alternate function remap option bit \nAFR7.\n4.10 TIM1 - 16-bit advanced control timer\nThis is a high-end timer designed for a wi de range of control applications. With its \ncomplementary outputs, dead-tim e control and center-aligned PW M capability, the field of \napplications is extended to motor cont rol, lighting and half-bridge driver \n• 16-bit up, down and up/down autoreload counter with 16-bit prescaler \n• Four independent capture/compare channels (CAPCOM) configurable as input \ncapture, output compare, PWM generation (e dge and center aligned mode) and single \npulse mode output \n• Synchronization module to control the timer with external signals\n• Break input to force the timer outputs into a defined state \n• Three complementary outputs with adjustable dead time \n• Encoder mode \n• Interrupt sources: 3 x input capture/output compare, 1 x overflow/update, 1 x break \n4.11 TIM2 - 16-bit ge neral purpose timer\n• 16-bit auto reload (AR) up-counter \n• 15-bit prescaler adjustable to fixed power of 2 ratios 1…32768\n• 3 individually configurable capture/compare channels \n• PWM mode \n• Interrupt sources: 3 x input capture/output compare, 1 x overflow/update \nProduct overview STM8S103F2 STM8S103F3 STM8S103K3\n18/121 DocID15441 Rev 144.12 TIM4 - 8-bit basic timer\n• 8-bit auto reload, adjustable prescaler ratio to any power of 2 from 1 to 128 \n• Clock source: CPU clock \n• Interrupt source: 1 x overflow/update\n          \n4.13 Analog-to-digita l converter (ADC1)\nThe STM8S103F2/x3 family products contai n a 10-bit successive approximation A/D \nconverter (ADC1) with up to 5 external mult iplexed input channels and the following main \nfeatures: \n• Input voltage range: 0 to VDD \n• Conversion time: 14 clock cycles \n• Single and continuous and buffer ed continuous conversion modes \n• Buffer size (n x 10 bits) where n = number of input channels \n• Scan mode for single and continuous c onversion of a sequence of channels \n• Analog watchdog capability with progra mmable upper and lower thresholds \n• Analog watchdog interrupt \n• External trigger input \n• Trigger from TIM1 TRGO \n• End of conversion (EOC) interrupt \n4.14 Communication interfaces\nThe following communication interfaces are implemented: \n• UART1: Full feature UART, synchronous mode, SPI master mode, Smartcard mode, \nIrDA mode, single wire mode,  LIN2.1 master capability \n• SPI: Full and half-duplex, 8 Mbit/s \n• I²C: Up to 400 kbit/s Table 3. TIM timer features \nTimer Counter \nsize (bits) Prescaler Counting \nmode CAPCOM \nchannels Complementary \noutputs Ext. \ntrigger Timer \nsynchronization/\nchaining \n TIM1 16 Any integer \nfrom 1 to \n65536 Up/down 4 3 Yes \nNo  TIM2 16 Any power \nof 2 from 1 \nto 32768 Up 3 0 No \n TIM4 8 Any power \nof 2 from 1 \nto 128 Up 0 0 No \nDocID15441 Rev 14 19/121STM8S103F2 STM8S103F3 ST M8S103K3 Product overview\n204.14.1 UART1\nMain features\n• 1 Mbit/s full duplex SCI \n• SPI emulation \n• High precision baud rate generator \n• Smartcard emulation \n• IrDA SIR encoder decoder \n• LIN master mode\n• Single wire half duplex mode \nAsynchronous communication (UART mode)\n• Full duplex communication - NRZ standard format (mark/space) \n• Programmable transmit and receive baud rate s up to 1 Mbit/s (fCPU/16) and capable \nof following any standard baud rate regardless of the input frequency \n• Separate enable bits for transmitter and receiver \n• Two receiver wakeup modes: \n– Address bit (MSB) – Idle line (interrupt) \n• Transmission error detection with interrupt generation \n• Parity control \nSynchronous communication\n• Full duplex synchronous transfers \n• SPI master operation \n• 8-bit data communication \n• Maximum speed: 1 Mbit/s  at 16 MHz (fCPU/16) \nLIN master mode\n• Emission: Generates 13-bit synch. break frame \n• Reception: Detects 11-bit break frame \n4.14.2 SPI\n• Maximum speed: 8 Mbit/s (fMASTER /2) both for master and slave \n• Full duplex synchronous transfers \n• Simplex synchronous transfers on two lines  with a possible bidirectional data line \n• Master or slave operation - selectable by hardware or software \n• CRC calculation \n• 1 byte Tx and Rx buffer \n• Slave/master selection input pin \nProduct overview STM8S103F2 STM8S103F3 STM8S103K3\n20/121 DocID15441 Rev 144.14.3 I2C\n• I²C master features: \n– Clock generation – Start and stop generation \n• I²C slave features: \n– Programmable I2C address detection – Stop bit detection \n• Generation and detection of 7-bit/10-bit addressing and general call \n• Supports different communication speeds: \n– Standard speed (up to 100 kHz) – Fast speed (up to 400 kHz) \nDocID15441 Rev 14 21/121STM8S103F2 STM8S103F3 STM8S103K3 Pinout and pin description\n305 Pinout and pin description\n          Table 4. Legend/abbreviation s for pin description tables \nType  I= Input, O = Output, S = Power supply \nLevel Input CM = CMOS \nOutput HS = High sink\nOutput speedO1 = Slow (up to 2 MHz)\nO2 = Fast (up to 10 MHz)\nO3 = Fast/slow programmability with slow as default state after reset\nO4 = Fast/slow programmability with fast as default state after reset \nPort and control \nconfigurationInput float = floating, \nwpu = weak pull-up \nOutput T = True open drain, \nOD = Open drain, PP = Push pull \nReset stateBold X (pin state after internal reset release).\nUnless otherwise specified, the pin state is the same during the reset \nphase and after the internal reset release.\nPinout and pin description STM8S103F2 STM8S103F3 STM8S103K3\n22/121 DocID15441 Rev 145.1 STM8S103K3 UFQF PN32/LQFP32/SDIP32 pinout and pin  \n description\nFigure 3. STM8S103K3 UFQFPN32/LQFP32 pinout\n1. (HS) high sink capability.\n2. (T) True open drain (P-buffer and protection diode to VDD not implemented).\n3. [ ] alternate function remapping option (if the same al ternate function is shown twice, it indicates an \nexclusive choice not a dupl ication of the function).06Y\x16\x19\x17\x14\x189\x14,\x15&B6&/\x12\x0b7\x0c\x033%\x17\n7,0\x14B(75\x12$,1\x16\x12\x0b+6\x0c\x033%\x16\n7,0\x14B&+\x161\x12\x03$,1\x15\x12\x0b+6\x0c\x033%\x15\n7,0\x14B&+\x151\x12\x03$,1\x14\x12\x0b+6\x0c\x033%\x14\n7,0\x14B&+\x141\x12$,1\x13\x12\x0b+6\x0c\x033%\x133%\x1a\n3%\x19\n,\x15&B6\'$\x12\x03\x0b7\x0c\x033%\x18\x16\x15 \x16\x14 \x16\x13 \x15\x1c \x15\x1b \x15\x1a \x15\x19 \x15\x18\n\x15\x17\n\x15\x16\x15\x15\n\x15\x14\n\x15\x13\n\x14\x1c\n\x14\x1b\n\x14\x1a\n\x1c\x14 \x13\x14 \x14\x14 \x15\x14 \x16\x14 \x17\x14 \x18 \x14\x19\x14\n\x15\n\x16\n\x17\n\x18\x19\n\x1a\x1b9&$3\n9\'\'\n>63,B166@\x037,0\x15B&+\x16\x12\x0b+6\x0c\x033$\x16\n3)\x171567\n26&,1\x123$\x14\n26&287\x123$\x15\n966\n3&\x16\x03\x0b+6\x0c\x127,0\x14B&+\x16\x03\x03\n3&\x15\x03\x0b+6\x0c\x127,0\x14B&+\x15\x03\x033&\x14\x03\x0b+6\x0c\x127,0\x14B&+\x14\x12 8$57\x14B&.\n3(\x18\x03\x0b+6\x0c\x1263,B1663&\x1a\x03\x0b+6\x0c\x1263,B0,62\n3&\x19\x03\x0b+6\x0c\x1263,B026,3&\x18\x03\x0b+6\x0c\x1263,B6&.\n3&\x17\x03\x0b+6\x0c\x127,0\x14B&+\x17\x12&/.B&&2\x03\x033\'\x16\x03\x0b+6\x0c\x127,0\x15B&+\x15\x12$\'&B(75\n3\'\x15\x03\x0b+6\x0c\x03>7,0\x15B&+\x16@\n3\'\x14\x03\x0b+6\x0c\x126:,0\n3\'\x13\x03\x0b+6\x0c\x12\x037,0\x14B%.,1\x03>&/.B&&2@3\'\x1a\x03\x0b+6\x0c\x127/,\x03>7,0\x14B&+\x17@\n3\'\x19\x03\x0b+6\x0c\x128$57\x14B5;\n3\'\x18\x03\x0b+6\x0c\x128$57\x14B7;\n3\'\x17\x03\x0b+6\x0c\x12%((3\x127,0\x15B&+\x14\nDocID15441 Rev 14 23/121STM8S103F2 STM8S103F3 STM8S103K3 Pinout and pin description\n30Figure 4. STM8S103K3 SDIP32 pinout\n1. (HS) high sink capability.\n2. (T) True open drain (P-buffer and protection diode to VDD not implemented).\n3. [ ] alternate function remapping option (if the same al ternate function is shown twice, it indicates an \nexclusive choice not a dupl ication of the function).\n          06Y\x16\x19\x17\x14\x199\x14\x1b\x14\n\x15\x16\x17\x18\n\x19\x1a\n\x1c\n\x14\x13\n\x14\x14\n\x14\x15\n\x14\x16\x14\x17\n\x14\x18\x14\x19\x16\x15\n\x16\x14\x16\x13\x15\x1c\x15\x1b\n\x15\x1a\x15\x19\x15\x18\n\x15\x17\n\x15\x16\n\x15\x15\n\x15\x14\n\x15\x13\x14\x1c\n\x14\x1b\x14\x1a>7,0\x15B&+\x15@\x03$\'&B(75\x12\x0b+6\x0c\x033\'\x16\n%((3\x127,0\x15B&+\x14\x12\x0b+6\x0c\x033\'\x17\n8$57\x14B7;\x0b\x12+6\x0c\x033\'\x18\n8$57\x14B5;\x12\x0b+6\x0c\x033\'\x19\n>7,0\x14B&+\x17@\x037/,\x12\x0b+6\x0c\x033\'\x1a\n26&,1\x123$\x14\n26&287\x123$\x15\n966\n9&$3\n9\'\'\n>63,B166@\x037,0\x15B&+\x16\x12\x0b+6\x0c\x033$\x16\n3%\x19 3%\x16\x03\x0b+6\x0c\x127,0\x14B(75\x12$,1\x163%\x15\x03\x0b+6\x0c\x127,0\x14B&+\x161\x12$,1\x153%\x14\x03\x0b+6\x0c\x127,0\x14B&+\x151\x12$,1\x143%\x13\x03\x0b+6\x0c\x127,0\x14B&+\x141\x12$,1\x133(\x18\x1263,B1663&\x14\x03\x0b+6\x0c\x127,0\x14B&+\x14\x128$57\x14B&.3&\x15\x0b\x03+6\x0c\x127,0\x14B&+\x153&\x16\x03\x0b+6\x0c\x127,0\x14B&+\x163&\x17\x0b\x03+6\x0c\x127,0\x14B&+\x17\x12&/.B&&23&\x18\x03\x0b+6\x0c\x1263,B6&.3&\x19\x03\x0b+6\x0c\x1263,B026,3&\x1a\x03\x0b+6\x0c\x1263,B0,623\'\x13\x03\x0b+6\x0c\x127,0\x14B%.,1\x03>&/.B&&2@3\'\x14\x03\x0b+6\x0c\x126:,03\'\x15\x03\x0b+6\x0c\x03>7,0\x15B&+\x16@\n3%\x1a\n,\x15&B6\'$\x12\x0b7\x0c\x033%\x181567\n3)\x17\n3%\x17\x03\x0b7\x0c\x12,\x15&B6&/\x03\x03\nTable 5. STM8S103K3 pin descriptions SDIP32 \n LQFP/ UFQFP32Pin name\nTypeInput Output\nMain function \n(after reset)\nDefault alternate \nfunction\nAlternate function \nafter remap\n[option bit]floating \nwpu\nExt. interrupt\nHigh sink(1)\nSpeed\nOD\nPP\n 6 1  NRST  I/O  - X ----  - R e s e t -\n 7 2 PA1/ \nOSCIN(2) I/O X X  X - O1 X X Port A1 Resonator/ \ncrystal in-\n 8 3 PA2/ \nOSCOUT I/O X X  X - O1 X X Port A2 Resonator/ \ncrystal out -\n9 4 VSS  S -------  D i g i t a l  g r o u n d  -\n1 0   5   V C A P   S  ------  1 . 8  V  r e g u l a t o r  c a p a c i t o r  -\n 1 1   6  V D D   S  -------  D i g i t a l  p o w e r  s u p p l y  -\n 12  7 PA3/ \nTIM2_CH3 \n[SPI_NSS]  I/O X X  X HS  O3  X  X Port A3 Timer 2 \nchannel 3  SPI master/ \nslave select \n[AFR1] \n 13  8  PF4  I/O X X - - O1 X X Port F4 - -\n 14  9  PB7  I/O X X X -  O1  X  X  Port B7 - -\nPinout and pin description STM8S103F2 STM8S103F3 STM8S103K3\n24/121 DocID15441 Rev 14 15  10  PB6  I/O X X X -  O1  X  X Port B6 - -\n 16  11  PB5/ \nI2C_SDA  I/O X -X  -  O 1   T(3)-  Port B5  I2C data -\n 17  12  PB4/ \nI2C_SCL  I/O X - X -  O1  T -  Port B4  I2C clock -\n 18  13  PB3/AIN3/ \nTIM1_ETR  I/O X  X  X  HS  O3  X  X  Port B3  Analog input \n3/ Timer 1 \nexternal \ntrigger -\n 19  14  PB2/AIN2/ \nTIM1_CH3N  I/O X X X  HS O3 X X Port B2  Analog input \n2/ Timer 1 - \ninverted \nchannel 3 -\n 20  15  PB1/AIN1/ \nTIM1_CH2N  I/O X X X HS O3 X X Port B1  Analog input \n1/ Timer 1 - \ninverted \nchannel 2 -\n 21  16  PB0/AIN0/ \nTIM1_CH1N I/O X X X HS O3 X X Port B0Analog input \n0/ Timer 1 - \ninverted \nchannel 1-\n22 17PE5/SPI_N\nSSI/O X X X HS O3 X X Port E5SPI \nmaster/slave \nselect-\n23 18PC1/ \nTIM1_CH1/ \nUART1_CKI/O X XX H S O 3 XX P o r t  C 1Timer 1 - \nchannel 1 \nUART1 clock-\n24 19PC2/ \nTIM1_CH2I/O X XX H S O 3 XX P o r t  C 2Timer 1 - \nchannel 2-\n25 20PC3/ \nTIM1_CH3I/O X XX H S O 3 XX P o r t  C 3Timer 1 - \nchannel 3-\n26 21PC4/ \nTIM1_CH4/ \nCLK_CCOI/O X XX H S O 3 XX P o r t  C 4Timer 1 - \nchannel 4 \n/configurable \nclock output-\n27 22PC5/ \nSPI_SCKI/O X X X HS O3 X X Port C5 SPI clock -\n 28  23  PC6/ \nSPI_MOSI I/O X XX H S O 3 XX P o r t  C 6SPI master \nout/slave in-Table 5. STM8S103K3 pin descriptions (continued)SDIP32 \n LQFP/ UFQFP32Pin name\nTypeInput Output\nMain function \n(after reset)\nDefault alternate \nfunction\nAlternate function \nafter remap\n[option bit]floating \nwpu\nExt. interrupt\nHigh sink(1)\nSpeed\nOD\nPP\nDocID15441 Rev 14 25/121STM8S103F2 STM8S103F3 STM8S103K3 Pinout and pin description\n3029 24PC7/ \nSPI_MISOI/O X XX H S O 3 XX P o r t  C 7SPI master in/ \nslave out-\n30 25PD0/ \nTIM1_BKIN \n[CLK_CCO]I/O X XX H S O 3 XX P o r t  D 0Timer 1 - \nbreak inputConfigurabl\ne clock \noutput \n[AFR5]\n31 26PD1/ \nSWIM(4) I/O X XX H S O 4 XX P o r t  D 1SWIM data \ninterface-\n32 27PD2 \n[TIM2_CH3]I/O X XX H S O 3 XX P o r t  D 2 -Timer 2 - \nchannel \n3[AFR1]\n12 8PD3/ \nTIM2_CH2/ \nADC_ETRI/O X XX H S O 3 XX P o r t  D 3Timer 2 - \nchannel \n2/ADC \nexternal \ntrigger-\n22 9PD4/BEEP/ \nTIM2_CH1I/O X XX H S O 3 XX P o r t  D 4Timer 2 - \nchannel \n1/BEEP \noutput-\n33 0PD5/ \nUART1_TXI/O X XX H S O 3 XX P o r t  D 5UART1 data \ntransmit-\n43 1PD6/ \nUART1_RXI/O X XX H S O 3 XX P o r t  D 6UART1 data \nreceive-\n53 2PD7/ TLI \n[TIM1_CH4]I/O X XX H S O 3 XX P o r t  D 7Top level \ninterruptTimer 1 - \nchannel 4 \n[AFR6] \n1. I/O pins used simultaneously for high current source/sink must be uniformly spaced around the package. In addition, the \ntotal driven current must respect the absolute maximum ratings (see Section 10: Electrical characteristics ).\n2. When the MCU is in Halt/Active-halt mode,  PA1 is automatically configured in i nput weak pull-up and cannot be used for \nwaking up the device. In this mode, the output state of PA1 is not driven. It is recommended to  use PA1 only in input mode \nif Halt/Active-halt is used in the application.\n3. In the open-drain output column, “T” defines a true open-drain I/O (P-buffer, weak pull-up, and protection diode to VDD are \nnot implemented).\n4. The PD1 pin is in input pull-up during t he reset phase and after internal reset release.Table 5. STM8S103K3 pin descriptions (continued)SDIP32 \n LQFP/ UFQFP32Pin name\nTypeInput Output\nMain function \n(after reset)\nDefault alternate \nfunction\nAlternate function \nafter remap\n[option bit]floating \nwpu\nExt. interrupt\nHigh sink(1)\nSpeed\nOD\nPP\nPinout and pin description STM8S103F2 STM8S103F3 STM8S103K3\n26/121 DocID15441 Rev 145.2 STM8S103F2/F3 TSSOP20/SO 20/UFQFPN20 pinout and pin  \n description\n5.2.1 STM8S103F2/F3 TSSOP20/SO20 pinout\nFigure 5. STM8S103F2/F3  TSSOP20/SO20 pinout\n1. HS high sink capability. \n2. (T) True open drain (P-buffer and prot ection diode to VDD not implemented). \n3. [ ] alternate function remapping option (If the same alternate function is shown twice, it indicates an \nexclusive choice not a dupl ication of the function)06Y\x16\x19\x17\x14\x1a9\x14\x15\x13\n\x14\x1c\n\x14\x1b\x14\x1a\x14\x19\n\x14\x18\n\x14\x17\x14\x16\x14\n\x15\x16\n\x17\n\x18\x19\n\x1a\n\x1b8$57\x14B&.\x127,0\x15B&+\x14\x12%((3\x12\x0b+6\x0c\x033\'\x17\n1567\n9&$326&287\x123$\x153\'\x16\x03\x0b+6\x0c\x12$,1\x17\x127,0\x15B&+\x15\x12$\'&B(75\n3\'\x14\x03\x0b+6\x0c\x126:,0\n3%\x17\x03\x0b7\x0c\x12,\x15&B6&/\x03>$\'&B(75@3&\x16\x03\x0b+6\x0c\x127,0\x14B&+\x16\x03>7/,@\x03>7,0\x14B&+\x141@\x03\x033&\x17\x03\x0b+6\x0c\x127,0\x14B&+\x17\x12&/.B&&2\x12$,1\x15\x03>7,0\x14B&+\x151@\x03\x033&\x18\x03\x0b+6\x0c\x1263,B6&.\x03>7,0\x15B&+\x14@\n\x14\x15\n\x14\x14\x1c\n\x14\x13 >63,B166@\x037,0\x15B&+\x16\x12\x0b+6\x0c\x033$\x163\'\x15\x03\x0b+6\x0c\x12$,1\x16\x03>7,0\x15B&+\x16@\x03\x03\n26&,1\x123$\x14\n3%\x18\x03\x0b7\x0c\x12,\x15&B6\'$\x03>7,0\x14B%.,1@\x03\x038$57\x14B7;\x12$,1\x18\x12+6\x033\'\x18\n8$57\x14B5;\x12$,1\x19\x12+6\x033\'\x19\n3&\x19\x03\x0b+6\x0c\x1263,B026,\x03>7,0\x14B&+\x14@\x03\x033&\x1a\x03\x0b+6\x0c\x1263,B0,62\x03>7,0\x14B&+\x15@\x03\x03\n966\n9\'\'\nDocID15441 Rev 14 27/121STM8S103F2 STM8S103F3 STM8S103K3 Pinout and pin description\n305.2.2 STM8S103F2/F3 UFQFPN20 pinout\nFigure 6. STM8S103F2/F3 UFQFPN20-pin pinout\n1. HS high sink capability. \n2. (T) True open drain (P-buffer and prot ection diode to VDD not implemented). \n3. [ ] alternate function remapping option (if the same al ternate function is shown twice, it indicates an \nexclusive choice not a dupl ication of the function). \n          06Y\x16\x19\x17\x14\x1b9\x14\x15\x14\n\x16\n\x17\n\x18\n\x19\x1a \x1b \x1c\x14\x14\x14\x15\x14\x16\x14\x17\x14\x18\x14\x19\x14\x1a\x14\x1b\x14\x1c\n9&$396626&287\x123$\x1526&,1\x123$\x14\n>63,B166@\x037,0\x15B&+\x16\x12\x0b+6\x0c\x033$\x161567\n3\'\x17\x03\x0b+6\x0c\x12%((3\x03\x12\x037,0\x15B&+\x14\x128$57\x14B&.3\'\x18\x03\x0b+6\x0c\x12$,1\x18\x128$57\x14B7;\x03\x03\n3\'\x16\x03\x0b+6\x0c\x12$,1\x17\x127,0\x15B&+\x15\x12$\'&B(75\n3\'\x15\x03\x0b+6\x0c\x12$,1\x16\x03>7,0\x15B&+\x16@\x03\x03\n3&\x17\x03\x0b+6\x0c\x127,0\x14B&+\x17\x12&/.B&&2\x12$,1\x15\x03>7,0\x14B&+\x151@3&\x18\x03\x0b+6\x0c\x1263,B6&.\x03>7,0\x15B&+\x14@3&\x19\x03\x0b+6\x0c\x1263,B026,\x03>7,0\x14B&+\x14@3&\x1a\x03\x0b+6\x0c\x1263,B0,62\x03>7,0\x14B&+\x15@\x03\x033\'\x14\x0b+6\x0c\x126:,0>7,0\x14B%.,1@\x03,\x15&B6\'$\x12\x0b7\x0c\x033%\x18\x14\x13\n>7,0\x14B&+\x141@\x03>7/,@\x037,0\x14B&+\x16\x12\x0b+6\x0c\x033&\x163\'\x19\x03\x0b+6\x0c\x12$,1\x19\x128$57\x14B5;\x03\x03\n\x15\x139\'\'\n>$\'&B(75@\x03,\x15&B6&/\x12\x0b7\x0c\x033%\x17\nPinout and pin description STM8S103F2 STM8S103F3 STM8S103K3\n28/121 DocID15441 Rev 14Table 6. STM8S103F2 and STM8S103F3 pin descriptions TSSOP/SO20\nUFQFPN20Pin name\nTypeInput Output\nMain function \n(after reset)\nDefault alternate \nfunction\nAlternate function \nafter remap\n[option bit]floating \nwpu\nExt. interrupt\nHigh sink(1)\nSpeed\nOD\nPP\n11 8PD4/ BEEP/ \nTIM2_ CH1/ \nUART1 _CKI/O  X X X HS O3 X X Port D4Timer 2 - \nchannel \n1/BEEP output/ \nUART1 clock-\n21 9PD5/ AIN5/ \nUART1 _TXI/O X X X HS O3 X X Port D5Analog input 5/ \nUART1 data \ntransmit-\n32 0PD6/ AIN6/ \nUART1 _RXI/O X X X HS O3 X X Port D6Analog input 6/ \nUART1 data \nreceive-\n4 1 NRST I/O - X ----- R e s e t -\n52PA1/ \nOSCIN(2) I/O X XX - O 1 XX P o r t  A 1Resonator/ \ncrystal in-\n63PA2/ \nOSCOUTI/O X XX - O 1 XX P o r t  A 2Resonator/ \ncrystal out-\n7 4 VSS S ------- D i g i t a l  g r o u n d -\n8 5 V C A P S ------- 1 . 8  V  r e g u l a t o r  c a p a c i t o r9 6 V D D  S ------- D i g i t a l  p o w e r  s u p p l y -\n10 7PA3/ TIM2_ \nCH3 [SPI_ \nNSS]I/O X X X HS O3 X X Port A3Timer 2 \nchannel 3SPI master/ \nslave select \n[AFR1]\n11 8PB5/ I2C_ \nSDA [TIM1_ \nBKIN]I/O X -- X O 1 T\n(3)- Port B5 I2C dataTimer 1 - \nbreak input \n[AFR4]\n12 9PB4/ I2C_ \nSCLI/O X -- X O 1 T(3) - Port B4 I2C clockADC \nexternal \ntrigger \n[AFR4]\n13 10PC3/ \nTIM1_CH3 \n[TLI] [TIM1_ \nCH1N]I/O  X X X HS O3 X X Port C3Timer 1 - \nchannel 3Top level \ninterrupt \n[AFR3] \nTimer 1 - \ninverted \nchannel 1 \n[AFR7] \nDocID15441 Rev 14 29/121STM8S103F2 STM8S103F3 STM8S103K3 Pinout and pin description\n3014 11PC4/ \nCLK_CCO/ \nTIM1_ \nCH4/AIN2/[\nTIM1_ \nCH2N]I/O X X X HS O3 X X Port C4Configurable \nclock \noutput/Timer 1 \n- channel \n4/Analog input \n2Timer 1 - \ninverted \nchannel 2 \n[AFR7]\n15 12PC5/ \nSPI_SCK \n[TIM2_ CH1]I/O X X X HS O3 X X Port C5 SPI clockTimer 2 - \nchannel 1 \n[AFR0]\n16 13PC6/ \nSPI_MOSI \n[TIM1_ CH1]I/O X X X HS O3 X X Port C6SPI master \nout/slave inTimer 1 - \nchannel 1 \n[AFR0]\n17 14PC7/ \nSPI_MISO \n[TIM1_ CH2]I/O X X X HS O3 X X Port C7SPI master in/ \nslave outTimer 1 - \nchannel 2 \n[AFR0]\n18 15 PD1/ SWIM I/O X X X HS O4 X X Port D1SWIM data \ninterface-\n19 16PD2/AIN3/[T\nIM2_ CH3]I/O X X X HS O3 X X Port D2 Analog input 3Timer 2 - \nchannel 3 \n[AFR1]\n20 17PD3/ AIN4/ \nTIM2_ CH2/ \nADC_ ETRI/O X X X HS O3 X X Port D3Analog input 4/ \nTimer 2 - \nchannel 2/ADC \nexternal trigger-\n1. I/O pins used simultaneously for high curre nt source/sink must be uniformly sp aced around the package. In addition, the \ntotal driven current must respect the absolute maximum ratings.\n2. When the MCU is in halt/active-halt mode, PA1 is automati cally configured in input weak pull-up and cannot be used for \nwaking up the device. In this mode, the output state of PA1 is  not driven. It is recommended to use PA1 only in input mode if \nhalt/active-halt is used in the application.\n3. In the open-drain output column, “T” defines a true open-drain I/O (P-buffer, weak pull-up, and protection diode to VDD are \nnot implemented).1Table 6. STM8S103F2 and STM8S103F3 pin descriptions (continued)TSSOP/SO20\nUFQFPN20Pin name\nTypeInput Output\nMain function \n(after reset)\nDefault alternate \nfunction\nAlternate function \nafter remap\n[option bit]floating \nwpu\nExt. interrupt\nHigh sink(1)\nSpeed\nOD\nPP\nPinout and pin description STM8S103F2 STM8S103F3 STM8S103K3\n30/121 DocID15441 Rev 145.3 Alternate func tion remapping\nAs shown in the rightmost column of the pin de scription table, some alternate functions can \nbe remapped at different I/O ports by programming one of eight AFR (alternate function remap) option bits. When the remapping option is active, the default alternate function is no \nlonger available. \nTo use an alternate function, the corresponding peripheral must be enabled in the peripheral \nregisters. \nAlternate function remapping does not effect  GPIO capabilities of the I/O ports (see the \nGPIO section of the family reference manual, RM0016). \nDocID15441 Rev 14 31/121STM8S103F2 STM8S103F3 STM8S1 03K3 Memory and register map\n496 Memory and register map\n6.1 Memory map\nFigure 7. Memory map \n06Y\x16\x19\x17\x14\x1c9\x14\x13[\x13\x13\x03\x1c))))ODVK\x03SURJUDP\x03PHPRU\\\n\x0b\x1b\x03.E\\WHV\x0c\x13[\x13\x13\x03\x13\x13\x13\x13\n5$0\n\x13[\x13\x13\x03\x13\x16))\x0b\x14\x03.E\\WH\x0c\n\x18\x14\x16\x03E\\WHV\x03VWDFN\n\x13[\x13\x13\x03\x17\x13\x13\x13\n\x13[\x13\x13\x03\x17\x15\x1a)\x19\x17\x13\x03E\\WHV\x03GDWD\x03((3520\n5HVHUYHG5HVHUYHG\n5HVHUYHG\x13[\x13\x13\x03\x17\x15\x1b\x13\n\x13[\x13\x13\x03$\x13\x13\x13\n\x13[\x13\x15\x03\x1a)))\x13[\x13\x13\x03\x17\x1a))\n\x13[\x13\x13\x03\x1b\x13\x13\x13\x16\x15\x03LQWHUUXSW\x03YHFWRUV\n\x13[\x13\x13\x03\x1b\x13\x1a)*3,2\x03DQG\x03SHULSK\x11\x03UHJ\x11\x13[\x13\x13\x03\x18\x13\x13\x13\n\x13[\x13\x13\x03\x18\x1a))\n\x13[\x13\x13\x03\x18\x1b\x13\x13\n\x13[\x13\x13\x03\x1a)))\x13[\x13\x13\x03\x17\x1b\x13%\n\x13[\x13\x13\x03\x17)))\n\x13[\x13\x13\x03\x1a())\n&38\x126:,0\x12GHEXJ\x12,7&\nUHJLVWHUV\x13[\x13\x13\x03\x1a)\x13\x135HVHUYHG\n5HVHUYHG2SWLRQ\x03E\\WHV\n\x13[\x13\x13\x03\x17\x1b\x13$\x13[\x13\x13\x03\x17\x1b\x13\x13\x13[\x13\x13\x03\x13\x1b\x13\x13\n\x13[\x13\x13\x03\x16)))\n\x13[\x13\x13\x03\x1b\x13\x1b\x135HVHUYHG8QLTXH\x03,\'\x13[\x13\x13\x03\x17\x1b\x19\x17\n\x13[\x13\x13\x03\x17\x1b\x19\x18\n\x13[\x13\x13\x03\x17\x1b\x1a\x13\n\x13[\x13\x13\x03\x17\x1b\x1a\x14\nMemory and register map STM8S103F2 STM8S103F3 STM8S103K3\n32/121 DocID15441 Rev 146.2 Register map\n6.2.1 I/O port hardware register map\n          Table 7. I/O port hardware register map \nAddress Block Register label Register name Reset status \n0x00 5000 \nPort A PA_ODR Port A data output latch register 0x00 \n0x00 5001 PA_IDR Port A input pin value register 0xXX(1)\n0x00 5002 PA_DDR Port A data direction register 0x00 \n0x00 5003 PA_CR1 Port A control register 1 0x00 \n0x00 5004 PA_CR2 Port A control register 2 0x00 0x00 5005 \nPort B PB_ODR Port B data output latch register 0x00 \n 0x00 5006 PB_IDR Port B input pin value register 0xXX\n(1)\n 0x00 5007 PB_DDR Port B data direction register 0x00  0x00 5008 PB_CR1 Port B control register 1 0x00 \n 0x00 5009 PB_CR2 Port B control register 2 0x00 \n 0x00 500A \n Port C PC_ODR Port C data output  latch register 0x00 \n 0x00 500B PB_IDR Port C input pin value register 0xXX\n(1)\n 0x00 500C PC_DDR Port C data direction register 0x00 \n 0x00 500D PC_CR1 Port C control register 1 0x00 \n 0x00 500E PC_CR2 Port C control register 2 0x00 \n 0x00 500F \n Port D PD_ODR Port D data output  latch register 0x00 \n 0x00 5010 PD_IDR Port D i nput pin value register 0xXX(1)\n 0x00 5011 PD_DDR Port D data direction register 0x00 \n 0x00 5012 PD_CR1 Port D control register 1 0x02  0x00 5013 PD_CR2 Port D control register 2 0x00 \n 0x00 5014 \nPort E PE_ODR Port E data output latch register 0x00 \n 0x00 5015 PE_IDR Port E input pin value register 0xXX\n(1)\n 0x00 5016 PE_DDR Port E data direction register 0x00 \n 0x00 5017 PE_CR1 Port E control register 1 0x00 \n 0x00 5018 PE_CR2 Port E control register 2 0x00 0x00 5019 \nPort F PF_ODR Port F data output latch register 0x00 \n 0x00 501A PF_IDR Port F input pin value register 0xXX\n(1)\n 0x00 501B PF_DDR Port F data direction register 0x00 \n 0x00 501C PF_CR1 Port F control register 1 0x00 \n 0x00 501D PF_CR2 Port F control register 2 0x00 \n1. Depends on the external circuitry.\nDocID15441 Rev 14 33/121STM8S103F2 STM8S103F3 STM8S1 03K3 Memory and register map\n496.2.2 General hardwa re register map\n          Table 8. General hard ware register map \nAddress  Block  Register label  Register name  Reset status\n0x00 501E to 0x00 5059 Reserved area (60 byte)\n0x00 505A\n FlashFLASH_CR1  Flash control register 1 0x00\n0x00 505B FLASH_CR2  Flash control register 2 0x00\n0x00 505C FLASH_NCR2Flash complementary control \nregister 20xFF\n0x00 505D FLASH _FPR  Flash protection register 0x00\n0x00 505E FLASH _NFPRFlash complementary \nprotection register0xFF\n0x00 505F FLASH _IAPSRFlash in-application \nprogramming status register0x00\n0x00 5060 to 0x00 5061 Reserved area (2 byte)\n0x00 5062 Flash FLASH _PUKRFlash program memory \nunprotection register0x00\n0x00 5063 Reserved area (1 byte)0x00 5064 Flash FLASH _DUKRData EEPROM unprotection \nregister0x00\n0x00 5065 to 0x00 509F Reserved area (59 byte)\n0x00 50A0\nITCEXTI_CR1External interrupt control \nregister 10x00\n0x00 50A1 EXTI_CR2External interrupt control \nregister 20x00\n0x00 50A2 to 0x00 50B2 Reserved area (17 byte)\n0x00 50B3 RST RST_SR Reset status register 0xXX\n(1)\n0x00 50B4 to 0x00 50BF Reserved area (12 byte)\n0x00 50C0\nCLKCLK_ICKR Internal clock control register 0x01\n0x00 50C1 CLK_ECKR External clock control register 0x00\n0x00 50C2 Reserved area (1 byte)\nMemory and register map STM8S103F2 STM8S103F3 STM8S103K3\n34/121 DocID15441 Rev 140x00 50C3\nCLKCLK_CMSR Clock master status register 0xE1\n0x00 50C4 CLK_SWR Clock master switch register 0xE1\n0x00 50C5 CLK_SWCR Clock swit ch control register 0xXX\n0x00 50C6 CLK_CKDIVR Clock divider register 0x18\n0x00 50C7 CLK_PCKENR1Peripheral clock gating \nregister 10xFF\n0x00 50C8 CLK_CSSR Clock secu rity system register 0x00\n0x00 50C9 CLK_CCORConfigurable clock control \nregister0x00\n0x00 50CA CLK_PCKENR2 Peripheral clock gating \nregister 20xFF\n0x00 50CC CLK_HSITRIMRHSI clock calibration trimming \nregister0x00\n0x00 50CD CLK_SWIMCCR SWIM cl ock control register 0bXXXX XXX0 \n0x00 50CE to 0x00 50D0 Reserved area (3 byte)\n0x00 50D1\nWWDGWWDG_CR WWDG control register 0x7F\n0x00 50D2 WWDG_WR WWDR window register 0x7F\n0x00 50D3 to 00 50DF Reserved area (13 byte)\n0x00 50E0\nIWDGIWDG_KR IWDG key register 0xXX(2)\n0x00 50E1 IWDG_PR IWDG prescaler register 0x00\n0x00 50E2 IWDG_RLR IWDG reload register 0xFF\n0x00 50E3 to 0x00 50EF Reserved area (13 byte)\n0x00 50F0\nAWUAWU_CSR1 AWU control/status register 1 0x00\n0x00 50F1 AWU_APRAWU asynchronous prescaler \nbuffer register0x3F\n0x00 50F2 AWU_TBRAWU timebase selection \nregister0x00\n0x00 50F3 BEEP BEEP_CSR BEEP control/status register 0x1F\n0x00 50F4 to 0x00 50FF Reserved area (12 byte)\n0x00 5200\nSPISPI_CR1 SPI contro l register 1 0x00\n0x00 5201 SPI_CR2 SPI control register 2 0x00\n0x00 5202 SPI_ICR SPI interrupt control register 0x000x00 5203 SPI_SR SPI status register 0x02\n0x00 5204 SPI_DR SPI data register 0x00\n0x00 5205 SPI_CRCPR SPI CRC polynomial register 0x07\n0x00 5206 SPI_RXCRCR SPI Rx CRC register 0xFF\n0x00 5207 SPI_TXCRCR SPI Tx CRC register 0xFFTable 8. General hardware register map (continued)\nAddress  Block  Register label  Register name  Reset status\nDocID15441 Rev 14 35/121STM8S103F2 STM8S103F3 STM8S1 03K3 Memory and register map\n490x00 5208 to 0x00 520F Reserved area (8 byte)\n0x00 5210\n I2C I2C_CR1  I2C control register 1 0x00\n0x00 5211 I2C_CR2 I2C control register 2 0x00\n0x00 5212 I2C_FREQR I2C frequency register 0x00\n0x00 5213 I2C_OARL I2C Own address register low 0x00\n0x00 5214 I2C_OARHI2C Own address register \nhigh0x00\n0x00 5215 Reserved\n0x00 5216 I2C_DR I2C data register 0x000x00 5217 I2C_SR1 I2C status register 1 0x00\n0x00 5218 I2C_SR2 I2C status register 2 0x00\n0x00 5219 I2C_SR3 I2C status register 3 0x0X\n0x00 521A I2C_ITR I2C interrupt control register 0x00\n0x00 521B I2C_CCRL I2C Clock control register low 0x00\n0x00 521C I2C_CCRH I2C Clock control register high 0x00\n0x00 521D I2C_TRISER I2C TRISE register 0x02\n0x00 521E I2C_PECRI2C packet error checking \nregister0x00\n0x00 521F to 0x00 522F Reserved area (17 byte)\n0x00 5230\n UART1UART1_SR UART1 status register 0xC0\n0x00 5231 UART1_DR UART1 data register 0xXX\n0x00 5232 UART1_BRR1 UART1 baud rate register 1 0x00\n0x00 5233 UART1_BRR2 UART1 baud rate register 2 0x000x00 5234 UART1_CR1 UART1 control register 1 0x00\n0x00 5235 UART1_CR2 UART1 control register 2 0x00\n0x00 5236 UART1_CR3 UART1 control register 3 0x000x00 5237 UART1_CR4 UART1 control register 4 0x00\n0x00 5238 UART1_CR5 UART1 control register 5 0x00\n0x00 5239 UART1_GTR UART1 guard time register 0x00\n0x00 523A UART1_PSCR UART1 prescaler register 0x00\n0x00 523B to 0x00 523F Reserved area (21 byte)Table 8. General hardware register map (continued)\nAddress  Block  Register label  Register name  Reset status\nMemory and register map STM8S103F2 STM8S103F3 STM8S103K3\n36/121 DocID15441 Rev 140x00 5250\nTIM1TIM1_CR1 TIM1 contro l register 1 0x00\n0x00 5251 TIM1_CR2 TIM1 control register 2 0x00\n0x00 5252 TIM1_SMCRTIM1 slave mode control \nregister0x00\n0x00 5253 TIM1_ETR TIM1 external trigger register 0x00\n0x00 5254 TIM1_IER TIM1 interrupt enable register 0x000x00 5255 TIM1_SR1 TIM1 status register 1 0x00\n0x00 5256 TIM1_SR2 TIM1 status register 2 0x00\n0x00 5257 TIM1_EGRTIM1 event generation \nregister0x00\n0x00 5258 TIM1_CCMR1TIM1 capture/compare mode \nregister 10x00\n0x00 5259 TIM1_CCMR2TIM1 capture/compare mode \nregister 20x00\n0x00 525A TIM1_CCMR3TIM1 capture/compare mode \nregister 30x00\n0x00 525B TIM1_CCMR4TIM1 capture/compare mode \nregister 40x00\n0x00 525C TIM1_CCER1TIM1 capture/compare enable \nregister 10x00\n0x00 525D TIM1_CCER2TIM1 capture/compare enable \nregister 20x00\n0x00 525E TIM1_CNTRH TIM1 counter high 0x00\n0x00 525F TIM1_CNTRL  TIM1 counter low 0x00\n0x00 5260 TIM1_PSCRH  TIM1 prescaler register high 0x00\n0x00 5261 TIM1_PSCRL  TIM1 prescaler register low 0x000x00 5262 TIM1_ARRH TIM1 aut o-reload register high 0xFF\n0x00 5263 TIM1_ARRL TIM1 auto -reload register low 0xFF\n0x00 5264 TIM1_RCRTIM1 repetition counter \nregister0x00\n0x00 5265 TIM1_CCR1HTIM1 capture/compare \nregister 1 high0x00\n0x00 5266 TIM1_CCR1LTIM1 capture/compare \nregister 1 low0x00\n0x00 5267 TIM1_CCR2HTIM1 capture/compare \nregister 2 high0x00\n0x00 5268 TIM1_CCR2LTIM1 capture/compare \nregister 2 low0x00\n0x00 5269 TIM1_CCR3HTIM1 capture/compare \nregister 3 high0x00Table 8. General hardware register map (continued)\nAddress  Block  Register label  Register name  Reset status\nDocID15441 Rev 14 37/121STM8S103F2 STM8S103F3 STM8S1 03K3 Memory and register map\n490x00 526A\nTIM1TIM1_CCR3LTIM1 capture/compare \nregister 3 low0x00\n0x00 526B TIM1_CCR4HTIM1 capture/compare \nregister 4 high0x00\n0x00 526C TIM1_CCR4LTIM1 capture/compare \nregister 4 low0x00\n0x00 526D TIM1_BKR TIM1 break register 0x00\n0x00 526E TIM1_DTR TIM1 dead-time register 0x00\n0x00 526F TIM1_OISR TIM1 out put idle state register 0x00\n0x00 5270 to 0x00 52FF Reserved area (147 byte)Table 8. General hardware register map (continued)\nAddress  Block  Register label  Register name  Reset status\nMemory and register map STM8S103F2 STM8S103F3 STM8S103K3\n38/121 DocID15441 Rev 140x00 5300\n TIM2TIM2_CR1  TIM2 control register 1 0x00\n0x00 5301 Reserved\n0x00 5302 Reserved0x00 5303 TIM2_IER TIM2 Interrupt enable register 0x00\n0x00 5304 TIM2_SR1 TIM2 status register 1 0x00\n0x00 5305 TIM2_SR2 TIM2 status register 2 0x00\n0x00 5306 TIM2_EGRTIM2 event generation \nregister0x00\n0x00 5307 TIM2_CCMR1TIM2 capture/compare mode \nregister 10x00\n0x00 5308 TIM2_CCMR2TIM2 capture/compare mode \nregister 20x00\n0x00 5309 TIM2_CCMR3TIM2 capture/compare mode \nregister 30x00\n0x00 530A TIM2_CCER1TIM2 capture/compare enable \nregister 10x00\n0x00 530B TIM2_CCER2TIM2 capture/compare enable \nregister 20x00\n0x00 530C TIM2_CNTRH TIM2 counter high 0x00\n0x00 530D TIM2_CNTRL TIM2 counter low 0x00\n0x00 530E TIM2_PSCR  IM2 prescaler register 0x00\n0x00 530F TIM2_ARRH TIM2 aut o-reload register high 0xFF\n0x00 5310 TIM2_ARRL TIM2 auto -reload register low 0xFF\n0x00 5311 TIM2_CCR1HTIM2 capture/compare \nregister 1 high0x00\n0x00 5312 TIM2_CCR1LTIM2 capture/compare \nregister 1 low0x00\n0x00 5313 TIM2_CCR2HTIM2 capture/compare reg. 2 \nhigh0x00\n0x00 5314 TIM2_CCR2LTIM2 capture/compare \nregister 2 low0x00\n0x00 5315 TIM2_CCR3HTIM2 capture/compare \nregister 3 high0x00\n0x00 5316 TIM2_CCR3LTIM2 capture/compare \nregister 3 low0x00\n0x00 5317 to 0x00 533F Reserved area (43 byte)Table 8. General hardware register map (continued)\nAddress  Block  Register label  Register name  Reset status\nDocID15441 Rev 14 39/121STM8S103F2 STM8S103F3 STM8S1 03K3 Memory and register map\n490x00 5340\n TIM4 TIM4_CR1  TIM4 control register 1 0x00\n0x00 5341 Reserved\n0x00 5342 Reserved0x00 5343 TIM4_IER TIM4 interrupt enable register 0x00\n0x00 5344 TIM4_SR TIM4 status register 0x00\n0x00 5345 TIM4_EGRTIM4 event generation \nregister0x00\n0x00 5346 TIM4_CNTR TIM4 counter 0x00\n0x00 5347 TIM4_PSCR TIM4 prescaler register 0x000x00 5348 TIM4_ARR TIM4 auto-reload register 0xFF\n0x00 5349 to 0x00 53DF Reserved area (153 byte)\n0x00 53E0 to 0x00 53F3  ADC1  ADC_DBxR  ADC data buffer registers 0x00\n0x00 53F4 to 0x00 53FF Reserved area (12 byte)Table 8. General hardware register map (continued)\nAddress  Block  Register label  Register name  Reset status\nMemory and register map STM8S103F2 STM8S103F3 STM8S103K3\n40/121 DocID15441 Rev 140x00 5400\n ADC1 \ncont’dADC_CSR ADC control/status register 0x00\n0x00 5401 ADC_CR1 ADC configuration register 1 0x00\n0x00 5402 ADC_CR2 ADC configuration register 2 0x000x00 5403 ADC_CR3 ADC configuration register 3 0x00\n0x00 5404 ADC_DRH ADC data register high 0xXX\n0x00 5405 ADC_DRL ADC data register low 0xXX\n0x00 5406 ADC_TDRHADC Schmitt trigger disable \nregister high0x00\n0x00 5407 ADC_TDRLADC Schmitt trigger disable \nregister low0x00\n0x00 5408 ADC_HTRHADC high threshold register \nhigh0x03\n0x00 5409 ADC_HTRLADC high threshold register \nlow0xFF\n0x00 540A ADC_LTRHADC low threshold register \nhigh0x00\n0x00 540B ADC_LTRLADC low threshold register \nlow0x00\n0x00 540C ADC_AWSRHADC analog watchdog status \nregister high0x00\n0x00 540D ADC_AWSRLADC analog watchdog status \nregister low0x00\n0x00 540E ADC _AWCRHADC analog watchdog control \nregister high0x00\n0x00 540F ADC_AWCRLADC analog watchdog control \nregister low0x00\n0x00 5410 to 0x00 57FF Reserved area (1008 byte)\n1. Depends on the previous reset source.\n2. Write-only register.Table 8. General hardware register map (continued)\nAddress  Block  Register label  Register name  Reset status\nDocID15441 Rev 14 41/121STM8S103F2 STM8S103F3 STM8S1 03K3 Memory and register map\n496.2.3 CPU/SWIM/debug module/in terrupt controller registers\n          Table 9. CPU/SWIM/debug module/interrupt controller registers \nAddress Block Register label Register nameReset \nstatus\n0x00 7F00\nCPU(1)A Accumulator 0x00\n0x00 7F01 PCE Program counter extended 0x00\n0x00 7F02 PCH Program counter high 0x00\n0x00 7F03 PCL Program counter low 0x000x00 7F04 XH X index register high 0x00\n0x00 7F05 XL X index register low 0x00\n0x00 7F06 YH Y index register high 0x000x00 7F07 YL Y index register low 0x00\n0x00 7F08 SPH Stack pointer high 0x03\n0x00 7F09 SPL Stack pointer low 0xFF\n0x00 7F0A CCR Condition code register 0x28\n0x00 7F0B to 0x00 7F5F Reserved area (85 byte)\n0x00 7F60 CPU CFG_GCRGlobal configuration \nregister0x00\n0x00 7F70\nITCITC_SPR1Interrupt software priority \nregister 10xFF\n0x00 7F71 ITC_SPR2Interrupt software priority \nregister 20xFF\n0x00 7F72 ITC_SPR3Interrupt software priority \nregister 30xFF\n0x00 7F73 ITC_SPR4Interrupt software priority \nregister 40xFF\n0x00 7F74 ITC_SPR5Interrupt software priority \nregister 50xFF\n0x00 7F75 ITC_SPR6Interrupt software priority \nregister 60xFF\n0x00 7F76 ITC_SPR7Interrupt software priority \nregister 70xFF\n0x00 7F77 ITC_SPR8Interrupt software priority \nregister 80xFF\n0x00 7F78 to 0x00 7F79 Reserved area (2 byte)\n0x00 7F80 SWIM SWIM_CSRSWIM control status \nregister0x00\n0x00 7F81 to 0x00 7F8F Reserved area (15 byte)\nMemory and register map STM8S103F2 STM8S103F3 STM8S103K3\n42/121 DocID15441 Rev 140x00 7F90\nDMDM_BK1REDM breakpoint 1 register \nextended byte0xFF\n0x00 7F91 DM_BK1RHDM breakpoint 1 register \nhigh byte0xFF\n0x00 7F92 DM_BK1RLDM breakpoint 1 register \nlow byte0xFF\n0x00 7F93 DM_BK2REDM breakpoint 2 register \nextended byte0xFF\n0x00 7F94 DM_BK2RHDM breakpoint 2 register \nhigh byte0xFF\n0x00 7F95 DM_BK2RLDM breakpoint 2 register \nlow byte0xFF\n0x00 7F96 DM_CR1DM debug module control \nregister 10x00\n0x00 7F97 DM_CR2DM debug module control \nregister 20x00\n0x00 7F98 DM_CSR1DM debug module \ncontrol/status register 10x10\n0x00 7F99 DM_CSR2DM debug module \ncontrol/status register 20x00\n0x00 7F9A DM_ENFCTR DM enable function register 0xFF\n0x00 7F9B to 0x00 7F9F Reserved area (5 byte)\n1. Accessible by debug module only.Table 9. CPU/SWIM/debug module/interr upt controller registers (continued)\nAddress Block Register label Register nameReset \nstatus\nDocID15441 Rev 14 43/121STM8S103F2 STM8S103F3 STM8S1 03K3 Interrupt vector mapping\n497 Interrupt vector mapping\n          Table 10. Interrupt mapping \nIRQ no. Source block DescriptionWakeup from \nhalt modeWakeup from \nactive-halt modeVector address\n- RESET Reset Yes Yes 0x00 8000\n- TRAP Software interrupt - - 0x00 8004\n0T L IExternal top level \ninterrupt- - 0x00 8008\n1A W UAuto wake up from \nhalt- Yes 0x00 800C\n2 CLK Clock controller - - 0x00 80103 EXTI0Port A external \ninterruptsYes\n(1)Yes(1) 0x00 8014\n4 EXTI1Port B external \ninterruptsYes Yes 0x00 8018\n5 EXTI2Port C external \ninterruptsYes Yes 0x00 801C\n6 EXTI3Port D external \ninterruptsYes Yes 0x00 8020\n7 EXTI4Port E external \ninterruptsYes Yes 0x00 8024\n8 Reserved - - - 0x00 8028\n9 Reserved - - - 0x00 802C\n10 SPI End of transfer Yes Yes 0x00 8030\n11 TIM1TIM1 update/ \noverflow/ \nunderflow/ trigger/ \nbreak- - 0x00 8034\n12 TIM1TIM1 capture/ \ncompare- - 0x00 8038\n13 TIM2TIM2 update/ \noverflow- - 0x00 803C\n14 TIM2TIM2 capture/ \ncompare- - 0x00 8040\n15 Reserved - - - 0x00 8044\n16 Reserved - - - 0x00 8048\n17 UART1 Tx complete - - 0x00 804C\n18 UART1Receive register \nDATA FULL- - 0x00 8050\n19 I2C I2C interrupt Yes Yes 0x00 8054\n20 Reserved - - - 0x00 8058\nInterrupt vector mapping STM8S103F2 STM8S103F3 STM8S103K3\n44/121 DocID15441 Rev 1421 Reserved - - - 0x00 805C\n22 ADC1ADC1 end of \nconversion/ analog \nwatchdog interrupt- - 0x00 8060\n23 TIM4TIM4 update/ \noverflow- - 0x00 8064\n24 Flash EOP/WR_PG_DIS - - 0x00 8068\nReserved0x00 806C to \n0x00 807C\n1. Except PA1.Table 10. Interrupt mapping (continued)\nIRQ no. Source block DescriptionWakeup from \nhalt modeWakeup from \nactive-halt modeVector address\nDocID15441 Rev 14 45/121STM8S103F2 STM8S103F3  STM8S103K3 Option byte\n498 Option byte\nOption byte contain configurations for device  hardware features as well as the memory \nprotection of the device. They are stored in a dedicated block of the memory. Except for the \nROP (read-out protection) byte, ea ch option byte has to be stored twice, in a regular form \n(OPTx) and a complemented one (NOPTx) for redundancy. \nOption byte can be modified in ICP mode (via SWIM) by accessing the EEPROM address \nshown in the table below. \nOption byte can also be modified ‘on the fly’ by  the application in IAP mode, except the ROP \noption that can only be modified in ICP mode (via SWIM). \nRefer to the STM8S Flash programming manual (PM0051) and STM8 SWIM communication protocol and debug module user manual (UM0470) for information on SWIM programming procedures.\n          Table 11. Option byte \nAddr.Option \nnameOption \nbyte \nno.Option bits Factory \ndefault setting 7654 3 2 1 0\n0x4800Read-out \nprotection \n(ROP)OPT0 ROP [7:0] 0x00\n0x4801User boot \ncode (UBC)OPT1 UBC [7:0] 0x00\n0x4802 NOPT1 NUBC [7:0] 0xFF\n0x4803 Alternate \nfunction \nremapping \n(AFR)OPT2 AFR7 AFR6 AFR5 AFR4 AFR3 AFR2 AFR1 AFR0 0x00\n0x4804 NOPT2 NAFR7 NAFR6 NAFR5 NAFR4 NAFR3 NAFR2 NAFR1 NAFR0 0xFF\n0x4805h\nMisc. optionOPT3 ReservedHSI \nTRIMLSI _ ENIWDG \n_HWWWDG \n_HWWWDG \n_HALT0x00\n0x4806 NOPT3 ReservedNHSI \nTRIMNLSI\n_ ENNIWDG \n_HWNWWDG \n_HWNWWG\n_HALT0xFF\n0x4807\nClock optionOPT4 Reserved EXT CLKCKAWU \nSELPRS C1 PRS C0 0x00\n0x4808 NOPT4 ReservedNEXT \nCLKNCKA \nWUSELNPRSC1 NPR SC0 0xFF\n0x4809HSE clock \nstartupOPT5 HSECNT [7:0] 0x00\n0x480A NOPT5 NHSECNT [7:0] 0xFF\nOption byte STM8S103F2 ST M8S103F3 STM8S103K3\n46/121 DocID15441 Rev 14          Table 12. Option byte description \nOption byte no. Description\nOPT0ROP[7:0]  Memory readout protection (ROP)\n0xAA: Enable readout protection (write access via SWIM protocol)\nNote: Refer to the family refere nce manual (RM0016) section on \nFlash/EEPROM memory readout protection for details. \nOPT1UBC[7:0] User boot code area\n0x00: no UBC, no write-protection\n0x01: Page 0 defined as UBC, memory write-protectedPage 0 and 1 contain the interrupt vectors.\n...\n0x7F: Pages 0 to 126 defined as UBC, memory write-protected\nOther values: Pages 0 to 127 defined as UBC, memory write-protected\nNote: Refer to the family reference manual (RM0016) section on Flash write \nprotection for more details. \nOPT2AFR[7:0] \nRefer to the following section for alternate function remapping descriptions of \nbits [7:2] and [1:0] respectively.\nOPT3HSITRIM:  High speed internal clo ck trimming register size\n0: 3-bit trimming supported in CLK_HSITRIMR register\n1: 4-bit trimming supported in CLK_HSITRIMR register\nLSI_EN:  Low speed internal clock enable\n0: LSI clock is not available as CPU clock source1: LSI clock is available as CPU clock source\nIWDG_HW: Independent watchdog\n0: IWDG Independent watchdog activated by software\n1: IWDG Independent watchdog activated by hardware\nWWDG_HW: Window watchdog activation\n0: WWDG window watchdog activated by software\n1: WWDG window watchdog activated by hardware\nWWDG_HALT: Window watchdog reset on halt\n0: No reset generated on halt if WWDG active1: Reset generated on halt if WWDG active\nDocID15441 Rev 14 47/121STM8S103F2 STM8S103F3  STM8S103K3 Option byte\n498.1 Alternate functi on remapping bits\n          OPT4EXTCLK: External clock selection\n0: External crystal co nnected to OSCIN/OSCOUT\n1: External clock signal on OSCIN \nCKAWUSEL:  Auto wake-u p unit/clock\n0: LSI clock source selected for AWU\n1: HSE clock with prescaler sele cted as clock source for AWU\nPRSC[1:0] AWU clock prescaler\n0x: 16 MHz to 128 kHz prescaler\n10: 8 MHz to 128 kHz prescaler11: 4 MHz to 128 kHz prescaler \nOPT5HSECNT[7:0]:  HSE crystal oscillator stabilization time\n0x00: 2048 HSE cycles\n0xB4: 128 HSE cycles\n0xD2: 8 HSE cycles0xE1: 0.5 HSE cyclesTable 12. Option byte description (continued)\nOption byte no. Description\nTable 13. STM8S103K3 alternate function remapping bits for 32-pin devices \nOption byte no. Description(1)\n1. Do not use more than one remapping option in the same port. It is forbidden to enable both AFR1 and \nAFR0.OPT2AFR7  Alternate function remapping option 7\nReserved.\nAFR6  Alternate function remapping option 6\n0: AFR6 remapping option inactive: Default alternate function.(2)\n1: Port D7 alternate function = TIM1_CH4.\n2. Refer to pinout description.AFR5 Alternate function remapping option 5\n0: AFR5 remapping option inactive: Default alternate function.(2)\n1: Port D0 alternate function = CLK_CCO.\nAFR[4:2] Alternate function remapping options 4:2\nReserved.\nAFR1  Alternate function remapping option 1\n0: AFR1 remapping option inactive: Default alternate functions.(2)\n1: Port A3 alternate function = SPI_NSS; port D2 alternate function = \nTIM2_CH3.\nAFR0  Alternate function remapping option 0\nReserved.\nOption byte STM8S103F2 ST M8S103F3 STM8S103K3\n48/121 DocID15441 Rev 14          Table 14. STM8S103Fx alternate function remapping bits for 20-pin devices \nOption byte no. Description \nOPT2AFR7  Alternate function remapping option 7\n0: AFR7 remapping option inactive: Default alternate functions.(1)\n1: Port C3 alternate function = TIM1 _CH1N; port C4 alternate function = \nTIM1_CH2N.\n1. Refer to pinout description.AFR6  Alternate function remapping option 6\nReserved.\nAFR5 Alternate function remapping option 5\nReserved.\nAFR4 Alternate function remapping options 4:2\n0: AFR4 remapping option inactive: Default alternate functions.(1)\n1: Port B4 alternate function = ADC_ETR; port B5 alternate function = \nTIM1_BKIN.\nAFR3  Alternate function remapping option 3\n0: AFR3 remapping option inactive: Default alternate function.(1)\n1: Port C3 alternate function = TLI.\nAFR2  Alternate function remapping option 2\nReserved\nAFR1  Alternate function remapping option 1(2)\n0: AFR1 remapping option inactive: Default alternate functions.(1)\n1: Port A3 alternate function = SPI_NSS; port D2 alternate function = \nTIM2_CH3.\n2. Do not use more than one remapping option in the same port. It is forbidden to enable both AFR1 and \nAFR0.AFR0  Alternate function remapping option 0\n0: AFR0 remapping option inactive: Default alternate functions.(1)\n1: Port C5 alternate function = TI M2_CH1; port C6 alternate function = \nTIM1_CH1; port C7 alternate function = TIM1_CH2.\nDocID15441 Rev 14 49/121STM8S103F2 STM8S103F3  STM8S103K3 Unique ID\n499 Unique ID\nThe devices feature a 96-bit unique device id entifier which provides a reference number that \nis unique for any device and in any context. The 96 bits of the identifier can never be altered \nby the user.\nThe unique device identifier can be read in si ngle byte and may then be concatenated using \na custom algorithm.\nThe unique device identifier is ideally suited:\n• For use as serial numbers\n• For use as security keys to increase the code security in the program memory while \nusing and combining this unique ID with software cryptograp hic primitives and \nprotocols before programming the internal memory.\n• To activate secure boot processes \n          Table 15. Unique ID registers (96 bits) \nAddressContent \ndescription Unique ID bits\n76543210\n0x4865X co-ordinate on \nthe waferU_ID[7:0]\n0x4866 U_ID[15:8]0x4867Y co-ordinate on \nthe waferU_ID[23:16]\n0x4868 U_ID[31:24]\n0x4869 Wafer number U_ID[39:32]0x486A\nLot numberU_ID[47:40]\n0x486B U_ID[55:48]\n0x486C U_ID[63:56]0x486D U_ID[71:64]\n0x486E U_ID[79:72]\n0x486F U_ID[87:80]0x4870 U_ID[95:88]\nElectrical characteristics STM8S103F2 STM8S103F3 STM8S103K3\n50/121 DocID15441 Rev 1410 Electrical characteristics\n10.1 Parameter conditions\nUnless otherwise specified, all voltages are referred to VSS.\n10.1.1 Minimum and maximum values\nUnless otherwise specified the minimum and ma ximum values are guaranteed in the worst \nconditions of ambient temperature, supply voltage and frequencies by tests in production on 100% of the devices with an ambient temperature at T\nA = 25 °C, and TA = TAmax (given by \nthe selected temperature range).\nData based on characterization results, design  simulation and/or technology characteristics \nare indicated in the table footnotes and are not tested in production. Based on characterization, the minimum and maximum values refer to sample tests and represent the mean value plus or minus three times the standard deviation (mean ± 3 Σ). \n10.1.2 Typical values\nUnless otherwise specified, typical data are based on TA = 25 °C, VDD = 5.0 V. They are \ngiven only as design guidelines and are not tested.\nTypical ADC accuracy values are determined by characterization of a batch of samples from \na standard diffusion lot over the full temperature range, where 95% of the devices have an error less than or equal to the value indicated (mean ± 2 Σ). \n10.1.3 Typical curves\nUnless otherwise specified, all typical curves  are given only as design guidelines and are \nnot tested.\n10.1.4 Loading capacitor\nThe loading conditions used for pin parameter measurement are shown in Figure  8.\nFigure 8. Pin loading conditions\n10.1.5 Pin input voltage\nThe input voltage measurement on a pin of the device is described in Figure  9.670\x1b6\x033,1\n\x18\x13\x03S)\n06Y\x16\x19\x17\x1b\x139\x14\nDocID15441 Rev 14 51/121STM8S103F2 STM8S103F3  STM8S103K3 Electrical characteristics\n88Figure 9. Pin input voltage\n10.2 Absolute maximum ratings\nStresses above the absolute maximum ratings listed in Table  16: Voltage characteristics , \nTable  17: Current characteristics  and Table  18: Thermal characteristics  may cause \npermanent damage to the device. These are stress ratings only and a functional operation \nof the device at these conditions is not implied. Exposure to maximum rating conditions for extended periods may affect  the device’s reliability.\nThe device’s mission profile (application condit ions) is compliant with the JEDEC JESD47 \nQualification Standard, the extended mi ssion profiles are available on demand. \n           \n           670\x1b6\x033,1\n06Y\x16\x19\x17\x1b\x149\x149,1\nTable 16. Voltage characteristics \nSymbol Ratings Min Max Unit\nVDDx - VSS Supply voltage(1)\n1. All power (VDD) and ground (VSS) pins must always be connected to the external power supply-0.3 6.5 V\nVINInput voltage on true open drain pins(2)\n2. This pin must never be exceeded. This is implicitly insured if VIN maximum is respected. If VIN maximum \ncannot be respected, the injection current must be limited externally to the IINJ(PIN)  value. A positive \ninjection is induced by VIN > VDD while a negative injection is induced by VIN < VSS. For true open-drain \npads, there is no positive injection current, and the corresponding VIN maximum must always be respectedVSS - 0.3 6.5\nV\nInput voltage on any other pin(2)VSS - 0.3 VDD + 0.3\n|VDDx - VDD| Variations between different power pins - 50\nmV\n|VSSx - VSS| Variations between all the different ground pins - 50\nVESD Electrostatic discharge voltagesee Absolute maximum ratings \n(electrical sensitivity) on \npage 87\nTable 17. Current characteristics \nSymbol Ratings  Max.(1) Unit\nIVDD Total current into VDD power lines (source)(2)100\nmAIVSS Total current out of VSS ground lines (sink)(1)80\nIIOOutput current sunk by any I/O and control pin 20\nOutput current source by any I/Os and control pin -20\nElectrical characteristics STM8S103F2 STM8S103F3 STM8S103K3\n52/121 DocID15441 Rev 14          \n10.3 Operating conditions\n          IINJ(PIN) (3) (4) Injected current on NRST pin ±4\nmAInjected current on OSCIN pin ±4\nInjected current on any other pin(5)±4\nΣIINJ(3)Total injected current (sum of all I/O and control pins)(5)±20\n1. Guaranteed by characterization results.\n2. All power (VDD) and ground (VSS) pins must always be connected to the external supply.\n3. IINJ must never be exceeded. This condition  is implicitly insured if VIN maximum is respected. If VIN \nmaximum cannot be respected, the injection cu rrent must be limited externally to the IINJ(PIN)  value. A \npositive injection is induced by VIN > VDD while a negative inject ion is induced by VIN < VSS. For true open-\ndrain pads, there is no positive inject ion current allowed and the corresponding VIN maximum must always \nbe respected.\n4. ADC accuracy vs. negative injection current: Inje cting negative current on any of the analog input pins \nshould be avoided as this si gnificantly reduces the accuracy of  the conversion being performed on another \nanalog input. It is recommended to add a Schottky diode (pin to ground) to standard analog pins which may \npotentially inject negative current. Any positive injection current within the limits specified for IINJ(PIN) and \nΣIINJ(PIN)  in the I/O port pin characteristics section does not affect the ADC accuracy. \n5. When several inputs are submitted to a current injection, the maximum ΣIINJ(PIN)  is the absolute sum of the \npositive and negative injected currents (instantaneous valu es). These results are based on characterization \nwith ΣIINJ(PIN)  maximum current injection on four I/O port pins of the device. \nTable 18. Thermal characteristics \nSymbol Ratings  Value Unit\nTSTG Storage temperature range −65 to 150\n°C\nTJ Maximum junction temperature 150Table 17. Current characteristics (continued)\nSymbol Ratings  Max.(1) Unit\nTable 19. General operating conditions \nSymbol Parameter  Conditions Min Max Unit\nfCPU Internal CPU clock frequency - 0 16 MHz\nVDD Standard operating voltage - 2.95 5.5 V\nVCAP(1)CEXT: capacitance of external \ncapacitor- 470 3300 nF\nESR of external capacitor\nat 1 MHz(2)-0 . 3 Ω\nESL of external capacitor - 15 nH\nPD(3) Power dissipation  \nat TA = 75 °C for suffix 6TSSOP20 - 238\nmWSO20W - 220\nUFQFPN20 - 220\nLQFP32 - 330\nUFQFPN32 - 526\nSDIP32 - 330\nDocID15441 Rev 14 53/121STM8S103F2 STM8S103F3  STM8S103K3 Electrical characteristics\n88Figure 10. fCPUmax  versus VDD\n          PD(3) Power dissipation  \nat TA = 125 °C for suffix 3TSSOP20 - 59\nmWSO20W - 55\nUFQFPN20 - 55\nLQFP32 - 83\nUFQFPN32 - 132\nSDIP32 - 83\nTAAmbient temperature for suffix \n6 versionMaximum power \ndissipation-40 85\n°CTAAmbient temperature for suffix \n3 versionMaximum power \ndissipation-40 125\nTJ Junction temperature rangeSuffix 6 version -40 105\nSuffix 3 version -40 130\n1. Care should be taken when selecting the capacitor, due to its tolerance, as well as the parameter \ndependency on temperature, DC bias and frequency in addi tion to other factors. The parameter maximum \nvalue must be respected for the full application range.\n2. This frequency of 1 MHz as a condition for VCAP parameters is given by design of internal regulator.\n3. To calculate PDmax (TA), use the formula PDmax =(TJmax- TA)/ΘJA (see Section 12: Thermal characteristics ) \nwith the value for TJmax given in the previous table and the value for ΘJA given in Section 12: Thermal \ncharacteristics\nTable 20. Operating conditions  at power-up/power-down \nSymbol Parameter Conditions Min Typ Max Unit\ntVDDVDD rise time rate - 2 - ∞\nµs/V\nVDD fall time rate(1)-2 - ∞Table 19. General operating conditions (continued)\nSymbol Parameter  Conditions Min Max Unit\n06Y\x16\x19\x17\x19\x1c9\x14ϭϲ\nϭϮ\nϴ\nϰ\nϬ\n\x15\x11\x1c\x18 \x17\x11\x13 \x18\x11\x13 \x18\x11\x18)XQFWLRQDOLW\\\x03JXDUDQWHHG\n#7$\x03\x10\x17\x13\x03WR\x03\x14\x15\x18\x03\x83&\x03\x03\n6XSSO\\\x03YROWDJH)XQFWLRQDOLW\\\x03\nQRW\x03JXDUDQWHHG\x03LQ\x03WKLV\x03DUHDI\n&38\x03\x0b0+]\x0c\nElectrical characteristics STM8S103F2 STM8S103F3 STM8S103K3\n54/121 DocID15441 Rev 14tTEMP Reset release delay VDD rising - - 1.7 ms\nVIT+Power-on reset \nthreshold- 2.6 2.7 2.85\nV\nVIT-Brown-out reset \nthreshold- 2.5 2.65 2.8\nVHYS(BOR)Brown-out reset \nhysteresis-- 7 0 - m V\n1. Reset is always generated after a tTEMP  delay. The application must ensure that VDD is still above the \nminimum operating voltage (VDD min) when the tTEMP delay has elapsed.Table 20. Operating conditions at power-up/power-down (continued)\nSymbol Parameter Conditions Min Typ Max Unit\nDocID15441 Rev 14 55/121STM8S103F2 STM8S103F3  STM8S103K3 Electrical characteristics\n8810.3.1 VCAP external capacitor\nThe stabilization for the main regulator is achieved by connecting an external capacitor \nCEXT to the VCAP pin. CEXT is specified in Table  19. Care should be taken to limit the series \ninductance to less than 15 nH.\nFigure 11. External capacitor CEXT\n1. ESR is the equivalent series resist ance and ESL is the equivalent inductance.\n10.3.2 Supply current characteristics\nThe current consumption is measured as illu strated in Figure  9: Pin input voltage .\nTotal supply current consumption in run mode\nThe MCU is placed under the following conditions: \n• All I/O pins in input mode  with a static value at VDD or VSS (no load) \n• All peripherals are disabled (clock stopped by peripheral clock gating registers) except \nif explicitly mentioned. \nSubject to general operating conditions for VDD and TA. \n          06Y\x16\x19\x17\x1b\x1b9\x14(65\n5/HDN(6/ &\nTable 21. Total current consumption with code execution in run mode at VDD = 5 V  \nSymbol Parameter Conditions Typ Max(1) Unit\nIDD(RUN)Supply \ncurrent in \nRun mode, code \nexecuted \nfrom RAMf\nCPU = fMASTER  = 16 MHzHSE crystal osc. (16 MHz) 2.3 -\nmAHSE user ext. clock \n(16 MHz)22 . 3 5\nHSI RC osc. (16 MHz) 1.7 2\nfCPU = fMASTER  /128 = 125 kHzHSE user ext. clock \n(16 MHz)0.86 -\nHSI RC osc. (16 MHz) 0.7 0.87\nfCPU = fMASTER  /128 = \n15.625 kHzHSI RC osc. (16 MHz/8) 0.46 0.58\nfCPU = fMASTER  = 128 kHz LSI RC osc. (128 kHz) 0.41 0.55\nElectrical characteristics STM8S103F2 STM8S103F3 STM8S103K3\n56/121 DocID15441 Rev 14          IDD(RUN)Supply \ncurrent in Run mode, \ncode \nexecuted from Flashf\nCPU = fMASTER  = 16 MHzHSE crystal osc. (16 MHz) 4.5 -\nmAHSE user ext. clock \n(16 MHz)4.3 4.75\nHSI RC osc. (16 MHz) 3.7 4.5\nfCPU = fMASTER  = 2 MHz HSI RC osc. (16 MHz/8)(2)0.84 1.05\nfCPU = fMASTER  /128 = 125 kHz HSI RC osc. (16 MHz) 0.72 0.9\nfCPU = fMASTER  /128 = \n15.625 kHzHSI RC osc. (16 MHz/8) 0.46 0.58\nfCPU = fMASTER  = 128 kHz LSI RC osc. (128 kHz) 0.42 0.57\n1. Guaranteed by characterization results. Guaranteed by characterization results. \n2. Default clock configuration measured with all peripherals off.Table 21. Total current consumption with code execution in run mode at VDD = 5 V  (continued)\nSymbol Parameter Conditions Typ Max(1) Unit\nTable 22. Total current consumption with code execution in run mode at VDD = 3.3 V  \nSymbol Parameter Conditions Typ Max(1) Unit\nIDD(RUN)Supply \ncurrent in \nRun mode, code \nexecuted \nfrom RAMf\nCPU = fMASTER  = 16 MHzHSE crystal osc. (16 MHz) 1.8 -\nmAHSE user ext. clock \n(16 MHz)22 . 3 5\nHSI RC osc. (16 MHz) 1.5 2\nfCPU = fMASTER  /128 = 125 kHzHSE user ext. clock \n(16 MHz)0.81 -\nHSI RC osc. (16 MHz) 0.7 0.87\nfCPU = fMASTER  /128 = \n15.625 kHzHSI RC osc. (16 MHz/8) 0.46 0.58\nfCPU = fMASTER  = 128 kHz LSI RC osc. (128 kHz) 0.41 0.55\nIDD(RUN)Supply \ncurrent in Run mode, \ncode \nexecuted from Flashf\nCPU = fMASTER  = 16 MHzHSE crystal osc. (16 MHz) 4 -\nmAHSE user ext. clock \n(16 MHz)4.3 4.75\nHSI RC osc. (16 MHz) 3.9 4.7\nfCPU = fMASTER  = 2 MHz HSI RC osc. (16 MHz/8)(2)0.84 1.05\nfCPU = fMASTER  /128 = 125 kHz HSI RC osc. (16 MHz) 0.72 0.9\nfCPU = fMASTER  /128 = \n15.625 kHzHSI RC osc. (16 MHz/8) 0.46 0.58\nfCPU = fMASTER  = 128 kHz LSI RC osc. (128 kHz) 0.42 0.57\n1. Guaranteed by characterization results. \n2. Default clock configuration measured with all peripherals off.\nDocID15441 Rev 14 57/121STM8S103F2 STM8S103F3  STM8S103K3 Electrical characteristics\n88Total current consumption in wait mode\n          \n          Table 23. Total current consum ption in wait mode at VDD = 5 V  \nSymbol Parameter Conditions Typ Max(1) Unit\nIDD(WFI)Supply \ncurrent in \nwait modefCPU = fMASTER  = 16 MHzHSE crystal osc. (16 MHz) 1.6 -\nmAHSE user ext. clock \n(16 MHz)1.1 1.3\nHSI RC osc. (16 MHz) 0.89 1.1\nfCPU = fMASTER  /128 = 125 kHz HSI RC osc. (16 MHz) 0.7 0.88\nfCPU = fMASTER  /s128 = \n15.625 kHzHSI RC osc. (16 MHz/8)(2)0.45 0.57\nfCPU = fMASTER  = 128 kHz LSI RC osc. (128 kHz) 0.4 0.54\n1. Guaranteed by characterization results. \n2. Default clock configuration measured with all peripherals off.\nTable 24. Total current consumption in wait mode at VDD = 3.3 V  \nSymbol Parameter Conditions Typ Max(1) Unit\nIDD(WFI)Supply \ncurrent in wait modef\nCPU = fMASTER  = 16 MHzHSE crystal osc. (16 MHz) 1.1 -\nmAHSE user ext. clock \n(16 MHz)1.1 1.3\nHSI RC osc. (16 MHz) 0.89 1.1\nfCPU = fMASTER  /128 = 125 kHz HSI RC osc. (16 MHz) 0.7 0.88\nfCPU = fMASTER  /s128 = \n15.625 kHzHSI RC osc. (16 MHz/8)(2)0.45 0.57\nfCPU = fMASTER  = 128 kHz LSI RC osc. (128 kHz) 0.4 0.54\n1. Guaranteed by characterization results. \n2. Default clock configuration measured with all peripherals off.\nElectrical characteristics STM8S103F2 STM8S103F3 STM8S103K3\n58/121 DocID15441 Rev 14Total current consumption in active halt mode\n          \n          Table 25. Total current consumption in active halt mode at VDD = 5 V  \nSymbol ParameterConditions\nTypMax at \n85 °C(1)Max at \n85 °C(1)UnitMain \nvoltage \nregulator \n(MVR)(2)Flash mode(3) Clock source\nIDD(AH)Supply \ncurrent in \nactive halt \nmodeOnOperating modeHSE crystal osc. \n(16 MHz)1030 - -\nµAOperating mode LSI RC osc. (128 kHz) 200 260 300\nPower down \nmodeHSE crystal osc. \n(16 MHz)970 - -\nPower down \nmodeLSI RC osc. (128 kHz) 150 200 230\nOffOperating mode LSI RC osc. (128 kHz) 66 85 110\nPower down \nmodeLSI RC osc. (128 kHz) 10 20 40\n1.  Guaranteed by characterization results.\n2. Configured by the REGAH bit in the CLK_ICKR register.\n3. Configured by the AHALT bit in the FLASH_CR1 register.\nTable 26. Total current consumption in active halt mode at VDD = 3.3 V  \nSymbol ParameterConditions\nTypMax at \n85 °C(1)Max at \n85 °C(1)UnitMain \nvoltage \nregulator \n(MVR)(2)Flash mode(3) Clock source\nIDD(AH)Supply \ncurrent in \nactive halt modeOnOperating modeHSE crystal osc. \n(16 MHz)550 - -\nµAOperating mode LSI RC osc. (128 kHz) 200 260 290\nPower down \nmodeHSE crystal osc. \n(16 MHz)970 - -\nPower down \nmodeLSI RC osc. (128 kHz) 150 200 230\nOffOperating mode LSI RC osc. (128 kHz) 66 80 105\nPower down \nmodeLSI RC osc. (128 kHz) 10 18 35\n1.  Guaranteed by characterization results.\n2. Configured by the REGAH bit in the CLK_ICKR register.3. Configured by the AHALT bit in the FLASH_CR1 register.\nDocID15441 Rev 14 59/121STM8S103F2 STM8S103F3  STM8S103K3 Electrical characteristics\n88Total current consumption in halt mode\n          \n          \nLow power mode wakeup times\n          Table 27. Total current consumption in halt mode at VDD = 5 V  \nSymbol Parameter Conditions TypMax at \n85 °C(1)\n1.  Guaranteed by characterization results.Max at \n85 °C(1)Unit\nIDD(H)Supply current in halt \nmodeFlash in operating mode, HSI \nclock after wakeup63 75 105\nµA\nFlash in power-down mode, \nHSI clock after wakeup6.0 20 55\nTable 28. Total current consum ption in halt mode at VDD = 3.3 V  \nSymbol Parameter Conditions TypMax at \n85 °C(1)\n1.  Guaranteed by characterization results.Max at \n85 °C(1)Unit\nIDD(H)Supply current in halt \nmodeFlash in operating mode, HSI \nclock after wakeup60 75 100\nµA\nFlash in power-down mode, \nHSI clock after wakeup4.5 17 30\nTable 29. Wakeup times  \nSymbol Parameter Conditions Typ Max(1) Unit\ntWU(WFI)Wakeup time from wait \nmode to run mode(2) 0 to 16 MHz - See note(3)\nµstWU(WFI)Wakeup time from run \nmode(2)fCPU= fMASTER = 16 MHz 0.56 -\ntWU(AH)Wakeup time active halt \nmode to run mode(2)MVR voltage \nregulator on(4)Flash in operating \nmode\n(5)HSI (after \nwakeup)1(6)2(6)\ntWU(AH)Wakeup time active halt \nmode to run mode(2)MVR voltage \nregulator off(4)Flash in operating \nmode\n(5)HSI (after \nwakeup)3(6) -\ntWU(AH)Wakeup time active halt \nmode to run mode(2)MVR voltage \nregulator off(4)Flash in operating \nmode\n(5)HSI (after \nwakeup)48(6) -\ntWU(AH)Wakeup time active halt \nmode to run mode(2)MVR voltage \nregulator off(4)Flash in power-down \nmode\n(5)HSI (after \nwakeup)50(6) -\ntWU(H)Wakeup time from halt \nmode to run mode(2)Flash in operating mode(5)52 -\ntWU(H)Wakeup time from halt \nmode to run mode(2)Flash in power-down mode(5)54 -\n1.  Guaranteed by characterization results.\nElectrical characteristics STM8S103F2 STM8S103F3 STM8S103K3\n60/121 DocID15441 Rev 14Total current consumption and timing in forced reset state\n          \nCurrent consumption of on-chip peripherals\nSubject to general operating conditions for VDD and TA.\nHSI internal RC/fCPU= fMASTER  = 16  MHz, VDD = 5 V\n          \nCurrent consumption curves\nThe following figures show typical current consumption measured with code executing in \nRAM. 2. Measured from interrupt event to interrupt vector fetch\n3. tWU(WFI) = 2 x 1/fmaster  + 67 x 1/fCPU\n4. Configured by the REGAH bit in the CLK_ICKR register.5. Configured by the AHALT bit in the FLASH_CR1 register.\n6. Plus 1 LSI clock d epending on synchronization.\nTable 30. Total current consumption and timing in forced reset state \nSymbol Parameter Conditions Typ Max(1)\n1. Guaranteed by design.Unit\nIDD(R)Supply current in reset \nstate(2)\n2.  Characterized with all I/Os tied to VSS.VDD = 5 V 400 -\nµA\nVDD = 3.3 V 300 -\ntRESETBLReset pin release to \nvector fetch-- 1 5 0 µ s\nTable 31. Peripheral current consumption \nSymbol Parameter Typ Unit\nIDD(TIM1) TIM1 supply current(1)\n1. Data based on a differential IDD measurement between reset configuration and timer counter running at \n16 MHz. No IC/OC programmed (no I/O pads toggling). Not tested in production.210\nµAIDD(TIM2) TIM2 supply current(1)130\nIDD(TIM4) TIM4 supply current(1)50\nIDD(UART1) UART1 supply current (2)\n2. Data based on a differential IDD measurement between the on-chip peripheral when kept under reset and \nnot clocked and the on-chip peripheral  when clocked and not kept under reset. No I/O pads toggling. Not \ntested in production.120\nIDD(SPI) SPI supply current (2)45\nIDD(I2C) I2C supply current(2)65\nIDD(ADC1) ADC1 supply current when converting(3)\n3.  Data based on a differential IDD measurement between reset configuration and continuous A/D \nconversions. Not tested in production.1000\nDocID15441 Rev 14 61/121STM8S103F2 STM8S103F3  STM8S103K3 Electrical characteristics\n88Figure 12. Typ IDD(RUN)  vs. VDD HSE user external clock, fCPU = 16 MHz \nFigure 13. Typ IDD(RUN)  vs. fCPU HSE user external clock, VDD = 5 V \n\nElectrical characteristics STM8S103F2 STM8S103F3 STM8S103K3\n62/121 DocID15441 Rev 14Figure 14. Typ IDD(RUN)  vs. VDD HSI RC osc, fCPU = 16 MHz \nFigure 15. Typ IDD(WFI)  vs. VDD HSE external clock, fCPU = 16 MHz \n\nDocID15441 Rev 14 63/121STM8S103F2 STM8S103F3  STM8S103K3 Electrical characteristics\n88Figure 16. Typ IDD(WFI)  vs. fCPU HSE external clock, VDD = 5 V \nFigure 17. Typ IDD(WFI)  vs. VDD HSI RC osc., fCPU = 16 MHz \n\nElectrical characteristics STM8S103F2 STM8S103F3 STM8S103K3\n64/121 DocID15441 Rev 1410.3.3 External clock sources and timing characteristics\nHSE user external clock\nSubject to general operating conditions for VDD and TA.\n          \nFigure 18. HSE external clock sourceTable 32. HSE user external clock characteristics \nSymbol Parameter Conditions Min Max Unit\nfHSE_extUser external clock \nsource frequency-0 1 6 M H z\nVHSEH(1)\n1. Guaranteed by characterization results.OSCIN input pin high \nlevel voltage- 0.7 x VDD  VDD + 0.3 V\nV\nVHSEL(1) OSCIN input pin low \nlevel voltage-VSS 0.3 x VDD\nILEAK_HSEOSCIN input leakage \ncurrentVSS < VIN < VDD -1 +1 µA\ns,^\x1c,\ns,^\x1c>\n\x1cǆƚĞƌŶĂů\x03ĐůŽĐŬƐŽƵƌĐĞK^\x12/EĨ,^\x1c\n^dDϴ\nD^ϯϲϰϴϵsϮ\nDocID15441 Rev 14 65/121STM8S103F2 STM8S103F3  STM8S103K3 Electrical characteristics\n88HSE crystal/ceramic resonator oscillator\nThe HSE clock can be supplied with a 1 to 16  MHz crystal/ceramic resonator oscillator. All \nthe information given in this paragraph is ba sed on characterization results with specified \ntypical external components. In the application,  the resonator and the load capacitors have \nto be placed as close as possible to the oscillato r pins in order to mini mize output distortion \nand startup stabilization time. Re fer to the crystal resonator m anufacturer for more details \n(frequency, package , accuracy...).\n          Table 33. HSE oscillator characteristics \nSymbol Parameter Conditions Min Typ Max Unit\nfHSEExternal high speed \noscillator frequency-1 - 1 6 M H z\nRF Feedback resistor - - 220 - k Ω \nC(1) Recommended load \ncapacitance(2) -- - 2 0 p F\nIDD(HSE)HSE oscillator power \nconsumptionC = 20 pF\nfOSC = 16 MHz--6 (start up)\n1.6 (stabilized)(3)\nmA\nC = 10 pF\nfOSC = 16 MHz--6 (start up)\n1.2 (stabilized)(3)\ngmOscillator \ntransconductance-5 - - m A / V\ntSU(HSE)(4)Startup time  VDD is stabilized - 1 - ms\n1. C is approximately equivalent to 2 x crystal Cload.\n2. The oscillator selection can be optimiz ed in terms of supply current using a high quality resonator with small Rm value. \nRefer to crystal manufacturer for more details\n3. Guaranteed by characterization results.\n4. tSU(HSE) is the start-up time measured from the moment it is  enabled (by software) to a stabilized 16 MHz oscillation is \nreached. This value is measured for a standard crystal resonator and it can vary significantly wi th the crystal manufacturer.\ngmcrit2Π ×fHSE× ()2Rm× 2Co C + ()2=Electrical characteristics STM8S103F2 STM8S103F3 STM8S103K3\n66/121 DocID15441 Rev 14Figure 19. HSE oscillat or circuit diagram\nHSE oscillator critical gm equation\nRm: Notional resistance (s ee crystal specification)  \nLm: Notional inductance (see crystal specification)  \nCm: Notional capacitance (see crystal specification)  \nCo: Shunt capacitance (see crystal specification)  \nCL1 = CL2 = C: Grounded external capacitance\ngmgmcrit»26&28726&,1I+6(\x03WR\x03\x03FRUH\n&/\x145)\n670\x1b5HVRQDWRU\n&RQVXPSWLRQ\nFRQWUROJP5P\n&P/P\n5HVRQDWRU\n&/\x15&2\n06\x16\x19\x17\x1c\x139\x16\nDocID15441 Rev 14 67/121STM8S103F2 STM8S103F3  STM8S103K3 Electrical characteristics\n8810.3.4 Internal clock source s and timing characteristics\nSubject to general operating conditions for VDD and TA.\nHigh speed internal RC oscillator (HSI)\n          \nFigure 20. Typical HSI frequency variation vs VDD @ 4 temperaturesTable 34. HSI oscillator characteristics \nSymbol Parameter Conditions Min Typ Max Unit\nfHSI Frequency - - 16 - MHz \nACCHSAccuracy of HSI oscillator User-trimmed with \nCLK_HSITRIMR register for \ngiven VDD and TA \nconditions(1)\n1. Refer to application note.-- 1(2)\n2. Guaranteed by design, not tested in production. %\nHSI oscillator accuracy \n(factory calibrated)VDD = 5 V, \nTA = 25 °C(3)\n3. Guaranteed by characterization results.-1.0 - 1.0\nVDD = 5 V,  \n-25°C  ≤  TA ≤  85 °C-2.0 - 2.0\n2.95 V  ≤  VDD ≤   5.5 V,  \n-40°C  ≤  TA ≤  125 °C-3.0(3)-3 . 0(3)\ntsu(HSI)HSI oscillator wakeup \ntime including calibration-- - 1 . 0(2)µs\nIDD(HSI)HSI oscillator power \nconsumption- - 170 250(3)µA\n\nElectrical characteristics STM8S103F2 STM8S103F3 STM8S103K3\n68/121 DocID15441 Rev 14Low speed internal RC oscillator (LSI)\nSubject to general operating conditions for VDD and TA.\n          \nFigure 21. Typical LSI frequency variation vs VDD@ 4 temperaturesTable 35. LSI oscillator characteristics \nSymbol Parameter Conditions Min Typ Max Unit\nfLSI Frequency - 110 128 150 kHz \ntsu(LSI) LSI oscillator wakeup time - - - 7 µs\nIDD(LSI) LSI oscillator power consumption - - 5 - µA\n\nDocID15441 Rev 14 69/121STM8S103F2 STM8S103F3  STM8S103K3 Electrical characteristics\n8810.3.5 Memory characteristics\nRAM and hardware registers\n          \nFlash program memory/data EEPROM memory \n          Table 36. RAM and hardware registers \nSymbol Parameter  Conditions Min Unit\nVRM Data retention mode(1)\n1. Minimum supply voltage without losing data stored in RAM (in halt mode or under reset) or in hardware \nregisters (only in halt mode). Guaranteed by design, not tested in production.Halt mode (or reset) VIT-max(2)\n2. Refer to Section 10.3: Operating conditions  for the value of VIT-max .V\nTable 37. Flash program memory/data EEPROM memory \nSymbol Parameter  Conditions Min(1)\n1. Guaranteed by characterization results.Typ Max Unit\nVDDOperating voltage  \n(all modes, execution/write/erase)fCPU≤ 16 MHz 2.95 - 5.5 V\ntprogStandard programming time (including \nerase) for byte/word/block  \n(1 byte/4 byte/64 byte) -- 6 6 . 6\nmsFast programming time for 1 block  \n(64 byte)-- 3 3 . 3 3\nterase Erase time for 1 block (64 byte) - - 3 3.33\nNRWErase/write cycles  \n(program memory)(2)\n2. The physical granularity of the memory is 4 byte , so cycling is performed on 4 byte even when a \nwrite/erase operation addresses a single byte.TA = +85 °C 100k - -\ncycle\nErase/write cycles (data memory)(2)TA = +125 °C 300k 1M -\ntRETData retention (program and data \nmemory) after 10k erase/write cycles at T\nA= +55 °C TRET = 55 °C 20 - -\nyear\nData retention (data memory) after \n300k erase/write cycles at  \nTA= +125°C TRET = 85 °C 1 - -\nIDDSupply current (Flash programming or \nerasing for 1 to 128 byte) -- 2 - m A\nElectrical characteristics STM8S103F2 STM8S103F3 STM8S103K3\n70/121 DocID15441 Rev 1410.3.6 I/O port pin characteristics\nGeneral characteristics\nSubject to general operating conditions for VDD and TA unless otherwise specified. All \nunused pins must be kept at a fixed voltage, using the output mode of the I/O for example or \nan external pull-up or pull-down resistor. \n          Table 38. I/O static characteristics \nSymbol Parameter Conditions Min Typ Max Unit\nVIL Input low level voltage\nVDD = 5 V-0.3 V - 0.3 x VDDV\nVIH Input high level voltage 0.7 x VDD -VDD + 0.3 V\nVhys Hysteresis(1)-7 0 0 - m V\nRpu Pull-up resistor VDD = 5 V, VIN = VSS 30 55 80 k Ω\ntR, tFRise and fall time  \n(10% - 90%)Fast I/Os\nLoad = 50 pF-- 3 5(2)\nns\nStandard and high sink I/Os\nLoad = 50 pF-- 1 2 5(2)\ntR, tFRise and fall time  \n(10% - 90%)Fast I/Os\nLoad = 20 pF-- 2 0(2)\nns\nStandard and high sink I/Os\nLoad = 20 pF-- 5 0(2)\nIlkgDigital input leakage \ncurrentVSS ≤ VIN ≤ VDD -- ± 1(3)µA\nIlkg anaAnalog input leakage \ncurrentVSS ≤  VIN ≤  VDD -- ± 2 5 0(3)nA\nIlkg(inj)Leakage current in \nadjacent I/OInjection current ±4 mA - - ±1(3)µA\n1. Hysteresis voltage between Schmitt trigger switching levels . Based on characterization results, not tested in production.\n2. Data guaranteed by design.3. Guaranteed by characterization results\nDocID15441 Rev 14 71/121STM8S103F2 STM8S103F3  STM8S103K3 Electrical characteristics\n88          \nFigure 24. Typical pull-up resistance vs VDD @ 4 temperatures\n          Figure 22. Typical VIL and VIH vs VDD @ 4 \ntemperaturesFigure 23. Typical pull-up current vs VDD @ 4 \ntemperatures\nTable 39. Output driving current (standard ports) \nSymbol Parameter Conditions Min Max Unit\nVOLOutput low level with 8 \npins sunkIIO= 10 mA,\nVDD = 5 V-2 . 0\nVOutput low level with 4 \npins sunkIIO= 4 mA,\nVDD = 3.3 V-1 . 0(1)\n1. Guaranteed by characterization resultsVOHOutput high level with 8 \npins sourcedIIO= 10 mA,\nVDD = 5 V2.8 -\nOutput high level with 4 \npins sourcedIIO= 4 mA,\nVDD = 3.3 V2.1(1)-\x16\x13\x16\x18\x17\x13\x17\x18\x18\x13\x18\x18\x19\x13\x10\x17\x13Û&\n\x15\x18Û&\n\x1b\x18Û&\n\x14\x15\x18Û&3XOO\x10XS\x03UHVLVWDQFH\x03>\x9f:@\n\x15\x11\x18 \x16 \x16\x11\x18 \x17 \x17\x11\x18 \x18 \x18\x11\x18 \x19\n9\'\'\x03>9@06\x16\x1a\x17\x16\x179\x14\nElectrical characteristics STM8S103F2 STM8S103F3 STM8S103K3\n72/121 DocID15441 Rev 14          \n          \n          Table 40. Output driving current (true open drain ports) \nSymbol Parameter Conditions Min Max Unit\nVOLOutput low level with 2 \npins sunkIIO= 10 mA,\nVDD = 5 V-1 . 0\nVOutput low level with 2 \npins sunkIIO= 10 mA,\nVDD = 3.3 V-1 . 5(1)\n1. Guaranteed by characterization resultsVOHOutput high level with 2 \npins sourcedIIO= 10 mA,\nVDD = 5 V-2 . 0(1)\nTable 41. Output driving current (high sink ports) \nSymbol Parameter Conditions Min Max Unit\nVOLOutput low level with 8 \npins sunkIIO= 10 mA,\nVDD = 5 V-0 . 8\nVOutput low level with 4 \npins sunkIIO= 10 mA,\nVDD = 3.3 V-1 . 0(1)\n1. Guaranteed by characterization results.IIO= 20 mA,\nVDD = 5 V-1 . 5(1)\nVOHOutput high level with 8 \npins sourcedIIO= 10 mA,\nVDD = 5 V4.0 -\nOutput high level with 4 \npins sourcedIIO= 10 mA,\nVDD = 3.3 V2.1(1)-\nIIO= 20 mA,\nVDD = 5 V3.3(1)-\nFigure 25. Typ. VOL @ VDD = 3.3 V (standard \nports)  Figure 26. Typ. VOL @ VDD = 5.0 V (standard \nports) \n\nDocID15441 Rev 14 73/121STM8S103F2 STM8S103F3  STM8S103K3 Electrical characteristics\n88          \n          Figure 27. Typ. VOL @ VDD = 3.3 V (true open \ndrain ports)  Figure 28. Typ. VOL @ VDD = 5.0 V (true open \ndrain ports)  \nFigure 29. Typ. VOL @ VDD = 3.3 V (high sink \nports)  Figure 30. Typ. VOL @ VDD = 5.0 V (high sink \nports)  \n\nElectrical characteristics STM8S103F2 STM8S103F3 STM8S103K3\n74/121 DocID15441 Rev 14          \n          Figure 31. Typ. VDD - VOH @ VDD = 3.3 V \n(standard ports)  Figure 32. Typ. VDD - VOH @ VDD = 5.0 V \n(standard ports)  \nFigure 33. Typ. VDD - VOH @ VDD = 3.3 V (high \nsink ports)  Figure 34. Typ. VDD - VOH @ VDD = 5.0 V (high \nsink ports)  \n\nDocID15441 Rev 14 75/121STM8S103F2 STM8S103F3  STM8S103K3 Electrical characteristics\n8810.3.7 Reset pin characteristics\nSubject to general operating conditions for VDD and TA unless otherwise specified.\n          \nFigure 35. Typical NRST VIL and VIH vs VDD @ 4 temperaturesTable 42. NRST pin characteristics \nSymbol Parameter Conditions Min Typ Max Unit\nVIL(NRST) NRST input low level voltage(1)\n1. Guaranteed by characterization results.-- 0 . 3 - 0.3 x VDD\nV VIH(NRST) NRST input high level voltage(1)IOL= 2 mA 0.7 x VDD - VDD+ 0.3 \nVOL(NRST) NRST output low level voltage(1)IOL= 3 mA - - 0.5\nRPU(NRST) NRST pull-up resistor(2)\n2. The RPU pull-up equivalent resistor is based on a resistive transistor.-3 0 5 5 8 0 k Ω\ntIFP(NRST) NRST input filtered pulse(3)-- - 7 5\nns\ntINFP(NRST) NRST Input not filtered pulse(3)\n3. Guaranteed by design.-5 0 0 - -\ntOP(NRST) NRST output pulse(3)-2 0 - - µ s\n\nElectrical characteristics STM8S103F2 STM8S103F3 STM8S103K3\n76/121 DocID15441 Rev 14Figure 36. Typical NRST pull-up resistance RPU vs VDD @ 4 temperatures\nFigure 37. Typical NRST pull-up current Ipu vs VDD @ 4 temperatures\nThe reset network shown in Figure  38 protects the device against parasitic resets. The user \nmust ensure that the level on the NRST pin can go below VIL(NRST) max (see Table  42: \nNRST pin characteristics ), otherwise the reset is not taken into account internally.\nFor power consumption sensitive applications , the external reset capacitor value can be \nreduced to limit the charge/discharge current. If NRST signal is used to reset external \ncircuitry, attention must be taken to the charge/ discharge time of the external capacitor to \nfulfill the external devices reset timing c onditions. Minimum recommended capacity is \n100 nF. \n\nDocID15441 Rev 14 77/121STM8S103F2 STM8S103F3  STM8S103K3 Electrical characteristics\n88Figure 38. Recommended reset pin protection\n10.3.8 SPI serial peripheral interface\nUnless otherwise specified,  the parameters given in Table  43 are derived from tests \nperformed under ambient temperature,  fMASTER  frequency and VDD supply voltage \nconditions. tMASTER  = 1/fMASTER .\nRefer to I/O port characteristics for more de tails on the input/output alternate function \ncharacteristics (NSS,  SCK, MOSI, MISO).\n          06Y\x16\x19\x17\x1c\x149\x14([WHUQDO\x03\nUHVHW\x03\nFLUFXLW\x03\x03\n\x13\x11\x14\x03ȝ)1567 )LOWHU670\x1b\n\x0b2SWLRQDO\x0c9\'\'\n538\nTable 43. SPI characteristics \nSymbol Parameter Conditions(1)Min Max Unit\nfSCK\n1/tc(SCK)SPI clock frequencyMaster mode 0 8\nMHz\nSlave mode 0 7\nElectrical characteristics STM8S103F2 STM8S103F3 STM8S103K3\n78/121 DocID15441 Rev 14tr(SCK )\ntf(SCK)SPI clock ri se and fall \ntimeCapacitive load:  \nC = 30 pF-2 5\nnstsu(NSS)(2)NSS setup time Slave mode 4 * tMASTER -\nth(NSS)(2)NSS hold time Slave mode 70 -\ntw(SCKH)(2)\ntw(SCKL)(2)SCK high and low time Master mode tSCK/2 - 15 tSCK/2 + 15\ntsu(MI)(2)\ntsu(SI)(2) Data input setup timeMaster mode 5 -\nSlave mode 5 -\nth(MI)(2)\nth(SI)(2) Data input hold timeMaster mode 7 -\nSlave mode 10 -\nta(SO)(2)(3)Data output access time Slave mode -  3* tMASTER\ntdis(SO)(2)(4)Data output disable time Slave mode 25 -\ntv(SO)(2)Data output valid timeSlave mode  \n(after enable edge)-6 5\ntv(MO)(2)Data output valid timeMaster mode (after \nenable edge)-3 0\nth(SO)(2)\nData output hold timeSlave mode (after \nenable edge)27 -\nth(MO)(2) Master mode (after \nenable edge)11 -\n1. Parameters are given by selecting 10 MHz I/O output frequency.\n2. Values based on design simulation and/or charac terization results, and not tested in production.\n3. Min time is for the minimum time to drive the output and the max time is for the maximum time to validate \nthe data.\n4. Min time is for the minimum time to invalidate the output and the max time is for the maximum time to put \nthe data in Hi-Z.Table 43. SPI characteristics (continued)\nSymbol Parameter Conditions(1)Min Max Unit\nDocID15441 Rev 14 79/121STM8S103F2 STM8S103F3  STM8S103K3 Electrical characteristics\n88Figure 39. SPI timing diagram where slave mode and CPHA = 0\n1. Measurement points are at CMOS levels: 0.3 VDD and 0.7 VDD.\nFigure 40. SPI timing diagram where slave mode and CPHA = 1\n1. Measurement points are at CMOS levels: 0.3 VDD and 0.7 VDD.DL\x14\x17\x14\x16\x17F6&.\x03,QSXW166\x03LQSXW\nW68\x0b166\x0c WF\x0b6&.\x0c WK\x0b166\x0c\n&3+$ \x13\n&32/ \x13\n&3+$ \x13\n&32/ \x14WZ\x0b6&.+\x0c\nWZ\x0b6&./\x0c\nW9\x0b62\x0c WK\x0b62\x0cWU\x0b6&.\x0c\nWI\x0b6&.\x0cWGLV\x0b62\x0cWD\x0b62\x0c\n0,62\n287387\n026,\n,138706%\x03287 %,7\x19\x03287 /6%\x03287\nWVX\x0b6,\x0c\nWK\x0b6,\x0c06%\x03,1 %,7\x14\x03,1 /6%\x03,1\nDL\x14\x17\x14\x16\x18E166\x03LQSXW\nW68\x0b166\x0c WF\x0b6&.\x0c WK\x0b166\x0c6&.\x03LQSXW&3+$ \x14\n&32/ \x13\n&3+$ \x14\n&32/ \x14WZ\x0b6&.+\x0c\nWZ\x0b6&./\x0c\nWD\x0b62\x0cWY\x0b62\x0c WK\x0b62\x0cWU\x0b6&.\x0c\nWI\x0b6&.\x0cWGLV\x0b62\x0c\n0,62\n287387\n026,\n,1387WVX\x0b6,\x0c WK\x0b6,\x0c06%\x03287\n06%\x03,1%,7\x19\x03287 /6%\x03287\n/6%\x03,1 %,7\x03\x14\x03,1\nElectrical characteristics STM8S103F2 STM8S103F3 STM8S103K3\n80/121 DocID15441 Rev 14Figure 41. SPI timing diagram - master mode\n1. Measurement points are at CMOS levels: 0.3 VDD and 0.7 VDD.DL\x14\x17\x14\x16\x19F6&.\x032XWSXW&3+$ \x13\n026,\n2873870,62\n,1387&3+$ \x13\n/6%\x03287/6%\x03,1&32/ \x13\n&32/ \x14\n%,7\x14\x03287166\x03LQSXW\nWF\x0b6&.\x0c\nWZ\x0b6&.+\x0c\nWZ\x0b6&./\x0cWU\x0b6&.\x0c\nWI\x0b6&.\x0c\nWK\x0b0,\x0c+LJK6&.\x032XWSXW&3+$ \x14\n&3+$ \x14&32/ \x13\n&32/ \x14\nWVX\x0b0,\x0c\nWY\x0b02\x0c WK\x0b02\x0c06%\x03,1 %,7\x19\x03,1\n06%\x03287\nDocID15441 Rev 14 81/121STM8S103F2 STM8S103F3  STM8S103K3 Electrical characteristics\n8810.3.9 I2C interface characteristics\n          \nFigure 42. Typical application with I2C bus and timing diagramTable 44. I2C characteristics \nSymbol ParameterStandard mode I2CF a s t  m o d e  I2C(1)\n1. fMASTER , must be at least 8 MHz to achieve max fast I2C speed (400 kHz)Unit\nMin(2)\n2.Data based on standard I2C protocol requirement, not tested in productionMax(2)Min(2)Max(2)\ntw(SCLL) SCL clock low time 4.7 - 1.3 -\nµs\ntw(SCLH) SCL clock high time 4.0 - 0.6 -\ntsu(SDA) SDA setup time 250 - 100 -\nnsth(SDA) SDA data hold time 0(3)\n3.The maximum hold time of the start condition has only to be met if the interface does not stretch the low \ntime- 0(4)\n4.The device must internally provide a hold time of at least 300 ns for t he SDA signal in order to bridge the \nundefined region of the falling edge of SCL900(3)\ntr(SDA)  \ntr(SCL)SDA and SCL rise time  \n(VDD = 3 to 5.5 V)- 1000 - 300\ntf(SDA)  \ntf(SCL)SDA and SCL fall time  \n(VDD = 3 to 5.5 V)- 300 - 300 \nth(STA) START condition hold time 4.0 - 0.6 -\nµstsu(STA) Repeated START condition setup time 4.7 - 0.6 -\ntsu(STO) STOP condition setup time 4.0 - 0.6 -\ntw(STO:STA)STOP to START condition time  \n(bus free)4.7 - 1.3 -\nCb Capacitive load for each bus line - 400 - 400 pF\n06Y\x16\x19\x17\x1c\x159\x146&/67$57\n67$57\n6723670\x1b\n5HSHDWHG\nVWDUW\x14\x13\x13\x03\x9f\x03\x14\x13\x13\x03\x9f\x036\'$\n6&/\x17\x11\x1a\x03N\x9f\x03 \x17\x11\x1a\x03N\x9f\x039\'\'9\'\'\n,\x15&\x03EXV\n6\'$\nWI\x0b6\'$\x0c WU\x0b6\'$\x0c WVX\x0b6\'$\x0c WK\x0b6\'$\x0cWVX\x0b67$\x0cWZ\x0b672\x1d67$\x0c\nWVX\x0b672\x0c WI\x0b6&/\x0c WU\x0b6&/\x0c WZ\x0b6&//\x0c WZ\x0b6&/+\x0cWK\x0b67$\x0c\nElectrical characteristics STM8S103F2 STM8S103F3 STM8S103K3\n82/121 DocID15441 Rev 1410.3.10 10-bit ADC characteristics\nSubject to general operating conditions for VDD, fMASTER , and TA unless otherwise \nspecified.\n          Table 45. ADC characteristics \nSymbol Parameter  Conditions Min Typ Max Unit\nfADC ADC clock frequencyVDD= 2.95 to 5.5 V 1 - 4\nMHz\nVDD= 4.5 to 5.5 V 1 - 6\nVAIN Conversion voltage range(1)\n1. During the sample time, the sampling capacitance, CAIN (3 pF max), can be charged/discharged by the \nexternal source. The internal resistance of the analog source must allow the capacitance to reach its final \nvoltage level within tS. After the end of the sample time tS, changes of the analog input voltage have no \neffect on the conversion result. Values for the sample clock tS depend on programming.- VSS - VDD V\nCADCInternal sample and hold \ncapacitor-- 3 - p F\ntS(1)Minimum sampling timefADC = 4 MHz - 0.75 -\nµs\nfADC = 6 MHz - 0.5 -\ntSTAB Wakeup time from standby - - 7.0 - µs\ntCONVMinimum total conversion time \n(including sampling time, 10-\nbit resolution)fADC = 4 MHz 3.5 µs\nfADC = 6 MHz 2.33 µs\n-1 4 1 / fADC\nDocID15441 Rev 14 83/121STM8S103F2 STM8S103F3  STM8S103K3 Electrical characteristics\n88          \n          Table 46. ADC accuracy with RAIN< 10 k Ω, VDD= 5 V \nSymbol Parameter  Conditions Typ Max(1)\n1. Guaranteed by characterization results.Unit\n|ET| Total unadjusted error(2)\n2. ADC accuracy vs. negative injection current: Injecti ng negative current on any of the analog input pins \nshould be avoided as this significan tly reduces the accuracy of the conversion being performed on another \nanalog input. It is recommended to add a Schottky diode (pin to ground) to standard analog pins which may potentially inject negative current. Any positive inje ction current within the limits specified for I\nINJ(PIN)  and \nΣIINJ(PIN)  in Section 10.3.6  does not affect the ADC accuracy.fADC = 2 MHz 1.6 3.5\nLSBfADC = 4 MHz 2.2 4\nfADC = 6 MHz 2.4 4.5\n|EO| Offset error(2)fADC = 2 MHz 1.1 2.5\nfADC = 4 MHz 1.5 3\nfADC = 6 MHz 1.8 3\n|EG| Gain error(2)fADC = 2 MHz 1.5 3\nfADC = 4 MHz 2.1 3\nfADC = 6 MHz 2.2 4\n|ED| Differential linearity error(2)fADC = 2 MHz 0.7 1.5\nfADC = 4 MHz 0.7 1.5\nfADC = 6 MHz 0.7 1.5\n|EL| Integral linearity error(2)fADC = 2 MHz 0.6 1.5\nfADC = 4 MHz 0.8 2\nfADC = 6 MHz 0.8 2\nElectrical characteristics STM8S103F2 STM8S103F3 STM8S103K3\n84/121 DocID15441 Rev 14          \nFigure 43. ADC accuracy characteristics\n1. Example of an actual transfer curve\n2. The ideal transfer curve3. End point correlation line  \nE\nT = Total unadjusted error: maximum deviation betw een the actual and the ideal transfer curves.  \nEO = Offset error: deviation between the firs t actual transition and the first ideal one.  \nEG = Gain error: deviation between the last ideal transition and the last actual one.  \nED = Differential linearity error: maximum deviation between actual steps and the ideal one.  \nEL = Integral linearity error: maximum deviation between  any actual transition an d the end point correlation \nline.Table 47. ADC accuracy with RAIN< 10 k Ω, VDD= 3.3 V \nSymbol Parameter  Conditions Typ Max(1)\n1. Guaranteed by characterization results.Unit\n|ET| Total unadjusted error(2)\n2. ADC accuracy vs. negative injection current: Injecti ng negative current on any of the analog input pins \nshould be avoided as this significan tly reduces the accuracy of the conversion being performed on another \nanalog input. It is recommended to add a Schottky diode (pin to ground) to standard analog pins which may \npotentially inject negative current. Any positive inje ction current within the limits specified for IINJ(PIN)  and \nΣIINJ(PIN)  in Section 10.3.6  does not affect the ADC accuracy.fADC = 2 MHz 1.6 3.5\nLSBfADC = 4 MHz 1.9 4\n|EO| Offset error(2)fADC = 2 MHz 12 . 5\nfADC = 4 MHz 1.5 2.5\n|EG| Gain error(2)fADC = 2 MHz 1.3 3\nfADC = 4 MHz 23\n|ED| Differential linearity error(2)fADC = 2 MHz 0.7 1.0\nfADC = 4 MHz 0.7 1.5\n|EL| Integral linearity error(2)fADC = 2 MHz 0.6 1.5\nfADC = 4 MHz 0.8 2\nEOEG\n1L S BIDEAL1LSBIDEALVDDVSS–\n1024------------------------------- - =1023\n1022\n1021\n5\n4\n321\n07\n6\n1234567 10211022 10231024(1)(2)\nET\nEDEL(3)\nVDD VSS\nDocID15441 Rev 14 85/121STM8S103F2 STM8S103F3  STM8S103K3 Electrical characteristics\n88Figure 44. Typical application with ADC\n1. Legend: RAIN = external resistance, CAIN = capacitors, Csamp = internal sample and hold capacitor.06Y\x16\x1b\x16\x13\x139\x14^dDϴ\n5$,1\n&$,19$,1\x04/Eǆs\x18\x18\n97\n\x13\x11\x19\x039\n97\n\x13\x11\x19\x039 ц\x03ϭ\x03ђ\x04\x14\x13\x10ELW\x03$\x12\'\nFRQYHUVLRQ\n&$\'&,/\nElectrical characteristics STM8S103F2 STM8S103F3 STM8S103K3\n86/121 DocID15441 Rev 1410.3.11 EMC characteristics\nSusceptibility tests are perfor med on a sample basis during  product characterization.\nFunctional EMS (electromagnetic susceptibility)\nWhile executing a simple application (toggling 2 LEDs through I/O ports), the product is \nstressed by two electromagnetic events until a failure occurs (indicated by the LEDs).\n• ESD: Electrostatic discharge (positive and negati ve) is applied on all pins of the device \nuntil a functional disturbance occurs. Th is test conforms with the IEC 61000-4-2 \nstandard.\n• FTB: A burst of fast transient voltage (p ositive and negative) is applied to VDD and VSS \nthrough a 100 pF capacitor, until a function al disturbance occurs. This test conforms \nwith the IEC 61000-4-4 standard.\nA device reset allows normal operations to be resumed. The test results are given in the \ntable below based on the EMS levels and classe s defined in application note AN1709 (EMC \ndesign guide for STM microcontrollers).\nDesigning hardened software to avoid noise problems\nEMC characterization and optimization are per formed at component level with a typical \napplication environment and simplified MCU soft ware. It should be noted that good EMC \nperformance is highly dependent on the user application and the software in particular.\nTherefore it is recommended that the user  applies EMC software optimization and \nprequalification tests in re lation with the EMC level requested for his application.\nPrequalification trials\nMost of the common failures (unexpected reset and program counter corruption) can be \nrecovered by applying a low state on the NR ST pin or the oscillato r pins for 1 second.\nTo complete these trials, ESD stress can be applie d directly on the device, over the range of \nspecification values. When unexpected behavior is detected, the software can be hardened \nto prevent unrecoverable errors occurring. See application note AN1015 (Software techniques for improving microcontroller EMC performance).\n          Table 48. EMS data \nSymbol Parameter Conditions Level/class\nVFESDVoltage limits to be applied on any I/O pin \nto induce a functional disturbanceVDD = 3.3 V, TA= 25 °C,  \nfMASTER = 16 MHz (HSI clock),  \nConforms to IEC 61000-4-22/B(1)\n1. Data obtained with HSI clock configuration, afte r applying the hardware recommendations described in \nAN2860 (EMC guidelines for STM8S microcontrollers). VEFTBFast transient voltage burst limits to be \napplied through 100 pF on VDD and VSS \npins to induce a functional disturbanceVDD = 3.3 V, TA= 25 °C,  \nfMASTER = 16 MHz (HSI clock),  \nConforms to IEC 61000-4-44/A(1)\nDocID15441 Rev 14 87/121STM8S103F2 STM8S103F3  STM8S103K3 Electrical characteristics\n88Electromagnetic interference (EMI)\nBased on a simple application running on the product (toggling 2 LEDs through the I/O \nports), the product is monitored in terms of em ission. This emission te st is in line with the \nnorm IEC 61967-2 which specifies the board and the loading of each pin.\n          \nAbsolute maximum ratings (electrical sensitivity)\nBased on two different tests (ESD, DLU and LU) using specific measurement methods, the product is stressed to determine its performance in terms of electrical sensitivity. For more \ndetails, refer to the application note AN1181.\nElectrostatic discharge (ESD)\nElectrostatic discharges (a positive then a negative pulse separated by 1 second) are applied to the pins of each sample according to each pin combinati on. The sample size \ndepends on the number of supply pins in the de vice (3 parts x (n+1) supply pin). One model \ncan be simulated: Human body model. This test conforms to the JESD22-A114A/A115A standard. For more details, refer to the application note AN1181. \n           \nStatic latch-up\nTwo complementary static tests are required  on 10 parts to assess the latch-up \nperformance. \n• A supply overvoltage (applied to each power supply pin), and \n• A current injection (applied to each input, output and configurable I/O pin) are \nperformed on each sample. Table 49. EMI data \nSymbol ParameterConditions\nUnit\nGeneral conditionsMonitored\nfrequency bandMax fCPU(1)\n1. Guaranteed by characterization results.16 MHz/\n8 MHz16 MHz/\n16 MHz\nSEMIPeak levelVDD = 5 V,  \nTA = 25 °C,  \nLQFP32 package. \nConforming to  \nIEC 61967-20.1 MHz to 30 MHz 5 5\ndBµV 30 MHz to 130 MHz 4 5\n130 MHz to 1 GHz 5 5\nEMI level EMI level 2.5 2.5 -\nTable 50. ESD absolute maximum ratings \nSymbol Ratings Conditions ClassMaximum \nvalue(1)\n1. Guaranteed by characterization resultsUnit\nVESD(HBM)Electrostatic discharge voltage  \n(Human body model)TA = 25°C, conforming to \nJESD22-A114A 4000\nV\nVESD(CDM)Electrostatic discharge voltage  \n(Charge device model)TA= 25°C, conforming to \nSD22-C101\nLQFP32 packageIV 1000\nElectrical characteristics STM8S103F2 STM8S103F3 STM8S103K3\n88/121 DocID15441 Rev 14This test conforms to the EIA/JESD 78 IC la tch-up standard. For more details, refer to the \napplication note AN1181.\n          Table 51. Electrical sensitivities \nSymbol Parameter Conditions Class(1)\n1. Class description: A Class is an STMi croelectronics internal specification.  All its limits are higher than the \nJEDEC specifications, that means when a device belongs to class A it exceeds the JEDEC standard. B \nclass strictly covers all the JEDE C criteria (international standard).LU Static latch-up classTA = 25 °C\nA TA = 85 °C\nTA = 125 °C\nDocID15441 Rev 14 89/121STM8S103F2 STM8S103F3 ST M8S103K3 Package information\n10711 Package information\nIn order to meet environmental requirements, ST offers these devices in different grades of \nECOPACK® packages, depending on their level of environmental compliance. ECOPACK® \nspecifications, grade definitions a nd product status are available at: www.st.com . \nECOPACK® is an ST trademark.\n11.1 LQFP32 package information\nFigure 45. LQFP32 - 32-pin, 7 x 7 mm low-profile quad flat package outline\n1. Drawing is not to scale.$\n$\x11\n$\x13\n%\x13\n%\x11\n%\n\x11 \x18\x19\x11\x16\x11\x17 \x12\x14\n\x12\x15\n\x13\x12\n!\x11\n,\x11,+!\x11!\x12!\nCB\'!5\'%\x000,!.%\x10\x0e\x12\x15\x00MM3%!4).\'\n0,!.%\n#\n0).\x00\x11\n)$%.4)&)#!4)/.CCC#\n\x167@.&@7\x13E\nPackage information STM8S103F 2 STM8S103F3 STM8S103K3\n90/121 DocID15441 Rev 14          \nFigure 46. LQFP32 - 32-pin, 7 x 7 mm low-profile quad flat package recommended \nfootprint\n1. Dimensions are expr essed in millimeters.Table 52. LQFP32 - 32-pin, 7 x 7 mm low-profile quad flat package mechanical data \nSymbolmillimeters inches(1)\n1. Values in inches are converted from mm and rounded to 4 decimal digits.Min Typ Max Min Typ Max\nA  -  - 1.600  -  - 0.0630\nA1 0.050  - 0.150 0.0020  - 0.0059A2 1.350 1.400 1.450 0.0531 0.0551 0.0571\nb 0.300 0.370 0.450 0.0118 0.0146 0.0177\nc 0.090  - 0.200 0.0035  - 0.0079\nD 8.800 9.000 9.200 0.3465 0.3543 0.3622\nD1 6.800 7.000 7.200 0.2677 0.2756 0.2835\nD3  - 5.600  -  - 0.2205  -\nE 8.800 9.000 9.200 0.3465 0.3543 0.3622\nE1 6.800 7.000 7.200 0.2677 0.2756 0.2835\nE3  - 5.600  -  - 0.2205  -\ne  - 0.800  -  - 0.0315  -\nL 0.450 0.600 0.750 0.0177 0.0236 0.0295\nL1  - 1.000  -  - 0.0394  -\nk 0 °3 . 5 °7 ° 0 °3 . 5 °7 °\nccc - - 0.100 - - 0.0039\n\x156?&0?6\x12\x12 \x19\x1a\x12\x17\x12\x18 \x13\x15\n\x13\x16\n\x14\x13\x19\x0e\x17\x10\x17\x0e\x13\x10\n\x17\x0e\x13\x10\n\x11\x0e\x12\x10\x13\x11\x16\x13\x10\x0e\x15\x10\x11\x0e\x12\x10\n\x16\x0e\x11\x10\n\x19\x0e\x17\x10\x10\x0e\x18\x10\n\x16\x0e\x11\x10\nDocID15441 Rev 14 91/121STM8S103F2 STM8S103F3 ST M8S103K3 Package information\n107Device marking\nThe following figure gives an example of topsid e marking orientation versus pin 1 identifier \nlocation. \nOther optional marking or inset/upset marks,  which identify the parts throughout supply \nchain operations, are not indicated below.\nFigure 47. LQFP32 marking example (package top view)  \n1. Parts marked as “ES”,”E” or accompanied by an Engineering Sample notification letter, are not yet \nqualified and therefore not yet ready to be used in  production and any consequences  deriving from such \nusage will not be at ST charge. In no event, ST will  be liable for any customer usage of these engineering \nsamples in production. ST Quality has to be cont acted prior to any decisi on to use these Engineering \nsamples to run qualification activity.06\x16\x1a\x17\x1b\x169\x143URGXFW\x03\nLGHQWLILFDWLRQ\x0b\x14\x0c\n3LQ\x03\x14\x03LGHQWLILHU5HYLVLRQ\x03FRGH\'DWH\x03FRGH\n:8 8\n36WDQGDUG\x0367\x03ORJR45.\x194\x12\x11\x14\n,\x145\x14$\nPackage information STM8S103F 2 STM8S103F3 STM8S103K3\n92/121 DocID15441 Rev 1411.2 UFQFPN32 package information\nFigure 48. UFQFPN32 - 32-pin, 5x5 mm, 0.5 mm pitch ultra thin fine pitch quad flat \npackage outline\n1. Drawing is not to scale.\n2. All leads/pads should be soldered to the PC B to improve the lead/pad solder joint life.\n3. There is an exposed die pad on the underside of t he UFQFPN package. It is recommended to connect and \nsolder this backside pad to PCB ground.\n4. Dimensions are in millimeters.!\x10"\x18?-%?6\x12\x14\n\x16\x15\n3,1\x03\x14\x03,GHQWLILHU6($7,1*\n3/$1(&&GGG$\n$\x14\n$\x15H\nE\'\x14\nE(\x15\n/H\n(\x14(\n\'\x15 /\'\nDocID15441 Rev 14 93/121STM8S103F2 STM8S103F3 ST M8S103K3 Package information\n107          \nFigure 49. UFQFPN32 - 32-pin, 5 x5  mm, 0.5 mm pitch ultra thin fine pitch quad flat \npackage recommended footprint\n1. Dimensions are expr essed in millimeters.\nSection  11.7: UFQFPN recommended footprint  shows the recommended footprints for \nUFQFPN with and without on-board emulation.Table 53. UFQFPN32 - 32-pin, 5x5 mm, 0.5 mm pitch ultra thin fine pitch quad flat \npackage mechanical data \nSymbolmillimeters inches(1)\n1. Values in inches are converted from mm and rounded to 4 decimal digits.Min Typ Max Min Typ Max\nA 0.500 0.550 0.600 0.0197  0.0217 0.0236\nA1  0.000  0.020 0.050  0.0000  0.0008 0.0020A3  - 0.152  -  - 0.0060 -\nb 0.180 0.230 0.280 0.0071 0.0091 0.0110\nD 4.900 5.000 5.100 0.1929 0.1969 0.2008\nD1 3.400 3.500 3.600 0.1339 0.1378 0.1417\nD2 3.400 3.500 3.600 0.1339 0.1378 0.1417\nE 4.900 5.000 5.100 0.1929 0.1969 0.2008\nE1 3.400 3.500 3.600 0.1339 0.1378 0.1417\nE2 3.400 3.500 3.600 0.1339 0.1378 0.1417\ne  - 0.500  -  -  0.0197  -\nL 0.300 0.400 0.500 0.0118 0.0157 0.0197\nddd - - 0.080 - - 0.0031\n$\x13%\x1bB)3B9\x15\x18\x11\x16\x13\n\x16\x11\x1b\x13\n\x13\x11\x19\x13\n\x16\x11\x17\x18\n\x13\x11\x18\x13\x16\x11\x17\x18\x16\x11\x1b\x13\n\x13\x11\x1a\x18\n\x16\x11\x1b\x13\x13\x11\x16\x13\x18\x11\x16\x13\n\x12\x17\x12\x18\n\x1a\x19\x12\x13\x16 \x14\x13\n\x13\x15\nPackage information STM8S103F 2 STM8S103F3 STM8S103K3\n94/121 DocID15441 Rev 14Device marking\nThe following figure gives an example of topsid e marking orientation versus pin 1 identifier \nlocation. \nOther optional marking or inset/upset marks, which identify the parts throughout supply chain operations, are not indicated below.\nFigure 50. UFQFPN32 marking example (package top view)  \n1. Parts marked as “ES”,”E” or accompanied by an Engineering Sample notification letter, are not yet \nqualified and therefore not yet ready to be used in  production and any consequences  deriving from such \nusage will not be at ST charge. In no event, ST will  be liable for any customer usage of these engineering \nsamples in production. ST Quality has to be cont acted prior to any decisi on to use these Engineering \nsamples to run qualification activity.06\x16\x1a\x17\x1b\x179\x143URGXFW\x03\nLGHQWLILFDWLRQ\x0b\x14\x0c\n\'RW\x03\x0bSLQ\x03\x14\x0c\'DWH\x03FRGH\n:8 8\n3 6WDQGDUG\x0367\x03ORJR\x194\x12\x11\x14,\x14\n5HYLVLRQ\x03FRGH\nDocID15441 Rev 14 95/121STM8S103F2 STM8S103F3 ST M8S103K3 Package information\n10711.3 UFQFPN20 package information\nFigure 51. UFQFPN20 - 20-lead, 3x3 mm, 0.5 mm pitch, ultra thin fine pitch quad flat\npackage outline\n1. Drawing is not to scale.\n          Table 54. UFQFPN20 - 20-lead, 3x3 mm, 0.5 mm pitch, ultra thin fine pitch quad flat\npackage mechanical data \nDim.mm inches(1)\nMin Typ Max Min Typ Max\nA 0.500 0.550 0.600 0.0197 0.0217 0.0236\nA1 0.000  0.020 0.050 0.0000  0.0008 0.0020\nA3 - 0.152 - - 0.060 -D 2.900 3.000 3.100 0.1142 0.1181 0.1220\nE 2.900 3.000 3.100 0.1142 0.1181 0.1220\nL1 0.500 0.550 0.600 0.0197 0.0217 0.0236L2 0.300 0.350 0.400 0.0118 0.0138 0.0157!\x10!\x15?-%?6\x13\x11\x15\n\x11\x16 \x12\x10\x11\x15$\nE\nBE\n%\n!\x11\n!DDD\n,\x12\x11\x10,\x11\n!\x13\n,\x15,\x14$\n%\n4/0\x006)%7\n3)$%\x006)%7"/44/-\x006)%70IN\x00\x11\n,\x13\nPackage information STM8S103F 2 STM8S103F3 STM8S103K3\n96/121 DocID15441 Rev 14Section  11.7: UFQFPN recommended footprint  shows the recommended footprints for \nUFQFPN with and without on-board emulation.\nFigure 52. UFQFPN20 - 20-lead, 3x3 mm, 0.5 mm pitch, ultra thin fine pitch quad flat \npackage recommended footprint\n1. Dimensions are expr essed in millimeters.\nDevice marking\nThe following figure gives an example of topsid e marking orientation versus pin 1 identifier \nlocation. \nOther optional marking or inset/upset marks, which identify the parts throughout supply chain operations, are not indicated below.L3 - 0.375 - - 0.0148 -\nL4 - 0.200 - - 0.0079 -\nL5 - 0.150 - - 0.0059 -b 0.180 0.250 0.300 0.0071 0.0098 0.0118\ne - 0.500 - - 0.0197 -\nddd - - 0.050 - - 0.0020\n1. Values in inches are converted fr om mm and rounded to 4 decimal digitsTable 54. UFQFPN20 - 20-lead, 3x3 mm, 0.5 mm pitch, ultra thin fine pitch quad flat\npackage mechanical data (continued)\nDim.mm inches(1)\nMin Typ Max Min Typ Max\n!\x10!\x15?&0?6\x12\nDocID15441 Rev 14 97/121STM8S103F2 STM8S103F3 ST M8S103K3 Package information\n107Figure 53. UFQFPN20 marking example (package top view) \n1. Parts marked as “ES”,”E” or accompanied by an Engineering Sample notification letter, are not yet \nqualified and therefore not yet ready to be used in  production and any consequences  deriving from such \nusage will not be at ST charge. In no event, ST will  be liable for any customer usage of these engineering \nsamples in production. ST Quality has to be cont acted prior to any decisi on to use these Engineering \nsamples to run qualification activity.06\x16\x1a\x17\x1b\x1a9\x143URGXFW\x03\nLGHQWLILFDWLRQ\x0b\x14\x0c\n\'RW\x03\x0bSLQ\x03\x14\x0c\'DWH\x03FRGH\n:8 8 34\x12\x11\x14\n5HYLVLRQ\x03FRGH\nPackage information STM8S103F 2 STM8S103F3 STM8S103K3\n98/121 DocID15441 Rev 1411.4 SDIP32 package information\nFigure 54. SDIP32 package outline\n          Table 55. SDIP32 package mechanical data \nDim.mm inches(1)\nMin Typ Max Min Typ Max\nA 3.556 3.759 5.080 0.1400 0.1480 0.2000 \nA1 0.508 - - 0.0200 - -\nA2 3.048 3.556 4.572 0.1200 0.1400 0.1800 \nB 0.356 0.457 0.584  0.0140 0.0180 0.0230\nB1 0.762 1.016 1.397 0.0300 0.0400 0.0550 \nC 0.203 0.254 0.356 0.0079 0.0100 0.0140 \nD 27.430 27.940 28.450 1.0799 1.1000 1.1201 \nE 9.906 10.410 11.050 0.3900 0.4098 0.4350 \nE1 7.620 8.890 9.398 0.3000 0.3500 0.3700 \ne - 1.778 - - 0.0700 -\neA - 10.160 - - 0.4000 -\x17\x16?-%!\x12\n!\x11!\n,\n"\x11 " E\nE!\n$$\n\x11\x13\x12\n\x11\x16\x11\x17%\x11%\n#\nE"\nDocID15441 Rev 14 99/121STM8S103F2 STM8S103F3 ST M8S103K3 Package information\n107Device marking\nThe following figure gives an example of topsid e marking orientation versus pin 1 identifier \nlocation. \nOther optional marking or inset/upset marks, which identify the parts throughout supply chain operations, are not indicated below.\nFigure 55. SDIP32 marking example (package top view)  \n1. Parts marked as “ES”,”E” or accompanied by an Engineering Sample notification letter, are not yet \nqualified and therefore not yet ready to be used in  production and any consequences  deriving from such \nusage will not be at ST charge. In no event, ST will  be liable for any customer usage of these engineering \nsamples in production. ST Quality has to be cont acted prior to any decisi on to use these Engineering \nsamples to run qualification activity.eB - - 12.700 - - 0.5000\nL 2.540 3.048 3.810 0.1000 0.1200 0.1500\n1. Values in inches are converted fr om mm and rounded to 4 decimal digitsTable 55. SDIP32 package mechanical data (continued)\nDim.mm inches(1)\nMin Typ Max Min Typ Max\n06\x16\x1a\x17\x1b\x159\x143URGXFW\x03\nLGHQWLILFDWLRQ\x0b\x14\x0c\n3LQ\x03\x14\x03LGHQWLILHU \'DWH\x03FRGH\n:8 83 6WDQGDUG\x0367\x03ORJR45.\x194\x12\x11\x14,\x14#\x175HYLVLRQ\x03FRGH\nPackage information STM8S103F 2 STM8S103F3 STM8S103K3\n100/121 DocID15441 Rev 1411.5 TSSOP20 package information\nFigure 56. TSSOP20 package outline\n          Table 56. TSSOP20 package mechanical data \nDim.  mm inches(1)\n1. Values in inches are converted from mm and rounded to 4 decimal digits. Min  Typ  Max  Min  Typ  Max \nA - - 1.200 - - 0.0472 \nA1 0.050 - 0.150 0.0020 - 0.0059 \nA2 0.800 1.000 1.050 0.0315 0.0394 0.0413 b 0.190 - 0.300 0.0075 - 0.0118 \nc 0.090 - 0.200 0.0035 - 0.0079 \nD\n(2)\n2. Dimension “D” does not include mold fl ash, protrusions or gate burrs. Mold  flash, protrusions or gate burrs \nshall not exceed 0.15mm per side.6.400 6.500 6.600 0. 2520 0.2559 0.2598 \nE 6.200 6.400 6.600 0.2441 0.2520 0.2598 \nE1(3)4.300 4.400 4.500 0. 1693 0.1732 0.1772 \ne - 0.650 - - 0.0256 -L 0.450 0.600 0.750 0.0177 0.0236 0.0295 \nL1 - 1.000 - - 0.0394 -\nk 0.0° - 8.0° 0.0° - 8.0° aaa - - 0.100 - - 0.0039 z\x04ͺD\x1cͺsϯϭϮϬ\n\x12Đ\n>\x1c\x1cϭ\x18\n\x04Ϯ \x04Ŭ\nĞ ďϭϬϭϭ\n\x04ϭ\n>ϭĂĂĂ^\x1c\x04d/E\'\nW>\x04E\x1c\n\x12\'\x04h\'\x1c\x03W>\x04E\x1cϬ͘Ϯϱ\x03ŵŵ\nW/E\x03ϭ\n/\x18\x1cEd/&/\x12\x04d/KE\nDocID15441 Rev 14 101/121STM8S103F2 STM8S103F3 ST M8S103K3 Package information\n107Figure 57. TSSOP20 recommended package footprint\n1. Dimensions are expr essed in millimeters.3. Dimension “E1” does not include interlead flash or pr otrusions. Interlead flash or protrusions shall not \nexceed 0.25mm per side.\n9!?&0?6\x11\x1a\x11\x14\x13 \x17\x11\x17\x13\x13\x11\x15\x18\x13\x11\x15\x18\n\x19\x11\x15\x18\n\x14\x11\x16\x18\n\x13\x11\x17\x13\x13\x11\x19\x18\x14\x11\x16\x18\n\x14\x15\x13 \x14\x14\n\x14\x13\nPackage information STM8S103F 2 STM8S103F3 STM8S103K3\n102/121 DocID15441 Rev 14Device marking\nThe following figure gives an example of topsid e marking orientation versus pin 1 identifier \nlocation. \nOther optional marking or inset/upset marks, which identify the parts throughout supply chain operations, are not indicated below.\nFigure 58. TSSOP20 marking example (package top view) \n1. Parts marked as “ES”,”E” or accompanied by an Engineering Sample notification letter, are not yet \nqualified and therefore not yet ready to be used in  production and any consequences  deriving from such \nusage will not be at ST charge. In no event, ST will  be liable for any customer usage of these engineering \nsamples in production. ST Quality has to be cont acted prior to any decisi on to use these Engineering \nsamples to run qualification activity.06\x16\x1a\x17\x1b\x199\x143URGXFW\x03\nLGHQWLILFDWLRQ\x0b\x14\x0c\n3LQ\x03\x14\x03LGHQWLILHU 5HYLVLRQ\x03FRGH \'DWH\x03FRGH\n:8 8 36WDQGDUG\x0367\x03ORJR\n\x194\x12\x11\x14\'\x141\x14\nDocID15441 Rev 14 103/121STM8S103F2 STM8S103F3 ST M8S103K3 Package information\n10711.6 SO20 package information\nFigure 59. SO20 package outline\n          \nDevice marking\nThe following figure gives an example of topsid e marking orientation versus pin 1 identifier \nlocation. Table 57. SO20 mechanical data \nDim. mm inches(1)\n1. Values in inches are converted from mm and rounded to 4 decimal digits.Min Typ Max Min Typ Max \nA 2.350 - 2.650 0.0925 - 0.1043\nA1 0.100 - 0.300 0.0039 - 0.0118\nB 0.330 - 0.510 0.013 - 0.0201C 0.230 - 0.320 0.0091 - 0.0126\nD 12.600 - 13.000 0.4961 - 0.5118\nE 7.400 - 7.600 0.2913 - 0.2992e - 1.270 - - 0.0500 -\nH 10.000 - 10.650 0.3937 - 0.4193\nh 0.250 - 0.750 0.0098 - 0.0295L 0.400 - 1.270 0.0157 - 0.0500\nk 0.0° - 8.0° 0.0° - 8.0°\nddd - - 0.100 - - 0.0039:\x17?-%?6\x12(\nH\'\n&\n+\n%$\x14/ $\x14K\x03[\x03\x17\x18\x83\n$\nGGGN*$8*(\x033/$1(\x13\x11\x15\x18\x03PP\nPackage information STM8S103F 2 STM8S103F3 STM8S103K3\n104/121 DocID15441 Rev 14Other optional marking or inset/upset marks, which identify the parts throughout supply \nchain operations, are not indicated below.\nFigure 60. SO20 marking example (package top view) \n1. Parts marked as “ES”,”E” or accompanied by an Engineering Sample notification letter, are not yet \nqualified and therefore not yet ready to be used in  production and any consequences  deriving from such \nusage will not be at ST charge. In no event, ST will  be liable for any customer usage of these engineering \nsamples in production. ST Quality has to be cont acted prior to any decisi on to use these Engineering \nsamples to run qualification activity.\n11.7 UFQFPN reco mmended footprint\nFigure 61. UFQFPN recommended footprint for on-board emulation06\x16\x1a\x17\x1b\x189\x143URGXFW\x03\nLGHQWLILFDWLRQ\x0b\x14\x0c\n3LQ\x03\x14\x03LGHQWLILHU5HYLVLRQ\x03FRGH\n\'DWH\x03FRGH\n:8836WDQGDUG\x0367\x03ORJR\n45.\x194\x12\x11\x14\'\x13.\x17\n\x17PP\n>\x13\x11\x14\x18\x1a\x05@\n\x17PP\x03\x03>\x13\x11\x14\x18\x1a\x05@\x13\x11\x18PP\x13\x11\x18PP\n\x13\x11\x16PP\x03\x03>\x13\x11\x13\x14\x15\x05@\x13\x11\x1cPP\n>\x13\x11\x13\x16\x18\x05@\x13\x11\x1bPP\n>\x13\x11\x13\x16\x15\x05@\n\x14\x11\x19\x18PP\x03\x03>\x13\x11\x13\x19\x18\x05@\n\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03DL\x14\x18\x16\x14\x1c%RWWRP\x03YLHZ\nDocID15441 Rev 14 105/121STM8S103F2 STM8S103F3 ST M8S103K3 Package information\n107Figure 62. UFQFPN recommended footprint without on-board emulation\n06\x16\x19\x17\x1c\x1b9\x14\x16\x11\x16\x13\n\x13\x11\x16\x13 \x18\x15\x11\x15\x13\n\x13\x11\x18\x13\n\x16\x11\x16\x13\x13\x11\x18\x13\x13\x11\x18\x18\x15\x11\x16\x13\x13\x11\x18\x13\n\x15\x11\x15\x13\n\x14\x13 \x19\x14\x14\x14\x18\x14\x19 \x15\x13\n\x14\x15\x11\x16\x13\nThermal characteristics STM8S103F2 STM8S103F3 STM8S103K3\n106/121 DocID15441 Rev 1412 Thermal characteristics\nThe maximum junction temperature (TJmax) of the device must never exceed the values \nspecified in  Table  19: General operating conditions , otherwise the functionality of the device \ncannot be guaranteed.\nThe maximum junction temperature TJmax, in degrees Celsius, may be calculated using the \nfollowing equation:\nTJmax = TAmax + (PDmax  x ΘJA)\nWhere:\n• TAmax is the maximum ambient temperature in °C\n•ΘJA is the package junction-to-ambient thermal resistance in ° C/W\n• PDmax  is the sum of PINTmax  and PI/Omax (PDmax  = PINTmax  + PI/Omax )\n• PINTmax  is the product of IDD and VDD, expressed in Watts. This is the maximum chip \ninternal power.\n• PI/Omax  represents the maximum power dissipation on output pins  \nWhere:  \nPI/Omax = Σ (VOL*IOL) + Σ((VDD-VOH)*IOH),  \ntaking into account the actual VOL/IOL and VOH/IOH of the I/Os at low and high level in \nthe application.\n          \n12.1 Reference document\nJESD51-2 integrated circuits thermal test method environment conditions - natural convection (still air). Available from www.jedec.org.Table 58. Thermal characteristics(1) \n1. Thermal resistances are based on JEDEC JESD51- 2 with 4-layer PCB in a natural convection \nenvironment.Symbol Parameter Value Unit\nΘJAThermal resistance junction-ambient  \nTSSOP20 - 4.4mm84\n°C/WThermal resistance junction-ambient  \nSO20W (300 mils)91\nThermal resistance junction-ambient  \nUFQFPN20 - 3 x 3 mm90\nThermal resistance junction-ambient  \nLQFP32 - 7 x 7 mm60\nThermal resistance junction-ambient  \nUFQFPN32 - 5 x 5 mm38\nThermal resistance junction-ambient  \nSDIP32 - 400 mils60\nDocID15441 Rev 14 107/121STM8S103F2 STM8S103F3 STM8 S103K3 Thermal characteristics\n10712.2 Selecting the prod uct temperature range\nWhen ordering the microcontroller, the temperature range is specified in the order code (see \nSection  13: Ordering information ).\nThe following example shows how to calculate the temperature range needed for a given \napplication. \nAssuming the following ap plication conditions:\nMaximum ambient temperature TAmax= 75°C (measured according to JESD51-2), \nIDDmax = 8 mA, VDD = 5 V, maximum 20 I/Os used at the same time in output at low \nlevel with \nIOL = 8 mA, VOL= 0.4 V\nPINTmax  = 8 mA x 5 V= 400 mW\nPIOmax  = 20 x 8 mA x 0.4 V = 64 mW\nThis gives: PINTmax = 400 mW and PIOmax  64 mW:\nPDmax  = 400 mW + 64 mW\nThus: PDmax  = 464 mW.\nUsing the values obtained in Table  58: Thermal characteristics on page  106 TJmax is \ncalculated as follows:\nFor LQFP32 60 °C/W \nTJmax = 75 °C + (60 °C/W x 464 mW) = 75 °C + 27.8 °C = 102.8 °C\nThis is within the range of the suffix 6 version parts (-40 < TJ < 105 °C).\nParts must be ordered at least with the temperature range suffix 6.\nOrdering information STM8S1 03F2 STM8S103F3 STM8S103K3\n108/121 DocID15441 Rev 1413 Ordering information\nFigure 63. STM8S103F2/x3 access line ordering information scheme(1) \n1. A dedicated ordering information scheme will be rel eased if, in the future, memory programming service \n(FastROM) is required The letter “P” will be added a fter STM8S. Three unique letters identifying the \ncustomer application code will al so be visible in the codificati on. Example: STM8SP103K3MACTR.\n2. UFQFPN, TSSOP, and SO packages.3. LQFP package.STM8 S 103 K 3 T 6 TR\nProduct class\nSTM8 microcontroller\nProgram memory size\n3 = 8 Kbytes\n2 = 4 Kbytes\nPackage type\nB = SDIP\nT = LQFP\nU = UFQFPNP = TSSOP\nM = SOExample:\nSub-family type\n10x = Access line\n103 sub-familyFamily type\nS = Standard\nTemperature range3 = -40 to 125 °C\n6 = -40 to 85 °C\nPacking\nNo character = Tray or tubeTR = Tape and reelPin countK = 32 pinsF= 20 pins\nPackage pitch\nBlank = 0.5 to 0.65 mm\n(2)\nC = 0.8 mm(3)\nDocID15441 Rev 14 109/121STM8S103F2 STM8S103F3 ST M8S103K3 Ordering information\n115For a list of available options (for example memory size, package) and orderable part \nnumbers or for further information on any aspect of this device, please go to www.st.com  or \ncontact the ST Sales Of fice nearest to you. \n13.1 STM8S103 FASTROM microcontroller option list\n(last update: April 2010)\nThe preferable format for programing code is .hex (. s19 is accepted) \nIf data EEPROM programing is required, a separa te file must be sent  with the requested \ndata. \nNote: See the option byte section in the datasheet for authorized option byte combinations and a \ndetailed explanation. Do not use more than one remapping option in the same port. It is forbidden to enable both AFR1 and AFR0.\nDevice type/memory size/package (check only one option)\nConditioning (check only one option)\n[ ] Tape and reel or [ ] Tray\nSpecial marking (check only one option) \n[ ] No [ ] Yes\nAuthorized characters are letters, digits, \'.\',  \'-\', \'/\' and spaces only. Maximum character \ncounts are: \nUFQFPN20: 1 line of 4 characters max: “_ _ _ _” \nUFQFPN32: 1 line of 7 characters max: “_ _ _ _ _ _ _” LQFP32: 2 lines of 7 characters max: “_ _ _ _ _ _ _” and “_ _ _ _ _ _ _” TSSOP20/SO20: 1 line of 10 characters max: “_ _ _ _ _ _ _ _ _ _” \nThree characters are reserved  for code identification. Customer ...............................................................................\nAddress ...............................................................................\nContact ...............................................................................\nPhone number ...............................................................................FASTROM code reference\n(1)\n1. The FASTROM code name is as signed by STMicroelectronics................................................................................\nFASTROM device 4 Kbyte 8 Kbyte\nLQFP32 - [ ] STM8S103K3\nUFQFPN20 [ ] STM8S103F2 [ ] STM8S103F3\nUFQFPN32 - [ ] STM8S103K3TSSOP20 [ ] STM8S1 03F2 [ ] STM8S103F3\nSO20W [ ] STM8S103 F2 [ ] STM8S103F3\nOrdering information STM8S1 03F2 STM8S103F3 STM8S103K3\n110/121 DocID15441 Rev 14Temperature range \n[ ] -40°C to +85°C or [ ] -40°C to +125°C \nPadding value for unused program memory (check only one option)\nOTP0 memory readout protection (check only one option) \n[ ] Disable or [ ] Enable \nOTP1 user boot code area (UBC) \n0x(_ _) fill in the hexadecimal value, referring to the datasheet and the binary format below:\nOTP0 memory readout protection (check only one option) \n[ ] Disable or [ ] Enable \nOTP2 alternate function remapping for STM8S103K \nDo not use more than one remapping option in the same port. It is forbidden to enable both \nAFR1 and AFR0.[ ] 0xFF Fixed value\n[ ] 0x83 TRAP instruction code\n[ ] 0x75 Illegal opcode (causes a reset when executed)\nUBC, bit0[ ] 0: Reset\n[ ] 1: Set\nUBC, bit1[ ] 0: Reset\n[ ] 1: Set\nUBC, bit2[ ] 0: Reset\n[ ] 1: Set\nUBC, bit3[ ] 0: Reset\n[ ] 1: Set\nUBC, bit4[ ] 0: Reset\n[ ] 1: Set\nUBC, bit5[ ] 0: Reset\n[ ] 1: Set\nUBC, bit6[ ] 0: Reset\n[ ] 1: Set\nUBC, bit7[ ] 0: Reset\n[ ] 1: Set\nDocID15441 Rev 14 111/121STM8S103F2 STM8S103F3 ST M8S103K3 Ordering information\n115          \nOPT3 watchdog\nOPT4 watchdogAFR0 Reserved\nAFR1\n(check only one option) [ ] 1: Port A3 alternate function = SPI_NSS and port D2 \nalternate function = TIM2_CH3 \n[ ] 0: Remapping option inactive. Default alternate functions \nused. Refer to pinout description \nAFR2 Reserved\nAFR3 Reserved\nAFR4 Reserved\nAFR5\n(check only one option) [ ] 0: Remapping option inactive. Default alternate functions \nused. Refer to pinout description \n[ ] 1: Port D0 altern ate function = CLK_CCO \nAFR6\n(check only one option)[ ] 0: Remapping option inactive. Default alternate functions \nused. Refer to pinout description \n[ ] 1: Port D7 altern ate function = TIM1_CH4\nAFR7 Reserved\nWWDG_HALT\n(check only one option)[ ] 0: No reset generated on halt if WWDG active[\n[ ] 1: Reset generated on halt if WWDG active \nWWDG_HW\n(check only one option)[ ] 0: WWDG activated by software \n[ ] 1: WWDG activated by hardware\nIWDG_HW\n(check only one option)[ ] 0: IWDG activated by software \n[ ] 1: IWDG activated by hardware\nLSI_EN\n(check only one option)[ ] 0: LSI clock is not available as CPU clock source \n[ ] 1: LSI clock is available as CPU clock source\nHSITRIM\n(check only one option)[ ] 0: 3-bit trimming supported in CLK_HSITRIMR register\n[ ] 1: 4-bit trimming supported in CLK_HSITRIMR register\nPRSC\n(check only one option)[ ] for 16 MHz to 128 kHz prescaler \n[ ] for 8 MHz to 128 kHz prescaler[ ] for 4 MHz to 128 kHz prescaler \nCKAWUSEL\n(check only one option)[ ] LSI clock source selected for AWU\n[ ] HSE clock with prescaler sele cted as clock source for AWU\nEXTCLK\n(check only one option)[ ] External crystal connected to OSCIN/OSCOUT\n[ ] External signal on OSCIN\nOrdering information STM8S1 03F2 STM8S103F3 STM8S103K3\n112/121 DocID15441 Rev 14OPT5 crystal oscillator stabilization HSECNT (check only one option) \n[ ] 2048 HSE cycles \n[ ] 128 HSE cycles \n[ ] 8 HSE cycles \n[ ] 0.5 HSE cycles \nOTP6 is reserved\nComments: .........................................................................................\nSupply operating range in the application: ..................................................................................... ....\nNotes: .........................................................................................\nDate: .........................................................................................Signature: .........................................................................................\nDocID15441 Rev 14 113/121STM8S103F2 STM8S103F3 STM8S1 03K3 STM8 development tools\n11514 STM8 development tools\nDevelopment tools for the STM8 microcontrollers include the full-featured STice emulation \nsystem supported by a complete software tool package including C compiler, assembler and integrated development environment with high-l evel language debugger. In addition, the \nSTM8 is to be supported by a complete range of tools including starter kits, evaluation boards and a low-cost in-circuit debugger/programmer.\n14.1 Emulation and in-c ircuit debugging tools\nThe STice emulation system offers a complete range of emulation and in-circuit debugging \nfeatures on a platform that is designed for versatility and cost-effec tiveness. In addition, \nSTM8 application development is supported by a low-cost in-circuit debugger/programmer. \nThe STice is the fourth generation of full fe atured emulators from STMicroelectronics. It \noffers new advanced debugging  capabilities including profilin g and coverage to help detect \nand eliminate bottlenecks in application execution and dead code when fine tuning an application. \nIn addition, STice offers in-circuit debugging  and programming of STM8 microcontrollers via \nthe STM8 single wire interface module (SWIM), which allows non-intrusive debugging of an \napplication while it runs on the target microcontroller. \nFor improved cost effectiveness, STice is based on a modular design that allows you to \norder exactly what you need to meet your development requirements and to adapt your emulation system to support existing  and future ST microcontrollers.\n14.1.1 STice key features\n• Occurrence and time profiling and code coverage (new features),\n• Advanced breakpoints with up to 4 levels of conditions, \n• Data breakpoints,\n• Program and data trace recording up to 128 KB records,\n• Read/write on the fly of memory during emulation, \n• In-circuit debugging/progra mming via SWIM protocol,\n• 8-bit probe analyzer,\n• 1 input and 2 output triggers, \n• Power supply follower managing application voltages between 1.62 to 5.5 V, \n• Modularity that allows you to specify the components you need to meet your \ndevelopment requirements and adapt to future requirements. \n• Supported by free software tools that include integrated development environment \n(IDE), programming software interface and assembler for STM8.\nSTM8 development tools STM8S103F2 STM8S103F3 STM8S103K3\n114/121 DocID15441 Rev 1414.2 Software tools\nSTM8 development tools are supported by a complete, free software package from \nSTMicroelectronics that includes ST Vis ual Develop (STVD) IDE and the ST Visual \nProgrammer (STVP) software interface. STVD provides seamless integration of the Cosmic and Raisonance C compilers for STM8, which are available in a free version that outputs up to 16 Kbytes of code.\n14.2.1 STM8 toolset\nThe STM8 toolset  with STVD integrated development environment and STVP programming \nsoftware is available for free download at www.st.com . This package includes:\nST visual develop\nFull-featured integrated development environment from STMicroelectronics, featuring:\n• Seamless integration of C and ASM toolsets\n• Full-featured debugger\n• Project management\n• Syntax highlighting editor\n• Integrated programming interface\n• Support of advanced emulatio n features for STice such as  code profiling and coverage\nST visual programmer (STVP)\nEasy-to-use, unlimited graphical interface allowi ng read, write and verification of the STM8 \nFlash program memory, data EEPR OM and option bytes.  STVP also offers project mode for \nthe saving of programming configurations and the automation of programming sequences.\n14.2.2 C and assembly toolchains\nControl of C and assembly toolchains is seam lessly integrat ed into the STVD integrated \ndevelopment environment, making it possible to configure and control the building of user applications directly from an easy-to-use graphical interface.\nAvailable toolchains include:\nC compiler for STM8\nAvailable in a free version that outputs up to 16 Kbytes of code. For more information, see \nwww.cosmic-software.com.\nSTM8 assembler linker\nFree assembly toolchain included in the STVD toolset, used to assemble and link the user application source code.\nDocID15441 Rev 14 115/121STM8S103F2 STM8S103F3 STM8S1 03K3 STM8 development tools\n11514.3 Programming tools\nDuring the development cycle, STice provides in-circuit pr ogramming of the STM8 Flash \nmicrocontroller on the application board via th e SWIM protocol. Additional tools include a \nlow-cost in-circuit programme r as well as ST socket boards, which provide dedicated \nprogramming platforms with sockets for the STM8 programming.\nFor production environments, programmers will include a comp lete range of  gang and \nautomated programming solutions from thir d-party tool developers already supplying \nprogrammers for the STM8 family.\nRevision history STM8S103F2 STM8S103F3 STM8S103K3\n116/121 DocID15441 Rev 1415 Revision history\n          Table 59. Document revision history\nDate Revision Changes\n 02-Mar-2009 1 Initial release.\n10-Apr-2009 2Added Table 2: Peripheral clock gating bit assignments in \nCLK_PCKENR1/2 registers .\nUpdated Section 4.8: Auto wakeup counter .\nModified the description of PB4 and PB5 (removed X in PP column) \nand added footnote concerning HS I/Os in Section 5.1: STM8S103K3 \nUFQFPN32/LQFP32/SDIP32 pinout  and pin   description  and \nSection 5.2: STM8S103F2/F3 TSSOP20/SO20/UFQFPN20 pinout \nand pin  description .\nRemoved TIM3 and UART from Table 10: Interrupt mapping .\nUpdated VCAP specifications in Section 10.3.1: VCAP external \ncapacitor\nCorrected the block size in Table 37: Flash program memory/data \nEEPROM memory t\nUpdated Section 10: Electrical characteristics .\nUpdated Section 12: Thermal characteristics .\n10-Jun-1999 3Document status changed from “preliminary data” to “datasheet”.\nReplaced WFQFPN20 package with UFQFPN package.Replaced ‘VFQFN’ with ‘VFQFPN’.\nAdded bullet point on the unique identifier to Features .\nUpdated Section 4.8: Auto wakeup counter .\nUpdated wpu and PP status of PB5/12C_SDA and PB4/12C_SCL \npins in Section 5.1: STM8S103K3 UFQFPN32/LQFP32/SDIP32 \npinout and pin   description  and Section 5.2: STM8S103F2/F3 \nTSSOP20/SO20/UFQFPN20 pinout and pin  description .\nRemoved Table 7: Pin-to-pin comparison of pin 7 to 12 in 32-pin \naccess line devices.\nUpdated Section 6.1: Memory map .\nUpdated reset status of port D CR1 register in Table 7: I/O port \nhardware register map .\nUpdated alternate function remapping descriptions in Table 13: \nSTM8S103K3 alternate function remapping bits for 32-pin devices  \nand Table 14: STM8S103Fx alternate function remapping bits for 20-\npin devices .\nAdded Section 9: Unique ID .\nUpdated Section 10.3: Operating conditions .\nUpdated the caption of Figure 20: Typical HSI frequency variation vs \nV\nDD @ 4 temperatures .\nUpdated Table 43: SPI characteristics  and added TBD occurrences.\nAdded max values to Table 46: ADC accuracy with RAIN< 10 k Ω, VDD= \n5 V and Table 47: ADC accuracy with RAIN< 10 k Ω, VDD= 3.3 V .\nUpdated Section 10.3.11: EMC characteristics .\nDocID15441 Rev 14 117/121STM8S103F2 STM8S103F3 ST M8S103K3 Revision history\n12016-Oct-1999 4Replaced VFQFPN32 package by UFQFPN32 package.\n–Section 4.5: Clock controller : replaced TIM2 and TIM3 with reserved \nand TIM2 respectively in Table 2: Peripheral clock gating bit \nassignments in CLK_PCKENR1/2 registers\n–Total current consumption in halt mode : changed the maximum \ncurrent consumption limit at 125 °C (and VDD= 5 V) from 35 µA to \n55 µA.\n–Functional EMS (electromagnetic susceptibility) : renamed ESD as \nFESD (functional); added name of AN1709; replaced EC 1000 with IEC 61000.\n–Designing hardened software to avoid noise problems : replaced \nIEC 1000 with IEC 61000, added title of AN1015, and added \nfootnote to EMS data table.\n–Electromagnetic interference (EMI) : replaced J 1752/3 with IEC \n61967-2 and updated data of the EMI data table.\n–Section 12.2: Selecting the product temperature range : changed the \nvalue of LQFP32 7x7 mm thermal resistance from 59 °C/W to 60 °C/W.\nAdded Section 13.1: STM8S103 FASTROM microcontroller option list . \n22-Apr-2010 5Added VFQFPN32 and SO20 packages.\nUpdated Px_IDR reset value in Table 7: I/O port hardware register \nmap.\n–Section 10.3: Operating conditions : updated VCAP and ESR low \nlimit, added ESL parameter, and Note 1 below Table 19: General \noperating conditions\nUpdated ACCHSI in Table 34: HSI oscillator characteristics . Modified \nIDD(H)inand. Removed note 3 relate d to Accuracy of HSI oscillator.\nUpdated maximum power dissipation in Table 19: General operating \nconditions .\nUpdated Section 12: Thermal characteristics\nReplaced package pitch digit by VFQFPN/UFQFPN package digit in \nFigure 63: STM8S103F2/x3 access line ordering information \nscheme\n(1), and removed note 1.Table 59. Document revision history\nDate Revision Changes\nRevision history STM8S103F2 STM8S103F3 STM8S103K3\n118/121 DocID15441 Rev 1409-Sep-2010 6Removed VFQFPN32 package.\nRemoved internal reference voltage from Section 4.13: Analog-to-\ndigital converter (ADC1) .\nUpdated the reset state information in Table 4: Legend/abbreviations \nfor pin description tables  in Section 5: Pinout and pin description . \nAdded footnote to PD1/SWIM pin in Table 5: STM8S103K3 pin \ndescriptions . \nUpdated pins 14 and 19 (TSSOP20/SO20) / pins 11 and 16 \n(UFQFPN20) in Table 6: STM8S103F2 and STM8S103F3 pin \ndescriptions .\nStandardized all reset state values; updated the reset state values of \nthe RST_SR, CLK_SWCR, CLK_HSITRIMR, CLK_SWIMCCR, \nIWDG_KR, and ADC_DRx registers in Table 8: General hardware \nregister map .\nUpdated AFR2 description of OPT 2 in Table 14: STM8S103Fx \nalternate function remapping bits for 20-pin devices s.\nReplaced 0.01 µF with 0.1 µf in Figure 38: Recommended reset pin \nprotection .\nAdded Figure 42: Typical application with I2C bus and timing diagram  \nand Table 44: I2C characteristics . \nUpdated footnote 1 in Table 46: ADC accuracy with RAIN< 10 k Ω, \nVDD= 5 V  and Table 47: ADC accuracy with RAIN< 10 k Ω, VDD= 3.3 V . \nUpdated the Special marking section in Section 13.1: STM8S103 \nFASTROM microcontroller option list :\nUpdated AFR2 description of OTP2 in Table 14: STM8S103Fx \nalternate function remapping bits for 20-pin devices\nUpdated existing footnote and added three additional footnotes to \nTable 53: UFQFPN32 - 32-pin, 5x5 mm, 0.5 mm pitch ultra thin fine \npitch quad flat package mechanical data\n12-Jul-2011 7Updated the note related to true open-drain outputs in Table 6: \nSTM8S103F2 and STM8S103F3 pin descriptions\nRemoved CLK_CANCCR register from Table 8: General hardware \nregister map . \nAdded note for Px_IDR registers in Table 7: I/O port hardware register \nmap.\nAdded recommendation concerning NRST pin level, and power \nconsumption sensitiv e applications, above Figure 38: Recommended \nreset pin protection .\nRemoved typical HSI accuracy curve in Section 10.3.4: Internal clock \nsources and timing characteristics .\nRenamed package type 2 into package pitch and added pitch code \n“C” in Figure 63: STM8S103F2/x3 access line ordering information \nscheme(1) and added UFQFPN20 in Section 13.1: STM8S103 \nFASTROM microcontroller option list .\nUpdated the disclaimer.Table 59. Document revision history\nDate Revision Changes\nDocID15441 Rev 14 119/121STM8S103F2 STM8S103F3 ST M8S103K3 Revision history\n12004-Apr-2012 8Updated notes related to VCAP in Table 19: General operating \nconditions .\nAdded values of tR/tF for 50 pF load capacitance, and updated note in \nTable 38: I/O static characteristics .\nUpdated typical and maximum values of RPU in Table 38: I/O static \ncharacteristics  and Table 42: NRST pin characteristics .\nChanged SCK input to SCK output in Section 10.3.8: SPI serial \nperipheral interface\nModified Figure 51: UFQFPN20 - 20-lead, 3x3 mm, 0.5 mm pitch, \nultra thin fine pitch quad flat  package outline  to add package top view.\n26-Jun-2012 9 Added Section 11.4: SDIP32 package information .\n04-Feb-2015 10Updated Section 11.5: TSSOP20 package information  and \nSection 11.3: UFQFPN20  package information .\n10-Mar-2015 11Updated:\n–Table 34: HSI oscillator characteristics : corrected HSI oscillator \naccuracy (factory calibrated) for VDD = 5 V and TA = 25 °C.\n–Table 38: I/O static characteristics : corrected the max. value for \nTR/TF, Fast I/Os, Load = 50 pF.\nAdded:–Figure 23: Typical pull-up current vs V\nDD @ 4 temperatures ,\n– the rows for TR/TF, Fast I/Os, Load = 20 pF in Table 38: I/O static \ncharacteristics ,\n–Figure 47: LQFP32 marking example (package top view) ,\n–Figure 50: UFQFPN32 marking example (package top view) ,\n–Figure 53: UFQFPN20 marking example (package top view) ,\n–Figure 55: SDIP32 marking example (package top view) ,\n–Figure 58: TSSOP20 marking example (package top view) ,\n–Figure 60: SO20 marking example (package top view) .\n26-Mar-2015 12Corrected the values for “b” dimensions in Table 53: UFQFPN32 - 32-\npin, 5x5 mm, 0.5 mm pitch ultra thin fine pitch quad flat package \nmechanical data .Table 59. Document revision history\nDate Revision Changes\nRevision history STM8S103F2 STM8S103F3 STM8S103K3\n120/121 DocID15441 Rev 1403-Oct-2016 13Updated:\n– Name of “LQFP32 package” to “LQFP32 - 32-pin, 7 x 7 mm low-\nprofile quad flat package” on Table 52: LQFP32 - 32-pin, 7 x 7 mm \nlow-profile quad flat package mechanical data , Figure 45: LQFP32 - \n32-pin, 7 x 7 mm low-profile quad flat package outline  and \nFigure 46: LQFP32 - 32-pin, 7 x 7 mm low-profile quad flat package \nrecommended footprint\n–Section 10.2: Absolu te maximum ratings\n–Section 10.3.10: 10-bit ADC characteristics\n–Figure 40: SPI timing diagram where slave mode and CPHA = 1\n–Figure 41: SPI timing diagram - master mode\n–Figure 43: ADC accuracy characteristics\n–Figure 63: STM8S103F2/x3 access line ordering information \nscheme(1): corrected package name from VFQFPN to UFQFPN\n–Table 8: General hardware register map\n–Table 16: Voltage characteristics\n–Table 17: Current characteristics\n–Table 19: General operating conditions\n–Table 20: Operating conditions at power-up/power-down\n–Table 21: Total current consumptio n with code execution in run \nmode at VDD = 5 V\n–Table 31: Peripheral current consumption\n–Table 49: EMI data\n– Updated footnotes on Table 18: Thermal characteristics , Table 38: \nI/O static ch aracteristics , Table 43: SPI characteristics , Figure 45: \nLQFP32 - 32-pin, 7 x 7 mm low-profile quad flat package outline , \nFigure 48: UFQFPN32 - 32-pin, 5x5 mm, 0.5 mm pitch ultra thin fine \npitch quad flat package outline .\n– Updated all the “Device marking” sections on Section 11: Package \ninformation\n13-Feb-2017 14Updated:\n–Section 10.2: Absolu te maximum ratings\n–Section 11.3: UFQFPN20 package information\n–Table 5: STM8S103K3 pin descriptions\n–Table 6: STM8S103F2 and STM8S103F3 pin descriptions\n–Table 21: Total current consumptio n with code execution in run \nmode at VDD = 5 V\n– Footnotes in all tables of Section 10: Electrical characteristics\nAdded:\n–Figure 52: UFQFPN20 - 20-lead, 3x3 mm, 0.5 mm pitch, ultra thin \nfine pitch quad flat package recommended footprintTable 59. Document revision history\nDate Revision Changes\nDocID15441 Rev 14 121/121STM8S103F2 STM8S1 03F3 STM8S103K3\n121          \nIMPORTANT NOTICE – PLEASE READ CAREFULLY\nSTMicroelectronics NV and its subsidiaries (“ST”) reserve the right to make changes, corrections, enhancements, modifications, and \nimprovements to ST products and/or to this document at any time without notice. Purchasers should obtain the latest relevant in formation on \nST products before placing orders. ST products are sold pursuant to ST’s terms and conditions of sale in place at the time of o rder \nacknowledgement.\nPurchasers are solely responsible for the choice, selection, and use of ST products and ST assumes no liability for application  assistance or \nthe design of Purchasers’ products.\nNo license, express or implied, to any intellectual property right is granted by ST herein.Resale of ST products with provisions different from the information set forth herein shall void any warranty granted by ST for  such product.\nST and the ST logo are trademarks of ST. All other product or service names are the property of their respective owners.Information in this document supersedes and replaces information previously supplied in any prior versions of this document.\n© 2017 STMicroelectronics – All rights reserved\n'}]
!==============================================================================!
### Component Summary: STM8S103F3P3TR

#### Key Characteristics and Specifications:
- **Voltage Ratings**: 
  - Operating Voltage: 2.95 to 5.5 V
- **Current Ratings**: 
  - Supply Current (Run Mode): 
    - From Flash: 4.5 mA (typical at 16 MHz)
    - From RAM: 2.3 mA (typical at 16 MHz)
  - Total current into VDD: 100 mA (max)
  - Total current out of VSS: 80 mA (max)
- **Power Consumption**: 
  - Power Dissipation: 
    - TSSOP20: 238 mW at 75 °C
    - LQFP32: 330 mW at 75 °C
- **Operating Temperature Range**: 
  - -40 °C to +125 °C (suffix 3)
  - -40 °C to +85 °C (suffix 6)
- **Package Type**: 
  - Available in TSSOP20, SO20, UFQFPN20, LQFP32, and SDIP32 packages.
- **Special Features**: 
  - 8 Kbytes of Flash memory, 640 bytes of EEPROM, 1 Kbyte of RAM.
  - 10-bit ADC with up to 5 multiplexed channels.
  - Multiple communication interfaces: UART, SPI, I²C.
  - Low-power modes (wait, active-halt, halt).
  - Integrated watchdog timers.
- **Moisture Sensitive Level (MSL)**: 
  - MSL Level 1 (JEDEC J-STD-020E).

#### Description:
The **STM8S103F3P3TR** is an 8-bit microcontroller from STMicroelectronics, part of the STM8S family. It features an advanced 16 MHz STM8 core with a Harvard architecture and a 3-stage pipeline. The microcontroller is designed for a variety of applications requiring efficient processing and low power consumption. It integrates a range of peripherals, including timers, communication interfaces, and an analog-to-digital converter (ADC), making it suitable for embedded systems.

#### Typical Applications:
- **Power Management**: The STM8S103F3 is ideal for applications that require efficient power management due to its low-power modes and flexible clock control.
- **Signal Processing**: With its integrated ADC and timers, it can be used in applications that require signal processing, such as sensor interfacing.
- **Data Storage**: The microcontroller's EEPROM allows for data storage and retrieval, making it suitable for applications that require non-volatile memory.
- **Communication**: The presence of UART, SPI, and I²C interfaces enables communication with other devices, making it suitable for networking and control applications.
- **Consumer Electronics**: Its compact size and low power consumption make it suitable for consumer electronics, including home automation systems and portable devices.

This microcontroller is well-suited for a wide range of applications, from simple control tasks to more complex embedded systems, providing a balance of performance, power efficiency, and integration.