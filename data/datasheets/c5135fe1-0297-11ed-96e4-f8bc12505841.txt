[{'role': 'system', 'content': 'You are a technical specialist with expertise in electronics. Your task is to analyze datasheets for electronic components and provide a concise summary of the product’s key characteristics and specifications. In addition, you need to gather textual information about the component, including its description and typical applications.Instructions:    Identify the correct component in the datasheet using the provided product code.    Summarize key parameters, including:        Voltage ratings        Current ratings        Power consumption        Operating temperature range        Package type        Special features or notes (if applicable)        Moisture Sensetive Level JEDEC J-STD-020E    Provide a short description of the component, including what it is (e.g., transistor, microcontroller, sensor) and its primary function.    Explain typical applications for the component (e.g., power management, signal processing, data storage, etc.).    Be thorough and accurate: Ensure the information corresponds specifically to the product code, as some datasheets cover multiple variants.Your goal is to create a clear and accurate technical summary that includes both key specifications and a description of what the component is used for.'}, {'role': 'user', 'content': 'Give me information about the component of XR21B1421IL24-F production of EXAR from the text:© 2014 Exar CorporationXR21B1421\nEnhanced 1-Ch Full-Speed\nUSB HID to UART Bridge\nexar.com/XR21B1421\nRev 1B1 / 50General Description\nThe XR21B1421 is an enhanced Universal Asynchronous Receiver and\nTransmitter (UART) bridge to HID class USB interface. The USB interfaceis fully compliant to the USB 2.0 (Full-Speed) specification with 12 MbpsUSB data transfer rate. The USB interface also supports USB suspend,resume and remote wakeup operations. The USB Vendor ID, Product ID,power mode, remote wakeup support, maximum power, and numerousother settings may be programmed in the no-chip OTP memory via theUSB interface using either HID reports or Exar-supplied OTP program-ming tools.\nThe XR21B1421 includes an internal oscillator and does not require an\nexternal crystal/oscillator. Any UART baud rate up to 12 Mbps may begenerated with this internal clock and the fractional baud rate generator. \nThe UART pins for each port may also be configured as GPIO; direction,\nstate, output driver type and input pull-up or pull-down resistors are pro-grammed either through on chip OTP , or on the fly via memory mappedregisters. \nLarge 512-byte TX and RX FIFOs prevent buffer overflow errors and opti-\nmize data throughput. Automatic half-duplex direction control and optionalmulti drop (9-bit) mode si mplify both hardware and software in half-duplex\nRS-485 applications.\nThe XR21B1421 uses the native OS HID driver using HID reports. The\nHID reports perform a variety of functions, including device configuration,transmitting and receiving UART data, and programming of the on-chipOTP . Exar provides a .dll as an easy to use programming interface to theHID reports.\nThe XR21B1421 operates from a single 5V or 3.3V power supply and is\navailable in a 24 or 28 pin QFN package. When powered with 5V input,\nthe XR21B1421 supplies a regulated 3.3V output. The 24 pin packagehas a separate V\nIO supply voltage input for the Modem / GPIO pins. The\n28 pin package has VIO internally tied to 3.3V.FEATURES\n• ±15kV ESD on USBD+/USBD-\n• USB 2.0 Compliant, Full-Speed (12Mbps)\n• Unique pre-programme d USB serial number\n• Internally generate d 48MHz core clock\n• Enhanced UART features\n• Baud rates up to 12 Mbps• Fractional Baud Rate Generator\n• 512-byte TX and 512-byte RX FIFOs\n• Auto Hardware / Software Flow Control• Multidrop and Half-Duplex Modes\n• Auto RS-485 Half-Duplex Control\n• Selectable GPIO or Modem I/O\n• Up to 10 GPIOs\n• 5V tolerant GPIO inputs\n• Suspend state GPIO configuration• Configurable clock output\n• 24-pin or 28-pin QFN package\n• Industrial -40\n°C to +85 °C Temperature Range\nAPPLICATIONS\n• Portable Medical Diagnostics\n• Blood Glucose Meters\n• Health and Fitness Wellness Monitors• Uninterruptible Power Supplies\n• Energy Management Consoles\nOrdering Information – page 50\nBlock Diagram\nUSB Slave Interface512-byte \nTX FIFO\nGPIOs/\nModem IOInternal\nOscillator\n(48MHz)\n512-byte \nRX FIFO\nUARTFractional\nBRG\nInternal \nStatus and \nControl \nRegisters\nOTPUSB\nDescriptors\nLDO 3V3USBTX\nRX\n© 2014 Exar CorporationXR21B1421\n2 / 50 exar.com/XR21B1421\nRev 1BAbsolute Maximum Ratings\nStresses beyond those listed under Absolute Maximum\nRatings may cause permanent damage to the device.Exposure to any Maximum Rating condition for extendedperiods may affect device reliability and lifetime.\nSupply Voltage (VCC_REG)......................................+5.75VSupply Voltage (VCC, VIO)............................................+4VInput Voltage (VBUS_SENSE).......................-0.3 to +5.75VInput Voltage (All other pins)............................-0.3 to +5.6VJunction Temperature.................................................125°COperating Conditions\nOperating Temperature Range.....................-40°C to +85°C\nElectrical Characteristics\nUnless otherwise noted: TA = -40°C to +85°C, VCC_REG = 4.4V to 5.25V or 3.0V to 3.6V, VIO = 1 .8V to 3.6V\nSymbol Parameter Conditions Min Typ Max Units\nPower\nICC Power Supply Current VCC_REG = +4.4V to +5.25V 13 19 mA\nISUSP Lowpower Mode Current 0.85 1 .25 mA\nVOUT Regulated Output Voltage (VCC pin) VCC_REG = +4.4V to +5.25V.                         \nMaximum output current = 200 mA including the supply current of the XR21B1421 .33 . 3 3 . 6 V\nUART, USB_STAT and GPIO Pins\nVIL Input Low Voltage -0.3 0.25*\nVIOV\nVIH Input High Voltage 0.70*\nVIO5.5 V\nVOL Output Low Voltage IOL = 1mA, VIO = +1 .6V 0.3 V\nIOL = 4mA, VIO = +3.6V 0.5 V\nVOH Output High Voltage IOH = -400uA, VIO = +1 .6V 1 .3 VIO V\nIOH = -1 .5mA, VIO = +3.6V 2.8 VIO V\nIIL Input Low Leakage Current VIO = +3V to +3.6V, VCC_REG = +4.4V to \n+5.25V, VINPUT = 0V ±10 μA\nIIH Input High Leakage Current VIO = +3V to +3.6V, VCC_REG = +4.4V to \n+5.25V, VINPUT = +3.3V ±10 μA\nVIO = +3V to +3.6V, VCC_REG = +4.4V to \n+5.25V, VINPUT = +5.5V ±120 μA\nCIN Input Pin Capacitance 5p F\n© 2014 Exar CorporationXR21B1421\n3 / 50 exar.com/XR21B1421\nRev 1BUSB I/O Pins\nVIL Input Low Voltage -0.3 0.8 V\nVIH Input High Voltage 2.0 5.5 V\nVOL Output Low Voltage External 15kΩ to GND on USBD+ and \nUSBD- pins00 . 3 V\nVOH Output High Voltage External 15kΩ to GND on USBD+ and \nUSBD- pins2.8 3.6 V\nVDrvZ Driver Output Impedance 28 44 ΩSymbol Parameter Conditions Min Typ Max Units\n© 2014 Exar CorporationXR21B1421\n4 / 50 exar.com/XR21B1421\nRev 1BPin Configuration\n654321Exar\nXR21B1421GPIO0/CLK\nGND\nUSBD+\nUSBD-\nVIO\nVCCGPIO5/RXT\nUSB_STAT2\nNCGPIO6/CD#GPIO7/RI#/RWK#GPIO8/DTR#E_PAD131415161718GPIO1/RTS#/RS485\nGPIO2/CTS#GPIO3/RS485TX\nRX\nGPIO4/TXT24\n1920212223VCC_REG\nVBUS_SENSE\nRESET#\nNC\nUSB_STAT1\nGPIO9/DSR# 121110987\n24-Pin \nTop View7654321\nExar\nXR21B1421GPIO3/RS485\nGPIO0/CLK\nGND\nUSBD+\nUSBD-\nVCC\nVCC_REGNC\nNC\nGPIO6/CD#NC\nGPIO7/RI#/RWK#GPIO8/DTR#TEST#E_PAD15161718192021VBUS_SENSE\nRESET#\nGPIO9/DSR#\nUSB_STAT2USB_STAT1\nNCNC8\n9\n10\n11\n12\n13\n14GPIO4/TXT\nGPIO5/RXT\nTX\nRXGPIO1/RTS#/RS485GPIO2/CTS#NC28\n272625\n24\n2223\n28-Pin \nTop View\n© 2014 Exar CorporationXR21B1421\n5 / 50 exar.com/XR21B1421\nRev 1BPin Assignments\n24-pin QFN\nPin No. Pin Name Type Description\n1 GPIO0/CLK I/O General purpose I/O, or clock or pulse output. Defaults to GPIO input with internal pull-up. See \n“GET / SET_GPIO_CONFIG” on page 28  and “GET / SET_PIN_CONFIG” on page 41 .\n2 GND PWR Power supply common, ground.3 USBD+ I/O USB port differential data positive input. This pi n has internal pull-up resistor compliant to USB \n2.0 specification. The ESD protecti on on this pin is +/-15 kV HBM.\n4 USBD- I/O USB port differential data negative input. The ESD protection on this pin is +/-15 kV HBM.5 VIO PWR Supply voltage for the UART and GPIO signals. The voltage range for VIO is + 1 .8V to + 3.6V. In \nQFN28 package, the VIO is internally tied to core 3.3V. If VCC_REG is powered by 5V, VCC out-put 3.3V may be externally connected to VIO pin.\n6 VCC PWR 3.3V power to the device, or 3.3V power output from the device when 5V power is supplied to \nVCC_REG pin. 3.3V output power may source up to 200 mA maximum (including the device) and \nshould be decoupled by minimum of 4.7 uF ceramic capacitor.\n7 VCC_REG PWR 5V or 3.3V power to the device. In bus-powered mode, connect VBUS power from the USB host \nto this pin and to the VBUS_SENSE pin. See Figure 1 . In self-powered mode, connect on board \n5V or 3.3V source to this pin and VBUS from the USB host to the VBUS_SENSE pin. See \nFigure 2 and Figure 3 .\n8 VBUS_SENSE I Must be connected to VBUS power from the USB host PC. This pin is used to disable the internal \npull-up resistor on the USBD+ signal when VBUS is not present in self-powered mode.\n9 RESET# I/O OD Active low open drain output. Asserted at power on or any time device is reset by either register \nor USB bus reset. As an input, must be asserted for at least 15 us to force a device reset. Reset \npulse width input of shorter than 15 us will have unknown effects. A weak internal pull-up resistor \nprovides noise immunity if left unconnected.\n10 NC No Connect\n11 USB_STAT1 OD The USB_STAT1 output pin may be used to indicate any of three USB status conditions:\n1 . USB_STAT1 is asserted when the USB host asserts USB reset.\n2. USB_STAT1 is asserted when the USB host PC  places the XR21B1421 device into the sus-\npend state.\n3. USB_STAT1 is asserted when it is not safe to draw the amount of current requested in the \nDevice Maximum Power field of the Configuration Descriptor. a. For a low power device (<= 1 unit load or 100 mA, bMaxPower <= 0x32), USB_STAT1 will be \nasserted when the USB UART is in the suspend mode.\nb. For a high power device (bMaxPower > 0x32), USB_STAT1 will be asserted when the USB UART is in the suspend mode or when it is not yet configured.\nThe assertion polarity and status condition are se lectable via the PIN_CFG_STAT1 register. The \nUSB_STAT pin will be de-asserted whenever t he selected condition(s) is / are not met. The \ndefault output for this pin is active high polarity,  asserted whenever the XR21B1421 is placed into \na suspended state.\n12 GPIO9/DSR# I/O General purpose I/O, or UART Data-Set-Ready  input (active low). Defaults to GPIO push-pull \noutput. See “ Automatic DTR/DSR Hardware Flow Control” on page 16 .\n13 GPIO8/DTR# I/O General purpose I/O, or UART Data-Terminal -Ready push-pull output (active low). Defaults to \nGPIO push-pull output. See “ Automatic DTR/DSR Hardware Flow Control” on page 16 .\n14 GPIO7/RI#/RWK# I/O General purpose I/O, or UART Ring-Indicato r input (active low) or Remote Wakeup input (active \nlow). Defaults to GPIO i nput with internal pull-up.\n© 2014 Exar CorporationXR21B1421\n6 / 50 exar.com/XR21B1421\nRev 1B1 . Pin type: I=Input, O=Push-pull Output, I/O= Input/output, PW R=Power, OD=Open Drain Output with weak internal pull-up\n2. All GPIO pins as well as USB_STAT1 and USB_STAT2 may be conf igured for a variety of pin type options using the GPIO_MODE reg ister or by writing \nto the OTP using XR_SET_OTP .\n3. All enabled pull-up and pull-down resistors are maintained during USB suspend state.4. Pin configurations set us ing XR_SET_OTP are enabled following the next power up reset and are permanent. During USB bus rese t, resistors are dis-\nabled and re-enabled after bus reset is deasserted. Pin configuratio ns set using the GPIO_MODE register will be lost after POR or USB bus reset.15 GPIO6/CD# I/O General purpose I/O, or UART Carrier-Detect input (active low). Defaults to GPIO input with inter-\nnal pull-up.\n16 NC No Connect17 USB_STAT2 OD This pin has the same functionality as t he USB_STAT1 pin. However, the default output for this \npin is active low polarity, asserted whenever the XR21B1421 is placed into a suspended state. \nThis default may be changed via the PIN_CFG_USB_STAT2 register.\n18 GPIO5/RXT I/O General purpose I/O, or UART receive indi cator. Defaults to receive indicator push-pull output. \nWhen configured as receive indicator, this pin wi ll toggle at ~10 Hz intervals while the UART is \nreceiving data.\n19 GPIO4/TXT I/O General purpose I/O, or UA RT transmit indicator. Defaults to  transmit indicator push-pull output. \nWhen configured as transmit indicator, this pin will toggle at ~10 Hz intervals during UART data \ntransmission.\n20 RX I UART Receive Data.21 TX O UART Transmit Data.22 GPIO3/RS485 I/O General purpose I/O, or auto RS-485 half -duplex enable. Defaults to active high push-pull output \nAuto RS-485 half-duplex enable.\n23 GPIO2/CTS# I/O General purpose I/O, or UA RT Clear-to-Send input (active low). Defaults to CTS input with inter-\nnal pull-up. See “ Automatic RTS/CTS Hardware Flow Control” on page 15 .\n24 GPIO1/RTS#/RS485 I/O General purpose I/O, or UART Request- to-Send output (active low) or auto. RS-485 half-duplex \nenable. Defaults to open drain RTS output. See “GET / SET_GPIO_CONFIG” on page 28  and \n“GET / SET_PIN_CONFIG” on page 41 .\nCenter \nPadGND PWR The center pad on the back side of the QFN pa ckage is metallic and should be connected to \nGND on the PCB. The thermal pad size on the PCB should be the approximate size of this center \npad and should be solder mask defined. The sol der mask opening should be at least 0.0025" \ninwards from the edge of the PCB thermal pad.24-pin QFN\nPin No. Pin Name Type Description\n© 2014 Exar CorporationXR21B1421\n7 / 50 exar.com/XR21B1421\nRev 1B28-pin QFN\nPin No. Pin Name Type Description\n1 GPIO3/RS485 I/O General purpose I/O, or auto RS-485 half-dupl ex enable. Defaults to active high push-pull output \nAuto RS-485 half-duplex enable.\n2 GPIO0/CLK I/O General purpose I/O, or clock or pulse outpu t. Defaults to GPIO input with internal pull-up. See \n“GET / SET_GPIO_CONFIG” on page 28  and “GET / SET_PIN_CONFIG” on page 41 .\n3 GND PWR Power supply common, ground.4 USBD+ I/O USB port differential data positive input. This pin has internal pull-up resistor compliant to USB \n2.0 specification. The ESD protecti on on this pin is +/-15 kV HBM.\n5 USBD- I/O USB port differential data negative input. T he ESD protection on this pin is +/-15 kV HBM.\n6 VCC PWR 3.3V power to the device, or 3.3V power output from the device when 5V power is supplied to \nVCC_REG pin. 3.3V output power may source up to 200 mA maximum and should be decoupled \nby minimum of 4.7 uF ceramic capacitor.\n7 VCC_REG PWR 5V or 3.3V power to the device. In bus-powered mode, connect VBUS power from the USB host \nto this pin and to the VBUS_SENSE pin. See Figure 1 . In self-powered mode, connect on board \n5V or 3.3V source to this pin and VBUS fr om the USB host to the VBUS_SENSE pin. See \nFigure 2 and Figure 3 .\n8 VBUS_SENSE I Must be connected to VBUS power from the U SB host PC. This pin is used to disable the internal \npull-up resistor on the USBD+ signal when VBUS is not present in self-powered mode.\n9 RESET# I/O OD Active low open drain output. Asserted at power on or any time device is reset by either register \nor USB bus reset. As an input, must be asserted for at least 15 us to force a device reset. Reset \npulse width input of shorter than 15 us will have unknown effects. A weak internal pull-up resistor provides noise immunity if left unconnected.\n10 GPIO9/DSR# I/O General purpose I/O, or UART Data-Set-R eady input (active low). Defaults to GPIO push-pull \noutput. See “ Automatic DTR/DSR Hardware Flow Control” on page 16 .\n11 USB_STAT2 OD This pin has the same functionality as t he USB_STAT1 pin. However, the default output for this \npin is active low polarity, asserted whenever  the XR21B1421 is placed into a suspended state. \nThis default may be changed via the PIN_CFG_USB_STAT2 register.\n12 USB_STAT1 OD The USB_STAT1 output pin may be used to indicate any of three USB status conditions:\n1 . USB_STAT1 is asserted when the USB host asserts USB reset.\n2. USB_STAT1 is asserted when the USB host PC places the XR21B1421 device into the sus-pend state.\n3. USB_STAT1 is asserted when it is not safe to draw the amount of current requested in the \nDevice Maximum Power field of the Configuration Descriptor.a. For a low power device (<= 1 unit load or 100 mA, bMaxPower <= 0x32), USB_STAT1 will be \nasserted when the USB UART is in the suspend mode.\nb. For a high power device (bMaxPower > 0x32), USB_STAT1 will be asserted when the USB UART is in the suspend mode or when it is not yet configured.\nThe assertion polarity and status condition are selectable via the PIN_CFG_STAT1 register. The \nUSB_STAT pin will be de-asserted whenever th e selected condition(s) is / are not met. The \ndefault output for this pin is ac tive high polarity, asserted whenever the XR21B1421 is placed into \na suspended state.\n13 NC No Connect14 NC No Connect15 TEST# Test mode. Must be left open or pulled high to VCC for normal operation.\n© 2014 Exar CorporationXR21B1421\n8 / 50 exar.com/XR21B1421\nRev 1B1 . Pin type: I=Input, O=Push-pull Output, I/O= Input/output, PW R=Power, OD=Open Drain Output with weak internal pull-up\n2. All GPIO pins as well as USB_STAT1 and USB_STAT2 may be conf igured for a variety of pin type options using the GPIO_MODE reg ister or by writing \nto the OTP using XR_SET_OTP .\n3. All enabled pull-up and pull-down resistors are maintained during USB suspend state.\n4. Pin configurations set us ing XR_SET_OTP are enabled following the next power up reset and are permanent. During USB bus rese t, resistors are dis-\nabled and re-enabled after bus reset is deasserted. Pin configuratio ns set using the GPIO_MODE register will be lost after POR or USB bus reset.16 GPIO8/DTR# I/O General purpose I/O, or UART Data-Ter minal-Ready push-pull output (active low). Defaults to \nGPIO push-pull output. See “ Automatic DTR/DSR Hardware Flow Control” on page 16 .\n17 GPIO7/RI#/RWK# I/O General purpose I/O, or UART Ring-Indica tor input (active low) or Remote Wakeup input (active \nlow). Defaults to GPIO input with internal pull-up.\n18 NC No Connect19 GPIO6/CD# I/O General purpose I/O, or UART Carrier-Detect input (active low). Defaults to GPIO input with inter-\nnal pull-up.\n20 NC No Connect21 NC No Connect22 NC No Connect23 GPIO2/CTS# I/O General purpose I/O, or UART Clear-to-Send input (active low). Defaults to CTS input with inter-\nnal pull-up. See “ Automatic RTS/CTS Hardware Flow Control” on page 15 .\n24 GPIO1/RTS#/RS485 I/O General purpose I/O, or UART Request- to-Send output (active low) or auto. RS-485 half-duplex \nenable. Defaults to open drain RTS output. See “GET / SET_GPIO_CONFIG” on page 28  and \n“GET / SET_PIN_CONFIG” on page 41 .\n25 RX I UART Receive Data.26 TX O UART Transmit Data.27 GPIO5/RXT I/O General purpose I/O, or UART receive indi cator. Defaults to receive indicator push-pull output. \nWhen configured as receive indicator, this pin will toggle at ~10 Hz intervals while the UART is receiving data.\n28 GPIO4/TXT I/O General purpose I/O, or UART transmit indi cator. Defaults to transmit indicator push-pull output. \nWhen configured as transmit indicator, this pin will toggle at ~10 Hz intervals during UART data \ntransmission.\nCenter \nPadGND PWR The center pad on the back side of the QFN package is metallic and should be connected to \nGND on the PCB. The thermal pad size on the PCB should be the approximate size of this center \npad and should be solder mask defined. The solder mask opening should be at least 0.0025" \ninwards from the edge of the PCB thermal pad.28-pin QFN\nPin No. Pin Name Type Description\n© 2014 Exar CorporationXR21B1421\n9 / 50 exar.com/XR21B1421\nRev 1BFunctional Block Diagram\nUSB Slave Interface512-byte \nTX FIFO\nGPIOs/\nModem IOTXInternal\nOscillator\n(48MHz)\nUSBD+\nUSBD-512-byte \nRX FIFO\nGPIO9/DSR#\nGPIO8/DTR#\nGPIO7/RI#GPIO6/CD#GPIO5/RXTGPIO4/TXT\nGPIO3/RS485\nGPIO2/CTS#GPIO1/RTS#/RS485GPIO0/CLKUARTFractional\nBRG\nInternal \nStatus and \nControl \nRegisters\nVCC_REG\nGND\nVIOOTPUSB\nDescriptors\nLDO3V3VCCVBUS_SENSE\nRESET#RX\nUSB_STAT1\nUSB_STAT2\n© 2014 Exar CorporationXR21B1421\n10 / 50 exar.com/XR21B1421\nRev 1BFunctional Description\nUSB Interface\nThe USB interface of the XR21B1421 is compliant with the USB 2.0 Full-Speed Specifications.\nThe XR21B1421 uses the following set of parameters:• 1 Control Endpoint      • Endpoint 0 as outlined in the USB specifications• 1 Configuration is supported• 1 HID Interface for the UART channel      • Interrupt-in endpoint for UART receive dataInterrupt-out endpoint for UART transmit data\nUSB Vendor and Product IDs\nExar’s USB Vendor ID is 0x04E2. This is the default Vendor ID that is used for the XR21B1421 . Customers may obtain their\nown Vendor ID from USB.org. The default USB Product ID fo r the XR21B1421 is 0x1421 . Upon request, Exar will provide up\nto 8 PID values for use with Exar’s VID. The VID and PID may be modified by the SET_USB_CONFIG HID report. However,the Exar VID and PID values will always be returned in the GE T_CHIP_ID report (0x4F) irrespective of any changes to the\nVID and PID using the SET_USB_CONFIG report. Refer to Table 1 .\nUSB Suspend\nAll USB peripheral devices must support the USB suspend mode. Per USB standard, the XR 21B1421 device will begin to\nenter the suspend state if it does not detect any activity, (including Start of Frame or SOF packets) on its USB data lines for3 ms. The peripheral device must then reduce power consumption from VBUS power within the next 7 ms to the allowedlimit of 2.5 mA for the suspended state. Note that in this context, the "device" is all circuitry (including the XR21B1421) tha t\ndraws power from the host VBUS.\nRemote Wakeup\nIf the XR21B1421 device has been placed into suspend state by the USB host, the RI#/RWK# and / or RX pins may beused to request that the host exit the suspended state. By default the XR21B1421 device reports in its device attributes thatit does not support remote wakeup. If remote wakeup is enabled via the OTP , the device will respond to a high to low transi-\ntion on the RI#/RWK# pin if it is configured as an input, and remotely wake up the USB host. Note that Windows OS doesnot support remote wakeup for HID class devices that are not identified as either keyboard or mouse. RX pin remotewakeup is disabled by default and must also be separately enabled.\nUSB Strings\nUSB specifies three character string descriptors that are provided to the USB host during enumeration in string descriptors:the manufacturer, product and serial strings. The defaults manufacturer, and product strings for the XR21B1421 device are"Exar Corp." and, "Exar USB UART" respectively. The serial number string is a unique alpha-numeric string programmedinto the device at the factory. All character strings use Unicode UTF-16LE format by default, but the Unicode language IDmay be changed for the manufacturer and product strings. The defa ult character string language ID  is US English. If the lan-\nguage ID is modified via OTP , the serial number string should also be modified accordingly. However, note that USB.orgrequires any serial number string for a specific VID/PID combination to be unique for each device.\n© 2014 Exar CorporationXR21B1421\n11 / 50 exar.com/XR21B1421\nRev 1BDevice Driver\nThe XR21B1421 device will utilize the native  OS supplied HID driver. No other driver is required, however a custom dll sup-\nplied by Exar provides a function library to any user that is  developing applications that utilize the HID reporting capabiliti es.\nExar also supplies a sample GUI using the .dll as well as source code (upon request).\nUSB Power Modes\nThe XR21B1421 device may be configured in any one of three power modes: Bus-powered, Self-powered 5V, or Self-pow-ered 3.3V. In all three modes, the VBUS power signal from the USB host must be connected to the VBUS_SENSE pin ofthe device.\nThe default power mode for the XR21B1421 is bus-powered. In this mode, a maximum power required for the USB device\nfrom the host must be specified. In th is context, the USB device includes all components on the PCB that will draw power\nfrom the USB VBUS power. The default power request for the XR21B1421 is 100 mA but this may be changed using theMaxpower field of the SE T_USB_CONFIG HID report.\nBus-Powered\nIn bus-powered mode, VBUS from the USB cable supplies 5V to the XR21B1421 device. The VCC pin will supply 3.3V out-\nput. The VIO pins may be externally connected to VCC or to an alternate voltage source.\nFigure 1: Bus-Powered ModeTable 1: USB String Descriptor Defaults\nDescriptor Value\nExar USB Vendor ID 0x04E2\nExar USB Product ID 0x1421Manufacturer String Exar Corp.Product String Exar USB UART\nVCC_REG\nVBUS_SENSEXR21B1421\nDp\nDm\nGND\nVCCVBUS\nDp\nDm\nGND\nUSB Connector VIO\n© 2014 Exar CorporationXR21B1421\n12 / 50 exar.com/XR21B1421\nRev 1BSelf-Powered 5V\nIn self-powered 5V mode, a local source supplies 5V to the XR21B1421 device. The USB attributes should be changed\nusing SET_USB_CONFIG to report self powered mode. The VCC pin will supply 3.3V output. VIO pins may be externally\nconnected to VCC or to an alternate voltage source.\nFigure 2: Self-Powered 5V Mode\nSelf-Powered 3.3V\nIn self-powered 3.3V mode, a local source supplies 3.3V to both the VCC_REG and VCC pins of the XR21B1421 device.The USB attributes should be changed using SET_USB_CONFIG to report self-powered mode. The VIO pin (on theQFN24 package) may be externally connected to VCC or to an alternate voltage source.\nFigure 3: Self-Powered 3.3V Mode\nReset\nThe XR21B1421 has four different types of resets: power-on reset or POR, hardware reset, software reset and USB busreset. The results of each of the four types of resets are listed in Table 2 .VCC_REG\nVBUS_SENSEXR21B1421\nDp\nDm\nGND\nVCCVBUS\nDp\nDm\nGND\nUSB Connector VIO5V\nSupply\nVCC_REG\nVBUS_SENSEXR21B1421\nDp\nDm\nGND\nVCCVBUS\nDp\nDm\nGND\nUSB Connector VIO3.3V\nSupply\n© 2014 Exar CorporationXR21B1421\n13 / 50 exar.com/XR21B1421\nRev 1BUART\nThe UART transmitter and receiver sections are described separately below. The UART may be configured via HID reports.\nWide mode is discussed in “Wide Mode” on page 13 .\nTransmitter\nThe transmitter consists of a 512-byte TX FIFO and a Transmit Shift Register (TSR). Once a SET_TRANSMIT_DATA report\nusing interrupt out packets has been received and is validated, the data bytes in that packet are written into the TX FIFO.Data from the TX FIFO is transferred to the TSR when the TSR is idle or has completed sending the previous data byte. The\nTSR shifts the data out onto the TX output pin at the selected baud rate. The transmitter sends the start bit followed by thedata bits (starting with the LSB), inserts the proper parity-bit if enabled, and adds the stop-bit(s).\nThe transmitter may be configured for 5, 6, 7 or 8 data bits with or without parity or 9 data bits without parity. If 5, 6, 7 o r 8 bit\ndata with parity is selected, the TX FIFO contains 8 bits data  and the parity bit is automatically generated and transmitted. I f\n9 bit data is selected, pari ty cannot be generated. The 9th bit will not be  transmitted unless the wide mode is enabled.\nWide Mode\nThe XR21B1421 device may be configured for wide mode us ing the SET_TRANSFER_MODE (report 0x48). In wide mode\nthe XR21B1421 checks each received character for parity, framing or overrun errors, and for break status. Note thatalthough the GET_UART_STATUS (report 0x42), reports these same errors, they are historical or latched errors indicatingthat an error has occured at least once since the previous GET_UART_STATUS report. By comparison, in wide mode, each\ncharacter is accompanied by real time error and status indicators.\nWide Mode Transmit\nWide mode may be selected with any (5, 6, 7 , 8 or 9 bit) character size. For 5, 6 and 7 bit data, bits 5-7 , 6-7 , or 7 (respec-tively) are filled with ’0’ . Two bytes from the USB host are used to form the data character which is serialized and transmitte d.\nThe least significant bit of the second byte contains the parity bit or the 9th bit of the character in 9 bit mode. The remaini ng\n7 bits of the second byte are discarded.\nReceiver\nThe receiver consists of a 512-byte RX FIFO and a Receive Shift Register (RSR). Data that is received in the RSR via theRX pin is transferred into the RX FIFO. Data from the RX FIFO is sent to the USB host by in response to a interrupt-inrequest. Depending on the mode, error / status information for that data character may or may not be stored in the RX FIFOwith the data.Table 2: Device Resets\nReset Type Device Actions\nPower On Reset (POR) Resets all registers and pins to default states including any OTP modifications. \nLocks OTP from further writes if Global Lock is set.\nHardware Reset Resets all registers and pins to default states including any OTP modifications. \nLocks OTP from further writes if Global Lock is set.\nSoftware Reset Reset USB Interface, re-enumera te device, reset all internal states, clear \nUART FIFOs. Does not reset registers or pin configurations.\nUSB Bus Reset Resets USB Interface, re-enumerate device, reset all internal states, clear \nUART FIFOs. Does not reset registers or pin configurations.\n© 2014 Exar CorporationXR21B1421\n14 / 50 exar.com/XR21B1421\nRev 1BNormal receive operation with 5, 6, 7 or 8-bit data\nReceived data is stored in the RX FIFO. Any parity, framing or overrun error or break status information related to the data\nis discarded. The receive data format is shown in Figure 4 .\nFigure 4: Normal Operation Receive Data Format\nNormal receive operation with 9-bit data\nThe first 8 bits of data received is stored in the RX FIFO. The 9th bit as well as any parity, framing or overrun error or brea k\nstatus information related to the data is discarded.\nWide mode receive operation with 5, 6, 7 or 8-bit data\nTwo bytes of data are loaded into the RX FIFO for each byte of data received. The first byte is the received data. The sec-ond byte consists of the error bits and break status. The wide mode receive data format is shown in Figure 5 .\nFigure 5: Wide Mode Receive Data Format\nWide mode receive operation with 9-bit data\nTwo bytes of data are loaded into the RX FIFO for each byte of data received. The first byte is the first 8 bits of the receive d\ndata. The 9th bit received is stored in the bit 0 of the second byte. The parity bit is not received / checked. The remainder o f\nthe 2nd byte consists of the framing and overrun error bits and break status.1ST byte7, 8, or 9 bit data\n76543210 7 = ‘0’ in 7 bit mode\n1ST byte\n2ND byte5, 6, 7 or 8 bit mode\n9 bit mode76543210\nxxxxOFBP\nxxxxOFB876543210 1ST byte\n2ND byte5, 6, and 7 = ‘0’ in 5, 6, or 7 bit mode\nP = Parity Error (=’0\' if not enabled)\nB = Break\nF = Framing ErrorO = Overrun ErrorX = ‘0’\nB = Break\nF = Framing Error\nO = Overrun Error\nX = ‘0’\n© 2014 Exar CorporationXR21B1421\n15 / 50 exar.com/XR21B1421\nRev 1BRX FIFO Low Latency\nIn normal operation, all bulk-in transfer s will be of maxPacketSize (64) bytes to  improve throughput and to minimize host\nprocessing. When there are 64 bytes of data in the RX FI FO, the XR21B1421 will acknowledge a bulk-in request from the\nhost and transfer the data packet. If there are less than 64 bytes in the RX FIFO, the XR21B1421 may respond to the bulk-in request with a NAK indicating that data is not ready to transfer at that time. However, if there are less than 64 bytes in t he\nRX FIFO and no data has been received for more than 3 character times, the XR21B1421 will acknowledge the bulk-in\nrequest and transfer any data in the RX FIFO to the USB host.\nIn some cases, especially when the baud rate is low, this  behavior may increase latency unacceptably. The low latency\nmode is automatically set whenever the baud rate is set to a value of less than 46921 bps. Additionally, a user may manu-ally enable the low latency mode using the SET_TRANSFER_MODE report (0x48) to immediately transfer any receiveddata in the RX FIFO to the USB host without waiting for 3 character times. \nGPIO\nEach UART has 10 GPIO pins in addition to the TX and RX pins. Each GPIO pin may also be configured for one or morespecial functions. Please refer to the pin descriptions for t he default functionality of each of the general purpose I/Os.\nClock Out\nThe GPIO0/CLK pin may be configured as a clock output using the SET_PIN_CONFIG or SET_GPIO_CONFIG reports.\nThe output frequency of the clock out may be programmed between 24 MHz and approximately 47 KHz. The duty cyclemay also be programmed from 50/50 to single low or high going pulse. The default values of 0 for both DIV_HI and DIV_LOwill result in a frequency of 24 MHz. For any non-zero values  for DIV_HI and DIV_LO, the cl ock frequency is determined by\nthe formula: \n                      FREQ = 24 MHz / (DIV_HI + DIV_LO). The duty cycle is determined by the ratio of DIV_HI to DIV_ LO. GPIO0 will output this cloc k if is enabled in the GPIO_-\nMODE register.\nFlow Control\nThe XR21B1421 is able to perform both hardware and software flow control. Both hardware and software flow controlmodes are configured via the SET_UART_CONFIG report. In both modes, flow control is asserted when the bytes in the RXFIFO reach the watermark set in the RX_THRESHOLD setting. Hardware flow control may either be RTS/CTS or DTR/DSRcontrolled. Note that although the default pin configuration for GPIO1/RTS# and GPIO2/CTS# are for RTS output and CTSinput respectively, the hardware RTS/CTS flow control mode mu st be set in order to utilize the flow control functionality.\nAlternately, the pin configurations may be changed to GP IO functionality using the SET_PIN_CONFIG or SET_GPIO_-\nCONFIG reports for these pins to be used for GPIO functionality.\nAutomatic RTS/CTS Hardware Flow Control\nAutomatic RTS/CTS flow control is used to prevent data overrun errors in the local RX FIFO using the RTS signal to theremote UART. The RTS signal will be asserted (low) when ther e are less than 450 bytes in the receive FIFO. When the RX\nFIFO reaches the 450 byte thre shold, the RTS pin will be deasserted. The CTS#  input of the remote UART is monitored to\nsuspend/restart the transmitter. Refer to Figure 6 . Conversely, when the remote UART reaches its receive FIFO threshold,\nits RTS will be deasserted, and the XR 21B1421 CTS input will cause the devi ce to suspend data transmission. \n© 2014 Exar CorporationXR21B1421\n16 / 50 exar.com/XR21B1421\nRev 1BFigure 6: Auto RTS and CTS Flow Control Operation\nAutomatic DTR/DSR Hardware Flow Control\nAuto DTR/DSR hardware flow control behaves the same as the Auto RTS/CTS hardware flow control described above\nexcept that it uses the DTR# and DSR# signals. GPIO8 and GPIO9 become DTR# and DSR#, respectively, when the\nSET_UART_CONFIG or SET_PIN_CONFIG report configures the device for DTR/DSR hardware flow control.\nAutomatic XON/XOFF Software Flow Control\nWhen software flow control is enabled, the XR21B1421 compares the receive data characters with the programmed XON or\nXOFF characters. If the received character matches the progra mmed XOFF character, the XR21B1421 will halt transmis-\nsion as soon as the current character has completed transm ission. Data transmission is resumed when a received charac-\nter matches the XON character.\nIn the receive data direction, the XOFF character will be sent when there are 450 bytes in the receive FIFO. When there are\nagain less than 450 bytes in the RX FIFO, the XON character will be send. This threshold may be changed using the SET_-\nFLOW_CTRL_THRESHOLD HID report.\nSoftware flow control is enabled / disabled by the SET_UART_CONFIG report. Additionally, the SET_SW_FLOW_CONFIG\nreport may be used to configure the start (XON) and stop (XOFF) characters.Transmitter \nAuto CTS\nMonitor\nReceiver FIFO\nTrigger Reached\nAuto RTS\nTrigger LevelRemote UART\nUARTB\nRTSA#\nCTSB#\nTXB\nRXAON ON OFF\nON ON OFF1\n2\n3\n4\n1)  COM port opened, RX FIFO empty, RTSA# output is asserted\n2)  Signal propagated to CTSB# input3)  Data bytes enter TX FIFO, begin transmitting on TXB4)  Data propagates to Receiving device RXA5)  RX FIFO reaches threshold\n6)  RTSA# de-asserts\n7)  Signal propagates to CTSB# input8)  Transmission stops on TXB9)  USB Bulk-In empties RX FIFO below threshold,  RTSA# is asserted 10) Signal propagated to CTSB# input11) Data bytes resume transmitting on TXB 56\n7\n89\n10\n11RTSA# CTSB#TXB RXA\nCTSA#TXA\nRTSB#RXBReceiver FIFO\nTrigger Reached\nAuto RTS\nTrigger Level\nTransmitter\nAuto CTS\nMonitorLocal UART\nUARTA\n© 2014 Exar CorporationXR21B1421\n17 / 50 exar.com/XR21B1421\nRev 1BMultidrop mode with address matching\nThe XR21B1421 device has two address matching modes which are set by the SET_ADDR_MATCH_CONFIG report.\nThese modes are intended for a multi-drop network application.    In these modes, the UNI_ADD holds a unicast address\nand the MULTI_ADD holds a multicast address. An address match occurs when an address byte (9th bit or parity bit is ’1’)is received that matches the value stored in either the UNI_ADD or MULTI_ADD field. To send an address byte use 8 bitdata with mark parity. To send data bytes, use 8 bit data with space parity.\nReceiver\nIf an address match occurs in either of the address matching modes, the address by te will not be loaded into the RX FIFO,\nbut all subsequent data bytes will be lo aded into the RX FIFO. The UART Receiver will automatically be disabled when an\naddress byte is received that does not match t he values in the UNI_ADD or MULTI_ADD characters.\nTransmitter\nIn flow control mode 3, the UART transmitter will transmit irresp ective of the RX address match.  In flow control mode 4, the\nUART will only transmit following an RX address match.\nProgrammable Turn-Around Delay\nBy default, the selected auto RS-485 half-duplex enable pin (either GPIO3/ RS485 or GPIO1/RTS# /RS485) will be de-\nasserted immediately after the stop bit of the last byte has been shifted. However, this may not be ideal for systems wherethe signal needs to propagate over long cables. Therefore, the de-assertion of the auto RS-485 half-duplex enable may bedelayed from 1 to 15 bit times via the SET_XCVR_EN_DELAY report to allow for the data to reach distant UARTs.\nUART Half-Duplex Mode\nIn half-duplex mode, the UART will ignore any data on the RX  input when the UART is transmitting data. The half-duplex\nmode may be configured using the SET_UART_CONFIG report.\nIR Mode\nThe XR21B1421 supports IR mode at a maximum baud rate of 2. 5 Mbaud with transmit pulses of 3/16th or 4/16th of a bit\nperiod and centered in the bit period. Receive data may be inverted to conform to some manufacturer’s non-standarddevices. IR mode is disabled by default but may be enabled by the SET_IR_MODE report 0x56.  \nUSB_STAT Pins\nThe XR21B1421 has two USB_STAT output pins that may be used to indicate 3 different statuses in either positive or nega-\ntive polarity. The SUSPEND status indicate s that the XR21B1421 device  has been placed into a suspended state by the\nUSB host. This output may then be used by external circuitry, for example, to power down devices in order to meet USBpower requirements for suspend mode. The LOW_POWER stat us is similar to the SUSPEND status, but LOW_POWER is\nalso asserted for high power devices (any device that consume more than 100 mA of VBUS power from the USB host),before the device is configured during enumeration by the USB host. For low power devices (devices that consume 100 mAor less of VBUS power), SUSPEND and LOW_POWER status outputs are functionally the same. Lastly, the BUS_RST out-put status is asserted any time the XR21B1421 device is bein g reset by the USB host. This status output could be used, for\nexample, by an FPGA or other logic device to reset this external logic.\nUse Suspend\nThe USE_SUSPEND bit controls the GPIO pins when the XR21B 1421 device is suspended by the USB host. If USE_SUS-\nPEND is cleared to ’0’ , GPIO pins retain their output stat es when the device is suspended. When USE_SUSPEND is set to\n’1’ , GPIO pins are assign ed behavior defined by the SUSPEND_STATE and  SUSPEND_MODE fields of SET_PIN_CONFIG\nor SET_SUSPEND_OUTPUT_CONFIG reports, with the following  exceptions: GPIO0/CLK when configured as  an output\nclock will always be driven low, i.e the clock output will st op, and GPIO1/RTS#/RS485 or GP IO3/RS485 when configured as\na auto RS-485 half-duplex ena ble will always be deasserted.\n© 2014 Exar CorporationXR21B1421\n18 / 50 exar.com/XR21B1421\nRev 1BThe SUSPEND_STATE field will set or clear the GPIO pin an d the SUSPEND_MODE field will configure any GPIO output\nas open drain or push-pull output. Refer to “GET / SET_PIN_CONFIG” on page 41  or “GET / SET_SUSPEND_OUTPUT_-\nCONFIG” on page 31 . Configuration using the SET_SUSPEND_OUTPUT_CON FIG report will be lost at the next power\ncycle or bus reset of the device. Configuration using the SET_PIN_CONFIG report will be permanent.\nTXT and RXT Pins\nThe Transmit toggle and Receive toggle pins "toggle" at a rate of approximately 10 Hz whenever the UART transmit and\nreceive pins (respectively) are active.\nOTP\nThe OTP is an on-chip non-volatile memory, that is incremental ly one-time programmable via the USB interface. Some bits\nare pre-programmed at the factory and caution must be taken not to program any locations except those user definedaddresses given in this data sheet. Some of the HID reports result in irreversible programming of the OTP . Once a specificreport programs a portion of the OTP , the lock bit for that se ction of the OTP will be set and fu rther changes to that section\nwill not be allowed. Note that all OTP writes will take immedi ate effect, except for setting th e global lock bit (report 0x68),\nwhich requires a hardware or power on reset to take effect.\n© 2014 Exar CorporationXR21B1421\n19 / 50 exar.com/XR21B1421\nRev 1BUSB Control Commands\nThe following table shows all of the USB Control Commands that are supported by the XR21B1421 . Commands include\nstandard USB commands, CDC-ACM co mmands and custom Exar commands. \nTable 3: Supported USB Control Commands\nNameRequest \nTypeRequestValue Index Length\nDescription\nLSB MSB LSB MSB LSB MSB\nDEV GET_STATUS 0x80 0 0 0 0 0 2 0 Device: remote wake-up + self-\npowered\nIF GET_STATUS 0x81 0 0 0 0 0 2 0 Interface: zeroEP GET_STATUS 0x82 0 0 0 0x0,0x4,\n0x840 2 0 Endpoint: halted\nDEV CLEAR_FEATURE 0x00 1 1 0 0 0 0 0 Device remote wake-up\nEP CLEAR_FEATURE 0x02 1 0 0 0x0,0x4,\n0x840 0 0 Endpoint halt\nDEV SET_FEATURE 0x00 3 1 0 0 0 0 0 Device remote wake-up\nDEV SET_FEATURE 0x00 3 2 0 0 test 0 0 Test mode - factory use onlyEP SET_FEATURE 0x02 3 0 0 0x0,0x4,\n0x840 0 0 Endpoint halt\nSET_ADDRESS 0x00 5 addr 0 0 0 0 0 addr = 1 to 127\nGET_DESCRIPTOR 0x80 6 0 1 0 0 len \nMSBlen \nMSBDevice descriptor\nGET_DESCRIPTOR 0x80 6 0 2 LangID LangID len \nMSBlen \nMSBConfiguration descriptor\nGET_DESCRIPTOR 0x80 6 0 3 0 0 len \nMSBlen \nMSBString descriptor\nGET_CONFIGURATION 0x80 8 0 0 0 0 1 0\nSET_CONFIGURATION 0x00 9 n 0 0 0 0 0 n = 0, 1GET_INTERFACE 0x81 10 0 0 0 0 1 0\n© 2014 Exar CorporationXR21B1421\n20 / 50 exar.com/XR21B1421\nRev 1BHID Reports\nAll of the functionality of the XR21B142 1 device is controlled via HID reports. Some of these reports will program the on-\nchip OTP memory. All of the HID reports in the OTP customization section (report s 0x47 and 0x60 through 0x67) will per-\nmanently program the on-chip OTP . All other HID reports do not program the OTP . The SET_GPIO_CONFIG (report 0x49)dynamically configures the GPIO pins, but does not program the OTP as does the SET_PIN_CONFIG report.\nTable 4: XR21B1421 HID Reports\nReport ID Report Name Size\nUART Data Transfer (Interrupt Transfers)\n0X1 - 0x3F SET TRANSMIT DATA 2 - 64\n0X1 - 0x3F GET RECEIVE DATA 2 - 64\nDevice Configuration (Control Transfers)\n0x40 SET DEVICE RESET 20x41 GET / SET UART ENABLE 20x42 GET UART STATUS 70x43 SET CLEAR FIFOS 20x44 GET GPIO STATE 30x45 SET GPIO STATE 50x46 GET VERSION 30x48 GET / SET TRANSFER MODE 30x49 GET / SET GPIO CONFIG 13\n0x4A GET / SET SUSPEND OUTPUT \nCONFIG5\n0x4F GET CHIP ID 7\nUART Configuration (Control Transfers)\n0x50 GET / SET UART CONFIG 90x51 SET TRANSMIT LINE BREAK 20x52 SET STOP LINE BREAK 20x53 GET / SET SW FLOW CTRL \nCONFIG3\n0x54 GET / SET ADDR MATCH CON-\nFIG3\n0x55 GET / SET LOOPBACK MODE 2\n0x56 GET / SET IR MODE 20x57 GET / SET XCVR EN DELAY 20x58 GET / SET FLOW CTRL \nTHRESHOLD3\nOTP Customization (Control Transfers)\n0x47 GET / SET OTP LOCK BYTE 3\n© 2014 Exar CorporationXR21B1421\n21 / 50 exar.com/XR21B1421\nRev 1B0x60 GET / SET USB CONFIG 11\n0x61 GET / SET VENDOR STRING 1 4 - 640x62 GET / SET VENDOR STRING 2 2 - 640x63 GET / SET PRODUCT STRING 1 4 - 640x64 GET / SET PRODUCT STRING 2 2 - 640x65 GET / SET SERIAL STRING 4 - 640x66 GET / SET PIN CONFIG 200x67 GET / SET LANG ID 30x68 GET / SET GLOBAL LOCK 2Table 4: XR21B1421 HID Reports\nReport ID Report Name Size\n© 2014 Exar CorporationXR21B1421\n22 / 50 exar.com/XR21B1421\nRev 1BHID Report Descriptions\nAll of the functionality of the XR21B142 1 device is controlled via HID reports. Some of these reports will program the on-\nchip OTP memory. All of the HID reports in the OTP customization section (report s 0x47 and 0x60 through 0x67) will per-\nmanently program the on-chip OTP . All other HID reports do not program the OTP . The SET_GPIO_CONFIG (report 0x49)dynamically configures the GPIO pins, but does not program the OTP as does the SET_PIN_CONFIG report.\nSET_TRANSMIT_DATA\nTransfer Type: Interrupt Out\nTransfer Size: 2 - 64 bytesThe SET_TRANSMIT_DATA report transmits up to 63 bytes of data to the UART per transfer.\nGET_RECEIVE_DATA\nTransfer Type: Interrupt InTransfer Size: 2 - 64 bytesThe GET_RECEIVE_DATA report receives up to 63 bytes of data from the UART per transfer. This report is returned when\nthe USB host polls the Interrupt-In endpoint at 1 ms intervals.\nSET_DEVICE_RESET\nTransfer Type: Control Out\nTransfer Size: 2 bytesThe SET_DEVICE_RESET report performs a software reset of the XR21B1421 devi ce that resets the USB interface and\nclears the UART RX and TX FIFOs, but does not change any UA RT configuration settings or change any pin configurations.\nAny changes to on-chip OTP will not be reflected following the so ftware reset. During software reset, the internal pull-up on\nthe USBD+ pin will be disabled to signal the USB host that a de tach event has occurred. Following reset, the pull-up resistor\nwill be enabled to signal an attach event to the USB host.Field Offset Size Value Description\nReport ID 0 1 0x01 - 0x3F Indicates the size of the data transfer to be sent to the device from 1 (0x01) to 63 \n(0x3F) bytes excluding the report ID itself.\nData 1 1-63 Data from USB host to UART\nField Offset Size Value Description\nReport ID 0 1 0x01 - 0x3F Indicates the size of the data transfer to be sent to the device from 1 (0x01) to 63 \n(0x3F) bytes excluding the report ID itself.\nData 1 1-63 Data from USB host to UART\nField Offset Size Value Description\nReport ID 0 1 0x40 Force device hardware reset\nValue 1 1 Set of any value forces reset\n© 2014 Exar CorporationXR21B1421\n23 / 50 exar.com/XR21B1421\nRev 1BGET / SET_UART_ENABLE\nTransfer Type: Control In / Out\nTransfer Size: 2 bytesThe GET / SET_UART_ENABLE report gets or sets the UART enable (default is disabled). Disable the UART and re-\nenable before sending or receiving UART data.\nGET_UART_STATUS\nTransfer Type: Control In\nTransfer Size: 7 bytesThe GET_UART_STATUS report returns the break and error status of the UART and number of bytes in RX and TX FIFOs.\nThe TX and RX FIFOs hold a maximum of 512 bytes.Field Offset Size Value Description\nReport ID 0 1 0x41 Enable / disable UART\nUART Enable 1 1 0x00\n0x01Disable(d)\nEnable(d) - default\nField Offset Size Value Description\nReport ID 0 1 0x42 Get status of historical  error and status and RX and TX FIFO fill\nTX FIFO MSB 1 1 Number of bytes in transmit FIFOTX FIFO LSB 2 1RX FIFO MSB 3 1 Number of bytes in receive FIFORX FIFO LSB 4 1Error Status 5 1 Error Status Receive Error / Break status\nError Status indicates parity, overrun, and fr ame errors as well as break status for \nreceived data. Any error / break status will be latched until the status is read using the Get_UART_Status report. These bits will cleared when read. \nBit 0 - parity error - ’1’ indicates parity error\nBit 1 - overrun error - ’1’ indicates overrun\nBit 2 - framing error - ’1’ indicates framing error\nBit 3 - break status - ’1’ indicates break condition occured\nBreak Status 6 1 0x00\n0x01Receive - No Line Break\nReceive - Line Break Active\n© 2014 Exar CorporationXR21B1421\n24 / 50 exar.com/XR21B1421\nRev 1BSET_CLEAR_FIFOS\nTransfer Type: Control Out\nTransfer Size: 2 bytesThe SET_CLEAR_FIFOS report clears the selected FIFO buffers.\nGET_GPIO_STATE\nTransfer Type: Control InTransfer Size: 3 bytesThe GET_GPIO_STATE report gets the actual state of the GPIO or flow control pins configured as either inputs or outputs.Field Offset Size Value Description\nReport ID 0 1 0x43 Clear FIFO buffers\nClear 1 1 Value Clears FIFOs\nBit 0 - ’1’ clears TX FIFO (self-clearing)\nBit 1 - ’1’ clears RX FIFO (self-clearing)\nField Offset Size Value Description\nReport ID 0 1 0x44 Get status of GPIO pins\nState MSB 1 1 See Table 5\nState LSB 2 1\n© 2014 Exar CorporationXR21B1421\n25 / 50 exar.com/XR21B1421\nRev 1BSET_GPIO_STATE\nTransfer Type: Control Out\nTransfer Size: 5 bytesThe SET_GPIO_STATE report sets the state of pins configured as either GPIO or flow control outputs. Each bit position in\nthe state value will be asserted to the specified ’1’ or ’0’ on th e GPIO pin output if the direct ion for that IO pin is set to output\nand if the corresponding bit position in the mask is set to a ’1’ .Table 5: Get State Bit Positions\nBit GPIO/Pin Pin Name\n15 Reserved\n14 S1 USB_STAT113 9 GPIO9/DSR#12 8 GPIO8/DTR#\n11 7 GPIO7/RI#\n10 6 GPIO6/CD#\n9 Reserved8 S2 USB/STAT275 G P I O 5 / R X T64 G P I O 4 / T X T5R X R X4T X T X3 3 GPIO3/RS48522 G P I O 2 / C T S #11 G P I O 1 / R T S #00 G P I O 0 / C L K\nField Offset Size Value Description\nReport ID 0 1 0x45 Set status of GPIO pins\nState MSB 1 1 See Table 6\nState LSB 2 1Mask MSB 3 1 Mask for output state changesMask LSB 4 1\n© 2014 Exar CorporationXR21B1421\n26 / 50 exar.com/XR21B1421\nRev 1BGET_VERSION\nTransfer Type: Control In\nTransfer Size: 7 bytesThe GET_VERSION report gets vendor, product and revision information.\nGET / SET_OTP_LOCK_BYTE\nTransfer Type: Control In / OutTransfer Size: 3 bytesThe GET / SET_OTP_LOCK_BYTE report gets or sets lock status of on-chip OTP values. Caution: OTP fields that are\nlocked may not be unlocked or have any further modifications.Table 6: Set State Bit Positions\nBit GPIO/Pin Pin Name\n15:14 Reserved\n13 9 GPIO9/DSR#12 8 GPIO8/DTR#\n11 7 GPIO7/RI#\n10 6 GPIO6/CD#\n9:8 Reserved\n75 G P I O 5 / R X T64 G P I O 4 / T X T\n5:4 Reserved\n3 3 GPIO3/RS48522 G P I O 2 / C T S #11 G P I O 1 / R T S #00 G P I O 0 / C L K\nField Offset Size Value Description\nReport ID 0 1 0x46 Get device version information\nPID LSB 1 1 0x21 Least Significant Byte of PIDRevision 2 1 0x02 Manufacturer revision number\nField Offset Size Value Description\nReport ID 0 1 0x47 Get device lock bytes\nLock Value MSB 1 1 0xFF OTP programmed fields\n© 2014 Exar CorporationXR21B1421\n27 / 50 exar.com/XR21B1421\nRev 1BTable 7  shows 13 distinct fields within the OTP . Each field may be individually locked by SET_LOCK_BYTE report by writing\na ’0’ in the selected bit position to lock the field. Setting a value of 0x0 will lock all of the OTP fields from any further m odifi-\ncations.\nGET / SET_TRANSFER_MODE\nTransfer Type: Control In / Out\nTransfer Size: 3 bytesThe GET / SET_TRANSFER_MODE report reports or sets the UART wide mode.Lock Value LSB 2 1 0x8F OTP programmed fields\nTable 7: Lock State Bit Positions\nBit Name\n15 Vendor ID String2\n14 Vendor ID String113 Auto Flush Buffers12 Release Version\n11 Power Mode\n10 bMaxPower\n9P I D8V I D7 Language ID\n6:4 Reserved\n3 Pin Config\n2 Serial String\n1 Product ID String20 Product ID String1\nField Offset Size Value Description\nReport ID 0 1 0x48 Get or set UART wide mode\nTX Wide Enable 1 1 Bit 0 = 0 Disable TX wide mode - default\nBit 0 = 1 Enable TX wide modeField Offset Size Value Description\n© 2014 Exar CorporationXR21B1421\n28 / 50 exar.com/XR21B1421\nRev 1BGET / SET_GPIO_CONFIG\nTransfer Type: Control In / Out\nTransfer Size: 13 bytesThe GET / SET_GPIO_CONFIG report contains several fields that may be used to get or set a variety of configurations for\nthe GPIO pins, as detailed in Table 8 . The direction field reports or sets pins configured as GPIO as inputs or outputs. The\nopen drain field reports or sets GPIO outputs as either push-pull or open drain. The pull-up and pull-down field enables /disables weak pull-up or pull-down resistors on GPIO inputs. The clock divisor fields set the output clock frequency forGPIO0_CLK.\nThe default configuration for the XR21B1421 pins is defined by the Pin Config report (0x66). Note that the default direction\nand functionality of pins in t he GET_GPIO_CONFIG r eport will not initially match that of  the Pin Configuration report. Any\nchanges to GPIO pins made via the SET_G PIO_CONFIG report will take effect im mediately and will be lost following any\nsubsequent power cycle or re-enumeration of the device. Pins configured for special functions, e.g. CLK, RTS#, etc. are notcontrolled by the direction, open drain, pull-up, or pull-down fields of this report.\nTable 8  shows the GPIO pins that may be controlled or queried by the GET / SET GPIO CONFIG report. A ’1’ or ’0’ in the\nappropriate bit position will control the direction, open drain selection and pu ll-up or pull-down for that GPIO pin.RX Wide Enable 2 1 Bit 0 = 0 Disable RX wide mode - default\nBit 0 = 1 Enable RX wide modeBit 1 = 0 Disable low latencyBit 1 = 1 Enable low latency - default\nField Offset Size Value Description\nReport ID 0 1 0x49 Get or set GPIO  pin configuration (dynamic)\nDirection MSB 1 1 See Table 8 Direction selection (input or output)\n0: input1: output Direction LSB 2 1\nOpen Drain MSB 3 1 Open drain selection\n0: pin configured as an output will be open drain\n1: pin configured as an output will be push-pull output Open Drain LSB 4 1\nPull-up MSB 5 1 Pull-up resistor enable\n0: disables pull-up resistor on pin configured as an input\n1: enables pull-up resistor on pin configured as an input Pull-up LSB 6 1\nPull-down MSB 7 1 Pull-down resistor enable\n0: disables pull-down resistor on pin configured as an input1: enables pull-down resistor on pin conf igured as an input, unless pull-up resistor is \nalso enabled for same input pinPull-down LSB 8 1\nClk div. High 9 1 See Table 9 Clock divider for high period\nClk div. Low 10 1 See Table 10 Clock divider for low period\nGPIO Mode 0 11 1 See Table 11 Auto RS-485 half-duplex enable control\nGPIO Mode 1 12 1 See Table 12 Clock and toggle controlsField Offset Size Value Description\n© 2014 Exar CorporationXR21B1421\n29 / 50 exar.com/XR21B1421\nRev 1BOutput clock frequency is determined by the formula 24 MHz / (High period + Low period) unless both values are 0. For\nexample, if both Clock Divider High and Clock Divider Low are set to a value of 1, the clock will be 12 MHz with a 50% duty\ncycle. If both high and low periods are set to 0 the clock freq uency will be 24 MHz. This clock will be selected as an output i f\nthe SET_PIN_CONFIG or the SET_GPIO_CONFIG report selects the clock output.\nOutput clock must be enabled by GPIO_MODE1 CLK_EN field of this report.Table 8: GPIO Config Bit Positions\nBit GPIO/Pin Pin Name\n15:14 Reserved\n13 9 GPIO9/DSR#12 8 GPIO8/DTR#\n11 7 GPIO7/RI#\n10 6 GPIO6/CD#\n9:8 Reserved\n75 G P I O 5 / R X T64 G P I O 4 / T X T\n5:4 Reserved\n3 3 GPIO3/RS48522 G P I O 2 / C T S #11 G P I O 1 / R T S #00 G P I O 0 / C L K\nTable 9: Clock Divider High Bit Positions\nBit Description\n7:0 High Period\nTable 10: Clock Divider Low Bit Positions\nBit Description\n7:0 Low Period\n© 2014 Exar CorporationXR21B1421\n30 / 50 exar.com/XR21B1421\nRev 1BTable 11: GPIO Mode 0 Bit Positions\nBit Description\n7 Reserved\n6:5 RS485_SEL\n00: GPIO3/RS485 pin functions as GPIO\n01: GPIO3/RS485 pin functions as auto RS-485 half-duplex enable \n(RS485_PIN = ’1’)\n10: GPIO3/RS485 pin asserted during UART transmit only with address \nmatch (RS485_PIN = ’1’)11: Reser ved\n4 RS485_PIN\n0: Selected auto RS-485 half-duplex enable pin is GPIO1/RTS#/RS485, \nfunction determined by MODEM_SEL field1: Selected auto RS-485 half-duplex enable pin is GPIO3/RS485, func-\ntion determined by RS485_SEL field\n3 RS485_POL\n0: Auto RS-485 half-duplex enable active low1: Auto RS-485 half-duplex enable active high\n2:0 MODEM_SEL\nWith MODEM_SEL = "001" for RTS/CTS flow control, H/W flow control \nmust also be enabled in UART_CONFIG report (not default).\n000: No GPIO pins used for either RTS/CTS or DTR/DSR hardware \nflow control001: GPIO1 and GPIO2 used for hardware auto-RTS/CTS flow control - \ndefault\n010: GPIO8 and GPIO9 used for hardware auto-DTR/DSR flow control011: GPIO1/RTS#/RS485 pin asserted during UART transmit (RS485_PIN = ’0’)\n100: GPIO1/RTS#/RS485 pin asserted during UART transmit only with \naddress match (RS485_PIN = ’0’)101 to 111: Reserved\nTable 12: GPIO Mode 1 Bit Positions\nBit Description\n7 RXT_EN\n0: Disable Receive toggle output func tion (pin reverts to GPIO function-\nality)\n1: Enable Receive toggle output function\n6 TXT_EN\n0: Disable Transmit toggle output function (pin reverts to GPIO function-ality)\n1: Enable Transmit toggle output function\n5:1 Reserved\n0 CLK_EN\n0: Disable Clock output function (pin reverts to GPIO functionality)1: Enable Clock output function\n© 2014 Exar CorporationXR21B1421\n31 / 50 exar.com/XR21B1421\nRev 1BGET / SET_SUSPEND_OUTPUT_CONFIG\nTransfer Type: Control In / Out\nTransfer Size: 5 bytesThe GET / SET_SUSPEND_OUTPUT_CONFIG report gets or sets GPIO pins state and mode when the device is sus-\npended by the USB host if the USE_SUSPEND bit is enabled. Suspend state is the value that is driven on the correspond-\ning bit position in Table 13 . Suspend mode configures the output to push-pull or open drain. Suspend state and suspend\nmode both default to 0x0000. \nField Offset Size Value Description\nReport ID 0 1 0x4A Get or Set output states and modes during suspend\nSuspend state \nMSB1 1 See Table 13 Asserted state in suspend mode\n0: All GPIO pins are asserted low in USB Suspend state if USE_SUSPEND = ’1’1: All GPIO pins are asserted high in USB Suspend state if USE_SUSPEND = ’1’\nSuspend state \nLSB21\nSuspend mode \nMSB3 1 Output mode when in suspend mode\n0: GPIO pin is Open Drain in USB Suspend state if USE_SUSPEND = ’1’\n1: GPIO pin is Push-pull in USB Suspend state if USE_SUSPEND = ’1’\nSuspend mode \nLSB41\nTable 13: Suspend Stat e Mode Bit Positions\nBit GPIO/Pin Pin Name\n15 USE_SUSPEND\n14 Reserved13 9 GPIO9/DSR#12 8 GPIO8/DTR#\n11 7 GPIO7/RI#\n10 6 GPIO6/CD#\n9:8 Reserved\n75 G P I O 5 / R X T64 G P I O 4 / T X T\n5:4 Reserved\n3 3 GPIO3/RS48522 G P I O 2 / C T S #11 G P I O 1 / R T S #00 G P I O 0 / C L K\n© 2014 Exar CorporationXR21B1421\n32 / 50 exar.com/XR21B1421\nRev 1BGET / SET_CHIP_ID\nTransfer Type: Control In / Out\nTransfer Size: 7 bytesThe GET / SET_CHIP_ID report reports Exar’s device manufacturer’s USB Vendor and Product IDs (VID and PID) irrespec-\ntive of any changes to the VID and PID using the SET_USB_CONFIG report.  (However, values from the SET_USB_CON-FIG report will be reported to the U SB host during device enumeration.)\nGET / SET_UART_CONFIG\nTransfer Type: Control In / Out\nTransfer Size: 9 bytesThe GET / SET_UART_CONFIG report gets or sets baud rate, parity, flow control mode, and number of data and stop bits\nas well as controls auto-RS-485 half-duplex and hardware flow control modes. Field Offset Size Value Description\nReport ID 0 1 0x4F Get Chip ID\nVID Chip LSB 1 1 0xE2 LSB of Exar Vendor VIDVID Chip MSB 2 1 0x04 MSB of Exar Vendor PIDPID Chip LSB 3 1 0x21 LSB of Exar Vendor PIDPID Chip MSB 4 1 0x14 MSB of Exar Vendor VIDChip Revision 5 1 0x02 Device revisionReserved 6 1 0x00 Reserved, return 0x00\nField Offset Size Value Description\nReport ID 0 1 0x50 Get or set UART configuration\nBaud Rate 3 1 1 Baud[31:24] OTP programmed fieldsBaud Rate 2 2 1 Baud[23:16] Baud: Any integer value from  300 (0x0000012C) to 12,000,000 (0x00B71B00) is a \nvalid baud rate. The default baud rate is 115,200 bps.\nBaud Rate 1 3 1 Baud[15:8]\nBaud Rate 0 4 1 Baud[7:0]Parity 5 1 0x00 No Parity (Default)\n0x01 Even Parity0x02 Odd Parity0x03 Mark Parity0x04 Space Parity\nData Control 6 1 See Table 14 Control flow control mode, RS-485 half-duplex mode select and polarity, and duplex\n© 2014 Exar CorporationXR21B1421\n33 / 50 exar.com/XR21B1421\nRev 1BSET_TRANSMIT_LINE_BREAK\nTransfer Type: Control Out\nTransfer Size: 2 bytesThe SET_TRANSMIT_LINE_BREAK report asserts a line break until the set count value is decremented to 0.Data bits 7 1 0x00 or 0x05 5 data bits\n0x01 or 0x06 6 data bits0x02 or 0x07 7 data bits0x03 or 0x08 8 data bits (Default)0x04 or 0x09 9 data bits\nStop bits 8 1 0x00 1 stop bit (Default)\n0x01 1 .5 if 5 bit data, 2 stop bits if 6, 7 , 8 or 9 bit data\nTable 14: Data Control Bit Positions\nBit Description\n7:4 Reserved\n3 HDUP\n0: Disable half-duplex mode (Default)1: Enable half-duplex mode\n2:0 FLOW_CTL\n000: No flow control (Default)\n001: Hardware flow control010: Software flow control\n011: Multidrop mode - Receive only after address match, Tx indepen-\ndent100: Multidrop mode - Receive / transmit only after address match101 to 111: Reserved\nField Offset Size Value Description\nReport ID 0 1 0x51 Set Line Break condition\nInterval 1 1 Count Count in ms\nAny integer value from 1 to 255 (0xFF) is a valid interval. A value of 0 will assert the \nline break condition until the SET_STOP_LINE_BREAK report 0x52 is received, or \nuntil any non-zero value is decremented to 0. Any data in the TX FIFO will be purged when the line break condition is asserted.Field Offset Size Value Description\n© 2014 Exar CorporationXR21B1421\n34 / 50 exar.com/XR21B1421\nRev 1BSET_STOP_LINE_BREAK\nTransfer Type: Control Out\nTransfer Size: 2 bytesThe SET_STOP_LINE_BREAK report terminates any line break condition in progress.\nGET / SET_SW_FLOW_CTL_CONFIG\nTransfer Type: Control In / OutTransfer Size: 3 bytesThe GET / SET_SW_FLOW_CTL_CONFIG report gets or sets the software flow control XON and XOFF values. The XOFF\nvalue is used by the receiver to stop transmission. If the received value matches the XOFF value with software flow controlenabled, the transmitter will halt transmission until a received character matches the XON value. The default XON characteris 0x11 and the default XOFF character is 0x13.\nGET / SET_ADDR_MATCH_CONFIG\nTransfer Type: Control In / Out\nTransfer Size: 3 bytesThe GET / SET_ADDR_MATCH_CONFIG report gets or sets the multi-drop mode unicast and multicast address match val-\nues.Field Offset Size Value Description\nReport ID 0 1 0x52 Set Stop Line Break condition\nValue 1 1 Set using any value\nField Offset Size Value Description\nReport ID 0 1 0x53 Get / Set SW Flow Control Configuration\nXON 1 1 Char1 Char1 is the XONXOFF 2 1 Char2 Char2 is the XOFF\nField Offset Size Value Description\nReport ID 0 1 0x54 Get / Set Address Matching Configuration\nUNI_ADD 1 1 Char1 Unicast address (default value 0x11)MULTI_ADD 2 1 Char2 Multicast address (default value 0x13)\n© 2014 Exar CorporationXR21B1421\n35 / 50 exar.com/XR21B1421\nRev 1BGET / SET_LOOPBACK_MODE\nTransfer Type: Control In / Out\nTransfer Size: 2 bytesThe GET / SET_LOOPBACK_MODE report gets or sets internal loopback of the UART data and flow control signals.\nGET / SET_IR_MODE\nTransfer Type: Control In / OutTransfer Size: 2 bytesThe GET / SET_IR_MODE report gets or sets the infrared mode.Field Offset Size Value Description\nReport ID 0 1 0x55 Get / Set Internal UART Loopback\nLoop 1 1 See Table 15 Loopback mode control\nTable 15: Loopback Mode Bit Positions\nBit Description\n7:3 Reserved\n2 DTR_DSR\n0: Disable loopback (default)\n1: Enable loopback\n1 RTS_CTS\n0: Disable loopback (default)1: Enable loopback\n0 TX_RX\n0: Disable loopback (default)\n1: Enable loopback\nField Offset Size Value Description\nReport ID 0 1 0x56 Get / Set IR mode\nIR mode 1 1 See Table 16 Infrared mode control\n© 2014 Exar CorporationXR21B1421\n36 / 50 exar.com/XR21B1421\nRev 1BGET / SET_XCVR_EN_DELAY\nTransfer Type: Control In / Out\nTransfer Size: 2 bytesThe GET / SET_XCVR_EN_DELAY report gets or sets the delay in deasserting the or auto RS-485 half-duplex enable.\nGET / SET_FLOW_CTRL_THRESHOLD\nTransfer Type: Control In / OutTransfer Size: 3 bytes\nThe GET / SET_FLOW_CTRL_THRESHOLD report gets or sets flow control threshold used in hardware and software flow\ncontrol. The default flow control threshol d is 0x1C2 or 450 decimal. For hardware  flow control RTS or DTR will be deas-\nserted (high) when the receive FIFO exceeds the flow control threshold and asserted low at or below the threshold. For soft-ware flow control the XOFF character is pushed into the transmit FIFO and transmitted to the remote UART above thethreshold and the XON character is transmitted at the threshold setting.Table 16: IR Mode Bit Positions\nBit Description\n7:3 Reserved\n2 TX_PULSE\n0: Transmit pulses are 3/16th of and centered in the bit period\n1: Transmit pulses are 4/16th of and centered in the bit period\n1 RX_INVERT\n0: Standard IrDA receive data\n1: Non-standard inverted receive data\n0 EN\n0: Disable IR mode1: Enable IR mode\nField Offset Size Value Description\nReport ID 0 1 0x57 Get / Set auto RS-485 half-duplex enable delay\nDelay 1 1 See Table 17 Values from 0 - 15 baud times\nTable 17: Delay Bit Positions\nBit Description\n7:4 Reserved\n3:0 Delay\nField Offset Size Value Description\nReport ID 0 1 0x58 Get / Set auto RS-485 half-duplex enable delay\n© 2014 Exar CorporationXR21B1421\n37 / 50 exar.com/XR21B1421\nRev 1BThreshold MSB 1 1 See Table 18 Values from 0 - 511\nThreshold LSB 2 1\nTable 18: Flow Control Threshold Bit Positions\nBit Description\n15:9 Reserved\n8 Threshold MSB\n7:0 Threshold LSBField Offset Size Value Description\n© 2014 Exar CorporationXR21B1421\n38 / 50 exar.com/XR21B1421\nRev 1BGET / SET_USB_CONFIG\nTransfer Type: Control In / Out\nTransfer Size: 11 bytesThe GET / SET_USB_CONFIG report gets or sets USB configuration data, including VID, PID, max power, attributes,\ndevice release number, as well as a UART FIFO flush control.  Set permanently programs on-chip OTP . Six fields defined in\nthe mask may be individually programmed. Once a field is programmed, any attempt to program that field again will beignored.\nField Offset Size Value Description\nReport ID 0 1 0x60 Get / Set Flow USB Configuration data\nVID LSB 1 1 VID USB Vendor ID\nVendor ID obtained from USB.org. The default VID is Exar’s assigned VID: 0x04E2.\nVID MSB 2 1\nPID LSB 3 1 PID USB Product ID\nProduct ID specified by vendor. The defaul t PID is Exar’s assigned PID: 0x1421 .\nPID MSB 4 1\nMAXPOWER 5 1 bMaxPower USB device bMaxPower in 2 mA units\nMust be less than or equal to 100 mA (0x32) for a low power device and 500 mA \n(0xFA) for a high power device. The default MAXPOWER is 0x32.\nATTRIBUTES 6 1 See Table 19 USB bmAttributes\nREL_MAJOR 7 1REL_MINOR 8 1AUTO_FLUSH 9 1 See Table 20\nMASK 10 1 See Table 21\nTable 19: Attributes Bit Positions\nBit Description\n7:4 Reserved\n3 REM_WAKE_EN\n0: No remote wakeup support (Default)\n1: Remote wakeup supported\n2 REM_WAKE_VALID\n0: REM_WAKE_EN bit not valid (Default)\n1: REM_WAKE_EN bit valid\n1:0 POWER_MODE\n00: Bus Powered (Default)01: Self Powered\n10: Self Powered\n11: Reser ved\n© 2014 Exar CorporationXR21B1421\n39 / 50 exar.com/XR21B1421\nRev 1BTo program any of the fields, the corresponding mask bit mu st be set to a ’1’ .  (Write only, will read back ’0’ .)\nGET / SET_VENDOR_STRING1\nTransfer Type: Control In / Out\nTransfer Size: 64 bytesThe GET / SET_VENDOR_STRGIN report gets or sets up to 61 bytes (30 1/2 unicode characters) of vendor string.Table 20: Auto Flush Bit Positions\nBit Description\n7:4 Reserved\n3 RX_CLOSE\n0: Do not automatically flush buffers on UART enable/disable condition. \n(Default)1: Automatically flush buffers on UART enable/disable condition.\n2 RX_OPEN\n0: Do not automatically flush buffers on UART enable/disable condition.\n1: Automatically flush buffers on UART enable/disable condition. (Default)\n1 TX_CLOSE\n0: Do not automatically flush buffers on UART enable/disable condition. \n(Default)1: Automatically flush buffers on UART enable/disable condition.\n0 TX_OPEN\n0: Do not automatically flush buffers on UART enable/disable condition.\n1: Automatically flush buffers on UART enable/disable condition. (Default)\nTable 21: Mask Bit Positions\nBit Description\n7:6 Reserved\n5 AUTO_FLUSH\n4 REL\n3 POWER_MODE\n2 ATTRIBUTES\n1 PID\n0 VID\nField Offset Size Value Description\nReport ID 0 1 0x61 Get / Set Vendor string 1\nLENGTH 1 1 String Length + 2 bytes\n© 2014 Exar CorporationXR21B1421\n40 / 50 exar.com/XR21B1421\nRev 1BGET / SET_VENDOR_STRING2\nTransfer Type: Control In / Out\nTransfer Size: 64 bytesThe GET / SET_VENDOR_STRING report gets or sets up to 63 bytes (31 1/2 unicode characters) of vendor string.\nVendor string 1 and string 2 combined may set a maximum of 124 ASCII or 62 Unicode UTF-16 characters.\nGET / SET_PRODUCT_STRING1\nTransfer Type: Control In / Out\nTransfer Size: 4 - 64 bytesThe GET / SET_PRODUCT_STRING1 report gets or sets up to 61 bytes (30 1/2 unicode characters) of product string.\nGET / SET_PRODUCT_STRING2\nTransfer Type: Control In / OutTransfer Size: 2 - 64 bytesThe GET / SET_PRODUCT_STRING2 report gets or sets up to re maining 63 bytes (31 1/2 unicode characters) of product\nstring.DESC_TYPE 2 1 0x03 Descriptor type\nSTRING 3 61 61 ASCII / 30 1/2 Unicode Characters\nField Offset Size Value Description\nReport ID 0 1 0x62 Get / Set Product string 2\nSTRING 1 63 63 ASCII / 31 1/2 Unicode Characters\nField Offset Size Value Description\nReport ID 0 1 0x63 Get / Set Product string 1\nLENGTH 1 1 String Length + 2 bytesDESC_TYPE 2 1 0x03 Descriptor typeSTRING 3 61 61 ASCII / 30 1/2 Unicode Characters\nField Offset Size Value Description\nReport ID 0 1 0x64 Get / Set Product string 2\nSTRING 1 63 63 ASCII / 31 1/2 Unicode CharactersField Offset Size Value Description\n© 2014 Exar CorporationXR21B1421\n41 / 50 exar.com/XR21B1421\nRev 1BProduct string 1 and string 2 combined may set a maximum of 124 ASCII or 62 Unicode UTF=16 characters.\nGET / SET_SERIAL_STRING\nTransfer Type: Control In / Out\nTransfer Size: 4 - 64 bytesThe GET / SET_SERIAL_STRING report gets or sets a up to 61 bytes (30 1/2 unicode characters) of product string.\nGET / SET_PIN_CONFIG\nTransfer Type: Control In / OutTransfer Size: 20 bytesThe GET / SET_PIN_CONFIG report gets or sets Pin configurations, including selection of pin functionality, push-pull or\nopen drain if pin is an output, pull-up and pull-down resistor controls, remote wakeup control, USB_STAT functionality selec-tion, suspend configurations, and clock output duty cycle and frequency. The SET_PIN_CONFIG report may only be usedonce. All further attempts to use this report will be ignored by the device. Field Offset Size Value Description\nReport ID 0 1 0x65 Get / Set Product string 1\nLENGTH 1 1 String Length + 2 bytesDESC_TYPE 2 1 0x03 Descriptor typeSTRING 3 61 61 ASCII / 30 1/2 Unicode Characters\nField Offset Size Value Description\nReport ID 0 1 0x66 Get / Set pin configurations\nCLK 1 1 See Table 22 CLK pin configuration\nRTS 2 1 See Table 23 RTS pin configuration\nCTS 3 1 See Table 22 CTS pin configuration\nRS485 4 1 RS485 pin configurationTXT 5 1 TXT pin configurationRXT 6 1 RXT pin configurationCD 7 1 See Table 24 CD pin configuration\nRI 8 1 See Table 25 RI pin configuration\nDTR 9 1 See Table 23 DTR pin configuration\nDSR 10 1 See Table 22 DSR pin configuration\nUART_DATA 11 1 See Table 26 Rx / Tx pin configuration\nUSB_STAT1 12 1 See Table 27 USB_STAT1 pin configuration\nUSB_STAT2 13 1 USB_STAT2 pin configuration\n© 2014 Exar CorporationXR21B1421\n42 / 50 exar.com/XR21B1421\nRev 1BDefault configuration for each pin is shown in Table 30 .SUSPEND_STATE_MSB 14 1 See Table 28 GPIO State During Suspend\n(when USE_SUSPEND is set)0: All GPIO pins asserted low in USB Suspend state\n1: All GPIO pins asserted high in USB Suspend stateSUSPEND_STATE_LSB 15 1\nSUSPEND_MODE_MSB 16 1 See Table 29 GPIO Mode During Suspend\n(when USE_SUSPEND is set)0: GPIO pin is Open Drain when is USB Suspend state\n1: GPIO pin is Push-pull when is USB Suspend stateSUSPEND_MODE_LSB 17 1\nRS485_POL 18 1 Auto RS-485 half-duplex polarity\n0: auto RS-485 half-duplex enable active low1: auto RS-485 half-duplex enable active high\nCLKOUT_DIV 19 1 Output clock frequency\n8-bit value sets output clock frequency divider. Freq out = 2 MHz / 2 x CLK-\nOUT_DIV\nTable 22: CLK, CTS, RS485, TXT, RXT, DSR Pin Bit Positions\nBit Description\n7 PULL_U\n0: disable pull-up resistor\n1: enable pull-up resistor\n6 PULL_D\n0: disable pull-down resistor1: enable pull-down resistor if pull-up is not enabled as well\n5:2 Reserved\n1:0 CONFIG\n00: GPIO Input\n01: GPIO Open drain output\n10: GPIO Push-pull output11: CLK, RS485, TXT, RXT functional ity outputs, CTS, DSR functional-\nity inputs\nIf CTS or DSR functions are selected, RTS and DTR functions (respec-tively) must also be selected and DTR and RTS functions (respectively) \nmust be configured as GPIOs.Field Offset Size Value Description\n© 2014 Exar CorporationXR21B1421\n43 / 50 exar.com/XR21B1421\nRev 1BTable 23: RTS, DTR Pin Bit Positions\nBit Description\n7 PULL_U\n0: disable pull-up resistor\n1: enable pull-up resistor\n6 PULL_D\n0: disable pull-down resistor\n1: enable pull-down resistor if pull-up is not enabled as well\n5:3 Reserved\n2:0 CONFIG\n000: GPIO Input001: GPIO Open drain output\n010: GPIO Push-pull output\n011: RTS, DTR Open drain output (default)100: RTS, DTR Push-pull output\n101 to 111: Reserved\nIf RTS or DTR function is selected, CTS or DSR function (respectively) \nmust also be selected and DSR and CTS function (respecively) must be \nconfigured as GPIOs.\nTable 24: CD Pin Bit Positions\nBit Description\n7 PULL_U\n0: disable pull-up resistor\n1: enable pull-up resistor\n6 PULL_D\n0: disable pull-down resistor\n1: enable pull-down resistor if pull-up is not enabled as well\n5:2 Reserved\n1:0 CONFIG\n00: GPIO Input\n01: GPIO Open drain output\n10: GPIO Push-pull output11: Reser ved\n© 2014 Exar CorporationXR21B1421\n44 / 50 exar.com/XR21B1421\nRev 1BTable 25: RI Pin Bit Positions\nBit Description\n7 PULL_U\n0: disable pull-up resistor\n1: enable pull-up resistor\n6 PULL_D\n0: disable pull-down resistor\n1: enable pull-down resistor if pull-up is not enabled as well\n5 RMTWK\n0: disable remote wakeup capability for RI pin1: enable remote wakeup capability for RI pin. (Remote wakeup must be \nenabled in SET_USB_CONFIG [Attributes] report 0x60.)\n4:2 Reserved\n1:0 CONFIG\n00: GPIO Input (default)01: GPIO Open drain output\n10: GPIO Push-pull output\n11: RI input\nTable 26: UART_DATA Pin Bit Positions\nBit Description\n7 PULL_U\n0: disable Rx pull-up resistor\n1: enable pull-up resistor\n6 PULL_D\n0: disable Rx pull-down resistor1: enable pull-down resistor if pull-up is not enabled as well\n5 RMTWK\n0: disable remote wakeup capability for RX pin\n1: enable remote wakeup capability for RX pin. (Remote wakeup must be enabled in SET_USB_CONFIG [Attributes] report 0x60.)\n4:2 Reserved\n1:0 CONFIG\n00: Reserved\n01: TX Open drain output10: TX Push-pull output\n11: Reser ved\n© 2014 Exar CorporationXR21B1421\n45 / 50 exar.com/XR21B1421\nRev 1BTable 27: USB_STAT1 / USB_STAT2 Pin Configuration Bit Positions\nBit Description\n7:5 Reserved\n4:2 FXN\n000: USB_STAT1 asserted high, USB_STAT2 low during either suspend \nstate or USB reset001: SUSPEND: Asserted high when in USB suspend state\n010: LOW_POWER: Asserted high when in USB suspend state or not \nyet configured011: BUS_RST: Asserted high when USB bus reset is asserted\n100: same as "000"\n101: SUSPEND#: Asserted low when in USB suspend state110: LOW_POWER#: Asserted low when in USB suspend state or not \nyet configured\n111: BUS_RST#: Asserted low when USB bus reset is asserted\n1:0 CONFIG\n00: Reserved\n01: USB_STAT1/2 Open drain output\n10: USB_STAT1/2 Push-pull output11: Reser ved\nTable 28: SUSPEND_STATE Bit Positions\nBit GPIO/Pin Pin Name\n15:14 Reserved\n13 9 GPIO9/DSR#\n12 8 GPIO8/DTR#\n11 7 GPIO7/RI#\n10 6 GPIO6/CD#\n9:8 Reserved\n75 G P I O 5 / R X T64 G P I O 4 / T X T\n5:4 Reserved\n3 3 GPIO3/RS48522 G P I O 2 / C T S #11 G P I O 1 / R T S #00 G P I O 0 / C L K\n© 2014 Exar CorporationXR21B1421\n46 / 50 exar.com/XR21B1421\nRev 1B* USE_SUSPEND is a control signal that  controls the GPIO pins listed in Table 28  and Table 29  when the XR21B1421\ndevice is suspended by the USB host. If USE_SUSPEND is clea red to ’0’ , GPIO pins retain the same output states when\nthe device is suspended as th ey had prior to suspend. When USE_SUSPEND is set to ’1’ , GPIO pins are assigned behavior\ndefined by the SUSPEND_STATE and SUSPEND_MODE fields of  SET_PIN_CONFIG report, with the following exceptions:\nGPIO0/CLK when configured as an output clock will always be driven low, i. e the clock output will stop, and GPIO1/RTS#/\nRS485 or GPIO3/RS485 when configured as a auto RS-4 85 half-duplex enable w ill always be deasserted.Table 29: SUSPEND_MODE Bit Positions\nBit GPIO/Pin Pin Name\n15 USE_SUSPEND*\n14 Reserved13 9 GPIO9/DSR#12 8 GPIO8/DTR#\n11 7 GPIO7/RI#\n10 6 GPIO6/CD#\n9:8 Reserved\n75 G P I O 5 / R X T64 G P I O 4 / T X T\n5:4 Reserved\n3 3 GPIO3/RS48522 G P I O 2 / C T S #11 G P I O 1 / R T S #00 G P I O 0 / C L K\n© 2014 Exar CorporationXR21B1421\n47 / 50 exar.com/XR21B1421\nRev 1B* Although GPOI1/RTS#/RS485 and GPIO2/CTS# have RTS# and CTS# functionality by default, H/W RTS/CTS flow con-\ntrol must be enabled before using this function.\nGET / SET_LANGID\nTransfer Type: Control In / Out\nTransfer Size: 3 bytesThe GET / SET_LANGID report gets or sets unicode UTF-16 Language ID. Default Language ID code is 0x0409Table 30: Default Pin Configuration\nPin Default Value Default Configuration\nRX Rx Data Input (not configurable)\nTX 0x02 Data P-P OutputGPIO0/CLK 0x00 GPIO InputGPIO1/RTS#/RS485 0x03 RTS OD Output*GPIO2/CTS# 0x03 CTS Input*GPIO3/RS485 0x03 RS-485 half-duplex Ctrl PPGPIO4/TXT 0x03 TX Toggle PP OutputGPIO5/RXT 0x03 RX Toggle PP OutputGPIO6/CD# 0x00 GPIO InputGPIO7/RI# 0x00 GPIO InputGPIO8/DTR# 0x02 GPIO PP OutputGPIO9/DSR# 0x02 GPIO PP OutputUSB_STAT1 0xA SUSPEND PP OutputUSB_STAT2 0x1A SUSPEND# PP Output\nField Offset Size Value Description\nReport ID 0 1 0x67 Get / Set Unicode Language ID\nLANGID LSB 1 1 0x09 LSB of UTF-16LE Language ID codeLANGID MSB 2 1 0x04 MSB of UTF-16LE Language ID code\n© 2014 Exar CorporationXR21B1421\n48 / 50 exar.com/XR21B1421\nRev 1BGET / SET_GLOBAL_LOCK\nTransfer Type: Control In / Out\nTransfer Size: 2 bytesThe GET / SET_GLOBAL_LOCK report gets or sets unicode UTF-16 Language ID. Device must have either hardware or\npower on reset before the global lock takes effect.\nApplication Circuits\nThe GPIO inputs are 5V tolerant. However, when GPIO input voltage levels exceed VIO, an external clamp circuit isrequired to prevent VIO from increasing. Two examples of different application circuits are shown in Figure 7 .\nVIO Clamp Circuits\nFigure 7: VIO Clamp CircuitsField Offset Size Value Description\nReport ID 0 1 0x68 Get / Set Unicode Language ID\nGlobal Lock 2 1 0x00 Set bit 0 to a ’1’ to set Global Lock\n/g20/g3/g78 /g525/g49/g61/g59/g22/g57/g25/g36/g3\n/g21/g49/g22/g28/g19/g23/g57/g44/g50\n© 2014 Exar CorporationXR21B1421\n49 / 50 exar.com/XR21B1421\nRev 1BMechanical Dimensions\n24-Pin QFN and 28-Pin QFN\n\uf071\n\uf071 \uf071\n© 2014 Exar CorporationXR21B1421\n50 / 50 exar.com/XR21B1421\nRev 1BFor Further Assistance:\nEmail:  UARTtechsupport@exar.com\nExar Technical Documentation:  http://www.exar.com/techdoc/\nExar Corporation Headquarters and Sales Offices\n48720 Kato Road                          Tel: +1 (510) 668-7000\nFremont, CA 95438 - USA            Fax: +1 (510) 668-7001\nNOTICE\nEXAR Corporation reserves the right to make changes to the produc ts contained in this publication in order to improve design, p erformance or reliability. EXAR Corporation \nassumes no responsibility for the use of any circuits described herein, conveys no license under any patent or other right, and  makes no representation that the circuits are free \nof patent infringement. Charts and schedules contained herein are only for illustration purposes and may vary depending upon a user’s specific application. While the information \nin this publication has been carefully checked; no re sponsibility, however, is assumed for inaccuracies.\nEXAR Corporation does not recommend the use of any of its product s in life support applications where the failure or malfunctio n of the product can reasonably be expected to \ncause failure of the life support system or to significantly af fect its safety or effectiveness. Products are not authorized fo r use in such applications unless EXAR Corporation \nreceives, in writing, assurances to its satisfaction that: (a) the risk of injury or damage has been minimized; (b) the user as sumes all such risks; (c) potential liability of EXAR Cor-\nporation is adequately protected under the circumstances.\nReproduction, in part or whole, without the prior written consent of EXAR Corporation is prohibited.Ordering Information\nRevision HistoryPart Number Package Green Operating Temperature \nRangePackaging Quantity Marking\nXR21B1421IL24-F 24-pin QFN Y es -40°C to +85°C 490 / Tray XR1421IL\nXR21B1421IL24TR-F 24-pin QFN Y es -40°C to +85°C 3000 / Reel XR1421ILXR21B1421IL28-F 28-pin QFN Y es -40°C to +85°C 490 / Tray XR1421ILXR21B1421IL28TR-F 28-pin QFN Y es -40°C to +85°C 3000 / Reel XR1421IL\nRevision Date Description\n1A April 2014 Initial release\n1B October 2014 Removed “contact factory” notice for 28 QFN package  [ECN1442-07 l 10/14/2014]\n'}]
!==============================================================================!
### Component Summary: XR21B1421IL24-F

**Key Characteristics and Specifications:**

- **Voltage Ratings:**
  - Supply Voltage (VCC_REG): 3.0V to 5.25V
  - VIO Supply Voltage: 1.8V to 3.6V
  - Regulated Output Voltage (VOUT): 3.3V (when powered with 5V input)

- **Current Ratings:**
  - Power Supply Current (ICC): 13 mA (typical) at VCC_REG = 4.4V to 5.25V
  - Low Power Mode Current (ISUSP): 0.85 mA (typical)

- **Power Consumption:**
  - Maximum output current from VCC pin: 200 mA

- **Operating Temperature Range:**
  - -40°C to +85°C

- **Package Type:**
  - 24-pin QFN

- **Special Features or Notes:**
  - USB 2.0 compliant, Full-Speed (12 Mbps)
  - Integrated 48 MHz oscillator (no external crystal required)
  - 512-byte TX and RX FIFOs
  - Supports automatic half-duplex control for RS-485 applications
  - ±15kV ESD protection on USB data lines
  - Configurable GPIO pins (up to 10 GPIOs)
  - Supports remote wakeup and USB suspend/resume operations

- **Moisture Sensitive Level (JEDEC J-STD-020E):**
  - Not specified in the provided text.

**Description of the Component:**
The XR21B1421IL24-F is an enhanced Universal Asynchronous Receiver and Transmitter (UART) bridge that interfaces with a Human Interface Device (HID) class USB. It allows for seamless communication between USB and UART devices, supporting data rates up to 12 Mbps. The device features built-in memory for configuration and supports various modes of operation, including GPIO functionality and RS-485 communication.

**Typical Applications:**
The XR21B1421 is commonly used in applications such as:
- Portable medical diagnostics (e.g., blood glucose meters)
- Health and fitness wellness monitors
- Uninterruptible power supplies (UPS)
- Energy management consoles

This component is ideal for scenarios where USB connectivity is required for UART-based devices, enabling efficient data transfer and control in a compact form factor.