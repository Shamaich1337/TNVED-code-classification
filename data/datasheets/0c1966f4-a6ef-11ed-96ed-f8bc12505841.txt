[{'role': 'system', 'content': 'You are a technical specialist with expertise in electronics. Your task is to analyze datasheets for electronic components and provide a concise summary of the product’s key characteristics and specifications. In addition, you need to gather textual information about the component, including its description and typical applications.Instructions:    Identify the correct component in the datasheet using the provided product code.    Summarize key parameters, including:        Voltage ratings        Current ratings        Power consumption        Operating temperature range        Package type        Special features or notes (if applicable)        Moisture Sensetive Level JEDEC J-STD-020E    Provide a short description of the component, including what it is (e.g., transistor, microcontroller, sensor) and its primary function.    Explain typical applications for the component (e.g., power management, signal processing, data storage, etc.).    Be thorough and accurate: Ensure the information corresponds specifically to the product code, as some datasheets cover multiple variants.Your goal is to create a clear and accurate technical summary that includes both key specifications and a description of what the component is used for.'}, {'role': 'user', 'content': 'Give me information about the component of STM32F103VDH6TR production of ST MICROELECTRONICS from the text:July 2018 DS5792 Rev 13 1/143STM32F103xC, STM32F103xD,\nSTM32F103xE\nHigh-density perf ormance line Arm®-based 32-bit MCU with 256 to 512KB\nFlash, USB, CAN, 11 timers, 3 ADCs, 13 communication interfaces\nDatasheet − production data\nFeatures\n•Core: Arm® 32-bit Cortex®-M3 CPU\n– 72 MHz maximum frequency, 1.25 DMIPS/MHz \n(Dhrystone 2.1) performance at 0 wait state \nmemory access\n– Single-cycle multiplic ation and hardware \ndivision\n•Memories\n– 256 to 512 Kbytes of Flash memory\n– up to 64 Kbytes of SRAM– Flexible static memory controller with 4 Chip \nSelect. Supports Compact Flash, \nSRAM, \nPSRAM, NOR and NAND  memories\n– LCD parallel interface, 8080/6800 modes\n•Clock, reset and supply management\n– 2.0 to 3.6 V application supply and I/Os \n– POR, PDR, and programmable voltage detector \n(PVD)\n– 4-to-16 MHz crystal oscillator – Internal 8 MHz factory-trimmed RC– Internal 40 kHz RC with calibration – 32 kHz oscillator for RTC with calibration\n•Low power\n– Sleep, Stop and Standby modes\n–VBAT supply for RTC and backup registers\n•3 × 12-bit, 1 µs A/D converters (up to 21 \nchannels)\n– Conversion range: 0 to 3.6 V\n– Triple-sample and hold capability– Temperature sensor\n•2 × 12-bit D/A converters\n•DMA: 12-channel  DMA controller\n– Supported peripherals: timers, ADCs, DAC, \nSDIO, I2Ss, SPIs, I2Cs and USARTs\n•Debug mode\n– Serial wire debug (SWD) & JTAG interfaces\n–C o r t e x®-M3 Embedded Trace Macrocell™\n•Up to 112 fast I/O ports\n– 51/80/112 I/Os, all mappable on 16 external \ninterrupt vectors and almost all 5 V-tolerant•Up to 11 timers\n– Up to four 16-bit timers, each with up to 4 \nIC/OC/PWM or pulse counter and quadrature \n(incremental) encoder input\n– 2 × 16-bit motor contro l PWM timers with dead-\ntime generation and emergency stop\n– 2 × watchdog timers (Independent and Window)– SysTick timer: a 24-bit downcounter– 2 × 16-bit basic timers to drive the DAC\n•Up to 13 communica tion interfaces\n– Up to 2 × I2C interfaces (SMBus/PMBus)\n– Up to 5 USARTs (ISO 7816 interface, LIN, IrDA \ncapability, modem control)\n– Up to 3 SPIs (18 Mbit/s), 2 with I2S interface \nmultiplexed\n– CAN interface (2.0B Active)– USB 2.0 full speed interface– SDIO interface\n•CRC calculation unit, 96-bit unique ID\n•ECOPACK® packages\n         Table 1.Device summary\nReference Part number\nSTM32F103xCSTM32F103RC STM32F103VC \nSTM32F103ZC\nSTM32F103xDSTM32F103RD STM32F103VD \nSTM32F103ZD\nSTM32F103xESTM32F103RE STM32F103ZE \nSTM32F103VELQFP64 10 × 10 mm, \nLQFP100 14 × 14 mm, \nLQFP144 20 × 20 mmLFBGA100 10 × 10 mm\nLFBGA144 10 × 10 mmWLCSP64\nwww.st.com\nContents STM32F103xC, STM32F103xD, STM32F103xE\n2/143 DS5792 Rev 13Contents\n1 Introduction . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 9\n2 Description . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 10\n2.1 Device overview . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 11\n2.2 Full compatibility throughout the family  . . . . . . . . . . . . . . . . . . . . . . . . . . 14\n2.3 Overview  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 15\n2.3.1 Arm® Cortex®-M3 core with embedded Flash and SRAM  . . . . . . . . . . 15\n2.3.2 Embedded Flash memory  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 15\n2.3.3 CRC (cyclic redundancy check) calculation unit  . . . . . . . . . . . . . . . . . . 15\n2.3.4 Embedded SRAM  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 152.3.5 FSMC (flexible static memory controller) . . . . . . . . . . . . . . . . . . . . . . . . 15\n2.3.6 LCD parallel interface  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 16\n2.3.7 Nested vectored interrupt controller (NVIC) . . . . . . . . . . . . . . . . . . . . . . 162.3.8 External interrupt/event controller (EXTI)  . . . . . . . . . . . . . . . . . . . . . . . 16\n2.3.9 Clocks and startup . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 16\n2.3.10 Boot modes  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 172.3.11 Power supply schemes  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 17\n2.3.12 Power supply supervisor  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 17\n2.3.13 Voltage regulator  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 172.3.14 Low-power modes  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 18\n2.3.15 DMA . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 18\n2.3.16 RTC (real-time clock) and backup registers . . . . . . . . . . . . . . . . . . . . . . 182.3.17 Timers and watchdogs . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 19\n2.3.18 I²C bus . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 21\n2.3.19 Universal synchronous/asynchronous receiver transmitters (USARTs)  212.3.20 Serial peripheral interface (SPI) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 21\n2.3.21 Inter-integrated sound (I\n2S) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 21\n2.3.22 SDIO  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 222.3.23 Controller area network (CAN)  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 22\n2.3.24 Universal serial bus (USB) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 22\n2.3.25 GPIOs (general-purpose inputs/outputs) . . . . . . . . . . . . . . . . . . . . . . . . 22\n2.3.26 ADC (analog to digital converter) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 22\n2.3.27 DAC (digital-to-analog converter) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 232.3.28 Temperature sensor . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 24\nDS5792 Rev 13 3/143STM32F103xC, STM32F103xD, STM32F103xE Contents\n42.3.29 Serial wire JTAG debug port (SWJ-DP) . . . . . . . . . . . . . . . . . . . . . . . . . 24\n2.3.30 Embedded Trace Macrocell™  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 24\n3 Pinouts and pin descriptions . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 25\n4 Memory mapping  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 40\n5 Electrical characteristi cs  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 41\n5.1 Parameter conditions . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 41\n5.1.1 Minimum and maximum values . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 41\n5.1.2 Typical values . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 41\n5.1.3 Typical curves  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 415.1.4 Loading capacitor  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 41\n5.1.5 Pin input voltage  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 41\n5.1.6 Power supply scheme  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 425.1.7 Current consumption measurement  . . . . . . . . . . . . . . . . . . . . . . . . . . . 42\n5.2 Absolute maximum ratings . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 43\n5.3 Operating conditions  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 44\n5.3.1 General operating conditions . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 44\n5.3.2 Operating conditions at power-up / power-down  . . . . . . . . . . . . . . . . . . 45\n5.3.3 Embedded reset and power control block characteristics  . . . . . . . . . . . 45\n5.3.4 Embedded reference voltage . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 465.3.5 Supply current characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 46\n5.3.6 External clock source characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . 58\n5.3.7 Internal clock source characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . 625.3.8 PLL characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 64\n5.3.9 Memory characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 64\n5.3.10 FSMC characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 665.3.11 EMC characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 86\n5.3.12 Absolute maximum ratings (electrical sensitivity)  . . . . . . . . . . . . . . . . . 87\n5.3.13 I/O current injection characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . 885.3.14 I/O port characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 89\n5.3.15 NRST pin characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 94\n5.3.16 TIM timer characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 95\n5.3.17 Communications interfaces  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 96\n5.3.18 CAN (controller area network) interface . . . . . . . . . . . . . . . . . . . . . . . . 1065.3.19 12-bit ADC characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 106\nContents STM32F103xC, STM32F103xD, STM32F103xE\n4/143 DS5792 Rev 135.3.20 DAC electrical specifications  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 111\n5.3.21 Temperature sensor characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . 113\n6 Package information . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 114\n6.1 LFBGA144 package information  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 114\n6.2 LFBGA100 package information  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 117\n6.3 WLCSP64 package information . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 1206.4 LQFP144 package information . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 122\n6.5 LQFP100 package information . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 126\n6.6 LQFP64 package information . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 1296.7 Thermal characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 132\n6.7.1 Reference document  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 132\n6.7.2 Selecting the product temperature range . . . . . . . . . . . . . . . . . . . . . . . 133\n7 Ordering information  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 135\n8 Revision history  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 136\nDS5792 Rev 13 5/143STM32F103xC, STM32F103xD, STM32F103xE List of tables\n6List of tables\nTable 1. Device summary . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . . . 1\nTable 2. STM32F103xC, STM32F103xD and STM32F103xE features\nand peripheral counts . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 11\nTable 3. STM32F103xx family  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 14\nTable 4. High-density timer feature comparison . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 19Table 5. High-density STM32F103xC/D/E pin definitions. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 31Table 6. FSMC pin definition  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . . 38\nTable 7. Voltage characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . . 43\nTable 8. Current characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . . 43\nTable 9. Thermal characteristics. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 44\nTable 10. General operating conditions . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . 44\nTable 11. Operating conditions at power-up / power-down  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 45Table 12. Embedded reset and power control block characteristics. . . . . . . . . . . . . . . . . . . . . . . . . . 45Table 13. Embedded internal reference voltage. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4 6\nTable 14. Maximum current consumption in Run mode, code with data processing\nrunning from Flash . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 47\nTable 15. Maximum current consumption in Run mode, code with data processing\nrunning from RAM. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  47\nTable 16. Maximum current consumption in Sleep mode, code running from Flash or RAM. . . . . . . 49Table 17. Typical and maximum current consumptions in Stop and Standby modes  . . . . . . . . . . . . 50Table 18. Typical current consumption in  Run mode, code with data processing\nrunning from Flash . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 53\nTable 19. Typical current consumption in Sleep mode, code running from Flash or\nRAM . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . . 54\nTable 20. Peripheral current consumption . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . 55\nTable 21. High-speed external user clock characteristics. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 58Table 22. Low-speed external user clock characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 58Table 23. HSE 4-16 MHz oscillator characteristics. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 6 0\nTable 24. LSE oscillator characteristics (f\nLSE = 32.768 kHz) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 61\nTable 25. HSI oscillator characteristics. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 62\nTable 26. LSI oscillator characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 63\nTable 27. Low-power mode wakeup timings  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 63Table 28. PLL characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . . . 64\nTable 29. Flash memory characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 64\nTable 30. Flash memory endurance and data retention . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 65Table 31. Asynchronous non-multiplexed SRAM/PSRAM/NOR read timings . . . . . . . . . . . . . . . . . . 67Table 32. Asynchronous non-multiplexed SRAM/PSRAM/NOR write timings . . . . . . . . . . . . . . . . . . 68Table 33. Asynchronous multiplexed PSRAM/NOR read timings. . . . . . . . . . . . . . . . . . . . . . . . . . . . 69Table 34. Asynchronous multiplexed PSRAM/NOR write timings  . . . . . . . . . . . . . . . . . . . . . . . . . . . 70Table 35. Synchronous multiplexed NOR/PSRAM read timings  . . . . . . . . . . . . . . . . . . . . . . . . . . . . 72Table 36. Synchronous multiplexed PSRAM write timings. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 74Table 37. Synchronous non-multiplexed NOR/PSRAM read timings . . . . . . . . . . . . . . . . . . . . . . . . . 75Table 38. Synchronous non-multiplexed PSRAM write timings . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 76Table 39. Switching characteristics for PC Card/CF read and write cycles . . . . . . . . . . . . . . . . . . . . 81Table 40. Switching characteristics for NAND Flash read and write cycles . . . . . . . . . . . . . . . . . . . . 85Table 41. EMS characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 86\nTable 42. EMI characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . . . 87\nTable 43. ESD absolute maximum ratings . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 87\nList of tables STM32F103xC, STM32F103xD, STM32F103xE\n6/143 DS5792 Rev 13Table 44. Electrical sensitivities . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . . . . 88\nTable 45. I/O current injection susceptibility . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 88\nTable 46. I/O static characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . . . 89\nTable 47. Output voltage characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . 91\nTable 48. I/O AC characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 93\nTable 49. NRST pin characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . 94\nTable 50. TIMx characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . . . 95\nTable 51. I2C characteristics. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 96\nTable 52. SCL frequency (fPCLK1 = 36 MHz.,VDD_I2C  = 3.3 V) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 97\nTable 53. SPI characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 98\nTable 54. I2S characteristics. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 101\nTable 55. SD / MMC characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 103\nTable 56. USB startup time. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 104\nTable 57. USB DC electrical characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  105\nTable 58. USB: full-speed electrical characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 1 05\nTable 59. ADC characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 106\nTable 60. RAIN max for fADC = 14 MHz. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 107\nTable 61. ADC accuracy - limited test conditions . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 10 7\nTable 62. ADC accuracy  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 108\nTable 63. DAC characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 111\nTable 64. TS characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 113\nTable 65. LFBGA144 – 144-ball low profile fine pitch ball grid array, 10 x 10 mm,\n0.8 mm pitch, package mechanical data  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 114\nTable 66. LFBGA144 recommended PCB design rules (0.8 mm pitch BGA). . . . . . . . . . . . . . . . . . 115Table 67. LFBGA100 - 10 x 10 mm low profile fine pitch ball grid array package\nmechanical data . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  117\nTable 68. LFBGA100 recommended PCB design rules (0.8 mm pitch BGA). . . . . . . . . . . . . . . . . . 118Table 69. WLCSP, 64-ball 4.466 × 4.395 mm, 0.500 mm pitch, wafer-level chip-scale\npackage mechanical data . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 120\nTable 70. WLCSP64 recommended PCB design rules (0.5 mm pitch)  . . . . . . . . . . . . . . . . . . . . . . 121Table 71. LQFP144 - 144-pin, 20 x 20 mm low-profile quad flat package \nmechanical data . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  123\nTable 72. LQPF100 – 14 x 14 mm 100-pin low-profile quad flat package \nmechanical data . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  126\nTable 73. LQFP64 – 10 x 10 mm 64 pin low-profile quad flat package mechanical data. . . . . . . . . 129Table 74. Package thermal characteristics. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  132\nTable 75. Ordering information scheme . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  135\nDS5792 Rev 13 7/143STM32F103xC, STM32F103xD, STM32F103xE List of figures\n8List of figures\nFigure 1. STM32F103xC, STM32F103xD and STM32F103xE performance line block diagram  . . . 12\nFigure 2. Clock tree . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . . . . . . 13\nFigure 3. STM32F103xC/D/E BGA144 ballout  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 25Figure 4. STM32F103xC/D/E performance line BGA100 ballout. . . . . . . . . . . . . . . . . . . . . . . . . . . . 26Figure 5. STM32F103xC/D/E performance line LQFP144 pinout . . . . . . . . . . . . . . . . . . . . . . . . . . . 27Figure 6. STM32F103xC/D/E performance line LQFP100 pinout . . . . . . . . . . . . . . . . . . . . . . . . . . . 28Figure 7. STM32F103xC/D/E performance line LQFP64 pinout . . . . . . . . . . . . . . . . . . . . . . . . . . . . 29Figure 8. STM32F103xC/D/E performance line\nWLCSP64 ballout, ball side  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 30\nFigure 9. Memory map. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 40\nFigure 10. Pin loading conditions. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . . . 41\nFigure 11. Pin input voltage . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 41\nFigure 12. Power supply scheme. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 42\nFigure 13. Current consumption measurement scheme . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 42Figure 14. Typical current consumption in Run mode versus frequency (at 3.6 V) -\ncode with data processing running from RAM, peripherals enabled  . . . . . . . . . . . . . . . . . 48\nFigure 15. Typical current consumption in Run mode versus frequency (at 3.6 V)-\ncode with data processing running from RAM, peripherals disabled  . . . . . . . . . . . . . . . . 48\nFigure 16. Typical current consumption on V\nBAT with RTC on vs. temperature\nat different VBAT values. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 51\nFigure 17. Typical current consumption in Stop mode with regulator in run mode\nversus temperature at different VDD values . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 51\nFigure 18. Typical current consumption in Stop mode with regulator in low-power\nmode versus temperature at different VDD values  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 52\nFigure 19. Typical current consumption in Standby mode versus temperature at\ndifferent VDD values . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 52\nFigure 20. High-speed external clock source AC timing diagram  . . . . . . . . . . . . . . . . . . . . . . . . . . . . 59Figure 21. Low-speed external clock source AC timing diagram. . . . . . . . . . . . . . . . . . . . . . . . . . . . . 59Figure 22. Typical application with an 8 MHz crystal . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 60\nFigure 23. Typical application with a 32.768 kHz crystal . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 62Figure 24. Asynchronous non-multiplexed SRAM/PSRAM/NOR read waveforms . . . . . . . . . . . . . . . 66Figure 25. Asynchronous non-multiplexed SRAM/PSRAM/NOR write waveforms . . . . . . . . . . . . . . . 67Figure 26. Asynchronous multiplexed PSRAM/NOR read waveforms. . . . . . . . . . . . . . . . . . . . . . . . . 68Figure 27. Asynchronous multiplexed PSRAM/NOR write waveforms  . . . . . . . . . . . . . . . . . . . . . . . . 70Figure 28. Synchronous multiplexed NOR/PSRAM read timings  . . . . . . . . . . . . . . . . . . . . . . . . . . . . 71Figure 29. Synchronous multiplexed PSRAM write timings. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 73Figure 30. Synchronous non-multiplexed NOR/PSRAM read timings . . . . . . . . . . . . . . . . . . . . . . . . . 75Figure 31. Synchronous non-multiplexed PSRAM write timings . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 76Figure 32. PC Card/CompactFlash controller waveforms for common memory read access . . . . . . . 77Figure 33. PC Card/CompactFlash controller waveforms for common memory write access. . . . . . . 78Figure 34. PC Card/CompactFlash controlle r waveforms for attribute memory read\naccess. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . . 79\nFigure 35. PC Card/CompactFlash controlle r waveforms for attribute memory write\naccess. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . . 80\nFigure 36. PC Card/CompactFlash controller waveforms for I/O space read access . . . . . . . . . . . . . 80Figure 37. PC Card/CompactFlash controller waveforms for I/O space write access . . . . . . . . . . . . . 81Figure 38. NAND controller waveforms for read access . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 83Figure 39. NAND controller waveforms for write access . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 84\nList of figures STM32F103xC, STM32F103xD, STM32F103xE\n8/143 DS5792 Rev 13Figure 40. NAND controller waveforms for common memory read access . . . . . . . . . . . . . . . . . . . . . 84\nFigure 41. NAND controller waveforms for common memory write access. . . . . . . . . . . . . . . . . . . . . 85Figure 42. Standard I/O input characteristics - CMOS port . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 90Figure 43. Standard I/O input characteristics - TTL port . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 9 0\nFigure 44. 5 V tolerant I/O input characteristics - CMOS port . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 90Figure 45. 5 V tolerant I/O input characteristics - TTL port  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 91Figure 46. I/O AC characteristics definition . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . 94\nFigure 47. Recommended NRST pin protection  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 95Figure 48. I\n2C bus AC waveforms and measurement circuit . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 97\nFigure 49. SPI timing diagram - slave mode and CPHA = 0 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 99Figure 50. SPI timing diagram - slave mode and CPHA = 1\n(1) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 99\nFigure 51. SPI timing diagram - master mode(1) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 100\nFigure 52. I2S slave timing diagram (Philips protocol)(1) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 102\nFigure 53. I2S master timing diag ram (Philips protocol)(1). . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 102\nFigure 54. SDIO high-speed mode  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 103\nFigure 55. SD default mode . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 103\nFigure 56. USB timings: definition of data signal rise and fall time  . . . . . . . . . . . . . . . . . . . . . . . . . . 105Figure 57. ADC accuracy characteristics. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . 108\nFigure 58. Typical connection diagram using the ADC . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 109Figure 59. Power supply and reference decoupling (V\nREF+ not connected to VDDA). . . . . . . . . . . . . 109\nFigure 60. Power supply and reference decoupling (VREF+ connected to VDDA). . . . . . . . . . . . . . . . 110\nFigure 61. 12-bit buffered /non-buffered DAC . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  112\nFigure 62. LFBGA144 – 144-ball low profile fine pitch ball grid array, 10 x 10 mm,\n0.8 mm pitch, package outline  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 114\nFigure 63. LFBGA144 – 144-ball low profile fine pitch ball grid array, 10 x 10 mm,\n0.8 mm pitch, package recommended footprint . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 115\nFigure 64. LFBGA144 marking example (package top view)  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 116Figure 65. LFBGA100 - 10 x 10 mm low profile fine pitch ball grid array package\noutline . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 117\nFigure 66. LFBGA100 – 100-ball low profile fine pitch ball grid array, 10 x 10 mm,\n0.8 mm pitch, package recommended footprintoutline . . . . . . . . . . . . . . . . . . . . . . . . . . . 118\nFigure 67. LFBGA100 marking example (package top view)  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 119Figure 68. WLCSP, 64-ball 4.466 × 4.395 mm, 0.500 mm pitch, wafer-level chip-scale\npackage outline. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 120\nFigure 69. WLCSP64 - 64-ball, 4.4757 x 4.4049 mm, 0.5 mm pitch wafer level chip scale\npackage recommended footprint  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 121\nFigure 70. LQFP144 - 144-pin, 20 x 20 mm low-profile quad flat package outline  . . . . . . . . . . . . . . 122Figure 71. LQFP144 - 144-pin,20 x 20 mm low-profile quad flat package \nrecommended footprint. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 124\nFigure 72. LQFP144 marking example (package top view)  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 125Figure 73. LQFP100 – 14 x 14 mm 100 pin low-profile quad flat package outline  . . . . . . . . . . . . . . 126Figure 74. LQFP100 recommended footprint  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 127Figure 75. LQFP100 marking example (package top view)  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 128Figure 76. LQFP64 – 10 x 10 mm 64 pin low-profile quad flat package outline  . . . . . . . . . . . . . . . . 129Figure 77. LQFP64 - 64-pin, 10 x 10 mm low-profile quad flat recommended footprint  . . . . . . . . . . 130Figure 78. LQFP64 marking example (package top view)  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 131Figure 79. LQFP100 P\nD max vs. TA . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 134\nDS5792 Rev 13 9/143STM32F103xC, STM32F103xD, STM32F103xE Introduction\n1351 Introduction\nThis datasheet provides the ordering informat ion and mechanical devic e characteristics of \nthe STM32F103xC, STM32F103xD and STM32F103xE high-density performance line \nmicrocontrollers. For more details on th e whole STMicroelectronics STM32F103xC/D/E \nfamily, please refer to Section 2.2: Full compatib ility throughout the family .\nThe high-density STM32F103xC/D/E datasheet should be read in conjunction with the \nSTM32F10xxx reference manual.For information on programming, erasing and protection of the internal Flash memory \nplease refer to the STM32F10xxx Flash programming manual.\nThe reference and Flash programming manuals are both available from the STMicroelectronics website www.st.com .\nFor information on the Arm\n®(a) Cortex®-M3 core please refer to the Cortex®-M3 Technical \nReference Manual, available from the www.arm.com  website at the following address: \nhttp://infocenter.arm.com .\na. Arm is a registered trademark of Arm Limited (o r its subsidiaries) in the US and/or elsewhere.\nDescription STM32F103xC, STM32F103xD, STM32F103xE\n10/143 DS5792 Rev 132 Description\nThe STM32F103xC, STM32F103xD and STM32F103xE performance line family \nincorporates the high-performance Arm® Cortex®-M3 32-bit RISC core operating at a \n72 MHz frequency, high-speed embedded memories (Flash memory up to 512 Kbytes and SRAM up to 64 Kbytes), and an extensive range of enhanced I/Os and peripherals connected to two APB buses. All devices offer three 12-bit ADCs, four general-purpose 16-\nbit timers plus two PWM timers, as we ll as standard and advanced communication \ninterfaces: up to two I\n2Cs, three SPIs, two I2Ss, one SDIO, five USARTs, an USB and a \nCAN.\nThe STM32F103xC/D/E high-dens ity performance line family operates in the –40 to \n+105 °C temperature range, from a 2.0 to 3.6 V power supply. A comprehensive set of power-saving mode allows the design of low-power applications.\nThese features make the STM32F103xC/D/E hi gh-density performance line microcontroller \nfamily suitable for a wid e range of applications such as motor drives, application control, \nmedical and handheld equipment, PC and gami ng peripherals, GPS platforms, industrial \napplications, PLCs, inverters, printers, scanners, alarm systems video intercom, and HVAC.\nDS5792 Rev 13 11/143STM32F103xC, STM32F103xD, STM32F103xE Description\n1352.1 Device overview\nThe STM32F103xC/D/E high-densit y performance line family offers devices in six different \npackage types: from 64 pins to 144 pins. Depending on the device chosen, different sets of peripherals are included, the description below gives an overview of the complete range of \nperipherals proposed in this family.\nFigure 1  shows the general block diagram of the device family.\n         Table 2. STM32F103xC, STM32F103xD and STM32F103xE features\nand peripheral counts\nPeripherals STM32F103Rx STM32F103Vx STM32F103Zx\nFlash memory in Kbytes 256 384 512 256 384 512 256 384 512\nSRAM in Kbytes 48 64 48 64 48 64\nFSMC No Yes(1)\n1. For the LQFP100 and BGA100 packages, only FSMC B ank1 and Bank2 are available. Bank1 can only \nsupport a multiplexed NOR/PSRAM memory using the NE1 Chip Select. Bank2 can only support a 16- or \n8-bit NAND Flash memory using the NCE2 Chip Select. The interrupt line cannot be used since Port G is \nnot available in this package.Yes\nTimersGeneral-purpose 4\nAdvanced-control 2\nBasic 2\nCommSPI(I2S)(2)\n2. The SPI2 and SPI3 interfaces give the flexibility to work  in an exclusive way in either the SPI mode or the \nI2S audio mode.3(2)\nI2C2\nUSART 5\nUSB 1\nCAN 1SDIO 1\nGPIOs 51 80 112\n12-bit ADC \nNumber of channels3\n163\n163\n21\n12-bit DAC\nNumber of channels2\n2\nCPU frequency 72 MHz\nOperating voltage 2.0 to 3.6 V\nOperating temperaturesAmbient temperatures: –40 to +85 °C /–40 to +105 °C (see Table 10 )\nJunction temperature: –40 to + 125 °C (see Table 10 )\nPackage LQFP64, WLCSP64 LQFP100, BGA100 LQFP144, BGA144\nDescription STM32F103xC, STM32F103xD, STM32F103xE\n12/143 DS5792 Rev 13Figure 1. STM32F103xC, STM32F103xD and STM32F103xE performance line block \ndiagram\n1. TA = –40 °C to +85 °C (suffix 6, see Table 75 ) or –40 °C to +105 °C (suffix 7, see Table 75 ), junction \ntemperature up to 105 °C or 125 °C, respectively.\n2. AF = alternate function on I/O port pin.90!;\x11\x15\x1a\x10=%84\x0e)4\x11\x11\x12!&!("\x12\n\x12X\x08\x18X\x11\x16BIT\t7+50&MAX\x1a\x00\x14\x18\x0f\x17\x12\x00-(Z633\n)\x12#\x12\'0\x00$-!\x11\n4)-\x12\n4)-\x1384!,\x00\x13\x12K(Z&LASH\x00\x15\x11\x12\x00+BYTES6$$\n"ACKUP\x00INTERFACE\n4)-\x14"US-ATRIX\x00\x16\x14\x00BIT\n24#2#\x00\x18\x00-(Z#ORTEX\r-\x13\x00#05\n$BUS\nOBL&LASH\nINTERFACE\n53!24\x12\n30)\x12\x00\x0f\x00)\x123\x12"ACKUP\nREG\n4)-\x11\n)\x12#\x1128\x0c\x0048\x0c\x00#43\x0c\x00243\x0c53!24\x132#\x00\x14\x10\x00K(Z\n3TANDBY)7$\'\n 6"!40/2\x00\x0f\x000$2 6$$!\n6"!4\x1d\x11\x0e\x18\x006\x00TO\x00\x13\x0e\x16\x006\n#+\x00AS\x00!&28\x0c\x0048\x0c\x00#43\x0c\x00243\x0c\n#+\x00AS\x00!&.6)#\n30)\x11\x00INTERFACE 6$$! 06$)NT\n!0"\x12!75\n4)-\x18\x00\n\x12X\x08\x18X\x11\x16BIT\t30)\x13\x00\x0f\x00)\x123\x13\x005!24\x14\n28\x0c48\x00AS\x00!&5!24\x1528\x0c48\x00AS\x00!&4)-\x150,,\n 6$$!&3-#\x00\n$!#?/54\x11\x00AS\x00!&\n$!#?/54\x12\x00AS\x00!&32!-\x00\n\x16\x14\x00+"\n\'0\x00$-!\x12\n4)-\x16\n4)-\x17.*4234\n*4$)\n*4#+\x0f37#,+\n*4-3\x0f37$)/\n*4$/\nAS\x00!&\n!;\x12\x15\x1a\x10=\n$;\x11\x15\x1a\x10=\n#,+\n./%\n.7%\n.%;\x14\x1a\x11=\n.",;\x11\x1a\x10=\n.7!)4\n.,\x00\x08OR\x00.!$6\t\nAS\x00!&\x17\x00CHANNELS\n\x15\x00CHANNELS\n\'0)/\x00PORT\x00!\n\'0)/\x00PORT\x00"\n\'0)/\x00PORT\x00#\n\'0)/\x00PORT\x00$\n\'0)/\x00PORT\x00%\n\'0)/\x00PORT\x00&\n\'0)/\x00PORT\x00\'\n53!24\x11\n4EMP\x0e\x00SENSOR\n\x11\x12\rBIT\x00!$#\x11\n\x11\x12\rBIT\x00!$#\x12\x11\x12\rBIT\x00!$#\x13)&\n)&\n)&0";\x11\x15\x1a\x10=\n0#;\x11\x15\x1a\x10=\n0$;\x11\x15\x1a\x10=\n0%;\x11\x15\x1a\x10=\n0&;\x11\x15\x1a\x10=\n0\';\x11\x15\x1a\x10=\n\x14\x00CHANNELS\n\x13\x00COMPL\x0e\x00CHANNELS"+).\x0c\x00%42\x00AS\x00!&\n\x14\x00CHANNELS\n\x13\x00COMPL\x0e\x00CHANNELS"+).\x0c\x00%42\x00AS\x00!&\n-/3)\x0c\x00-)3/\x0c\n3#+\x0c\x00.33\x00AS\x00!&\n28\x0c\x0048\x0c\x00#43\x0c\n243\x0c\x00#+\x00AS\x00!&\n\x18\x00!$#\x11\x12\x13?).S\nCOMMON\x00TO\x00THE\x00\x13\x00!$#S\n\x18\x00!$#\x11\x12?).S\x00COMMON\nTO\x00!$#\x11\x00\x06\x00!$#\x12\n\x15\x00!$#\x13?).S\x00ON\x00!$#\x13\n6\n2%&\x0b62%&n \x006$$!\n!0"\x12\x1a\x00&MAX\x00\x1d\x00\x14\x18\x0f\x17\x12\x00-(Z!0"\x114RACE\nCONTROLLER0BUS\n)BUS\n3YSTEM\n2ESET\x00\x06\n#LOCKCONTROL0#,+\x11\n0#,+\x12(#,+&#,+0OWER\n6OLT\x0e\x00REG\x0e\n\x13\x0e\x13\x006\x00TO\x00\x11\x0e\x18\x006\n3UPPLY\nSUPERVISION 6$$\n0/2\n2ESET.234\n6$$!633!\n/3#?).\n/3#?/54 6$$\n84!,\x00/3#\n\x14\r\x11\x16\x00-(Z\n/3#\x13\x12?).\n/3#\x13\x12?/54\n4!-0%2\r24#\x0f\n!,!2-\x0f3%#/.$\x00/54\n\x14\x00CHANNELS\x0c\x00%42\x00AS\x00!&\n\x14\x00CHANNELS\x0c\x00%42\x00AS\x00!&\n\x14\x00CHANNELS\x0c\x00%42\x00AS\x00!&\n\x14\x00CHANNELS\x00AS\x00!&\n-/3)\x0f3$\x0c\x00-)3/\n3#+\x0f#+\x0c\x00-#+\x0c\x00.33\x0f73\x00AS\x00!&\n-/3)\x0f3$\x0c\x00-)3/\n3#+\x0f#+\x0c\x00-#+\x0c\x00.33\x0f73\x00AS\x00!&\n3#,\x0c\x003$!\x0c\x003-"!\x00AS\x00!&\n3#,\x0c\x003$!\x0c\x003-"!\x00AS\x00!&\nBX#!.\x00DEVICE\n53"\x00\x12\x0e\x10\x00&3\nDEVICE53"?$0\x0f#!.?48\n53"?$-\x0f#!.?2832!-\x00\x15\x11\x12\x00"\n77$\'\nAI\x11\x14\x16\x16\x16G!0"\x11\x1a\x00&MAX\x00\x1d\x00\x12\x14\x0f\x13\x16\x00-(Z42!#%#,+\n42!#%$;\x10\x1a\x13=AS\x00!3\n37\x0f*4!\'40)5\n4RACE\x0fTRIG\n3$)/$;\x17\x1a\x10=\n#-$\n#+\x00AS\x00!&\n!("\x1a\x00&MAX\x00\x1d\x00\x14\x18\x0f\x17\x12\x00-(Z\n!("\x12\n\x11\x12BIT\x00$!#\x11)&)&\n)&\n\x11\x12BIT\x00$!#\x12\nDS5792 Rev 13 13/143STM32F103xC, STM32F103xD, STM32F103xE Description\n135Figure 2. Clock tree\n1. When the HSI is used as a PLL clock input, the maxi mum system clock frequency t hat can be achieved is \n64 MHz.\n2. For the USB function to be available, both HSE and PLL must be enabled, with the USBCLK at 48 MHz.\n3. To have an ADC conversion time of 1 µs, APB2 must be at 14 MHz, 28 MHz or 56 MHz.+6(\x0326&\x17\x10\x14\x19\x030+]\n26&B,1\x0326&B287\n26&\x16\x15B,1\n26&\x16\x15B287/6(\x0326&\n\x16\x15\x11\x1a\x19\x1b\x03N+]+6,\x035&\x1b\x030+]\n/6,\x035&\n\x17\x13\x03N+]WR\x03,QGHSHQGHQW\x03:DWFKGRJ\x03\x0b,:\'*\x0c3//[\x15\x0f\x03[\x16\x0f\x03[\x17\x033//08/\n+6(\x03 \x03+LJK\x036SHHG\x03([WHUQDO\x03FORFN\x03VLJQDO\n/6(\x03 \x03/RZ\x036SHHG\x03([WHUQDO\x03FORFN\x03VLJQDO/6,\x03 \x03/RZ\x036SHHG\x03,QWHUQDO\x03FORFN\x03VLJQDO+6,\x03 \x03+LJK\x036SHHG\x03,QWHUQDO\x03FORFN\x03VLJQDO/HJHQG\x1d\n0&2\x03&ORFN\x032XWSXW0DLQ3//;735(\n\x12\x15\x11\x11\x11\x0f\x03[\x14\x19 $+%\n3UHVFDOHU\n\x12\x14\x0f\x03\x15\x11\x11\x18\x14\x15\n\x12\x153//&/.\n+6,\n+6($3%\x14\n3UHVFDOHU\n\x12\x14\x0f\x03\x15\x0f\x03\x17\x0f\x03\x1b\x0f\x03\x14\x19\n$\'&\n3UHVFDOHU\n\x12\x15\x0f\x03\x17\x0f\x03\x19\x0f\x03\x1b$\'&&/.3&/.\x14+&/.\n3//&/.WR\x03$+%\x03EXV\x0f\x03FRUH\x0f\x03\nPHPRU\\\x03DQG\x03\'0$86%&/.\nWR\x0386%\x03LQWHUIDFH86%\n3UHVFDOHU\n\x12\x14\x0f\x03\x14\x11\x18\nWR\x03$\'&\x14\x0f\x03\x15\x03RU\x03\x16\n/6(\n/6,+6,\n\x12\x14\x15\x1b\x12\x15\n+6,\n+6(SHULSKHUDOVWR\x03$3%\x14\n3HULSKHUDO\x03&ORFN\x03\n(QDEOH\x03\x0b\x15\x13\x03ELWV\x0c\n(QDEOH\x03\x0b\x19\x03ELWV\x0c3HULSKHUDO\x03&ORFN\x03\n$3%\x15\n3UHVFDOHU\n\x12\x14\x0f\x03\x15\x0f\x03\x17\x0f\x03\x1b\x0f\x03\x14\x193&/.\x15\n7,0\x14\x03\t\x03\x1b\x03WLPHUVWR\x037,0\x14\x03DQG\x037,0\x1b\x03SHULSKHUDOV\x03WR\x03$3%\x15\n3HULSKHUDO\x03&ORFN\x03\n(QDEOH\x03\x0b\x14\x18\x03ELWV\x0c\n(QDEOH\x03\x0b\x15\x03ELW\x0c3HULSKHUDO\x03&ORFN\x03\x17\x1b\x030+]\n\x1a\x15\x030+]\x03PD[\n\x1a\x15\x030+]\n\x1a\x15\x030+]\x03PD[\x16\x19\x030+]\x03PD[\nWR\x0357&3//65& 6:\n0&2\x03&66WR\x03&RUWH[\x036\\VWHP\x03WLPHU \x12\x1b&ORFN\x03\n(QDEOH\x03\x0b\x17\x03ELWV\x0c\n6<6&/.\n\x03PD[\n57&&/.\n57&6(/>\x14\x1d\x13@\x037,0[&/.7,0;&/.\n,:\'*&/.\n6<6&/.)&/.\x03&RUWH[\nIUHH\x03UXQQLQJ\x03FORFN\n\x12\x157,0\x15\x0f\x16\x0f\x17\x0f\x18\x0f\x19\x0f\x1aWR\x037,0\x15\x0f\x16\x0f\x17\x0f\x18\x0f\x19\x03DQG\x03\x1a\n7R\x036\',2\x03$+%\x03LQWHUIDFH\n3HULSKHUDO\x03FORFN\nHQDEOH+&/.\x12\x15WR\x03)60&)60&&/.WR\x036\',2\n3HULSKHUDO\x03FORFN\nHQDEOH\n3HULSKHUDO\x03FORFN\nHQDEOHWR\x03,\x156\x16\nWR\x03,\x156\x153HULSKHUDO\x03FORFN\nHQDEOH\n3HULSKHUDO\x03FORFN\nHQDEOH,\x156\x16&/.\n,\x156\x15&/.\n6\',2&/.\nDL\x14\x17\x1a\x18\x15E,I\x03\x0b$3%\x14\x03SUHVFDOHU\x03 \x14\x0c\x03[\x14\nHOVH\x03[\x15\n,I\x03\x0b$3%\x15\x03SUHVFDOHU\x03 \x14\x0c\x03[\x14\nHOVH\x03[\x15)/,7)&/.\nWR\x03)ODVK\x03SURJUDPPLQJ\x03LQWHUIDFH\nDescription STM32F103xC, STM32F103xD, STM32F103xE\n14/143 DS5792 Rev 132.2 Full compatibility throughout the family\nThe STM32F103xC/D/E is a complete family whose members are fully pin-to-pin, software \nand feature compatible. In the reference ma nual, the STM32F103x4 and STM32F103x6 are \nidentified as low-density devices, the STM32F 103x8 and STM32F103xB are referred to as \nmedium-density devices and the STM32F 103xC, STM32F103xD and STM32F103xE are \nreferred to as high-density devices.\nLow-density and high-density  devices are an extension of  the STM32F103x8/B medium-\ndensity devices, they are specified in the STM32F103x4/6 and STM32F103xC/D/E \ndatasheets, respectively. Low-density devic es feature lower Flash memory and RAM \ncapacities, less timers and peripherals. Hig h-density devices have higher Flash memory \nand RAM capacities, and additional peripherals like SDIO, FSMC, I2S and DAC while \nremaining fully compatible with the other members of the family.\nThe STM32F103x4, STM32F103x6, STM3 2F103xC, STM32F103xD and STM32F103xE \nare a drop-in replacement for the STM32F103x8/B devices, allowing the user to try different memory densities and providing a greater degree of freedom during the development cycle.\nMoreover, the STM32F103xx performance line fa mily is fully compatible with all existing \nSTM32F101xx access line and STM32F102xx USB access line devices.\n         Table 3. STM32F103xx family\nPinoutLow-density devices Medium-density devices High-density devices\n16 KB Flash32 KB \nFlash(1) 64 KB Flash128 KB \nFlash256 KB \nFlash384 KB Flash 512 KB Flash\n6 KB RAM 10 KB RAM 20 KB RAM 20 KB RAM 48 RAM 64 KB RAM 64 KB RAM\n144 5 × USARTs\n4 × 16-bit timers, 2 × basic timers\n3 × SPIs, 2 × I2Ss, 2 × I2Cs\nUSB, CAN, 2 × PWM timers\n3 × ADCs, 2 × DACs, 1 × SDIO\nFSMC (100- and 144-pin packages(2))1003 × USARTs\n3 × 16-bit timers\n2 × SPIs, 2 × I2Cs, USB, \nCAN, 1 × PWM timer\n2 × ADCs642 × USARTs\n2 × 16-bit timers1 × SPI, 1 × I\n2C, USB, CAN, \n1 × PWM timer\n2 × ADCs48\n36\n1. For orderable part numbers that do not show the A internal code after the temperature range code (6 or 7), the reference \ndatasheet for electrical characte ristics is that of the STM 32F103x8/B medium-density devices.\n2. Ports F and G are not available in devices delivered in 100-pin packages. \nDS5792 Rev 13 15/143STM32F103xC, STM32F103xD, STM32F103xE Description\n1352.3 Overview\n2.3.1 Arm® Cortex®-M3 core with embedded Flash and SRAM\nThe Arm Cortex®-M3 processor is the latest generation of Arm processors for embedded \nsystems. It has been developed to provide a low-cost platform that meets the needs of MCU implementation, with a reduced pin count and low-power consumption, while delivering outstanding computational performance and an advanced system response to interrupts.\nThe Arm Cortex\n®-M3 32-bit RISC processor features e xceptional code-effic iency, delivering \nthe high-performance expected from an Arm core in the memory size usually associated \nwith 8- and 16-bit devices.\nWith its embedded Arm core, STM32F103xC, STM32F103xD and STM32F103xE \nperformance line family is compatib le with all Arm tools and software.\nFigure 1  shows the general block diagram of the device family.\n2.3.2 Embedded Flash memory\nUp to 512 Kbytes of embedded Flash is available for storing programs and data. \n2.3.3 CRC (cyclic redundan cy check) calculation unit\nThe CRC (cyclic redundancy check) calculation unit  is used to get a CRC code from a 32-bit \ndata word and a fixed generator polynomial.\nAmong other applications, CRC-based techniques are used to verify data transmission or \nstorage integrity. In the scope of the EN/IEC 60335-1 standard, they offer a means of verifying the Flash memory integrity. The CRC calculation unit helps compute a signature of the software during runtime, to be compared  with a reference signature generated at link-\ntime and stored at a given memory location.\n2.3.4 Embedded SRAM\nUp to 64 Kbytes of embedded SRAM accessed (read/write) at CPU clock speed with 0 wait \nstates.\n2.3.5 FSMC (flexible static memory controller)\nThe FSMC is embedded in the STM32F103xC, STM32F103xD and STM32F103xE performance line family. It has four Chip Select outputs supporting the following modes: PC \nCard/Compact Flash, SRAM, PSRAM, NOR and NAND.\nFunctionality overview:\n• The three FSMC interrupt lines are ORed in order to be connected to the NVIC\n• Write FIFO\n• Code execution from external memory except for NAND Flash and PC Card\n• The targeted frequency, f\nCLK, is HCLK/2, so external a ccess is at 36 MHz when HCLK \nis at 72 MHz and external access is at 24 MHz when HCLK is at 48 MHz\nDescription STM32F103xC, STM32F103xD, STM32F103xE\n16/143 DS5792 Rev 132.3.6 LCD parallel interface\nThe FSMC can be configured to interface seam lessly with most graphic LCD controllers. It \nsupports the Intel 8080 and Motorola 6800 modes, and is flexible enough to adapt to specific LCD interfaces. This LCD parallel inte rface capability makes it  easy to build cost-\neffective graphic applications using LCD modules with embedded controllers or high-\nperformance solutions using external controllers with dedicated acceleration.\n2.3.7 Nested vectored interrupt controller (NVIC)\nThe STM32F103xC, STM32F103xD and STM32F 103xE performance line embeds a nested \nvectored interrupt controller able to handle up to 60 maskable interrupt channels (not including the 16 interrupt lines of Cortex\n®-M3) and 16 priority levels. \n• Closely coupled NVIC gives lo w latency interrupt processing\n• Interrupt entry vector table address passed directly to the core\n• Closely coupled NVIC core interface\n• Allows early processing of interrupts\n• Processing of late arriving  higher priority interrupts\n• Support for tail-chaining\n• Processor state automatically saved\n• Interrupt entry restored on interrupt exit with no instruction overhead\nThis hardware block provides flexible interrupt management features with minimal interrupt \nlatency.\n2.3.8 External interrupt /event controller (EXTI)\nThe external interrupt/event controller consists  of 19 edge detector lines used to generate \ninterrupt/event requests. Each line can be independently configured to select the trigger event (rising edge, falling edge, both) and can be masked independently. A pending register \nmaintains the status of the interrupt requests. The EXTI can detect an external line with a pulse width shorter than the Internal APB2 clock period.  Up to 112 GPIOs can be connected \nto the 16 external interrupt lines.\n2.3.9 Clocks and startup\nSystem clock selection is perf ormed on startup, however the internal RC 8 MHz oscillator is \nselected as default CPU clock on reset. An external 4-16 MHz clock can be selected, in \nwhich case it is monitored for fa ilure. If failure is detected, th e system automatically switches \nback to the internal RC oscillator.  A software interrupt is genera ted if enabled. Similarly, full \ninterrupt management of the PLL clock entry is  available when necessary (for example with \nfailure of an indirectly used external oscillator).\nSeveral prescalers allow the configuration of the AHB fr equency, the high speed APB \n(APB2) and the low speed APB (APB1) domains. The maximum frequency of the AHB and the high speed APB domains is 72 MHz. The maximum allowed frequency of the low speed \nAPB domain is 36 MHz. See Figure 2  for details on the clock tree.\nDS5792 Rev 13 17/143STM32F103xC, STM32F103xD, STM32F103xE Description\n1352.3.10 Boot modes\nAt startup, boot pins are used to  select one of three boot options:\n• Boot from user Flash: you have an option to boot from any of two memory banks. By \ndefault, boot from Flash memory bank 1 is se lected. You can choose to boot from Flash \nmemory bank 2 by setting a bit in the option bytes.\n• Boot from system memory\n• Boot from embedded SRAM\nThe boot loader is located in system memory. It is used to reprogram the Flash memory by \nusing USART1. \n2.3.11 Power supply schemes\n• VDD = 2.0 to 3.6 V: external power supply for I/Os and the internal regulator. \nProvided externally through VDD pins.\n• VSSA, VDDA = 2.0 to 3.6 V: external analog power supplies for ADC, DAC, Reset \nblocks, RCs and PLL (minimum voltage to be applied to VDDA is 2.4 V when the ADC \nor DAC is used). VDDA and VSSA must be connected to VDD and VSS, respectively.\n• VBAT = 1.8 to 3.6 V: power supply  for RTC, external clock 32 kHz oscillator and backup \nregisters (through power switch) when VDD is not present.\nFor more details on how to connect power pins, refer to Figure 12: Power supply scheme .\n2.3.12 Power supply supervisor\nThe device has an integrated power-on reset (POR)/power-down reset (PDR) circuitry. It is \nalways active, and ensures proper operation starting from/down to 2 V. The device remains in reset mode when V\nDD is below a specified threshold, VPOR/PDR , without the need for an \nexternal reset circuit.\nThe device features an embedded programmable voltage detector (PVD) that monitors the \nVDD/VDDA power supply and compares it to the VPVD threshold. An interrupt can be \ngenerated when VDD/VDDA drops below the VPVD threshold and/or when VDD/VDDA is \nhigher than the VPVD threshold. The interrupt service routine can then generate a warning \nmessage and/or put the MCU into a safe state. The PVD is enabled by software. Refer to Table 12: Embedded reset and power control block characteristics  for the values of \nV\nPOR/PDR  and VPVD.\n2.3.13 Voltage regulator\nThe regulator has three operation modes: main (MR), low-power (LPR) and power down.\n• MR is used in the nominal regulation mode (Run) \n• LPR is used in the Stop modes.\n• Power down is used in Standby mode: the re gulator output is in high impedance: the \nkernel circuitry is powered do wn, inducing zero consumption (but the contents of the \nregisters and SRAM are lost)\nThis regulator is always enabled after reset. It is disabled in Standby mode.\nDescription STM32F103xC, STM32F103xD, STM32F103xE\n18/143 DS5792 Rev 132.3.14 Low-power modes\nThe STM32F103xC, STM32F103xD and STM32F103xE performance line supports three \nlow-power modes to achieve the best compro mise between low-power consumption, short \nstartup time and available wakeup sources:\n• Sleep  mode\nIn Sleep mode, only the CPU is stopped. All peripherals continue to operate and can \nwake up the CPU when an interrupt/event occurs.\n• Stop  mode\nStop mode achieves the lowest power consumption while retaining the content of \nSRAM and registers. All clocks in the 1.8 V domain are stopped, the PLL, the HSI RC \nand the HSE crystal oscillators are disabled . The voltage regulator can also be put \neither in normal or in low-power mode. The device can be woken up from Stop mode by any of the EXTI line. The EXTI line source can be one of the 16 external lines, the PVD output, the RTC alarm or the USB \nwakeup. \n• Standby  mode\nThe Standby mode is used to achieve the lowest power consumption. The internal \nvoltage regulator is switched off so that the entire 1.8 V domain is powered off. The PLL, the HSI RC and the HSE crystal oscillato rs are also switched off. After entering \nStandby mode, SRAM and register contents are lost except for registers in the Backup domain and Standby circuitry. \nThe device exits Standby mode when an external reset (NRST pin), an IWDG reset, a \nrising edge on the WKUP pin, or an RTC alarm occurs.\nNote: The RTC, the IWDG, and the corresponding clock sources are not stopped by entering Stop \nor Standby mode.\n2.3.15 DMA\nThe flexible 12-channel general-purpose DMAs (7 channels for DMA1 and 5 channels for DMA2) are able to manage memory-to-memory , peripheral-to-memory and memory-to-\nperipheral transfers. The two DMA controllers support circular buffer management, removing the need for user code interventio n when the controller reaches the end of the \nbuffer.\nEach channel is connected to dedicated hardw are DMA requests, with support for software \ntrigger on each channel. Configuration is made by software and transfer sizes between source and destination are independent.\nThe DMA can be used with the main peripherals: SPI, I\n2C, USART, general-purpose, basic \nand advanced-control timers TIMx, DAC, I2S, SDIO and ADC.\n2.3.16 RTC (real-time cl ock) and backup registers\nThe RTC and the backup registers are supplied through a switch that takes power either on \nVDD supply when present or through the VBAT pin. The backup registers are forty-two 16-bit \nregisters used to store 84 bytes of user application data when VDD power is not present. \nThey are not reset by a system or power re set, and they are not reset when the device \nwakes up from the Standby mode.\nThe real-time clock provides a set of continuously running counters which can be used with \nsuitable software to provide a clock calendar function, and provides an alarm interrupt and a \nDS5792 Rev 13 19/143STM32F103xC, STM32F103xD, STM32F103xE Description\n135periodic interrupt. It  is clocked by a 32.768 kHz external crystal, resonator or oscillator, the \ninternal low-power RC oscillato r or the high-speed  external clock di vided by 128. The \ninternal low-speed RC has a typical frequency of 40 kHz. The RTC can be calibrated using an external 512 Hz output to compensate for any natural quartz deviation. The RTC features \na 32-bit programmable counter for long term measurement using the Compare register to \ngenerate an alarm. A 20-bit prescaler is us ed for the time base clock and is by default \nconfigured to generate a time base of 1 second from a clock at 32.768 kHz. \n2.3.17 Timers and watchdogs\nThe high-density STM32F103xC/D/E performanc e line devices include up to two advanced-\ncontrol timers, up to four general-purpose time rs, two basic timers, two watchdog timers and \na SysTick timer.\nTable 4  compares the features of the advanced-c ontrol, general-purpose and basic timers.\n         Table 4. High-density timer feature comparison\nTimerCounter \nresolutionCounter \ntypePrescaler \nfactorDMA request \ngenerationCapture/compare \nchannelsComplementary\noutputs\nTIM1, \nTIM816-bitUp, \ndown, \nup/downAny integer \nbetween 1 \nand 65536Yes 4 Yes\nTIM2, \nTIM3, \nTIM4, \nTIM516-bitUp, \ndown, \nup/downAny integer \nbetween 1 \nand 65536Yes 4 No\nTIM6, \nTIM716-bit UpAny integer \nbetween 1 \nand 65536Yes 0 No\nDescription STM32F103xC, STM32F103xD, STM32F103xE\n20/143 DS5792 Rev 13Advanced-control timers (TIM1 and TIM8)\nThe two advanced-control timers (TIM1 and TIM8) can each be seen as a three-phase \nPWM multiplexed on 6 channels. They  have complementary PWM outputs with \nprogrammable inserted dead-times. They can also be seen as a complete general-purpose timer. The 4 independent channels can be used for:\n• Input capture\n• Output compare\n• PWM generation (edge or center-aligned modes)\n• One-pulse mode output\nIf configured as a standard 16-bit timer, it has the same features as the TIMx timer. If \nconfigured as the 16-bit PW M generator, it has full modu lation capability (0-100%). \nIn debug mode, the advanced-control timer counter can be frozen and the PWM outputs \ndisabled to turn off any power switch driven by these outputs.\nMany features are shared with those of the general-purpose TIM timers which have the \nsame architecture. The advanced-control timer can therefore work together with the TIM timers via the Timer Link feature fo r synchronization or event chaining. \nGeneral-purpose timers (TIMx)\nThere are up to 4 synchronizable general-purpose timers (TIM2, TIM3, TIM4 and TIM5) \nembedded in the STM32F103xC, STM32F103xD and STM32F103xE performance line devices. These timers are based on a 16-bit aut o-reload up/down counter, a 16-bit prescaler \nand feature 4 independent channels each for input capture/output compare, PWM or one-pulse mode output. This gives up to 16 input captures / output compares / PWMs on the largest packages.The general-purpose timers can work together with the advanced-control timer via the Timer \nLink feature for synchronization or event chaining. Their counter can be frozen in debug mode. Any of the general-purpose timers can be used to generate PWM outputs. They all have independent DMA request generation.\nThese timers are capable of handling quadrat ure (incremental) encoder signals and the \ndigital outputs from 1 to 3 hall-effect sensors.\nBasic timers TIM6 and TIM7\nThese timers are mainly used for DAC trigge r generation. They can also be used as a \ngeneric 16-bit time base.\nIndependent watchdog\nThe independent watchdog is based on a 12-bit downcounter and 8-bit prescaler. It is clocked from an independent 40 kHz internal RC  and as it operates independently from the \nmain clock, it can operate in Stop and Stan dby modes. It can be used either as a watchdog \nto reset the device when a problem occurs, or as a free running timer for application timeout management. It is hardware or software configurable through the option bytes. The counter \ncan be frozen in debug mode.\nWindow watchdog\nThe window watchdog is based on a 7-bit downcounter that can be set as free running. It \ncan be used as a watchdog to reset the device when a problem occurs. It is clocked from \nDS5792 Rev 13 21/143STM32F103xC, STM32F103xD, STM32F103xE Description\n135the main clock. It  has an early warning interrupt capab ility and the counter can be frozen in \ndebug mode.\nSysTick timer\nThis timer is dedicated to real-time operating systems, but could also be used as a standard \ndown counter. It features:\n• A 24-bit down counter\n• Autoreload capability\n• Maskable system interrupt generation when the counter reaches 0.\n• Programmable clock source \n2.3.18 I²C bus\nUp to two I²C bus interfaces can operate in multimaster and slave mo des. They can support \nstandard and fast modes. \nThey support 7/10-bit addressing mode and 7-bit dual addressing mode (as slave). A \nhardware CRC generation/verification is embedded.\nThey can be served by DMA and they support SMBus 2.0/PMBus.\n2.3.19 Universal synchr onous/asynchronous receiver transmitters (USARTs)\nThe STM32F103xC, STM32F103xD and STM32F103xE performance line embeds three \nuniversal synchronous /asynchronous receiver transmitters (USART1, USART2 and \nUSART3) and two universal asynchronous receiver transmitters (UART4 and UART5).\nThese five interfaces provide asynchronou s communication, IrDA SIR ENDEC support, \nmultiprocessor communication  mode, single-wire half-duplex communication mode and \nhave LIN Master/S lave capability.\nThe USART1 interface is able to communicate at speeds of up to 4.5 Mbit/s. The other \navailable interfaces communicate at up to 2.25 Mbit/s.\nUSART1, USART2 and USART3 also provide hardware management of the CTS and RTS \nsignals, Smart Card mode (I SO 7816 compliant) and SPI-like communication capability. All \ninterfaces can be served by the DMA controller except for UART5.\n2.3.20 Serial peripheral interface (SPI)\nUp to three SPIs are able to communicate up to 18 Mbits/s in slave and master modes in \nfull-duplex and simplex communication modes. The 3-bit prescaler gives 8 master mode frequencies and the frame is configurable to 8 bits or 16 bits. The hardware CRC generation/verification support s basic SD Card/MMC modes. \nAll SPIs can be served by the DMA controller.\n2.3.21 Inter-integrated sound (I2S)\nTwo standard I2S interfaces (multiplexed with SPI2 an d SPI3) are available, that can be \noperated in master or slave mode. These interf aces can be configured to operate with 16/32 \nbit resolution, as input or output channels. Audio sampling frequencies from 8 kHz up to 48 kHz are supported. When either or both of the I\n2S interfaces is/are configured in master \nDescription STM32F103xC, STM32F103xD, STM32F103xE\n22/143 DS5792 Rev 13mode, the master clock can be output to the external DAC/CODEC at 256 times the \nsampling frequency.\n2.3.22 SDIO\nAn SD/SDIO/MMC host interface is availabl e, that supports MultiMediaCard System \nSpecification Version 4.2 in three different da tabus modes: 1-bit (default), 4-bit and 8-bit.\nThe interface allows data transfer at up to 48 MHz in 8-bit mode, and is compliant with SD Memory Card Specifications Version 2.0.The SDIO Card Specification Version 2.0 is  also supported with two different databus \nmodes: 1-bit (default) and 4-bit.\nThe current version supports only one SD/SDI O/MMC4.2 card at any one time and a stack \nof MMC4.1 or previous.\nIn addition to SD/SDIO/MMC, this interface is also fully compliant with the CE-ATA digital \nprotocol Rev1.1.\n2.3.23 Controller area network (CAN)\nThe CAN is compliant with specif ications 2.0A and B (active) wit h a bit rate up to 1 Mbit/s. It \ncan receive and transmit standard frames with 11-bit identifiers as well as extended frames with 29-bit identifiers. It has three transmit mailboxes, two receive FIFOs with 3 stages and \n14 scalable filter banks.\n2.3.24 Universal serial bus (USB)\nThe STM32F103xC, STM32F103xD and STM32F103xE performance line embed a USB \ndevice peripheral compatible with the US B full-speed 12 Mbs. The USB interface \nimplements a full-speed (12 Mbit/s) function inte rface. It has software-configurable endpoint \nsetting and suspend/resume support. The dedicated 48 MHz clock is generated from the internal main PLL (the clock source must use a HSE crystal oscillator).\n2.3.25 GPIOs (general- purpose inputs/outputs)\nEach of the GPIO pins can be configured by so ftware as output (push-pull or open-drain), as \ninput (with or without pull-up or pull-down) or as peripheral alternate function. Most of the \nGPIO pins are shared with digital or analog alternate functions. All GPIOs are high current-\ncapable.\nThe I/Os alternate function configuration c an be locked if needed following a specific \nsequence in order to avoid spurious writing to the I/Os registers.\n2.3.26 ADC (analog to  digital converter)\nThree 12-bit analog-to-digital converters are embedded into STM32F103xC, STM32F103xD \nand STM32F103xE performance line devices and each ADC shares up to 21 external channels, performing conversions in single-s hot or scan modes. In scan mode, automatic \nconversion is performed on a selected group of analog inputs.\nAdditional logic functions embedded in the ADC interface allow:\n• Simultaneous sample and hold\n• Interleaved sample and hold\n• Single shunt\nDS5792 Rev 13 23/143STM32F103xC, STM32F103xD, STM32F103xE Description\n135The ADC can be served by the DMA controller.\nAn analog watchdog feature allows very precis e monitoring of the converted voltage of one, \nsome or all selected channels. An interrupt is generated when the converted voltage is outside the programmed thresholds.\nThe events generated by the general-purpose timers (TIMx) and the advanced-control \ntimers (TIM1 and TIM8) can be internally connected to the ADC start trigger and injection trigger, respectively, to allow the applicatio n to synchronize A/D conversion and timers.\n2.3.27 DAC (digital-to-analog converter)\nThe two 12-bit buffered DAC channels can be used to convert two digital signals into two \nanalog voltage signal outputs. The chosen design structure is composed of integrated resistor strings and an amplifier in inverting configuration.\nThis dual digital Interface supports the following features:\n• two DAC converters: one for each output channel\n• 8-bit or 12-bit monotonic output\n• left or right data alignment in 12-bit mode\n• synchronized update capability\n• noise-wave generation\n• triangular-wave generation\n• dual DAC channel independent or simultaneous conversions\n• DMA capability for each channel\n• external triggers for conversion\n• input voltage reference V\nREF+\nEight DAC trigger inputs are used in the STM32F103xC, STM32F103xD and \nSTM32F103xE performance line family. The DAC channels are triggered through the timer update outputs that are also connected to different DMA channels.\nDescription STM32F103xC, STM32F103xD, STM32F103xE\n24/143 DS5792 Rev 132.3.28 Temperature sensor\nThe temperature sensor has to generate a voltage that varies linearly with temperature. The \nconversion range is between 2 V < VDDA < 3.6 V. The temperature sensor is internally \nconnected to the ADC1_IN16 input channel whic h is used to convert the sensor output \nvoltage into a digital value.\n2.3.29 Serial wire JTAG debug port (SWJ-DP)\nThe Arm SWJ-DP Interface is embedded, and is a combined JTAG and serial wire debug \nport that enables either a serial wire debug or a JTAG probe to be connected to the target. The JTAG TMS and TCK pins are shared re spectively with SWDIO and SWCLK and a \nspecific sequence on the TMS pin is us ed to switch between JTAG-DP and SW-DP.\n2.3.30 Embedded Trace Macrocell™\nThe Arm® Embedded Trace Macroc ell provides a greater visibilit y of the instruction and data \nflow inside the CPU core by streaming compressed data at a very high rate from the \nSTM32F10xxx through a small number of ETM pins to an external hardware trace port analyzer (TPA) device. The TPA is connected to  a host computer using USB, Ethernet, or \nany other high-speed channel. Real-time instru ction and data flow activity can be recorded \nand then formatted for display on the host computer running debugger software. TPA hardware is commercially available from co mmon development tool vendors. It operates \nwith third party debugger software tools.\nDS5792 Rev 13 25/143STM32F103xC, STM32F103xD, STM32F103xE Pinouts and pin descriptions\n1353 Pinouts and pin descriptions\nFigure 3. STM32F103xC/D/E BGA144 ballout\n1. The above figure shows the package top view. AI1479 8bVDD_7\nPC3 PC2PF6\nVDD_6 VSS_4 PF8\nHVDD_1D PG13PG14PE6 PE5\nC\nPG10PG11\nVDD_5PB8\nNRSTB PG12 PG15\nPC15-\nOSC32_OUTPB9A8 7 6 5 4 3 2 1\nVBAT\nOSC_IN\nOSC_OUTVSS_5\nGFE\nPF7\nPC0PF0 PF1\nPF2\nVSS_10 PG9 PF4 PF3 VSS_3 PF5\nVDD_8 VDD_3 VDD_4\nVSS_8PE4 PB5\nPB6\nBOOT0 PB7\nVSS_11\nPF10\nPC1VDD_11 VDD_10\nPF910 9\nKJVSS_2PD3PD4\nPD1PC12PC11 PD5\nPD2 PD0\nVDD_9\nVSS_9VDD_2\nPG1\nPC5 PA5 PE9PB2/\nBOOT1PC4 PA4 PE10\nPG0 PF13 VREF–PE12 VSSA\nPA1 PE13PA0-WKUP\nPD9PD10 PG4\nPD1312 11\nPG8PA10NC\nPA9PA11PA12 PC10\nPC9 PA8\nPC7\nPC6PC8\nPD14PG3 PG2\nPD15\nML PF15\nPB1 PA7 PE7PF12 PB0 PA6 PE8\nPF14 PF11 VDDAPE14 VREF+\nPA3 PE15PA2\nPB10PD8 PD12\nPB11 PB12PB14 PB15\nPB13PC13-\nTAMPER-RTCPE3 PE2 PE1 PE0PB4\nJTRSTPB3\nJTDOPD6 PD7PA15\nJTDIPA14\nJTCKPA13\nJTMS\nPE11 VSS_6VSS_7 VSS_1 PG7 PD11 PG5 PG6PC14-\nOSC32_IN\nPinouts and pin descriptions STM32F103xC, STM32F103xD, STM32F103xE\n26/143 DS5792 Rev 13Figure 4. STM32F103xC/D/E performance line BGA100 ballout\n1. The above figure shows the package top view.AI14601cPE10PC14-\nOSC32_IN\nPC5 PA5PC3PB4\nPE15PB2 PC4 PA4\nHPE14\nPE11 PE7D PD4PD3PB8 PE3\nC\nPD0PC12\nPE5PB5\nPC0PE2\nB PC11 PD2PC15-\nOSC32_OUTPB7\nPB6A8 7 6 5 4 3 2 1\nVSS_5 OSC_IN\nOSC_OUT VDD_5\nGFE\nPC1\nVREF–PC13-\nTAMPER-\nRTCPB9 PA15 PB3\nPE4 PE1\nPE0\nVSS_1PD1 PE6 NRST PC2 VSS_3VSS_4\nNC VDD_3VDD_4\nPB15VBAT PD5\nPD6\nBOOT0 PD7\n\x01VSS_2\nVSSA\nPA1VDD_2VDD_1\nPB14PA0-WKUP10 9\nKJPD10PD11PA8PA9\nPA10PA11PA12 PC10PA13 PA14\nPC9 PC7\nPC6\nPD15PC8\nPD14\nPE12\nPB1 PA7 PB11PE8 PB0 PA6 PB10\nPE13 PE9 VDDAPB13 VREF+\nPA3 PB12PA2\nPD8PD9 PD13\nPD12\nDS5792 Rev 13 27/143STM32F103xC, STM32F103xD, STM32F103xE Pinouts and pin descriptions\n135Figure 5. STM32F103xC/D/E pe rformance line LQFP144 pinout\n1. The above figure shows the package top view. \n6$$?\x13\n633?\x13\n0%\x11\n0%\x100"\x190"\x18\n"//4\x10\n0"\x170"\x160"\x150"\x14\n0"\x13\n0\'\x11\x15\n6\n$$?\x11\x11\n633?\x11\x11\n0\'\x11\x140\'\x11\x130\'\x11\x120\'\x11\x110\'\x11\x100\'\x19\n0$\x17\n0$\x166\n$$?\x11\x10\n633?\x11\x10\n0$\x15\n0$\x140$\x130$\x120$\x110$\x100#\x11\x120#\x11\x11\n0#\x11\x10\n0!\x11\x150!\x11\x14\n0%\x12 6$$?\x120%\x13 633?\x120%\x14 .#\n0%\x15 0!\x11\x13\n0%\x16 0!\x11\x12\n6"!4 0!\x11\x11\n0#\x11\x13\r4!-0%2\r24# 0!\x11\x10\n0#\x11\x14\r/3#\x13\x12?). 0!\x19\n0#\x11\x15\r/3#\x13\x12?/54 0!\x18\n0&\x10 0#\x19\n0&\x11 0#\x18\n0&\x12 0#\x17\n0&\x13 0#\x16\n0&\x14 6$$?\x190&\x15 633?\x19633?\x15 0\'\x18\n6$$?\x15 0\'\x17\n0&\x16 0\'\x16\n0&\x17 0\'\x15\n0&\x18 0\'\x14\n0&\x19 0\'\x13\n0&\x11\x10 0\'\x12\n/3#?). 0$\x11\x15\n/3#?/54 0$\x11\x14\n.234 6$$?\x180#\x10 633?\x180#\x11 0$\x11\x13\n0#\x12 0$\x11\x12\n0#\x13 0$\x11\x11\n633! 0$\x11\x10\n62%&\r 0$\x19\n62%&\x0b 0$\x18\n6$$! 0"\x11\x15\n0!\x10\r7+50 0"\x11\x14\n0!\x11 0"\x11\x13\n0!\x12 0"\x11\x120!\x13\n633?\x14\n6$$?\x14\n0!\x140!\x15\n0!\x16\n0!\x17\n0#\x14\n0#\x15\n0"\x100"\x110"\x12\n0&\x11\x11\n0&\x11\x12\n633?\x16\n6$$?\x16\n0&\x11\x13\n0&\x11\x140&\x11\x15\n0\'\x10\n0\'\x11\n0%\x17\n0%\x18\n0%\x19\n6\n33?\x17\n6$$?\x17\n0%\x11\x100%\x11\x110%\x11\x12\n0%\x11\x13\n0%\x11\x140%\x11\x150"\x11\x10\n0"\x11\x11\n6\n33?\x11\n6$$?\x11\x11\x14\x14\n\x11\x14\x13\n\x11\x14\x12\n\x11\x14\x11\n\x11\x14\x10\n\x11\x13\x19\n\x11\x13\x18\n\x11\x13\x17\n\x11\x13\x16\n\x11\x13\x15\n\x11\x13\x14\n\x11\x13\x13\n\x11\x13\x12\n\x11\x13\x11\n\x11\x13\x10\n\x11\x12\x19\n\x11\x12\x18\n\x11\x12\x17\n\x11\x12\x16\n\x11\x12\x15\n\x11\x12\x14\n\x11\x12\x13\n\x11\x12\x12\n\x11\x12\x11\n\x11\x10\x19\n\x11\n\x12\n\x13\x14\n\x15\n\x16\x17\n\x18\n\x19\n\x11\x10\n\x11\x11\n\x11\x12\x11\x13\n\x11\x14\n\x11\x15\n\x11\x16\n\x11\x17\n\x11\x18\n\x11\x19\n\x12\x10\n\x12\x11\x12\x12\n\x12\x13\n\x12\x14\n\x12\x15\x11\x10\x18\n\x11\x10\x17\n\x11\x10\x16\x11\x10\x15\n\x11\x10\x14\n\x11\x10\x13\x11\x10\x12\n\x11\x10\x11\n\x11\x10\x10\n\x19\x19\n\x19\x18\n\x19\x17\x19\x16\n\x19\x15\n\x19\x14\n\x19\x13\n\x19\x12\n\x19\x11\n\x19\x10\n\x18\x19\n\x18\x18\x18\x17\n\x18\x16\n\x18\x15\n\x18\x14\x13\x17\n\x13\x18\n\x13\x19\n\x14\x10\n\x14\x11\n\x14\x12\n\x14\x13\n\x14\x14\n\x14\x15\n\x14\x16\n\x14\x17\n\x14\x18\n\x14\x19\n\x15\x10\n\x15\x11\n\x15\x12\n\x15\x13\x15\x14\n\x15\x15\n\x15\x16\n\x15\x17\n\x15\x18\n\x15\x19\n\x16\x10\n\x17\x12,1&0\x11\x14\x14\n\x11\x12\x10\n\x11\x11\x19\n\x11\x11\x18\n\x11\x11\x17\n\x11\x11\x16\n\x11\x11\x15\n\x11\x11\x14\x11\x11\x13\n\x11\x11\x12\n\x11\x11\x11\n\x11\x11\x10\x16\x11\n\x16\x12\n\x16\x13\n\x16\x14\n\x16\x15\n\x16\x16\n\x16\x17\x16\x18\n\x16\x19\n\x17\x10\n\x17\x11\x12\x16\n\x12\x17\n\x12\x18\n\x12\x19\n\x13\x10\n\x13\x11\n\x13\x12\n\x13\x13\n\x13\x14\n\x13\x15\n\x13\x16\x18\x13\n\x18\x12\n\x18\x11\n\x18\x10\x17\x19\n\x17\x18\n\x17\x17\n\x17\x16\n\x17\x15\n\x17\x14\n\x17\x13\nAI\x11\x14\x16\x16\x17\nPinouts and pin descriptions STM32F103xC, STM32F103xD, STM32F103xE\n28/143 DS5792 Rev 13Figure 6. STM32F103xC/D/E pe rformance line LQFP100 pinout\n1. The above figure shows the package top view. AI\x11\x14\x13\x19\x11\x11\x10\x10\n\x19\x19\n\x19\x18\n\x19\x17\x19\x16\n\x19\x15\n\x19\x14\x19\x13\n\x19\x12\n\x19\x11\n\x19\x10\n\x18\x19\n\x18\x18\n\x18\x17\n\x18\x16\n\x18\x15\n\x18\x14\n\x18\x13\n\x18\x12\n\x18\x11\n\x18\x10\n\x17\x19\n\x17\x18\n\x17\x17\n\x17\x16\x11\n\x12\n\x13\x14\n\x15\n\x16\n\x17\n\x18\n\x19\n\x11\x10\n\x11\x11\n\x11\x12\x11\x13\n\x11\x14\n\x11\x15\n\x11\x16\n\x11\x17\n\x11\x18\x11\x19\n\x12\x10\n\x12\x11\x12\x12\n\x12\x13\n\x12\x14\n\x12\x15\x17\x15\n\x17\x14\n\x17\x13\x17\x12\n\x17\x11\n\x17\x10\n\x16\x19\n\x16\x18\n\x16\x17\n\x16\x16\n\x16\x15\n\x16\x14\x16\x13\n\x16\x12\n\x16\x11\n\x16\x10\n\x15\x19\n\x15\x18\x15\x17\n\x15\x16\n\x15\x15\x15\x14\n\x15\x13\n\x15\x12\n\x15\x116$$?\x12\x00\n633?\x12\x00\x00\n.#\x00\x00\n0!\x00\x11\x13\x00\x00\n0!\x00\x11\x12\x00\x000!\x00\x11\x11\x00\x00\n0!\x00\x11\x10\x00\x00\n0!\x00\x19\x00\x000!\x00\x18\x00\x00\n0#\x19\x00\x00\n0#\x18\x00\x00\n0#\x17\x00\x00\n0#\x16\x00\x00\n0$\x11\x15\x00\x000$\x11\x14\x00\x00\n0$\x11\x13\x00\x00\n0$\x11\x12\x00\x00\n0$\x11\x11\x00\x00\n0$\x11\x10\x00\x00\n0$\x19\x00\x000$\x18\x00\x00\n0"\x11\x15\x00\x00\n0"\x11\x14\x00\x00\n0"\x11\x13\x00\x00\n0"\x11\x12\x00\x000!\x13\n633?\x14\n6$$?\x14\n0!\x140!\x15\n0!\x16\n0!\x17\n0#\x14\n0#\x15\n0"\x100"\x11\n0"\x12\n0%\x17\n0%\x18\n0%\x19\n0%\x11\x100%\x11\x11\n0%\x11\x12\n0%\x11\x13\n0%\x11\x14\n0%\x11\x15\n0"\x11\x10\n0"\x11\x11\n633?\x11\n6$$?\x116$$?\x13\x00\x00\n633?\x13\x00\x00\n0%\x11\x00\x00\n0%\x10\x00\x00\n0"\x19\x00\x00\n0"\x18\x00\x00\n"//4\x10\x00\x000"\x17\x00\x00\n0"\x16\x00\x00\n0"\x15\x00\x00\n0"\x14\x00\x00\n0"\x13\x00\x00\n0$\x17\x00\x00\n0$\x16\x00\x00\n0$\x15\x00\x00\n0$\x14\x00\x00\n0$\x13\x00\x00\n0$\x12\x00\x00\n0$\x11\x00\x000$\x10\x00\x00\n0#\x11\x12\x00\x00\n0#\x11\x11\x00\x00\n0#\x11\x10\x00\x00\n0!\x11\x15\x00\x00\n0!\x11\x14\x00\x12\x16\n\x12\x17\n\x12\x18\n\x12\x19\n\x13\x10\n\x13\x11\n\x13\x12\n\x13\x13\n\x13\x14\n\x13\x15\n\x13\x16\x13\x17\n\x13\x18\n\x13\x19\x14\x10\n\x14\x11\n\x14\x12\n\x14\x13\n\x14\x14\n\x14\x15\n\x14\x16\n\x14\x17\n\x14\x18\n\x14\x19\n\x15\x100%\x12\n0%\x13\n0%\x140%\x15\n0%\x16\n6"!4\n0#\x11\x13\r4!-0%2\r24#\n0#\x11\x14\r/3#\x13\x12?).\n0#\x11\x15\r/3#\x13\x12?/54\n633?\x15\n6$$?\x15\n/3#?).\n/3#?/54\n.234\n0#\x10\n0#\x11\n0#\x12\n0#\x13\n633!\n62%&\r\n62%&\x0b\n6$$!\n0!\x10\r7+50\n0!\x11\n0!\x12,1&0\x11\x10\x10\nDS5792 Rev 13 29/143STM32F103xC, STM32F103xD, STM32F103xE Pinouts and pin descriptions\n135Figure 7. STM32F103xC/D/E performance line LQFP64 pinout\n1. The above figure shows the package top view. ϲϰ ϲϯ ϲϮ ϲϭ ϲϬ ϱϵ ϱϴ ϱϳ ϱϲ ϱϱ ϱϰ ϱϯ ϱϮ ϱϭ ϱϬ ϰϵ\nϰϴ\nϰϳ\nϰϲ\nϰϱ\nϰϰ\nϰϯ\nϰϮ\nϰϭ\nϰϬ\nϯϵϯϴ\nϯϳ\nϯϲϯϱ\nϯϰ\nϯϯ\nϭϳ ϭϴ ϭϵ ϮϬ Ϯϭ ϮϮ Ϯϯ Ϯϰ Ϯϵ ϯϬ ϯϭ ϯϮ Ϯϱ Ϯϲ Ϯϳ Ϯϴϭ\nϮ\nϯ\nϰ\nϱ\nϲ\x03\x03\nϳ\x03\x03\nϴ\x03\x03ϵ\x03\x03\nϭϬ\nϭϭϭϮ\nϭϯ\nϭϰ\nϭϱ\nϭϲs\x11\x04d\nW\x12ϭϯͲd\x04DW\x1cZͲZd\x12\nW\x12 ϭϰͲK^\x12 ϯϮͺ/E\nW\x12 ϭϱͲK^\x12 ϯϮͺKh d\nW\x18ϬͲK^ \x12ͺ/E\nW\x18ϭͲK^ \x12ͺKhd\nEZ^d\nW\x12Ϭ\nW\x12ϭ\nW\x12Ϯ\nW\x12ϯ\ns^^\x04\ns\x18\x18\x04\nW\x04 ϬͲt< h W\nW\x04 ϭ\nW\x04 Ϯ\ns\x18\x18ͺϯ\ns^^ͺϯ\nW\x11 ϵ\x03\x03\x03\x03\nW\x11 ϴ\x03\x03\x03\x03\n\x11KK dϬ\x03\x03\x03\x03\nW\x11 ϳ\x03\x03\x03\x03\nW\x11 ϲ\x03\x03\x03\x03\nW\x11 ϱ\x03\x03\x03\x03\nW\x11 ϰ\x03\x03\x03\x03\nW\x11 ϯ\x03\x03\x03\x03\nW\x18Ϯ\x03\x03\x03\x03\nW\x12ϭϮ\nW\x12ϭϭ\nW\x12ϭϬ\nW\x04 ϭϱ\nW\x04 ϭϰ\ns\x18\x18ͺϮ\ns^^ͺϮ\nW\x04 ϭϯ\nW\x04 ϭϮ\nW\x04 ϭϭ\nW\x04 ϭϬW\x04 ϵ\nW\x04 ϴ\nW\x12ϵW\x12ϴ\nW\x12ϳ\nW\x12ϲ\nW\x11 ϭϱ\nW\x11 ϭϰ\nW\x11 ϭϯ\nW\x11 ϭϮW\x04 ϯ\ns^^ͺϰ\ns\x18\x18ͺϰ\nW\x04 ϰ\nW\x04 ϱ\nW\x04 ϲ\nW\x04 ϳ\nW\x12ϰ\nW\x12ϱ\nW\x11 Ϭ\nW\x11 ϭ\nW\x11 Ϯ\nW\x11ϭ Ϭ\nW\x11ϭ ϭ\ns^^ͺϭ\ns\x18\x18ͺϭ>Y&Wϲϰ\nDL\x14\x17\x16\x1c\x15\nPinouts and pin descriptions STM32F103xC, STM32F103xD, STM32F103xE\n30/143 DS5792 Rev 13Figure 8. STM32F103xC/D/E performance line\nWLCSP64 ballout, ball side\nai15460bHDCBA87654321\nGFEVDD_2 PC10 PD2 PB5 PB3 BOOT0 VSS_3VDD_3\nBYPASS/\nVSS_2PA14 PC11 PB4PB6 PB9 PC15 PC14\nPC13 NRST VBATPB7 PC12 PA15 PA12 PA11\nOSC_IN OSC_OUT PC2 PB8 PA13 PA10 PA9 PC9\nPC0 VSSAPA1 PA5 PA8 PC8 PC7 PC6\nPC1 VREF+PA0-\nWKUPVSS_4 PB1 PB11 PB14 PB15\nVDDA PA3VDD_4 PA6 PA7 PB10 PB12 PB13\nPA2 PA4 PC4 PC5 PB0 PB2 VSS_1VDD_1\nDS5792 Rev 13 31/143STM32F103xC, STM32F103xD, STM32F103xE Pinouts and pin descriptions\n135         Table 5. High-density STM3 2F103xC/D/E pi n definitions\nPins\nPin name\nType(1)\nI / O Level(2)\nMain \nfunction(3) \n(after reset)Alternate functions(4)LFBGA144\nLFBGA100\nWLCSP64\nLQFP64\nLQFP100\nLQFP144Default Remap\nA3 A3 - - 1 1 PE2 I/O FT PE2 TRACECK/ FSMC_A23 -\nA2 B3 - - 2 2 PE3 I/O FT PE3 TRACED0/FSMC_A19 -B2 C3 - - 3 3 PE4 I/O FT PE4 TRACED1/FSMC_A20 -\nB3 D3 - - 4 4 PE5 I/O FT PE5 TRACED2/FSMC_A21 -\nB4 E3 - - 5 5 PE6 I/O FT PE6 TRACED3/FSMC_A22 -\nC2 B2 C6 1 6 6 V\nBAT S- VBAT --\nA1 A2 C8 2 7 7PC13-TAMPER-\nRTC(5) I/O - PC13(6)TAMPER-RTC -\nB1 A1 B8 3 8 8PC14-\nOSC32_IN(5) I/O - PC14(6)OSC32_IN -\nC1 B1 B7 4 9 9PC15-\nOSC32_OUT(5) I/O - PC15(6)OSC32_OUT -\nC3 - - - - 10 PF0 I/O FT PF0 FSMC_A0 -\nC4 - - - - 11 PF1 I/O FT PF1 FSMC_A1 -D4 - - - - 12 PF2 I/O FT PF2 FSMC_A2 -\nE2 - - - - 13 PF3 I/O FT PF3 FSMC_A3 -\nE3 - - - - 14 PF4 I/O FT PF4 FSMC_A4 -E4 - - - - 15 PF5 I/O FT PF5 FSMC_A5 -\nD2 C2 - - 10 16 V\nSS_5 S- VSS_5 --\nD3 D2 - - 11 17 VDD_5 S- VDD_5 --\nF3 - - - - 18 PF6 I/O - PF6 ADC3_IN4/FSMC_NIORD -F2 - - - - 19 PF7 I/O - PF7 ADC3_IN5/FSMC_NREG -\nG3 - - - - 20 PF8 I/O - PF8 ADC3_IN6/FSMC_NIOWR -\nG2 - - - - 21 PF9 I/O - PF9 ADC3_IN7/FSMC_CD -G1 - - - - 22 PF10 I/O - PF10 ADC3_IN8/FSMC_INTR -\nD1 C1 D8 5 12 23 OSC_IN I - OSC_IN - -\nE1 D1 D7 6 13 24 OSC_OUT O - OSC_OUT - -\nF1 E1 C7 7 14 25 NRST I/O - NRST - -\nH1 F1 E8 8 15 26 PC0 I/O - PC0 ADC123_IN10 -\nH2 F2 F8 9 16 27 PC1 I/O - PC1 ADC123_IN11 -H3 E2 D6 10 17 28 PC2 I/O - PC2 ADC123_IN12 -\nPinouts and pin descriptions STM32F103xC, STM32F103xD, STM32F103xE\n32/143 DS5792 Rev 13H4 F3 - 11 18 29 PC3(7)I/O - PC3 ADC123_IN13 -\nJ1 G1 E7 12 19 30 VSSA S- VSSA --\nK1 H1 - - 20 31 VREF- S- VREF- --\nL1 J1F7\n(8) -2 13 2 VREF+ S- VREF+ --\nM1 K1 G8 13 22 33 VDDA S- VDDA --\nJ2 G2 F6 14 23 34 PA0-WKUP I/O - PA0WKUP/USART2_CTS(9)\nADC123_IN0\nTIM2_CH1_ETR\nTIM5_CH1/TIM8_ETR-\nK2 H2 E6 15 24 35 PA1 I/O - PA1USART2_RTS(9)\nADC123_IN1/\nTIM5_CH2/TIM2_CH2(9)-\nL2 J2 H8 16 25 36 PA2 I/O - PA2USART2_TX(9)/TIM5_CH3\nADC123_IN2/ \nTIM2_CH3 (9)-\nM2 K2 G7 17 26 37 PA3 I/O - PA3USART2_RX(9)/TIM5_CH4\nADC123_IN3/TIM2_CH4(9) -\nG4 E4 F5 18 27 38 VSS_4 S- VSS_4 --\nF4 F4 G6 19 28 39 VDD_4 S- VDD_4 --\nJ3 G3 H7 20 29 40 PA4 I/O - PA4SPI1_NSS(9)/\nUSART2_CK(9) \nDAC_OUT1/ADC12_IN4 -\nK3 H3 E5 21 30 41 PA5 I/O - PA5SPI1_SCK(9)\nDAC_OUT2 ADC12_IN5 -\nL3 J3 G5 22 31 42 PA6 I/O - PA6SPI1_MISO(9)\nTIM8_BKIN/ADC12_IN6\nTIM3_CH1(9) TIM1_BKIN\nM3 K3 G4 23 32 43 PA7 I/O - PA7SPI1_MOSI(9)/\nTIM8_CH1N/ADC12_IN7\nTIM3_CH2(9) TIM1_CH1N\nJ4 G4 H6 24 33 44 PC4 I/O - PC4 ADC12_IN14 -\nK4 H4 H5 25 34 45 PC5 I/O - PC5 ADC12_IN15 -\nL4 J4 H4 26 35 46 PB0 I/O - PB0ADC12_IN8/TIM3_CH3\nTIM8_CH2NTIM1_CH2N\nM4 K4 F4 27 36 47 PB1 I/O - PB1ADC12_IN9/TIM3_CH4(9)\nTIM8_CH3NTIM1_CH3NTable 5. High-density STM32F103xC /D/E pin definitions (continued)\nPins\nPin name\nType(1)\nI / O Level(2)\nMain \nfunction(3) \n(after reset)Alternate functions(4)LFBGA144\nLFBGA100\nWLCSP64\nLQFP64\nLQFP100\nLQFP144Default Remap\nDS5792 Rev 13 33/143STM32F103xC, STM32F103xD, STM32F103xE Pinouts and pin descriptions\n135J5 G5 H3 28 37 48 PB2 I/O FT PB2/BOOT1 - -\nM5 - - - - 49 PF11 I/O FT PF11 FSMC_NIOS16 -\nL5 - - - - 50 PF12 I/O FT PF12 FSMC_A6 -\nH5 - - - - 51 VSS_6 S- VSS_6 --\nG5 - - - - 52 VDD_6 S- VDD_6 --\nK5 - - - - 53 PF13 I/O FT PF13 FSMC_A7 -\nM6 - - - - 54 PF14 I/O FT PF14 FSMC_A8 -\nL6 - - - - 55 PF15 I/O FT PF15 FSMC_A9 -\nK6 - - - - 56 PG0 I/O FT PG0 FSMC_A10 -\nJ6 - - - - 57 PG1 I/O FT PG1 FSMC_A11 -\nM7 H5 - - 38 58 PE7 I/O FT PE7 FSMC_D4 TIM1_ETR\nL7 J5 - - 39 59 PE8 I/O FT PE8 FSMC_D5 TIM1_CH1N\nK7 K5 - - 40 60 PE9 I/O FT PE9 FSMC_D6 TIM1_CH1\nH6 - - - - 61 VSS_7 S- VSS_7 --\nG6 - - - - 62 VDD_7 S- VDD_7 --\nJ7 G6 - - 41 63 PE10 I/O FT PE10 FSMC_D7 TIM1_CH2N\nH8 H6 - - 42 64 PE11 I/O FT PE11 FSMC_D8 TIM1_CH2\nJ8 J6 - - 43 65 PE12 I/O FT PE12 FSMC_D9 TIM1_CH3N\nK8 K6 - - 44 66 PE13 I/O FT PE13 FSMC_D10 TIM1_CH3\nL8 G7 - - 45 67 PE14 I/O FT PE14 FSMC_D11 TIM1_CH4\nM8 H7 - - 46 68 PE15 I/O FT PE15 FSMC_D12 TIM1_BKIN\nM9 J7 G3 29 47 69 PB10 I/O FT PB10 I2C2_SCL/USART3_TX(9)TIM2_CH3\nM10 K7 F3 30 48 70 PB11 I/O FT PB11 I2C2_SDA/USART3_RX(9)TIM2_CH4\nH7 E7 H2 31 49 71 VSS_1 S- VSS_1 --\nG7 F7 H1 32 50 72 VDD_1 S- VDD_1 --\nM11 K8 G2 33 51 73 PB12 I/O FT PB12SPI2_NSS/I2S2_WS/\nI2C2_SMBA/\nUSART3_CK(9)/\nTIM1_BKIN(9)-\nM12 J8 G1 34 52 74 PB13 I/O FT PB13SPI2_SCK/I2S2_CK\nUSART3_CTS(9)/\nTIM1_CH1N -Table 5. High-density STM32F103xC /D/E pin definitions (continued)\nPins\nPin name\nType(1)\nI / O Level(2)\nMain \nfunction(3) \n(after reset)Alternate functions(4)LFBGA144\nLFBGA100\nWLCSP64\nLQFP64\nLQFP100\nLQFP144Default Remap\nPinouts and pin descriptions STM32F103xC, STM32F103xD, STM32F103xE\n34/143 DS5792 Rev 13L11 H8 F2 35 53 75 PB14 I/O FT PB14SPI2_MISO/TIM1_CH2N\nUSART3_RTS(9)/ -\nL12 G8 F1 36 54 76 PB15 I/O FT PB15SPI2_MOSI/I2S2_SD\nTIM1_CH3N(9)/ -\nL9 K9 - - 55 77 PD8 I/O FT PD8 FSMC_D13 USART3_TX\nK9 J9 - - 56 78 PD9 I/O FT PD9 FSMC_D14 USART3_RX\nJ9 H9 - - 57 79 PD10 I/O FT PD10 FSMC_D15 USART3_CK\nH9 G9 - - 58 80 PD11 I/O FT PD11 FSMC_A16 USART3_CTS\nL10 K10 - - 59 81 PD12 I/O FT PD12 FSMC_A17TIM4_CH1 / \nUSART3_RTS\nK10 J10 - - 60 82 PD13 I/O FT PD13 FSMC_A18 TIM4_CH2\nG8 - - - - 83 VSS_8 S- VSS_8 --\nF8 - - - - 84 VDD_8 S- VDD_8 --\nK11 H10 - - 61 85 PD14 I/O FT PD14 FSMC_D0 TIM4_CH3\nK12 G10 - - 62 86 PD15 I/O FT PD15 FSMC_D1 TIM4_CH4\nJ12 - - - - 87 PG2 I/O FT PG2 FSMC_A12 -\nJ11 - - - - 88 PG3 I/O FT PG3 FSMC_A13 -\nJ10 - - - - 89 PG4 I/O FT PG4 FSMC_A14 -\nH12 - - - - 90 PG5 I/O FT PG5 FSMC_A15 -\nH11 - - - - 91 PG6 I/O FT PG6 FSMC_INT2 -\nH10 - - - - 92 PG7 I/O FT PG7 FSMC_INT3 -\nG11 - - - - 93 PG8 I/O FT PG8 - -\nG10 - - - - 94 VSS_9 S- VSS_9 --\nF10 - - - - 95 VDD_9 S- VDD_9 --\nG12 F10 E1 37 63 96 PC6 I/O FT PC6I2S2_MCK/\nTIM8_CH1/SDIO_D6TIM3_CH1\nF12 E10 E2 38 64 97 PC7 I/O FT PC7I2S3_MCK/\nTIM8_CH2/SDIO_D7TIM3_CH2\nF11 F9 E3 39 65 98 PC8 I/O FT PC8 TIM8_CH3/SDIO_D0 TIM3_CH3\nE11 E9 D1 40 66 99 PC9 I/O FT PC9 TIM8_CH4/SDIO_D1 TIM3_CH4\nE12 D9 E4 41 67 100 PA8 I/O FT PA8USART1_CK/\nTIM1_CH1(9)/MCO -Table 5. High-density STM32F103xC /D/E pin definitions (continued)\nPins\nPin name\nType(1)\nI / O Level(2)\nMain \nfunction(3) \n(after reset)Alternate functions(4)LFBGA144\nLFBGA100\nWLCSP64\nLQFP64\nLQFP100\nLQFP144Default Remap\nDS5792 Rev 13 35/143STM32F103xC, STM32F103xD, STM32F103xE Pinouts and pin descriptions\n135D12 C9 D2 42 68 101 PA9 I/O FT PA9USART1_TX(9)/\nTIM1_CH2(9) -\nD11 D10 D3 43 69 102 PA10 I/O FT PA10USART1_RX(9)/\nTIM1_CH3(9) -\nC12 C10 C1 44 70 103 PA11 I/O FT PA11USART1_CTS/USBDM\nCAN_RX(9)/TIM1_CH4(9) -\nB12 B10 C2 45 71 104 PA12 I/O FT PA12USART1_RTS/USBDP/\nCAN_TX(9)/TIM1_ETR(9) -\nA12 A10 D4 46 72 105 PA13 I/O FT JTMS-SWDIO - PA13\nC11 F8 - - 73 106 Not connected -\nG9 E6 B1 47 74 107 VSS_2 S- VSS_2 --\nF9 F6 A1 48 75 108 VDD_2 S- VDD_2 --\nA11 A9 B2 49 76 109 PA14 I/O FT JTCK-SWCLK - PA14\nA10 A8 C3 50 77 110 PA15 I/O FT JTDISPI3_NSS/\nI2S3_WSTIM2_CH1_ET\nR PA 15 / \nSPI1_NSS\nB11 B9 A2 51 78 111 PC10 I/O FT PC10 UART4_TX/SDIO_D2 USART3_TX\nB10 B8 B3 52 79 112 PC11 I/O FT PC11 UART4_RX/SDIO_D3 USART3_RX\nC10 C8 C4 53 80 113 PC12 I/O FT PC12 UART5_TX/SDIO_CK USART3_CK\nE10 D8 D8 5 81 114 PD0 I/O FT OSC_IN(10)FSMC_D2(11)CAN_RX\nD10 E8 D7 6 82 115 PD1 I/O FT OSC_OUT(10)FSMC_D3(11)CAN_TX\nE9 B7 A3 54 83 116 PD2 I/O FT PD2TIM3_ETR/UART5_RX\nSDIO_CMD-\nD9 C7 - - 84 117 PD3 I/O FT PD3 FSMC_CLK USART2_CTS\nC9 D7 - - 85 118 PD4 I/O FT PD4 FSMC_NOE USART2_RTS\nB9 B6 - - 86 119 PD5 I/O FT PD5 FSMC_NWE USART2_TXE7 - - - - 120 V\nSS_10 S- VSS_10 --\nF7 - - - - 121 VDD_10 S- VDD_10 --\nA8 C6 - - 87 122 PD6 I/O FT PD6 FSMC_NWAIT USART2_RXA9 D6 - - 88 123 PD7 I/O FT PD7 FSMC_NE1/FSMC_NCE2 USART2_CK\nE8 - - - - 124 PG9 I/O FT PG9 FSMC_NE2/FSMC_NCE3 -\nD8 - - - - 125 PG10 I/O FT PG10FSMC_NCE4_1/\nFSMC_NE3-Table 5. High-density STM32F103xC /D/E pin definitions (continued)\nPins\nPin name\nType(1)\nI / O Level(2)\nMain \nfunction(3) \n(after reset)Alternate functions(4)LFBGA144\nLFBGA100\nWLCSP64\nLQFP64\nLQFP100\nLQFP144Default Remap\nPinouts and pin descriptions STM32F103xC, STM32F103xD, STM32F103xE\n36/143 DS5792 Rev 13C8 - - - - 126 PG11 I/O FT PG11 FSMC_NCE4_2 -\nB8 - - - - 127 PG12 I/O FT PG12 FSMC_NE4 -\nD7 - - - - 128 PG13 I/O FT PG13 FSMC_A24 -\nC7 - - - - 129 PG14 I/O FT PG14 FSMC_A25 -\nE6 - - - - 130 VSS_11 S- VSS_11 --\nF6 - - - - 131 VDD_11 S- VDD_11 --\nB7 - - - - 132 PG15 I/O FT PG15 - -\nA7 A7 A4 55 89 133 PB3 I/O FT JTDO SPI3_SCK / I2S3_CK/PB3/TRACES\nWO\nTIM2_CH2 / \nSPI1_SCK\nA6 A6 B4 56 90 134 PB4 I/O FT NJTRST SPI3_MISOPB4 / \nTIM3_CH1\nSPI1_MISO\nB6 C5 A5 57 91 135 PB5 I/O - PB5I2C1_SMBA/ SPI3_MOSI \nI2S3_SDTIM3_CH2 / \nSPI1_MOSI\nC6 B5 B5 58 92 136 PB6 I/O FT PB6 I2C1_SCL(9)/ TIM4_CH1(9)USART1_TX\nD6 A5 C5 59 93 137 PB7 I/O FT PB7I2C1_SDA(9) / FSMC_NADV \n/ TIM4_CH2(9) USART1_RX\nD5 D5 A6 60 94 138 BOOT0 I - BOOT0 - -C5 B4 D5 61 95 139 PB8 I/O FT PB8 TIM4_CH3\n(9)/SDIO_D4I2C1_SCL/\nCAN_RX\nB5 A4 B6 62 96 140 PB9 I/O FT PB9 TIM4_CH4(9)/SDIO_D5I2C1_SDA / \nCAN_TX\nA5 D4 - - 97 141 PE0 I/O FT PE0 TIM4_ETR / FSMC_NBL0 -\nA4 C4 - - 98 142 PE1 I/O FT PE1 FSMC_NBL1 -E5 E5 A7 63 99 143 V\nSS_3 S- VSS_3 --\nF5 F5 A8 6410\n0144 VDD_3 S- VDD_3 --\n1. I = input, O = output, S = supply.\n2. FT = 5 V tolerant.\n3. Function availability depends on the chosen device.\n4. If several peripherals share the same I/O pin, to avoid conf lict between these alternate functi ons only one peripheral should  \nbe enabled at a time through the peri pheral clock enable bit (in the correspondi ng RCC peripheral clock enable register).Table 5. High-density STM32F103xC /D/E pin definitions (continued)\nPins\nPin name\nType(1)\nI / O Level(2)\nMain \nfunction(3) \n(after reset)Alternate functions(4)LFBGA144\nLFBGA100\nWLCSP64\nLQFP64\nLQFP100\nLQFP144Default Remap\nDS5792 Rev 13 37/143STM32F103xC, STM32F103xD, STM32F103xE Pinouts and pin descriptions\n1355. PC13, PC14 and PC15 are supplied through the power switch. Sinc e the switch only sinks a limited amount of current (3 \nmA), the use of GPIOs PC13 to PC15 in output mode is limit ed: the speed should not exceed 2 MHz with a maximum load of \n30 pF and these IOs must not be used as a current source (e.g. to drive an LED).\n6. Main function after the first backup domain power-up. Later on,  it depends on the contents of the Backup registers even after  \nreset (because these registers are not rese t by the main reset). For details on how to manage these IOs, refer to the Battery \nbackup domain and BKP register description sections in the STM32F10xxx reference manual, available from the \nSTMicroelectronics w ebsite: www.st.com.\n7. In the WCLSP64 package, the PC3 I/O pin is not bonded and it must be configured by software to output mode (Push-pull) \nand writing 0 to the data register in order to avoid an extra consumption during low-power modes.\n8. Unlike in the LQFP64 package, there is no PC3 in the WLCSP package. The VREF+ functionality is provided instead.\n9. This alternate function can be remapped by software to some  other port pins (if availabl e on the used package). For more \ndetails, refer to the Alternate function I/O and debug configurati on section in the STM32F10xxx reference manual, available \nfrom the STMicroelectroni cs website: www.st.com.\n10. For the WCLSP64/LQFP64 package, the pins number 5 and 6 are configured as OSC_IN/OSC_OUT after reset, however \nthe functionality of PD0 and PD1 can be remapped by software on these pins. For the LQFP100/BGA100 and \nLQFP144/BGA144 packages, PD0 and PD1 are av ailable by default, so there is no need for remapping. For more details, \nrefer to Alternate function I/O and debug configurati on section in the STM32F10xxx reference manual.\n11. For devices delivered in LQFP64 packages, the FSMC function is not available.\nPinouts and pin descriptions STM32F103xC, STM32F103xD, STM32F103xE\n38/143 DS5792 Rev 13         Table 6. FSMC pin definition\nPinsFSMC\nLQFP100\nBGA100(1)\nCF CF/IDENOR/PSRAM/\nSRAMNOR/PSRAM Mux NAND 16 bit\nPE2 - - A23 A23 - Yes\nPE3 - - A19 A19 - Yes\nPE4 - - A20 A20 - Yes\nPE5 - - A21 A21 - YesPE6 - - A22 A22 - Yes\nPF0 A0 A0 A0 - - -\nPF1 A1 A1 A1 - - -PF2 A2 A2 A2 - - -\nPF3 A3 - A3 - - -\nPF4 A4 - A4 - - -\nPF5 A5 - A5 - - -\nPF6 NIORD NIORD - - - -PF7 NREG NREG - - - -\nPF8 NIOWR NIOWR - - - -\nPF9 CD CD - - - -\nPF10 INTR INTR - - - -\nPF11 NIOS16 NIOS16 - - - -\nPF12 A6 - A6 - - -PF13 A7 - A7 - - -\nPF14 A8 - A8 - - -\nPF15 A9 - A9 - - -\nPG0 A10 - A10 - - -\nPG1 - - A11 - - -\nPE7 D4 D4 D4 DA4 D4 YesPE8 D5 D5 D5 DA5 D5 Yes\nPE9 D6 D6 D6 DA6 D6 Yes\nPE10 D7 D7 D7 DA7 D7 Yes\nPE11 D8 D8 D8 DA8 D8 Yes\nPE12 D9 D9 D9 DA9 D9 Yes\nPE13 D10 D10 D10 DA10 D10 YesPE14 D11 D11 D11 DA11 D11 Yes\nPE15 D12 D12 D12 DA12 D12 Yes\nPD8 D13 D13 D13 DA13 D13 Yes\nDS5792 Rev 13 39/143STM32F103xC, STM32F103xD, STM32F103xE Pinouts and pin descriptions\n135PD9 D14 D14 D14 DA14 D14 Yes\nPD10 D15 D15 D15 DA15 D15 Yes\nPD11 - - A16 A16 CLE Yes\nPD12 - - A17 A17 ALE Yes\nPD13 - - A18 A18 - YesPD14 D0 D0 D0 DA0 D0 Yes\nPD15 D1 D1 D1 DA1 D1 Yes\nPG2 - - A12 - - -PG3 - - A13 - - -\nPG4 - - A14 - - -\nPG5 - - A15 - - -\nPG6 - - - - INT2 -\nPG7 - - - - INT3 -\nPD0 D2 D2 D2 DA2 D2 Yes\nPD1 D3 D3 D3 DA3 D3 Yes\nPD3 - - CLK CLK - YesPD4 NOE NOE NOE NOE NOE Yes\nPD5 NWE NWE NWE NWE NWE Yes\nPD6 NWAIT NWAIT NWAIT NWAIT NWAIT YesPD7 - - NE1 NE1 NCE2 Yes\nPG9 - - NE2 NE2 NCE3 -\nPG10 NCE4_1 NCE4_1 NE3 NE3 - -\nPG11 NCE4_2 NCE4_2 - - - -\nPG12 - - NE4 NE4 - -\nPG13 - - A24 A24 - -PG14 - - A25 A25 - -\nPB7 - - NADV NADV - Yes\nPE0 - - NBL0 NBL0 - YesPE1 - - NBL1 NBL1 - Yes\n1. Ports F and G are not available in devices delivered in 100-pin packages.Table 6. FSMC pin definition (continued)\nPinsFSMC\nLQFP100\nBGA100(1)\nCF CF/IDENOR/PSRAM/\nSRAMNOR/PSRAM Mux NAND 16 bit\nMemory mapping STM32F103xC, STM32F103xD, STM32F103xE\n40/143 DS5792 Rev 134 Memory mapping\nThe memory map is shown in Figure 9 .\nFigure 9. Memory map\n512-Mbyte\n block 7\nCortex-M3\'s\ninternal\nperipherals\n512-Mbyte\n block 6\nNot used\n512-Mbyte\n block 5\nFSMC register\n512-Mbyte\n block 4\nFSMC bank 3\n& bank4\n512-Mbyte\n block 3\nFSMC bank1\n& bank2\n512-Mbyte\n block 2\nPeripherals\n512-Mbyte\n block 1\nSRAM\n0x0000 00000x1FFF FFFF0x2000 00000x3FFF FFFF0x4000 00000x5FFF FFFF0x6000 00000x7FFF FFFF0x8000 00000x9FFF FFFF0xA000 00000xBFFF FFFF0xC000 00000xDFFF FFFF0xE000 00000xFFFF FFFF\n512-Mbyte\n block 0\nCode\nFlash0x0808 00000x1FFF EFFF0x1FFF F000- 0x1FFF F7FF0x1FFF F800 - 0x1FFF F80F\n0x0800 00000x0807 FFFF\n0x0008 00000x07FF FFFF\n0x0000 00000x0007 FFFFSystem memory\nReserved\nReserved\nAliased to Flash or system\nmemory depending on\nBOOT pinsSRAM (64 KB aliased\nby bit-banding)Reserved\n0x2000 00000x2000 FFFF0x2001 00000x3FFF FFFFTIM2TIM3\n0x4000 0000 - 0x4000 03FFTIM4TIM5TIM6TIM7Reserved\n0x4000 0400 - 0x4000 07FF0x4000 0800 - 0x4000 0BFF0x4000 0C00 - 0x4000 0FFF0x4000 1000 - 0x4000 13FF0x4000 1400 - 0x4000 17FF0x4000 1800 - 0x4000 27FFRTC 0x4000 2800 - 0x4000 2BFFWWDG 0x4000 2C00 - 0x4000 2FFFIWDG 0x4000 3000 - 0x4000 33FFReserved 0x4000 3400 - 0x4000 37FFSPI2/I2S2 0x4000 3800 - 0x4000 3BFFSPI3/I2S3 0x4000 3C00 - 0x4000 3FFFReserved 0x4000 4000 - 0x4000 43FFUSART2 0x4000 4400 - 0x4000 47FF0x4000 4800 - 0x4000 4BFF USART3UART4 0x4000 4C00 - 0x4000 4FFFUART5 0x4000 5000 - 0x4000 53FFI2C1 0x4000 5400 - 0x4000 57FFI2C2 0x4000 5800 - 0x4000 5BFFReserved 0x4000 6800 - 0x4000 6BFFBKP 0x4000 6C00 - 0x4000 6FFFPWR 0x4000 7000 - 0x4000 73FFDAC 0x4000 7400 - 0x4000 77FFReserved 0x4000 7800 - 0x4000 FFFFAFIO 0x4001 0000 - 0x4001 03FFPort A\nEXTI 0x4001 0400 - 0x4001 07FF0x4001 0800 - 0x4001 0BFFPort B 0x4001 0C00 - 0x4001 0FFFPort C 0x4001 1000 - 0x4001 13FFPort D 0x4001 1400 - 0x4001 17FFPort E 0x4001 1800 - 0x4001 1BFFPort F 0x4001 1C00 - 0x4001 1FFFPort G 0x4001 2000 - 0x4001 23FFADC1 0x4001 2400 - 0x4001 27FF0x4001 2800 - 0x4001 2BFFSPI1 0x4001 3000 - 0x4001 33FF0x4001 3400 - 0x4001 37FFUSART1 0x4001 3800 - 0x4001 3BFFReserved 0x4001 400 - 0x4001 7FFFDMA1 0x4002 0000 - 0x4002 03FFDMA2 0x4002 0400 - 0x4002 07FFReserved 0x4002 0400 - 0x4002 0FFFRCC 0x4002 1000 - 0x4002 13FFReserved 0x4002 1400 - 0x4002 1FFFFlash interface 0x4002 2000 - 0x4002 23FFReserved 0x4002 2400 - 0x4002 2FFFCRC 0x4002 3000 - 0x4002 33FFReserved 0x4002 4400 - 0x5FFF FFFFFSMC bank1 NOR/PSRAM 1 0x6000 0000 - 0x63FF FFFFFSMC bank1 NOR/PSRAM 2 0x6400 0000 - 0x67FF FFFFFSMC bank1 NOR/PSRAM 3 0x6800 0000 - 0x6BFF FFFFFSMC bank1 NOR/PSRAM 4 0x6C00 0000 - 0x6FFF FFFFFSMC bank2 NAND (NAND1) 0x7000 0000 - 0x7FFF FFFFFSMC bank3 NAND (NAND2) 0x8000 0000 - 0x8FFF FFFFFSMC bank4 PCCARD 0x9000 0000 - 0x9FFF FFFFFSMC register 0xA000 0000 - 0xA000 0FFFReserved 0xA000 1000 - 0xBFFF FFFF\nai14753dOption BytesTIM8\nADC20x4001 8000 - 0x4001 83FF0x4001 8400 - 0x4001 FFFF\nSDIOReserved\nADC3 0x4001 3C00 - 0x4001 3FFF\nTIM1 0x4001 2C00 - 0x4001 2FFF\nUSB registersShared USB/CAN SRAM 512\nbytesBxCAN\n0x4000 5C00 - 0x4000 5FFF0x4000 6000 - 0x4000 63FF0x4000 6400 - 0x4000 67FF\nDS5792 Rev 13 41/143STM32F103xC, STM32F103xD, STM32F103xE Electrical characteristics\n1355 Electrical characteristics\n5.1 Parameter conditions\nUnless otherwise specified, all voltages are referenced to VSS.\n5.1.1 Minimum and maximum values\nUnless otherwise specified the minimum and ma ximum values are guaranteed in the worst \nconditions of ambient temperature, supply voltage and frequencies by tests in production on 100% of the devices with an ambient temperature at T\nA = 25 °C and TA = TAmax (given by \nthe selected temperature range).\nData based on characterization results, design  simulation and/or technology characteristics \nare indicated in the table footnotes and are not tested in production. Based on characterization, the minimum and maximum values refer to sample tests and represent the mean value plus or minus three times the standard deviation (mean±3 Σ).\n5.1.2 Typical values\nUnless otherwise specified, typical data are based on TA = 25 °C, VDD = 3.3 V (for the \n2V≤VDD≤3.6 V voltage range). They are given only as design guidelines and are not \ntested.\nTypical ADC accuracy values are determined by characterization of a batch of samples from \na standard diffusion lot over the full temperature range, where 95% of the devices have an error less than or equal to the value indicated\n (mean±2 Σ).\n5.1.3 Typical curves\nUnless otherwise specified, all typical curves  are given only as design guidelines and are \nnot tested.\n5.1.4 Loading capacitor\nThe loading conditions used for pin parameter measurement are shown in Figure 10 .\n5.1.5 Pin input voltage\nThe input voltage measurement on a pin of the device is described in Figure 11 .\n         \nFigure 10. Pin loading conditions Figure 11. Pin input voltage\n-3\x11\x19\x10\x11\x116\x12#\x00\x1d\x00\x15\x10\x00P&-#5\x00PIN\n-3\x11\x19\x10\x11\x106\x12-#5\x00PIN\n6).\nElectrical characteristics STM32F103xC, STM32F103xD, STM32F103xE\n42/143 DS5792 Rev 135.1.6 Power supply scheme\nFigure 12. Power supply scheme\nCaution: In Figure 12 , the 4.7 µF capacitor must be connected to VDD3.\n5.1.7 Current consumption measurement\nFigure 13. Current consum ption measurement schemeĂŝϭϱϰϬϭs\x18\x18ϭͬϮͬͬ͘͘͘ϭϭ\n\x04ŶĂůŽŐ͗\x03\x03\nZ\x12Ɛ͕\x03W>>͕\n͘͘͘WŽ ǁĞƌ\x03\x03ƐǁŝƚĐŚs\x11\x04d\n\'W /ͬ KƐKhd\n/E<ĞƌŶĞů\x03ůŽŐŝĐ\x03\x03\n;\x12Wh͕\x03\x03\n\x18ŝŐŝƚĂů\x03\x03\nΘ\x03DĞŵŽƌŝĞƐͿ\x03\x03\x11ĂĐŬƵƉ\x03ĐŝƌĐƵŝƚƌǇ\n;K^\x12ϯϮ<͕Zd\x12͕\n\x11ĂĐŬƵƉ\x03ƌĞŐŝƐƚĞƌƐͿtĂŬĞͲƵƉ\x03ůŽŐŝĐ\nϭϭ\x03\x03п ϭϬϬ\x03Ŷ&\nн\x03ϭ\x03\x03п ϰ͘ϳ\x03\x03ђ&ϭ͘ϴͲϯ͘ϲs\nZĞŐƵůĂƚŽƌ\ns^^ϭͬϮͬͬ͘͘͘ϭϭ\ns\x18\x18\x04\nsZ\x1c&н\nsZ\x1c&Ͳ\ns^^\x04\x04\x18\x12ͬ\n\x18\x04\x12\n>ĞǀĞů\x03ƐŚŝĨƚĞƌ/K\n>ŽŐŝĐ\ns\x18\x18\nϭϬ\x03Ŷ&\nн\x03ϭ\x03\x03ђ&sZ\x1c&\nϭϬ\x03Ŷ&\nн\x03ϭ\x03\x03ђ&s\x18\x18\nDL\x14\x17\x14\x15\x199%$7\n9\'\'\n9\'\'$,\'\'B9%$7\n,\'\'\nDS5792 Rev 13 43/143STM32F103xC, STM32F103xD, STM32F103xE Electrical characteristics\n1355.2 Absolute maximum ratings\nStresses above the absolute maximum ratings listed in Table 7: Voltage characteristics , \nTable 8: Current characteristics , and Table 9: Thermal characteristics  may cause permanent \ndamage to the device. These are stress ratings only and functional ope ration of the device \nat these conditions is not im plied. Exposure to maximum rating conditions for extended \nperiods may affect device reliability.\n          \n          Table 7. Voltage characteristics\nSymbol Ratings Min Max Unit\nVDD–VSSExternal main supply voltage (including VDDA \nand VDD)(1)\n1. All main power (VDD, VDDA) and ground (VSS, VSSA) pins must always be connected to the external power \nsupply, in the permitted range.–0.3 4.0\nV\nVIN(2)\n2. VIN maximum must always be respected. Refer to Table 8: Current characteristics  for the maximum \nallowed injected current values. Input voltage on five volt tolerant pin VSS − 0.3 VDD + 4.0 \nInput voltage on any other pin VSS − 0.3 4.0\n|ΔVDDx| Variations between different VDD power pins - 50\nmV\n|VSSX − VSS|Variations between all the different ground \npins(3)\n3. Include VREF- pin.-5 0\nVESD(HBM)Electrostatic discharge voltage (human body \nmodel)see Section 5.3.12: \nAbsolute maximum ratings \n(electrical sensitivity)-\nTable 8. Current characteristics\nSymbol Ratings  Max. Unit\nIVDD Total current into VDD/VDDA power lines (source)(1)\n1. All main power (VDD, VDDA) and ground (VSS, VSSA) pins must always be connected to the external power \nsupply, in the permitted range.150\nmAIVSS Total current out of VSS ground lines (sink)(1)150\nIIOOutput current sunk by any I/O and control pin 25\nOutput current source by any I/Os and control pin − 25\nIINJ(PIN)(2)\n2. Negative injection disturbs the analog per formance of the device. See note 3 below Table 62 on page 108 .Injected current on five volt tolerant pins(3)\n3. Positive injection is not possible on thes e I/Os. A negative injection is induced by VIN<VSS. IINJ(PIN)  must \nnever be exceeded. Refer to Table 7: Voltage characteristics  for the maximum allowed input voltage \nvalues.-5/+0\nInjected current on any other pin(4)\n4.  A positive inject ion is induced by VIN>VDD while a negative injection is induced by VIN<VSS. IINJ(PIN)  must \nnever be exceeded. Refer to Table 7: Voltage characteristics  for the maximum allowed input voltage \nvalues.± 5\nΣIINJ(PIN) Total injected current (sum of all I/O and control pins)(5)\n5. When several inputs are submitted to a current injection, the maximum ΣIINJ(PIN)  is the absolute sum of the \npositive and negative injected currents (instantaneous values). ± 25\nElectrical characteristics STM32F103xC, STM32F103xD, STM32F103xE\n44/143 DS5792 Rev 13         \n5.3 Operating conditions\n5.3.1 General operating conditions\n         Table 9. Thermal characteristics\nSymbol Ratings  Value Unit\nTSTG Storage temperature range –65 to +150 °C\nTJ Maximum junction temperature 150 °C\nTable 10. General operating conditions\nSymbol Parameter  Co nditions Min Max Unit\nfHCLK Internal AHB clock frequency - 0 72\nMHz fPCLK1 Internal APB1 clock frequency - 0 36\nfPCLK2 Internal APB2 clock frequency - 0 72\nVDD Standard operating voltage - 2 3.6 V\nVDDA(1)\n1. When the ADC is used, refer to Table 59: ADC characteristics .Analog operating voltage\n(ADC not used)Must be the same potential \nas VDD(2)\n2. It is recommended to power VDD and VDDA from the same source. A maximum difference of 300 mV \nbetween VDD and VDDA can be tolerated during power-up and operation.23 . 6\nV\nAnalog operating voltage\n(ADC used)2.4 3.6\nVBAT Backup operating voltage - 1.8 3.6 V\nPDPower dissipation at TA = \n85 °C for suffix 6 or TA = \n105 °C for suffix 7(3)\n3. If TA is lower, higher PD values are allowed as long as TJ does not exceed TJmax (see Table 6.7: Thermal \ncharacteristics on page 132 ).LQFP144 - 666\nmWLQFP100 - 434\nLQFP64 - 444\nLFBGA100 - 500\nLFBGA144 - 500WLCSP64 - 400\nT\nA Ambient temperature for 6 \nsuffix versionMaximum power di ssipation -40 85\n°C\nLow-power dissipation(4)\n4. In low-power dissipation state, TA can be extended to this range as long as TJ does not exceed TJmax (see \nTable 6.7: Thermal characteristics on page 132 ).-40 105\nAmbient temperature for 7 \nsuffix versionMaximum power dissipation -40 105\n°C\nLow-power dissipation(4)-40 125\nTJ Junction temperature range6 suffix version -40 105\n°C\n7 suffix version -40 125\nDS5792 Rev 13 45/143STM32F103xC, STM32F103xD, STM32F103xE Electrical characteristics\n1355.3.2 Operating conditions at power-up / power-down\nThe parameters given in Table 11  are derived from tests performed under the ambient \ntemperature condition summarized in Table 10 .\n         \n5.3.3 Embedded reset and power control block characteristics\nThe parameters given in Table 12  are derived from tests performed under ambient \ntemperature and VDD supply voltage conditions summarized in Table 10 .\n          Table 11. Operating conditions at power-up / power-down\nSymbol Parameter Conditions Min Max Unit\ntVDDVDD rise time rate\n-0 ∞\nµs/V\nVDD fall time rate 20 ∞\nTable 12. Embedded reset and power control block characteristics\nSymbol Parameter Conditions Min Typ Max Unit\nVPVDProgrammable voltage \ndetector level selectionPLS[2:0]=000 (rising edge) 2.1 2.18 2.26\nVPLS[2:0]=000 (falling edge) 2 2.08 2.16\nPLS[2:0]=001 (rising edge) 2.19 2.28 2.37\nPLS[2:0]=001 (falling edge) 2.09 2.18 2.27PLS[2:0]=010 (rising edge) 2.28 2.38 2.48\nPLS[2:0]=010 (falling edge) 2.18 2.28 2.38\nPLS[2:0]=011 (rising edge) 2.38 2.48 2.58PLS[2:0]=011 (falling edge) 2.28 2.38 2.48\nPLS[2:0]=100 (rising edge) 2.47 2.58 2.69\nPLS[2:0]=100 (falling edge) 2.37 2.48 2.59PLS[2:0]=101 (rising edge) 2.57 2.68 2.79\nPLS[2:0]=101 (falling edge) 2.47 2.58 2.69\nPLS[2:0]=110 (rising edge) 2.66 2.78 2.9PLS[2:0]=110 (falling edge) 2.56 2.68 2.8\nPLS[2:0]=111 (rising edge) 2.76 2.88 3\nPLS[2:0]=111 (falling edge) 2.66 2.78 2.9\nV\nPVDhyst(2)PVD hysteresis - - 100 - mV\nVPOR/PDRPower on/power down \nreset thresholdFalling edge 1.8(1)\n1. The product behavior is guaranteed by design down to the minimum VPOR/PDR  value.1.88 1.96\nV\nRising edge 1.84 1.92 2.0\nVPDRhyst(2)PDR hysteresis - - 40 - mV\nTRSTTEMPO(2)\n2. Guaranteed by design.Reset temporization - 1 2.5 4.5 ms\nElectrical characteristics STM32F103xC, STM32F103xD, STM32F103xE\n46/143 DS5792 Rev 135.3.4 Embedded reference voltage\nThe parameters given in Table 13  are derived from tests performed under ambient \ntemperature and VDD supply voltage conditions summarized in Table 10 .\n          \n5.3.5 Supply current characteristics\nThe current consumption is a function of several parameters and factors such as the \noperating voltage, ambient temperature, I/O pi n loading, device software configuration, \noperating frequencies, I/O pin switching rate, program location in memory and executed binary code.The current consumption is measured as described in Figure 13: Current consumption \nmeasurement scheme .\nAll Run-mode current consumption measurements  given in this section are performed with a \nreduced code that gives a consumption equivalent to Dhrystone 2.1 code.\nMaximum current consumption\nThe MCU is placed under the following conditions:\n• All I/O pins are in input mode with a static value at VDD or VSS (no load)\n• All peripherals are disabled ex cept when explicitly mentioned\n• The Flash memory access time is adjusted to the fHCLK  frequency (0 wait state from 0 \nto 24 MHz, 1 wait state from 24 to 48 MHz and 2 wait states above)\n• Prefetch in ON (reminder: this bit must be set before clock setting and bus prescaling)\n• When the peripherals are enabled fPCLK1  = fHCLK /2, fPCLK2  = fHCLK\nThe parameters given in Table 14 , Table 15  and Table 16  are derived from tests performed \nunder ambient temperature and VDD supply voltage conditions summarized in Table 10 .Table 13. Embedded internal reference voltage\nSymbol Parameter Conditions Min Typ Max Unit\nVREFINT Internal reference voltage–40 °C < TA < +105 °C 1.16 1.20 1.26\nV\n–40 °C < TA < +85 °C 1.16 1.20 1.24\nTS_vrefint(1)\n1. Shortest sampling time can be determined in  the application by multiple iterations.ADC sampling time when \nreading the internal reference \nvoltage-- 5 . 1 1 7 . 1(2)\n2. Guaranteed by design.µs\nVRERINT(2)Internal reference voltage \nspread over the temperature \nrangeVDD = 3 V ±10 mV - - 10 mV\nTCoeff(2)Temperature coefficient - - - 100 ppm/°C\nDS5792 Rev 13 47/143STM32F103xC, STM32F103xD, STM32F103xE Electrical characteristics\n135         \n         CIAOTable 14. Maximum current consumption in Run mode, code with data processing\nrunning from Flash\nSymbol Parameter Conditions fHCLKMax(1)\n1. Guaranteed by characterization results.Unit\nTA = 85 °C TA = 105 °C\nIDDSupply current in \nRun modeExternal clock(2), all \nperipherals enabled\n2. External clock is 8 MHz and PLL is on when fHCLK  > 8 MHz.72 MHz 69 70\nmA48 MHz 50 50.5\n36 MHz 39 39.5\n24 MHz 27 28\n16 MHz 20 20.58 MHz 11 11.5\nExternal clock\n(2), all \nperipherals disabled72 MHz 37 37.5\n48 MHz 28 28.536 MHz 22 22.5\n24 MHz 16.5 17\n16 MHz 12.5 13\n8 MHz 8 8\nTable 15. Maximum current consumption in Run mode, code with data processing\nrunning from RAM\nSymbol Parameter Conditions fHCLKMax(1)\n1. Guaranteed by characterization results at VDD max, fHCLK  max.Unit\nTA = 85 °C TA = 105 °C\nIDDSupply current \nin Run modeExternal clock(2), all \nperipherals enabled\n2. External clock is 8 MHz and PLL is on when fHCLK  > 8 MHz.72 MHz 66 67\nmA48 MHz 43.5 45.5\n36 MHz 33 3524 MHz 23 24.5\n16 MHz 16 18\n8 MHz 9 10.5\nExternal clock\n(2), all \nperipherals disabled72 MHz 33 33.5\n48 MHz 23 23.5\n36 MHz 18 18.524 MHz 13 13.5\n16 MHz 10 10.5\n8 MHz 6 6.5\nElectrical characteristics STM32F103xC, STM32F103xD, STM32F103xE\n48/143 DS5792 Rev 13Figure 14. Typical current consumption in  Run mode versus frequency (at 3.6 V) -\ncode with data processing running from RAM, peripherals enabled \nFigure 15. Typical current consumption in Run mode versus frequency (at 3.6 V)-\ncode with data processing running from RAM, peripherals disabledAI\x11\x18\x15\x16\x19\x10\x11\x10\x12\x10\x13\x10\x14\x10\x15\x10\x16\x10\x17\x10\n\r\x14\x15 \x12\x15 \x17\x10 \x18\x15 \x11\x10\x15#ONSUMPTION\x00\x08M!\t\n4EMPERATURE\x00\x08\xa0#\t\x17\x12-(Z\n\x14\x18-(Z\n\x13\x16-(Z\n\x12\x14-(Z\n\x11\x16-(Z\n\x18-(Z\n\x10\x15\x11\x10\x11\x15\x12\x10\x12\x15\x13\x10\x13\x15\x14\x10\n\r\x14\x15 \x12\x15 \x17\x10 \x18\x15 \x11\x10\x15#ONSUMPTION\x00\x08M! \t\n4EMPERATURE\x00\x08\xa0#\t\x17\x12-(Z\n\x14\x18-(Z\n\x13\x16-(Z\n\x12\x14-(Z\n\x11\x16-(Z\n\x18-(Z\nAI\x11\x18\x15\x12\x10\nDS5792 Rev 13 49/143STM32F103xC, STM32F103xD, STM32F103xE Electrical characteristics\n135         Table 16. Maximum current consumption in Sleep mode, code running from Flash or \nRAM\nSymbol Parameter Conditions fHCLKMax(1)\n1. Guaranteed by characterization results at VDD max, fHCLK  max with peripherals enabled.Unit\nTA = 85 °C TA = 105 °C\nIDDSupply current \nin Sleep modeExternal clock(2), all \nperipherals enabled\n2. External clock is 8 MHz and PLL is on when fHCLK  > 8 MHz.72 MHz 45 46\nmA48 MHz 31 32\n36 MHz 24 25\n24 MHz 17 17.5\n16 MHz 12.5 138 MHz 8 8\nExternal clock\n(2), all \nperipherals disabled72 MHz 8.5 9\n48 MHz 7 7.536 MHz 6 6.5\n24 MHz 5 5.5\n16 MHz 4.5 5\n8 MHz 4 4\nElectrical characteristics STM32F103xC, STM32F103xD, STM32F103xE\n50/143 DS5792 Rev 13         Table 17. Typical and maximum current consumptions in Stop and Standby modes\nSymbol Parameter ConditionsTyp(1)Max\nUnitVDD/VBAT \n= 2.0 VVDD/VBAT \n= 2.4 VVDD/VBAT \n= 3.3 VTA = \n85 °CTA = \n105 °C\nIDDSupply \ncurrent in Stop modeRegulator in run mode, low-\nspeed and high-speed internal \nRC oscillators and high-speed \noscillator OFF (no independent watchdog)- 34.5 35 379 1130\nµARegulator in low-power mode, \nlow-speed and high-speed internal RC oscillators and high-\nspeed oscillator OFF (no \nindependent watchdog)- 24.5 25 365 1110\nSupply \ncurrent in \nStandby modeLow-speed internal RC oscillator \nand independent watchdog ON-3 3 . 8 - -\nLow-speed internal RC oscillator \nON, independent watchdog OFF-2 . 8 3 . 6 - -\nLow-speed internal RC oscillator \nand independent watchdog OFF, \nlow-speed oscillator and RTC \nOFF-1 . 9 2 . 1 5\n(2)6.5(2)\nIDD_VBATBackup \ndomain \nsupply current Low-speed oscillator and RTC \nON1.05 1.1 1.4 2\n(2)2.3(2)\n1. Typical values are measured at TA = 25 °C.\n2. Guaranteed by characterization results.\nDS5792 Rev 13 51/143STM32F103xC, STM32F103xD, STM32F103xE Electrical characteristics\n135Figure 16. Typical current consumption on VBAT with RTC on vs. temperature\nat different VBAT values\nFigure 17. Typical current consumption in Stop mode with regulator in run mode\nversus temperature at different VDD values\x13\x13\x11\x18\x14\x14\x11\x18\x15\x15\x11\x18\n±\x17\x18 \x15\x18 \x1b\x18 \x14\x13\x18\n7HPSHUDWXUH\x03\x0b\x83&\x0c&RQVXPSWLRQ\x03\x0b\x97$\x0c\x14\x11\x1b\x039\n\x15\x039\n\x15\x11\x17\x039\n\x16\x11\x16\x039\n\x16\x11\x19\x039\nDL\x14\x1a\x16\x16\x1a\n\x10\x11\x10\x10\x12\x10\x10\x13\x10\x10\x14\x10\x10\x15\x10\x10\x16\x10\x10\n\r\x14\x15# \x12\x15# \x18\x15# \x11\x10\x15##ONSUMPTION\x00\x08 ȝ!\t\n4EMPERATURE\x00\x08\xa0#\t\x12\x0e\x146\n\x12\x0e\x176\n\x13\x0e\x106\n\x13\x0e\x136\n\x13\x0e\x166\nAI\x11\x18\x15\x12\x11\n\x10\x11\x10\x10\x12\x10\x10\x13\x10\x10\x14\x10\x10\x15\x10\x10\x16\x10\x10\n\r\x14\x15# \x12\x15# \x18\x15# \x11\x10\x15##ONSUMPTION\x00\x08 ȝ!\t\n4EMPERATURE\x00\x08\xa0#\t\x12\x0e\x146\n\x12\x0e\x176\n\x13\x0e\x106\n\x13\x0e\x136\n\x13\x0e\x166\nAI\x11\x18\x15\x12\x11\nElectrical characteristics STM32F103xC, STM32F103xD, STM32F103xE\n52/143 DS5792 Rev 13Figure 18. Typical current consumption in Stop mode with regulator in low-power\nmode versus temperature at different VDD values\nFigure 19. Typical current consumption in Standby mode versus temperature at\ndifferent VDD values \n\x10\x11\x10\x10\x12\x10\x10\x13\x10\x10\x14\x10\x10\x15\x10\x10\x16\x10\x10\n\r\x14\x15# \x12\x15# \x18\x15# \x11\x10\x15##ONSUMPTION \x08ȝ!\t\n4EMPERATURE\x00\x08\xa0#\t\x12\x0e\x146\n\x12\x0e\x176\n\x13\x0e\x106\n\x13\x0e\x136\n\x13\x0e\x166\nAI\x11\x18\x15\x12\x12\n\x10\x10\x0e\x15\x11\x11\x0e\x15\x12\x12\x0e\x15\x13\x13\x0e\x15\x14\x14\x0e\x15\n\r\x14\x15# \x12\x15# \x17\x10# \x18\x15##ONSUMPTION\x00\x08 ȝ!\t\n4EMPERATURE\x00\x08\xa0#\t\x12\x0e\x146\n\x12\x0e\x176\n\x13\x0e\x106\n\x13\x0e\x136\n\x13\x0e\x166\nAI\x11\x18\x15\x12\x13\nDS5792 Rev 13 53/143STM32F103xC, STM32F103xD, STM32F103xE Electrical characteristics\n135Typical current consumption\nThe MCU is placed under the following conditions:\n• All I/O pins are in input mode with a static value at VDD or VSS (no load).\n• All peripherals are disabled except  if it is explicitly mentioned.\n• The Flash  access time is adjusted to fHCLK  frequency (0 wait state from 0 to 24 MHz, 1 \nwait state from 24 to 48 MHZ and 2 wait states above).\n• Ambient temperature and VDD supply voltage conditions summarized in Table 10 .\n• Prefetch is ON (Reminder: this bit must be  set before clock setting and bus prescaling)\nWhen the peripherals are enabled fPCLK1 = fHCLK /4, fPCLK 2 = fHCLK /2, fADCCLK  = fPCLK2 /4\n         Table 18. Typical current consumption in Run mode, code with data processing\nrunning from Flash\nSymbol Parameter Conditions fHCLKTyp(1)\n1. Typical values are measures at TA = 25 °C, VDD = 3.3 V.UnitAll peripherals \nenabled(2)All peripherals \ndisabled\nIDDSupply \ncurrent in \nRun modeExternal clock(3)72 MHz 51 30.5\nmA48 MHz 34.6 20.7\n36 MHz 26.6 16.224 MHz 18.5 11.4\n16 MHz 12.8 8.2\n8 MHz 7.2 54 MHz 4.2 3.1\n2 MHz 2.7 2.1\n1 MHz 2 1.7500 kHz 1.6 1.4\n125 kHz 1.3 1.2\nRunning on high \nspeed internal RC \n(HSI), AHB prescaler used to \nreduce the \nfrequency64 MHz 45 27\nmA48 MHz 34 20.1\n36 MHz 26 15.6\n24 MHz 17.9 10.816 MHz 12.2 7.6\n8 MHz 6.6 4.4\n4 MHz 3.6 2.52 MHz 2.1 1.5\n1 MHz 1.4 1.1\n500 kHz 1 0.8125 kHz 0.7 0.6\nElectrical characteristics STM32F103xC, STM32F103xD, STM32F103xE\n54/143 DS5792 Rev 13         2. Add an additional power consumption of 0.8 mA per ADC for the analog part. In applications, this \nconsumption occurs only while the ADC is on (ADON bit is set in the ADC_CR2 register).\n3. External clock is 8 MHz and PLL is on when fHCLK  > 8 MHz.\nTable 19. Typical current consumption in Sleep mode, code running from Flash or\nRAM\nSymbol Parameter Conditions fHCLKTyp(1)\n1. Typical values are measures at TA = 25 °C, VDD = 3.3 V.UnitAll peripherals \nenabled(2)\n2. Add an additional power consumption of 0.8 mA per ADC for the analog part. In applications, this \nconsumption occurs only while the ADC is on (ADON bit is set in the ADC_CR2 register).All peripherals \ndisabled\nIDDSupply \ncurrent in \nSleep modeExternal clock(3)\n3. External clock is 8 MHz and PLL is on when fHCLK  > 8 MHz.72 MHz 29.5 6.4\nmA48 MHz 20 4.6\n36 MHz 15.1 3.624 MHz 10.4 2.6\n16 MHz 7.2 2\n8 MHz 3.9 1.34 MHz 2.6 1.2\n2 MHz 1.85 1.15\n1 MHz 1.5 1.1\n500 kHz 1.3 1.05\n125 kHz 1.2 1.05\nRunning on high \nspeed internal RC \n(HSI), AHB prescaler used to reduce the \nfrequency64 MHz 25.6 5.1\n48 MHz 19.4 4\n36 MHz 14.5 324 MHz 9.8 2\n16 MHz 6.6 1.4\n8 MHz 3.3 0.74 MHz 2 0.6\n2 MHz 1.25 0.55\n1 MHz 0.9 0.5500 kHz 0.7 0.45\n125 kHz 0.6 0.45\nDS5792 Rev 13 55/143STM32F103xC, STM32F103xD, STM32F103xE Electrical characteristics\n135On-chip peripheral current consumption\nThe current consumption of the on -chip peripherals is given in Table 20 . The MCU is placed \nunder the following conditions:\n• all I/O pins are in input mode with a static value at VDD or VSS (no load)\n• all peripherals are disabled unless otherwise mentioned\n• the given value is calculated by measuring the current consumption\n– with all peripherals clocked off– with only one peripheral clocked on\n• ambient operating temperature and V\nDD supply voltage conditions summarized in \nTable 7\n         Table 20. Peripheral current consumption\nPeripheralCurrent \nconsumptionUnit\nAHB (up to 72 MHz)DMA1 20,42\nμA/MHzDMA2 19,03\nFSMC 52,36\nCRC 2,36\nSDIO 33,33\nBusMatrix(1)9,72\nElectrical characteristics STM32F103xC, STM32F103xD, STM32F103xE\n56/143 DS5792 Rev 13APB1 (up to 36 MHz)APB1-Bridge 7,78\nμA/MHzTIM2 33,06\nTIM3 31,94\nTIM4 31,67TIM5 31,94\nTIM6 8,06\nTIM7 8,06\nSPI2/I2S2\n(2)8,33\nSPI3/I2S3(2)8,33\nUSART2 12,22\nUSART3 12,22\nUART4 12,22UART5 12,22\nI2C1 10,28\nI2C2 10,00\nUSB 18,06\nCAN1 18,33\nDAC\n(3)8,06\nWWDG 3,89\nPWR 1,11\nBKP 1,11\nIWDG 5,28Table 20. Peripheral current consumption (continued)\nPeripheralCurrent \nconsumptionUnit\nDS5792 Rev 13 57/143STM32F103xC, STM32F103xD, STM32F103xE Electrical characteristics\n135APB2 (up to 72 MHz)APB2-Bridge 4,17\nμA/MHzGPIOA 8,47\nGPIOB 8,47\nGPIOC 6,53GPIOD 8,47\nGPIOE 6,53\nGPIOF 6,53\nGPIOG 6,11\nSPI1 4,72\nUSART1 12,50\nTIM1 22,92\nTIM8 22,92\nADC1\n(4)17,32\nADC2(4)15,18\nADC3(4)14,82\n1. The BusMatrix is automatically active when at  least one master is ON. (CPU, DMA1 or DMA2).\n2. When the I2S is enabled, a current consumption equal to 0.02 mA must be added.3. When DAC_OU1 or DAC_OUT2 is enabled, a curr ent consumption equal to 0.36 mA must be added.\n4. Specific conditions for measur ing ADC current consumption: f\nHCLK  = 56 MHz, fAPB1 = fHCLK /2, fAPB2 = \nfHCLK , fADCCLK  = fAPB2/4. When ADON bit in the ADCx_CR2 register is set to 1, a current consumption of \nanalog part equal to 0.54 mA must be added for each ADC.Table 20. Peripheral current consumption (continued)\nPeripheralCurrent \nconsumptionUnit\nElectrical characteristics STM32F103xC, STM32F103xD, STM32F103xE\n58/143 DS5792 Rev 135.3.6 External clock source characteristics\nHigh-speed external user clock generated from an external source\nThe characteristics given in Table 21  result from tests performed using an high-speed \nexternal clock source, and under ambient temperature and supply voltage conditions summarized in Table 10 .\n         \nLow-speed external user clock generated from an external source\nThe characteristics given in Table 22  result from tests performed using an low-speed \nexternal clock source, and under ambient temperature and supply voltage conditions summarized in Table 10 .\n         Table 21. High-speed external user clock characteristics\nSymbol Parameter Condi tions Min Typ Max Unit\nfHSE_extUser external clock source \nfrequency(1)\n1. Guaranteed by design.-18 2 5 M H z\nVHSEH OSC_IN input pin high level voltage 0.7VDD -VDDV\nVHSEL OSC_IN input pin low level voltage VSS -0 . 3 VDD\ntw(HSE)\ntw(HSE)OSC_IN high or low time(1)5--\nns\ntr(HSE)\ntf(HSE)OSC_IN rise or fall time(1)-- 2 0\nCin(HSE) OSC_IN input capacitance(1)-- 5 - p F\nDuCy(HSE) Duty cycle - 45 - 55 %\nIL OSC_IN Input leakage current VSS≤VIN≤VDD -- ± 1 µ A\nTable 22. Low-speed external user clock characteristics\nSymbol Parameter Conditions Min Typ Max Unit\nfLSE_extUser External clock source \nfrequency(1)\n1. Guaranteed by design.-- 32.768 1000 kHz\nVLSEHOSC32_IN input pin high level \nvoltage0.7VDD -VDD\nV\nVLSELOSC32_IN input pin low level \nvoltageVSS -0 . 3 VDD\ntw(LSE)\ntw(LSE)OSC32_IN high or low time(1)450 - -\nns\ntr(LSE)\ntf(LSE)OSC32_IN rise or fall time(1)-- 5 0\nCin(LSE) OSC32_IN input capacitance(1)-- 5 - p F\nDuCy(LSE) Duty cycle - 30 - 70 %\nIL OSC32_IN Input leakage current VSS≤VIN≤VDD -- ± 1 µ A\nDS5792 Rev 13 59/143STM32F103xC, STM32F103xD, STM32F103xE Electrical characteristics\n135Figure 20. High-speed external clock source AC timing diagram\nFigure 21. Low-speed external clock source AC timing diagramAI\x11\x17\x15\x12\x18/3#?).%XTERNAL\n34-\x13\x12&CLOCK\x00SOURCE6(3%(\nTF\x08(3%\t T7\x08(3%\t\n),\x19\x10\x05\n\x11\x10\x05\n4(3%TTR\x08(3%\tT7\x08(3%\t\nF(3%?EXT6(3%,\nDL\x14\x1a\x18\x15\x1c26&\x16\x15B,1([WHUQDO\n670\x16\x15)FORFN\x03VRXUFH9/6(+\nWI\x0b/6(\x0c W:\x0b/6(\x0c\n,/\x1c\x13\x08\n\x14\x13\x08\n7/6(WWU\x0b/6(\x0cW:\x0b/6(\x0c\nI/6(BH[W9/6(/\nElectrical characteristics STM32F103xC, STM32F103xD, STM32F103xE\n60/143 DS5792 Rev 13High-speed external clock generated from a crystal/ceramic resonator\nThe high-speed external (HSE) clock can be  supplied with a 4 to 16 MHz crystal/ceramic \nresonator oscillator. All th e information given in this  paragraph are based on \ncharacterization results obtained with typical external components specified in Table 23 . In \nthe application, the resonator and the load capacitors have to be placed as close as \npossible to the oscillator pins in order to minimize output distortion an d startup stabilization \ntime. Refer to the crystal resonator manufacturer for more details on the resonator characteristics (frequenc y, package, accuracy).\n         \nFor CL1 and CL2, it is recommended to use high-quality external ceramic capacitors in the \n5 pF to 25 pF range (typ.), designed for high- frequency applications, and selected to match \nthe requirements of the crystal or resonator (see Figure 22 ). CL1 and CL2 are usually the \nsame size. The crystal manufacturer typically  specifies a load capacitance which is the \nseries combination of CL1 and CL2. PCB and MCU pin capacitance must be included (10 pF \ncan be used as a rough estimate of the comb ined pin and board capacitance) when sizing \nCL1 and CL2. Refer to the application note AN28 67 “Oscillator design guide for ST \nmicrocontrollers” availabl e from the ST website www.st.com .\nFigure 22. Typical application with an 8 MHz crystal\n1. REXT value depends on the cr ystal characteristics.Table 23. HSE 4-16 MHz oscillator characteristics(1)(2)\n1. Resonator characteristics given by the crystal/ceramic resonator manufacturer.\n2. Guaranteed by characterization results.Symbol Parameter Conditions Min Typ Max Unit\nfOSC_IN Oscillator frequency - 4 8 16 MHz\nRF Feedback resistor - - 200 - k Ω \nCRecommended load capacitance \nversus equivalent serial \nresistance of the crystal (RS)(3)\n3. The relatively low value of the RF resistor offers a good protection against issues resulting from use in a \nhumid environment, due to the induced leakage and the bias condition change. However, it is \nrecommended to take this point into account if the MCU is used in tough humidity conditions.RS = 30  Ω -3 0-p F\ni2 HSE driving currentVDD= 3.3 V, VIN=VSS \nwith 30 pF load--1 m A\ngm Oscillator transconductance Startup 25 - - mA/V\ntSU(HSE)(4)\n4. tSU(HSE)  is the startup time measured from the moment it is enabled (by software) to a stabilized 8 MHz \noscillation is reached. This value is measured for a standard crystal resonator and it  can vary significantly \nwith the crystal manufacturerStartup time  VDD is stabilized - 2 - ms\nDL\x14\x1a\x18\x16\x1326&B28726&B,1 I+6(&/\x14\n5)\n670\x16\x15)\x1b\x030+]\nUHVRQDWRU5HVRQDWRU\x03ZLWK\nLQWHJUDWHG\x03FDSDFLWRUV\n%LDV\x03\nFRQWUROOHG\nJDLQ\n5(;7\x0b\x14\x0c\x03&/\x15\nDS5792 Rev 13 61/143STM32F103xC, STM32F103xD, STM32F103xE Electrical characteristics\n135Low-speed external clock generated from a crystal/ceramic resonator\nThe low-speed external (LSE) clock can be supplied with a 32.768 kHz crystal/ceramic \nresonator oscillator. All th e information given in this  paragraph are based on \ncharacterization results obtained with typical external components specified in Table 24 . In \nthe application, the resonator and the load capacitors have to be placed as close as \npossible to the oscillator pins in order to minimize output distortion an d startup stabilization \ntime. Refer to the crystal resonator manufacturer for more details on the resonator characteristics (frequenc y, package, accuracy).\n         \nNote: For CL1 and CL2, it is recommended to use high-quality ceramic capacitors in the 5 pF to \n15 pF range selected to match the requirements of the crystal or resonator (see Figure 23 ). \nCL1 and CL2, are usually the same size. The crystal ma nufacturer typically specifies a load \ncapacitance which is the series combination of CL1 and CL2.\nLoad capacitance CL has the following formula: CL = CL1 x CL2 / (CL1 + CL2) + Cstray where \nCstray is the pin capacitance and board or trace PCB-related capacitance. Typically, it is \nbetween 2 pF and 7 pF.\nCaution: To avoid exceeding the maximum value of CL1 and CL2 (15 pF) it is strongly recommended \nto use a resonator with a load capacitance CL≤ 7 pF. Never use a resonator with a load \ncapacitance of 12.5 pF.Example:  if you choose a resonator with a load capacitance of C\nL = 6 pF, and Cstray = 2 pF, \nthen CL1 = CL2 = 8 pF.Table 24. LSE oscillator characteristics (fLSE = 32.768 kHz)(1)(2)\nSymbol Parameter Conditions Min Typ Max Unit\nRF Feedback resistor - - 5 - M Ω \nC(2)Recommended load capacitance \nversus equivalent serial \nresistance of the crystal (RS)RS = 30 k Ω -- 1 5 p F\nI2 LSE driving current VDD = 3.3 V, VIN = VSS -- 1 . 4 µ A\ngm Oscillator transconductance - 5 - - µA/V\ntSU(LSE)(3)Startup time  VDD is \nstabilizedTA = 50 °C - 1.5 -\nsTA = 25 °C - 2.5 -\nTA = 10 °C - 4 -\nTA = 0 °C - 6 -\nTA = -10 °C - 10 -\nTA = -20 °C - 17 -\nTA = -30 °C - 32 -\nTA = -40 °C - 60 -\n1. Guaranteed by characterization results.\n2. Refer to the note and caution paragraphs below the table,  and to the application note AN 2867 “Oscillator design guide for \nST microcontrollers”.\n3.  tSU(LSE)  is the startup time measured from the moment it is enabl ed (by software) until a stabilized 32.768 kHz oscillation is \nreached. This value is measured for a standard crystal and it c an vary significantly with t he crystal manufacturer, PCB \nlayout and humidity.\nElectrical characteristics STM32F103xC, STM32F103xD, STM32F103xE\n62/143 DS5792 Rev 13Figure 23. Typical applicati on with a 32.768 kHz crystal\n5.3.7 Internal clock source characteristics\nThe parameters given in Table 25  are derived from tests performed under ambient \ntemperature and VDD supply voltage conditions summarized in Table 10 .\nHigh-speed internal (HSI) RC oscillator\n         DL\x14\x1a\x18\x16\x1426&\x16\x15B28726&\x16\x15B,1 I/6(&/\x14\n5)\n670\x16\x15)\x16\x15\x11\x1a\x19\x1b\x03N+]\nUHVRQDWRU5HVRQDWRU\x03ZLWK\nLQWHJUDWHG\x03FDSDFLWRUV\n%LDV\x03\nFRQWUROOHG\nJDLQ\n&/\x15\nTable 25. HSI oscillator characteristics(1)\n1. VDD = 3.3 V, TA = –40 to 105 °C unless otherwise specified.Symbol Parameter Conditions Min Typ Max Unit\nfHSI Frequency - - 8 - MHz \nDuCy(HSI) Duty cycle - 45 - 55 % \nACCHSIAccuracy of the HSI \noscillatorUser-trimmed with the RCC_CR \nregister(2)\n2. Refer to application note AN2868 “STM32F10xxx internal  RC oscillator (HSI) cali bration” available from \nthe ST website www.st.com .-- 1(3)\n3. Guaranteed by design.%\nFactory-\ncalibrated(4)\n4. Guaranteed by characterization results.TA = –40 to 105 °C –2 - 2.5 %\nTA = –10 to 85 °C –1.5 - 2.2 %\nTA = 0 to 70 °C –1.3 - 2 %\nTA = 25 °C –1.1 - 1.8 %\ntsu(HSI)(4) HSI oscillator \nstartup time-1 - 2 µ s\nIDD(HSI)(4)HSI oscillator power \nconsumption- - 80 100 µA\nDS5792 Rev 13 63/143STM32F103xC, STM32F103xD, STM32F103xE Electrical characteristics\n135Low-speed internal (LSI) RC oscillator\n         \nWakeup time from low-power mode\nThe wakeup times given in Table 27  is measured on a wakeup phase with a 8-MHz HSI RC \noscillator. The clock source used to wake up the device depends from  the curren t operating \nmode:\n• Stop or Standby mode: the clo ck source is the RC oscillator\n• Sleep mode: the clock source is the clock that was set before entering Sleep mode.\nAll timings are derived from tests performed under ambient temperature and VDD supply \nvoltage conditions summarized in Table 10 . \n         Table 26. LSI oscillator characteristics (1)\n1. VDD = 3 V, TA = –40 to 105 °C unless otherwise specified.Symbol Parameter Min Typ Max Unit\nfLSI(2)\n2. Guaranteed by characterization results.Frequency 30 40 60 kHz \ntsu(LSI)(3)\n3. Guaranteed by design.LSI oscillator startup time - - 85 µs\nIDD(LSI)(3)LSI oscillator power consumption - 0.65 1.2 µA\nTable 27. Low-power mode wakeup timings\nSymbol Parameter Typ Unit\ntWUSLEEP(1)\n1. The wakeup times are measured from the wakeup event to the point in which the user application code \nreads the first instruction.Wakeup from Sleep mode 1.8 µs\ntWUSTOP(1)Wakeup from Stop mode (regulator in run mode) 3.6\nµs\nWakeup from Stop mode (regulator in low-power mode) 5.4\ntWUSTDBY(1)Wakeup from Standby mode 50 µs\nElectrical characteristics STM32F103xC, STM32F103xD, STM32F103xE\n64/143 DS5792 Rev 135.3.8 PLL characteristics\nThe parameters given in Table 28  are derived from tests performed under ambient \ntemperature and VDD supply voltage conditions summarized in Table 10 .\n         \n5.3.9 Memory characteristics\nFlash memory\nThe characteristics are given at TA = –40 to 105 °C unless otherwise specified.\n         Table 28. PLL characteristics\nSymbol ParameterValue\nUnit\nMin Typ Max(1)\n1. Guaranteed by characterization results.fPLL_INPLL input clock(2)\n2. Take care of using the appropriate multiplier factors so as to have PLL input clock values compatible with \nthe range defined by fPLL_OUT .18 . 0 2 5 M H z\nPLL input clock duty cycle 40 - 60 %\nfPLL_OUT PLL multiplier output clock 16 - 72 MHz\ntLOCK PLL lock time - - 200 µs\nJitter Cycle-to-cycle jitter - - 300 ps\nTable 29. Flash memory characteristics\nSymbol Parameter  Conditions Min Typ Max(1)\n1. Guaranteed by design.Unit\ntprog 16-bit programming time TA = –40 to +105 °C 40 52.5 70 µs\ntERASE Page (2 KB) erase time TA = –40 to +105 °C 20 - 40 ms\ntME Mass erase time TA = –40 to +105 °C 20 - 40 ms\nIDD Supply current Read mode\nfHCLK  = 72 MHz with 2 wait \nstates, VDD = 3.3 V-- 2 8 m A\nWrite mode \nfHCLK  = 72 MHz, VDD = 3.3 V--7 m A\nErase mode \nfHCLK  = 72 MHz, VDD = 3.3 V--5 m A\nPower-down mode / Halt,\nVDD = 3.0 to 3.6 V-- 5 0 µ A\nVprog Programming voltage - 2 - 3.6 V\nDS5792 Rev 13 65/143STM32F103xC, STM32F103xD, STM32F103xE Electrical characteristics\n135         Table 30. Flash memory endurance and data retention\nSymbol Parameter  ConditionsValue\nUnit\nMin(1)\n1. Guaranteed by characterization results.NEND EnduranceTA = -40 to +85 °C (6 suffix versions)\nTA = -40 to +105 °C (7 suffix versions)10 kcycles\ntRET Data retention1 kcycle(2) at TA = 85 °C\n2. Cycling performed over the whole temperature range.30\nYears 1 kcycle(2) at TA = 105 °C 10\n10 kcycles(2) at TA = 55 °C 20\nElectrical characteristics STM32F103xC, STM32F103xD, STM32F103xE\n66/143 DS5792 Rev 135.3.10 FSMC characteristics\nAsynchronous waveforms and timings\nFigure 24  through Figure 27  represent asynchronous waveforms and Table 31  through \nTable 34  provide the corresponding ti mings. The results shown in these tables are obtained \nwith the following FSMC configuration:\n• AddressSetupTime = 0\n• AddressHoldTime = 1\n• DataSetupTime = 1\nFigure 24. Asynchronous non-multiplexed SRAM/PSRAM/NOR read waveforms\n1. Mode 2/B, C and D only. In Mode 1, FSMC_NADV is not used.\'DWD)60&B1(\n)60&B1%/>\x14\x1d\x13@\n)60&B\'>\x14\x18\x1d\x13@WY\x0b%/B1(\x0c\nWK\x0b\'DWDB1(\x0c)60&B12(\n$GGUHVV)60&B$>\x15\x18\x1d\x13@WY\x0b$B1(\x0c)60&B1:(\nWVX\x0b\'DWDB1(\x0cWZ\x0b1(\x0c\n06\x14\x1b\x18\x1b\x199\x15Z\x0b12(\x0cWWY\x0b12(B1(\x0c\nWK\x0b1(B12(\x0c\nWK\x0b\'DWDB12(\x0cWK\x0b$B12(\x0c\nWK\x0b%/B12(\x0c\nWVX\x0b\'DWDB12(\x0c\n)60&B1$\'9\x0b\x14\x0cWY\x0b1$\'9B1(\x0c\nWZ\x0b1$\'9\x0c\nDS5792 Rev 13 67/143STM32F103xC, STM32F103xD, STM32F103xE Electrical characteristics\n135         \nFigure 25. Asynchronous non-multiplexed SRAM/PSRAM/NOR write waveforms\n1. Mode 2/B, C and D only. In Mode 1, FSMC_NADV is not used.Table 31. Asynchronous non-multiplexed SRAM/PSRAM/NOR read timings(1) \n1. CL = 15 pF.Symbol Parameter Min Max Unit\ntw(NE) FSMC_NE low time 5tHCLK  – 1.5 5tHCLK  + 2 ns\ntv(NOE_NE) FSMC_NEx low to FSMC_NOE low 0.5 1.5 ns\ntw(NOE) FSMC_NOE low time 5tHCLK  – 1.5 5tHCLK  + 1.5 ns\nth(NE_NOE) FSMC_NOE high to FSMC_NE high hold time –1.5 - ns\ntv(A_NE) FSMC_NEx low to FSMC_A valid - 0 ns\nth(A_NOE) Address hold time after FSMC_NOE high 0.1 - ns\ntv(BL_NE) FSMC_NEx low to FSMC_BL valid - 0 ns\nth(BL_NOE) FSMC_BL hold time after FSMC_NOE high 0 - ns\ntsu(Data_NE) Data to FSMC_NEx high setup time 2tHCLK  + 25 - ns\ntsu(Data_NOE) Data to FSMC_NOEx high setup time 2tHCLK  + 25 - ns\nth(Data_NOE) Data hold time after FSMC_NOE high 0 - ns\nth(Data_NE) Data hold time after FSMC_NEx high 0 - ns\ntv(NADV_NE) FSMC_NEx low to FSMC_NADV low - 5 ns\ntw(NADV) FSMC_NADV low time - tHCLK  + 1.5 ns\n1%/\n\'DWD)60&B1([\n)60&B1%/>\x14\x1d\x13@\n)60&B\'>\x14\x18\x1d\x13@WY\x0b%/B1(\x0c\nWK\x0b\'DWDB1:(\x0c)60&B12(\n$GGUHVV )60&B$>\x15\x18\x1d\x13@WY\x0b$B1(\x0cWZ\x0b1:(\x0c\n)60&B1:(WY\x0b1:(B1(\x0c WK\x0b1(B1:(\x0c\nWK\x0b$B1:(\x0c\nWK\x0b%/B1:(\x0c\nWY\x0b\'DWDB1(\x0cWZ\x0b1(\x0c\nDL\x14\x17\x1c\x1c\x13)60&B1$\'9 \x0b\x14\x0cWY\x0b1$\'9B1(\x0c\nWZ\x0b1$\'9\x0c\nElectrical characteristics STM32F103xC, STM32F103xD, STM32F103xE\n68/143 DS5792 Rev 13         \nFigure 26. Asynchronous multiplexed PSRAM/NOR read waveformsTable 32. Asynchronous non-multipl exed SRAM/PSRAM/NOR write timings(1)(2)\n1. CL = 15 pF.\n2. Guaranteed by characterization results.Symbol Parameter Min Max Unit\ntw(NE) FSMC_NE low time 3tHCLK  – 1 3tHCLK  + 2 ns\ntv(NWE_NE) FSMC_NEx low to FSMC_NWE low tHCLK  – 0.5 tHCLK  + 1.5 ns\ntw(NWE) FSMC_NWE low time tHCLK  – 0.5 tHCLK  + 1.5 ns\nth(NE_NWE) FSMC_NWE high to FSMC_NE high hold time tHCLK -n s\ntv(A_NE) FSMC_NEx low to FSMC_A valid - 7.5 ns\nth(A_NWE) Address hold time after FSMC_NWE high tHCLK -n s\ntv(BL_NE) FSMC_NEx low to FSMC_BL valid - 0 ns\nth(BL_NWE) FSMC_BL hold time after FSMC_NWE high tHCLK  – 0.5 - ns\ntv(Data_NE) FSMC_NEx low to Data valid - tHCLK  + 7 ns\nth(Data_NWE) Data hold time after FSMC_NWE high tHCLK -n s\ntv(NADV_NE) FSMC_NEx low to FSMC_NADV low - 5.5 ns\ntw(NADV) FSMC_NADV low time - tHCLK  + 1.5 ns\n.",\n$ATA&3-#?.",;\x11\x1a\x10=\n&3-#?!$;\x11\x15\x1a\x10=TV\x08",?.%\t\nTH\x08$ATA?.%\t!DDRESS&3-#?!;\x12\x15\x1a\x11\x16=TV\x08!?.%\t&3-#?.7%\nTV\x08!?.%\t\nAI\x11\x14\x18\x19\x12B!DDRESS\n&3-#?.!$6TV\x08.!$6?.%\t\nTW\x08.!$6\tTSU\x08$ATA?.%\t\nTH\x08!$?.!$6\t&3-#?.%\n&3-#?./%TW\x08.%\t\nTW\x08./%\tTV\x08./%?.%\t TH\x08.%?./%\t\nTH\x08!?./%\t\nTH\x08",?./%\t\nTSU\x08$ATA?./%\t TH\x08$ATA?./%\t\nDS5792 Rev 13 69/143STM32F103xC, STM32F103xD, STM32F103xE Electrical characteristics\n135         Table 33. Asynchronous multiplexed PSRAM/NOR read timings(1)(2)\n1. CL = 15 pF.\n2. Guaranteed by characterization results.Symbol Parameter Min Max Unit\ntw(NE) FSMC_NE low time 7tHCLK  – 2 7tHCLK  + 2  ns\ntv(NOE_NE) FSMC_NEx low to FSMC_NOE low 3tHCLK  – 0.5 3tHCLK  + 1.5  ns\ntw(NOE) FSMC_NOE low time 4tHCLK  – 1 4tHCLK  + 2  ns\nth(NE_NOE) FSMC_NOE high to FSMC_NE high hold time –1 -  ns\ntv(A_NE) FSMC_NEx low to FSMC_A valid - 0  ns\ntv(NADV_NE) FSMC_NEx low to FSMC_NADV low 3 5  ns\ntw(NADV) FSMC_NADV low time tHCLK  –1.5 tHCLK  + 1.5  ns\nth(AD_NADV)FSMC_AD (address) valid hold time after \nFSMC_NADV hightHCLK - n s\nth(A_NOE) Address hold time after FSMC_NOE high tHCLK -2 -  ns\nth(BL_NOE) FSMC_BL hold time after FSMC_NOE high 0 -  ns\ntv(BL_NE) FSMC_NEx low to FSMC_BL valid - 0  ns\ntsu(Data_NE) Data to FSMC_NEx high setup time 2tHCLK  + 24 -  ns\ntsu(Data_NOE) Data to FSMC_NOE high setup time 2tHCLK  + 25 -  ns\nth(Data_NE) Data hold time after FSMC_NEx high 0 -  ns\nth(Data_NOE) Data hold time after FSMC_NOE high 0 -  ns\nElectrical characteristics STM32F103xC, STM32F103xD, STM32F103xE\n70/143 DS5792 Rev 13Figure 27. Asynchronous multip lexed PSRAM/NOR write waveforms\n         Table 34. Asynchrono us multiplexed PSRAM /NOR write timings(1)(2)\n1. CL = 15 pF.\n2. BGuaranteed by characterization results.Symbol Parameter Min Max Unit\ntw(NE) FSMC_NE low time 5tHCLK  – 1 5tHCLK  + 2 ns\ntv(NWE_NE) FSMC_NEx low to FSMC_NWE low 2tHCLK 2tHCLK  + 1 ns\ntw(NWE) FSMC_NWE low time 2tHCLK  – 1 2tHCLK  + 2 ns\nth(NE_NWE) FSMC_NWE high to FSMC_NE high hold time tHCLK  – 1 - ns\ntv(A_NE) FSMC_NEx low to FSMC_A valid - 7 ns\ntv(NADV_NE) FSMC_NEx low to FSMC_NADV low 3 5 ns\ntw(NADV) FSMC_NADV low time tHCLK  – 1 tHCLK  + 1 ns\nth(AD_NADV)FSMC_AD (address) valid hold time after \nFSMC_NADV hightHCLK  – 3 - ns\nth(A_NWE) Address hold time after FSMC_NWE high 4tHCLK -n s\ntv(BL_NE) FSMC_NEx low to FSMC_BL valid - 1.6 ns\nth(BL_NWE) FSMC_BL hold time after FSMC_NWE high tHCLK  – 1.5 - ns\ntv(Data_NADV) FSMC_NADV high to Data valid - tHCLK  + 1.5 ns\nth(Data_NWE) Data hold time after FSMC_NWE high tHCLK  – 5 - ns1%/\n\'DWD)60&B1([\n)60&B1%/>\x14\x1d\x13@\n)60&B$\'>\x14\x18\x1d\x13@WY\x0b%/B1(\x0c\nWK\x0b\'DWDB1:(\x0c)60&B12(\n$GGUHVV)60&B$>\x15\x18\x1d\x14\x19@WY\x0b$B1(\x0cWZ\x0b1:(\x0c\n)60&B1:(WY\x0b1:(B1(\x0c WK\x0b1(B1:(\x0c\nWK\x0b$B1:(\x0c\nWK\x0b%/B1:(\x0c\nWY\x0b$B1(\x0cWZ\x0b1(\x0c\nDL\x14\x17\x1b\x1c\x14%$GGUHVV\n)60&B1$\'9WY\x0b1$\'9B1(\x0c\nWZ\x0b1$\'9\x0cWY\x0b\'DWDB1$\'9\x0c\nWK\x0b$\'B1$\'9\x0c\nDS5792 Rev 13 71/143STM32F103xC, STM32F103xD, STM32F103xE Electrical characteristics\n135Synchronous waveforms and timings\nFigure 28  through Figure 31  represent synchronous waveforms and Table 36  through \nTable 38  provide the corresponding ti mings. The results shown in these tables are obtained \nwith the following FSMC configuration:\n• BurstAccessMode = FSMC_BurstAccessMode_Enable;\n• MemoryType = FSMC_MemoryType_CRAM;\n• WriteBurst = FSMC_WriteBurst_Enable;\n• CLKDivision = 1; (0 is not supported,  see the STM32F10xxx reference manual)\n• DataLatency = 1 for NOR Flash; DataLatency = 0 for PSRAM\nFigure 28. Synchronous multiplexed NOR/PSRAM read timings\n&3-#?#,+\n&3-#?.%X\n&3-#?.!$6\n&3-#?!;\x12\x15\x1a\x11\x16=\n&3-#?./%\n&3-#?!$;\x11\x15\x1a\x10= !$;\x11\x15\x1a\x10= $\x11 $\x12\n&3-#?.7!)4\n\x087!)4#&\'\x00\x1d\x00\x11B\x0c\x007!)40/,\x00\x0b\x00\x10B\t\n&3-#?.7!)4\n\x087!)4#&\'\x00\x1d\x00\x10B\x0c\x007!)40/,\x00\x0b\x00\x10B\tTW\x08#,+\tTW\x08#,+\t\n$ATA\x00LATENCY\x00\x1d\x00\x10"53452.\x00\x1d\x00\x10\nTD\x08#,+,\r.%X,\tTD\x08#,+,\r.%X(\t\nTD\x08#,+,\r.!$6,\t\nTD\x08#,+,\r!6\tTD\x08#,+,\r.!$6(\t\nTD\x08#,+,\r!)6\t\nTD\x08#,+(\r./%,\tTD\x08#,+,\r./%(\t\nTD\x08#,+,\r!$6\tTD\x08#,+,\r!$)6\t\nTSU\x08!$6\r#,+(\tTH\x08#,+(\r!$6\t\nTSU\x08!$6\r#,+(\t TH\x08#,+(\r!$6\t\nTSU\x08.7!)46\r#,+(\t TH\x08#,+(\r.7!)46\t\nTSU\x08.7!)46\r#,+(\t TH\x08#,+(\r.7!)46\t\nTSU\x08.7!)46\r#,+(\tTH\x08#,+(\r.7!)46\t\nAI\x11\x14\x18\x19\x13I$\x13\nElectrical characteristics STM32F103xC, STM32F103xD, STM32F103xE\n72/143 DS5792 Rev 13         Table 35. Synchronous multiplexed NOR/PSRAM read timings(1)(2)\n1. CL = 15 pF.\n2. Guaranteed by characterization results.Symbol Parameter Min Max Unit\ntw(CLK) FSMC_CLK period 27.7 -  ns\ntd(CLKL-NExL) FSMC_CLK low to FSMC_NEx low (x = 0...2) - 1.5  ns\ntd(CLKL-NExH) FSMC_CLK low to FSMC_NEx  high (x = 0...2) 2 -  ns\ntd(CLKL-NADVL) FSMC_CLK low to FSMC_NADV low - 4  ns\ntd(CLKL-NADVH) FSMC_CLK low to FSMC_NADV high 5 -  ns\ntd(CLKL-AV) FSMC_CLK low to FSMC_Ax valid (x = 16...25) - 0  ns\ntd(CLKL-AIV) FSMC_CLK low to FSMC_Ax invalid (x = 16...25) 2 -  ns\ntd(CLKL-NOEL) FSMC_CLK low to FSMC_NOE low - 1  ns\ntd(CLKL-NOEH) FSMC_CLK low to FSMC_NOE high  1.5 -  ns\ntd(CLKL-ADV) FSMC_CLK low to FSMC_AD[15:0] valid - 12  ns\ntd(CLKL-ADIV) FSMC_CLK low to FSMC_AD[15:0] invalid 0 -  ns\ntsu(ADV-CLKH)FSMC_A/D[15:0] valid data before FSMC_CLK \nhigh6-  n s\nth(CLKH-ADV) FSMC_A/D[15:0] valid data after FSMC_CLK high 0 -  ns\ntsu(NWAITV-CLKH) FSMC_NWAIT valid before FSMC_CLK high 8 -  ns\nth(CLKH-NWAITV) FSMC_NWAIT valid after FSMC_CLK high 2 -  ns\nDS5792 Rev 13 73/143STM32F103xC, STM32F103xD, STM32F103xE Electrical characteristics\n135Figure 29. Synchronous multiplexed PSRAM write timings\n&3-#?#,+\n&3-#?.%X\n&3-#?.!$6\n&3-#?!;\x12\x15\x1a\x11\x16=\n&3-#?.7%\n&3-#?!$;\x11\x15\x1a\x10= !$;\x11\x15\x1a\x10= $\x11 $\x12\n&3-#?.7!)4\n\x087!)4#&\'\x00\x1d\x00\x10B\x0c\x007!)40/,\x00\x0b\x00\x10B\tTW\x08#,+\tTW\x08#,+\t\n$ATA\x00LATENCY\x00\x1d\x00\x10"53452.\x00\x1d\x00\x10\nTD\x08#,+,\r.%X,\t TD\x08#,+,\r.%X(\t\nTD\x08#,+,\r.!$6,\t\nTD\x08#,+,\r!6\tTD\x08#,+,\r.!$6(\t\nTD\x08#,+,\r!)6\t\nTD\x08#,+,\r.7%(\tTD\x08#,+,\r.7%,\t\nTD\x08#,+,\r.",(\tTD\x08#,+,\r!$6\tTD\x08#,+,\r!$)6\t TD\x08#,+,\r$ATA\t\nTSU\x08.7!)46\r#,+(\t TH\x08#,+(\r.7!)46\t\nAI\x11\x14\x19\x19\x12GTD\x08#,+,\r$ATA\t\n&3-#?.",\nElectrical characteristics STM32F103xC, STM32F103xD, STM32F103xE\n74/143 DS5792 Rev 13         Table 36. Synchronous multiplexed PSRAM write timings(1)(2)\n1. CL = 15 pF.\n2. Guaranteed by characterization results.Symbol Parameter Min Max Unit\ntw(CLK) FSMC_CLK period 27.7 -  ns\ntd(CLKL-NExL) FSMC_CLK low to FSMC_Nex low (x = 0...2) - 2  ns\ntd(CLKL-NExH) FSMC_CLK low to FSMC_NEx high (x = 0...2) 2 -  ns\ntd(CLKL-NADVL) FSMC_CLK low to FSMC_NADV low - 4  ns\ntd(CLKL-NADVH) FSMC_CLK low  to FSMC_NADV high 5 -  ns\ntd(CLKL-AV) FSMC_CLK low to FSMC_Ax valid (x = 16...25) - 0  ns\ntd(CLKL-AIV) FSMC_CLK low to FSMC_Ax invalid (x = 16...25) 2 -  ns\ntd(CLKL-NWEL) FSMC_CLK low to FSMC_NWE low - 1  ns\ntd(CLKL-NWEH) FSMC_CLK low to FSMC_NWE high 1 -  ns\ntd(CLKL-ADV) FSMC_CLK low to FSMC_AD[15:0] valid - 12  ns\ntd(CLKL-ADIV) FSMC_CLK low to FSMC_AD[15:0] invalid 3 -  ns\ntd(CLKL-Data) FSMC_A/D[15:0] valid after FSMC_CLK low - 6  ns\ntd(CLKL-NBLH) FSMC_CLK low to FSMC_NBL high 1 -  ns\ntsu(NWAITV-CLKH) FSMC_NWAIT valid before FSMC_CLK high 7 -  ns\nth(CLKH-NWAITV) FSMC_NWAIT valid after FSMC_CLK high 2 -  ns\nDS5792 Rev 13 75/143STM32F103xC, STM32F103xD, STM32F103xE Electrical characteristics\n135Figure 30. Synchronous non-multiplexed NOR/PSRAM read timings\n         Table 37. Synchronous non-multipl exed NOR/PSRAM read timings(1)(2)\n1. CL = 15 pF.\n2. Guaranteed by characterization results.Symbol Parameter Min Max Unit\ntw(CLK) FSMC_CLK period 27.7 -  ns\ntd(CLKL-NExL) FSMC_CLK low to FSMC_NEx low (x = 0...2) - 1.5  ns\ntd(CLKL-NExH) FSMC_CLK low to FSMC_NEx  high (x = 0...2) 2 -  ns\ntd(CLKL-NADVL) FSMC_CLK low to FSMC_NADV low - 4  ns\ntd(CLKL-NADVH) FSMC_CLK low to FSMC_NADV high 5 -  ns\ntd(CLKL-AV) FSMC_CLK low to FSMC_Ax valid (x = 0...25) - 0  ns\ntd(CLKL-AIV) FSMC_CLK low to FSMC_Ax invalid (x = 0...25) 4 -  ns\ntd(CLKL-NOEL) FSMC_CLK low to FSMC_NOE low - 1.5  ns\ntd(CLKL-NOEH) FSMC_CLK low to FSMC_NOE high 1.5 -  ns\ntsu(DV-CLKH)FSMC_D[15:0] valid data before FSMC_CLK \nhigh6.5 -  ns\nth(CLKH-DV) FSMC_D[15:0] valid data after FSMC_CLK high 7 -  ns\ntsu(NWAITV-CLKH) FSMC_NWAIT valid before FSMC_SMCLK high 7 -  ns\nth(CLKH-NWAITV) FSMC_NWAIT valid after FSMC_CLK high 2 -  ns&3-#?#,+\n&3-#?.%X\n&3-#?!;\x12\x15\x1a\x10=\n&3-#?./%\n&3-#?$;\x11\x15\x1a\x10= $\x11 $\x12\n&3-#?.7!)4\n\x087!)4#&\'\x00\x1d\x00\x11B\x0c\x007!)40/,\x00\x0b\x00\x10B\t\n&3-#?.7!)4\n\x087!)4#&\'\x00\x1d\x00\x10B\x0c\x007!)40/,\x00\x0b\x00\x10B\tTW\x08#,+\tTW\x08#,+\t\n$ATA\x00LATENCY\x00\x1d\x00\x10"53452.\x00\x1d\x00\x10\nTD\x08#,+,\r.%X,\tTD\x08#,+,\r.%X(\t\nTD\x08#,+,\r!6\tTD\x08#,+,\r!)6\t\nTD\x08#,+(\r./%,\t TD\x08#,+,\r./%(\t\nTSU\x08$6\r#,+(\t TH\x08#,+(\r$6\t\nTSU\x08$6\r#,+(\tTH\x08#,+(\r$6\t\nTSU\x08.7!)46\r#,+(\tTH\x08#,+(\r.7!)46\t\nTSU\x08.7!)46\r#,+(\t TH\x08#,+(\r.7!)46\t\nTSU\x08.7!)46\r#,+(\t TH\x08#,+(\r.7!)46\t\nAI\x11\x14\x18\x19\x14H&3-#?.!$6TD\x08#,+,\r.!$6,\t TD\x08#,+,\r.!$6(\t\n$\x13\nElectrical characteristics STM32F103xC, STM32F103xD, STM32F103xE\n76/143 DS5792 Rev 13Figure 31. Synchronous non-multi plexed PSRAM write timings\n         Table 38. Synchronous non-multi plexed PSRAM write timings(1)(2)\n1. CL = 15 pF.\n2. Guaranteed by characterization results.Symbol Parameter Min Max Unit\ntw(CLK)  FSMC_CLK period 27.7 -  ns\ntd(CLKL-NExL)  FSMC_CLK low to FSMC_NEx low (x = 0...2) - 2  ns\ntd(CLKL-NExH)  FSMC_CLK low to FSMC_NEx high (x = 0...2) 2 -  ns\ntd(CLKL-NADVL)  FSMC_CLK low to FSMC_NADV low - 4  ns\ntd(CLKL-NADVH)  FSMC_CLK low to FSMC_NADV high 5 -  ns\ntd(CLKL-AV)  FSMC_CLK low to FSMC_Ax valid (x = 16...25) - 0  ns\ntd(CLKL-AIV)  FSMC_CLK low to FSMC_Ax invalid (x = 16...25) 2 -  ns\ntd(CLKL-NWEL)  FSMC_CLK low to FSMC_NWE low - 1  ns\ntd(CLKL-NWEH)  FSMC_CLK low to FSMC_NWE high 1 -  ns\ntd(CLKL-Data)  FSMC_D[15:0] valid data after FSMC_CLK low - 6  ns\ntd(CLKL-NBLH)  FSMC_CLK low to FSMC_NBL high 1 -  ns\ntsu(NWAITV-CLKH)  FSMC_NWAIT valid before FSMC_CLK high 7 -  ns\nth(CLKH-NWAITV)  FSMC_NWAIT valid after FSMC_CLK high 2 -  ns)60&B&/.\n)60&B1([\n)60&B1$\'9\n)60&B$>\x15\x18\x1d\x14\x19@\n)60&B12(\n)60&B$\'>\x14\x18\x1d\x13@ $\'>\x14\x18\x1d\x13@ \'\x14 \'\x15\n)60&B1:$,7\n\x0b:$,7&)*\x03 \x03\x14E\x0f\x03:$,732/\x03\x0e\x03\x13E\x0c\n)60&B1:$,7\n\x0b:$,7&)*\x03 \x03\x13E\x0f\x03:$,732/\x03\x0e\x03\x13E\x0cWZ\x0b&/.\x0cWZ\x0b&/.\x0c\n\'DWD\x03ODWHQF\\\x03 \x03\x13%867851\x03 \x03\x13\nWG\x0b&/./\x101([/\x0c WG\x0b&/./\x101([+\x0c\nWG\x0b&/./\x101$\'9/\x0c\nWG\x0b&/./\x10$9\x0cWG\x0b&/./\x101$\'9+\x0c\nWG\x0b&/./\x10$,9\x0c\nWG\x0b&/.+\x1012(/\x0cWG\x0b&/./\x1012(+\x0c\nWG\x0b&/./\x10$\'9\x0cWG\x0b&/./\x10$\',9\x0c\nWVX\x0b$\'9\x10&/.+\x0cWK\x0b&/.+\x10$\'9\x0c\nWVX\x0b$\'9\x10&/.+\x0c WK\x0b&/.+\x10$\'9\x0c\nWVX\x0b1:$,79\x10&/.+\x0c WK\x0b&/.+\x101:$,79\x0c\nWVX\x0b1:$,79\x10&/.+\x0c WK\x0b&/.+\x101:$,79\x0c\nWVX\x0b1:$,79\x10&/.+\x0c WK\x0b&/.+\x101:$,79\x0c\nDL\x14\x17\x1b\x1c\x16K\nDS5792 Rev 13 77/143STM32F103xC, STM32F103xD, STM32F103xE Electrical characteristics\n135PC Card/CompactFlash controller waveforms and timings\nFigure 32  through Figure 37  represent synchronous waveforms and Table 39  provides the \ncorresponding timings. The results shown in this table are obtained with the following FSMC configuration:\n• COM.FSMC_SetupTime = 0x04;\n• COM.FSMC_WaitSetupTime = 0x07;\n• COM.FSMC_HoldSetupTime = 0x04;\n• COM.FSMC_HiZSetupTime = 0x00;\n• ATT.FSMC_SetupTime = 0x04;\n• ATT.FSMC_WaitSetupTime = 0x07;\n• ATT.FSMC_HoldSetupTime = 0x04;\n• ATT.FSMC_HiZSetupTime = 0x00;\n• IO.FSMC_SetupTime = 0x04;\n• IO.FSMC_WaitSetupTime = 0x07;\n• IO.FSMC_HoldSetupTime = 0x04;\n• IO.FSMC_HiZSetu pTime = 0x00;\n• TCLRSetupTime = 0;\n• TARSetupTime = 0;\nFigure 32. PC Card/CompactFlash controll er waveforms for common memory read \naccess\n1. FSMC_NCE4_2 remains high (inac tive during 8-bit access.)60&B1:(\nWZ\x0b12(\x0c\n)60&B12(\n)60&B\'>\x14\x18\x1d\x13@)60&B$>\x14\x13\x1d\x13@)60&B1&(\x17B\x15 \x0b\x14\x0c\n)60&B1&(\x17B\x14\n)60&B15(*\n)60&B1,2:5\n)60&B1,25\'\nWG\x0b1&(\x17B\x14\x1012(\x0c\nWVX\x0b\'\x1012(\x0c WK\x0b12(\x10\'\x0cWY\x0b1&([\x10$\x0c\nWG\x0b15(*\x101&([\x0c\nWG\x0b1,25\'\x101&([\x0cWK\x0b1&([\x10$,\x0c\nWK\x0b1&([\x1015(*\x0c \x03\nWK\x0b1&([\x101,25\'\x0c\nWK\x0b1&([\x101,2:5\x0c\nDL\x14\x17\x1b\x1c\x18E\nElectrical characteristics STM32F103xC, STM32F103xD, STM32F103xE\n78/143 DS5792 Rev 13Figure 33. PC Card/CompactFlash contro ller waveforms for co mmon memory write \naccess\nWG\x0b1&(\x17B\x14\x101:(\x0c WZ\x0b1:(\x0c\nWK\x0b1:(\x10\'\x0cWY\x0b1&(\x17B\x14\x10$\x0c\nWG\x0b15(*\x101&(\x17B\x14\x0c\nWG\x0b1,25\'\x101&(\x17B\x14\x0cWK\x0b1&(\x17B\x14\x10$,\x0c\n0(0[+,=\x03 \x14\nWY\x0b1:(\x10\'\x0cWK\x0b1&(\x17B\x14\x1015(*\x0c\nWK\x0b1&(\x17B\x14\x101,25\'\x0c\nWK\x0b1&(\x17B\x14\x101,2:5\x0c\nDL\x14\x17\x1b\x1c\x19E)60&B1:(\n)60&B12(\n)60&B\'>\x14\x18\x1d\x13@)60&B$>\x14\x13\x1d\x13@)60&B1&(\x17B\x14\n)60&B15(*\n)60&B1,2:5\n)60&B1,25\'\nWG\x0b1:(\x101&(\x17B\x14\x0c\nWG\x0b\'\x101:(\x0c)60&B1&(\x17B\x15 +LJK\nDS5792 Rev 13 79/143STM32F103xC, STM32F103xD, STM32F103xE Electrical characteristics\n135Figure 34. PC Card/CompactFlash controller waveforms for attribute memory read\naccess\n1. Only data bits 0...7 are read (bits 8...15 are disregarded).WG\x0b1&(\x17B\x14\x1012(\x0c WZ\x0b12(\x0c\nWVX\x0b\'\x1012(\x0c WK\x0b12(\x10\'\x0cWY\x0b1&(\x17B\x14\x10$\x0c WK\x0b1&(\x17B\x14\x10$,\x0c\nWG\x0b15(*\x101&(\x17B\x14\x0c WK\x0b1&(\x17B\x14\x1015(*\x0c\nDL\x14\x17\x1b\x1c\x1aE)60&B1:(\n)60&B12(\n)60&B\'>\x14\x18\x1d\x13@ \x0b\x14\x0c)60&B$>\x14\x13\x1d\x13@)60&B1&(\x17B\x15)60&B1&(\x17B\x14\n)60&B15(*)60&B1,2:5\n)60&B1,25\'\nWG\x0b12(\x101&(\x17B\x14\x0c+LJK\nElectrical characteristics STM32F103xC, STM32F103xD, STM32F103xE\n80/143 DS5792 Rev 13Figure 35. PC Card/CompactFlash controller waveforms for attribute memory write\naccess\n1. Only data bits 0...7 are dr iven (bits 8...15 remains HiZ).\nFigure 36. PC Card/CompactFlash controll er waveforms for I/O space read accessWZ\x0b1:(\x0cWY\x0b1&(\x17B\x14\x10$\x0c\nWG\x0b15(*\x101&(\x17B\x14\x0cWK\x0b1&(\x17B\x14\x10$,\x0c\nWK\x0b1&(\x17B\x14\x1015(*\x0c\nWY\x0b1:(\x10\'\x0c\nDL\x14\x17\x1b\x1c\x1bE)60&B1:(\n)60&B12(\n)60&B\'>\x1a\x1d\x13@\x0b\x14\x0c)60&B$>\x14\x13\x1d\x13@)60&B1&(\x17B\x15)60&B1&(\x17B\x14\n)60&B15(*)60&B1,2:5\n)60&B1,25\'\nWG\x0b1:(\x101&(\x17B\x14\x0c+LJK\nWG\x0b1&(\x17B\x14\x101:(\x0c\nWG\x0b1,25\'\x101&(\x17B\x14\x0cWZ\x0b1,25\'\x0c\nWVX\x0b\'\x101,25\'\x0c WG\x0b1,25\'\x10\'\x0cWY\x0b1&([\x10$\x0cWK\x0b1&(\x17B\x14\x10$,\x0c\nDL\x14\x17\x1b\x1c\x1c%)60&B1:(\n)60&B12(\n)60&B\'>\x14\x18\x1d\x13@)60&B$>\x14\x13\x1d\x13@)60&B1&(\x17B\x15)60&B1&(\x17B\x14\n)60&B15(*\n)60&B1,2:5\n)60&B1,25\'\nDS5792 Rev 13 81/143STM32F103xC, STM32F103xD, STM32F103xE Electrical characteristics\n135Figure 37. PC Card/CompactFlash controller waveforms for I/O space write access\n         WG\x0b1&(\x17B\x14\x101,2:5\x0c WZ\x0b1,2:5\x0cWY\x0b1&([\x10$\x0cWK\x0b1&(\x17B\x14\x10$,\x0c\nWK\x0b1,2:5\x10\'\x0c$77[+,=\x03 \x14\nWY\x0b1,2:5\x10\'\x0c\nDL\x14\x17\x1c\x13\x13F)60&B1:(\n)60&B12(\n)60&B\'>\x14\x18\x1d\x13@)60&B$>\x14\x13\x1d\x13@)60&B1&(\x17B\x15)60&B1&(\x17B\x14\n)60&B15(*\n)60&B1,2:5)60&B1,25\'\nTable 39. Switching characteristics fo r PC Card/CF read and write cycles(1)(2)\nSymbol Parameter Min Max Unit\ntv(NCEx-A)  \ntv(NCE4_1-A)FSMC_NCEx low (x = 4_1/4_2) to FSMC_Ay valid (y = \n0...10) FSMC_NCE4_1 low (x = 4_1/4_2) to FSMC_Ay \nvalid (y = 0...10)-0  n s\nth(NCEx-AI)  \nth(NCE4_1-AI)FSMC_NCEx high (x = 4_1/4_2) to FSMC_Ax invalid (x = \n0...10) FSMC_NCE4_1 high (x = 4_1/4_2) to FSMC_Ax \ninvalid (x = 0...10)2.5 -  ns\ntd(NREG-NCEx)  \ntd(NREG-NCE4_1)FSMC_NCEx low to FSMC_NREG valid FSMC_NCE4_1 low to FSMC_NREG valid-5  n s\nt\nh(NCEx-NREG)  \nth(NCE4_1-NREG)FSMC_NCEx high to FSMC_NREG invalid FSMC_NCE4_1 high to FSMC_NREG invalidt\nHCLK  + 3 -  ns\ntd(NCE4_1-NOE) FSMC_NCE4_1 low to FSMC_NOE low - 5tHCLK  + 2  ns\ntw(NOE) FSMC_NOE low width 8tHCLK –1.5 8tHCLK  + 1  ns\ntd(NOE-NCE4_1 FSMC_NOE high to FSMC_NCE4_1 high 5tHCLK  + 2 -  ns\ntsu(D-NOE) FSMC_D[15:0] valid data before FSMC_NOE high 25 -  ns\nth(NOE-D) FSMC_D[15:0] valid data after FSMC_NOE high 15 -  ns\ntw(NWE) FSMC_NWE low width 8tHCLK  – 1 8tHCLK  + 2  ns\ntd(NWE-NCE4_1) FSMC_NWE high to FSMC_NCE4_1 high 5tHCLK  + 2 -  ns\ntd(NCE4_1-NWE) FSMC_NCE4_1 low to FSMC_NWE low - 5tHCLK  + 1.5  ns\ntv(NWE-D) FSMC_NWE low to FSMC_D[15:0] valid - 0  ns\nth(NWE-D) FSMC_NWE high to FSMC_D[15:0] invalid 11tHCLK - n s\ntd(D-NWE) FSMC_D[15:0] valid before FSMC_NWE high 13tHCLK - n s\nElectrical characteristics STM32F103xC, STM32F103xD, STM32F103xE\n82/143 DS5792 Rev 13         tw(NIOWR) FSMC_NIOWR low width 8tHCLK  + 3 -  ns\ntv(NIOWR-D) FSMC_NIOWR low to FSMC_D[15:0] valid - 5tHCLK  +1  ns\nth(NIOWR-D) FSMC_NIOWR high to FSMC_D[15:0]   invalid 11tHCLK - n s\ntd(NCE4_1-NIOWR) FSMC_NCE4_1 low to FSMC_NIOWR valid - 5tHCLK +3ns  ns\nth(NCEx-NIOWR) \nth(NCE4_1-NIOWR)FSMC_NCEx high to FSMC_NIOWR invalid \nFSMC_NCE4_1 high to FSMC_NIOWR invalid5tHCLK  – 5 -  ns\ntd(NIORD-NCEx)  \ntd(NIORD-NCE4_1)FSMC_NCEx low to FSMC_NIORD valid FSMC_NCE4_1 low to FSMC_NIORD valid-5 t\nHCLK  + 2.5  ns\nth(NCEx-NIORD) \nth(NCE4_1-NIORD)FSMC_NCEx high to FSMC_NIORD invalid \nFSMC_NCE4_1 high to FSMC_NIORD invalid5tHCLK  – 5 -  ns\ntsu(D-NIORD) FSMC_D[15:0] valid before FSMC_NIORD high 4.5 -  ns\ntd(NIORD-D) FSMC_D[15:0] valid after FSMC_NIORD high 9 -  ns\ntw(NIORD) FSMC_NIORD low width 8tHCLK  + 2 -  ns\n1. CL = 15 pF.\n2. Guaranteed by characterization results.Table 39. Switching characteristics for PC Card/CF read and write cycles(1)(2) (continued)\nSymbol Parameter Min Max Unit\nDS5792 Rev 13 83/143STM32F103xC, STM32F103xD, STM32F103xE Electrical characteristics\n135NAND controller waveforms and timings\nFigure 38  through Figure 41  represent synchronous waveforms and Table 39  provides the \ncorresponding timings. The results shown in this table are obtained with the following FSMC configuration:\n• COM.FSMC_SetupTime = 0x01;\n• COM.FSMC_WaitSetupTime = 0x03;\n• COM.FSMC_HoldSetupTime = 0x02;\n• COM.FSMC_HiZSetupTime = 0x01;\n• ATT.FSMC_SetupTime = 0x01;\n• ATT.FSMC_WaitSetupTime = 0x03;\n• ATT.FSMC_HoldSetupTime = 0x02;\n• ATT.FSMC_HiZSetupTime = 0x01;\n• Bank = FSMC_Bank_NAND;\n• MemoryDataWidth = FSMC_MemoryDataWidth_16b;\n• ECC = FSMC_ECC_Enable;\n• ECCPageSize = FSMC_ECCPageSize_512Bytes;\n• TCLRSetupTime = 0;\n• TARSetupTime = 0;\nFigure 38. NAND controller waveforms for read access\n)60&B1:(\n)60&B12(\x03\x0b15(\x0c\n)60&B\'>\x14\x18\x1d\x13@WVX\x0b\'\x1012(\x0c WK\x0b12(\x10\'\x0c\nDL\x14\x17\x1c\x13\x14E$/(\x03\x0b)60&B$\x14\x1a\x0c\n&/(\x03\x0b)60&B$\x14\x19\x0c)60&B1&([ /RZ\nWG\x0b$/(\x1012(\x0cWK\x0b12(\x10$/(\x0c\nElectrical characteristics STM32F103xC, STM32F103xD, STM32F103xE\n84/143 DS5792 Rev 13Figure 39. NAND controller waveforms for write access\nFigure 40. NAND controller waveforms for common memory read accessAI\x11\x14\x19\x10\x12CWK\x0b1:(\x10\'\x0c WY\x0b1:(\x10\'\x0c)60&B1:(\n)60&B12(\x03\x0b15(\x0c\n)60&B\'>\x14\x18\x1d\x13@$/(\x03\x0b)60&B$\x14\x1a\x0c\n&/(\x03\x0b)60&B$\x14\x19\x0c)60&B1&([\nWG\x0b$/(\x101:(\x0c WK\x0b1:(\x10$/(\x0c\n)60&B1:(\n)60&B12(\n)60&B\'>\x14\x18\x1d\x13@WZ\x0b12(\x0c\nWVX\x0b\'\x1012(\x0c WK\x0b12(\x10\'\x0c\nDL\x14\x17\x1c\x14\x15E$/(\x03\x0b)60&B$\x14\x1a\x0c\n&/(\x03\x0b)60&B$\x14\x19\x0c)60&B1&([ /RZ\nWG\x0b$/(\x1012(\x0c WK\x0b12(\x10$/(\x0c\nDS5792 Rev 13 85/143STM32F103xC, STM32F103xD, STM32F103xE Electrical characteristics\n135Figure 41. NAND controller wavefo rms for common memory write access\n         Table 40. Switching characteristics for NAND Flash read and write cycles(1)\n1. CL = 15 pF.Symbol Parameter Min Max Unit\ntd(D-NWE)(2)\n2. Guaranteed by characterization results.FSMC_D[15:0] valid before FSMC_NWE high 5tHCLK + 12 - ns\ntw(NOE)(2)FSMC_NWE low width 4tHCLK-1.5 4tHCLK+1.5 ns\ntsu(D-NOE)(2)FSMC_D[15:0] valid data before \nFSMC_NOE\nhigh25 -  ns\nth(NOE-D)(2)FSMC_D[15:0] valid data after FSMC_NOE high 7 - -\ntw(NWE)(2)FSMC_NWE low width 4tHCLK-1 4tHCLK+1  ns\ntv(NWE-D)(2)FSMC_NWE low to FSMC_D[15:0] valid - 0  ns\nth(NWE-D)(2)FSMC_NWE high to FSMC_D[15:0] invalid 2tHCLK  + 4 -  ns\ntd(ALE-NWE)(3)\n3. Guaranteed by design.FSMC_ALE valid before FSMC_NWE low - 3tHCLK  + 1.5  ns\nth(NWE-ALE)(3)FSMC_NWE high to FSMC_ALE invalid 3tHCLK  + 4.5 -  ns\ntd(ALE-NOE)(3)FSMC_ALE valid before FSMC_NOE low - 3tHCLK + 2  ns\nth(NOE-ALE)(3)FSMC_NWE high to FSMC_ALE invalid 3tHCLK + 4.5 -  nsWZ\x0b1:(\x0c\nWK\x0b1:(\x10\'\x0cWY\x0b1:(\x10\'\x0c\nDL\x14\x17\x1c\x14\x16E)60&B1:(\n)60&B12(\n)60&B\'>\x14\x18\x1d\x13@WG\x0b\'\x101:(\x0c$/(\x03\x0b)60&B$\x14\x1a\x0c\n&/(\x03\x0b)60&B$\x14\x19\x0c)60&B1&([ /RZ\nWG\x0b$/(\x101:(\x0c WK\x0b1:(\x10$/(\x0c\nElectrical characteristics STM32F103xC, STM32F103xD, STM32F103xE\n86/143 DS5792 Rev 135.3.11 EMC characteristics\nSusceptibility tests are perf ormed on a sample basis duri ng device characterization.\nFunctional EMS (electromagnetic susceptibility)\nWhile a simple application is executed on t he device (toggling 2 LEDs through I/O ports). \nthe device is stressed by two electromagnetic  events until a failure o ccurs. The failure is \nindicated by the LEDs:\n• Electrostatic discharge (ESD) (positive and negative) is applied to all device pins until \na functional disturbance occurs. This test is compliant with the IEC 61000-4-2 standard.\n• FTB: A Burst of Fast Transient voltage (positive and negative) is applied to VDD and \nVSS through a 100 pF capacitor, until a func tional disturbance occurs. This test is \ncompliant with the IEC 61000-4-4 standard.\nA device reset allows normal operations to be resumed. The test results are given in Table 41 . They are based on the EMS levels and classes \ndefined in application note AN1709.\n         \nDesigning hardened software to avoid noise problems\nEMC characterization and optimization are per formed at component level with a typical \napplication environment and simplified MCU soft ware. It should be noted that good EMC \nperformance is highly dependent on the user application and the software in particular.\nTherefore it is recommended that the user  applies EMC software optimization and \nprequalification tests in re lation with the EMC level requested for his application.\nSoftware recommendationsThe software flowchart must include the m anagement of runaway conditions such as:\n• Corrupted program counter\n• Unexpected reset\n• Critical Data corruption (control registers...)\nPrequalification trials\nMost of the common failures (unexpected reset and program counter corruption) can be \nreproduced by manually forci ng a low state on the NRST pin or the Oscillator pins for 1 \nsecond.Table 41. EMS characteristics\nSymbol Parameter ConditionsLevel/\nClass\nVFESDVoltage limits to be applied on any I/O pin to \ninduce a functional disturbanceVDD = 3.3 V, LQFP144, TA = +25 °C, \nfHCLK = 72 MHz\nconforms to IEC 61000-4-22B\nVEFTBFast transient voltage burst limits to be \napplied through 100 pF on VDD and VSS \npins to induce a functional disturbanceVDD = 3.3 V, LQFP144, TA = +25 \n°C, \nfHCLK = 72 MHz\nconforms to IEC 61000-4-44A\nDS5792 Rev 13 87/143STM32F103xC, STM32F103xD, STM32F103xE Electrical characteristics\n135To complete these trials, ESD stress can be applie d directly on the device, over the range of \nspecification values. When unexpected behavior is detected, the software can be hardened \nto prevent unrecoverable errors occurring (see application note AN1015).\nElectromagnetic Interference (EMI)\nThe electromagnetic field emitted by the device are monitored while a simple application is executed (toggling 2 LEDs through the I/O por ts). This emission test is compliant with \nIEC 61967-2 standard which specifies the test  board and the pin loading.\n         \n5.3.12 Absolute maximum ratings (electrical sensitivity)\nBased on three different tests (ESD, LU) using specific measurement methods, the device is \nstressed in order to determ ine its performance in terms of electrical sensitivity.\nElectrostatic discharge (ESD)\nElectrostatic discharges (a positive then a negative pulse separated by 1 second) are \napplied to the pins of each sample according to each pin combinati on. The sample size \ndepends on the number of supply pins in the device (3 parts × (n+1) supply pins). This test conforms to the JESD22-A114/C101 standard.\n          \nStatic latch-up\nTwo complementary static te sts are required on six pa rts to assess the latch-up \nperformance: \n• A supply overvoltage is applied to each power supply pin\n• A current injection is applied to each input, output and configurable I/O pin\nThese tests are compliant with EIA/JESD 78A IC latch-up standard.Table 42. EMI characteristics\nSymbol Parameter ConditionsMonitored\nfrequency bandMax vs. [fHSE/fHCLK ]\nUnit\n8/48 MHz 8/72 MHz\nSEMI Peak levelVDD = 3.3 V, TA = 25 °C,\nLQFP144 package\ncompliant with IEC \n61967-20.1 to 30 MHz 8 12\ndBµV 30 to 130 MHz 31 21\n130 MHz to 1GHz 28 33\nSAE EMI Level 4 4 -\nTable 43. ESD absolute maximum ratings\nSymbol Ratings Conditions ClassMaximum \nvalue(1) Unit\nVESD(HBM)Electrostatic discharge voltage \n(human body model)TA = +25 °C, conforming to \nJESD22-A11422 0 0 0\nV\nVESD(CDM)Electrostatic discharge voltage \n(charge device model)TA = +25 °C, conforming to \nJESD22-C101III 500\n1. Guaranteed by characterization results.\nElectrical characteristics STM32F103xC, STM32F103xD, STM32F103xE\n88/143 DS5792 Rev 13         \n5.3.13 I/O current in jection characteristics\nAs a general rule, current injection to the I/O pins, due to external voltage below VSS or \nabove VDD (for standard, 3 V-capable I/O pins) should be avoided during normal product \noperation. However, in order to give an indica tion of the robustness of the microcontroller in \ncases when abnormal injection ac cidentally happens, susceptib ility tests are pe rformed on a \nsample basis during device characterization.\nFunctional susceptibilty to I/O current injection \nWhile a simple application is executed on the de vice,  the device is stressed by injecting \ncurrent into the I/O pins  programmed in floating input mode . While current is  injected into \nthe I/O pin, one at a time, the device is checked for functional failures. \nThe failure is indicated by an out of range parameter: ADC error above a certain limit (>5 \nLSB TUE), out of spec current injection on adja cent pins or other functional failure (for \nexample reset, oscillator frequency deviation). \nThe test results are given in Table 45\n         Table 44. Electrical sensitivities\nSymbol Parameter Conditions Class\nLU Static latch-up class TA = +105 °C conforming to JESD78A II level A\nTable 45. I/O current injection susceptibility \nSymbol DescriptionFunctional susceptibility \nUnitNegative \ninjectionPositive \ninjection\nIINJInjected current on OSC_IN32, \nOSC_OUT32, PA4, PA5, PC13 -0 +0\nmAInjected current on all FT pins -5 +0\nInjected current on any other pin -5 +5\nDS5792 Rev 13 89/143STM32F103xC, STM32F103xD, STM32F103xE Electrical characteristics\n1355.3.14 I/O port characteristics\nGeneral input/output characteristics\nUnless otherwise specified,  the parameters given in Table 46  are derived from tests \nperformed under the conditions summarized in Table 10 . All I/Os are CMOS and TTL \ncompliant.\n         \nAll I/Os are CMOS and TTL compliant (no software configuration required). Their characteristics cover more than the strict CMOS-technology or TTL parameters. The coverage of these requirements is shown in Figure 42  and Figure 43  for standard I/Os, and \nin Figure 44  and Figure 45  for 5 V tolerant I/Os. Table 46. I/O static characteristics\nSymbol Parameter Conditions Min Typ Max Unit\nVILStandard IO input low \nlevel voltage\n-–0.3 - 0.28*(VDD-2 V)+0.8 V V\nIO FT(1) input low level \nvoltage–0.3 - 0.32*(VDD-2 V)+0.75 V V\nVIHStandard IO input high \nlevel voltage-0.41*(VDD-2 V)+1.3 \nV-VDD+0.3 V\nIO FT(1) input high level \nvoltageVDD > 2 V\n0.42*(VDD-2 V)+1 V -5.5 \nV\nVDD ≤ 2 V 5.2\nVhysStandard IO Schmitt \ntrigger voltage hysteresis\n(2)-200 - - mV\nIO FT Schmitt trigger \nvoltage hysteresis(2) 5% VDD(3)-- m V\nIlkg Input leakage current (4)VSS≤VIN≤VDD\nStandard I/Os-- ±1\nµA\nVIN= 5 V,\nI/O FT-- 3\nRPUWeak pull-up equivalent \nresistor(5) VIN = VSS 30 40 50 k Ω\nRPDWeak pull-down \nequivalent resistor(5) VIN = VDD 30 40 50 k Ω\nCIO I/O pin capacitance - - 5 - pF\n1. FT = Five-volt tolerant. In order to sustain a voltage higher than VDD+0.3 the internal pull-up/pull-down resistors must be \ndisabled.\n2. Hysteresis voltage between Schmitt trigger switch ing levels. Guaranteed by characterization results.\n3. With a minimum of 100 mV.\n4. Leakage could be higher than max. if negativ e current is injected on adjacent pins.\n5. Pull-up and pull-down resistor s are designed with a true resistance in seri es with a switchable PMOS/NMOS. This \nMOS/NMOS contribution to the series resistance is minimum (~10% order) .\nElectrical characteristics STM32F103xC, STM32F103xD, STM32F103xE\n90/143 DS5792 Rev 13Figure 42. Standard I/O input characteristics - CMOS port\nFigure 43. Standard I/O input characteristics - TTL port\nFigure 44. 5 V tolerant I/O input characteristics - CMOS portAI\x11\x17\x12\x17\x17B6$$\x00\x086\t\x11\x0e\x13\n\x10\x0e\x18\n\x12 \x13\x0e\x16\n)NPUT\x00RANGE\x00\nNOT\x00GUARANTEED\x11\x0e\x15\x19\n\x11\n\x12\x0e\x176)(\x1d\x10\x0e\x14\x11\x086$$\r\x12\t\x0b\x11\x0e\x13\n\x13\x10\x0e\x17#-/3\x00STANDARD\x00REQUIREMENT\x006)(\x1d\x10\x0e\x16\x156$$\x00\n\x13\x0e\x136)(\x0f6),\x00\x086\t\n#-/3\x00STANDARD\x00REQUIREMENT\x006),\x1d\x10\x0e\x13\x156$$\x12\x0f\x13\x16\x12\x0f\x1a\x17\n\x12\x0f\x18\x12\x12\x0f\x18\x12\n\x12\x0f\x16\x1a\n\x12\x12\x0f\x11\x19\x12\x0f\x11\x19\n7),MAX7)(MIN\n6$$\r\x12\t\x0b\x10\x0e\x18\x1d\x10\x0e\x12\x18\x086),\nAI\x11\x17\x12\x17\x18\x12 \x13\x0e\x16\n)NPUT\x00RANGE\x00\nNOT\x00GUARANTEED6)(\x0f6),\x00\x086\t\n\x11\x0e\x13\x12\x0e\x10\n\x10\x0e\x18\n\x12\x0e\x11\x16\x11\x0e\x19\x16\n\x11\x0e\x12\x1544,\x00REQUIREMENTS\x00 6)(\x1d\x126\n6)(\x1d\x10\x0e\x14\x11\x086$$\r\x12\t\x0b\x11\x0e\x13\n6),\x1d\x10\x0e\x12\x18\x086$$\r\x12\t\x0b\x10\x0e\x18\n44,\x00REQUIREMENTS\x00 6),\x1d\x10\x0e\x186\n6$$\x00\x086\t7),MAX7)(MIN\n6$$\x11\x0e\x13\n\x12 \x13\x0e\x16#-/3\x00STANDARD\x00REQUIREMENTS\x006)(\x1d\x10\x0e\x16\x156$$\n\x00\n#-/3\x00STANDARD\x00REQUIRMENT\x006),\x1d\x10\x0e\x13\x156$$\x11\x0e\x16\x17\n\x11\n\x12\x0e\x17\x10\x0e\x17\n\x13\x13 \x0e \x13\x11\n\x10\x0e\x17\x15\x11\x0e\x12\x19\x15\n\x10\x0e\x19\x17\x15\x11\x0e\x14\x12\x11\x0e\x10\x17\x11\x0e\x15\x15\n\x11\x0e\x11\x166)(\x0f6),\x00\x086\t\n6$$\x00\x086\t\n)NPUT\x00RANGE\x00\nNOT\x00GUARANTEED\nAI\x11\x17\x12\x17\x19B6)(\x1d\x10\x0e\x14\x12\x086$$\r\x12\t\x0b\x11\n6),\x1d\x10\x0e\x13\x12\x086$$\r\x12\t\x0b\x10\x0e\x17\x15\nDS5792 Rev 13 91/143STM32F103xC, STM32F103xD, STM32F103xE Electrical characteristics\n135Figure 45. 5 V tolerant I/O input characteristics - TTL port\nOutput driving current\nThe GPIOs (general purpose input/outputs) can si nk or source up to ±8 mA, and sink or \nsource up to ± 20 mA (with a relaxed VOL/VOH) except PC13, PC14 and PC15 which can \nsink or source up to ±3 mA. When using th e GPIOs PC13 to PC15 in output mode, the \nspeed should not exceed 2 MHz with a maximum load of 30 pF.\nIn the user application, the number of I/O pi ns which can drive curr ent must be limited to \nrespect the absolute maximum rating specified in Section 5.2 :\n• The sum of the currents sourced by all the I/Os on VDD, plus the maximum Run \nconsumption of the MCU sourced on VDD, cannot exceed the absolute maximum rating \nIVDD (see Table 8 ). \n• The sum of the currents sunk by all the I/Os on VSS plus the maximum Run \nconsumption of the MCU sunk on VSS cannot exceed the absolute maximum rating \nIVSS (see Table 8 ). \nOutput voltage levels\nUnless otherwise specified,  the parameters given in Table 47  are derived from tests \nperformed under ambient temperature and VDD supply voltage conditions summarized in \nTable 10 . All I/Os are CMOS and TTL compliant.\n         \x12\x0e\x10\n\x10\x0e\x18\n\x12 \x13\x0e\x16 \x12\x0e\x11\x16\nNOT\x00GUARANTEED\x00)NPUT\x00RANGE\x11\x0e\x16\x17\n\x11\n\x10\x0e\x17\x1544,\x00REQUIREMENT\x00\x006)(\x1d\x126\n6)(\x1d\x10\x0e\x14\x12\n\x086$$\r\x12\t\x0b\x11\n6),\x1d\x10\x0e\x13\x12\n\x086$$\r\x12\t\x0b\x10\x0e\x17\x15\n44,\x00REQUIREMENTS\x006),\x1d\x10\x0e\x186\x006)(\x0f6),\x00\x086\t\n6$$\x00\x086\t7),MAX7)(MIN\nAI\x11\x17\x12\x18\x10\nTable 47. Output voltage characteristics\nSymbol Parameter Conditions Min Max Unit\nVOL(1) Output low level voltage for an I/O pin \nwhen 8 pins are sunk at same time TTL port(3)\nIIO = +8 mA\n2.7 V < VDD < 3.6 V-0 . 4\nV\nVOH(2) Output high level voltage for an I/O pin \nwhen 8 pins are sourced at same timeVDD–0.4 -\nVOL (1) Output low level voltage for an I/O pin \nwhen 8 pins are sunk at same time CMOS port(3)\nIIO =+ 8mA\n2.7 V < VDD < 3.6 V-0 . 4\nV\nVOH (2) Output high level voltage for an I/O pin \nwhen 8 pins are sourced at same time2.4 -\nElectrical characteristics STM32F103xC, STM32F103xD, STM32F103xE\n92/143 DS5792 Rev 13VOL(1)(4) Output low level voltage for an I/O pin \nwhen 8 pins are sunk at same timeIIO = +20 mA\n2.7 V < VDD < 3.6 V-1 . 3\nV\nVOH(2)(4) Output high level voltage for an I/O pin \nwhen 8 pins are sourced at same timeVDD–1.3 -\nVOL(1)(4) Output low level voltage for an I/O pin \nwhen 8 pins are sunk at same time IIO = +6 mA\n2 V < VDD < 2.7 V-0 . 4\nV\nVOH(2)(4) Output high level voltage for an I/O pin \nwhen 8 pins are sourced at same timeVDD–0.4 -\n1. The IIO current sunk by the device must always re spect the absolute maximum rating specified in Table 8  \nand the sum of IIO (I/O ports and control pins) must not exceed IVSS.\n2. The IIO current sourced by the device must always re spect the absolute maximu m rating specified in \nTable 8  and the sum of IIO (I/O ports and control pins) must not exceed IVDD.\n3. TTL and CMOS outputs are compatible with JEDEC standards JESD36 and JESD52.\n4. Guaranteed by characterization results.Table 47. Output voltage characteristics (continued)\nSymbol Parameter Conditions Min Max Unit\nDS5792 Rev 13 93/143STM32F103xC, STM32F103xD, STM32F103xE Electrical characteristics\n135Input/output AC characteristics\nThe definition and values of input/output AC characteristics are given in Figure 46  and \nTable 48 , respectively.\nUnless otherwise specified,  the parameters given in Table 48  are derived from tests \nperformed under ambient temperature and VDD supply voltage conditions summarized in \nTable 10 . \n         Table 48. I/O AC characteristics(1) \nMODEx[1:0] \nbit value(1) Symbol Parameter Conditions Min Max Unit\n10fmax(IO)out Maximum frequency(2)CL = 50 pF, VDD = 2 V to 3.6 V - 2 MHz\ntf(IO)outOutput high to low level \nfall time\nCL = 50 pF, VDD = 2 V to 3.6 V-1 2 5(3)\nns\ntr(IO)outOutput low to high level \nrise time-1 2 5(3)\n01fmax(IO)out Maximum frequency(2)CL = 50 pF, VDD = 2 V to 3.6 V - 10 MHz\ntf(IO)outOutput high to low level \nfall time\nCL = 50 pF, VDD = 2 V to 3.6 V-2 5(3)\nns\ntr(IO)outOutput low to high level \nrise time-2 5(3)\n11Fmax(IO)out Maximum frequency(2)CL = 30 pF, VDD = 2.7 V to 3.6 V - 50 MHz\nCL = 50 pF, VDD = 2.7 V to 3.6 V - 30 MHz\nCL = 50 pF, VDD = 2 V to 2.7 V - 20 MHz\ntf(IO)outOutput high to low level \nfall timeCL = 30 pF, VDD = 2.7 V to 3.6 V - 5(3)\nnsCL = 50 pF, VDD = 2.7 V to 3.6 V - 8(3)\nCL = 50 pF, VDD = 2 V to 2.7 V - 12(3)\ntr(IO)outOutput low to high level \nrise timeCL = 30 pF, VDD = 2.7 V to 3.6 V - 5(3)\nCL = 50 pF, VDD = 2.7 V to 3.6 V - 8(3)\nCL = 50 pF, VDD = 2 V to 2.7 V - 12(3)\n-tEXTIpwPulse width of external \nsignals detected by the EXTI controller-1 0 - n s\n1. The I/O speed is configured using the MODEx[1:0] bits. Refer to the STM32F10x xx reference manual for a description of \nGPIO Port configuration register.\n2. The maximum frequency is defined in Figure 46 .\n3. Guaranteed by design.\nElectrical characteristics STM32F103xC, STM32F103xD, STM32F103xE\n94/143 DS5792 Rev 13Figure 46. I/O AC charac teristics definition \n5.3.15 NRST pin characteristics\nThe NRST pin input driver uses CMOS technology. It is connected to a permanent pull-up \nresistor, RPU (see Table 46 ).\nUnless otherwise specified,  the parameters given in Table 49  are derived from tests \nperformed under ambient temperature and VDD supply voltage conditions summarized in \nTable 10 . \n         DL\x14\x17\x14\x16\x14G\x14\x13\x08\x1c\x13\x08\n\x18\x13\x08\nWU\x0b,2\x0cRXW\n287387(;7(51$/\n21\x03&/\n0D[LPXP\x03IUHTXHQF\\\x03LV\x03DFKLHYHG\x03LI\x03\x0bWU\x03\x0e\x03WI\x0c\x03\x94\x03\x0b\x15\x12\x16\x0c7\x03DQG\x03LI\x03WKH\x03GXW\\\x03F\\FOH\x03LV\x03\x0b\x17\x18\x10\x18\x18\x08\x0c\x03\nZKHQ\x03ORDGHG\x03E\\\x03& /\x03VSHFLILHG\x03LQ\x03WKH\x03WDEOH\x03³\x03 ,\x122\x03$&\x03FKDUDFWHULVWLFV ´\x11\x03\n\x03\x14\x13\x08\n\x18\x13\x08\n\x1c\x13\x08\n7WI\x0b,2\x0cRXW\nTable 49. NRST pin characteristics \nSymbol Parameter Condi tions Min Typ Max Unit\nVIL(NRST)(1)\n1. Guaranteed by design.NRST Input low level voltage - –0.5 - 0.8\nV\nVIH(NRST)(1)NRST Input high level voltage - 2 - VDD+0.5\nVhys(NRST)NRST Schmitt trigger voltage \nhysteresis - - 200 - mV\nRPU Weak pull-up equivalent resistor(2)\n2. The pull-up is designed with a true resistance in seri es with a switchable PMOS. This PMOS contribution \nto the series resistance must be minimum (~10% order) .VIN = VSS 30 40 50 k Ω\nVF(NRST)(1)NRST Input filtered pulse - - - 100 ns\nVNF(NRST)(1)NRST Input not filtered pulse - 300 - - ns\nDS5792 Rev 13 95/143STM32F103xC, STM32F103xD, STM32F103xE Electrical characteristics\n135Figure 47. Recommended NRST pin protection \n1. The reset network protects t he device against par asitic resets.\n2. The user must ensure that the level on the NRST pin can go below the VIL(NRST)  max level specified in \nTable 49 . Otherwise the reset will not be taken into account by the device.\n5.3.16 TIM time r characteristics\nThe parameters given in Table 50  are guaranteed by design.\nRefer to Section 5.3.14: I/O port characteristics  for details on the input/output alternate \nfunction characteristics (output compare, i nput capture, external clock, PWM output).\n          DL\x14\x17\x14\x16\x15F670\x16\x15)5381567\x0b\x15\x0c9\'\'\n)LOWHU,QWHUQDO\x035HVHW\n\x13\x11\x14\x03\x97)([WHUQDO\nUHVHW\x03FLUFXLW\x0b\x14\x0c\nTable 50. TIMx(1) characteristics\n1. TIMx is used as a general term to refer to the TIM1, TIM2, TIM3 and TIM4 timers.Symbol Parameter Conditions Min Max Unit\ntres(TIM) Timer resolution time-1 - tTIMxCLK\n fTIMxCLK  = 72 MHz 13.9 - ns\nfEXTTimer external clock \nfrequency on CH1 to CH4 -0 fTIMxCLK /2 MHz\nfTIMxCLK  = 72 MHz 0 36 MHz\nResTIM Timer resolution - - 16 bit\ntCOUNTER16-bit counter clock \nperiod when internal clock \nis selected- 1 65536 tTIMxCLK\n fTIMxCLK  = 72 MHz 0.0139 910 µs\ntMAX_COUNT Maximum possible count- - 65536 × 65536 tTIMxCLK\n fTIMxCLK  = 72 MHz - 59.6 s\nElectrical characteristics STM32F103xC, STM32F103xD, STM32F103xE\n96/143 DS5792 Rev 135.3.17 Communications interfaces\nI2C interface  characteristics\nThe STM32F103xC, STM32F103xD and STM32F103xESTM32F103xF and STM32F103xG \nperformance line I2C interface meets the requirements of the standard I2C communication \nprotocol with the following restrictions: the I/O pins SDA and SCL are mapped to are not \n“true” open-drain. When configured as open-drain, the PMOS connected between the I/O pin and V\nDD is disabled, but is still present.\nThe I2C characteristics are described in Table 51 . Refer also to  Section 5.3.14: I/O port \ncharacteristics  for more details on the input/output al ternate function characteristics (SDA \nand SCL) .\n         Table 51. I2C characteristics \nSymbol ParameterStandard mode \nI2C(1)(2)\n1.Guaranteed by design.Fast mode I2C(1)(2)\n2. fPCLK1  must be at least 2 MHz to achieve standard mode I2C frequencies. It must be at least 4 MHz to \nachieve the fast mode I2C frequencies and it must be a multiple of 10 MHz in order to reach the I2C fast \nmode maximum clock speed of 400 kHz.Unit\nMin Max Min Max\ntw(SCLL) SCL clock low time 4.7 - 1.3 -\nµs\ntw(SCLH) SCL clock high time 4.0 - 0.6 -\ntsu(SDA) SDA setup time 250 - 100 -\nnsth(SDA) SDA data hold time - 3450(3)-9 0 0(3)\n3. The device must internally provide a hold time of at least 300ns for t he SDA signal in order to bridge the \nundefined region on the falling edge of SCL.tr(SDA)\ntr(SCL)SDA and SCL rise time - 1000 - 300\ntf(SDA)\ntf(SCL)SDA and SCL fall time - 300 - 300 \nth(STA) Start condition hold time 4.0 - 0.6 -\nµs\ntsu(STA)Repeated Start condition \nsetup time4.7 - 0.6 -\ntsu(STO) Stop condition setup time 4.0 - 0.6 - μs\ntw(STO:STA)Stop to Start condition time \n(bus free)4.7 - 1.3 - μs\nCbCapacitive load for each bus \nline- 400 - 400 pF\ntSPPulse width of the spikes \nthat are suppressed by the analog filter for standard and \nfast mode05 0\n(4)\n4. The minimum width of the spikes fi ltered by the analog filter is above tSP(max).05 0(4)μs\nDS5792 Rev 13 97/143STM32F103xC, STM32F103xD, STM32F103xE Electrical characteristics\n135Figure 48. I2C bus AC waveforms and measurement circuit\n1.Measurement points are done at CMOS levels: 0.3VDD and 0.7VDD.\n2. Rs: Series protection resistors.\n3. Rp: Pull-up resistors.4. VDD_I2C : I2C bus supply \n         Table 52. SCL frequency (fPCLK1 = 36 MHz.,VDD_I2C  = 3.3 V)(1)(2)\n1. RP = External pull-up resistance, fSCL = I2C speed.\n2. For speeds around 200 kHz, the tolerance on the achieved speed is of ±5%. For other speed ranges, the \ntolerance on the achieved speed ±2%. These variations depend on the accuracy of the external \ncomponents used to design the application.fSCL (kHz)I2C_CCR value\nRP = 4.7 k Ω\n400 0x801E\n300 0x8028200 0x803C\n100 0x00B4\n50 0x016820 0x0384DL\x14\x17\x1c\x1a\x1cG67$57\n6\'$53\n,ð&\x03EXV9\'\'B,\x15&\n670\x16\x15\n6\'$\n6&/\nWI\x0b6\'$\x0cWU\x0b6\'$\x0c\n6&/WK\x0b67$\x0c\nWZ\x0b6&/+\x0cWZ\x0b6&//\x0cWVX\x0b6\'$\x0c\nWU\x0b6&/\x0c WI\x0b6&/\x0cWK\x0b6\'$\x0c67$57\x035(3($7(\'\nWVX\x0b67$\x0c\nWVX\x0b672\x0c6723WZ\x0b672\x1d67$\x0c9\'\'B,\x15&\n5356\n56\n67$57\nElectrical characteristics STM32F103xC, STM32F103xD, STM32F103xE\n98/143 DS5792 Rev 13I2S - SPI characteristics\nUnless otherwise specified,  the parameters given in Table 53  for SPI or in Table 54  for I2S \nare derived from tests performed under ambient temperature, fPCLKx frequency and VDD \nsupply voltage conditions summarized in Table 10 .\nRefer to Section 5.3.14: I/O port characteristics  for more details on the input/output alternate \nfunction characteristics (N SS, SCK, MOSI, MISO for SPI and WS, CK, SD for I2S).\n         Table 53. SPI characteristics\nSymbol Parameter Conditions Min Max Unit\nfSCK\n1/tc(SCK)SPI clock frequencyMaster mode - 18\nMHzSlave mode -  18\ntr(SCK)\ntf(SCK)SPI clock rise and fall \ntimeCapacitive load: C = 30 pF -  8 ns\nDuCy(SCK)SPI slave input clock \nduty cycleSlave mode 30 70 %\ntsu(NSS)(1)\n1. Guaranteed by characterization results.NSS setup time Slave mode 4tPCLK -\nnsth(NSS)(1)NSS hold time Slave mode 2tPCLK -\ntw(SCKH)(1)\ntw(SCKL)(1) SCK high and low timeMaster mode, fPCLK  = 36 MHz, \npresc = 4 50 60\ntsu(MI) (1)\ntsu(SI)(1) Data input setup timeMaster mode 5 -\nSlave mode 5 -\nth(MI) (1)\nData input hold timeMaster mode 5 -\nth(SI)(1)Slave mode 4 -\nta(SO)(1)(2)\n2. Min time is for the minimum time to drive the output and the max time is for the maximum time to validate \nthe data.Data output access time Slave mode, fPCLK  = 20 MHz  0 3tPCLK\ntdis(SO)(1)(3)\n3. Min time is for the minimum time to invalidate the output and the max time is for the maximum time to put \nthe data in Hi-ZData output disable time Slave mode 2 10\ntv(SO) (1)Data output valid time Slave mode (after enable edge) - 25\ntv(MO)(1)Data output valid time Master mode (after enable edge) - 5\nth(SO)(1)\nData output hold timeSlave mode (after enable edge) 15 -\nth(MO)(1)Master mode (after enable edge) 2 -\nDS5792 Rev 13 99/143STM32F103xC, STM32F103xD, STM32F103xE Electrical characteristics\n135Figure 49. SPI timing diagram - slave mode and CPHA = 0\nFigure 50. SPI timing diagram - slave mode and CPHA = 1(1)\n1. Measurement points are done at CMOS levels: 0.3VDD and 0.7VDD.DL\x14\x17\x14\x16\x18E166\x03LQSXW\nW68\x0b166\x0c WF\x0b6&.\x0c WK\x0b166\x0c6&.\x03LQSXW&3+$ \x14\n&32/ \x13\n&3+$ \x14\n&32/ \x14WZ\x0b6&.+\x0c\nWZ\x0b6&./\x0c\nWD\x0b62\x0cWY\x0b62\x0c WK\x0b62\x0cWU\x0b6&.\x0c\nWI\x0b6&.\x0cWGLV\x0b62\x0c\n0,62\n287387\n026,\n,1387WVX\x0b6,\x0c WK\x0b6,\x0c06%\x03287\n06%\x03,1%,7\x19\x03287 /6%\x03287\n/6%\x03,1 %,7\x03\x14\x03,1\nElectrical characteristics STM32F103xC, STM32F103xD, STM32F103xE\n100/143 DS5792 Rev 13Figure 51. SPI timing diagram - master mode(1)\n1. Measurement points are done at CMOS levels: 0.3VDD and 0.7VDD.DL\x14\x17\x14\x16\x19F6&.\x032XWSXW&3+$ \x13\n026,\n2873870,62\n,1387&3+$ \x13\n/6%\x03287/6%\x03,1&32/ \x13\n&32/ \x14\n%,7\x14\x03287166\x03LQSXW\nWF\x0b6&.\x0c\nWZ\x0b6&.+\x0c\nWZ\x0b6&./\x0cWU\x0b6&.\x0c\nWI\x0b6&.\x0c\nWK\x0b0,\x0c+LJK6&.\x032XWSXW&3+$ \x14\n&3+$ \x14&32/ \x13\n&32/ \x14\nWVX\x0b0,\x0c\nWY\x0b02\x0c WK\x0b02\x0c06%\x03,1 %,7\x19\x03,1\n06%\x03287\nDS5792 Rev 13 101/143STM32F103xC, STM32F103xD, STM32F103xE Electrical characteristics\n135         Table 54. I2S characteristics\nSymbol Parameter Conditions Min Max Unit\nDuCy(SCK) I2S slave input clock duty cycle Slave mode 30 70 %\nfCK\n1/tc(CK)I2S clock frequencyMaster mode (data: 16 bits, \nAudio frequency = 48 kHz) 1.522  1.525\nMHz\nSlave mode 0  6.5\ntr(CK)\ntf(CK)I2S clock rise and fall time Capacitive load CL=5 0p F -  8\nnstv(WS) (1)WS valid time Master mode 3 -\nth(WS) (1)WS hold time Master modeI2S2 2 -\nI2S3 0 -\ntsu(WS) (1)WS setup time Slave mode 4 -\nth(WS) (1)WS hold time Slave mode 0 -\ntw(CKH) (1)\nCK high and low timeMaster fPCLK = 16 MHz, audio \nfrequency = 48 kHz 312.5 -\ntw(CKL) (1) 345 -\ntsu(SD_MR) (1)Data input setup time Master receiverI2S2  2 -\nI2S3 6.5 -\ntsu(SD_SR) (1)Data input setup time Slave receiver 1.5 -\nth(SD_MR)(1)(2)\nData input hold timeMaster receiver  0 -\nth(SD_SR) (1)(2)Slave receiver 0.5 -\ntv(SD_ST) (1)(2)Data output valid timeSlave transmitter (after enable \nedge) - 1 8\nth(SD_ST) (1)Data output hold timeSlave transmitter (after enable \nedge) 11 -\ntv(SD_MT) (1)(2)Data output valid timeMaster transmitter (after enable \nedge)- 3\nth(SD_MT) (1)Data output hold timeMaster transmitter (after enable \nedge) 0-\n1. Guaranteed by design and/or characterization results.\n2. Depends on fPCLK . For example, if fPCLK =8 MHz, then TPCLK  = 1/fPLCLK  =125 ns.\nElectrical characteristics STM32F103xC, STM32F103xD, STM32F103xE\n102/143 DS5792 Rev 13Figure 52. I2S slave timing diagram (Philips protocol)(1) \n1. Measurement points are done at CMOS levels: 0.3 × VDD and 0.7 × VDD.\n2. LSB transmit/receive of the previ ously transmitted byte. No LSB transmi t/receive is sent before the first \nbyte.\nFigure 53. I2S master timing diagram (Philips protocol)(1)\n1. Guaranteed by characterization results.\n2. LSB transmit/receive of the previ ously transmitted byte. No LSB transmi t/receive is sent before the first \nbyte.\nDS5792 Rev 13 103/143STM32F103xC, STM32F103xD, STM32F103xE Electrical characteristics\n135SD/SDIO MMC card host interface (SDIO) characteristics\nUnless otherwise specified,  the parameters given in Table 55  are derived from tests \nperformed under ambient temperature, fPCLKx frequency and VDD supply voltage conditions \nsummarized in Table 10 .\nRefer to Section 5.3.14: I/O port characteristics  for more details on the input/output alternate \nfunction characteristics (D[7:0], CMD, CK).\nFigure 54. SDIO high-speed mode\nFigure 55. SD default mode\n         Table 55. SD / MMC characteristics\nSymbol Parameter Conditions Min Max Unit\nfPPClock frequency in data transfer \nmodeCL ≤ 30 pF 0 48 MHz\ntW(CKL) Clock low time, fPP = 16 MHz CL ≤ 30 pF 32 -\nnstW(CKH) Clock high time, fPP = 16 MHz CL ≤ 30 pF 30 -\ntr Clock rise time CL ≤ 30 pF - 4\ntf Clock fall time CL ≤ 30 pF - 5AI\x11\x14\x18\x18\x18#+\n$\x0c\x00#-$\n\x08OUTPUT\tT/6$ T/($\nElectrical characteristics STM32F103xC, STM32F103xD, STM32F103xE\n104/143 DS5792 Rev 13USB characteristics\nThe USB interface is USB- IF certified (Full Speed).\n         CMD, D inputs (referenced to CK)\ntISU Input setup time CL ≤ 30 pF 2 -\nns\ntIH Input hold time CL ≤ 30 pF 0 -\nCMD, D outputs (referenced to  CK) in MMC and SD HS mode\ntOV Output valid time CL ≤ 30 pF - 6\nns\ntOH Output hold time CL ≤ 30 pF 0 -\nCMD, D outputs (referenced to CK) i n SD default mode(1)\ntOVD Output valid default time CL ≤ 30 pF - 7\nns\ntOHD Output hold default time CL ≤ 30 pF 0.5 -\n1. Refer to SDIO_CLKCR, the SDI clock control register to control the CK output.\nTable 56. USB startup time\nSymbol Parameter  Max  Unit\ntSTARTUP(1)\n1. Guaranteed by design.USB transceiver startup time 1 µsTable 55. SD / MMC characteristics\nSymbol Parameter Conditions Min Max Unit\nDS5792 Rev 13 105/143STM32F103xC, STM32F103xD, STM32F103xE Electrical characteristics\n135         \nFigure 56. USB timings: definition of data signal rise and fall time\n         Table 57. USB DC electrical characteristics\nSymbol Parameter C onditions Min.(1)\n1. All the voltages are measured from the local ground potential.Max.(1)Unit\nInput levels\nVDD USB operating voltage(2)\n2. To be compliant with the USB 2.0 full-speed electrical  specification, the USB_DP  (D+) pin should be pulled \nup with a 1.5 k Ω resistor to a 3.0-to-3.6 V voltage range.-3 . 0(3)\n3. The STM32F103xC/D/E USB functionality is ensured down to 2.7 V but not the full USB electrical \ncharacteristics which are degr aded in the 2.7-to-3.0 V VDD voltage range.3.6 V\nVDI(4)\n4. Guaranteed by characterization results.Differential input sensitivity I(USB_DP, USB_DM) 0.2 -\nV VCM(4)Differential common mode range Includes VDI range 0.8 2.5\nVSE(4)Single ended receiver threshold - 1.3 2.0\nOutput levels\nVOL Static output level low RL of 1.5 k Ω to 3.6 V(5)\n5.RL is the load connected on the USB drivers-0 . 3\nV\nVOH Static output level high RL of 15 k Ω to VSS(5)2.8 3.6\nTable 58. USB: full-speed electrical characteristics\nDriver characteristics(1)\n1. Guaranteed by design.Symbol Parameter Conditions Min Max Unit\ntr Rise time(2)\n2.Measured from 10% to 90% of the data signal. For more detailed informations, please refer to USB \nSpecification - Chapter 7 (version 2.0).CL = 50 pF 42 0 n s\ntf Fall Time(2)CL = 50 pF 4 20 ns\ntrfm Rise/ fall time matching tr/tf 90 110 %\nVCRS Output signal crosso ver voltage - 1.3 2.0 VDL\x14\x17\x14\x16\x1aE&URVV\x03RYHU\nSRLQWV\n\'LIIHUHQWLDO\nGDWD\x03OLQHV\n9&56\n966\nWI WU\nElectrical characteristics STM32F103xC, STM32F103xD, STM32F103xE\n106/143 DS5792 Rev 135.3.18 CAN (controller ar ea network) interface\nRefer to Section 5.3.14: I/O port characteristics  for more details on the input/output alternate \nfunction characteristics (CAN_TX and CAN_RX).\n5.3.19 12-bit ADC characteristics\nUnless otherwise specified,  the parameters given in Table 59  are preliminary values derived \nfrom tests performed under ambient temperature, fPCLK2 frequency and VDDA supply \nvoltage conditions summarized in Table 10 .\nNote: It is recommended to perform a calibration after each power-up.\n         Table 59. ADC characteristics\nSymbol Parameter  Conditions Min Typ Max Unit\nVDDA Power supply - 2.4 - 3.6 V\nVREF+ Positive referenc e voltage - 2.4 - VDDA V\nVREF- Negative reference voltage - 0 V\nIVREFCurrent on the VREF input \npin- - 160(1)220 µA\nfADC ADC clock frequency - 0.6 - 14 MHz\nfS(2)Sampling rate - 0.05 - 1 MHz\nfTRIG(2)External trigger frequencyfADC = 14 MHz - - 823 kHz\n-- - 1 7 1 / fADC\nVAIN Conversion voltage range(3)-0 (VSSA or VREF- \ntied to ground)-VREF+ V\nRAIN(2)External input impedanceSee Equation 1  and \nTable 60  for details-- 5 0 κΩ\nRADC(2)Sampling switch resistance - - - 1 κΩ\nCADC(2) Internal sample and hold \ncapacitor-- - 8 p F\ntCAL(2)Calibration timefADC = 14 MHz 5.9 µs\n-8 3 1 / fADC\ntlat(2) Injection trigger conversion \nlatencyfADC = 14 MHz - - 0.214 µs\n-- - 3(4)1/fADC\ntlatr(2) Regular trigger conversion \nlatencyfADC = 14 MHz - - 0.143 µs\n-- - 2(4)1/fADC\ntS(2)Sampling timefADC = 14 MHz 0.107 - 17.1 µs\n- 1.5 - 239.5 1/fADC\ntSTAB(2)Power-up time - 0 0 1 µs\ntCONV(2) Total conversion time \n(including sampling time)fADC = 14 MHz 1 - 18 µs\n-14 to 252 (tS for sampling +12.5 for \nsuccessive approximation)1/fADC\nDS5792 Rev 13 107/143STM32F103xC, STM32F103xD, STM32F103xE Electrical characteristics\n135Equation 1: RAIN max formula\nThe formula above ( Equation 1 ) is used to dete rmine the maximum external impedance \nallowed for an error below 1/4 of LSB. Here N = 12 (from 12-bit resolution).\n         \n         1.  Guaranteed by characterization results.\n2. Guaranteed by design.3. V\nREF+ can be internally connected to VDDA and VREF- can be internally connected to VSSA, depending on the package. \nRefer to Section 3: Pinouts and pin descriptions  for further details.\n4. For external triggers, a delay of 1/fPCLK2  must be added to the latency specified in Table 59 .\nTable 60. RAIN max for fADC = 14 MHz(1)\n1. Guaranteed by design.Ts (cycles) tS (µs) RAIN max (k Ω)\n1.5 0.11 0.4\n7.5 0.54 5.9\n13.5 0.96 11.428.5 2.04 25.2\n41.5 2.96 37.2\n55.5 3.96 50\n71.5 5.11 NA\n239.5 17.1 NA\nTable 61. ADC accuracy - limited test conditions(1)(2)\n1. ADC DC accuracy values are measured after internal calibration.\n2. ADC Accuracy vs. Negative Injection Current: Inje cting negative current on any  analog input pins should \nbe avoided as this significantly  reduces the accuracy of the conv ersion being performed on another analog \ninput. It is recommended to add a Schottky diode (pin to  ground) to analog pins which may potentially \ninject negative current. Any positive injection current wi thin the limits specified for I\nINJ(PIN)  and ΣIINJ(PIN)  in Section 5.3.14  does not \naffect the ADC accuracy.Symbol Parameter Test conditions Typ Max(3)\n3. Guaranteed by characterization results.Unit\nET Total unadjusted error fPCLK2  = 56 MHz,\nfADC = 14 MHz, RAIN < 10 k Ω,\nVDDA = 3 V to 3.6 V\nTA = 25 °C\nMeasurements made after \nADC calibration\nVREF+ = VDDA±1.3 ±2\nLSBEO Offset error ±1 ±1.5\nEG Gain error ±0.5 ±1.5\nED Differential linearity error ±0.7 ±1\nEL Integral linearity error ±0.8 ±1.5RAINTS\nfADC CADC 2N2+()ln× ×--------------------------------------------------------------- -RADC– <\nElectrical characteristics STM32F103xC, STM32F103xD, STM32F103xE\n108/143 DS5792 Rev 13         \nFigure 57. ADC accuracy characteristics\n1. Example of an actual transfer curve.\n2. Ideal transfer curve.\n3. End point correlation line.\n4. E T = Total Unadjusted Error: maximum deviation be tween the actual and the ideal transfer curves.\nEO = Offset Error: deviation between the fi rst actual transition and the first ideal one.\nEG = Gain Error: deviation between the last  ideal transition and the last actual one.\nED = Differential Linearity Error: maximum deviation between actual steps and the ideal one.EL = Integral Linearity Error: maximum deviati on between any actual transition and the end point \ncorrelation line.Table 62. ADC accuracy(1) (2)(3)\n1. ADC DC accuracy values are measured after internal calibration.\n2. Better performance could be achieved in restricted VDD, frequency, VREF and temperature ranges.\n3. ADC Accuracy vs. Negative Injection Current: Inje cting negative current on any  analog input pins should \nbe avoided as this significantly  reduces the accuracy of the conv ersion being performed on another analog \ninput. It is recommended to add a Schottky diode (pin to  ground) to analog pins which may potentially \ninject negative current. Any positive injection current wi thin the limits specified for I\nINJ(PIN)  and ΣIINJ(PIN)  in Section 5.3.14  does not \naffect the ADC accuracy.Symbol Parameter Test conditions Typ Max(4)\n4. Guaranteed by characterization results.Unit\nET Total unadjusted error\nfPCLK2  = 56 MHz,\nfADC = 14 MHz, RAIN < 10 k Ω,\nVDDA = 2.4 V to 3.6 V\nMeasurements made after \nADC calibration±2 ±5\nLSBEO Offset error ±1.5 ±2.5\nEG Gain error ±1.5 ±3\nED Differential linearity error ±1 ±2\nEL Integral linearity error ±1.5 ±3\nAI\x11\x14\x13\x19\x15C%/%\'\n\x11,3")$%!,\x14\x10\x19\x15\n\x14\x10\x19\x14\n\x14\x10\x19\x13\n\x15\n\x14\n\x13\n\x12\n\x11\n\x10\x17\n\x16\n\x11 \x12 \x13 \x14\x15\x16 \x17 \x14\x10\x19\x13 \x14\x10\x19\x14 \x14\x10\x19\x15 \x14\x10\x19\x16\x08\x11\t\x08\x12\t\n%4\n%$%,\x08\x13\t\n6$$! 633!62%&\x0b\n\x14\x10\x19\x16\x08OR\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00DEPENDING\x00ON\x00PACKAGE\t=6$$!\n\x14\x10\x19\x16;\x11,3")$%!,\x00\x1d\x00\nDS5792 Rev 13 109/143STM32F103xC, STM32F103xD, STM32F103xE Electrical characteristics\n135Figure 58. Typical connecti on diagram using the ADC\n1. Refer to Table 59  for the values of RAIN, RADC and CADC.\n2. Cparasitic  represents the capacitance of the PCB (dependent on soldering and PCB layout quality) plus the \npad capacitance (roughly 7 pF). A high Cparasitic  value will downgrade conversion accuracy. To remedy \nthis, fADC should be reduced.\nGeneral PCB design guidelines\nPower supply decoupling should be performed as shown in Figure 59  or Figure 60 , \ndepending on whether VREF+ is connected to VDDA or not. The 10 nF capacitors should be \nceramic (good quality). They should be placed  them as close as possible to the chip.\nFigure 59. Power supply and reference decoupling (VREF+ not connected to VDDA)\n1. VREF+ and VREF– inputs are available only on 100-pin packages. DL\x14\x1a\x18\x16\x17670\x16\x15) 9\'\'\n$,1[\n,/\x93\x14\x03\x97$\x13\x11\x19\x039975$,1\x0b\x14\x0c\n&SDUDVLWLF9$,1\x13\x11\x19\x03997\n5$\'&\x0b\x14\x0c\n&$\'&\x0b\x14\x0c\x14\x15\x10ELW\nFRQYHUWHU6DPSOH\x03DQG\x03KROG\x03$\'&\x03\nFRQYHUWHU\n95()\x0e\n\x0bVHH\x03QRWH\x03\x14\x0c670\x16\x15)\x14\x13\x16[[\n9\'\'$\n966$\x1295()±\n\x0bVHH\x03QRWH\x03\x14\x0c\x14\x03\x97)\x03\x12\x12\x03\x14\x13\x03Q)\n\x14\x03\x97)\x03\x12\x12\x03\x14\x13\x03Q)\nDL\x14\x17\x16\x1b\x1bE\nElectrical characteristics STM32F103xC, STM32F103xD, STM32F103xE\n110/143 DS5792 Rev 13Figure 60. Power supply and reference decoupling  (VREF+ connected to VDDA)\n1. VREF+ and VREF– inputs are available only on 100-pin packages. 95()\x0e\x129\'\'$670\x16\x15)\x14\x13\x16[[\n\x14\x03\x97)\x03\x12\x12\x03\x14\x13\x03Q)\n95()±\x12966$\nDL\x14\x17\x16\x1b\x1c\x0b6HH\x03QRWH\x03\x14\x0c\n\x0b6HH\x03QRWH\x03\x14\x0c\nDS5792 Rev 13 111/143STM32F103xC, STM32F103xD, STM32F103xE Electrical characteristics\n1355.3.20 DAC electri cal specifications\n         Table 63. DAC characteristics\nSymbol Parameter Min Typ Max Unit Comments\nVDDA Analog supply voltage 2.4 - 3.6 V -\nVREF+ Reference supply voltage 2.4 - 3.6 V VREF+ must always be below VDDA\nVSSA Ground 0 - 0 V -\nRLOAD(1) Resistive load with buffer \nON5- - k Ω -\nRO(2) Impedance output with \nbuffer OFF-- 1 5 k ΩWhen the buffer is OFF, the \nMinimum resistive load between \nDAC_OUT and VSS to have a 1% \naccuracy is 1.5 M Ω\nCLOAD(1) Capacitive load - - 50 pFMaximum capacitive load at \nDAC_OUT pin (when the buffer is ON).\nDAC_OUT \nmin\n(1) Lower DAC_OUT voltage \nwith buffer ON0.2 - - VIt gives the maximum output \nexcursion of the DAC.\nIt corresponds to 12-bit input code \n(0x0E0) to (0xF1C) at VREF+ = 3.6 V \nand (0x155) and (0xEAB) at VREF+ \n= 2.4 VDAC_OUT \nmax(1) Higher DAC_OUT voltage \nwith buffer ON-- VDDA – 0.2 V\nDAC_OUT \nmin(1) Lower DAC_OUT voltage \nwith buffer OFF-0 . 5 - m V\nIt gives the maximum output \nexcursion of the DAC.DAC_OUT \nmax(1)Higher DAC_OUT voltage with buffer OFF--V\nREF+ – \n1LSBV\nIDDVREF+DAC DC current \nconsumption in quiescent \nmode (Standby mode)-- 2 2 0 µ AWith no load, worst code (0xF1C) at \nVREF+ = 3.6 V in terms of DC \nconsumption on the inputs\nIDDADAC DC current \nconsumption in quiescent mode\n(3)-- 3 8 0µ AWith no load, middle code (0x800) \non the inputs\n-- 4 8 0µ AWith no load, worst code (0xF1C) at \nVREF+ = 3.6 V in terms of DC \nconsumption on the inputs\nDNL(4)Differential non linearity \nDifference between two consecutive code-1LSB)-- ± 0 . 5  L S BGiven for the DAC in 10-bit \nconfiguration\n-- ± 2  L S BGiven for the DAC in 12-bit \nconfiguration \nINL\n(3)Integral non linearity \n(difference between \nmeasured value at Code i \nand the value at Code i on a line drawn between Code 0 \nand last Code 1023)-- ± 1L S BGiven for the DAC in 10-bit \nconfiguration \n-- ± 4L S BGiven for the DAC in 12-bit \nconfiguration\nElectrical characteristics STM32F103xC, STM32F103xD, STM32F103xE\n112/143 DS5792 Rev 13Figure 61. 12-bit buffered /non-buffered DAC\n1. The DAC integrates an output buffer that can be used to reduce the output impedance and to drive external \nloads directly without the use of an external oper ational amplifier. The buffer can be bypassed by \nconfiguring the BOFFx bit in the DAC_CR register.Offset(3)Offset error\n(difference between \nmeasured value at Code \n(0x800) and the ideal value = V\nREF+/2)-- ± 1 0 m V -\n-- ± 3L S BGiven for the DAC in 10-bit at VREF+ \n= 3.6 V\n-- ± 1 2 L S BGiven for the DAC in 12-bit at VREF+ \n= 3.6 V\nGain \nerror(3) Gain error - - ±0.5 %Given for the DAC in 12bit \nconfiguration\ntSETTLING(3)Settling time (full scale: for \na 10-bit input code transition between the \nlowest and the highest input \ncodes when DAC_OUT reaches final value ±1LSB-3 4 µ s C\nLOAD  ≤ 50 pF, RLOAD  ≥ 5 kΩ\nUpdate \nrate(3)Max frequency for a correct DAC_OUT change when \nsmall variation in the input \ncode (from code i to i+1LSB)-- 1MS/\nsC\nLOAD  ≤ 50 pF, RLOAD  ≥ 5 kΩ\ntWAKEUP(3)Wakeup time from off state \n(Setting the ENx bit in the \nDAC Control register)-6 . 5 1 0 µ sCLOAD  ≤ 50 pF, RLOAD  ≥ 5 kΩ\ninput code between lowest and \nhighest possible ones.\nPSRR+ (1) Power supply rejection ratio \n(to VDDA) (static DC \nmeasurement- –67 –40 dB No RLOAD , CLOAD  = 50 pF\n1. Guaranteed by design.\n2. Guaranteed by characterization.3. The quiescent mode corresponds to a state where the DAC maintains a stable output level to ensure that no dynamic \nconsumption occurs.\n4. Guaranteed by characterization results.Table 63. DAC characteristics (continued)\nSymbol Parameter Min Typ Max Unit Comments\n5/\n&/%XIIHUHG\x121RQ\x10EXIIHUHG\x03\'$&\n\'$&B287[%XIIHU\x0b\x14\x0c\n\x14\x15\x10ELW\x03\nGLJLWDO\x03WR\x03\nDQDORJ\x03\nFRQYHUWHU\x03\nAI\x11\x17\x11\x15\x176\x13\nDS5792 Rev 13 113/143STM32F103xC, STM32F103xD, STM32F103xE Electrical characteristics\n1355.3.21 Temperature sensor characteristics\n         Table 64. TS characteristics\nSymbol Parameter Min Typ Max Unit\nTL VSENSE  linearity with temperature - ±1 ±2° C\nAvg_Slope Average slope 4.0 4.3 4.6 mV/°CV\n25 Voltage at 25 °C 1.34 1.43 1.52 V\ntSTART(1)\n1. Guaranteed by design.Startup time 4 - 10 µs\nTS_temp(2)(1)\n2. Shortest sampling time can be determined in the application by multiple iterations.ADC sampling time when reading the \ntemperature- - 17.1 µs\nPackage information STM32F103xC, STM32F103xD, STM32F103xE\n114/143 DS5792 Rev 136 Package information\nIn order to meet environmental requirements, ST offers these devices in different grades of \nECOPACK® packages, depending on their level of environmental compliance. ECOPACK® \nspecifications, grade definitions a nd product status are available at: www.st.com . \nECOPACK® is an ST trademark.\n6.1 LFBGA144 package information\nFigure 62. LFBGA144 – 144-ball low profile fine pitch ball grid array, 10 x 10 mm,\n0.8 mm pitch, package outline\n1. Drawing is not to scale.\n         Table 65. LFBGA144 – 144-ball low profile fine pitch ball grid array, 10 x 10 mm,\n0.8 mm pitch, package mechanical data\nSymbolmillimeters inches(1)\nMin Typ Max Typ Min Max\nA(2)- - 1.700 - - 0.0669\nA1 0.250 0.300 0.350 0. 098 0.0118 0.0138\nA2 0.810 0.910 1.010 0. 0319 0.0358 0.0398\nA3 0.225 0.26 0.295 0.0089 0.0102 0.0116A4 0.585 0.650 0.715 0. 0230 0.0256 0.0281\n/)%*$\x14\x17\x17B;\x16B0(B9\x156HDWLQJ\x03SODQH\n$\x14\nH )\n)\n(\n0\n\x91E\x03\x0b\x14\x17\x17\x03EDOOV\x0c$\'\n723\x039,(: %27720\x039,(:\x14 \x14\x15H$ $\x15\n$%&\nGGG&\n(\x14\'\x14\nHHH & $ %\nIII\x91\n\x910\n0&$\x16$\x17\n$\x14\x03%$//\n\x033$\'\x03&251(5$\x14\x03%$//\n\x033$\'\x03&251(5\nDS5792 Rev 13 115/143STM32F103xC, STM32F103xD, STM32F103xE Package information\n135Figure 63. LFBGA144 – 144-ball low profile fine pitch ball grid array, 10 x 10 mm,\n0.8 mm pitch, package recommended footprint\n         b 0.350 0.400 0.450 0. 0138 0.0157 0.0177\nD 9.900 10.000 10.100 0.3898 0.3937 0.3976\nD1 - 8.800 - - 0.3465 -\nE 9.900 10.000 10.100 0.3898 0.3937 0.3976\nE1 - 8.800 - - 0.3465 -\ne - 0.800 - - 0.0315 -\nF - 0.600 - - 0.0236 -\nddd - - 0.100 - - 0.0039\neee - - 0.150 - - 0.0059\nfff - - 0.080 - - 0.0031\n1. Values in inches are converted from mm and rounded to 4 decimal digits.\n2. STATSChipPAC package dimensions.\nTable 66. LFBGA144 recommended PCB design rules (0.8 mm pitch BGA)\nDimension Recommended values\nPitch 0.8 mm\nDpad 0.400 mmTable 65. LFBGA144 – 144-ball low profile fine pitch ball grid array, 10 x 10 mm,\n0.8 mm pitch, package mechanical data (continued)\nSymbolmillimeters inches(1)\nMin Typ Max Typ Min Max\n/)%*$\x14\x17\x17B;\x16B)3B9\x14\'SDG\n\'VP\nPackage information STM32F103xC, STM32F103xD, STM32F103xE\n116/143 DS5792 Rev 13Device marking for LFBGA144 package\nThe following figure gives an example of topside marking orientation versus ball A1 identifier \nlocation. \nFigure 64. LFBGA144 marking example (package top view)\n1. Parts marked as ES or E or accompanied by an Engi neering Sample notification letter are not yet qualified \nand therefore not approved for use in production. ST is not responsible for any consequences resulting \nfrom such use. In no event will ST be liable for t he customer using any of these engineering samples in \nproduction. ST’s Quality department must be contacte d prior to any decision to use these engineering \nsamples to run a qualification activityUBM 0.350 mm\nDsm0.470 mm typ. (depends on the solder mask \nregistration tolerance)\nStencil opening 0.400 mm\nStencil thickness Between 0.100 mm to 0.125 mm\nPad trace width 0.120 mmBall Diameter 0.400 mmTable 66. LFBGA144 recommended PCB design rules (0.8 mm pitch BGA) (continued)\nDimension Recommended values\n06Y\x16\x1c\x17\x13\x189\x14%DOO\x03\n$\x14LGHQWLILHU\x16670\x16\x15)\x14\x13\x163URGXFW\x03LGHQWLILFDWLRQ\x0b\x14\x0c\n=&+\x19\n\'DWH\x03FRGH\n<: :\nDS5792 Rev 13 117/143STM32F103xC, STM32F103xD, STM32F103xE Package information\n1356.2 LFBGA100 package information\nFigure 65. LFBGA100 - 10 x 10 mm low profile fine pitch ball grid array package\noutline\n1. Drawing is not to scale.\n         Table 67. LFBGA100 - 10 x 10 mm low profile fine pitch ball grid array package\nmechanical data\nSymbolmillimeters inches(1)\nMin Typ Max Min Typ Max\nA - - 1.700 - - 0.0669\nA1 0.270 - - 0.0106 - -\nA2 - 0.300 - - 0.0118 -\nA4 - - 0.800 - - 0.0315b 0.450 0.500 0.550 0.0177 0.0197 0.0217\nD 9.850 10.000 10.150 0.3878 0.3937 0.3996\nD1 - 7.200 - - 0.2835 -E 9.850 10.000 10.150 0.3878 0.3937 0.3996\nE1 - 7.200 - - 0.2835 -\ne - 0.800 - - 0.0315 -F - 1.400 - - 0.0551 -\nddd - - 0.120 - - 0.0047+\x13B0(B9\x156HDWLQJ\x03SODQH\n$\x17$\x14\nH )\n)\n\'\n.\nHHH = < ;\nIII\x91E\x03\x0b\x14\x13\x13\x03EDOOV\x0c\n\x91\n\x91$\n0\n0(\n723\x039,(: %27720\x039,(:\x14 \x14\x13H$$\x15\n=<;=\nGGG=\n\'\x14(\x14$\x14\x03EDOO\x03\nLGHQWLILHU$\x14\x03EDOO\x03\nLQGH[\x03DUHD\nPackage information STM32F103xC, STM32F103xD, STM32F103xE\n118/143 DS5792 Rev 13Figure 66. LFBGA100 – 100-ball low profile fine pitch ball grid array, 10 x 10 mm,\n0.8 mm pitch, package recommended footprintoutlineeee - - 0.150 - - 0.0059\nfff - - 0.080 - - 0.0031\n1. Values in inches are converted fr om mm and rounded to 4 decimal digits.\nTable 68. LFBGA100 recommended PCB design rules (0.8 mm pitch BGA)\nDimension Recommended values\nPitch 0.8\nDpad 0.500 mm\nDsm0.570 mm typ. (depends on the soldermask \nregistration tolerance)\nStencil opening 0.500 mm\nStencil thickness Between 0.100 mm and 0.125 mmPad trace width 0.120 mmTable 67. LFBGA100 - 10 x 10 mm low profile fine pitch ball grid array package\nmechanical data\nSymbolmillimeters inches(1)\nMin Typ Max Min Typ Max\n+\x13B)3B9\x14\'SDG\n\'VP\nDS5792 Rev 13 119/143STM32F103xC, STM32F103xD, STM32F103xE Package information\n135Device marking for LFBGA100 package\nThe following figure gives an example of topside marking orientation versus ball A1 identifier \nlocation. \nFigure 67. LFBGA100 marking example (package top view)\n1. Parts marked as ES or E or accompanied by an Engi neering Sample notification letter are not yet qualified \nand therefore not approved for use in production. ST is not responsible for any consequences resulting \nfrom such use. In no event will ST be liable for t he customer using any of these engineering samples in \nproduction. ST’s Quality department must be contacte d prior to any decision to use these engineering \nsamples to run a qualification activity06Y\x16\x1c\x17\x13\x1b9\x14670\x16\x15)\x14\x13\x16\n9\x1b+\x19\x03\x03$GGLWLRQDO\x03\nLQIRUPDWLRQ\n3URGXFW\x03LGHQWLILFDWLRQ\x0b\x14\x0c\n\'DWH\x03FRGH\n%DOO\x03$\x03\nLQGHQWLILHU\n<::;\nPackage information STM32F103xC, STM32F103xD, STM32F103xE\n120/143 DS5792 Rev 136.3 WLCSP64 pac kage information\nFigure 68. WLCSP, 64-ball 4.466 × 4.395 mm, 0.500 mm pitch, wafer-level chip-scale\npackage outline\n1. Drawing is not to scale.\n2. Primary datum Z and seating plane are defined  by the spherical crowns of the ball.\n         Table 69. WLCSP, 64-ball 4.466 × 4.395 mm,  0.500 mm pitch, wafer-level chip-scale\npackage mechanical data\nSymbolmillimeters inches(1)\nMin Typ Max Min Typ Max\nA 0.535 0.585 0.635 0.0211 0.0230 0.0250\nA1 0.205 0.230 0.255 0.0081 0.0091 0.0100\nA2 0.330 0.355 0.380 0.0130 0.0140 0.0150$\x14%XPS\nHHH\n\'HWDLO\x03$\n\x0bURWDWHG\x03\x1c\x13\x83\x0c6HDWLQJ\x03SODQHE%XPS\x03VLGHH\x14\nH\x15\nHH\n*\n)\n&5B0(B9\x156LGH\x03YLHZ\'HWDLO\x03$\n$\n$\x15\n:DIHU\x03EDFN\x03VLGH\'\n(*)\n\x14 \x1b$\n+\n=EEE=\n\x0b\x17[\x0c2ULHQWDWLRQ\nUHIHUHQFH$\x14FFF\nGGG;<=\n==\nDDD;\n<\nDS5792 Rev 13 121/143STM32F103xC, STM32F103xD, STM32F103xE Package information\n135Figure 69. WLCSP64 - 64-ball, 4.4757  x 4.4049 mm, 0.5 mm pitch wafer level chip scale\npackage recommended footprint\n         b(2)0.290 0.320 0.350 0. 0114 0.0126 0.0138\ne - 0.500 - - 0.0197 -\ne1 - 3.500 - - 0.1378 -F - 0.447 - - 0.0176 -\nG - 0.483 - - 0.0190 -\nD 4.446 4.466 4.486 0.1750 0.1758 0.1766E 4.375 4.395 4.415 0.1722 0.1730 0.1738\nH - 0.250 - - 0.0098 -\nL - 0.200 - - 0.0079 -\neee - 0.05 - - 0.0020 -\naaa - 0.10 - - 0.0039 -Number of balls 64\n1. Values in inches are converted from mm and rounded to 4 decimal digits.\n2. Dimension is measured at the maximum ba ll diameter parallel to primary datum Z.\nTable 70. WLCSP64 recommended PCB design rules (0.5 mm pitch)\nDimension Recommended values\nPitch 0.5\nDpad 250 µm\nDsm 300 µm\nStencil Opening 320 µmTable 69. WLCSP, 64-ball 4.466 × 4.395 mm,  0.500 mm pitch, wafer-level chip-scale\npackage mechanical data\nSymbolmillimeters inches(1)\nMin Typ Max Min Typ Max\n:/&63\x19\x17B&5B)3B9\x14\'SDG\n\'VP\nPackage information STM32F103xC, STM32F103xD, STM32F103xE\n122/143 DS5792 Rev 136.4 LQFP144 package information\nFigure 70. LQFP144 - 144-pin, 20 x 20 mm low-profile quad flat package outline\n1. Drawing is not to scale. Stencil Thickness Between 100 µm to 125 µm\nPad trace width 100 µm\nBall Diameter 320 µmTable 70. WLCSP64 recommended PCB design rules (0.5 mm pitch) (continued)\nDimension Recommended values\nH,\'(17,),&$7,213,1\x03\x14*$8*(\x033/$1(\x13\x11\x15\x18\x03PP6($7,1*\n3/$1(\n\'\n\'\x14\n\'\x16\n(\x16\n(\x14\n(.FFF&&\n\x14 \x16\x19\x16\x1a\n\x14\x17\x17\x14\x13\x1c\x14\x13\x1b \x1a\x16\n\x1a\x15\n\x14$B0(B9\x17$\x15$\n$\x14\n/\x14/FE\n$\x14\nDS5792 Rev 13 123/143STM32F103xC, STM32F103xD, STM32F103xE Package information\n135         Table 71. LQFP144 - 144-pin, 20 x 20 mm low-profile quad flat package \nmechanical data\nSymbolmillimeters inches(1)\n1. Values in inches are converted from mm and rounded to 4 decimal digits.Min Typ Max Min Typ Max\nA - - 1.600 - - 0.0630\nA1 0.050 - 0.150 0.0020 - 0.0059A2 1.350 1.400 1.450 0.0531 0.0551 0.0571\nb 0.170 0.220 0.270 0.0067 0.0087 0.0106\nc 0.090 - 0.200 0.0035 - 0.0079\nD 21.800 22.000 22.200 0.8583 0.8661 0.8740\nD1 19.800 20.000 20.200 0.7795 0.7874 0.7953\nD3 - 17.500 - - 0.6890 -\nE 21.800 22.000 22.200 0.8583 0.8661 0.8740\nE1 19.800 20.000 20.200 0.7795 0.7874 0.7953\nE3 - 17.500 - - 0.6890 -\ne - 0.500 - - 0.0197 -\nL 0.450 0.600 0.750 0.0177 0.0236 0.0295\nL1 - 1.000 - - 0.0394 -\nk 0 °3 . 5 °7 ° 0 °3 . 5 °7 °\nccc - - 0.080 - - 0.0031\nPackage information STM32F103xC, STM32F103xD, STM32F103xE\n124/143 DS5792 Rev 13Figure 71. LQFP144 - 144-pin,20 x 20 mm low-profile quad flat package \nrecommended footprint\n1. Dimensions are expr essed in millimeters.\x13\x11\x18\x13\x11\x16\x18\n\x14\x1c\x11\x1c \x14\x1a\x11\x1b\x18\n\x15\x15\x11\x19\x14\x11\x16\x18\n\x15\x15\x11\x19\x14\x1c\x11\x1c\nDL\x14\x17\x1c\x13\x18H\x14 \x16\x19\x16\x1a\x1a\x15\x1a\x16 \x14\x13\x1b\n\x14\x13\x1c\n\x14\x17\x17\nDS5792 Rev 13 125/143STM32F103xC, STM32F103xD, STM32F103xE Package information\n135Device marking for LQFP144 package\nThe following figure gives an example of topsid e marking orientation versus pin 1 identifier \nlocation. \nFigure 72. LQFP144 marking example (package top view) \n1. Parts marked as ES or E or accompanied by an Engi neering Sample notification letter are not yet qualified \nand therefore not approved for use in production. ST is not responsible for any consequences resulting \nfrom such use. In no event will ST be liable for t he customer using any of these engineering samples in \nproduction. ST’s Quality department must be contacte d prior to any decision to use these engineering \nsamples to run a qualification activity06Y\x16\x19\x18\x19\x169\x14\'DWH\x03FRGH\n3LQ\x03\x14\x03LGHQWLILHU670\x16\x15)\x14\x13\x16=(7\x19;3URGXFW\x03LGHQWLILFDWLRQ\x0b\x14\x0c5HYLVLRQ\x03FRGH\n<: :\n2SWLRQDO\x03JDWH\x03PDUN\nPackage information STM32F103xC, STM32F103xD, STM32F103xE\n126/143 DS5792 Rev 136.5 LQFP100 package information\nFigure 73. LQFP100 – 14 x 14 mm 100 pin low-profile quad flat package outline\n1. Drawing is not to scale.\n         E)$%.4)&)#!4)/.0).\x00\x11\'!5\'%\x000,!.%\x10\x0e\x12\x15\x00MM3%!4).\'\x000,!.%\n$\n$\x11\n$\x13\n%\x13\n%\x11\n%+CCC##\n\x11 \x12\x15\x12\x16\x11\x10\x10\x17\x16\x17\x15 \x15\x11\n\x15\x10\n\x11,?-%?6\x15!\x12!\n!\x11\n,\x11,CB\n!\x11\nTable 72. LQPF100 – 14 x 14 mm 100- pin low-profile quad flat package \nmechanical data\nSymbolmillimeters inches(1)\nMin Typ Max Min Typ Max\nA - - 1.600 - - 0.0630\nA1 0.050 - 0.150 0.0020 - 0.0059A2 1.350 1.400 1.450 0.0531 0.0551 0.0571\nb 0.170 0.220 0.270 0.0067 0.0087 0.0106\nc 0.090 - 0.200 0.0035 - 0.0079\nD 15.800 16.000 16.200 0.6220 0.6299 0.6378\nD1 13.800 14.000 14.200 0.5433 0.5512 0.5591\nD3 - 12.000 - - 0.4724 -\nE 15.800 16.000 16.200 0.6220 0.6299 0.6378\nE1 13.800 14.000 14.200 0.5433 0.5512 0.5591\nDS5792 Rev 13 127/143STM32F103xC, STM32F103xD, STM32F103xE Package information\n135Figure 74. LQFP100 recommended footprint\n1. Dimensions are in millimeters.E3 - 12.000 - - 0.4724 -\ne - 0.500 - - 0.0197 -\nL 0.450 0.600 0.750 0.0177 0.0236 0.0295\nL1 - 1.000 - - 0.0394 -\nk 0 °3 . 5 °7 ° 0 °3 . 5 °7 °\nccc - - 0.08 - - 0.0031\n1. Values in inches are converted from mm and rounded to 4 decimal digits.Table 72. LQPF100 – 14 x 14 mm 100- pin low-profile quad flat package \nmechanical data (continued)\nSymbolmillimeters inches(1)\nMin Typ Max Min Typ Max\n\x17\x15 \x15\x11\n\x15\x10 \x17\x16\x10\x0e\x15\n\x10\x0e\x13\n\x11\x16\x0e\x17 \x11\x14\x0e\x13\n\x11\x10\x10 \x12\x16\n\x11\x12\x0e\x13\x12\x15\x11\x0e\x12\n\x11\x16\x0e\x17\x11\nAI\x11\x14\x19\x10\x16C\nPackage information STM32F103xC, STM32F103xD, STM32F103xE\n128/143 DS5792 Rev 13Device marking for LQFP100 package\nThe following figure gives an example of topsid e marking orientation versus pin 1 identifier \nlocation. \nFigure 75. LQFP100 marking example (package top view) \n1. Parts marked as ES or E or accompanied by an Engi neering Sample notification letter are not yet qualified \nand therefore not approved for use in production. ST is not responsible for any consequences resulting \nfrom such use. In no event will ST be liable for t he customer using any of these engineering samples in \nproduction. ST’s Quality department must be contacte d prior to any decision to use these engineering \nsamples to run a qualification activity06Y\x16\x19\x18\x19\x159\x14^dDϯϮ&ϭϬϯ\nsϴdϲ\x03\x03 y3URGXFW\x03LGHQWLILFDWLRQ\x0b\x14\x0c\n5HYLVLRQ\x03FRGH\nttz\'DWH\x03FRGH2SWLRQDO\x03JDWH\x03\nPDUN\n3LQ\x03\x14\x03LGHQWLILHU\nDS5792 Rev 13 129/143STM32F103xC, STM32F103xD, STM32F103xE Package information\n1356.6 LQFP64 package information\nFigure 76. LQFP64 – 10 x 10 mm 64 pin low-profile quad flat package outline\n1. Drawing is not in scale.\n         \x18:B0(B9\x16$\x14$\x15$6($7,1*\x033/$1(\nFFF&\nE&\nF\n$\x14\n/\n/\x14.\n,\'(17,),&$7,213,1\x03\x14\'\n\'\x14\n\'\x16\nH\x14 \x14\x19\x14\x1a\x16\x15\x16\x16 \x17\x1b\n\x17\x1c\n\x19\x17\n(\x16\n(\x14\n(*$8*(\x033/$1(\x13\x11\x15\x18\x03PP\nTable 73. LQFP64 – 10 x 10 mm 64 pin low-profile quad flat package mechanical data\nSymbolmillimeters inches(1)\nMin Typ Max Min Typ Max\nA  - - 1.600 - - 0.0630\nA1 0.050 - 0.150 0.0020 - 0.0059\nA2 1.350 1.400 1.450 0.0531 0.0551 0.0571\nb 0.170 0.220 0.270 0.0067 0.0087 0.0106\nc 0.090 - 0.200 0.0035 - 0.0079\nD - 12.000 - - 0.4724 -\nD1 - 10.000 - - 0.3937 -\nD3 - 7.500 - - 0.2953 -\nE - 12.000 - - 0.4724 -\nE1 - 10.000 - - 0.3937 -\nPackage information STM32F103xC, STM32F103xD, STM32F103xE\n130/143 DS5792 Rev 13Figure 77. LQFP64 - 64-pin, 10 x 10 mm low-profile quad flat recommended footprint\n1. Dimensions are in millimeters.E3 - 7.500 - - 0.2953 -\ne - 0.500 - - 0.0197 -\nθ 0° 3.5° 7° 0° 3.5° 7°\nL 0.450 0.600 0.750 0.0177 0.0236 0.0295\nL1 - 1.000 - - 0.0394 -\nccc - - 0.080 - - 0.0031\n1. Values in inches are converted from mm and rounded to 4 decimal digits.Table 73. LQFP64 – 10 x 10 mm 64 pin low-profile quad flat package mechanical data (continued)\nSymbolmillimeters inches(1)\nMin Typ Max Min Typ Max\n\x14\x18\n\x13\x12 \x14\x19\n\x16\x14 \x11\x17\n\x11 \x11\x16\x11\x0e\x12\x10\x0e\x13\x13\x13\n\x11\x10\x0e\x13\x11\x12\x0e\x17\n\x11\x10\x0e\x13\x10\x0e\x15\n\x17\x0e\x18\n\x11\x12\x0e\x17\nAI\x11\x14\x19\x10\x19C\nDS5792 Rev 13 131/143STM32F103xC, STM32F103xD, STM32F103xE Package information\n135Device marking for LQFP64 package\nThe following figure gives an example of topsid e marking orientation versus pin 1 identifier \nlocation. \nFigure 78. LQFP64 marking example (package top view) \n1. Parts marked as ES or E or accompanied by an Engi neering Sample notification letter are not yet qualified \nand therefore not approved for use in production. ST is not responsible for any consequences resulting \nfrom such use. In no event will ST be liable for t he customer using any of these engineering samples in \nproduction. ST’s Quality department must be contacte d prior to any decision to use these engineering \nsamples to run a qualification activity\n         06Y\x16\x19\x18\x19\x179\x14^dDϯϮ&ϭϬϯ\x04\nzt t5HYLVLRQ\x03FRGH\n\'DWH\x03FRGH\n3LQ\x03\x14\x03LGHQWLILHU3URGXFW\x03LGHQWLILFDWLRQ\x0b\x14\x0c\nZ\x1cdϲ\nPackage information STM32F103xC, STM32F103xD, STM32F103xE\n132/143 DS5792 Rev 136.7 Thermal characteristics\nThe maximum chip junction temperature (TJmax) must never exceed the values given in \nTable 10: General operating conditions on page 44 .\nThe maximum chip-junction temperature, TJ max, in degrees Celsius, may be calculated \nusing the following equation:\nTJ max = TA max + (PD max x ΘJA)\nWhere:\n• TA max is the maximum ambient temperature in °C,\n•ΘJA is the package junction-to-ambient thermal resistance, in °C/W,\n• PD max is the sum of PINT max and PI/O max (PD max = PINT max + PI/Omax),\n• PINT max is the product of IDD and VDD, expressed in Watts. Th is is the maximum chip \ninternal power.\nPI/O max represents the maximum power dissipation on  output pins where:\nPI/O max  = Σ (VOL × IOL) + Σ((VDD – VOH) × IOH),\ntaking into account the actual VOL / IOL and VOH / IOH of the I/Os at low and high level in the \napplication.\n         \n6.7.1 Reference document\nJESD51-2 Integrated Circuits Thermal Test Method Environment Conditions - Natural \nConvection (Still Air). Available from www.jedec.orgTable 74. Package thermal characteristics\nSymbol Parameter Value Unit\nΘJAThermal resistance junction-ambient\nLFBGA144 - 10 × 10 mm / 0.8 mm pitch40\n°C/WThermal resistance junction-ambient\nLQFP144 - 20 × 20 mm / 0.5 mm pitch30\nThermal resistance junction-ambient\nLFBGA100 - 10 × 10 mm / 0.8 mm pitch40\nThermal resistance junction-ambient\nLQFP100 - 14 × 14 mm / 0.5 mm pitch46\nThermal resistance junction-ambient\nLQFP64 - 10 × 10 mm / 0.5 mm pitch45\nThermal resistance junction-ambient\nWLCSP6450\nDS5792 Rev 13 133/143STM32F103xC, STM32F103xD, STM32F103xE Package information\n1356.7.2 Selecting the product temperature range\nWhen ordering the microcontroller, the temperature range is specified in the ordering \ninformation scheme shown in Table 75: Ordering information scheme .\nEach temperature range suffix corresponds to a specific guaranteed ambient temperature at \nmaximum dissipation and, to a spec ific maximum junction temperature.\nAs applications do not commonly use the STM32F103xC, STM32F103xD and \nSTM32F103xE at maximum dissipation, it is useful to calculate the exact power \nconsumption and junction temper ature to determine which te mperature range will be best \nsuited to the application.\nThe following examples show how to calculat e the temperature range needed for a given \napplication.\nExample 1: High-performance application\nAssuming the following ap plication conditions:\nMaximum ambient temperature TAmax = 82 °C (measured according to JESD51-2), \nIDDmax  = 50 mA, VDD = 3.5 V, maximum 20 I/Os used at the same time in output at low \nlevel with IOL = 8 mA, VOL= 0.4 V and maximum 8 I/Os used  at the same time in output \nat low level with IOL = 20 mA, VOL= 1.3 V\nPINTmax = 50 mA × 3.5 V= 175 mW\nPIOmax = 20  × 8 mA × 0.4 V + 8 × 20 mA × 1.3 V = 272 mW\nThis gives: PINTmax  = 175 mW and PIOmax  = 272 mW:\nPDmax = 175 + 272 = 447 mW\nThus: PDmax  = 447 mW\nUsing the values obtained in Table 74  TJmax is calculated as follows:\n– For LQFP100, 46 °C/W T\nJmax = 82 °C + (46 °C/W × 447 mW) = 82 °C + 20.6 °C = 102.6 °C\nThis is within the range of the suffix 6 version parts (–40 < TJ < 105 °C).\nIn this case, parts must be ordered at leas t with the temperature range suffix 6 (see \nTable 75: Ordering information scheme ).\nExample 2: High-temperature application\nUsing the same rules, it is possible to address applications that run at high ambient \ntemperatures with a low dissipation, as long as junction temperature TJ remains within the \nspecified range.\nAssuming the following ap plication conditions:\nMaximum ambient temperature TAmax = 115 °C (measured according to JESD51-2), \nIDDmax  = 20 mA, VDD = 3.5 V, maximum 20 I/Os used at the same time in output at low \nlevel with IOL = 8 mA, VOL= 0.4 V\nPINTmax = 20 mA × 3.5 V= 70 mW\nPIOmax = 20  × 8 mA × 0.4 V = 64 mW\nThis gives: PINTmax  = 70 mW and PIOmax  = 64 mW:\nPDmax = 70 + 64 = 134 mW\nThus: PDmax  = 134 mW\nPackage information STM32F103xC, STM32F103xD, STM32F103xE\n134/143 DS5792 Rev 13Using the values obtained in Table 74  TJmax is calculated as follows:\n– For LQFP100, 46 °C/W T\nJmax = 115 °C + (46 °C/W × 134 mW) = 115 °C + 6.2 °C = 121.2 °C\nThis is within the range of the suffix 7 version parts (–40 < TJ < 125 °C).\nIn this case, parts must be ordered at leas t with the temperature range suffix 7 (see \nTable 75: Ordering information scheme ).\nFigure 79. LQFP100 PD max vs. TA\n0100200300400500600700\n65 75 85 95 105 115 125 135\nTA (°C)PD (mW)Suffix 6\nSuffix 7\nDS5792 Rev 13 135/143STM32F103xC, STM32F103xD, STM32F103xE Ordering information\n1357 Ordering information\n         \nFor a list of available options (speed, package, etc.) or for further information on any aspect \nof this device, please contact your nearest ST sales office.Table 75. Ordering information scheme\nExample: STM32 F 103 R C T 6 xxx\nDevice family\nSTM32 = Arm-based 32 -bit microcontroller\nProduct type\nF = general-purpose\nDevice subfamily\n103 = performance line\nPin count\nR = 64 pins\nV = 100 pinsZ = 144 pins\nFlash memory size\nC = 256 Kbytes of Flash memory\nD = 384 Kbytes of Flash memoryE = 512 Kbytes of Flash memory\nPackage\nH = BGA\nT = LQFPY = WLCSP64\nTemperature range\n6 = Industrial temperature range, –40 to 85 °C.7 = Industrial temperature range, –40 to 105 °C.\nOptions\nxxx = programmed partsTR = tape and real\nRevision history STM32F103xC, STM32F103xD, STM32F103xE\n136/143 DS5792 Rev 138 Revision history\n         Table 76.Document revision history\nDate Revision Changes\n07-Apr-2008 1 Initial release.\n22-May-2008 2Document status promot ed from Target Specification to Preliminary \nData.\nSection 1: Introduction  and Section 2.2: Full compatibility throughout \nthe family  modified. Small text changes.\nNote 2  added in Table 2: STM32F103xC, STM32F103xD and \nSTM32F103xE features and peripheral counts on page 11 .\nLQPF100/BGA100 column added to Table 6: FSMC pin definition on \npage 38 .\nValues and Figures added to Maximum current consumption on \npage 62  (see Table 18 , Table 19 , Table 20  and Table 21  and see \nFigure 14 , Figure 15 , Figure 17 , Figure 18  and Figure 19 ).\nValues added to Typical current consumption on page 73  (see \nTable 22 , Table 23  and Table 24 ). Table 19: Typical current \nconsumption in Standby mode  removed.\nNote 4  and Note 1  added to Table 65: USB DC electrical characteristics  \nand Table 66: USB: full-speed electrical characteristics on page 129 , \nrespectively.\nVUSB added to Table 65: USB DC electrical characteristics on \npage 129 .\nFigure 68: Recommended footprint(1) on page 143  corrected.\nEquation 1  corrected. Figure 73: LQFP100 PD max vs. TA on page 149  \nmodified.\nTolerance values corrected in Table 74: LFBGA144 – 144-ball low \nprofile fine pitch ball grid array, 10 x 10 mm, 0.8 mm pitch, package data on page 139 .\nDS5792 Rev 13 137/143STM32F103xC, STM32F103xD, STM32F103xE Revision history\n14221-Jul-2008 3Document status promot ed from Preliminary Data to full datasheet.\nFSMC (flexible static memory controller) on page 22  modified.\nNumber of complementary channels corrected in Figure 1: \nSTM32F103xF, STM32F103xD and STM32F103xGSTM32F103xF and STM32F103xG performance line block diagram .\nPower supply supervisor on page 23  modified and V\nDDA added to \nTable 14: General operating conditions on page 59 .\nTable notes revised in Section 5: Electrical characteristics .\nCapacitance modified in Figure 12: Power supply scheme on page 57 .\nTable 60: SCL frequency (fPCLK1= 36 MHz.,VDD = 3.3 V)  updated.\nTable 61: SPI characteristics  modified, th(NSS) modified in Figure 49: \nSPI timing diagram - slave mode and CPHA = 0 on page 123 .\nMinimum SDA and SCL fall time va lue for Fast mode removed from \nTable 59: I2C characteristics on page 120 , note 1 modified.\nIDD_VBAT  values and some IDD values with regulator in run mode added \nto Table 21: Typical and maximum current consumptions in Stop and \nStandby modes on page 68 .\nTable 34: Flash memory endurance and data retention on page 87  \nupdated.\ntsu(NSS)  modified in Table 61: SPI characteristics on page 122 .\nEO corrected in Table 70: ADC accuracy on page 132 . Figure 58: \nTypical connection diagram using the ADC on page 133  and note below \ncorrected.\nTypical TS_temp  value removed from Table 72: TS characteristics on \npage 137 .\nSection 6.1: Package mechanical data on page 138  updated.\nSmall text changes.Table 76.Document revision history\nDate Revision Changes\nRevision history STM32F103xC, STM32F103xD, STM32F103xE\n138/143 DS5792 Rev 1312-Dec-2008 4Timers specified  on page 1  (motor control capability mentioned).\nSection 2.2: Full compatibility throughout the family  updated.\nTable 6: High-density timer feature comparison  added.\nGeneral-purpose timers (TIMx)  and Advanced-control timers (TIM1 and \nTIM8) on page 27  updated.\nFigure 1: STM32F103xF, STM32F103xD and \nSTM32F103xGSTM32F103xF and STM32F103xG performance line \nblock diagram  modified.\nNote 10  added, main function after reset and Note 5 on page 44  \nupdated in Table 8: High-density STM32F103xx pin definitions .\nNote 2  modified below Table 11: Voltage characteristics on page 58 , \n|DVDDx| min and |DVDDx| min removed.\nNote 2  and PD values for LQFP144 and LFBGA144 packages added to \nTable 14: General operating conditions on page 59 .\nMeasurement conditions specified in Section 5.3.5: Supply current \ncharacteristics on page 62 .\nMax values at TA = 85 °C and TA = 105 °C updated in Table 21: Typical \nand maximum current consumptions in Stop and Standby modes on \npage 68 .\nSection 5.3.10: FSMC characteristics on page 87  updated.\nData added to Table 50: EMI characteristics on page 111 .\nIVREF  added to Table 67: ADC characteristics on page 130 .\nTable 81: Package thermal characteristics on page 146  updated.\nSmall text changes.Table 76.Document revision history\nDate Revision Changes\nDS5792 Rev 13 139/143STM32F103xC, STM32F103xD, STM32F103xE Revision history\n14230-Mar-2009 5I/O information clarified  on page 1 . Figure 4: STM32F103xC and \nSTM32F103xE performance line BGA100 ballout  corrected.\nI/O information clarified  on page 1 .\nIn Table 5: High-density STM32F103xx pin definitions :\n– I/O level of pins PF11, PF12, PF13, PF14, PF15, G0, G1 and G15 \nupdated\n– PB4, PB13, PB14, PB15, PB3/ TRACESWO moved from Default \ncolumn to Remap column\nPG14 pin description modified in Table 6: FSMC pin definition .\nFigure 9: Memory map on page 54  modified.\nNote modified in Table 18: Maximum current consumption in Run \nmode, code with data processing  running from Flash  and Table 20: \nMaximum current consumption in Sleep mode, code running from Flash or RAM .\nFigure 17 , Figure 18  and Figure 19  show typical curves (titles \nchanged).\nTable 25: High-speed external user clock characteristics  and Table 26: \nLow-speed external user clock characteristics  modified. ACC\nHSI max \nvalues modified in Table 29: HSI oscillator characteristics .\nFSMC configuration modified for Asynchronous waveforms and \ntimings . Notes modified below Figure 24: Asynchronous non-\nmultiplexed SRAM/PSRAM/NOR read waveforms  and Figure 25: \nAsynchronous non-multiplexed SRAM/PSRAM/NOR write waveforms .\ntw(NADV)  values modified in Table 35: Asynchronous non-multiplexed \nSRAM/PSRAM/NOR read timings and Table 39: Asynchronous \nmultiplexed PSRAM/NOR write timings . th(Data_NWE)  modified in \nTable 36: Asynchronous non-mult iplexed SRAM/PSRAM/NOR write \ntimings\nIn Table 41: Synchronous multiplexed PSRAM write timings  and \nTable 43: Synchronous non-multiplexed PSRAM write timings :\n–tv(Data-CLK)  renamed as td(CLKL-Data)\n–td(CLKL-Data) min value removed and max value added\n–th(CLKL-DV)  / th(CLKL-ADV) removed\nFigure 28: Synchronous multiplexed NOR/PSRAM read timings , \nFigure 29: Synchronous multiplexed PSRAM write timings  and \nFigure 31: Synchronous non-multiplexed PSRAM write timings  \nmodified.\nFigure 52: I2S slave timing diagram (Philips protocol)(1)  and Figure 53: \nI2S master timing diagram (Philips protocol)(1)  modified.\nWLCSP64 package added (see Figure 8: STM32F103xC and \nSTM32F103xE performance line WLCSP64 ballout, ball side , Table 8: \nHigh-density STM32F103xx pin definitions , Figure 65: WLCSP, 64-ball \n4.466 × 4.395 mm, 0.500 mm pitch,  wafer-level chip-scale package \noutline  and Table 76: WLCSP, 64-ball 4.466 × 4.395 mm, 0.500 mm \npitch, wafer-level chip-scale package mechanical data ).\nSmall text changes.Table 76.Document revision history\nDate Revision Changes\nRevision history STM32F103xC, STM32F103xD, STM32F103xE\n140/143 DS5792 Rev 1321-Jul-2009 6Figure 1: STM32F103xC, STM32F103xD and STM32F103xE \nperformance line block diagram  updated.\nNote 5  updated and Note 4  added in Table 5: High-density \nSTM32F103xC/D/E pin definitions .\nVRERINT  and TCoeff added to Table 13: Embedded internal reference \nvoltage .\nTable 16: Maximum current consumption in Sleep mode, code running \nfrom Flash or RAM  modified.\nfHSE_ext  min modified in Table 21: High-speed external user clock \ncharacteristics .\nCL1 and CL2 replaced by C in Table 23: HSE 4-16 MHz oscillator \ncharacteristics  and Table 24: LSE oscillator characteristics (fLSE = \n32.768 kHz) , notes modified and moved below the tables.\nNote 1  modified below Figure 29: Synchronous multiplexed PSRAM \nwrite timings . Table 25: HSI oscillator characteristics  modified. \nConditions removed from Table 27: Low-power mode wakeup timings .\nJitter added to Table 28: PLL characteristics .\nFigure 47: Recommended NRST pin protection  modified.\nIn Table 31: Asynchronous non-multiplexed SRAM/PSRAM/NOR read \ntimings : th(BL_NOE)  and th(A_NOE) modified.\nIn Table 32: Asynchronous non-multiplexed SRAM/PSRAM/NOR write \ntimings : th(A_NWE)  and th(Data_NWE)  modified.\nIn Table 33: Asynchronous multiplexed PSRAM/NOR read timings : \nth(AD_NADV)  and th(A_NOE)  modified.\nIn Table 34: Asynchronous multiplexed PSRAM/NOR write timings : \nth(A_NWE)  modified.\nIn Table 35: Synchronous multiplexed NOR/PSRAM read timings : \nth(CLKH-NWAITV)  modified.\nIn Table 40: Switching characteristics for NAND Flash read and write \ncycles : th(NOE-D)  modified.\nTable 53: SPI characteristics  modified. Values added to Table 54: I2S \ncharacteristics  and Table 55: SD / MMC characteristics .\nCADC and RAIN parameters modified in Table 59: ADC characteristics . \nRAIN max values modified in Table 60: RAIN max for fADC = 14 MHz .\nTable 71: DAC characteristics  modified. Figure 61: 12-bit buffered /non-\nbuffered DAC  added.\nFigure 63: LFBGA100 - 10 x 10 mm low profile fine pitch ball grid array \npackage outline  and Table 75: LFBGA100 - 10 x 10 mm low profile fine \npitch ball grid array package mechanical data  updated.\n24-Sep-2009 7Number of DACs corrected in Table 3: STM32F103xx family .\nIDD_VBAT  updated in Table 17: Typical and maximum current \nconsumptions in Stop and Standby modes .\nFigure 16: Typical current consumption on VBAT with RTC on vs. \ntemperature at different VBAT values  added.\nIEC 1000 standard updated to IEC 61000 and SAE J1752/3 updated to \nIEC 61967-2 in Section 5.3.11: EMC characteristics on page 86 .\nTable 63: DAC characteristics  modified. Small text changes.Table 76.Document revision history\nDate Revision Changes\nDS5792 Rev 13 141/143STM32F103xC, STM32F103xD, STM32F103xE Revision history\n14219-Apr-2011 8Updated package choice for 103Rx in Table 2\nUpdated footnotes below Table 7: Voltage characteristics on page 43  \nand Table 8: Current characteristics on page 43\nUpdated tw min in Table 21: High-speed external user clock \ncharacteristics on page 58\nUpdated startup time in Table 24: LSE oscillator characteristics (fLSE = \n32.768 kHz) on page 61\nUpdated note 2 in Table 51: I2C characteristics on page 96\nUpdated Figure 48: I2C bus AC waveforms and measurement circuit\nUpdated Figure 47: Recommended NRST pin protection\nUpdated Section 5.3.14: I/O port characteristics\nUpdated Table 35: Synchronous multiplexed NOR/PSRAM read \ntimings on page 72\nUpdated FSMC Figure 26  thru Figure 31\nUpdated Figure 41.: NAND controller waveforms for common memory \nwrite access  and Figure 48.: I2C bus AC waveforms and measurement \ncircuit\nAdded Section 5.3.13: I/O current injection characteristics\nUpdated Figure 67  and added Table 69: WLCSP, 64-ball 4.466 × 4.395 \nmm, 0.500 mm pitch, wafer-level ch ip-scale package mechanical data \non page 120\nLQFP64 package mechanical data updated: see Figure 73.: LQFP64 – \n10 x 10 mm 64 pin low-profile quad flat package outline  and Table 73: \nLQFP64 – 10 x 10 mm 64 pin low-profile quad flat package mechanical \ndata on page 129 .\n30-Sept-2014 9Added Note 7  in Table 5: High-density STM32F103xC/D/E pin \ndefinitions on page 31 .\nUpdated Note 10  in Table 5: High-density STM32F103xC/D/E pin \ndefinitions on page 31 .\nModified Note 2  in Table 62: ADC accuracy on page 108\nModified Note 3  in Table 62: ADC accuracy on page 108\nModified notes in Table 51: I2C characteristics on page 96\nUpdated Figure 51: SPI timing diagram - master mode(1) on page 100\n23-Feb-2015 10Updated Figure 66.: BGA pad footprint , Figure 70: LQFP144 - 144-pin, \n20 x 20 mm low-profile quad flat package outline , Figure 73.: LQFP100 \n– 14 x 14 mm 100 pin low-profile quad flat package outline , Figure 74.: \nLQFP100 recommended footprint , Figure 76.: LQFP64 – 10 x 10 mm \n64 pin low-profile quad flat package outline , Figure 77.: LQFP64 - 64-\npin, 10 x 10 mm low-profile quad flat recommended footprint\nAdded Figure 72.: LQFP144 marking example (package top view) , \nFigure 75.: LQFP100 marking example (package top view) , Figure 78.: \nLQFP64 marking example (package top view)\nUpdated Table 72: LQPF100 – 14 x 14 mm 100-pin low-profile quad flat \npackage  mechanical data , Table 73: LQFP64 – 10 x 10 mm 64 pin low-\nprofile quad flat package mechanical dataTable 76.Document revision history\nDate Revision Changes\nRevision history STM32F103xC, STM32F103xD, STM32F103xE\n142/143 DS5792 Rev 1331-08-2015 11Replaced USBDP and USBDM by U SB_DP and USB_DM in the whole \ndocument.\nUpdated:\n– Introduction– Reference standard in Table 43: ESD absolute maximum ratings .\n– Updated I\nDDA description in Table 63: DAC characteristics .\n–Section : I2C interf ace characteristics\n–Figure 62: LFBGA144 – 144-ball low profile fine pitch ball grid array, \n10 x 10 mm, 0.8 mm pitch, package outline\n– Updated sentence before Figure 78: LQFP64 marking example \n(package top view) .\n–Figure 65: LFBGA100 - 10 x 10 mm low profile fine pitch ball grid \narray package outline  and sentence before Figure 75: LQFP100 \nmarking example (package top view)\n–Figure 68: WLCSP, 64-ball 4.466 × 4.395 mm, 0.500 mm pitch, \nwafer-level chip-scale package outline\n–Figure 48: I2C bus AC waveforms and measurement circuit on \npage 97\n–Section 6.1: LFBGA144 package information  and Section 6.2: \nLFBGA100 package information .\n–Table 20: Peripheral current consumption\nAdded:–Figure 63: LFBGA144 – 144-ball low profile fine pitch ball grid array, \n10 x 10 mm, 0.8 mm pitch, package recommended footprint\n–Figure 64: LFBGA144 marking example (package top view)\n–Figure 66: LFBGA100 – 100-ball low profile fine pitch ball grid array, \n10 x 10 mm, 0.8 mm pitch, package recommended footprintoutline\n–Figure 69: WLCSP64 - 64-ball, 4.4757 x 4.4049 mm, 0.5 mm pitch \nwafer level chip scale package recommended footprint\n–Table 66: LFBGA144 recommended PCB design rules (0.8 mm pitch \nBGA)\n–Table 68: LFBGA100 recommended PCB design rules (0.8 mm pitch \nBGA)\n–Table 70: WLCSP64 recommended PCB design rules (0.5 mm pitch) .\n26-Nov-2015 12Updated:\n–Table 59: ADC characteristics\n–Table 65: LFBGA144 – 144-ball low profile fine pitch ball grid array, \n10 x 10 mm, 0.8 mm pitch, package mechanical data\n–Table 66: LFBGA144 recommended PCB design rules (0.8 mm pitch \nBGA)\nAdded:–Note 3  on Table 7: Voltage characteristics\n10-Jul-2018 13Updated:\n–Table 2: STM32F103xC, STM32F103xD and STM32F103xE features \nand peripheral counts\n–Section 7: Ordering informationTable 76.Document revision history\nDate Revision Changes\nDS5792 Rev 13 143/143STM32F103xC, STM32F103xD, STM32F103xE\n143         \nIMPORTANT NOTICE – PLEASE READ CAREFULLY\nSTMicroelectronics NV and its subsidiaries (“ST”) reserve the right to make changes, corrections, enhancements, modifications, and \nimprovements to ST products and/or to this document at any time without notice. Purchasers should obtain the latest relevant in formation on \nST products before placing orders. ST products are sold pursuant to ST’s terms and conditions of sale in place at the time of o rder \nacknowledgement.\nPurchasers are solely responsible for the choice, selection, and use of ST products and ST assumes no liability for application  assistance or \nthe design of Purchasers’ products.\nNo license, express or implied, to any intellectual property right is granted by ST herein.Resale of ST products with provisions different from the information set forth herein shall void any warranty granted by ST for  such product.\nST and the ST logo are trademarks of ST. All other product or service names are the property of their respective owners.Information in this document supersedes and replaces information previously supplied in any prior versions of this document.\n© 2018 STMicroelectronics – All rights reserved\n'}]
!==============================================================================!
### Component Summary: STM32F103VDH6TR

#### Key Characteristics and Specifications:
- **Voltage Ratings**: 
  - Operating Voltage: 2.0 to 3.6 V
  - Junction Temperature: -40 to +125 °C
- **Current Ratings**: 
  - Supply Current in Run Mode: Up to 70 mA (typical at 72 MHz)
  - I/O Current: ±8 mA (standard), ±20 mA (relaxed), ±3 mA (PC13, PC14, PC15)
- **Power Consumption**: 
  - Maximum current consumption in Run mode: 70 mA (at 72 MHz)
  - Sleep Mode: 6.4 mA (typical)
  - Stop Mode: 35 µA (typical)
  - Standby Mode: 3 µA (typical)
- **Operating Temperature Range**: -40 to +105 °C
- **Package Type**: 
  - LQFP144 (20 x 20 mm, 0.5 mm pitch)
  - LFBGA144 (10 x 10 mm, 0.8 mm pitch)
  - LFBGA100 (10 x 10 mm, 0.8 mm pitch)
  - WLCSP64 (4.466 x 4.395 mm, 0.5 mm pitch)
- **Special Features**: 
  - Arm Cortex-M3 core, 72 MHz maximum frequency
  - Up to 512 Kbytes of Flash memory
  - 3 × 12-bit ADCs, 2 × 12-bit DACs
  - USB 2.0 full-speed interface, CAN interface
  - 11 timers, 13 communication interfaces
  - Low-power modes (Sleep, Stop, Standby)
- **Moisture Sensitive Level**: MSL 3 (according to JEDEC J-STD-020E)

#### Description:
The **STM32F103VDH6TR** is a high-density performance line microcontroller based on the Arm Cortex-M3 architecture. It operates at a maximum frequency of 72 MHz and is designed for a wide range of applications requiring high performance and low power consumption. The microcontroller features a rich set of peripherals, including multiple timers, ADCs, DACs, and communication interfaces, making it suitable for complex control tasks.

#### Typical Applications:
The STM32F103VDH6TR is commonly used in various applications, including:
- **Motor Control**: Ideal for driving motors in industrial and consumer applications.
- **Medical Devices**: Suitable for handheld medical equipment due to its low power consumption and high performance.
- **Consumer Electronics**: Used in gaming peripherals and other consumer devices.
- **Industrial Automation**: Employed in PLCs, inverters, and alarm systems.
- **Data Acquisition**: Utilized in systems requiring analog-to-digital conversion and processing.
- **Communication Systems**: Supports CAN and USB interfaces for robust communication in automotive and industrial applications.

This microcontroller's versatility and performance make it a popular choice for developers looking to implement advanced features in their embedded systems.