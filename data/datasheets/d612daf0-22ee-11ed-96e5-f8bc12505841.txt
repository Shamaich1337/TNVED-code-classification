[{'role': 'system', 'content': 'You are a technical specialist with expertise in electronics. Your task is to analyze datasheets for electronic components and provide a concise summary of the product’s key characteristics and specifications. In addition, you need to gather textual information about the component, including its description and typical applications.Instructions:    Identify the correct component in the datasheet using the provided product code.    Summarize key parameters, including:        Voltage ratings        Current ratings        Power consumption        Operating temperature range        Package type        Special features or notes (if applicable)        Moisture Sensetive Level JEDEC J-STD-020E    Provide a short description of the component, including what it is (e.g., transistor, microcontroller, sensor) and its primary function.    Explain typical applications for the component (e.g., power management, signal processing, data storage, etc.).    Be thorough and accurate: Ensure the information corresponds specifically to the product code, as some datasheets cover multiple variants.Your goal is to create a clear and accurate technical summary that includes both key specifications and a description of what the component is used for.'}, {'role': 'user', 'content': 'Give me information about the component of STSPIN820 production of ST MICROELECTRONICS from the text:This is information on a product in full production. December 2017 DocID031065 Rev 2 1/29STSPIN820\n                  Advanced 256 microsteps integrated motor driver with\nstep-clock and direction interface\nDatasheet - production data\nFeatures\n\uf0b7Operating voltage from 7 to 45 V\n\uf0b7Maximum output current 1.5 Arms\n\uf0b7RDSon HS + LS = 1 Ω typ.\n\uf0b7Microstepping up to 1/256th of step \n\uf0b7Current control with programmable OFF time \n\uf0b7Current sensing based on external shunt \nresistor\n\uf0b7Full protection set\n\uf0b7Non-dissipative overcurrent protection\n\uf0b7Short-circuit protection\n\uf0b7Undervoltage lockout\n\uf0b7Thermal shutdown\n\uf0b7Standby low consumptionApplications\n\uf0b73D printers\n\uf0b7Medical equipment\n\uf0b7Industrial 2D printers\n\uf0b7Textile and sewing machines\n\uf0b7CCTV, security and dome cameras\n\uf0b7ATM and cash handling machines\n\uf0b7Office and home automation\n\uf0b7POS\n\uf0b7Robotics\nDescription\nThe STSPIN820 is a stepper motor driver which \nintegrates, in a small QFN 4 x 4 mm package, both control logic and a low R\nDSon power stage.\nThe integrated controller implements a PWM \ncurrent control with fixed OFF time and a microstepping resolution up to 1/256\nth of the step.\nThe device can be forced into a low consumption \nstate.\nThe device offers a complete set of protection \nfeatures including overcurrent, overtemperature and short-circuit protection.\nQFN 4 x 4 - 24 lead  \nwww.st.com\nContents STSPIN820\n2/29 DocID031065 Rev 2Contents\n1 Block diagram  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 5\n2 Electrical data  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 6\n2.1 Absolute maximum ratings . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 6\n2.2 Recommended operating conditions  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 6\n2.3 Thermal data  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 62.4 ESD protection ratings . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7\n3 Electrical characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 8\n4 Pin connection . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 10\n5 Functional description  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 12\n5.1 Power supply and standby . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 12\n5.2 Microstepping sequencer . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 135.3 PWM current control . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 16\n5.4 Overcurrent and short-circuit protections . . . . . . . . . . . . . . . . . . . . . . . . . 19\n5.5 Thermal shutdown  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 225.6 ESD protection strategy . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 23\n6 Typical applications  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 24\n7 Layout recommendations . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 25\n8 Package information . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 26\n8.1 TFQFPN 4 x 4 x 1.05- 24L package information  . . . . . . . . . . . . . . . . . . . 26\n9 Ordering information  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 28\n10 Revision history  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 28\nDocID031065 Rev 2 3/29STSPIN820 List of tables\n29List of tables\nTable 1. Absolute maximum ratings . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . 6\nTable 2. Recommended operating conditions  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 6Table 3. Thermal data. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . . . . . 6\nTable 4. ESD protection ratings . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7\nTable 5. Electrical characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . . . 8\nTable 6. Pin description  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . . . . 10\nTable 7. Step mode selection through MODEx inputs . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 13\nTable 8. Target reference and current direction according to sequencer value \n(full-step mode). . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . 14\nTable 9. Target reference and current direction according to sequencer value \n(not full-step mode). . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . 14\nTable 10. Example . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 15\nTable 11. ON, slow decay and fast decay states . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 1 6\nTable 12. Typical application values. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 24\nTable 13. TFQFPN 4 x 4 x 1.05 - 24L package mechanical data. . . . . . . . . . . . . . . . . . . . . . . . . . . . 27Table 14. Device summary . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 28\nTable 15. Document revision history  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 28\nList of figures STSPIN820\n4/29 DocID031065 Rev 2List of figures\nFigure 1. Block diagram . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . . . . . 5\nFigure 2. Pin connection (top view) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 10\nFigure 3. UVLO protection management . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 12\nFigure 4. MODEx, STCK and DIR timing diagram. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 13Figure 5. PWM current control sequence in mixed decay (D ECAY = \'0\')  . . . . . . . . . . . . . . . . . . . . . 17\nFigure 6. OFF time regulation circuit . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 18\nFigure 7. OFF time vs R\nOFF value . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 18\nFigure 8. Overcurrent and short-circuit protections management  . . . . . . . . . . . . . . . . . . . . . . . . . . . 19\nFigure 9. Disable time versus REN and CEN values (VDD = 3.3 V)  . . . . . . . . . . . . . . . . . . . . . . . . . . 20\nFigure 10. Overcurrent threshold versus temperature norma lized at 25 °C  . . . . . . . . . . . . . . . . . . . . 21\nFigure 11. Thermal shutdown management  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 2 2\nFigure 12. ESD protection strategy . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  . . . . 23\nFigure 13. Typical application schematic . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 24\nFigure 14. PCB layout example (top layer)  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 25\nFigure 15. TFQFPN 4 x 4 x 1.05- 24L package outline . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 26\nFigure 16. TFQFPN 4 x 4 x 1.05 - 24L suggested footprint . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 27\nDocID031065 Rev 2 5/29STSPIN820 Block diagram\n291 Block diagram\nFigure 1. Block diagram\n4UFQQFS\nNPUPS%"$\n3&\'45#:=3&4&5\n7SFMFBTF\n\x0c\x0e\n0TDJMMBUPS\x0c\x0e\n(/%&/=\'"6-5\n45$,\n%*3\n.0%&\x12\n50\'\'\x0c\n065"\x13065"\x12\n4&/4&"\x134&/4&"\x120$=4$\n0$=4$74\n065#\x13065#\x12\n4&/4&#\x134&/4&#\x120$=4$\n0$=4$74\n.0%&\x13\n.0%&\x14\n%&$":%"$\n\x0c\x0e74\n7407567-0\n4/4"\n4/4#$0/530-\n-0(*$\n".\x11\x15\x11\x13\x11\x11\nElectrical data STSPIN820\n6/29 DocID031065 Rev 22 Electrical data\n2.1 Absolute maximum ratings\n         \n2.2 Recommended operating conditions\n         \n2.3 Thermal data\n         Table 1. Absolute maximum ratings\nSymbol Parameter Test condition Value Unit\nVS Supply voltage - -0.3 to 48 V\nVIN Logic input voltage - -0.3 to 5.5 V\nVOUT,diff Differential voltage between VS, OUTx1, OUTx2 and SENSEx pins - up to 48 V\nVSENSE Sense pins voltage - -2 to 2 V\nVREF Reference voltage input - -0.3 to 2 V\nIOUT,RMS Continuous power stage output current (each full-bridge) - 1.5 Arms\nTj Junction temperature - -40 to 150 °C\nTSTG Storage temperature - -55 to 150 °C\nTable 2. Recommended operating conditions\nSymbol Parameter M in. Typ. Max. Unit\nVS Supply voltage 7 - 45 V\nVIN Logic input voltage - - 5 V\nVSENSE Sense pins voltage -1 - +1 V\nVREF Reference voltage input 0.1 - 1 V\nTable 3. Thermal data\nSymbol Parameter Conditions Value Unit\nRthJA Junction to ambient thermal resistance Natural convection, according to JESD51-2A(1)36.5 °C/W\nRthJCtopJunction to case th ermal resistance \n(top side)Cold plate on top package, according to \nJESD51-12(1) 27.6 °C/W\nRthJCbotJunction to case th ermal resistance \n(bottom side)Cold plate on exposed pad, according to \nJESD51-12(1) 5.9 °C/W\nRthJB Junction to board thermal resistance according to JESD51-8(1)13.6 °C/W\n \uf059JT Junction to top characterization According to JESD51-2A(1)1° C / W\n\uf059JB Junction to board characterization According to JESD51-2A(1)13.7 °C/W\n1. Simulated on a 76.2 x 114.3 x 1.6 mm, with vias under neath the component, the 2s2p board as per the standard JEDEC \n(JESD51-7) in natural convection.\nDocID031065 Rev 2 7/29STSPIN820 Electrical data\n292.4 ESD protection ratings\n         Table 4. ESD protection ratings\nSymbol Parameter Conditions Class Value Unit\nHBM Human body model Conforming to ANSI/ESDA/JEDEC JS001 H2 2 kV\nCDM Charge device modelConforming to ANSI/ESDA/JEDEC JS002 \nAll pinsC2a 500 V\nConforming to ANSI/ESDA/JEDEC JS002\nCorner pins only (1, 6, 7, 12, 13, 18, 19, 24)-7 5 0  V\nMM Machine model Conforming to EIA/JESD22-A115-C NC 200 V\nElectrical characteristics STSPIN820\n8/29 DocID031065 Rev 23 Electrical characteristics\nTesting conditions: VS = 36 V, Tj = 25 °C, unless otherwise specified.\n         Table 5. Electrical characteristics\nSymbol Parameter Test condition Min. Typ. Max. Unit\nGeneral\nVSth(ON) VS turn-on threshold VS rising from 0 V - 6.0 6.5 V\nVSth(HYST) VS turn-off threshold hysteresis VS falling from 7 V - 0.4 - V\nIS VS supply currentNo commutations \nEN = 0 \nRTOFF = 10 k\uf057- 2.3 2.75\nmA\nNo commutations \nEN = 1 R\nTOFF = 10 k\uf057-2 . 73\nVSTBYL Standby low voltage - - - 0.8 V\nVSTBYH Standby high voltage - 2 - V\nIS, STBY VS supply standby current STBY = \'0\' - - 45 \uf06dA\nPower stage\nRDSon \nHS+LSTotal on resistance HS + LSVS = 21 V \nIOUT = 1 A-1 1 . 3\n\uf057 VS = 21 V \nIOUT = 1 A\nTj = 125 °C(1)-1 . 4 1 . 6\nIDSS Output leakage currentOUTx = VS = 48 V - - 20\n\uf06dA \nOUTx = -0.3 V -1 - -\nVDF Freewheeling diode forward voltage ID = 1.5 A - 1 - V\ntrise Rise time VS = 21 V - 120 - ns\ntfall Fall time VS = 21 V - 60 - ns\nLogic IO\nVIH High logic level input voltage - 2 - V\nVIL Low logic level input voltage - - - 0.8 V\nVOL FAULT low logic level output voltage IOL = 4 mA - - 0.3 V\nVRELEASE FAULT open-drain release voltage - - - 0.6 V\nRSTBY STBY pull-down resistance - - 60 - k \uf057\nIEN Enable pull-down current - - 5 - µA\ntENd Enable input propagation delayFrom EN falling edge to OUTx \nhigh impedance-4 0 0- n s\nDocID031065 Rev 2 9/29STSPIN820 Electrical characteristics\n29tMODE,su MODE inputs setup time(2)20 - - ns\ntMODE,ho MODE inputs hold time(2)20 - - ns\ntDIR,su DIR input setup time(2)20 - - ns\ntDIR,ho DIR input hold time(2)20 - - ns\ntSTCKH STCK input high time(2)20 - - ns\ntSTCKL STCK input low time(2)20 - - ns\nfSTCK STCK input frequency(2)--4 M H z\ntSTCK,d STCK propagation delay - - 100 - ns\nPWM current control\ntOFF Total OFF timeROFF = 10 k \uf057 -1 3- µ s\nROFF = 160 k \uf057 -1 4 6- µ s\n\uf044tOFF OFF time precision Full temperature range(1)-20% - +20% -\ntOFF,jitter Total OFF time jittering - - ± 2% - -\ntOFF,SLOW Slow decay time(3)DECAY = \'0\' - 5/8 × tOFF -µ s\nDECAY = \'1\' - tOFF -µ s\ntOFF,FAST Fast decay time(3)DECAY = \'0\' - 3/8 × tOFF -µ s\nDECAY = \'1\' - 0 - µs\nProtections\nTjSD Thermal shutdown threshold - - 160 - °C\nTjSD,Hyst Thermal shutdown hysteresis - - 40 - °C\nIOC Overcurrent protection threshold - - 3 3.5 A\n1. Based on characterization data on a limited number of samples, not tested during production.\n2. See Figure 4 on page 13 .\n3. See Figure 5 on page 17 .Table 5. Electrical ch aracteristics (continued)\nSymbol Parameter Test condition Min. Typ. Max. Unit\nPin connection STSPIN820\n10/29 DocID031065 Rev 24 Pin connection\nFigure 2. Pin connection (top view)\nNote: The exposed pad must be connected to ground.\n         \x12\n\x13\n\x14\n\x15\n\x16\n\x17\x12\x19\x13\x15\x13\x14\x13\x13\x13\x12\x13\x11\x12\x1a\n\x18\x19\x1a\x12\x11\x12\x12\x12\x13\x12\x18\n\x12\x17\n\x12\x16\n\x12\x15\n\x12\x14&1"%3&\'\n(/%\n(/%\n4/4"\n4&/4&"\x12\n4&/4&"\x13%&$":\n&/=\'"6-545#:=3&4&54/4#4&/4&#\x124&/4&#\x1350\'\'\n.0%&\x14.0%&\x13.0%&\x12%*345$,065"\x12\n065"\x13\n7474\n065#\x13065#\x12 ".\x11\x15\x11\x13\x11\x12\nTable 6. Pin description\nNo. Name Type Function\n1 REF Analog input Reference voltage for the PWM current control circuitry\n2, 3 EPAD GND Ground Device ground\n4 SNSA Analog input Full-bridge A current regulator sense input\n5 SENSEA1 Power output Sense output of the bridge A\n6 SENSEA2 Power output Sense output of the bridge A7 OUTA1 Power output Power bridge output side A1\n8 OUTA2 Power output Power bridge output side A2\n9 VS Supply Device supply voltage\n10 VS Supply Device supply voltage\n11 OUTB2 Power output Power bridge output side B2\nDocID031065 Rev 2 11/29STSPIN820 Pin connection\n2912 OUTB1 Power output Power bridge output side B1\n13 SENSEB2 Power output Sens e output of the bridge B\n14 SENSEB1 Power output Sens e output of the bridge B\n15 SNSB Analog input Full-bridge B current regulator sense input\n16 STBY\\RESET Logic inputStandby\\reset input. \nWhen forced low the device enters in low consumption \nmode.\n17 EN\\FAULTLogic input\\ \nopen-drain \noutputLogic input 5 V compliant with open-drain output.\nThis is the power stage enable (when low, the power \nstage is turned off) and is forced low through the integrated open-drain MOSFET when a failure occurs.\n18 DECAY Logic inputDecay mode selection input.\nHigh logic level sets slow decay mode; low logic level \nsets mixed decay mode (see Section 5.3 on page 16  \nfor more details).\n19 STCK Logic input Step clock input\n20 DIR Logic input Direction input 21 MODE1 Logic input Step mode selection input 1\n22 MODE2 Logic input Step mode selection input 2\n23 MODE3 Logic input Step mode selection input 324 TOFF Analog input Internal oscillator frequency adjustmentTable 6. Pin description (continued)\nNo. Name Type Function\nFunctional description STSPIN820\n12/29 DocID031065 Rev 25 Functional description\nThe STSPIN820 is a stepper motor driver integrating a microstepping sequencer (up to \n1/256th step), two PWM current controllers and a power stage composed by two fully-\nprotected full-bridges.\n5.1 Power supply and standby\nThe device is supplied through the VS pins, the two pins must  be at the same voltage.\nAt power-up the power stage is disabled and the FAULT pin is forced low until the VS \nvoltage rises above the VSth(ON)  threshold.\nIf the VS falls below the VSth(ON)  - VSth(HYST)  value the power stage is immediately disabled \nand the FAULT pins are forced low.\nFigure 3. UVLO protection management\nThe device provides a low consumption mode  which is set forcing the STBY\\RESET input \nbelow the VSTBYL  threshold.\nWhen the device is in standby status the power stage is disabled (outputs are in high \nimpedance) and the supply to the integrated control circuitry is strongly reduced. When the device exits the standby status, all of the cont rol circuitry is reset at power-up condition.74\n\'"6-5\n108&3\x01\nTUBHF74UI\t0/\n74UI\t0/\n\x01\x0e\x0174UI\t):45\n\x01\n%*4"#-&%*OUFSOBM\x010%\nSFMFBTFE*OUFSOBM\x010%\nSFMFBTFE\n0VUQVUT\x01TUBUF\x01\nBDDPSEJOH\x01UP\x01\nJOQVU\x01TUBUVT0VUQVUT\x01TUBUF\x01\nBDDPSEJOH\x01UP\x01\nJOQVU\x01TUBUVT\n".\x11\x15\x11\x13\x11\x13\nDocID031065 Rev 2 13/29STSPIN820 Functional description\n295.2 Microstepping sequencer\nAt each STCK rising edge, the sequencer of t he device is increased (DIR input high) or \ndecreased (DIR input low) of a module sele cted through the MODEx inputs as listed in \nTable 7 .\nThe sequencer is a 10-bit counter that se ts the reference value of the PWM current \ncontroller and the direction of the current for both of the full-bridges.\nNote: The MODE1, MODE2 and MODE3 configurat ion can be changed in any time and it is \nimmediately applied.\n         \nFigure 4. MODEx, STCK and DIR timing diagramTable 7. Step mode selection through MODEx inputs\nMODE3 MODE2 MODE1 Step mode Counter module (binary)\n0 0 0 Full-step 0100000000\n0 0 1 ½ step 00100000000 1 0 ¼ step 0001000000\n011 1 / 8\nth step 0000100000\n100 1 / 1 6th step 0000010000\n101 1 / 3 2nd step 0000001000\n1 1 0 1/128th step 0000000010\n1 1 1 1/256th step 0000000001\n.0%&\x12\n.0%&\x13\n.0%&\x14\n45$,U.0%&\rTV\nU%*3\rTVU.0%&\rIP\nU%*3\rIPU45$,)U45$,-\x12\x10G45$,\n%*3\n".\x11\x15\x11\x13\x11\x14\nFunctional description STSPIN820\n14/29 DocID031065 Rev 2When the full-step mode is se t, the reference value of the PWM current controllers and the \ndirection of the currents are set as listed in Table 8 .\n         \nWhen the step mode is different from the full-step mode the values listed in Table 9  are \nused.\n         \nThe DECAY input determinates the behavior of the PWM current control as described in Section 5.3 .\nWhen the EN\\FAULT input is forced low the power stage is immediately disabled (all \nMOSFETs are turned off). The pin is also used  as FAULT indication through the integrated \nopen-drain MOSFET as described in Section 5.4 on page 19  and Section 5.5 on page 22 .\nTable 10  shows the target reference and sequencer values for the 1/2-, 1/4- and 1/8-step \noperation. Higher microstepping resolutions follow the same pattern. The reset state (home \nstate) for all stepping mode is entered at power-up or when the device exits the standby \nstatus.Table 8. Target reference and current direction according to sequencer value (full-step mode)\nSequencer valuePhase A Phase B\nReference voltage Current direction Reference voltage Current direction\n0 0XXXXXXXX 1 0 0 %  ×  VREF A1 → A2 100% × VREF B1 → B2\n0 1XXXXXXXX 1 0 0 %  ×  VREF A1 → A2 100% × VREF B1 ← B2\n1 0XXXXXXXX 1 0 0 %  ×  VREF A1 ← A2 100% × VREF B1 ← B2\n1 1XXXXXXXX 1 0 0 %  ×  VREF A1 ← A2 100% × VREF B1 → B2\nTable 9. Target reference and current direction according to sequencer value (not full-step mode)\nSequencer valuePhase A Phase B\nReference voltageCurrent \ndirectionReference voltageReference \nvoltage\n0 0 0 0 0 0 0 0 0 0 Zero (power bridge disabled) - 100% × VREF B1 → B2\n00 N S i n  ( N / 2 5 6  ×  π/2) × VREF A1 → A2 - B1 → B2\n0 1 0 0 0 0 0 0 0 0 100% × VREF A1 → A2 Zero (power bridge disabled) -\n01 NSin (π/2 + N/256 × π/2) × \nVREFA1 → A2Cos (π/2 + N/256 × π/2) × \nVREFB1 ← B2\n1 0 0 0 0 0 0 0 0 0 Zero (power bridge disabled) - 100% × VREF B1 ← B2\n10 N S i n  ( N / 2 5 6  ×  π/2) × VREF A1 ← A2 Cos (N/256 × π/2) × VREF B1 ← B2\n1 1 0 0 0 0 0 0 0 0 100% × VREF A1 ← A2 Zero (power bridge disabled) -\n11 NSin (π/2 + N/256 × π/2) × \nVREFA1 ← A2Cos (π/2 + N/256 × π/2) × \nVREFB1 → B2\nDocID031065 Rev 2 15/29STSPIN820 Functional description\n29         \nNote: The positive number means that the output current is flowin g from OUTx1 to OUTx2, vice \nversa the negative numbers mean that the current is flowing from OUTx2 to OUTx1.Table 10. Example\n1/2 step 1/4 step 1/8 step VREF phase A VREF phase B Sequencer value\n1 1 1 0% 100% 0000000000 home state\n- - 2 19.509% 98.079% 0000100000- 2 3 38.268% 92.388% 0001000000\n- - 4 55.557% 83.147% 0001100000\n2 3 5 70.711% 70.711% 0010000000\n- - 6 83.147% 55.557% 0010100000\n- 4 7 92.388% 38.268% 0011000000\n- - 8 98.079% 19.509% 0011100000\n3 5 9 100% 0% 0100000000\n- - 10 98.079% -19.509% 0100100000\n- 6 11 92.388% -38.268% 0101000000\n- - 12 83.147% -55.557% 0101100000\n4 7 13 70.711% -70.711% 0110000000\n- - 14 55.557% -83.147% 0110100000\n- 8 15 38.268% -92.388% 0111000000\n- - 16 19.509% -98.079% 0111100000\n5 9 17 0% -100% 1000000000\n- - 18 -19.509% -98.079% 1000100000\n- 10 19 -38.268% -92.388% 1001000000- - 20 -55.557% -83.147% 1001100000\n6 11 21 -70.711% -70.711% 1010000000\n- - 22 -83.147% -55.557% 1010100000- 12 23 -92.388% -38.268% 1011000000\n- - 24 -98.079% -19.509% 1011100000\n7 13 25 -100% 0% 1100000000\n- - 26 -98.079% 19.509% 1100100000\n- 14 27 -92.388% 38.268% 1101000000\n- - 28 -83.147% 55.557% 1101100000\n8 15 29 -70.711% 70.711% 1110000000\n- - 30 -55.557% 83.147% 1110100000\n- 16 31 -38.268% 92.388% 1111000000- - 32 -19.509% 98.079% 1111100000\nFunctional description STSPIN820\n16/29 DocID031065 Rev 25.3 PWM current control\nThe device implements two independent PWM current controllers, one for each full-bridge.\nThe voltage of the sense pins (VSNSA  and VSNSB ) is compared to the respective internal \nreference voltage based on the sequencer value (see Table 8  and Table 9 ).\nWhen VSNSX  > VREFX  the integrated comparator is triggered, the OFF time counter is \nstarted and the decay sequence is performed.\nThe decay sequence starts turning on both the low sides of the full-bridge (slow decay), \nafter the behavior of the PWM current control depends on the DECAY input:\n\uf0b7 When the DECAY input is low (mixed decay):  the system switches from slow decay \nto quasi-synchronous fast decay (the sink ing side of the bridge is put in high \nimpedance) when the counter reaches a fixed threshold corresponding to a 5/8th of the \ntotal decay time (tOFF).\nAs soon as the counter reaches the end of the count it is reset and the bridges return in \nthe ON state.\n\uf0b7 When the DECAY input is high (slow decay only):  the system stays in slow decay \nuntil the counter reaches the end of the count, then it is reset and the bridges returns in \nthe ON state.\nThe description of the ON, slow decay and fast decay status are listed in Table 11 .\n         \nThe reference voltage value, VREF, has to be selected according to the load current target \nvalue (peak value) and the sense resistors value.\nEquation 1\nVREF = RSNS · ILOAD,peakTable 11. ON, slow decay and fast decay states\nCurrent direction(1)\n1. The current direction is set according to Table 8  or Table 9 .ON Slow decayFast decay \n(quasi-synch.)\nZero \n(power bridge \ndisabled)HSX1 = OFF \nLSX1 = OFF \nHSX2 = OFF \nLSX2 = OFFHSX1 = OFF \nLSX1 = OFF\nHSX2 = OFF \nLSX2 = OFFHSX1 = OFF \nLSX1 = OFF\nHSX2 = OFF \nLSX2 = OFF\nX1 → X2HSX1 = ON  \nLSX1 = OFF \nHSX2 = OFF \nLSX2 = ONHSX1 = OFF \nLSX1 = ON\nHSX2 = OFF \nLSX2 = ONHSX1 = OFF \nLSX1 = ON \nHSX2 = OFF \nLSX2 = OFF\nX1 ← X2HSX1 = OFF \nLSX1 = ON \nHSX2 = ON \nLSX2 = OFFHSX1 = OFF\nLSX1 = ON \nHSX2 = OFF \nLSX2 = ONHSX1 = OFF \nLSX1 = OFF \nHSX2 = OFF \nLSX2 = ON\nDocID031065 Rev 2 17/29STSPIN820 Functional description\n29The choice of the sense resistors value mu st take into account two main issues:\n\uf0b7 The sensing resistor dissipates energy and provides dangerous negative voltages on \nthe SENSE pins during the current recirculatio n. For this reason the resistance of this \ncomponent should be kept low (using multip le resistors in para llel will help obtaining \nthe required power rating with standard resistors).\n\uf0b7 The lower is the RSNS value, the higher is the peak current error due to noise on the \nVREF pin and to the input offset of the cu rrent sense comparator: too small values of \nRSNS must be avoided.\nFigure 5. PWM current control sequence in mixed decay (DECAY = \'0\')\nNote: When the voltage on the SNS pins exceeds the absolute ratings, fault condition is triggered \nand the EN\\FAULT output is forced low.74\n4&/4&974\n0659\x12 0659\x13\n34&/4&74\n4&/4&974\n0659\x12 0659\x13\n34&/4&74\n4&/4&974\n0659\x12 0659\x13\n34&/4&74\n4&/4&974\n0659\x12 0659\x13\n34&/4&74\n4&/4&974\n0659\x12 0659\x13\n34&/4&\n*QIBTFU0\'\'\nU0\'\'\r4-08U%5U%5\nU0\'\'\r\'"45\n74&/4&973&\'973&\'9\x1034&/4&4& 4& 4&\n".\x11\x15\x11\x13\x11\x16\nFunctional description STSPIN820\n18/29 DocID031065 Rev 2TOFF adjustment\nThe total OFF time is adjusted through an external resistor connected between the TOFF \npin and ground as shown in Figure 6 . \nFigure 6. OFF time regulation circuit\nThe relation between the total OFF time and the external resistor value is shown in the \ngraph of Figure 7 . The value typically ranges from 10 µs to 150 µs. The recommended value \nfor ROFF is in the range between 5 k \uf057 and 180 k \uf057.\nFigure 7. OFF time vs ROFF value\nThe resulting OFF time depends on the decay mode selected:\n\uf0b7 DECAY = \'L\', mixed decay ⇨ tOFF = tOFF,SLOW  + tOFF,FAST\n\uf0b7 DECAY = \'H\', slow decay ⇨ tOFF = tOFF,SLOW50\'\'\n30\'\'\n".\x11\x15\x11\x13\x11\x15\n\x11\x13\x11\x15\x11\x17\x11\x19\x11\x12\x11\x11\x12\x13\x11\x12\x15\x11\x12\x17\x110\'\'\x01UJNF\x01<îT>\n30\'\'<L>\n".\x11\x15\x11\x13\x12\x14\nDocID031065 Rev 2 19/29STSPIN820 Functional description\n295.4 Overcurrent and shor t-circuit protections\nThe device embeds circuitry protecting each power output against the overload and short-\ncircuit conditions (sho rt-circuit to ground, short-circui t to VS and short-circuit between \noutputs).\nWhen the overcurrent or the short-circuit protec tion is triggered the power stage is disabled \nand the EN\\FAULT input is forced low through the integrated open-drain MOSFET discharging the external C\nEN capacitor (refer to Figure 8 ).\nThe power stage is kept disabled and the o pen-drain MOSFET is kept ON until the \nEN\\FAULT input falls below the VRELEASE  threshold, then the CEN capacitor is charged \nthrough the external REN resistor.\nFigure 8. Overcurrent and short-circuit protections management\nThe total disable time after an overcurrent event can be set sizing properly the external \nnetwork connected to the EN\\FAULT pin (refer to Figure 9 ).\nEquation 2\ntDIS = tdischarge  + tcharge\'"6-5@.$6.$6\n&/@.$6\n7&/\n1PXFS\nTUBHF\n\'"6-57*)\n73&-&"4&7*-0WFSDVSSFOU\nQSPUFDUJPO\n&/"#-&% %*4"#-&% &/"#-&%$&/ 3&/\nU0$4%\nU%*4UEJTDIBSHF UDIBSHF73&-&"4&\n&/=\'"6-5%&7*$&\n3&-&"4&\n&/0$=4$\n5)4%\'"6-5\n".\x11\x15\x11\x13\x11\x17\nFunctional description STSPIN820\n20/29 DocID031065 Rev 2But tcharge  is normally very higher than tdischarge  we can consider only the second one \ncontribution:\n         \nWhere VDD is the pull-up voltage of the REN resistor.\nFigure 9. Disable time versus REN and CEN values (VDD = 3.3 V)tDISRENCENI\uf0b7n \uf0b7V\uf028DDRENIPD\uf029VRELEASE–\uf0b7 –\nV\uf028DDRENIPD\uf029VIH–\uf0b7 –----------------------------------------------------------------------------- - \uf040\n".\x11\x15\x11\x13\x11\x18\x12\x11\x0f\x11\x12\x11\x11\x0f\x11\x12\x11\x11\x11\x0f\x11\n\x12\x11 \x12\x16 \x13\x11 \x13\x16 \x14\x11 \x14\x16 \x15\x11 \x15\x16 \x16\x11%JTBCMF\x01UJNF\x01< T>\n$&/<O\'>3&/\x01\x1e\x01\x12\x16\x01L\n3&/\x01\x1e\x01\x12\x11 L3&/\x01\x1e\x01\x13\x13\x01L3&/\x01\x1e\x01\x14\x1a\x01\nDocID031065 Rev 2 21/29STSPIN820 Functional description\n29Figure 10. Overcurrent threshold versus temperature normalized at 25 °C\n\x11\x0f\x1a\x11\x11\x0f\x1a\x16\x12\x0f\x11\x11\x12\x0f\x11\x16\x12\x0f\x12\x11\n\x0e\x15\x11 \x0e\x13\x11 \x11 \x13\x11 \x15\x11 \x17\x11 \x19\x11 \x12\x11\x11 \x12\x13\x11 \x12\x15\x11 \x12\x17\x11/PSNBMJ[FE\x010$\x01UISFTIPME\n5FNQFSBUVSF\x01<\x9f$>\n".\x11\x15\x11\x13\x11\x19\nFunctional description STSPIN820\n22/29 DocID031065 Rev 25.5 Thermal shutdown\nThe device embeds circuitry protecting it from the overtemperature condition.\nWhen the thermal shutdown temperature is re ached the power stage is disabled and the \nEN\\FAULT input is forced low through the integrated open-drain MOSFET (refer to \nFigure 11 ).\nThe protection and the EN\\FAULT output are released when the IC temperature returns \nbelow a safe operating value (TjSD - TjSD,Hyst ).\nFigure 11. Thermal shutdown management\n7&/\n\'"6-57*)\n73&-&"4&7*-5K5K4%\n5K4%\rIZTU5IFSNBM\nTIVUEPXO73&-&"4&\n&/=\'"6-5\'"6-5@.$6.$6 %&7*$&\n&/@.$63&-&"4&\n&/\n0$=4$\n5)4% \'"6-5$&/ 3&/\n1PXFS\nTUBHF&/"#-&% %*4"#-&% %*4"#-&% &/"#-&%\nU5)4%\n".\x11\x15\x11\x13\x11\x1a\nDocID031065 Rev 2 23/29STSPIN820 Functional description\n295.6 ESD protection strategy\nFigure 12. ESD protection strategy\n*/Y\x16\x017\x01JOUFSOBM\x01SFH\x0f\n(/%\n*/Y\x01\x1e\x0145$,\r\x01%*3\r\x01.0%&\x13\x10\x14\r\x01%&$":\r\x0145#:=3&4&5\r\x01\n&/=\'"6-5\r\x013&\'\r\x0150\'\'\x16\x017\x01&4%\x01\x01BDUJ\x01WF\x01\nDMBNQ.0%&\x12065"Y\x10#Y \x01\n#FMPX\x01(/%\x15\x19\x017\x01&4%\x01BDUJ \x01W F \x01\nDMBNQ108&3\x011$)\n108&3\x01/$)74\n(/%\n4&/4&"\x12\x10#\x12\n4&/4&"\x13\x10#\x13\n4/4"\x10#\n".\x11\x15\x11\x13\x12\x15\nTypical applications STSPIN820\n24/29 DocID031065 Rev 26 Typical applications\n         \nFigure 13. Typical application schematicTable 12. Typical application values\nName Value\nCS 330 nF\nCSPOL 33 µF\nRSNSA , RSNSB 330 m\uf057 / 1 W\nCEN 10 nF\nREN 39 k\uf057\nCSTBY 1 nF\nRSTBY 18 k\uf057\nROFF 10 k\uf057 (TOFF \uf040 13 µs)\n4541*/\x19\x13\x1174 7474\n45#:=3&4&5\n&/=\'"6-5\n45$,\n%*3\n.0%&\x12\n18..0%&\x13\n.0%&\x14\n3&\'\n50\'\'\n(/%065"\x12\n065"\x13\n065#\x124&/4&"\x12\n4&/4&"\x13\n4&/4&#\x12\n4&/4&#\x13\x12\n4/4#4/4"\n065#\x137%%\n%&$":4UFQQFS\nNPUPS$410-$4\n$45#:\n34/4"345#:\n30\'\'34/4#7%%\n$&/3&/\n".\x11\x15\x11\x13\x12\x11\nDocID031065 Rev 2 25/29STSPIN820 Layout recommendations\n297 Layout recommendations\nThe STSPIN820 integrates the power stage; in order to improve the thermal dissipation, the \nexposed pad must be connected to the ground plane on the bottom layer using multiple vias \nequally spaced. This ground plane acts as a heat sink, for this reason it should be as wide as \npossible.\nThe voltage supply VS must be stabilized and filtered with a ceramic bypass capacitor, \ntypically 330 nF. It must be placed on the same  side and as close as possible to the VS pin \nin order to reject high frequency noise components on the supply. A bulk capacitor could also be required (typically a 33 \uf06dF). The connection between the power supply connector \nand the V\nS pins must be as short as possible using wide traces.\nIn order to ensure the best ground connection between the STSPIN820 and the other \ncomponents, a GND plane surrounding the device is recommended. \nA capacitor between the REF pin and ground shou ld be positioned as near as possible to \nthe device in order to filter the noi se and stabilize the reference voltage.\nSeveral vias should be positioned as near as po ssible each sense resistor connecting them \nto the ground plane on the bottom layer. In this way, both the GND planes provide a path for the current flowing into the power stage. \nThe path between the ground of the shunt resi stors and the ceramic bypass capacitor of the \ndevice is critical; for this reason it must be as short as possible minimizing parasitic \ninductances that can cause voltage spikes on SENSE and OUT pins.\nThe OUT pins and the VS nets can be routed using the bottom layer, it is recommended to \nuse two vias for output connections.\nFigure 14. PCB layout example (top layer)\n73&\'\x01DBQBDJUPS\nGPS\x01OPJTF\x01GJMUFSJOH\x1bQMBDFE\x01DMPTF\x01UP\x0173&\'\x01MFBET4541*/\x19\x13\x11\n(SPVOE\x01QMBOF\x1bDPOOFDUT\x01BMM\x01UIF\x01HSPVOET\x01\nPO\x01UIF\x01501\x01MBZFS\x01\nUP\x01SFEVDF\x01QBSBTJUJD\x01FGGFDUT7JBT\x01PO\x01FYQPTFE\x01QBE\x01\nUP\x01JNQSPWF\x01UIFSNBM\x01EJTTJQBUJPO\n4IVOU\x01SFTJTUPSDMPTF\x01UP\x01SFTQFDUJWF4&/4&\x01BOE4/4\x01MFBET\n$FSBNJD\x01CZQBTT\x01DBQBDJUPS \x01DMPTF\x01UP\x0174\x01MFBET4FWFSBM\x01WJBT\nUP\x01DPOOFDUUIF\x01TIVOU\x01HSPVOEXJUI\x01UIF\x01CPUUPN\nHSPVOE\x01QMBOF4FWFSBM\x01WJBT\nUP\x01DPOOFDU\nUIF\x01TIVOU\x01HSPVOE\nXJUI\x01UIF\x01CPUUPN\nHSPVOE\x01QMBOF\n065\x01USBDLT\x01\nWJBT065\x01USBDLT\x01\nWJBT\x12\n".\x11\x15\x11\x13\x12\x12\nPackage information STSPIN820\n26/29 DocID031065 Rev 28 Package information\nIn order to meet environmental requirements, ST offers these devices in different grades of \nECOPACK® packages, depending on their level of environmental compliance. ECOPACK® \nspecifications, grade definitions a nd product status are available at: www.st.com . \nECOPACK® is an ST trademark.\n8.1 TFQFPN 4 x 4 x 1.05- 24L package information\nFigure 15. TFQFPN 4 x 4 x 1.05- 24L package outline\n#0550.\x01 7*&8\n4*%&\x017*&8\n501\x017*&8\n5\'2\'1/\x01\x15Y\x15Y\x12\x0f\x11\x16\x01\x13\x15-\x011*5$)\x01\x11\x0f\x16\nDocID031065 Rev 2 27/29STSPIN820 Package information\n29         \nFigure 16. TFQFPN 4 x 4 x 1.05 - 24L suggested footprintTable 13. TFQFPN 4 x 4 x 1.05 - 24L package mechanical data\nSymbolDimensions (mm)\nNote\nMin. Typ. Max.\nA 0.90 1.00 1.10 -\nA1 0.00 0.02 0.05 -\nb 0.20 0.25 0.30(1)\n1. Dimension “b” does not include the dambar protrusion.  Allowable dambar protrusion shall not cause the \nlead width to exceed the maximum “b” dimension by more than 0.08 mm. D 3.90 4.00 4.10 -\nD2 2.55 2.60 2.65 -\nE 3.90 4.00 4.10 -\nE2 2.55 2.60 2.65 -\ne - 0.50 - -L 0.35 0.40 0.45 -\nk - 0.30 - -\nddd - 0.05 - -\n".\x11\x15\x11\x13\x12\x13\nOrdering information STSPIN820\n28/29 DocID031065 Rev 29 Ordering information\n         \n10 Revision history\n         Table 14. Device summary\nOrder code Package Packaging\nSTSPIN820 TFQFPN 4 x 4 x 1.05 - 24 L Tape and reel\nTable 15. Document revision history\nDate Revision Changes\n27-Sep-2017 1 Initial release.\n19-Dec-2017 2Added Section 2.3: Thermal data on page 6 .\nAdded Note: on page 17 .\nMinor modifications throughout document.\nDocID031065 Rev 2 29/29STSPIN820\n29         \nIMPORTANT NOTICE – PLEASE READ CAREFULLY\nSTMicroelectronics NV and its subsidiaries (“ST”) reserve the right to make changes, corrections, enhancements, modifications, and \nimprovements to ST products and/or to this document at any time without notice. Purchasers should obtain the latest relevant in formation on \nST products before placing orders. ST products are sold pursuant to ST’s terms and conditions of sale in place at the time of o rder \nacknowledgement.\nPurchasers are solely responsible for the choice, selection, and use of ST products and ST assumes no liability for application  assistance or \nthe design of Purchasers’ products.\nNo license, express or implied, to any intellectual property right is granted by ST herein.Resale of ST products with provisions different from the information set forth herein shall void any warranty granted by ST for  such product.\nST and the ST logo are trademarks of ST. All other product or service names are the property of their respective owners.Information in this document supersedes and replaces information previously supplied in any prior versions of this document.\n© 2017 STMicroelectronics – All rights reserved\nMouser Electronics\n  \nAuthorized Distributor\n \n  \nClick to View Pricing, Inventory, Delivery & Lifecycle Information:\n \n \n \n STMicroelectronics:   \n\xa0 STSPIN820\n'}]
!==============================================================================!
### Component Summary: STSPIN820

**Key Specifications:**
- **Voltage Ratings:**
  - Operating Voltage: 7 to 45 V
  - Absolute Maximum Supply Voltage: -0.3 to 48 V
- **Current Ratings:**
  - Maximum Output Current: 1.5 Arms
  - Overcurrent Protection Threshold: 3 to 3.5 A
- **Power Consumption:**
  - Supply Current (No commutations, EN = 0): 2.75 mA
  - Standby Current: 45 µA
- **Operating Temperature Range:**
  - Junction Temperature: -40 to 150 °C
  - Storage Temperature: -55 to 150 °C
- **Package Type:**
  - QFN 4 x 4 mm, 24-lead
- **Special Features:**
  - Microstepping up to 1/256th of a step
  - PWM current control with programmable OFF time
  - Full protection set including overcurrent, short-circuit, undervoltage lockout, and thermal shutdown
  - Non-dissipative overcurrent protection
- **Moisture Sensitive Level (MSL):**
  - MSL according to JEDEC J-STD-020E: Level 1

**Description:**
The STSPIN820 is an advanced stepper motor driver designed for high-performance applications. It integrates both control logic and a low R_DS(on) power stage in a compact QFN package. The device features a PWM current control mechanism with a fixed OFF time and supports microstepping resolutions up to 1/256th of a step, making it suitable for precise motor control.

**Typical Applications:**
The STSPIN820 is widely used in various applications, including:
- **3D Printers:** For precise control of stepper motors.
- **Medical Equipment:** In devices requiring accurate positioning.
- **Industrial 2D Printers:** For reliable and efficient motor control.
- **Textile and Sewing Machines:** To manage motor functions smoothly.
- **CCTV and Security Cameras:** For pan-tilt mechanisms.
- **ATM and Cash Handling Machines:** Ensuring reliable operation.
- **Office and Home Automation:** In smart devices for efficient control.
- **Point of Sale (POS) Systems:** For reliable operation in retail environments.
- **Robotics:** In applications requiring precise movement and control.

This comprehensive overview of the STSPIN820 highlights its key specifications, functionality, and typical use cases, making it a versatile choice for various motor control applications.