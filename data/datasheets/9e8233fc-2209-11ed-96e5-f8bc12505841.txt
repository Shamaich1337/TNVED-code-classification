[{'role': 'system', 'content': 'You are a technical specialist with expertise in electronics. Your task is to analyze datasheets for electronic components and provide a concise summary of the product’s key characteristics and specifications. In addition, you need to gather textual information about the component, including its description and typical applications.Instructions:    Identify the correct component in the datasheet using the provided product code.    Summarize key parameters, including:        Voltage ratings        Current ratings        Power consumption        Operating temperature range        Package type        Special features or notes (if applicable)        Moisture Sensetive Level JEDEC J-STD-020E    Provide a short description of the component, including what it is (e.g., transistor, microcontroller, sensor) and its primary function.    Explain typical applications for the component (e.g., power management, signal processing, data storage, etc.).    Be thorough and accurate: Ensure the information corresponds specifically to the product code, as some datasheets cover multiple variants.Your goal is to create a clear and accurate technical summary that includes both key specifications and a description of what the component is used for.'}, {'role': 'user', 'content': "Give me information about the component of LTC3882EUJ-1#PBF production of ANALOG DEVICES from the text:LTC3882-11\nRev B For more information www.analog.com Document FeedbackTYPICAL APPLICATION FEATURES DESCRIPTIONDual Output PolyPhase  \nStep-Down DC/DC Voltage Mode Controller \nwith Digital Power System Management\nThe LT C®3882-1 is a dual, PolyPhase DC/DC synchronous \nstep-down switching regulator controller with PMBus \ncompliant serial interface. It uses a constant frequency, leading-edge modulation, voltage mode architecture for excellent transient response and output regulation. Each PWM channel can produce output voltages from 0.5V to 5.25V using a wide range of 3.3V compatible power stages, including power blocks, DrMOS or discrete FET drivers.  Up to four L TC3882-1 devices can operate in parallel for 2-, 3-, 4-, 6- or 8-phase operation.\nSystem configuration and monitoring is supported by the \nL TpowerPlay™ software tool. The L TC3882-1 serial interface can read back input voltage, output voltage and current, temperature and fault status. Most operating parameters can be set via the digital interface or stored in internal EEPROM for use at power up. Switching frequency and phase, output voltage and device address can also be set using external configuration resistors.n PMBus/I2C Compliant Serial Interface \n– Monitor V oltage, Current, Temperature and Faults  \n– Program V oltage, Soft-Start/Stop, Sequencing,   \n Margining, A\nVP and UV/OV/OC Limits \nn 3V ≤ VINSNS ≤ 38V , 0.5V ≤ V OUT ≤ 5.25V\nn ±0.5% Output V oltage Error\nn Programmable P WM Frequency or External Clock \nSynchronization from 250kHz to 1.25MHz\nn Accurate PolyPhase® Current Sharing\nn Internal EEPROM with Fault Logging and ECC\nn IC Supply Range: 3V to 13.2V\nn Resistor or Inductor DCR Current Sensing\nn Power Good Output V oltage Monitor\nn Optional Resistor Programming for Key Parameters\nn 40-Pin (6mm × 6mm) QFN Package\n nAEC-Q100 Qualified for Automotive Applications\nAll registered trademarks and trademarks are the property of their respective owners. Protected \nby U.S. Patents, including 5396245, 5859606, 6144194, 6937178, 7420359 and 7000125.APPLICATIONS\nn High Current Distributed Power Systems\nn Ser vers, Network and Storage Equipment\nn Intelligent Energy Efficient Power Regulation\nL TC3882-1\nSDA\nRUN1\nISENSE0+\nISENSE0–VSENSE0+\nVSENSE0–\nVSENSE1–RUN0\nFAULT1FAULT0FB0\nCOMP0\nTSNS0\nTSNS1\nGND\n38821 TA01aIAVG_GNDPWM0\nVSENSE1+\nISENSE1–\nISENSE1+\nPWM1VIN\n7V TO 13.2V\nTO/FROM\nMCUSCL\nALERTCOMP1VCCVINSNS\nFDMF5820DC\nFDMF5820DC\nINDUCTORS: COOPER FP1007R1-R22\nSOME DETAILS OMITTED FOR CLARITYPWMVIN\nVOUT\n1V\n70ASW\nGND\nIAVG1IAVG0TO/FROM\nEXTERNAL DEVICESPGOOD1\nSYNC\nSHARE_CLKPGOOD0\nPWMVIN\nSW\nGNDLoad Step Transient Current Sharing \n(Using FDMF5820DC DrMOS) PWM ENABLE \nOUTPUTTG/BG \nCONTROLHW WRITE \nPROTECTDEDICATED \nPGOOD OUTPUTDIFFERENTIAL \nVOUT SENSE\nL TC3882 • • • VOUT0 Only\nL TC3882-1 • VOUT0 & VOUT1\n50µs/DIVIOUT\n10A/DIV\nIL0, IL1\n10A/DIV\n38821 TA01b\nLTC3882-12\nRev B For more information www.analog.comTABLE OF CONTENTS\nFeatures  ..................................................... 1\nApplications\n \n................................................ 1\nTypical Application \n \n........................................ 1\nDescription.................................................. 1\nAbsolute Maximum Ratings\n \n.............................. 4\nOrder Information\n \n.......................................... 4\nPin Configuration\n \n.......................................... 4\nElectrical Characteristics\n \n................................. 5\nTypical Performance Characteristics\n \n................... 9\nPin Functions\n \n.............................................. 13\nBlock Diagram\n \n............................................. 15\nTest Circuit\n \n................................................. 16\nTiming Diagram\n \n........................................... 16\nOperation................................................... 16\nOverview  \n............................................................ 16\nMain Control Loop\n \n.............................................. 17\nPower-Up and Initialization  \n................................. 19\nSoft-Start  \n........................................................... 20\nTime-Based Output Sequencing\n \n......................... 20\nOutput Ramping Control  \n..................................... 20\nVoltage-Based Output Sequencing\n \n..................... 20\nMinimum Output Disable Times\n \n......................... 21\nOutput Short Cycle\n \n............................................. 21\nLight Load Current Operation  \n............................. 21\nSwitching Frequency and Phase\n \n......................... 21\nPolyPhase Load Sharing\n \n..................................... 22\nActive Voltage Positioning\n \n.................................. 22\nInput Supply Monitoring\n \n..................................... 22\nOutput Voltage Sensing and Monitoring\n \n............. 22\nOutput Current Sensing and Monitoring\n \n............. 22\nExternal and Internal Temperature Sense  \n........... 23\nResistor Configuration Pins\n \n................................ 23\nInternal EEPROM with CRC and ECC\n \n.................. 24\nFault Detection  .................................................... 24\nI\nnput Supply Faults  \n............................................. 24\nHardwired PWM Response to V OUT Faults  ......... 24\nP\nower Good Indication (Master)\n \n......................... 25\nPower Good Indication (Slave)\n \n........................... 25\nHardwired PWM Response to I OUT Faults  .......... 25\nHardwired PWM Response to Temperature Faults\n \n..25\nHardwired PWM Response to Timing Faults\n \n......26\nExternal Faults  \n.................................................... 26\nFault Handling  \n..................................................... 26\nStatus Registers and ALERT Masking  \n................. 26\nFAULT  Pin I/O\n ...................................................... 28\nF\nault Logging\n \n...................................................... 28\nFactory Default Operation\n \n................................... 31\nSerial Interface  \n................................................... 32\nSerial Bus Addressing\n \n........................................ 32\nSerial Bus Timeout\n \n............................................. 36\nSerial Communication Errors .............................. 36PMBus Command Summary\n \n............................ 37\nPMBus Commands  \n............................................. 37\nData Formats  \n...................................................... 37\nApplications Information\n \n................................ 42\nEfficiency Considerations  \n................................... 42\nPWM Frequency and Inductor Selection\n \n............. 42\nPower MOSFET Selection\n \n................................... 43\nMOSFET Driver Selection\n \n................................... 44\nUsing PWM Protocols\n \n........................................ 44\nCIN Selection  ....................................................... 44\nCOUT Selection  .................................................... 45\nFeedback Loop Compensation\n ............................ 46\nP\nCB Layout Considerations  \n................................ 47\nOutput Current Sensing\n \n...................................... 48\nOutput Voltage Sensing\n \n...................................... 50\nSoft-Start and Stop  \n............................................ 51\nTime-Based Output Sequencing and Ramping\n \n...51\nVoltage-Based Output Sequencing\n \n..................... 52\nUsing Output Voltage Servo\n \n............................... 54\nUsing AVP\n \n.......................................................... 54\nPWM Frequency Synchronization\n \n....................... 55\nPolyPhase Operation and Load Sharing\n \n............. 56\nExternal Temperature Sense  \n............................... 60\nResistor Configuration Pins\n \n................................ 60\nInternal Regulator Outputs  \n................................. 62\nIC Junction Temperature ..................................... 62\nDerating EEPROM Retention at Temperature\n ......63\nC\nonfiguring Open-Drain Pins\n \n.............................. 63\nPMBus Communication and Command Processing\n \n..64\nStatus and Fault Log Management\n \n..................... 65\nLTpowerPlay – An Interactive Digital Power GUI\n \n...65\nInterfacing to the DC1613\n \n................................... 66\nDesign Example  \n.................................................. 66\nPMBus COMMAND DETAILS\n \n............................. 69\nAddressing and Write Protect\n ................................. 69\nP\nAGE \n.................................................................. 69\nPAGE_PLUS_WRITE  .......................................... 69\nP\nAGE_PLUS_READ  \n............................................ 70\nWRITE_PROTECT  \n............................................... 70\nMFR_ADDRESS  \n................................................. 71\nMFR_RAIL_ADDRESS  \n....................................... 71\nGeneral Device Configuration\n \n................................. 71\nPMBUS_REVISION  \n............................................. 71\nCAPABILITY  ........................................................ 71\nO\nn, Off and Margin Control\n \n..................................... 72\nON_OFF_CONFIG  \n................................................ 72\nMFR_CONFIG_ALL_LTC3882-1\n \n......................... 72\nOPERATION  \n........................................................ 73\nMFR_RESET  \n....................................................... 73\nPWM Configuration  \n................................................ 74\nFREQUENCY_SWITCH  \n........................................ 74\nLTC3882-13\nRev B For more information www.analog.comTABLE OF CONTENTS\nMFR_PWM_CONFIG_LTC3882-1  ....................... 75\nMF\nR_CHAN_CONFIG_LTC3882-1\n \n...................... 76\nMFR_PWM_MODE_LTC3882-1\n \n......................... 77\nInput Voltage and Limits\n \n......................................... 78\nVIN_ON  \n.............................................................. 78\nVIN_OFF  \n............................................................. 78\nVIN_OV_FAULT_LIMIT  \n........................................ 78\nVIN_UV_WARN_LIMIT  \n....................................... 78\nOutput Voltage and Limits\n \n...................................... 79\nVOUT_MODE  \n...................................................... 79\nVOUT_COMMAND  \n.............................................. 79\nMFR_VOUT_MAX  \n............................................... 79\nVOUT_MAX  \n........................................................ 80\nMFR_VOUT_AVP  \n................................................ 80\nVOUT_MARGIN_HIGH  \n........................................ 80\nVOUT_MARGIN_LOW ......................................... 80\nVOUT_OV_FAULT_LIMIT  \n.................................... 80\nVOUT_OV_WARN_LIMIT  \n.................................... 81\nVOUT_UV_WARN_LIMIT  \n.................................... 81\nVOUT_UV_FAULT_LIMIT  \n.................................... 81\nOutput Current and Limits\n \n...................................... 82\nIOUT_CAL_GAIN  \n................................................ 82\nMFR_IOUT_CAL_GAIN_TC  \n................................. 82\nIOUT_OC_FAULT_LIMIT  \n..................................... 82\nIOUT_OC_WARN_LIMIT  \n..................................... 82\nOutput Timing, Delays, and Ramping\n \n..................... 83\nMFR_RESTART_DELAY  \n...................................... 83\nTON_DELAY  \n....................................................... 83\nTON_RISE  \n.......................................................... 83\nTON_MAX_FAULT_LIMIT  ................................... 84\nV\nOUT_TRANSITION_RATE  \n................................. 84\nTOFF_DELAY  \n...................................................... 84\nTOFF_FALL  \n......................................................... 84\nTOFF_MAX_WARN_LIMIT  \n.................................. 84\nExternal Temperature and Limits  ............................ 85\nM\nFR _TEMP_1_GAIN  \n........................................... 85\nMFR_TEMP_1_OFFSET\n \n....................................... 85\nOT_FAULT_LIMIT  \n................................................ 85\nOT_WARN_LIMIT  \n............................................... 85\nStatus Reporting  ..................................................... 86\nS\nTATUS_BYTE  \n.................................................... 86\nUT_FAULT_LIMIT  \n................................................ 86\nSTATUS_WORD  \n.................................................. 87\nSTATUS_VOUT  \n................................................... 87\nSTATUS_IOUT  \n.................................................... 87\nSTATUS_INPUT  .................................................. 88\nS\nTATUS_TEMPERATURE  \n.................................... 88\nSTATUS_CML  \n..................................................... 88\nSTATUS_MFR_SPECIFIC\n \n.................................... 89\nMFR_PADS_LTC3882-1\n ..................................... 89\nM\nFR_COMMON  \n.................................................. 90MFR_INFO  .......................................................... 90\nCLEAR_FAULTS .................................................. 90\nTelemetry  \n................................................................ 91\nREAD_VIN  \n.......................................................... 91\nMFR_VIN_PEAK  \n................................................. 91\nREAD_VOUT  \n....................................................... 91\nMFR_VOUT_PEAK  \n.............................................. 91\nREAD_IOUT  \n........................................................ 92\nMFR_IOUT_PEAK  \n............................................... 92\nREAD_POUT  \n....................................................... 92\nREAD_TEMPERATURE_1  \n................................... 92\nMFR_TEMPERATURE_1_PEAK  \n.......................... 92\nREAD_TEMPERATURE_2  \n................................... 92\nMFR_TEMPERATURE_2_PEAK  \n.......................... 93\nREAD_DUTY_CYCLE  .......................................... 93\nR\nEAD_FREQUENCY  \n............................................ 93\nMFR_CLEAR_PEAKS  \n......................................... 93\nFault Response and Communication  \n....................... 94\nVIN_OV_FAULT_RESPONSE  \n............................... 94\nVOUT_OV_FAULT_RESPONSE  \n............................ 95\nVOUT_UV_FAULT_RESPONSE  \n............................ 95\nIOUT_OC_FAULT_RESPONSE  \n............................. 96\nOT_FAULT_RESPONSE  \n....................................... 97\nUT_FAULT_RESPONSE  \n....................................... 97\nMFR_OT_FAULT_RESPONSE  \n............................. 97\nTON_MAX_FAULT_RESPONSE  \n.......................... 98\nMFR_RETRY_DELAY  \n.......................................... 98\nSMBALERT_MASK  \n............................................. 98\nMFR_FAULT_PROPAGATE_LTC3882-1\n \n.............. 99\nMFR_FAULT_RESPONSE  \n.................................. 100\nMFR_FAULT_LOG  \n............................................. 101\nFault Log Operation  \n.......................................... 101\nMFR_FAULT_LOG_CLEAR  \n................................ 101\nEEPROM User Access  \n........................................... 102\nSTORE_USER_ALL  \n.......................................... 102\nRESTORE_USER_ALL  \n...................................... 102\nMFR_COMPARE_USER_ALL  \n........................... 102\nMFR_FAULT_LOG_STORE  \n............................... 103\nMFR_EE_xxxx  \n.................................................. 103\nUSER_DATA_0x  \n............................................... 103\nUnit Identification  \n................................................. 103\nMFR_ID  ............................................................ 10\n3\nMFR_MODEL  \n.................................................... 103\nMFR_SERIAL  \n.................................................... 103\nMFR_SPECIAL_ID  \n............................................ 103\nTypical Applications\n \n.................................... 104\nPackage Description\n \n................................... 106\nRevision History\n \n........................................ 107\nTypical Application\n \n..................................... 108\nRelated Parts\n \n............................................ 108\nLTC3882-14\nRev B For more information www.analog.comPIN CONFIGURATION ABSOLUTE MAXIMUM RATINGS\nVCC Supply Voltage  .................................... –0.3V to 15V\nVINSNS Voltage  \n......................................... –0.3V to 40V\nVSENSE n– ...................................................... – 0.3V to 1V\nVSENSE n+, ISENSE n+, ISENSE n– ........................ – 0.3V to 6V\nFBn, COMP n, TSNS n, IAVG_GND , IAVGn ......– 0.3V to 3.6V\nSYNC, FAULTn , PGOOD n, SHARE_CLK  \n........ –0.3V to 3.6V\nSCL, SDA, RUN n, ALERT  \n........................... –0.3V to 5.5V\nASEL n, VOUT n_CFG, FREQ_CFG,\nPHAS_CFG  \n.............................................. –0.3V to 2.75V\nPWM n, VDD25 .................................................. ( Note 13)\nVDD33 ............................................................... ( Note 14)\nOperating Junction Temperature\n(Notes 2, 3)\n \n.......................................... –40°C to 125°C*\nStorage Temperature Range  \n................ –65°C to 150°C*\n*See Derating EEPROM Retention at Temperature in the \nApplications Information section for junction temperatures in excess of 125°C.(Note 1)\n3940 3837363534333231\n11 20 12131415TOP VIEW\n41\nGND\nUJ PACKAGE\n40-LEAD (6mm × 6mm) PLASTIC QFN\nTJMAX  = 125°C, θ JA = 33°C/W , θ JC = 2.5°C/W\nEXPOSED PAD (PIN 41) IS GND, MUST BE SOLDERED TO PCB161718192223242526272829\n98765432COMP0\nTSNS0\nTSNS1\nVINSNS\nIAVG_GND\nPGOOD0\nPWM0\nSYNC\nSCL\nSDAIAVG1\nFB1COMP1PGOOD1PWM1V\nCC\nVDD33\nSHARE_CLKV\nDD25\nPHAS_CFGFB0I\nAVG0\nISENSE0+\nISENSE0–\nVSENSE0+\nVSENSE0–\nVSENSE1–\nVSENSE1+\nISENSE1–\nISENSE1+ALERT\nFAUL T0FAUL T1\nRUN0RUN1\nASEL0ASEL1\nV\nOUT0_CFG\nVOUT1_CFG\nFREQ_CFG2130\n101\nORDER INFORMATION\nLEAD FREE FINISH TAPE AND REEL PART MARKING* PACKAGE DESCRIPTION TEMPERATURE RANGE\nL TC3882EUJ-1#PBF L TC3882EUJ-1#TRPBF L TC3882UJ-1 40-Lead (6mm × 6mm) Plastic QFN –40°C to 125°C\nL TC3882IUJ-1#PBF L TC3882IUJ-1#TRPBF L TC3882UJ-1 40-Lead (6mm × 6mm) Plastic QFN –40°C to 125°C\nAUTOMOTIVE PRODUCTS**\nL TC3882EUJ-1#WPBF L TC3882EUJ-1#WTRPBF L TC3882UJ-1 40-Lead (6mm × 6mm) Plastic QFN –40°C to 125°C\nL TC3882IUJ-1#WPBF L TC3882IUJ-1#WTRPBF L TC3882UJ-1 40-Lead (6mm × 6mm) Plastic QFN –40°C to 125°C\nContact the factory for parts specified with wider operating temperature ranges. *The temperature grade is identified by a label on the shipping container .\nTape and reel specifications. Some packages are available in 500 unit reels through designated sales channels with #TRMPBF suffix.\n**Versions of this part are available with controlled manufacturing to support the quality and reliability requirements of automotive applications. These \nmodels are designated with a #W suffix. Only the automotive grade products shown are available for use in automotive applications. Contact your \nlocal Analog Devices account representative for specific product ordering information and to obtain the specific Automotive Reliability reports for these\xa0models.\nLTC3882-15\nRev B For more information www.analog.comELECTRICAL CHARACTERISTICS\nSYMBOL PARAMETER CONDITIONS MIN TYP MAX UNITS\nIC Supply\nVCC VCC Voltage Range VDD33 = Internal LDO 4.5 13.8 V\nVDD33_EXT VDD33 Voltage Range VCC = V DD33 (Note 6) l 3 3.6 V\nVUVLO Undervoltage Lockout Threshold V DD33 Rising \nHysteresisl  \n423 V  \nmV\nIQ IC Operating Current 32 mA\ntINIT Controller Initialization Time Delay from RESTORE_USER_ALL, MFR_RESET or \nVDD33 > V UVLO Until TON_DELAY Can Begin35 ms\nVDD33 Linear Regulator\nVDD33 VDD33 Regulator Output Voltage V CC ≥ 4.5V 3.2 3.3 3.4 V\nIDD33 VDD33 Current Limit VDD33 = 2.8V \nVDD33 = 0V85 \n40mA \nmA\nVDD25 Linear Regulator\nVDD25 VDD25 Regulator Output Voltage 2.25 2.5 2.75 V\nIDD25 VDD25 Current Limit 95 mA\nPWM Control Loops\nVINSNS V IN Sense Voltage Range 3 38 V\nRVINSNS VINSNS Input Resistance 278 kΩ\nVOUT_R0 Range 0 Maximum V OUT \nRange 0 Set Point Error (Note 7) \n \nRange 0 Set Point Resolution \n0.6V ≤ V OUT ≤ 5V \n0.6V ≤ V OUT ≤ 5V  \n \nl \n \n–0.55.25 \n±0.2 \n \n1.375  \n0.5V \n% \n% \nmV\nV\nOUT_R1 Range 1 Maximum V OUT \nRange 1 Set Point Error (Note 7) \n \nRange 1 Set Point Resolution 0.6V ≤ V\nOUT ≤ 2.5V \n0.6V ≤ V OUT ≤ 2.5V \n \nl \n \n–0.52.65 \n±0.2 \n \n0.6875  \n0.5V \n% \n% \nmV\nI\nVSENSE VSENSE  Input Current VSENSE+ = 5.5V \nVSENSE– = 0V235 \n–335µA \nµA\nVLINEREG VCC Line Regulation, No Output Servo 4.5V ≤ V CC ≤ 13.2V (See Test Circuit) –0.02 0.02 %/V\nAVP AVP ∆V OUT AVP = 10%, VOUT_COMMAND = 1.8V ,  I\nSENSE  Differential Step 3mV to 12mV \nwith IOUT_OC_WARN_LIMIT = 15mVl–118 –108 –96 mV\nAV(OL) Error Amplifier Open-Loop Voltage Gain 87 dB\nSR Error Amplifier Slew Rate 9.5 V/µs\nf0dB Error Amplifier Bandwidth (Note 12) 30 MHz\nICOMP Error Amplifier Output Current Sourcing \nSinking–2.6 \n34mA \nmA\nRVSFB Resistance Between V SENSE+ and FB Range 0 \nRange 1l \nl52 \n3767 \n4983 \n61kΩ \nkΩ\nVISENSE ISENSE  Differential Input Range ±70 mV\nIISENSE ISENSE± Input Current 0V ≤ V PIN ≤ 5.5V –1 ±0.1 1 µA\nIAVG_VOS IAVG Current Sense Offset Referred to I SENSE  Inputs  \nl \n–600±175  \n650µV \nµV\nVSIOS Slave Current Sharing Offset Referred to I SENSE  Inputs  \nl \n–800±300  \n700µV \nµV\nfSYNC SYNC Frequency Error 250kHz ≤ f SYNC ≤ 1.25MHz l –10 10 % The l denotes the specifications which apply over the specified operating \njunction temperature range, otherwise specifications are at T J = 25°C (Note 2). V CC = 5V , V SENSE0+ = V SENSE1+ = 1.8V , V SENSE0– = \nVSENSE1– = IAVG_GND  = GND = 0V , f SYNC = 500kHz (externally driven) unless otherwise specified.\nLTC3882-16\nRev B For more information www.analog.comELECTRICAL CHARACTERISTICS\nSYMBOL PARAMETER CONDITIONS MIN TYP MAX UNITS\nInput Voltage Supervisor\nVON_TOL Input ON/OFF Threshold Error 15V ≤ V IN_ON  ≤ 35V l –2 2 %\nNVON Input ON/OFF Threshold Resolution 143 mV\nOutput Voltage Supervisors\nVUVOV_R0 Range 0 Maximum Threshold \nRange 0 Error Range 0 Threshold Resolution Range 0 Threshold Hysteresis 2V ≤ V\nOUT ≤ 5V (Falling for UV and Rising for OV)  \nl \n–15.5 \n \n11 \n1 \n \n54V \n% \nmV mV\nV\nUVOV_R1 Range 1 Maximum Threshold Range 1 Error Range 1 Threshold Resolution Range 1 Threshold Hysteresis 1V ≤ V\nOUT ≤ 2.5V (Falling for UV and Rising for OV) \nl \n–12.75 \n \n5.5 \n1 \n \n27V \n% \nmV mV\nOutput Current Super\nvisors\nVILIM_TOL Output Current Limit Tolerance I\nSENSE+ – ISENSE–15mV < I SENSE+ – ISENSE– ≤ 30mV \n30mV < I SENSE+ – ISENSE– ≤ 50mV \n50mV < I SENSE+ – ISENSE– ≤ 70mVl \nl l–1.7 \n–2.5 –5.21.7 \n2.5 5.2mV \nmV mV\nN\nlLIM ISENSE+ – ISENSE– Threshold Resolution 1LSB 0.4 mV\nADC Readback Telemetry (Note 8)\nNVIN VINSNS Readback Resolution (Note 9) 10 Bits\nVIN_TUE VINSNS Total Unadjusted Readback Error 4.5V ≤ VINSNS ≤ 38V  \nl0.5 \n2% \n%\nNDC PWM Duty Cycle Resolution (Note 9) 10 Bits\nDCTUE PWM Duty Cycle Total Unadjusted \nReadback ErrorPWM Duty Cycle = 12.5% –2 2 %\nNVOUT VOUT Readback Resolution 244 µV\nVOUT_TUE VOUT Total Unadjusted Readback Error 0.6V ≤ V OUT ≤ 5.5V , Constant Load  \nl \n–0.5±0.2  \n0.5% \n%\nNISENSE IOUT Readback Resolution \nLSB Step Size (at I SENSE±)(Note 9)  \n0mV ≤ |I SENSE+ – ISENSE–| < 16mV \n16mV ≤ |I SENSE+ – ISENSE–| < 32mV \n32mV ≤ |I SENSE+ – ISENSE–| < 63.9mV \n63.9mV ≤ |I SENSE+ – ISENSE–| ≤ 70mV10 \n15.625 \n31.25 \n62.5 \n125Bits \nµV \nµV \nµV \nµV\nISENSE_TUE IOUT Total Unadjusted Readback Error |I SENSE+ – ISENSE–| ≥ 6mV , 0V ≤ V OUT ≤ 5.5V l –1 1 %\nISENSE_OS IOUT Zero-Code Offset Voltage ±32 µV\nNTEMP Temperature Resolution 0.25 °C\nTEXT_TUE External Temperature Total Unadjusted Readback ErrorTSNS0, TSNS1 ≤ 1.85V (Note 10) \nMFR_PWM_MODE_L TC3882-1[6] = 0 \nMFR_PWM_MODE_L TC3882-1[6] = 1 \nl \nl \n–3 \n–7 \n3 7 \n°C °C\nT\nINT_TUE Internal Temperature Total Unadjusted \nReadback ErrorInternal Diode (Note 10) ±1 °C\ntCONVERT Update Rate (Note 11) 90 ms\nInternal EEPROM (Notes 4, 6)\nEndurance Number of Write Operations 0°C ≤ T J ≤ 85°C During All Write Operations 10,000 Cycles\nRetention Stored Data Retention TJ ≤ 125°C 10 Years\nMass Write Time STORE_USER_ALL Execution Duration 0°C ≤ T J ≤ 85°C During All Write Operations 0.2 2 s The l denotes the specifications which apply over the specified operating \njunction temperature range, otherwise specifications are at T J = 25°C (Note 2). V CC = 5V , V SENSE0+ = V SENSE1+ = 1.8V , V SENSE0– = \nVSENSE1– = IAVG_GND  = GND = 0V , f SYNC = 500kHz (externally driven) unless otherwise specified.\nLTC3882-17\nRev B For more information www.analog.comELECTRICAL CHARACTERISTICS\nSYMBOL PARAMETER CONDITIONS MIN TYP MAX UNITS\nDigital Inputs (SCL, SDA, RUNn, FAULTn, SYNC, SHARE_CLOCK)\nVIH Input High Voltage SCL, SDA, RUN0, RUN1, FAUL T0, FAUL T1 \nSYNC, SHARE_CLKl \nl1.35 \n1.8V \nV\nVIL Input Low Voltage SCL, SDA, RUN0, RUN1, FAUL T0, FAUL T1 \nSYNC, SHARE_CLKl l 0.8 \n0.6V \nV\nVHYST Input Hysteresis SCL, SDA 80 mV\nCIN Input Capacitance SCL, SDA, RUN0, RUN1, FAUL T0, FAUL T1, SYNC, \nSHARE_CLK (Note 12)10 pF\ntFIL T Input Digital Filter Delay FAUL T0, FAUL T1 \nRUN0, RUN13 \n10µs \nµs\nDigital Outputs (SCL, SDA, RUNn, FAULTn, SYNC, SHARE_CLOCK, ALERT, PWMn, PGOODn)\nVOL Output Low Voltage ISINK = 3mA; SDA, SCL, RUN0, RUN1, FAUL T0,  \nFAUL T1, SYNC, SHARE_CLK, ALERT,  \nISINK = 2mA; PWMn, PGOODn l \n \nl0.2 0.4 \n \n0.3V \n \nV\nVOH PWM n Output High Voltage ISOURCE  = 2mA l 2.7 V\nILKG Output Leakage Current 0V ≤ PWM0, PWM1, PGOOD0, PGOOD1 ≤ V DD33 \n0V ≤  FAUL T0, FAUL T1, SYNC, SHARE_CLK ≤ 3.6V \n0V ≤ RUN0, RUN1 ≤ 5.5V 0V ≤ SCL, SDA, ALERT ≤ 5.5V \n  \nl–1 \n–5 \n \n–51 \n5 \n \n5µA \nµA \n \nµA\ntRO PWM n Output Rise Time CLOAD = 30pF , 10% to 90% 5 ns\ntFO PWM n Output Fall Time CLOAD = 30pF , 90% to 10% 4 ns\nSerial Bus Timing\nfSMB Serial Bus Operating Frequency l 10 400 kHz\ntBUF Bus Free Time Between Stop and Start l 1.3 µs\ntHD,STA Hold Time After (Repeated) Start \nCondition. After This Period, the First Clock Is Generatedl 0.6 µs\ntSU,STA Repeated Start Condition Setup Time l 0.6 µs\ntSU,STO Stop Condition Setup Time l 0.6 µs\ntHD,DAT Data Hold Time: \n Receiving Data \n T ransmitting Data \nl \nl \n0 \n0.3 \n \n0.9 \nns \nµs\ntSU,DAT Input Data Setup Time l 100 ns\ntTIMEOUT Clock Low Timeout l 25 35 ms\ntLOW Serial Clock Low Period l 1.3 10000 µs\ntHIGH Serial Clock High Period l 0.6 µs The l denotes the specifications which apply over the specified operating \njunction temperature range, otherwise specifications are at T J = 25°C (Note 2). V CC = 5V , V SENSE0+ = V SENSE1+ = 1.8V , V SENSE0– = \nVSENSE1– = IAVG_GND  = GND = 0V , f SYNC = 500kHz (externally driven) unless otherwise specified.\nLTC3882-18\nRev B For more information www.analog.comELECTRICAL CHARACTERISTICS\nNote 1: Stresses beyond those listed under Absolute Maximum Ratings \nmay cause permanent damage to the device. Exposure to any Absolute Maximum Rating condition for extended periods may affect device reliability and lifetime.\nNote 2: The L TC3882-1 is tested under pulsed load conditions such that \nT\nJ\xa0≈\xa0TA. The L TC3882-1E is guaranteed to meet performance specifications \nfrom 0°C to 85°C. Specifications over the –40°C to 125°C operating junction temperature range are assured by design, characterization and correlation with statistical process controls. The L TC3882-1I is guaranteed over the full –40°C to 125°C operating junction temperature range. Junction temperature T\nJ is calculated in °C from the ambient temperature \nTA and power dissipation P D according to the formula: \n TJ = TA + (P D • θJA)\nwhere θ JA is the package thermal impedance. Note that the maximum \nambient temperature consistent with these specifications is determined by specific operating conditions in conjunction with board layout, the rated package thermal impedance and other environmental factors. Refer to the Applications Information section.\nNote 3: This IC includes overtemperature protection that is intended to \nprotect the device during momentary overload conditions. The maximum rated junction temperature will be exceeded when this protection is active. Continuous operation above the specified absolute maximum operating junction temperature may impair device reliability or permanently damage the device.\nNote 4: EEPROM endurance, retention and mass write times are \nguaranteed by design, characterization and correlation with statistical process controls. Minimum retention applies only for devices cycled less than the minimum endurance specification. EEPROM read commands (e.g. RESTORE_USER_ALL) are valid over the entire specified operating junction temperature range.Note 5: All currents into device pins are positive; all currents out of device pins are negative. All voltages are referenced to GND unless otherwise specified.\nNote 6: Minimum EEPROM endurance, retention and mass write time \nspecifications apply when writing data with 3.15V ≤ V\nDD33 ≤ 3.45V . \nEEPROM read commands are valid over the entire specified V DD33 \noperating range.\nNote 7: Specified V OUT error with AVP = 0% requires servo mode to be \nset with MFR_PWM_MODE_L TC3882-1 command bit 6. Performance is \nguaranteed by testing the L TC3882-1 in a feedback loop that servos V OUT \nto a specified value.\nNote 8: ADC tested with PWMs disabled. Comparable capability \ndemonstrated by in-circuit evaluations. Total Unadjusted Error includes all gain and linearity errors, as well as offsets.\nNote 9: Internal 32-bit calculations using 16-bit ADC results are limited to \n10-bit resolution by PMBus Linear 11-bit data format.\nNote 10: Limits guaranteed by TSNS voltage and current measurements \nduring test, including ADC readback.\nNote 11: Data conversion is done in round robin fashion. All inputs signals \nare continuously scanned in sequence resulting in a typical conversion latency of 90ms.\nNote 12: Guaranteed by design.Note 13: Do not apply a voltage or current source directly to these pins. \nThey should only be connected to passive RC loads, otherwise permanent damage may occur .\nNote 14: Do not apply a voltage source to this pin unless shorted to V\nCC. \nSee Electrical Characteristics for applicable limits beyond which permanent \ndamage may occur .\nLTC3882-19\nRev B For more information www.analog.comTYPICAL PERFORMANCE CHARACTERISTICS\nEfficiency vs Load Current  \n(1-Phase Using D12S1R880A Power Block)Typical L TC3882-1 Output Voltage \nDistribution at 0°C\nEfficiency and Loss vs Load  (2-Phase Using FDMF5820DC DRMOS)L TC3882-1 1.0V Regulated Output vs Temperature\nEfficiency vs Load Current  (3-Phase Using D12S1R845A Power Block)Typical L TC3882-1 Output Voltage \nDistribution at 105°C\nLOAD CURRENT (A)0EFFICIENCY (%)95\n90\n8085\n75\n10 20 30\n38821 G04403.3V\n2.5V1.8V1.5V1.2V1.0VVIN = 12V\nLOAD CURRENT (A)0EFFICIENCY (%)94\n92\n888490\n8682\n80\n40 20 60\n38821 G0570 30 10 50VIN = 12V\nVOUT = 1.5V\nTypical Distribution of Slave \nIOUT Offset (Not Including DCR \nMismatch)Typical Distribution of Slave I\nOUT Offset (Not Including DCR \nMismatch)Typical Distribution of Slave I\nOUT Offset (Not Including DCR \nMismatch)NUMBER OF ICs4000\n3500\n25001500\n500300020001000\n0\n38821 G06CH1 I SENSE  OFFSET TO IDEAL (µV)–400 400 300 200 100 –300–200–100 09595 UNITS\nFROM 3 LOTST\nA = –40°C\nTJ = –22°C\nCHO MASTER\nNUMBER OF ICs3500\n25001500\n500300020001000\n0\n38821 G07CH1 I SENSE  OFFSET TO IDEAL (µV)–400 400 300 200 100 –300–200–100 08593 UNITS\nFROM 3 LOTST\nJ = 38°C\nCHO MASTER\nNUMBER OF ICs4500\n2500\n1500\n5004000\n35003000\n20001000\n0\n38821 G08CH1 I SENSE  OFFSET TO IDEAL (µV)–300 500 400 300 200 100 –200–100 011783 UNITS\nFROM 3 LOTST\nJ = 121°C\nCHO MASTERLOAD CURRENT (A)0EFFICIENCY (%)92\n908886848291\n8987858381\n80POWERLOSS (W)13\n9\n511\n7\n3\n1\n20 10 30\n38821 G0380 70 60 50 40VIN = 12V\nVOUT = 1V\nSYNC = 500kHzTA (°C)–5VOUT (V)1.001\n1.0005\n0.99951.0\n0.999\n0.9985\n95\n38821 G0175 15 55 35VIN = 12V\nVOUT_COMMAND = 1.0V\nDIGITAL SERVO ENGAGEDI\nOUT = 6.5A\nNUMBER OF CHANNELS1000\n900\n700500300\n200100800\n600400\n0\n38821 G01aVOUT ERROR (mV)–1.25 11.25 0.75 0.5 0.25 –1–0.75–0.5–0.25 01094 UNITS\nVOUT_COMMAND = 1.0VDIGITAL SERVO ENGAGED1078 UNITS\nVOUT_COMMAND = 1.0V\nDIGITAL SERVO \nENGAGED\nVOUT ERROR (mV)–2.5NUMBER OF CHANNELS1200\n1000\n600\n200800\n400\n0\n0.5 1 1.5 2\n38821 G022.5 0 –2 –1 –0.5–1.5\nLTC3882-110\nRev B For more information www.analog.comEfficiency and Power Loss vs \nInput Voltage  (1-Phase Using L TC4449)3-Phase T ransient Response  (Using D12S1R860A Power Block)1-Phase Single Cycle Response  (Using D12S1R860A Power Block with C\nOUT = 6 × 100µF X5R 1210)TYPICAL PERFORMANCE CHARACTERISTICS\n3+1 Channel Crosstalk (Using D12S1R845A Power Blocks)Load Step T ransient Response Using AVPLine Step T ransient Response (1-phase Using L TC4449)VIN (V)5EFFICIENCY (%)100\n98\n969492908886848280POWERLOSS (W)3.0\n2.0\n1.02.5\n1.5\n0.5\n0\n20 10 25 15\n38821 G1230VO = 1.8V\nPOWER FET : BSC050N04LS G\nSYNC FET : BSC010N04LS\nVOUT0\n(1-PHASE)\n20mV/DIV\nVOUT1\n(3-PHASE)\n20mV/DIV\nIOUT1\n10A/DIV\n100µs/DIV38821 G1525%\nLOAD STEP\n VOUT\n50mV/DIVIO\n10A/DIV\n200µs/DIV38821 G16\nVOUT\n10mV/DIVVIN\n2V/DIV7V\n1.8V\n200µs/DIV38821 G17\n100µs/DIVVOUT\n(10mV/DIV)IOUT\n(10A/DIV)\n38821 G13\nVOUT = 0.9V/90A\nVIN = 12V\nSYNC = 500kHz\nL = 210nH25mV P-P\n2µs/DIVIOUT\n(10A/DIV)VSW\n(10V/DIV)VOUT\n(20mV/DIV)\n38821 G14\nVOUT = 1V/25A\nVIN = 12V\nSYNC = 1MHzL = 210nH3-Phase DC Output Current \nSharing (Using D12S1R845A Power BlockLoad Step T ransient Current Sharing (Using FDMF6707B DrMOS)Load Dump T ransient Current Sharing (Using FDMF6707B DrMOS)\nTOTAL RAIL CURRENT (A)0PHASE CURRENT (A)20\n218\n1410\n61612\n8\n4\n0\n60 70\n38821 G0980 50 20 40 10 30CHANNEL 1\nCHANNEL 2CHANNEL 3\nIL1, IL2\n10A/DIVVOUT\n20mV/DIVIOUT\n20A/DIV\n5µs/DIV VOUT = 1V\nVIN = 12V\nSYNC = 500kHz\nL = 320nH38821 G10\nIL1, IL2\n10A/DIVVOUT\n20mV/DIVIOUT\n20A/DIV\n5µs/DIV VOUT = 1V\nVIN = 12V\nSYNC = 500kHz\nL = 320nH38821 G11\nLTC3882-111\nRev B For more information www.analog.comSoft-Start Ramp Start-Up Into a Prebiased Load Soft-Off RampTYPICAL PERFORMANCE CHARACTERISTICS\nOutput Overvoltage Threshold \nError vs TemperatureOutput Overcurrent Threshold Error vs Temperature PWM Frequency vs Temperature\nTEMPERATURE (°C)–40VOUT OV THRESHOLD ERROR (%)0.10\n0.05\n0\n–0.10–0.05\n–0.15\n60 80\n38821 G21120 100 20 40 –20 0VOUT_OV_FAUL T_LIMIT = 2V\nVOUT RANGE = 1\nOUTPUT OC THRESHOLD ERROR (%)1.2\n0.80.4\n01.00.60.2\n–0.2\n–0.4\n38821 G22TEMPERATURE (°C)–40 60 80 120 100 20 40 –20 0\nPWM FREQUENCY (kHz)500.2\n500.1\n499.9499.7500.0\n499.8499.6\n499.5\n38821 G23TEMPERATURE (°C)–40 60 80 120 100 20 40 –20 0FREQUENCY_SWITCH = 500kHz\nRUN\n2V/DIV\nVOUT\n1V/DIV\n5ms/DIV\nTOFF_DELAY = 10ms\nTOFF_FALL = 5ms38821 G20\nVOUT\n0.5V/DIV\n1ms/DIV38821 G18IL1, IL2\n10A/DIV\nVIN = 12V\nVOUT\n0.5V/DIV\n0V\n1ms/DIV38821 G19IL1, IL2\n10A/DIV\nVIN = 12V\nVOUT_COMMAND INL Regulated Output vs Temperature VOUT_COMMAND DNL\nVOUT (V)0.3INL (LSB)1.5\n1.0\n00.5\n–0.5–1.0\n4.3 5.1\n38821 G015.5 3.5 1.1 2.7 1.9\nVOUT (V)0.3DNL (LSB)1.0\n0.8\n0.4\n0\n–0.40.60.2\n–0.2–0.6\n–0.8\n4.3 5.1\n38821 G025.5 3.5 1.1 2.7 1.9\nTEMPERATURE (°C)–40VOUT (V)1.8000\n1.7995\n1.7985\n1.79751.7990\n1.7980\n1.7970\n60 80\n38821 G01a120 100 20 40 –20 0VOUT_COMMAND = 1.8V\nDIGITAL SERVO OFF\nLTC3882-112\nRev B For more information www.analog.comTYPICAL PERFORMANCE CHARACTERISTICS\nVIN(SNS)  ADC TUE VOUT ADC TUE IOUT ADC TUE\nVINSNS (V)0MEASUREMENT ERROR (mV)0\n–1\n–3–5–7–2\n–4\n–6\n–8\n–9\n30 35\n38821 G2440 25 10 20 5 15\nVOUT (V)0.5MEASUREMENT ERROR (mV)0.40\n0.30\n0.200.10\n0\n–0.10–0.20–0.30–0.40\n4.5\n38821 G251.5 2.5 3.5 5.5 4 1 2 3 5\nOUTPUT CURRENT (A)0MEASUREMENT ERROR (mA)024\n20\n38821 G26–2\n–4\n–8\n5 10 15–68\n6\nTemperature ADC TUESHARE_CLK Frequency vs \nTemperatureIC Operating Current vs Temperature\nACTUAL TEMPERATURE (°C)–45–1.0MEASUREMENT ERROR (°C)\n–0.8–0.4–0.201.0\n0.4\n–5 35 55\n38821 G27–0.60.60.8\n0.2\n–25 15 75 95 115\nTEMPERATURE (°C)–5090SHARE_CLK FREQUENCY (kHz)95100105110\n–30 –10 10 30\n38821 G2850 70 90 110\nICC OPERATING CURRENT (mA)31.0\n30.8\n30.430.030.6\n30.229.829.429.6\n38821 G29TEMPERATURE (°C)–40 60 80 120 100 20 40 –20 0VCC = 14V\nLTC3882-113\nRev B For more information www.analog.comPIN FUNCTIONS\nCOMP0/COMP1 (Pin 1/Pin 28): Error Amplifier Outputs. \nPWM duty cycle increases with this control voltage. These are true low impedance outputs and cannot be directly connected together when active. For PolyPhase operation, wiring FB to V\nDD33 will three-state the error amplifier output \nof that channel, making it a slave. PolyPhase control is then implemented in part by connecting all slave COMP pins together to one master error amplifier output.\nTSNS0/TSNS1 (Pin 2/Pin 3): External Temperature Sense \nInputs. The L TC3882-1 supports two methods of calcula -\ntion of external temperature based on forward-biased P/N junctions between these pins and GND.\nVINSNS (Pin 4):\n VIN Supply Sense. Connect to the V IN \npower supply to provide line feedforward compensation. \nA change in V IN immediately modulates the input to the \nPWM comparator and inversely changes the pulse width to provide excellent transient line regulation and fixed modulator voltage gain. An external lowpass filter can be added to this pin to prevent noisy signals from affecting the loop gain.\nI\nAVG_GND  (Pin 5): I AVG Ground Reference. The same \nIAVG_GND  should be shared between all channels of a \nPolyPhase rail and connected to system ground at a single \npoint. I AVG_GND  may be wired directly to GND on ICs that \ndo not share phases with other chips.\nPGOOD/PGOOD1 (Pin 6/Pin 27): Power Good Indicator \nOpen-Drain Outputs. These outputs are driven low through a 30µs filter when the respective channel output is below its programmed UV fault limit or above its programmed OV fault limit. If used, a pull-up resistor is required in the application. Operating voltage range is GND to V\nDD33.\nPWM0/PWM1 (Pin 7/Pin 26): PWM Three-State Control Outputs. These pins provide single-wire PWM switching control for each channel to an external gate driver , DrMOS or power block. Operating voltage range is GND to V\nDD33.\nSYNC (Pin 8): External Clock Synchronization Input and Open-Drain Output. If desired, an external clock can be applied to this pin to synchronize the internal PWM chan -\nnels. If the L TC3882-1 is configured as a clock master , this pin \nwill also pull to ground at the selected PWM switching frequency with a 125ns pulse width. A pull-up resistor to 3.3V is required in the application if SYNC is driven by any L TC3882-1. Minimize the capacitance on this line to ensure its time constant is fast enough for the application.\nSCL (Pin 9): Serial Bus Clock Input. A pull-up resistor to \n3.3V is required in the application.\nSDA (Pin 10): Serial Bus Data Input and Output. A pull-up \nresistor to 3.3V is required in the application.\nALERT (Pin 11): Open-Drain Status Output. This pin may \nbe connected to the system SMBALERT wire-AND inter -\nrupt signal and should be left open if not used. If used, a pull-up resistor is required in the application. Operating voltage range is GND to V\nDD33.\nFAULT0/FAULT1 (Pin 12/Pin 13): Programmable Digital Inputs and Open-Drain Outputs for Fault Sharing. Used for channel-to-channel fault communication and propaga -\ntion. These pins should be left open if not used. If used, a pull-up resistor to 3.3V is required in the application.\nRUN0/RUN1 (Pin 14/Pin 15):\n Run Control Inputs and \nOpen-Drain Outputs. A voltage above 2V is required on \nthese pins to enable the respective PWM channel. The L TC3882-1 will drive these pins low under certain reset/restart conditions regardless of any PMBus command settings. A pull-up resistor to 3.3V is required in the ap -\nplication.\nASEL0/ASEL1 (Pin 16/Pin 17):\n Serial Bus Address Select \nPins. Connect optional 1% resistor dividers between V DD25 \nand GND to these pins to select the serial bus interface \naddress. Refer to the Applications Information section for more detail.\nV\nOUT0_CFG /VOUT1_CFG  (Pin 18/Pin 19): Output Voltage \nConfiguration Pins. Connect optional 1% resistor divid -\ners between V DD25 and GND to these pins to select the \noutput voltage for each channel. Refer to the Applications \nInformation section for more detail.\nFREQ_CFG (Pin 20): Frequency Configuration Pin. Connect \nan optional 1% resistor divider between V DD25 and GND \nto this pin to configure PWM switching frequency. Refer to the Applications Information section for more detail.\nLTC3882-114\nRev B For more information www.analog.comPIN FUNCTIONS\nPHAS_CFG (Pin 21): Phase Configuration Pin. Connect \nan optional 1% resistor divider between V DD25 and GND \nto this pin to configure the phase of each PWM channel relative to SYNC. Refer to the Applications Information section for more detail.\nV\nDD25 (Pin 22): Internal 2.5V Regulator Output. Bypass \nthis pin to GND with a low ESR 1µF capacitor . Do not load \nthis pin with external current beyond that required for local L TC3882-1 configuration pins, if any.\nSHARE_CLK (Pin 23): Share Clock Open-Drain Output \n(bussed). Share Clock, nominally 100kHz, is used to sequence multiple rails in a power system utilizing more than one L TC PSM controller . A pull-up resistor is required in the application. Minimize the capacitance on this line to ensure the time constant is fast enough for the application. Operating voltage range is GND to V\nDD33.\nVDD33 (Pin 24): Internal 3.3V Regulator Output. Bypass this \npin to GND with a low ESR 2.2µF capacitor . The L TC3882-1 may also be powered from an external 3.3V rail attached to this pin, if also shorted to V\nCC. Do not overload this pin \nwith external system current. Local pull-up resistors for the L TC3882-1 itself may be powered from V\nDD33. Refer \nto the Applications Information section for more detail.\nVCC (Pin 25): 3.3V Regulator Input. Bypass this pin to \nGND with a capacitor (0.1µF to 1µF ceramic) in close \nproximity to the IC.\nVSENSE0–/VSENSE1– (Pin 35/Pin 34): Negative Output \nVoltage Sense Inputs. These pins must still be properly \nconnected on slave channels for accurate output current telemetry.V\nSENSE0+/VSENSE1+ (Pin 36/Pin 33): Positive Output Voltage \nSense Inputs. These pins must still be properly connected on slave channels for accurate output current telemetry.\nI\nSENSE0–/ISENSE1– (Pin 37/Pin 32): Current Sense Ampli -\nfier Inputs. The (–) inputs to the amplifiers are normally \nconnected to the low side of a DCR sensing network or output current sense resistor for each phase.\nI\nSENSE0+/ISENSE1+ (Pin 38/Pin 31): Current Sense Ampli -\nfier Inputs. The (+) inputs are normally connected to the \nhigh \nside of an output current sense resistor or the R-C \nmidpoint of a parallel DCR sense circuit.\nIAVG0/IAVG1 (Pin 39/Pin 30): Average Current Control Pins. \nA capacitor connected between these pins and I AVG_GND  \nstores a voltage proportional to the average output current \nof the master channel. PolyPhase control is then imple -\nmented in part by connecting all slave I AVG pins together \nto the master I AVG output. This pin should be left open \non channels that control single-phase outputs. Operating voltage range is GND to 2.1V .\nFB0/FB1 (Pin 40/Pin 29): Error Amplifier Inverting Inputs. \nThese pins provide an internally scaled version of the output voltage for use in loop compensation. Refer to the Applications Information section for additional details on compensating the output voltage control loop with external components.\nGND (Exposed Pad Pin 41): Ground. All small-signal and \ncompensation components should connect to this pad.  \nThe exposed pad must be soldered to a suitable PCB copper ground plane for proper electrical operation and to obtain the specified package thermal resistance.\nLTC3882-115\nRev B For more information www.analog.comBLOCK DIAGRAM\n16-BIT\nADC\nPWM1\nVSENSE1±ANALOG\nMUX\n3882-1 BDISENSE1±INTERNAL\nTEMPERATUREPWM1\nVINSNSBIAS AND\nHOUSEKEEPING3.3V\nREGULATOR2.5V\nREGULATORMCU AND\nCUSTOM\nLOGIC\nTSNS1VSENSE1±\nISENSE1±\nIAVG1\nTSNS0PWM0\nVSENSE0±\nISENSE0±VINSNSVDD33VCCPLL SYNCR_CONFIG\nSHARE_CLK\nPMBusRAMROM\nEEPROM\nVOL TAGE\nREFERENCEVREF\n12-BIT\nDAC\nINTERNAL DATA BUSPWM0VINSNS\nISENSE0±\nVSENSE0±IAVG0\nIAVG_GND12-BIT\nDAC\nPGOOD0\nPWM0\nPWM1\nPGOOD1\nLTC3882-116\nRev B For more information www.analog.comTEST CIRCUIT\nTIMING DIAGRAM\nOPERATIONSDA\nSCL\ntHD(STA)\ntHD(DAT)tSU(STA) tSU(STO)tSU(DAT)\ntLOWtHD(SDA) tSPtBUF\nSTART\nCONDITIONSTOP\nCONDITIONREPEATED START\nCONDITIONSTART\nCONDITIONtr\ntftr tf\ntHIGH 38821 TD(Channel 0 Example)\n1 35 36 40–+ DIGITALL TC3882-1\nCOMP0 FB0 VSENSE0+VR\nVSENSE0–1.024V\n1V12-BIT\nD/A+–L TC1055\nTARGET = VOUT_COMMANDEA\n38821 TC\nOverview\nThe L TC3882-1 is a dual channel/dual phase, constant \nfrequency analog voltage mode controller for DC/DC step-down applications. It features a PMBus compliant digital interface for monitoring and control of important power system parameters. The chip operates from an IC power supply between 3V and 13.2V and is intended for conversion from V\nIN between 3V and 38V to output voltages between \n0.5V and 5.25V . It is designed to be used in a switching architecture with external FET drivers, including higher level integrations such as non-isolated power blocks. Major features include:\n•\n Digitally Programmable Output V\noltage\n•\n Digitally Programmable Output Current Limit\n•\n Digitally Programmable Input V\noltage Supervisor\n•\n Digitally Programmable Output V\noltage Supervisors\n• Digitally Programmable Switching Frequency\n•\n Digitally Programmable On and Off Delay T\nimes\n•\n Digitally Programmable Soft-Start/Stop\nLTC3882-117\nRev B For more information www.analog.comOPERATION\n• Operating Condition T elemetry\n•\n P\nhase Locked Loop for Synchronous PolyPhase Opera -\ntion (2, 3, 4, 6, or 8 phases)\n•\n Fully Differential Load Sense\n•\n Non-V\nolatile Configuration Memory with ECC\n•\n Optional External Configuration Resistors for Key Op -\nerating Parameters\n•\n Optional T\nime-Base Interconnect for Synchronization \nBetween Multiple Controllers\n•\n Fault Event Data Logging\n•\n Capable of Standalone Operation with Default Factor\ny \nConfiguration\n•\n PMBus \nRevision 1.2 Compliant Interface up to 400kHz\nThe PMBus interface provides access to important power \nmanagement data during system operation including:\n•\n Average Input V\noltage\n•\n Average Output V\noltages\n•\n Average Output Currents\n•\n Average P\nWM Duty Cycles\n•\n Internal L\nTC3882-1 Temperature\n•\n External Sensed T\nemperatures\n•\n W\narning and Fault Status, Including Input and Output \nUndervoltage and Overvoltage\nThe L TC3882-1 supports four serial bus addressing \nschemes to access the individual PWM channels separately or jointly.\nFault communication, reporting and system response \nbehavior are fully configurable. T wo fault I/Os are pro -\nvided (FAUL T0, F\n AUL T1) that can be controlled indepen -\ndently. A separate ALERT pin also provides for a maskable SMBALER\nT#. Fault responses for each channel may be \nindividually programmed, depending on the fault type. PMBus status commands allow fault reporting over the serial bus to identify a specific fault event.Main Control Loop\nThe L TC3882-1 utilizes constant frequency voltage mode \ncontrol with leading-edge modulation. This provides improved response to a load step increase, especially at larger V\nIN/VOUT ratios found in the low voltage, high cur -\nrent solutions demanded by modern digital subsystems. The L\nTC3882-1 leading-edge modulation architecture \ndoes not have a minimum on-time requirement. Minimum duty cycle will be determined by performance limits of the external power stage. The IC is also capable of active voltage positioning (AVP) to afford the smallest output capacitors possible for a given output voltage accuracy over the anticipated full load range. The L TC3882-1 error amplifiers have high bandwidth, low offset and low out -\nput impedance, allowing the control loop compensation network to be optimized for ver\ny high crossover frequen -\ncies and excellent transient response. The controller also achieves outstanding line transient response by using input feedfor\nward compensation to instantaneously adjust \nPWM duty cycle and significantly reduce output under/overshoot during supply voltage changes. This also has the added advantage of making the DC loop gain independent of input voltage.\nThe main PWM control loop used for each channel is \nillustrated in Figure 1. During normal operation the top MOSFET (power switch) driving choke L1 is commanded off when the clock for that channel resets the RS latch. The power switch is commanded back on when the main PWM comparator VC, sets the RS latch. The error ampli -\nfier EA output (COMP) controls the PWM duty cycle to match the FB voltage to the EA positive terminal voltage in steady state. A patented cir\ncuit adjusts this output for \nVINSNS line feedforward.\nThe positive terminal of the EA is connected to the output \nof a 12-bit DAC with values ranging from 0V to 1.024V . The DAC value is determined by the resistor configuration pins detailed in application Table 8, by values retrieved from inter -\nnal EEPROM, or by a combination of PMBus commands to synthesize the desired output voltage. \nRefer to the following \nPMBus Command Details section of this document for more information. The L TC3882-1 supports two output ranges. EA can regulate the output voltage to 5.5x the DAC output (Range 0) or 2.75x the DAC output (Range 1).\nLTC3882-118\nRev B For more information www.analog.comOPERATION\nVINSNS\n38821 F01L TC3882-1\nIAVG0\nVSENSE0+38ISENSE0+\n5IAVG_GND\n40FB0\n1COMP0(RANGE 0)\n35VSENSE0–37ISENSE0–PWM0\n9R\nLOOP \nCOMPENSATION NETWORK\n2RRSVIN\nVOC0\nCSL1\nCOUTVOUT–+MODE\n36IOUT_OC_FAUL T_LIMIT\nVREV\nEAVC+–CA+–SGATE\nDRIVERPWM\nLOGICOSCILLATOR\nRAMPCLOCKQ\n0VR\nS\nMASTER\nENABLESLAVE\nENABLE39\nSLAVE\nDETECTFEED\nFORWARDILIM\nIREV\n4\n+\nVSP0VOUT_COMMAND 12-BIT DAC8-BIT DAC\nVOV0\nOV\nUVVOUT_OV_FAUL T_LIMIT 9-BIT DAC\nVUV0VOUT_UV_FAUL T_LIMIT 9-BIT DAC7\nFigure 1. L TC3882-1 PWM Control Loop Diagram\nLTC3882-119\nRev B For more information www.analog.comVC discriminates its positive input against an internally \ngenerated PWM voltage ramp. The positive input is a com -\nposite control based on COMP voltage with line feedforward compensation, and current sharing if the channel controls a slave phase. When the ramp falls below this voltage the comparator trips and sets the P\nWM latch.\nIf load current increases, V SENSE+ and FB will droop \nslightly with respect to the 12-bit DAC output. This causes the COMP voltage to increase until the average inductor current matches the new load current and the desired output voltage is restored. Programmable comparators I\nLIM and I REV monitor peak instantaneous forward and \nreverse inductor current for pulse-by-pulse protection. The top power MOSFET is immediately commanded off if the programmed positive limit is reached, and the bottom MOSFET is immediately commanded off if the negative limit is reached. Repeated peak overcurrent events cause an overcurrent fault to be set.\nWhen the top MOSFET is commanded off, the bottom \nMOSFET is normally commanded on. In continuous con -\nduction mode (CCM) the bottom MOSFET stays on until comparator VC turns the top MOSFET back on. Other\nwise \nin discontinuous conduction mode (DCM, also known as diode emulation) the bottom MOSFET is commanded off if the I\nREV comparator detects that the inductor current \nhas decayed to approximately 0A. In any case the next PWM cycle starts when the clock for that channel again clears the RS latch.\nPower-Up and Initialization\nThe L TC3882-1 is designed to provide stand-alone supply \nsequencing with controlled turn-on and turn-off functions. It operates from a single IC input supply of 3V to 13.2V while two on-chip linear regulators generate internal 2.5V and 3.3V . If V\nCC is below 4.5V , the V CC and V DD33 \npins must be shorted together and limited to a maximum operating voltage of 3.6V . Controller configuration is reset by the internal UVLO threshold, where V\nDD33 must \nbe at or above 3V and the internal 2.5V supply must be within about 20% of its regulated value. At that point the internal microcontroller begins initialization. A PMBus RESTORE_USER_ALL or MFR_RESET command forces this same initialization.The L TC3882-1 features an internal RAM built-in self-test (BIST) that runs during initialization. Should RAM BIST fail, the following steps are taken.\n•\n Device responds only at device address 0x7C and global\n \naddresses 0x5A and 0x5B\n•\n A persistent Memor\ny Fault Detected is indicated by \nSTATUS_CML\n•\n Internal EEPROM is not accessed\n•\n \nRUNn and SHARE_CLK are driven low continuously\nNormal operation can be restored if the RAM BIST sub -\nsequently passes, for instance as the result of another \nMFR_RESET command issued to address 0x7C.\nDuring \ninitialization all PWM outputs are disabled. The \nRUNn pins and SHARE_CLK are held low and FAUL Tn \npins are high impedance. External configuration resistors are identified and the contents of the onboard EEPROM are read into the controller command memory space. The L TC3882-1 can determine key operating parameters from external configuration resistors according to application Table 8 through Table 11. See the following Resistor Configuration Pins section for more detail. The resistor configuration pins only determine some of the preset values of the controller . The remaining values, retrieved from internal EEPROM, are programmed at the factory or with PMBus commands.\nIf the configuration resistor pins are all open, the L TC3882-1 \nwill use only EEPROM contents to determine all operating parameters. If Ignore Resistor Configuration Pins is set (bit 6 of MFR_CONFIG_ALL_L TC3882-1), the L TC3882-1 will use only its EEPROM contents to determine all operating parameters except device address. Unless both ASEL pins are completely open, the L TC3882-1 will always determine some portion of its device address from the resistors on these pins. See Serial Bus Addressing later in this section.\nThe internal microcontroller typically requires 35ms to \ncomplete initialization from VDD33 ≥ 3V . At that point, an internal comparator monitors VINSNS, which must exceed the VIN_ON threshold before output power sequencing can begin (SHARE_CLK released, ready for TON_DELAY). Accurate readback telemetry can then require an additional 90ms for initial round-robin A/D conversions.OPERATION\nLTC3882-120\nRev B For more information www.analog.comOPERATION\nSoft-Start\nThe RUN pins are released for external control after the \npart initializes and VINSNS is greater than the VIN_ON threshold. If multiple L TC3882-1 ICs are used in an ap -\nplication, shared RUN pins are held low until all units initialize and VINSNS exceeds the VIN_ON threshold for all \ndevices. A common SHARE_CLK signal can also ensure \nall connected devices use the same time reference for initial start-up even if RUN pins cannot be shared due to other design requirements. SHARE_CLK is not released by each IC until the conditions for power sequencing have been fully satisfied.\nAfter a channel RUN pin rises above 2V and any specified \nturn on delay (TON_DELAY) has expired, the L TC3882-1 performs an initial monotonic soft-start ramp on that chan -\nnel. This is carried out with a digitally controlled ramp of the regulated output voltage from 0V to the commanded\n \nvoltage set point over the programmed TON_RISE period, allowing inrush current control. During the soft-start ramp, the L TC3882-1 does not initiate PWM operation until the commanded output exceeds the actual rail voltage. This allows the regulator to start up into a pre-biased load even when using gate drivers or power blocks that do not support discontinuous operation. The soft-start feature is disabled by setting the value of TON_RISE to any time less than 0.25ms.\nTime-Based Output Sequencing\nThe L TC3882-1 supports time-based on and off output \nsequencing using a shared time reference (SHARE_CLK). Following a valid qualified command to turn on, each output is enabled after waiting its programmed TON_DELAY. This can be used to sequence outputs in a prescribed order that can be preprogrammed as needed without hardware modification. Channel off-sequencing is accomplished in a similar way with the TOFF_DELAY command.\nOutput Ramping Control\nThe L TC3882-1 supports synchronized output on and off \nramping control using a shared time reference (SHARE_CLK). Power rail on and off relationships similar to those of conventional analog tracking functions can be achieved by using programmed delays and TON_RISE and TOFF_FALL times. However , with L TC3882-1 digital control, on and off ramping methods need not be the same, and ramping configurations can be reprogrammed as needed without hardware modification.\nProgrammable fault responses and fault sharing can \nensure that any desired time-based output sequencing and ramping control is properly accomplished each time the system powers up or down. Refer to the Applications Information section for various L TC3882-1 hardware and PMBus command configurations needed to fully support synchronization for time-based sequencing and output ramping when using multiple ICs.\nVoltage-Based Output Sequencing\nIt is also possible to sequence outputs using cascaded \nvoltage events. To do this, the PGOOD status output from one PWM channel can be used to control the RUN pin of a downstream channel. This keeps the downstream channel off unless acceptable output conditions exist on the controlling channel. \nOutput DisableBoth PWM channels are disabled any time VINSNS is below \nthe VIN_OFF threshold. The power stages are immediately shut off to stop the transfer of energy to the load(s) as quickly as possible.\nA PWM channel may also be disabled in response to certain \ninternal fault conditions, an external fault propagated into a FAUL T pin, or loss of SHARE_CLK. In these cases the \npower stage is immediately shut off to stop the transfer of energy to the load as quickly as possible. Refer to the following Fault Detection and Handling section for ad -\nditional details related to fault recovery.\nEach P\nWM channel can be disabled with a PMBus OPERA -\nTION command at any time if enabled by ON_OFF_CONFIG. \nThis will for\nce a controlled turn-off response with defined \ndelay (TOFF_DELAY) and ramp down rate (TOFF_FALL). The controller will maintain the programmed mode of operation for TOFF_FALL. In DCM, the controller will not draw current from the load and fall time will be set by output capacitance and load current.\nLTC3882-121\nRev B For more information www.analog.comOPERATION\nFinally, each PWM channel can be commanded off by \npulling the associated RUN pin low. Pulling the RUN pin low can force the channel to perform a controlled turn off or immediately disable the power stage, depending on the programming of the ON_OFF_CONFIG command.\nMinimum Output Disable Times\nWhen a PMBus OPERATION command is used to turn off \nan L TC3882-1 channel, a minimum output disable time of 120ms is imposed regardless of how quickly the channel is commanded back on. If bit 4 of MFR_CHAN_CONFIG is clear , a PMBus command to turn the channel off also pulses the RUN pin low. Once the RUN pin is pulled low internally or externally, a minimum output disable time (RUN forced low) of TOFF_DELAY + TOFF_FALL + 136ms is enforced. If MFR_RESTART_DELAY is greater than this mandatory minimum, the larger value of MFR_RESTART_DELAY is used. In either case the L TC3882-1 holds its own RUN pin low during the entire disable period. These minimum off times allow a consistent channel restart with coher -\nent monitor ADC values and make the L TC3882-1 highly compatible with other L\nTC PMBus digital power system \nmanagement products.\nOutput Short Cycle\nAn output short cycle condition is created when a mas -\nter channel is commanded back on while waiting for  \nTOFF_DELAY or TOFF_FALL to expire. Any time this \noccurs, the L\nTC3882-1 asserts the Short Cycle bit in \nSTATUS_MFR_SPECIFIC. Device response at that point is governed by bits in MFR_CHAN_CONFIG_L TC3882-1 and SMBALERT_MASK. Refer to the detailed descriptions of those commands for additional details. Generally, the L TC3882-1 should be controlled so that short cycle condi-tions are not created during normal operation.\nLight Load Current Operation\nThe L\nTC3882-1 has two modes of PWM operation: discon-\ntinuous conduction mode (DCM) and forced continuous \nconduction mode (CCM). Mode selection is made with the MFR_P\nWM_MODE command.\nIn DCM, the inductor current is not allowed to reverse. The reverse current comparator I\nREV disables the external \nbottom MOSFET (synchronous rectifier) when the induc-tor current reaches approximately 0A, preventing it from going substantially negative. The external gate driver or power block must have short delays to a high impedance output, relative to the P\nWM cycle, to support DCM.\nEfficiency at light loads in CCM is lower than in DCM. Continuous conduction mode exhibits less interference with audio circuitry but may result in reverse inductor current, for instance at light loads or under large transient conditions.\nSwitching Frequency and Phase\nThere is a high degree of flexibility for setting the PWM \noperating frequency of the L TC3882-1. The switching frequency of the PWM can be established with an in -\nternal oscillator or an external time base. The internal phase-locked loop (PLL) synchronizes P\nWM control to \nthis timing reference with proper phase relation, whether the clock is provided internally or externally. The device can also be configured to provide the master clock to other ICs through PMBus command, EEPROM setting, or external configuration resistors as outlined in applica -\ntion Table 10. For PMbus or EEPROM configuration, the L\nTC3882-1 is designated as a clock master by clearing  \nbit 4 of MFR_CONFIG_ALL_L TC3882-1. As clock master , the L\nTC3882-1 will drive its open-drain SYNC pin at the \nselected rate with a pulse width of 125ns. An external pull-up resistor between SYNC and V\nDD33 is required in \nthis case. Only one device connected to SYNC should be designated to drive the pin. If more than one L TC3882-1 sharing SYNC is programmed as clock master , just one of the devices is automatically elected to provide the clock. The others disable their SYNC outputs and indicate this with bit 10 of MFR_PADS_L TC3882-1.\nThe L TC3882-1 will automatically accept an external SYNC \ninput, disabling is own SYNC drive if necessary, as long as the external clock frequency is greater than 1/2 of the programmed internal oscillator . Whether configured to drive SYNC or not, the L TC3882-1 can continue PWM operation at the selected frequency (FREQUENCY_SWITCH) using its own internal oscillator , if an external clock signal is subsequently lost.\nThe MFR_PWM_CONFIG_L TC3882-1 command can be \nused to configure the phase of each channel. Desired phase \nLTC3882-122\nRev B For more information www.analog.comOPERATION\ncan also be set from EEPROM or external configuration \nresistors as outlined in Table 10. Phase designates the relationship between the falling edge of SYNC and the internal clock edge that resets the PWM latch. That reset  turns off the top power switch, producing a PWM falling edge. Additional small propagation delays to the PWM control pins will apply.\nThe phase relationships and frequency are independent \nof each other , providing numerous application options. Multiple L TC3882-1 ICs can be synchronized to realize a PolyPhase array. In this case the phases should be sepa -\nrated by 360/n degrees, where n is the number of phases driving the output voltage rail.\nPolyPhase Load Sharing\nMultiple L\nTC3882-1 ICs can be combined to provide a bal -\nanced load-share solution by configuring the necessary \npins. The SHARE_CLK and SYNC pins of all load-sharing c\nhannels should be bussed together . Connecting the \nSYNC pins synchronizes the PWM controllers with each other . Bussing the SHARE_CLK pins together allows the phases to start synchronously. Refer to the discussion in the previous Power-Up and Initialization section. The last device to see all start-up conditions satisfied controls the initiation of power sequencing for all phases.\nDue to the low output impedance of the L TC3882-1 error \namplifiers, PolyPhase applications should use the error amplifier of only one phase as the master . The FB pins of each slave channel must be wired to V\nDD33, and the COMP \npins of each slave phase must be connected to the master error amplifier COMP output. This disables the slave error amplifiers and provides a single point of voltage control and loop stabilization for the PolyPhase output rail.\nFor PolyPhase load sharing the L TC3882-1 also incorporates \nan auxiliary current sharing loop. Referring back to Figure 1, the instantaneous current of each slave phase is sensed by current amplifier CA and compared to the I\nAVG pin. The \nIAVG and I AVG_GND  pins of each phase are wired together , \nand a small capacitor (50pF to 200pF) between I AVG and \nIAVG_GND  stores a voltage corresponding to the average \nmaster phase output current. The difference in this aver -\nage and the instantaneous phase current is integrated. The output of integrator S of each slave phase is then proportionally summed with the master error amplifier COMP output to adjust the duty cycle and balance the current contribution of that phase. Additional hardware configuration and digital programming requirements apply\n \nin PolyPhase systems. Refer to the Applications Informa -\ntion section for complete details on building PolyPhase rails with the L\nTC3882-1.\nActive Voltage Positioning\nLoad slope is programmable in the L TC3882-1 via the \nMFR_VOUT_AVP PMBus command. The inductor cur -\nrent measured at the I SENSE  pins is converted to a voltage \nwhich is then subtracted from the voltage reference at the positive input of the error amplifier . The final load slope is defined by the inductor current sense element and the bits set in the MFR_VOUT_AVP PMBus command. Setting MFR_VOUT_AVP to a value greater than 0.0% automatically disables output servo mode for that channel.\nInput Supply Monitoring\nThe input supply voltage is sensed by the L TC3882-1 at the \nVINSNS pin. Undervoltage, overvoltage, valid on and off levels can be programmed for V\nIN. Refer to the following \nPMBus Command Details section for more information on programming the input supply thresholds. In addition, the telemetry ADC monitors the VINSNS voltage relative to GND. Conversion results are returned by the READ_VIN PMBus command.\nOutput Voltage Sensing and Monitoring\nBoth PWM channels allow remote, differential sensing of the \nload voltage with V\nSENSE  pins. The channel 1 output sense \npin V SENSE1– is internally shorted to GND (the exposed \npad). The telemetry ADC is fully differential and makes its measurements of the output voltages of channels 0 and 1 at V\nSENSE0± and V SENSE1±, respectively. Conversion results \nare returned by the READ_VOUT PMBus command.\nOutput Current Sensing and Monitoring\nBoth channels allow differential sensing of the inductor \ncurrent using either the inductor DCR or a resistor in series with the inductor across the I\nSENSE  pins. When the I SENSE  \npins for a channel are multiplexed to the differential inputs \nLTC3882-123\nRev B For more information www.analog.comOPERATION\nof the L TC3882-1 monitor ADC, they have an input range \nof approximately ±128mV and a noise floor of 7μV RMS. \nPeak-peak noise is approximately 46.5μV . The internal ADC anti-aliasing filter and conversion rate produce an average reading of the I\nSENSE  differential voltage. The resulting value \nis returned by the READ_IOUT PMBus command. Refer to the Applications Information section for details on sensing output current using inductor DCR or discrete resistors.\nExternal and Internal Temperature Sense\nExternal temperature can best be measured using a remote, \ndiode-connected PNP transistor such as the MMBT3906. The emitter should be connected to a TSNS pin while the base and collector terminals of the PNP transistor must be shorted together and returned directly to the L TC3882-1 GND pin. T wo different currents are applied to the diode (nominally 2μA and 32μA) and the temperature is calcu -\nlated from a \n∆VBE measurement made with the internal \n16-bit monitor ADC.\nThe L TC3882-1 also supports direct V BE based external \ntemperature measurements. In this case the diode or di -\node network is trimmed to a specific voltage at a specific \ncurrent and temperature. In general this method does not yield as accurate \na result as the \n∆VBE measurement. Refer \nto MFR_PWM_MODE_L TC3882-1 in the PMBus Command Details section for additional information on programming the L TC3882-1 for these two external temperature sense configurations.\nThe calculated temperature is returned by the PMBus \nREAD_TEMPERATURE_1 command. Refer to the Appli -\ncations Information section for details on proper layout of external temperature sense elements and PMBus\n \ncommands that can be used to improve the accuracy of calculated temperatures.\nThe READ_TEMPERATURE_2 command returns the \ninternal junction temperature of the L TC3882-1 using an on-chip diode with a \n∆VBE measurement and calculation.\nResistor Configuration Pins\nSix input pins can be used to configure key operating param -\neters with selected 1% resistors arranged between V DD25 \nand GND as a divider to the pin(s). The pins are ASEL0, ASEL1, V OUT0_CFG , VOUT1_CFG , FREQ_CFG, and PHAS_CFG. \nIf any of these pins are left open the value stored in the \ncorresponding EEPROM command is used. The resistor configuration pins are only measured during power-up and execution of RESTORE_USER_ALL or MFR_RESET commands. If bit 6 of the MFR_CONFIG_ALL_L TC3882-1  \ncommand is set in EEPROM, all resistor inputs except ASEL\nn are ignored. Per the PMBus specification, all pin-\nprogrammed parameters can be overridden at any time by commands from the digital interface.\nThe ASELn  pin settings are described in application \nTable 11. These pins can be used to select the entire \nL TC3882-1 device address. ASEL0 always programs the bottom four bits of the device address for the L TC3882-1 unless left open. ASEL1 can be used to program the three most-significant bits. Either portion of the address can also be retrieved from the MFR_ADDRESS value in EEPROM. If both pins are left open, the full 7-bit MFR_ADDRESS value stored in EEPROM is used to determine the device address. The L TC3882-1 always responds to 7-bit global addresses 0x5A and 0x5B. MFR_ADDRESS should not be set to either of these values.\nThe V\nOUTn_CFG  pin settings are described in application \nTable 8. These pins select the output voltages for the \nrelated channel.\nThe following parameters are also set as a percentage of \nthe programmed V OUT if resistor configuration pins are \nused to determined output voltage:\n•\n VOUT_OV_F\nAUL T_LIMIT :  +10%\n•\n VOUT_OV_W\nARN_LIMIT :  +7.5%\n•\n VOUT_MAX:  +7.5%\n•\n VOUT_MARGIN_HIGH:  +5%\n•\n VOUT_MARGIN_LOW:  –5%\n•\n VOUT_UV_W\nARN_LIMIT :  –6.5%\n•\n VOUT_UV_F\nAUL T_LIMIT :  –7%\nThe FREQ_CFG pin settings are described in application \nTable 9. This pin selects the switching frequency of the internal oscillator and enables the SYNC output if not left open, shorted to GND or ignored by EEPROM setting.\nLTC3882-124\nRev B For more information www.analog.comOPERATION\nThe PHAS_CFG pin settings are described in Table 10. \nThis pin selects the phase relationships between the two channels and the selected clock source.\nInternal EEPROM with CRC and ECC\nThe L TC3882-1 contains internal EEPROM with Error \nCorrecting Coding (ECC) to store user configuration set -\ntings and fault log information. EEPROM endurance and retention for user space and fault log pages are specified in the Absolute Maximum Ratings and Electrical Charac -\nteristics table. \nThe integrity of the entire onboard EEPROM is checked with\n \na CRC calculation each time its data is to be read, such as \nafter a power-on reset or execution of a RESTORE_USER_ALL command. If a CRC error occurs, the CML bit is set in the STATUS_BYTE and STATUS_WORD commands, the EEPROM CRC Error bit in the STATUS_MFR_SPECIFIC command is set, and the ALERT and RUN pins pulled \nlow (PWM channels off). At that point the device will only respond at special address 0x7C, which is activated only after an invalid CRC has been detected. The chip will also respond at the global addresses 0x5A and 0x5B, but use of these addresses when attempting to recover from a CRC issue is not recommended. All power supply rails associated with either PWM channel of a device reporting an invalid CRC should remain disabled until the issue is resolved.\nL TC recommends that the EEPROM not be written when \ndie temperature is greater than 85°C. If internal die tem -\nperature exceeds 130°C, all EEPROM operations except RESTORE_USER_ALL and MFR_RESET are disabled. Full EEPROM operation is not re-enabled until die temperature falls below 125°C. Refer to the Applications Information section for equations to predict retention degradation due to elevated operating temperatures.\nSee the Applications Information section or contact the \nfactor\ny for details on efficient in-system EEPROM program -\nming, including bulk EEPROM programming, which the L\nTC3882-1 also supports.Fault Detection\nA variety of fault and warning detection, reporting and \nhandling mechanisms are provided by the L TC3882-1. Fault or warning detection capabilities include:\n•\n Input Under/Over\nvoltage\n•\n Output Under/Over\nvoltage\n•\n Output Over\ncurrent (Peak and Average)\n•\n Internal and External Overtemperature and External \nUndertemperature\n•\n CML Fault (Communication, Memor\ny, or Logic)\n•\n External Fault Detection via Bidirectional \nFAUL T Pins\nReporting is covered in following sections on status com -\nmands (registers) and ALERT pin function. Fault handling mechanisms \ninclude hardwired, low-level PWM safety \nresponses that always occur , and higher-level program -\nmable event management. Both types are covered in the following sections.\nInput Supply Faults\nInput under\nvoltage and overvoltage limits are determined \nfrom multiplexed monitor ADC conversions. Therefore the \ninput UV/OV response is naturally deglitched by the 90ms typical conversion cycle of the ADC. There is no hardwired low-level PWM response for any input supply fault.\nHardwired PWM Response to V\nOUT Faults\nVOUT undervoltage (UV) and overvoltage (OV) faults are \ndetected by supervisor comparators. The OV and UV fault \nlimits can be set in three ways:\n•\n As a Per\ncentage of V OUT if Using the Resistor Configu -\nration Pins\n•\n From Stored EEPROM V\nalues\n•\n By PMBus Command\nThe output over\nvoltage comparator guards against transient \novershoots as well as long term overvoltages at the output. \nWhen an output OV fault is detected the top MOSFET for that channel is commanded off and the bottom MOSFET is commanded on until the overvoltage condition is cleared \nLTC3882-125\nRev B For more information www.analog.comOPERATION\nor for PWM control protocol 0, reverse overcurrent is \ndetected. See I OUT faults below.\nUV faults and warnings are masked if the channel has been commanded off or until all of the following criteria are achieved.\n•\n TON_DELA\nY Has Expired\n•\n TON_RISE Ramp Has Completed\n•\n TON_MAX_F\nAUL T_LIMIT Has Been Reached\n•\n IOUT_OC_F\nAUL T_LIMIT Has Not Been Reached\n•\n TOFF_F\nALL Is Not in Progress\nOutput UV warnings are determined from multiplexed \nmonitor ADC conversions. The L TC3882-1 has no hard -\nwired PWM response for output UV faults or warnings.\nPower Good Indication (Master)\nAn L\nTC3882-1 master phase indicates Power Good on its \nPGOOD pin and in PMBus commands STATUS_WORD \n(paged) and MFR_PADS_L TC3882-1 based on pro -\ngrammed UV and OV fault limits. Power Good is indicated on a master phase as long as it is enabled to run and V\nOUT \nis between the UV and OV fault limits. If a master chan -\nnel is off for any reason, its PGOOD pin is driven low and Power Not Good is indicated in the status commands.\nPower Good Indication (Slave)\nAs long as they are enabled, slave phases indicate Power \nGood on PGOOD and in PMBus status commands, unless a master error amplifier (EA) fault is detected. An EA fault indicates the bussed COMP voltage appears to be too high.\nWhen a slave detects an EA fault, its output is immedi -\ndately disabled and OV is indicated (see Figure 2). Any \nvalid higher\n-level OV fault response and propagation may \nbe set for a slave channel to handle a detected EA fault. If the OV fault response is set to ignore, the slave output is re-enabled when the EA/COMP condition clears.\nA slave indicates Power Not Good with PMBus status com -\nmands during an EA fault, but its PGOOD pin remains high \nimpedance. If a slave phase is off for any other reason, its PGOOD pin is also driven low\n.Hardwired PWM Response to I OUT Faults\nThe L TC3882-1 measures average I OUT from the voltage \nacross the I SENSE  pins, taking into account the sense resistor \nor DCR value and its associated temperature coefficient. Both are provided by PMBus command or EEPROM values.\nAn output overcurrent (OC) fault condition is detected by \na supervisor comparator for each PWM output when the sensed instantaneous current for that channel reaches its maximum allowed value. Refer to the IOUT_OC_FAUL T_LIMIT PMBus command for details. When an OC fault is detected the controller immediately disables the top FET , and the bottom FET is normally commanded on \nfor the remainder of that PWM cycle.\nIf programmed to operate in CCM, the L TC3882-1 also \nuses the negative of IOUT_OC_FAUL T_LIMIT to detect a reverse overcurrent (ROC) fault. When an ROC fault occurs the controller immediately disables both top and bottom FETs, unless PWM output protocol 1 is selected with MFR_PWM_MODE_L TC3882-1.\nOC and ROC faults are both handled according to the \nIOUT_OC_FAUL T_RESPONSE for that channel. Either hardware response can result in current-limited operation using pulse truncation or skipping. Because the L TC3882-1 uses leading edge modulation, this will cause a shift in average phase toward 0° on the faulted channel and an  increase in input ripple current\nOutput OC warnings are determined from multiplexed \nmonitor ADC conversions. The L TC3882-1 has no hardwired PWM response if an output OC warning occurs.\nHardwired PWM Response to Temperature Faults\nAn internal temperature sensor measured by the moni -\ntor ADC protects against EEPROM and other IC damage. \nWhen die temperature rises above 130°C, the L\nTC3882-1 \nwill NACK any EEPROM-related command except RE -\nSTORE_USER_ALL and MFR_RESET and issue a CML fault for Invalid/Unsupported Command. Normal EEPROM\n \naccess is re-enabled when die temperature drops below 125°C. Above 160°C, the part shuts down all PWM outputs until die temperature is below 150°C. Internal temperature fault limits cannot be adjusted. Writing to the EEPROM above a die temperature of 85°C is strongly discouraged. \nLTC3882-126\nRev B For more information www.analog.comOPERATION\nRefer to the Absolute Maximum Ratings for other important \ntemperature limitations on internal EEPROM use.\nExternal temperature sensors may also be monitored by \nthe onboard ADC. There is no hardwired PWM response for sensed external temperature faults or warnings.\nHardwired PWM Response to Timing Faults\nThere is no hardwired PWM response to any timing faults.TON_MAX_FAUL T_LIMIT is the time allowed for V\nOUT to \nrise and settle at start-up. The TON_MAX_FAUL T_LIMIT \ntimer , which has a resolution of 10µs, is started after TON_DELAY has been reached and a soft-start sequence is started. If the VOUT_UV_FAUL T_LIMIT is not reached or an OC remains within the specified time, fault response is determined by the value of TON_MAX_FAUL T_RESPONSE.\nAn internal watchdog detects if SHARE_CLK remains \nlow for more than 64µs. The part then actively holds SHARE_CLK low for 120ms, ensuring all devices connected to this shared control observe a minimum RETRY_DELAY event.The L TC3882-1 sets the SHARE_CLK_LOW bit in MFR_COMMON to indicate this fault condition.\nExternal Faults\nThere are no hardware-level responses to any external \nfaults propagated into the IC through the FAUL Tn pins.\nFault Handling\nHigher-level input and output fault event handling (response) \ncan be programmed as described in the following PMBus Command Details section. For most faults, the L TC3882-1 can manage response in one of three ways: ignore, autono -\nmous recovery (hiccup), or latch off. The device takes no additional action beyond previously discussed hardware-level responses when programmed to ignore a fault.\nFor autonomous recover\ny a new soft-start is attempted if \nthe fault condition is not present after the MFR_RETRY_\nDELAY interval has elapsed. MFR_RETRY_DELAY can be set from 120ms to 83 seconds in 1ms increments. If the fault persists, the controller will continue to retry with an interval specified by the MFR_RETRY_DELAY command. This avoids damage to external regulator components caused by repetitive, rapid power cycling.No retry is attempted for a latch off fault response. In the latch off state the gate drivers for the external MOSFETs are immediately disabled to stop the transfer of energy to the load as quickly as possible. The output remains disabled until the channel is commanded off and then on, or IC supply power is cycled. Commanding a PWM channel off and on may require software and/or hardware intervention depending on its programmed configuration.\nThe RUN pin must be released by any controlling external \napplication circuits for that channel to restart from the latch off state. As the RUN pin for a given channel rises, associ -\nated internal fault indications are cleared automatically. The L\nTC3882-1 can also be programmed to clear faults for both \noutputs based solely on the RUN voltage of just one chan -\nnel. See the MFR_CONFIG_ALL_L TC3882-1 command. The CLEAR_F\nAUL TS PMBus command can also be used to clear \nall fault bits at any time, independent of PWM channel state.\nHandling of some internally generated faults can be digitally \ndeglitched. See Table 12. External faults propagated into the chip using FAUL Tn pins are not deglitched. Refer to \nthe following section on FAUL T functions.\nStatus Registers and ALERT Masking\nFigure 2 summarizes the internal L TC3882-1 status reg -\nisters accessible by PMBus command. These contain \nindication of various faults, warnings and other important operating conditions. As shown, the ST\nATUS_BYTE and \nSTATUS_WORD commands also summarize contents of other status registers. Refer to PMBus Command Details for specific information.\nNONE OF THE ABOVE in STATUS_BYTE indicates that \none or more of the bits in the most-significant nibble of STATUS_WORD are also set.\nIn general, any asserted bit in a STATUS_x register also \npulls the ALERT pin low. Once set, ALERT will remain low until one of the following occurs.\n•\n A CLEAR_F\nAUL TS, RESTORE_USER_ALL or MFR_RE -\nSET Command Is Issued\n•\n The Related Status Bit Is Written to a One\n•\n The Faulted Channel Is Properly Commanded Off and \nBack On\nLTC3882-127\nRev B For more information www.analog.comFigure 2. L TC3882-1 Status Register Summary(PAGED)MFR_PADS_L TC3882-1\n15\n1413121110\n9876543210Channel 1 is SlaveChannel 0 is Slave(reads 0)(reads 0)Invalid ADC Result(s)SYNC Output Disabled ExternallyChannel 1 is POWER_GOODChannel 0 is POWER_GOODL TC3882-1 Forcing RUN1 LowL TC3882-1 Forcing RUN0 LowRUN1 Pin StateRUN0 Pin StateL TC3882-1 Forcing FAUL T1 LowL TC3882-1 Forcing FAUL T0 LowFAUL T1 Pin StateFAUL T0 Pin StateSTATUS_MFR_SPECIFIC\n76543210\n(PAGED)\n38821 F02STATUS_INPUT\n76543210STATUS_WORD\nSTATUS_BYTE\n76543210\n(PAGED)\nMFR_COMMON\n76543210Chip Not Driving ALERT LowChip Not BusyInternal Calculations Not PendingOutput Not In T ransitionEEPROM Initialized(reads 0)SHARE_CLK_LOWWP Pin High\nSTATUS_TEMPERATURE\n76543210\nSTATUS_CML\n76543210\n*IF THE CHANNEL IS CONFIGURED AS A SLAVE AS INDICATED BY MFR_PADS_L TC3882-1[15:14], VOUT_OV FAUL T INDICATES A DETECTED MASTER ERROR \nAMPLIFIER FAUL T (COMP VOL TAGE TOO HIGH). NO OTHER BITS IN STATUS_VOUT ARE ACTIVE ON SLAVE CHANNELSSTATUS_VOUT*\n76543210\n(PAGED)\nSTATUS_IOUT\n76543210\n(PAGED)\nMASKABLE DESCRIPTION\nGeneral Fault or Warning EventGeneral Non-Maskable EventDynamicStatus Derived from Other BitsYes\nNoNoNo GENERATES ALERT\nYesYes\nNo\nNot DirectlyBIT CLEARABLE\nYesYes\nNoNoVOUT_OV FaultVOUT_OV WarningVOUT_UV WarningVOUT_UV FaultVOUT_MAX WarningTON_MAX FaultTOFF_MAX Warning(reads 0)\nIOUT_OC Fault(reads 0)IOUT_OC Warning(reads 0)(reads 0)(reads 0)(reads 0)(reads 0)\nOT FaultOT Warning(reads 0)UT Fault(reads 0)(reads 0)(reads 0)(reads 0)\nInvalid/Unsupported CommandInvalid/Unsupported DataPacket Error Check FailedMemory Fault DetectedProcessor Fault Detected(reads 0)Other Communication FaultOther Memory or Logic FaultInternal Temperature FaultInternal Temperature WarningEEPROM CRC ErrorInternal PLL UnlockedFault Log Present(reads 0)VOUT Short CycledFAUL T LowVIN_OV Fault(reads 0)VIN_UV Warning(reads 0)Unit Off for Insuffcient VIN(reads 0)(reads 0)(reads 0)151413121110\n98VOUTIOUTINPUTMFR_SPECIFICPOWER_GOOD#(reads 0)(reads 0)(reads 0)\nBUSYOFFVOUT_OVIOUT_OC(reads 0)TEMPERATURECMLNONE OF THE ABOVE\nMFR_INFO\n151413121110\n9876543210ReservedReservedReservedReservedReservedReservedReservedReservedReservedReservedReservedEEPROM ECC StatusReservedReservedReservedReservedOPERATION\nLTC3882-128\nRev B For more information www.analog.comOPERATION\n• The L TC3882-1 Successfully T ransmits Its Address \nDuring a PMBus Alert Response Address (ARA)\n•\n IC Supply Power Is Cycled\nWith some exceptions, the SMBALER\nT_MASK command \ncan be used to prevent the L TC3882-1 from asserting \nALERT for bits in these registers on a bit-by-bit basis. These mask settings are promoted to STATUS_WORD and STATUS_BYTE in the same fashion as the status bits themselves. For example, if ALERT is masked for all bits in Channel 0 STATUS_VOUT , then ALERT is effectively masked for the VOUT bit in STATUS_WORD for PAGE 0.\nThe BUSY bit in STATUS_BYTE also asserts ALERT low \nand cannot be masked. This bit can be set as a result of interaction between internal operation and PMBus com -\nmunication. This fault occurs when a command is received that cannot be safely executed with one or both channels enabled. As discussed in Application Information, BUSY faults \ncan be avoided by polling MFR_COMMON before \nexecuting some commands.\nStatus information contained in MFR_COMMON and \nMFR_PADS_L TC3882-1 can be used to clarify the con -\ntents of STATUS_BYTE or STATUS_WORD as shown, but the contents of these registers do not affect the state of the \nALERT pin and may not directly influence bits in \nSTATUS_BYTE or STATUS_WORD.\nFAULT Pin I/O\nThe L TC3882-1 can map various fault indicators to their \nrespective FAUL T pin using the MFR_FAUL T_PROPA -\nGATE_L TC3882-1 command.\nChannel-to-channel fault dependencies and communica -\ntion can be created by connecting FAUL T pins together . In \nthe event of an internal fault, one or more of the channels is \nconfigured to pull the bussed FAUL T pins low. All chan -\nnels are then configured to shut down when the bussed F\nAUL T pins are pulled low (MFR_FAUL T_RESPONSE set \nto 0xc0). If latch off is the programmed response on the faulted channel, the FAUL T pin remains low until one of the following occurs:\n•\n A CLEAR_F\nAUL TS, RESTORE_USER_ALL or MFR_RE -\nSET Command Is Issued\n•\n The Related Status Bit Is Written to a One• The Faulted Channel Is Properly Commanded Off and \nBack On\n•\n IC Supply Power Is Cycled\nFor autonomous group retr\ny, the faulted channel is con -\nfigured to release the FAUL T pin(s) after a retry interval, assuming the original fault has cleared. All the channels in the group then begin a soft-start sequence.\nAs noted above, \nFAUL T pins may be configured as inputs \nto detect faults external to the controller that require an \nimmediate response. External faults propagated into the chip using FAUL T pins are not deglitched.\nRefer to the MFR_FAUL T_PROPAGATE command for ad -\nditional details.\nFault Logging\nThe \nL TC3882-1 features a fault log, providing telemetry \nrecording capability. During normal operation log data is \ncontinuously updated in internal RAM. When a fault occurs that disables either PWM controller , recording to internal memory is halted, the fault log information is made avail -\nable from RAM via the MFR_FAUL T_LOG command, and the contents of the RAM log are copied into EEPROM. Refer to the Fault Log Operation section for more detail.\nEEPROM fault logging \nis allowed above a die temperature \nof 85°C, but 10 years of retention is not guaranteed. When \ndie temperature exceeds 130°C EEPROM fault logging is delayed until the temperature drops below 125°C. Faults generating a log should be fully cleared before the log is erased to prevent generation of spurious fault logs. Faults propagated into the IC through FAUL Tn pins do not trigger a fault logging event.\nWhen the L TC3882-1 powers up it checks the EEPROM \nfor a valid fault log. If one is found the Valid Fault Log bit in the STATUS_MFR_SPECIFIC PMBus command is set. Additional fault logging will be disabled until the L TC3882-1 receives a CLEAR_FAUL TS command. If the Memory Fault Detected bit is also set in STATUS_CML, then the stored fault log is partial. Data in one or more event records may be incomplete or incorrect and MFR_FAUL T_LOG_CLEAR should also be commanded after all faults are cleared in order to fully enable additional logging functions.\nLTC3882-129\nRev B For more information www.analog.comOPERATION\nTable 1. L TC3882-1 Fault Log Contents\nRECORD TYPESTARTING \nBYTEENDING \nBYTE COMMENTS\nHeader Information 0 26 See Table 2.\nFault Event Record 27 46 Fault may have occurred \nanywhere during this event \nrecord. See byte 4 of Table 2 and all of Table 3 and Table 4.\nEvent Record N-1 47 66 Last complete cyclical data \nread before the fault was detected.\nEvent Record N-2 67 86 Older data record.\nEvent Record N-3 87 106Event Record N-4 107 126Event Record N-5 127 146 Oldest recorded data.\nTable 2. Fault Log Header Information\nRECORD BITS FORMATBLOCK \nBYTE \nCOUNT DETAILS\nFault Log Preface [7:0] ASC 0 Returns L Txx beginning at byte 0 if a partial or complete fault log exists. Word xx is \na factory identifier that may vary part to part.[7:0] 1\n[15:8] Reg 2\n[7:0] 3\nFault Source [7:0] Reg 4 Refer to Table 3.\nMFR_REAL_TIME [7:0] Reg 5 48 bit share-clock counter value when fault occurred (200µs resolution).\n[15:8] 6\n[23:16] 7\n[31:24] 8\n[39:32] 9\n[47:40] 10\nMFR_VOUT_PEAK (PAGE 0) [15:8] L16 11 Peak READ_VOUT on Channel 0 since last power-on or CLEAR_PEAKS command.\n[7:0] 12\nMFR_VOUT_PEAK (PAGE 1) [15:8] L16 13 Peak READ_VOUT on Channel 1 since last power-on or CLEAR_PEAKS command.\n[7:0] 14\nMFR_IOUT_PEAK (PAGE 0) [15:8] L11 15 Peak READ_IOUT on Channel 0 since last power-on or CLEAR_PEAKS command.\n[7:0] 16\nMFR_IOUT_PEAK (PAGE 1) [15:8] L11 17 Peak READ_IOUT on Channel 1 since last power-on or CLEAR_PEAKS command.\n[7:0] 18\nMFR_VIN_PEAK [15:8] L11 19 Peak READ_VIN since last power-on or CLEAR_PEAKS command.\n[7:0] 20\nREAD_TEMPERATURE1 (PAGE 0) [15:8] L11 21 External temperature sensor 0 during last event.\n[7:0] 22\nREAD_TEMPERATURE1 (PAGE 1) [15:8] L11 23 External temperature sensor 1 during last event.\n[7:0] 24\nREAD_TEMPERATURE2 [15:8] L11 25 Internal temperature sensor during last event.\n[7:0] 26The MFR_FAUL T_LOG command uses a block read protocol \nwith a fixed length of 147 bytes. The L TC3882-1 returns a block byte count of zero if a fault log is not present.\nContents of a fault log are shown in Table 1 through Table \n4. Refer to Table 6 for an explanation of data formats. Each event record represents one complete conversion cycle through all multiplexed monitor ADC inputs and related status. The six most recent event records are maintained in internal memory in reverse chronological order unless the part is reset. Then the four most recent events are maintained in EEPROM. When a fault log is created the present ADC input cycle is completed and the ADC input being converted at the time of the fault is noted in the log header record. \nLTC3882-130\nRev B For more information www.analog.comOPERATION\nTable 3. Fault Source Values\nFAUL T SOURCE VALUE CAUSE OF FAUL T LOG CHANNEL\n0x00 TON_MAX 0\n0x01 VOUT_OV\n0x02 VOUT_UV\n0x03 IOUT_OC\n0x05 Over temperature\n0x06 Under temperature\n0x07 VIN_OV\n0x0A Internal temperature\n0x10 TON_MAX 1\n0x11 VOUT_OV\n0x12 VOUT_UV\n0x13 IOUT_OC\n0x15 Over temperature\n0x16 Under temperature\n0x17 VIN_OV\n0x1A Internal temperature\n0xFF MFR_FAUL T_LOG_STORE\nTable 4. Fault Log Event Record\nDATA BITS FORMAT RECORD BYTE INDEX\nREAD_VOUT (PAGE 0) [15:8] L16 0\n[7:0] 1\nREAD_VOUT (PAGE 1) [15:8] L16 2\n[7:0] 3\nREAD_IOUT (PAGE 0) [15:8] L11 4\n[7:0] 5\nREAD_IOUT (PAGE 1) [15:8] L11 6\n[7:0] 7\nREAD_VIN [15:8] L11 8\n[7:0] 9\n(Not used) [15:8] L11 10\n[7:0] 11\nSTATUS_VOUT (PAGE 0) [7:0] Reg 12\nSTATUS_VOUT (PAGE 1) [7:0] Reg 13\nSTATUS_WORD (PAGE 0) [15:8] Reg 14\n[7:0] 15\nSTATUS_WORD (PAGE 1) [15:8] Reg 16\n[7:0] 17\nSTATUS_MFR_SPECIFIC (PAGE 0) [7:0] Reg 18\nSTATUS_MFR_SPECIFIC (PAGE 1) [7:0] Reg 19\nLTC3882-131\nRev B For more information www.analog.comOPERATION\nFactory Default Operation\nThe L TC3882-1 ships from the factory with a default con -\nfiguration stored in its non-volatile memory, unless custom \nprogramming has been requested. These command values\n \nare loaded into volatile RAM when the chip is initialized. Prior to receiving any PMBus commands, a stock L TC3882-1 will operate in the factory default mode. If a STORE_USER_ ALL command is executed, the contents of the non-volatile memory are replaced with active command values from internal RAM, and that will permanently overwrite the factory defaults. Table 5 summarizes the default factory operation settings of the L TC3882-1 if all resistor configuration pins are left open. These defaults allow parameters listed in bold text in the table to be overridden with configuration resistor programming. Warning limits are given in Table 5 because exceeding them will cause the ALERT pin to be asserted even \nif the PMBus interface is not being utilized.\nTable 5. Factory Default Operation Summary\nPARAMETER* DEFAUL T SETTING UNITS\nPMBus Address All writes enabled to Channel 0 at address 0x4F (no PEC). –\nOperation OPERATION enabled with RUN pin control and soft-off. –\nInput Voltage OFF Threshold 6.0 V\nInput Voltage UV Warning Limit 6.3 V\nInput Voltage ON Threshold 6.5 V\nInput Voltage OV Fault Limit 15.5 V\nInput Voltage OV Fault Response Latch off. –\nSoft-Start Time 8 (with no delay). ms\nMaximum Start-Up Time (TMAX) 10 ms\nTMAX Fault Response Retry every 350ms. –\nOutput Voltage UV Fault/Warning Limits 0.900/0.925 V\nOutput Voltage UV Fault Response Retry every 350ms. –\nOutput Voltage 1.000 V\nActive Voltage Positioning Disabled. –\nOutput Voltage OV Warning/Fault Limits 1.075/1.100 V\nOutput Voltage OV Fault Response Retry every 350ms. –\nShut Down 8ms soft-off. –\nOutput Current Sense Element 0.63mΩ with 3930ppm/°C TC. –\nOutput Current OC Warning/Fault Limits 20/29.75 A\nOutput Current OC Fault Response Ignore –\nPWM Switching Mode Continuous inductor current only. –\nPWM Control Protocol Three-State PWM. –\nPWM Switching Frequency 500 kHz\nChannel 0/1 Phase 0/180 Degrees\nInternal Overtemperature Warning/Fault Limits 130/160 °C\nInternal Overtemperature Responses Warning: EEPROM disabled; Fault: PWM disabled. –\nExternal Undertemperature Fault Limit –40 °C\nExternal Undertemperature Fault Response Retry every 350ms. –\nExternal Overtemperature Warning/Fault Limits 85/100 °C\nExternal Overtemperature Fault Response Retry every 350ms. –\nFAUL T Asserts low for the following faults: V OUT UV or OV , V IN OV , external or internal OT , \nexternal UT , TON_MAX, or output short cycle.–\nALERT Masking ALERTs are masked for loss of PLL lock and external FAUL T inputs. –\n*bold entries can be changed with external configuration resistors\nLTC3882-132\nRev B For more information www.analog.comOPERATION\nSerial Interface\nThe L TC3882-1 has a PMBus compliant serial interface that \ncan operate at any frequency between 10kHz and 400kHz. The L TC3882-1 is a bus slave device that communicates bidirectionally with a host (master) using standard PMBus protocols. The Timing Diagram found earlier in this docu -\nment, along with related Electrical Characteristics table entries, define the timing relationships of the SDA and SCL bus signals. SDA and SCL must be high when the bus is not in use. External pull-up resistors or current sour\nces \nare required on these lines.\nPMBus, an incremental extension of the SMBus standard, \noffers more robust operation than a 2-wire I2C interface. In \naddition to adding a protocol layer to improve interoper -\nability and facilitate reuse, PMBus supports bus timeout recover\ny for system reliability, optional packet error check -\ning to ensure data integrity, and peripheral hardware alerts for system fault management. In general, a programmable device \ncapable of functioning as an I2C bus master can be \nconfigured for PMBus management with little or no change to hardware. However , not all I\n2C controllers support repeat \nstart (restart) required for PMBus reads.\nFor a description of the minor extensions and exceptions \nPMBus makes to the SMBus standard, refer to PMBus Specification Part I Revision 1.2 Paragraph 5 on T ransport.\nFor a description of the differences between SMBus and \nI\n2C, refer to System Management Bus (SMBus) Specifi -\ncation Version 2.0 Appendix B on Differences Between SMBus and I\n2C.\nThe user is encouraged to reference Part I of the latest PMBus Power System Management Protocol Specifica -\ntion to understand how to interface the L TC3882-1 to a PMBus system. This specification can be found at http://www\n.pmbus.org/specs.html.\nThe L TC3882-1 uses the following standard serial interface protocols defined in the SMBus and PMBus specifications:\n•\n Quick Command\n•\n Send Byte\n•\n Write Byte\n•\n Write W\nord•\n Read Byte\n•\n Read W\nord\n•\n Block Read\n•\n Block Write – Block Read Process Call\n•\n Alert Response Address\nThe L\nTC3882-1 does not require PEC for Quick Command \nunder any circumstances. The L TC3882-1 also supports \ngroup command protocol (GCP) as required by PMBus specification Part I, section 5.2.3. GCP is used to send com -\nmands to more than one PMBus device in one continuous transmission. It should not be used with commands that require the receiving device to respond with data, such as a ST\nATUS_BYTE command. Refer to Part I of the PMBus \nspecification for additional details on using GCP .\nAll L TC3882-1 message transmission types allow for packet \nerror checking. The later section on Serial Communication Errors provides more detail on packet error checking.\nFigure 4 to Figure 20 illustrate these protocols. Figure 3 \nprovides a key to the protocol diagrams. Not all protocol elements will be present in every data packet. For instance, not all packets are required to include the packet error code. A number shown above a field in these diagrams indicates the number of bits in that field. All data transfers are initiated by the present bus master regardless of how many times data direction flow may change during the subsequent transmission. The L TC3882-1 never functions as a bus master .\nThis device includes handshaking features to ensure ro -\nbust system communication. Please refer to the PMBus \nCommunication \nand Command Processing section in \nApplications Information for more details.\nSerial Bus Addressing\nThe L TC3882-1 supports four types of serial bus ad -\ndressing:•\n Global Bus Addressing\n•\n Power Rail Addressing\n•\n Individual Device Addressing\n•\n Page+ Channel Addressing\nLTC3882-133\nRev B For more information www.analog.comOPERATION\nGlobal addressing provides a means for the bus master \nto communicate with all L TC3882-1 devices on the bus simultaneously. The L TC3882-1 global addresses of 0x5A and 0x5B cannot be changed or disabled. Commands sent to address 0x5A are applied to both channels, as if the PAGE command were set to 0xFF . Global address 0x5B is paged, allowing channel-specific control of all L TC3882-1 devices on the bus. Other L TC device types may respond at one or both of these global addresses. Reading from global addresses is strongly discouraged.\nRail addressing provides a means for the bus master to \nsimultaneously communicate with all channels connected together to produce a single output voltage (PolyPhase). While similar to global addressing, the rail address can be dynamically assigned with the paged MFR_RAIL_AD -\nDRESS command, allowing for any logical grouping of channels that might be required for reliable system control.\n \nRail addresses should be unique for each single-phase or PolyPhase rail. Different voltage rails should not attempt to share a rail address. Reading from rail addresses is also strongly discouraged.\nDevice addressing is the most common means used by a \nbus master to communicate with an L TC3882-1. The value of the device address is set by the combination of ASEL pin programming and the MFR_ADDRESS command. Refer to the previous section on Resistor Configuration Pins for details.\nIndividual channel addressing allows the bus master to \ncommunicate directly with a specific L TC3882-1 PWM channel without first using a PAGE command. Refer to the PAGE_PLUS commands for additional details.\nUse of any of the four types of addressing requires careful \nplanning to avoid address-related bus conflicts. Commu -\nnication to L TC3882-1 devices at global and rail addresses should be limited to command write operations.\nFigure 4. Quick Command Protocol\nFigure 5. Send Byte Protocol\nFigure 6. Send Byte Protocol with PECFigure 3. PMBus Packet Protocol Diagram Element Key38821 F03S START CONDITION\nSr REPEATED START CONDITION Rd READ (BIT VALUE OF 1) Wr WRITE (BIT VALUE OF 0) A ACKNOWLEDGE (BIT SHOULD BE 0), OR\nNA NOT ACKNOWLEDGE (BIT SHOULD BE 1)\nP STOP CONDITIONPEC PACKET ERROR CODE MASTER TO SLAVE\n \nSLAVE TO MASTER\n CONTINUATION OF PROTOCOL ...\nSLAVE ADDRESS Rd/Wr A P\n38821 F04S7 1 1 1 1\nSLAVE ADDRESS COMMAND CODE Wr A A P\n38821 F05S7 8 1 1 1 1 1\nSLAVE ADDRESS COMMAND CODE PEC Wr A A A P\n38821 F06S7 8 8 1 1 1 1 1 1\nLTC3882-134\nRev B For more information www.analog.comOPERATION\nFigure 8. Write Byte Protocol with PEC\nFigure 11. Read Byte Protocol\nFigure 14. Read Word Protocol with PECFigure 9. Write Word Protocol\nFigure 12. Read Byte Protocol with PEC\nFigure 15. Block Read ProtocolFigure 10. Write Word Protocol with PEC\nFigure 13. Read Word ProtocolSLAVE ADDRESS COMMAND CODE DATA BYTE Wr A A A P\n38821 F08S7 8 8 1\nPEC8 1 1 1 1 1 1\nA\nSLAVE ADDRESS COMMAND CODE SLAVE ADDRESS Wr A A Sr P\n38821 F11S7 8 7 1 1\nDATA BYTE8 1 1 1 1 1 1 1\nA Rd NA\nSLAVE ADDRESS COMMAND CODE SLAVE ADDRESS Wr A A A P A\n38821 F14S7 8 7 1\nDATA BYTE LOW8\nDATA BYTE HIGH PEC8 8 1 1 1 1 1 1 1 1\nSr1\nA1\nRd ASLAVE ADDRESS COMMAND CODE DATA BYTE LOW Wr A A A P\n38821 F09S7 8 8 1\nDATA BYTE HIGH8 1 1 1 1 1 1\nA\nSLAVE ADDRESS COMMAND CODE SLAVE ADDRESS Wr A A Sr P\n38821 F12S7 8 7 1 1\nDATA BYTE8 8 1 1 1 1 1 1 1\nA Rd A1\nA PEC\nSLAVE ADDRESS COMMAND CODE SLAVE ADDRESS Wr A A Sr S7 8 7 1 1\nBYTE COUNT = N8 1 1 1 1 1 1\nA Rd A…\nA P NA\n38821 F15DATA BYTE 18\nDATA BYTE 2 DATA BYTE N8 8 1 1 1 1\nA ……SLAVE ADDRESS COMMAND CODE DATA BYTE LOW Wr A A A P\n38821 F10S7 8 8 1\nDATA BYTE HIGH8\nPEC8 1 1 1 1 1 1 1\nA A\nSLAVE ADDRESS COMMAND CODE SLAVE ADDRESS Wr A A NA P\n38821 F13S7 8 7 1\nDATA BYTE LOW8\nDATA BYTE HIGH8 1 1 1 1\nSr1 1 1 1\nA1\nRd AFigure 7. Write Byte ProtocolSLAVE ADDRESS COMMAND CODE DATA BYTE Wr A A A P\n38821 F07S7 8 8 1 1 1 1 1 1\nLTC3882-135\nRev B For more information www.analog.comOPERATION\nFigure 19. Alert Response Address Protocol\nFigure 20. Alert Response Address Protocol with PECALERT RESPONSE\nADDRESSRd A NA P\n38821 F19S7 8 1 1 1 1 1\nDEVICE ADDRESS\nALERT RESPONSE\nADDRESSRd A A S7 8 1 1 1 1\nDEVICE ADDRESS NA P\n38821 F208 1 1\nPECFigure 16. Block Read Protocol with PEC\nFigure 17. Block Write – Block Read Process Call\nFigure 18. Block Write – Block Read Process Call with PECSLAVE ADDRESS COMMAND CODE SLAVE ADDRESS Wr A A Sr S7 8 7 1 1\nBYTE COUNT = N8 1 1 1 1 1 1\nA Rd A…\n……A DATA BYTE 18\nDATA BYTE 28 1 1\nA A P NA\n38821 F16DATA BYTE N PEC8 8 1 1 1\nSLAVE ADDRESS COMMAND CODE BYTE COUNT = M Wr A A S7 8 8 1\nDATA BYTE 18 1 1 1 1 1\nA A…\n… …A DATA BYTE 28 1\nA DATA BYTE M8 1\nSLAVE ADDRESS BYTE COUNT = N Rd A A Sr7 8\nDATA BYTE 18 1 1 1 1 1\nA …\nP\n38821 F171…\n…A DATA BYTE 28\nNA DATA BYTE N8 1\nSLAVE ADDRESS COMMAND CODE BYTE COUNT = M Wr A A S7 8 8 1\nDATA BYTE 18 1 1 1 1 1\nA A…\n……A DATA BYTE 28 1\nA DATA BYTE M8 1\nSLAVE ADDRESS BYTE COUNT = N Rd A A Sr7 8\nDATA BYTE 18 1 1 1 1\nA ……\n…A DATA BYTE 28 1\nA DATA BYTE N8 1\nP\n38821 F181\nNA PEC8 1\nLTC3882-136\nRev B For more information www.analog.comOPERATION\nSerial Bus Timeout\nThe L TC3882-1 implements a timeout feature to avoid \nhanging the serial interface. The data packet timer be -\ngins running at the first START event before the SLAVE ADDRESS write byte and ends with the STOP bit. Packet transmission must be completed before the timer expires, or the L\nTC3882-1 will tri-state the bus and ignore all mes -\nsage data. The data packet includes the SLAVE ADDRESS byte, COMMAND CODE byte, repeated ST\nART and SLAVE \nADDRESS byte (if a read operation), all ACKNOWLEDGE and flow control bits (R/W) and all data bytes.\nThe packet timer is typically set to 30ms. If bit 3 of MFR_\nCONFIG_ALL_L TC3882-1 is set, this period is extended to 255ms. The L TC3882-1 automatically allows a packet transmission time of 255ms for MFR_FAUL T_LOG block reads regardless of the setting of this bit. In no circum -\nstances will the timeout period be less than the t\nTIMEOUT  \nspecification (25ms minimum).\nThe L TC3882-1 supports the full PMBus frequency range \nof 10kHz to 400kHz.Serial Communication Errors\nThe L TC3882-1 supports the optional PMBus packet error \nchecking protocol. This protocol appends a packet error code (PEC) to the end of applicable message transfers to improve communication reliability. The PEC is a CRC-8 error-checking byte calculated by the bus device sending the last data byte. Refer to SMBus specification 1.2 or higher for additional implementation details. All L TC3882-1 read operations will return a valid PEC if the bus master requests it. If bit 2 in the MFR_CONFIG_ALL_L TC3882-1 command is set, the IC will not act in response to a bus write operation unless a valid PEC is also received from the host.\nPEC errors on command writes, attempts to access un -\nsupported commands, or writing invalid data to supported \ncommands \nall cause the L TC3882-1 to generate a CML \nfault. The CML bit is then set in the STATUS_BYTE and STATUS_WORD commands, and the appropriate bit is set in the STATUS_CML command.\nLTC3882-137\nRev B For more information www.analog.comPMBus COMMAND SUMMARY\nTable 6. Abbreviations of Supported Data Formats\nPMBus\nTERMINOLOGYSPECIFICATION \nREFERENCEL TC \nTERMINOLOGY DEFINITION EXAMPLE\nL11 Linear Part II ¶7.1 Linear_5s_11s Floating point 16-bit data: value = Y • 2N, \nwhere N = b[15:11] and Y = b[10:0], both \ntwo’s compliment binary integers.b[15:0] = 0x9807 = 10011_000_0000_0111 \nvalue = 7 • 2–13 = 854E-6\nL16 Linear VOUT_MODE Part II ¶8.2 Linear_16u Floating point 16-bit data: value = Y\xa0•\xa02–12, \nwhere Y = b[15:0], an unsigned integer .b[15:0] = 0x4C00 = 0100_1100_0000_0000 \nvalue = 19456 • 2–12 = 4.75\nCF DIRECT Part II ¶7.2 varies 16-bit data with a custom format \ndefined in the detailed PMBus command description.Often an unsigned or two’s compliment integer .\nReg register bits Part II ¶10.3 Reg Per-bit meaning defined in detailed PMBus \ncommand description.PMBus STATUS_BYTE command.\nASC text characters Part II ¶22.2.1 ASCII ISO/IEC 8859-1 [A05] L TC (0x4C5443)PMBus Commands\nTable 7 lists supported PMBus commands and manufac -\nturer specific commands. Additional information about \nthese commands can be found in Revision 1.2 of Part II of the PMBus Power System Management Protocol Specifica -\ntion that can be found at http://www.pmbus.org/specs.html. Users are encouraged to reference that manual. Exceptions\n \nor manufacturer-specific implementations are detailed in the tables below. All standard PMBus commands from 0x00 through 0xCF not listed in this table are implicitly not supported by the L TC3882-1. All commands from 0xD0 through 0xFF not listed in this table are implicitly reserved by the manufacturer . The L TC3882-1 may execute additional commands not listed in this table, and these can change without notice. Reading these unlisted com -\nmands is harmless to the operation of the IC. Writes to any unsupported or reser\nved command should be avoided, as \nthey may result in a CML fault and/or undesired operation of the part.\nIf PMBus commands are received faster than they are be -\ning processed, the part may become too busy to handle \nnew commands. In these cases the L\nTC3882-1 follows the protocols defined in the PMBus Specification V1.2, Part II, Section 10.8.7, to communicate that it is busy. This device includes handshaking features to eliminate busy responses, simplify error handling software and ensure robust communication and system behavior . Please refer to PMBus Communication and Command Processing in the Applications Information section for further details.\nL TC has made an effort to establish PMBus command \ncompatibility and functional uniformity among its family of parts. However , differences may occur due to specific product requirements. Compatibility of PMBus commands among any ICs should not be assumed based simply on command name. Always refer to the manufacturer’s data sheet of each device for a complete definition of a com -\nmand function.\nData Formats\nPMBus supports specific floating point number formats \nand allows for a wide range of other data formats.\nT\nable 6 describes the data formats used by the L TC3882-1.  \nAbbreviations of these formats appear throughout this \ndocument.\nLTC3882-138\nRev B For more information www.analog.comPMBus COMMAND SUMMARY\nTable 7. PMBus Command Summary\nCOMMAND NAMECMD \nCODE DESCRIPTION TYPE PAGEDDATA \nFORMAT UNITS NVMDEFAUL T \nVALUESEE \nPAGE\nPAGE 0x00 Channel (page) presently selected for \nany paged command.R/W Byte N Reg 0x00 69\nOPERATION 0x01 On, off and margin control. R/W Byte Y Reg l 0x80 73\nON_OFF_CONFIG 0x02 RUN pin and PMBus on/off command \nconfiguration.R/W Byte Y Reg l 0x1E 72\nCLEAR_FAUL TS 0x03 Clear all set fault bits. Send Byte N 90\nPAGE_PLUS_WRITE 0x05 Write a command directly to a specified \npage.W Block N 69\nPAGE_PLUS_READ 0x06 Read a command directly from a \nspecified page.Block R/W \nProcessN 70\nWRITE_PROTECT 0x10 Protect the device against unintended \nPMBus modifications.R/W Byte N Reg l 0x00 70\nSTORE_USER_ALL 0x15 Store entire operating memory in \nEEPROM.Send Byte N 102\nRESTORE_USER_ALL 0x16 Restore entire operating memory from \nEEPROM.Send Byte N 102\nCAPABILITY 0x19 Summary of supported optional PMBus \nfeatures.R Byte N Reg 0xB0 71\nSMBALERT_MASK 0x1B Mask ALERT activity Block R/W Y Reg l see CMD \ndetails98\nVOUT_MODE 0x20 Voltage-related format (Linear) and \nexponent.R Byte Y Reg 0x14 \n2–1279\nVOUT_COMMAND 0x21 Nominal V OUT value. R/W Word Y L16 V l 1.0V \n0x100079\nVOUT_MAX 0x24 Maximum V OUT that can be set by any \ncommand, including margin.R/W Word Y L16 V l 5.5V \n0x580080\nVOUT_MARGIN_HIGH 0x25 V OUT at high margin, must be greater \nthan VOUT_COMMAND.R/W Word Y L16 V l 1.05V \n0x10CD80\nVOUT_MARGIN_LOW 0x26 V OUT at low margin, must be less than \nVOUT_COMMAND.R/W Word Y L16 V l 0.95V \n0x0F3380\nVOUT_TRANSITION_RA\nTE 0x27 V OUT slew rate for programmed output \nchanges.R/W Word Y L11 V/ms l 0.25 \n0xAA0084\nFREQUENCY_SWITCH 0x33 P\nWM frequency control. R/W Word N L11 kHz l 500kHz \n0xFBE874\nVIN_ON 0x35 Minimum input voltage to begin power \nconversion.R/W W\nord N L11 V l 6.5V \n0xCB4078\nVIN_OFF 0x36 Decreasing input voltage at which power \nconversion stops.R/W W\nord N L11 V l 6.0V \n0xCB0078\nIOUT_CAL_GAIN 0x38 Ratio of I SENSE± voltage to sensed \ncurrent.R/W Word Y L11 mΩ l 0.63mΩ \n0xB28582\nVOUT_OV_F\nAUL T_LIMIT 0x40 V OUT overvoltage fault limit. R/W Word Y L16 V l 1.1V \n0x119A80\nVOUT_OV_F\nAUL T_RESPONSE 0x41 V OUT overvoltage fault response. R/W Byte Y Reg l 0xB8 95\nVOUT_OV_WARN_LIMIT 0x42 V OUT overvoltage warning limit. R/W Word Y L16 V l 1.075V \n0x113381\nLTC3882-139\nRev B For more information www.analog.comPMBus COMMAND SUMMARY\nTable 7. PMBus Command Summary\nCOMMAND NAMECMD \nCODE DESCRIPTION TYPE PAGEDDATA \nFORMAT UNITS NVMDEFAUL T \nVALUESEE \nPAGE\nVOUT_UV_WARN_LIMIT 0x43 V OUT undervoltage warning limit. R/W Word Y L16 V l 0.925V \n0x0ECD81\nVOUT_UV_F\nAUL T_LIMIT 0x44 V OUT undervoltage fault limit. R/W Word Y L16 V l 0.9V \n0x0E6681\nVOUT_UV_F\nAUL T_RESPONSE 0x45 V OUT undervoltage fault response. R/W Byte Y Reg l 0xB8 95\nIOUT_OC_FAUL T_LIMIT 0x46 Output overcurrent fault limit. R/W Word Y L11 A l 29.75A \n0xDBB882\nIOUT_OC_F\nAUL T_RESPONSE 0x47 Output overcurrent fault response. R/W Byte Y Reg l 0x00 96\nIOUT_OC_WARN_LIMIT 0x4A Output overcurrent warning limit. R/W Word Y L11 A l 20.0A \n0xDA8082\nOT_F\nAUL T_LIMIT 0x4F External overtemperature fault limit. R/W Word Y L11 °C l 100.0°C \n0xEB2085\nOT_F\nAUL T_RESPONSE 0x50 External overtemperature fault response. R/W Byte Y Reg l 0xB8 97\nOT_WARN_LIMIT 0x51 External overtemperature warning limit. R/W Word Y L11 °C l 85.0°C \n0xEAA885\nUT_F\nAUL T_LIMIT 0x53 External undertemperature fault limit. R/W Word Y L11 °C l –40.0°C \n0xE58086\nUT_F\nAUL T_RESPONSE 0x54 External undertemperature fault \nresponse.R/W Byte Y Reg l 0xB8 97\nVIN_OV_FAUL T_LIMIT 0x55 V IN overvoltage fault limit. R/W Word N L11 V l 15.5V \n0xD3E078\nVIN_OV_F\nAUL T_RESPONSE 0x56 V IN overvoltage fault response. R/W Byte Y Reg l 0x80 94\nVIN_UV_WARN_LIMIT 0x58 V IN undervoltage warning limit. R/W Word N L11 V l 6.3V \n0xCB2678\nTON_DELA\nY 0x60 Delay from RUN pin or OPERATION ON \ncommand to TON_RISE ramp start.R/W Word Y L11 ms l 0.0ms \n0x800083\nTON_RISE 0x61 T\nime for V OUT to rise from 0.0V to \nVOUT_COMMAND after TON_DELAY.R/W Word Y L11 ms l 8.0ms \n0xD20083\nTON_MAX_F\nAUL T_LIMIT 0x62 Maximum time for V OUT to rise above  \nVOUT_UV_FAUL T_LIMIT after \nTON_DELA\nY.R/W Word Y L11 ms l 10.0ms \n0xD28084\nTON_MAX_F\nAUL T_RESPONSE 0x63 Fault response when TON_MAX_FAUL T_\nLIMIT is exceeded.R/W Byte Y Reg l 0xB8 98\nTOFF_DELAY 0x64 Delay from RUN pin or OPERATION OFF \ncommand to TOFF_FALL ramp start.R/W Word Y L11 ms l 0.0ms \n0x800084\nTOFF_F\nALL 0x65 Time for V OUT to fall to 0.0V from \nVOUT_COMMAND after TOFF_DELAY.R/W Word Y L11 ms l 8.0ms \n0xD20084\nTOFF_MAX_W\nARN_ LIMIT 0x66 Maximum time for V OUT to decay below \n12.5% of VOUT_COMMAND after TOFF_FALL completes.R/W Word Y L11 ms\nl 150ms \n0xF25884\nST\nATUS_BYTE 0x78 One-byte channel status summary. R/W Byte Y Reg 86\nSTATUS_WORD 0x79 T wo-byte channel status summary. R/W Word Y Reg 87\nSTATUS_VOUT 0x7A V OUT fault and warning status. R/W Byte Y Reg 87\nSTATUS_IOUT 0x7B I OUT fault and warning status. R/W Byte Y Reg 87\nSTATUS_INPUT 0x7C Input supply fault and warning status. R/W Byte N Reg 88\nLTC3882-140\nRev B For more information www.analog.comPMBus COMMAND SUMMARY\nTable 7. PMBus Command Summary\nCOMMAND NAMECMD \nCODE DESCRIPTION TYPE PAGEDDATA \nFORMAT UNITS NVMDEFAUL T \nVALUESEE \nPAGE\nSTATUS_TEMPERATURE 0x7D External temperature fault and warning \nstatus.R/W Byte Y Reg 88\nSTATUS_CML 0x7E Communication, memory and logic fault \nand warning status.R/W Byte N Reg 88\nSTATUS_MFR_ SPECIFIC 0x80 L TC3882-1-specific status. R/W Byte Y Reg 89\nREAD_VIN 0x88 Measured V IN. R Word N L11 V 91\nREAD_VOUT 0x8B Measured V OUT. R Word Y L16 V 91\nREAD_IOUT 0x8C Measured I OUT. R Word Y L11 A 92\nREAD_TEMPERATURE_1 0x8D Measured external temperature. R Word Y L11 °C 92\nREAD_TEMPERATURE_2 0x8E Measured internal temperature. R Word N L11 °C 92\nREAD_DUTY_CYCLE 0x94 Measured commanded PWM duty cycle. R Word Y L11 % 93\nREAD_FREQUENCY 0x95 Measured PWM input clock frequency. R Word Y L11 kHz 93\nREAD_POUT 0x96 Calculated output power . R Word Y L11 W 92\nPMBUS_REVISION 0x98 Supported PMBus version. R Byte N Reg 0x22  \nV1.271\nMFR_ID 0x99 Manufacturer identification. R String N ASC LT\nC 103\nMFR_MODEL 0x9A L TC model number . R String N ASC L TC3882-1 103\nMFR_SERIAL 0x9E Device serial number . R Block N ASC 103\nL TC3882-1 Custom Commands\nMFR_VOUT_MAX 0xA5 Maximum value of any V OUT related \ncommand.R Word Y L16 V 5.6V \n0x599A79\nUSER_DA\nTA_00 0xB0 EEPROM word reserved for L TpowerPlay. R/W Word N Reg l 103\nUSER_DATA_01 0xB1 EEPROM word reserved for L TpowerPlay. R/W Word Y Reg l 103\nUSER_DATA_02 0xB2 EEPROM word reserved for OEM use. R/W Word N Reg l 103\nUSER_DATA_03 0xB3 EEPROM word available for general data \nstorage.R/W Word Y Reg l 0x0000 103\nUSER_DATA_04 0xB4 EEPROM word available for general data \nstorage.R/W Word N Reg l 0x0000 103\nMFR_INFO 0xB6 Manufacturing Specific Information R Word N Reg NA 90\nMFR_EE_UNLOCK 0xBD (contact the factory) 103\nMFR_EE_ERASE 0xBE (contact the factory) 103\nMFR_EE_DATA 0xBF (contact the factory) 103\nMFR_CHAN_CONFIG_\nL TC3882-10xD0 L TC3882-1 channel-specific \nconfiguration.R/W Byte Y Reg l 0x1D 76\nMFR_CONFIG_ALL_L TC3882-1 0xD1 L TC3882-1 device-level configuration. R/W Byte N Reg l 0x01 72\nMFR_FAUL T_PROPAGATE_L TC3882-10xD2\nConfigure L TC3882-1 status propagation via FAUL Tn pins.R/W Word Y Reg\nl 0x6993 99\nMFR_VOUT_AVP 0xD3 Specify V OUT load line. R/W Word Y L11 % l 0% \n0x800080\nMFR_P\nWM_MODE_L TC3882-1 0xD4 L TC3882-1 channel-specific PWM mode \ncontrol.R/W Byte Y Reg l 0xC8 77\nLTC3882-141\nRev B For more information www.analog.comPMBus COMMAND SUMMARY\nTable 7. PMBus Command Summary\nCOMMAND NAMECMD \nCODE DESCRIPTION TYPE PAGEDDATA \nFORMAT UNITS NVMDEFAUL T \nVALUESEE \nPAGE\nMFR_FAUL T_RESPONSE 0xD5 PWM response when FAUL Tn pin is low. R/W Byte Y Reg l 0xC0 100\nMFR_OT_FAUL T_RESPONSE 0xD6 Internal overtemperature fault response. R Byte N Reg 0xC0 97\nMFR_IOUT_PEAK 0xD7 Maximum I OUT measurement since last \nMFR_CLEAR_PEAKS.R Word Y L11 A 92\nMFR_RETRY_DELAY 0xDB Minimum time before retry after a fault. R/W Word Y L11 ms l 350ms \n0xFABC98\nMFR_REST\nART_DELAY 0xDC Minimum time RUN pin is held low by \nthe L TC3882-1.R/W Word Y L11 ms l 500ms \n0xFBE883\nMFR_VOUT_PEAK 0xDD Maximum V OUT measurement since last \nMFR_CLEAR_PEAKS.R Word Y L16 V 91\nMFR_VIN_PEAK 0xDE Maximum V IN measurement since last  \nMFR_CLEAR_PEAKS.R W\nord N L11 V 91\nMFR_TEMPERATURE_1_PEAK 0xDF Maximum external temperature \nmeasurement since last MFR_CLEAR_\nPEAKS.R Word Y L11 °C 92\nMFR_CLEAR_PEAKS 0xE3 Clear all peak values. Send Byte N 93\nMFR_PADS_L TC3882-1 0xE5 State of selected L TC3882-1 pads. R Word N Reg 89\nMFR_ADDRESS 0xE6 Specify right-justified 7-bit device \naddress.R/W Byte N Reg l 0x4F 71\nMFR_SPECIAl_ID 0xE7 Manufacturer code representing the \nL TC3882-1R Word N Reg 0x424X 103\nMFR_FAUL T_LOG_STORE 0xEA Force transfer of fault log from operating \nmemory to EEPROM.Send Byte N 103\nMFR_FAUL T_LOG_CLEAR 0xEC Clear existing EEPROM fault log. Send Byte N 101\nMFR_FAUL T_LOG 0xEE Read fault log data. R Block N Reg 101\nMFR_COMMON 0xEF L TC-generic device status reporting. R Byte N Reg 90\nMFR_COMPARE_USER_ALL 0xF0 Compare operating memory with \nEEPROM contents.Send Byte N 102\nMFR_TEMPERATURE_2_PEAK 0xF4 Maximum internal temperature \nmeasurement since last MFR_CLEAR_PEAKS.R Word N L11 °C 93\nMFR_PWM_CONFIG_L TC3882-1 0xF5 L TC3882-1 PWM configuration common \nto both channels.R/W Byte N Reg\nl 0x14 75\nMFR_IOUT_CAL_GAIN_TC 0xF6 Output current sense element \ntemperature coefficient.R/W Word Y CF ppm/°C l 3900ppm/°C  \n0x0F3C82\nMFR_TEMP_1_GAIN 0xF8 Slope for external temperature \ncalculations.R/W W\nord Y CF l 1.0 \n0x400085\nMFR_TEMP_1_OFFSET 0xF9 Offset addend for external temperature \ncalculations.R/W W\nord Y L11 °C or V l 0.0 \n0x800085\nMFR_RAIL_ADDRESS 0xF\nA Specify unique right-justified 7-bit \naddress for channels comprising a PolyPhase output.R/W Byte Y Reg\nl 0x80 71\nMFR_RESET 0xFD Force full reset without removing power . Send Byte N 73\nNVM l Indicates a command value stored to internal EEPROM using STORE_USER_ALL or restored to RAM from internal EEPROM at power-up or \nexecution of RESTORE_USER_ALL or MFR_RESET .\nLTC3882-142\nRev B For more information www.analog.comAPPLICATIONS INFORMATION\nEfficiency Considerations\nNormally, one of the primary goals of any L TC3882-1 ap -\nplication will be to obtain the highest practical conversion \nefficiency\n. The efficiency of a switching regulator is equal \nto the output power divided by the input power . It is often useful to analyze individual losses to determine what is limiting the efficiency and to ascertain which change would produce the most improvement. Balancing or limiting these individual losses plays a dominant role in the component selection process outlined over the next few sections.\nPercent efficiency can be expressed as:\n %Efficiency = 100% – (L1 + L2 + L3 + …)\nwhere L1, L2, et al, are the individual losses as a per\ncent-\nage of input power: 100 • P Ln/PIN.\nAlthough all dissipative elements in the system produce \nlosses, four main sources usually account for most of the losses in L TC3882-1 applications: IC supply current, I\n2R losses, topside power MOSFET transition losses and \ntotal gate drive current.\n1.\n The L\nTC3882-1 IC supply current is a DC value given \nin the Electrical Characteristics table. The absolute loss \ncreated by the IC itself is approximately this current times the V\nCC supply voltage. IC supply current typically \nresults in a small loss (<0.1%).\n2.\n \nI2R losses occur mainly in the DC resistances of the \nMOSFET , inductor , PCB routing, and input and output capacitor ESR. Since each MOSFET is only on for part of the cycle, its on-resistance is effectively multiplied by the percentage of the cycle it is on. Therefore the bot -\ntom MOSFET should have a much lower on-resistance R\nDS(ON)  than the top MOSFET in high step-down ratio \napplications. It is crucial that careful attention is paid to the layout of the power path on the PCB to minimize its resistance. In a 2-phase 1.2V system, 1mΩ of PCB resistance at the output costs 5% in efficiency with the output running at 60A.\n3.\n T\nransition losses apply only to the topside MOSFET and \nbecome significant when operating at high input voltages (typically above 12V). This loss can be minimized by choosing a driver with very low drive resistance and a MOSFET with low gate charge Q\nG, gate resistance R G \nand Miller capacitance C MILLER . Absolute transition loss \ncan be estimated by:\n  \nPTRANS  = (1.7) • V IN2 • IOUT • CMILLER  • fPWM\n4. Gate drive current is equal to the sum of the top and bot -\ntom MOSFET gate charges multiplied by the frequency of operation. These charges are based on the gate voltage applied by the FET driver and can be determined from manufacturer \ncurves like the one shown in Figure 21. \nMany driver ICs employ asymmetrical gate voltages for top and bottom FETs.\nOther sources of loss include body or Schottky diode conduction during the driver dependent non-overlap time and inductor core losses. These latter categories generally account for less than 2% total additional loss.\nPWM Frequency and Inductor Selection\nThe selection of the PWM switching frequency is a trade-off \nbetween efficiency, transient response and component size. High frequency operation reduces the size of the inductor and output capacitor as well as increasing the maximum practical control loop bandwidth. However , efficiency is generally lower due to increased transition and switch -\ning losses. The inductor value is related to the switching frequency f\nPWM and step-down ratio. It should be selected \nto meet choke ripple current requirements. The inductor value can be calculated using the following equation:\n  L=VOUT\nfPWM •ΔIL⎛\n⎝⎜⎞\n⎠⎟• 1–VOUT\nVIN⎛\n⎝⎜⎞\n⎠⎟\nAllowing a larger value of choke ripple current ( ∆IL) leads \nto smaller L, but results in greater core loss and higher \noutput voltage ripple for a given output capacitance and/or ESR. A reasonable starting point for setting the ripple current is 30% of the maximum output current.\nThe inductor saturation current rating needs to be higher \nthan the peak inductor current during transient conditions. If I\nOUT is the maximum rated load current, then the maxi-\nmum transient current I MAX would normally be chosen to \nbe some factor greater than I OUT (e.g., 1.6 • I OUT).\nLTC3882-143\nRev B For more information www.analog.comAPPLICATIONS INFORMATION\nThe minimum saturation current rating should be chosen \nto allow margin due to manufacturing and temperature variation in the sense resistor or inductor DCR. A reason -\nable I\nSAT value would be 2.2 • I OUT.\nThe programmed current limit IOUT_OC_FAUL T_LIMIT must be low enough to ensure that the inductor never saturates and high enough to allow increased current during transient conditions with margin for DCR variation. For example, if\n \nISAT = 2.2 • I OUT, and\n \nIMAX = 1.6 • I OUT\na reasonable output current limit would be\n IOUT_OC_F\nAUL T_LIMIT = 1.8 • I OUT\nOnce the value of L is known, the type of inductor must be selected. High efficiency converters generally cannot afford the core losses found in low cost powdered iron cores, forcing the use of more expensive ferrite or molypermalloy cores. Also, core losses decrease as inductance increases. Unfortunately, increased inductance requires more turns of wire, larger inductance and larger copper losses.\nFerrite designs have very low core loss and are preferred at \nhigh switching frequencies. However , these core materials exhibit hard saturation, causing an abrupt reduction in the inductance when the peak current capability is exceeded. Do not allow the core to saturate!\nPower MOSFET Selection\nThe L TC3882-1 requires at least two external N-channel \npower MOSFETs per channel, one for the top (main) switch and one or more for the bottom (synchronous) switch. The number , type and on-resistance of the MOSFETs selected should take into account the voltage step-down ratio and the FET circuit position (main or synchronous switch). A much smaller and lower input capacitance MOSFET should be used for the top MOSFET in applications that have an output voltage that is less than one-third of the input voltage. At operating frequencies above 300kHz and where V\nIN >> V OUT, the top MOSFET on-resistance is normally less important for overall efficiency than its input capacitance. MOSFET manufacturers have designed special purpose devices that provide reasonably low on-resistance with significantly reduced input capacitance for the main switch application in switching regulators.\nSelection criteria for the power MOSFETs include on-\nresistance, gate charge, Miller capacitance, breakdown voltage and maximum output current.\nFor maximum efficiency, R\nDS(ON)  and Q G should be mini -\nmized. Low R DS(ON)  minimizes conduction losses and low \nQG minimizes switching and transition losses. MOSFET \ngate charge can be taken from the typical gate charge \ncurve included on most data sheets (Figure 21).\nFigure 21. Typical MOSFET Gate Charge Curve\nCMILLER  is the most important selection criteria for deter -\nmining the transition loss term in the top MOSFET but is not \ndirectly specified on MOSFET data sheets. C MILLER  is \nequal to the increase in gate charge along the horizontal axis of Figure 21 while the curve is approximately flat, divided by the specified change in V\nDS. This result is \nthen multiplied by the ratio of the actual application V DS \nto the V DS specified on the gate charge curve. When the \ncontroller is operating in continuous mode the duty cycles for the top and bottom MOSFETs are given by:\n  Main Switch Duty Cycle =VOUT\nVIN\nSynchronous Switch Duty Cycle =VIN– VOUT\nVIN38821 F21MILLER EFFECT\nQIN\nCMILLER = ( QB – QA)/VDSVGS\nQA QB\nLTC3882-144\nRev B For more information www.analog.comAPPLICATIONS INFORMATION\nThe power dissipation for the main and synchronous \nMOSFETs at maximum output current are given by:\n  PMAIN =VOUT\nVINIMAX( )2(1+ δ)RDS(ON) +\nVIN2IMAX\n2RDR( ) CMILLER( ) •\n1\nVGG– VTH(IL)+1\nVTH(IL)⎡\n⎣⎢\n⎢⎤\n⎦⎥\n⎥fPWM( )\nPSYNC =VIN– VOUT\nVINIMAX( )2(1+ δ)RDS(ON)\nwhere δ is the temperature dependency of R DS(ON) , RDR \nis the effective top driver resistance, V IN is the drain po -\ntential and the change in drain potential in the particular \napplication. V GG is the applied gate voltage, V TH(IL)  is \nthe typical gate threshold voltage specified in the power MOSFET data sheet at the specified drain current, and C\nMILLER  is the capacitance calculated using the technique \npreviously described.\nThe term (1 + δ) is generally given for a MOSFET in the \nform of a normalized R DS(ON)  versus temperature curve. \nTypical values for δ range from 0.005/°C to 0.01/°C de -\npending on the particular MOSFET used.\nBoth MOSFET\ns have I2R losses while the topside N-channel \nlosses also include transition losses, which are highest \nat high input voltages. For V IN < 20V the high current ef -\nficiency generally improves with larger MOSFETs, while for V\nIN > 20V the transition losses rapidly increase to \nthe point that the use of a higher R DS(ON)  device with \nlower C MILLER  actually provides higher efficiency. The \nsynchronous MOSFET losses are greatest at high input voltage when the top switch duty factor is low or during a short-circuit when the synchronous switch is on close to 100% of the period.\nMultiple MOSFETs can be used in parallel to lower R\nDS(ON)  \nand meet the current and thermal requirements if desired.If using discrete drivers and MOSFETs, check the stress \non the MOSFETs by independently measuring the drain-to-source voltages directly across the device terminals. Beware of inductive ringing that could exceed the maximum voltage rating of the MOSFET . If this ringing cannot be avoided and exceeds the maximum rating of the device, choose a higher voltage rated MOSFET .\nMOSFET Driver Selection\nGate driver ICs, DrMOS devices and power blocks with an \ninterface compatible with the L TC3882-1 3.3V three-state PWM control output(s) can be used. An external resistor divider may be needed to set three-state control voltage outputs to mid-rail while in the high impedance state, de -\npending on the driver selected. These external driver/power cir\ncuits do not typically present a heavy capacitive load to \nthe L TC3882-1 PWM outputs. Suitable drivers such as the L TC4449 are capable of driving large gate capacitances at high transition rates. In fact, when driving MOSFETs with very low gate charge, it is sometimes helpful to slow down the drivers by adding small gate resistors (5Ω or less) to reduce noise and EMI caused by fast transitions.\nUsing PWM Protocols\nFor successful utilization of the driver selected, the  \nappropriate L T3882-1 PWM control protocol must be programmed. The L TC3882-1 supports two three-state PWM control protocols. See bit 1, of the MFR_PWM_MODE_L TC3882-1 PMBus command.\nThe first of these protocols (bit 1=0) is for drivers controlled \nby a single 3-state input that have sufficiently short delay to the diode emulation state (both top and bottom power MOSFETs disabled in a fraction of a PWM cycle), such as the L TC4449. The second protocol (bit 1=1) handles all other 3.3V compatible drivers with a single 3-state control input.\nC\nIN Selection\nThe input bypass capacitance for an L TC3882-1 circuit \nneeds to have ESR low enough to keep the supply drop low as the top MOSFETs turn on, RMS current capability adequate to withstand the ripple current at the input, and a capacitance value large enough to maintain the input voltage until the input supply can make up the difference. Generally, a capacitor that meets the first two require -\nments (particularly a non-ceramic type) will have far more \nLTC3882-145\nRev B For more information www.analog.comAPPLICATIONS INFORMATION\ncapacitance than is required to keep capacitance-based \ndroop under control.\nThe input capacitance voltage rating should be at least 1.4 \ntimes the maximum input voltage. Power loss due to ESR occurs as I\n2R dissipation in the capacitor itself. The input \ncapacitor RMS current and its impact on any preceding input network is reduced by PolyPhase architecture. It can be shown that the worst case RMS current occurs when only one controller is operating. The controller with the highest (V\nOUT)(IOUT) product should be used to determine \nthe maximum RMS current requirement. Increasing the output current drawn from the other out-of-phase control -\nler will decrease the input RMS ripple current from this maximum value. T\nwo channel out-of-phase operation \ntypically reduces the input capacitor RMS ripple current by a factor of 30% to 70%.\nIn continuous inductor conduction mode, the source cur -\nrent of the top power MOSFET is approximately a square \nwave of duty cycle V\nOUT/VIN. The maximum RMS capacitor \ncurrent in this case is given by:\n  IRMS ≈IOUT(MAX)VOUT VIN– VOUT ( )\nVIN\nThis formula has a maximum at V IN = 2V OUT, where\n \nIRMS = IOUT/2\nThis simple worst-case condition is commonly used for design because even significant deviations do not offer much relief.\nNote that manufacturer ripple current ratings for capacitors \nare often based on only 2000 hours of life. This makes it advisable to further derate the capacitor or to choose a capacitor rated at a higher temperature than required. Several capacitors may also be paralleled to meet size or height requirements in the design. Always consult the manufacturer if there is any question.\nCeramic, tantalum, semiconductor electrolyte (OS-CON), \nhybrid conductive polymer (SUNCON) and switcher-rated electrolytic capacitors can be used as input capacitors, but each has drawbacks. Ceramics have high voltage coeffi -\ncients of capacitance and may have audible piezoelectric effects; tantalums need to be surge-rated; OS-CONs suffer from higher inductance, larger case size and limited sur\nface \nmount applicability; and electrolytic capacitors have higher ESR and can dry out. Sanyo OS-CON SVP(D) series, Sanyo POSCAP TQC series, or Panasonic EE-FT series aluminum electrolytic capacitors can be used in parallel with a couple of high performance ceramic capacitors as an effective means of achieving low ESR and high bulk capacitance.\nIn addition to PWM bulk input capacitance, a small (0.01μF \nto 1μF) bypass capacitor between the chip VINSNS pin and ground, placed close to the L TC3882-1, is also sug -\ngested. A small resistor placed between the bulk C\nIN and \nthe VINSNS pin provides further isolation between the two channels. However , if the time constant of any such R-C network on the VINSNS pin exceeds 30ns, dynamic line transient response can be adversely affected.\nC\nOUT Selection\nThe selection of C OUT is primarily determined by the ESR \nrequired to minimize voltage ripple and load step transients. \nThe output ripple \n∆VOUT is approximately bounded by:\n  ΔVOUT≤ ΔILESR +1\n8 • fPWM •COUT⎛\n⎝⎜⎞\n⎠⎟\nwhere ∆IL is the inductor ripple current.\n  ΔIL=VOUT\nL • fPWM1–VOUT\nVIN⎛\n⎝⎜⎞\n⎠⎟\nSince ∆ IL increases with input voltage, the output ripple \nvoltage is highest at maximum input voltage. Typically \nonce the ESR requirement is satisfied, the capacitance is adequate for filtering and has the necessary RMS current rating.\nManufacturers such as Sanyo, Panasonic and Cornell Du -\nbilier should be considered for high performance through-\nhole capacitors. The OS-CON semiconductor electrolyte capacitor available from Sanyo has a good (ESR)(size) product. An additional ceramic capacitor in parallel with polarized capacitors is recommended to offset the effect of lead inductance.\nIn sur\nface mount applications, multiple capacitors may \nhave to be paralleled to meet the ESR or transient current  \nLTC3882-146\nRev B For more information www.analog.comAPPLICATIONS INFORMATION\nFigure 22. Type 3 Compensation Circuithandling requirements of the application. Aluminum elec -\ntrolytic and dry tantalum capacitors are both available in \nsur\nface mount configurations. New special polymer surface \nmount capacitors offer very low ESR also but have much lower capacitive density per unit volume. In the case of tantalum, it is critical that the capacitors are surge tested for use in switching power supplies. Several excellent out -\nput capacitor choices include the Sanyo POSCAP TPD/E/F series, the Kemet T520, T530 and A700 series, NEC/T\nokin \nNeoCapacitors and Panasonic SP series. Other suitable capacitor types include Nichicon PL series and Sprague 595D series. Consult the manufacturer for other specific recommendations.\nFeedback Loop Compensation\nThe L TC3882-1 is a voltage mode controller with a second, \ndedicated current sharing loop to provide excellent phase-to-phase current sharing in PolyPhase applications. The current sharing loop is internally compensated.\nWhile Type 2 compensation for the voltage control loop \nmay be adequate in some applications (such as with the use of high ESR bulk capacitors), Type 3 compensation and ceramic capacitors are recommended for optimum transient response.\nFigure 22 shows a simplified view of the error amplifier EA \nfor one L TC3882-1 channel. The positive input of the error amplifier is connected to the output of an internal 12-bit DAC fed by a 1.024V reference, while the negative input is connected to the FB pin and other internal circuits (not all shown). R1 is internal to the IC with a value range given by the R\nVSFB parameter in the Electrical Characteristics \ntable. The output is connected to COMP , from which the PWM controller derives the required output duty cycle. To speed up overshoot recovery time, the maximum potential at the COMP pin is internally clamped.\nUnlike many regulators that use a transconductance (g\nm) \namplifier , the L TC3882-1 is designed to use an inverting \nsumming amplifier topology with the FB pin configured as a virtual ground. This allows feedback gain to be tightly controlled by external components, which is not possible with a simple g\nm amplifier . The voltage feedback amplifier \nalso provides flexibility in choosing pole and zero loca -\ntions. In particular , it allows the use of Type 3 compensa -tion to provide phase boost at the LC pole frequency for significantly improving the control loop phase margin,\n \nas shown in Figure 23.–+VOUT\nVDACR1 R3C3R2C1C2\nEAFB\nCOMPINTERNAL\n3882 F22\nIn a typical L TC3882-1 circuit, the feedback loop closed around this control amplifier and compensation network consists of the line feedforward circuit, the modulator , the external inductor and the output capacitor . All these components affect loop behavior and need to be accounted for in the frequency compensation.\nThe modulator consists of the PWM generator , the output \nMOSFET drivers and the external MOSFETs themselves. Step-down modulator gain varies linearly with the input voltage. The line feedforward circuit compensates for this change in gain, and provides a constant gain A\nMOD of 4V/V \nfrom the error amplifier output COMP to the inductor input (average DC voltage) regardless of V\nIN. The combination \nof the line feedforward circuit and the modulator looks like a linear voltage transfer function from COMP to the inductor input with a fairly benign AC behavior at typical loop compensation frequencies. Significant phase shift will not begin to occur in this transfer function until half the switching frequency.Figure 23. Type 3 Compensation Frequency Response\nGAIN (dB)\nFREQ–1\n–1 +1 GAIN\nPHASE\nBOOST0PHASE (DEG)\n–90\n–180–270–380\n38821 F23\nLTC3882-147\nRev B For more information www.analog.comAPPLICATIONS INFORMATION\n  fC=crossover frequency =fPWM\n10\nfZ1 (ERR) =fLC=1\n2πR2C1\nfZ2(RES) =fC\n5=1\n2π(R1+R3)C3\nfP1 (ERR) =fESR=1\n2πR2(C1//C2)\nfP2(RES) =5fC=1\n2πR3C3\nRequired error amplifier gain at frequency f C is:\n  ≈40log 1 +fC\nfLC⎛\n⎝⎜⎞\n⎠⎟2\n– 20log 1 +fC\nfESR⎛\n⎝⎜⎞\n⎠⎟2\n– 15.56\nOnce the value of resistor R1 (function of selected V OUT \nrange) and pole/zero locations have been decided, the \nvalue of R2, C1, C2, R3 and C3 can be obtained from the previous equations.\nCompensating a switching power supply feedback loop is \na complex task. The applications shown in this data sheet provide typical values, optimized for the power components shown. Though similar power components should suffice, substantially changing even one major power component may degrade performance significantly. Stability also may depend on circuit board layout. To verify the calculated component values, all new circuit designs should be prototyped and tested for stability.\nThe L TPowerCAD software tool can be used as a guide \nthrough the entire power supply design process, includ -\ning optimization of circuit component values according to \nsystem requirements.\nPCB Layout Considerations\nT\no prevent magnetic and electrical field radiation or high \nfrequency resonant problems and to ensure correct IC \noperation, proper layout of the components connected to the L TC3882-1 is essential. Refer to Figure 24, which also illustrates current waveforms typically present in the circuit branches. R\nSENSE  will be replaced with a dead short \nif DCR sensing is used. For maximum efficiency, the switch The external inductor/output capacitor combination makes a more significant contribution to loop behavior . These components cause a 2nd order amplitude roll-off that filters the PWM waveform, resulting in the desired DC output voltage. But the additional 180° phase shift produced by this filter causes stability issues in the feedback loop and must be frequency compensated. At higher frequencies, the reactance of the output capacitor will approach its ESR, and the roll-off due to the capacitor will stop, leaving –20dB/decade and 90° of phase shift.\nThe transfer function of the Type 3 circuit shown in \nFigure 22 is given by the following equation:\n  VCOMP\nVOUT=–(1+sC1 R2)[1 +s(R1+R3)C3]\nsR1 (C1 +C2)[1 +s(C1//C2)R2](1 +sC3R3)\nThe RC network across the error amplifier and the feed -\nforward components R3 and C3 introduce two pole-zero pairs to obtain a phase boost at the system unity-gain (crossover) frequency\n, fC. In theory, the zeros and poles are \nplaced symmetrically around f C, and the spread between the \nzeros and the poles is adjusted to give the desired phase boost at f\nC. However , in practice, if the crossover frequency \nis much higher than the LC double-pole frequency, this method of frequency compensation normally generates a phase dip within the unity bandwidth and creates some concern regarding conditional stability.\nIf conditional stability is a concern, move the error ampli -\nfier zero to a lower frequency to avoid excessive phase \ndip. The following equations can be used to compute the feedback compensation component values:\n  fLC=1\n2πLCOUT\nfESR=1\n2πRESRCOUT\nchoose:\nLTC3882-148\nRev B For more information www.analog.comAPPLICATIONS INFORMATION\nnode rise and fall times should be minimized. The following \nPCB design priority list will help ensure proper topology.\n1.\n Place a ground or DC voltage layer between a power \nlayer and a small-signal layer\n. Generally, power planes \nshould be placed on the top layer (4-layer PCB), or top and bottom layer if more than 4 layers are used. Use wide/short copper traces for power components and avoid improper use of thermal relief around power plane vias to minimize resistance and inductance.\n2.\n Low ESR input capacitors should be placed as close as possible to switching FET supply and ground con -\nnections with the shortest copper traces possible. The switching FET\ns must be on the same layer of copper \nas the input capacitors with a common topside drain connection at C\nIN. Do not attempt to split the input \ndecoupling for the two channels, as a large resonant loop can result. Vias should not be used to make these connections. Avoid blocking forced air flow to the switching FETs with large size passive components.\n3.\n If using a discrete FET driver\n, place that IC close to the \nswitching FET gate terminals, keeping the connecting traces short to produce clean drive signals. This rule also applies to driver IC supply and ground pins that connect to the switching FET source pins. The driver IC can be placed on the opposite side of the PCB from the switching FETs.\n4.\n Place the inductor input as close as possible to the switching FET\ns. Minimize the surface area of the switch \nnode. Make the trace width the minimum needed to support the maximum output current. Avoid copper fills or pours. Avoid running the connection on multiple copper layers in parallel. Minimize capacitance from the switch node to any other trace or plane.\n5.\n Place the output current sense resistor (if used) im -\nmediately adjacent to the inductor output. PCB traces for remote voltage and current sense should be run together \nback to the L TC3882-1 in pairs with the small -\nest spacing possible on any given layer on which they are routed. Avoid high frequency switching signals and ideally shield with ground planes. Locate any filter component on these traces next to the L\nTC3882-1, \nand not at the Kelvin sense location. However , if DCR sensing is used, place the top resistor (R1, Figure 25) close to the switch node.\n6.\n Place low ESR output capacitors adjacent to the sense resistor output and ground. Output capacitor ground connections must feed into the same copper that con -\nnects to the input capacitor ground before connecting back to system ground.\n7\n. Connection of switching ground to system ground,\n \nsmall-signal analog ground or any internal ground plane should be single-point. If the system has an internal system ground plane, a good way to do this is to cluster vias into a single star point to make the connection. This cluster should be located directly beneath the IC GND paddle, which serves as both analog signal ground and the negative sense for V\nOUT1. A useful CAD technique \nis to make separate ground nets and use a 0Ω resistor to connect them to system ground.\n8.\n Place all small-signal components away from high frequency switching nodes. Place decoupling capaci -\ntors for the L TC3882-1 immediately adjacent to the IC.\n9.\n A good rule of thumb for via count in a given high cur -\nrent path is to use 0.5A per via. Be consistent when applying this rule.\n10.\n Copper fills or pours are good for all power connec -\ntions except as noted above in rule 3. Copper planes on multiple layers can also be used in parallel. This helps with thermal management and lowers trace inductance, which further improves EMI per\nformance.\nOutput Current Sensing\nThe I SENSE+ and I SENSE– pins are high impedance inputs to \ninternal current comparators, the current-sharing loop and \ntelemetry ADC. The common mode range of the current sense inputs is approximately 0V to 5.5V . Continuous linear operation is provided throughout this range. Maximum differential current sense input (I\nSENSE+ – ISENSE–) is 70mV , \nincluding any variation over temperature. These inputs must be properly connected in the application at all times.\nTo maximize efficiency at full load the L TC3882-1 is designed \nto sense current through the inductor’s DCR, as shown in Figure 25. The DCR of the inductor represents the small amount of DC winding resistance of the copper , which \nLTC3882-149\nRev B For more information www.analog.comAPPLICATIONS INFORMATION\nRL1 D1L1 SW1RSENSE1 VOUT1\nCOUT1\nVIN\nCINRIN\nRL0 D0BOLD LINES INDICATE\nHIGH SWITCHING CURRENT. KEEP LINESTO A MINIMUM LENGTH.L0 SW0\n38821 F24RSENSE0 VOUT0\nCOUT0\nFigure 24. High Frequency Paths and Branch Current Waveforms\nfor most inductors suitable to L TC3882-1 applications, is \nbetween 0.3mΩ and 1mΩ. If the filter RC time constant is chosen to be exactly equal to the L/DCR time constant of the inductor , the voltage drop across the external capaci -\ntor is equal to the voltage drop across the inductor DCR. Check the manufacturer\n’s data sheet for specifications \nregarding the inductor DCR in order to properly dimension the external filter components. The DCR of the inductor can also be measured using a good RLC meter .\nUse the nominal or measured value of DCR to program \nIOUT_CAL_GAIN (in mΩ). The temperature coefficient of the inductor’s DCR is typically high, like copper . Again, consult the manufacturer’s data sheet. The L TC3882-1 can adjust for this non-ideality if the correct MFR_IOUT_CAL_GAIN_TC value is programmed. Typically this coefficient is around 3900ppm/°C.Resistor R1 should be placed close to the switch node, to prevent noise from coupling into sensitive small-signal nodes. Capacitor C1 should be placed close to the IC pins. \nAn example of discrete resistor sensing of output current is \nshown in Figure 26. Previously, the parasitic inductance of the sense resistor could represent a relatively small error . New high current density solutions may utilize low sense resistor values producing sense voltages less than 20mV . In addition, inductor ripple currents greater than 50% with operation up to 1MHz are becoming more common.\nUnder these conditions, the voltage drop across the sense \nresistor’s parasitic inductance is no longer negligible. An RC filter can be used to extract the resistive component of the current sense signal in the presence of parasitic inductance. For example, Figure 27 illustrates the voltage \nLTC3882-150\nRev B For more information www.analog.comFigure 25. Inductor DCR Output Current SenseBOOST\nTG\nL TC4449VIN\n12V\nTS VOUT\n38821 F25DCR L\nR1*INDUCTORVCC\nVLOGIC5V\nIN\n*PLACE R1 NEAR INDUCTOR\n  PLACE C1 NEAR I SENSE+, ISENSE– PINSBG\nGND\nC1*VINSNS\nVCC\nPWM\nISENSE+ISENSE–L TC3882-1\nGND\nR1 • C1 = L\nDCRVDD33APPLICATIONS INFORMATION\nFigure 26. Discrete Resistor Output Current Sensewaveform across a 2mΩ resistor with a 2010 footprint. \nThe waveform is the superposition of a purely resistive component and a purely inductive component. If the RC time constant is chosen to be close to the parasitic inductance divided by the sense resistor (L/R), the re -\nsultant waveform looks resistive, as shown in Figure 28.\nFor applications using low maximum sense voltages, \ncheck the \nsense resistor manufacturer’s data sheet for \ninformation about parasitic inductance. In the absence of data, measure the voltage drop directly across the sense resistor to extract the magnitude of the ESL step and the following equation to determine the ESL:\n ESL =VESL(STEP)\n∆IL•tON•tOFF\ntON+ tOFF\nBOOST\nTG\nL TC4449VIN\n12V\nTS VOUT\n38821 F26VCC\nVLOGIC5V\nIN\nBG\nGND\nCFVINSNS\nVCC\nPWM\nISENSE+ISENSE–L TC3882-1\nGND\nFIL TER COMPONENTS PLACED NEAR SENSE PINSVDD33\nRF\nRFRS ESL LSENSE RESISTOR\nPLUS PARASITIC\nINDUCTANCE\nCF • 2R F ≤ ESL/R S\nPOLE-ZERO\nCANCELLATIONIf low value (<5mΩ) sense resistors are used, verify that the signal across C\nF resembles the current through the \ninductor , and reduce R F to eliminate any large step associ -\nated with the turn-on of the primary switch.\nOutput V\noltage Sensing\nAccurate Kelvin sensing techniques should be used \nto connect the output voltage differentially back to the L TC3882-1 V\nSENSE± pins of the master channel for the best \noutput voltage regulation at the point of load. These pins also provide the ADC inputs for output voltage telemetry. \nLTC3882-151\nRev B For more information www.analog.comAPPLICATIONS INFORMATION\nWhile these considerations may or may not be important \nfor slave channels, V OUT must be connected back to the \nslave channel V SENSE  pin(s) in order for the I OUT telemetry \nof those phases to be accurate. So in general, sound Kelvin V\nOUT sensing techniques for all L TC3882-1 channels is \nrecommended.start-up voltage ramp. The maximum rate at which the L TC3882-1 can move the output in this fashion is 100µs/step. Soft-start is disabled by setting TON_ RISE to any value less than 0.250ms. The L TC3882-1 will perform the necessary math internally to assure the voltage ramp is controlled to the desired slope. However , the voltage slope cannot be any faster than the fundamental limits of the power stage. The smaller TON_RISE becomes, the more noticeable an output voltage stair-step may become.\nThe L TC3882-1 also supports soft turn off in the same \nmanner it controls turn on. TOFF_FALL is processed when the RUN pin goes low or if the part is commanded off. If the part faults off or FAUL T is pulled low and the part is programmed to respond to this, the PWM instantly commands the output off. The output will then decay as a function of load current.\nThe L TC3882-1 can produce a controlled ramp off as long \nas the power stage is configured to run in CCM and the TOFF_FALL time is sufficiently slow that the power stage can achieve the desired slope. The TOFF_FALL time can only be met if the power stage can sink sufficient current under closed loop control to assure the output is at 0V by the end of the fall time. If TOFF_FALL is shorter than the time required to discharge the load capacitance, the output will not reach 0V . In this case, the power stage will still be commanded off at the end of TOFF_FALL and V\nOUT \nwill decay at a rate determined by the load. If the control -\nler is set to run DCM, the controller will not pull negative current \nand the output will only be pulled low by the load, \nnot the power stage. The maximum fall time is limited to 1.3 seconds. The smaller TOFF_FALL becomes, the more noticeable an output voltage stair-step may become.\nTime-Based Output Sequencing and Ramping\nThe L TC3882-1 TON_DELAY and TOFF_DELAY commands \ncan be used in combination with the rise and fall time com -\nmands covered in the previous section to implement a wide range of versatile sequencing and ramping schemes. The key to time-based sequencing and ramping is the ability of L\nTC3882-1 master phases to move their outputs up and \ndown according to PMBus command values as shown in Figure 29 and Figure 30.Figure 27. Voltage Measured Directly Across R SENSE\nFigure 28. Voltage Measured at I SENSE  Pins500ns/DIVVRSENSE\n20mV/DIV\n38821 F27VESL(STEP)\n500ns/DIVVISENSE\n20mV/DIV\n38821 F28\nSoft-Start and Stop\nThe L TC3882-1 uses digital ramp control to create both \nsoft-start and soft-stop.\nThe L TC3882-1 must enter the run state prior to soft-start. \nThe RUN pins are released after the part initializes and VINSNS is determined to be greater than the VIN_ON threshold.\nOnce in the run state, soft-start is performed after any addi -\ntional prescribed delay (next section) by actively regulating \nthe load voltage while digitally ramping the target voltage from 0V to the commanded voltage set point. Rise time of the voltage ramp can be programmed using the TON_RISE command to minimize inrush currents associated with \nLTC3882-152\nRev B For more information www.analog.comAPPLICATIONS INFORMATION\nFigure 29. Time-Based V OUT Turn-On\nFigure 30. Time-Based V OUT Turn-OffAs shown in Figure 29, it is important to remember that the \nhysteresis given in the Electrical Characteristics (EC) table applies above VOUT_UV_FAUL T_LIMIT , which specifies the UV limit when the output is falling out of regulation. For turn-on, the output must rise above this programmed limit plus the hysteresis to avoid exceeding TON_MAX_FAUL T_LIMIT . PGOOD is indicated at that point. For this reason, VOUT_UV_FAUL T_LIMIT should be more than 27mV below the programmed output voltage in low range and more than 54mV below V\nOUT in high range. There is a fixed delay \nand other timing uncertainty associated with all changes in output voltage controlled by the L TC3882-1. A nominal fixed timing delay of 270µs exists to process any change in output voltage, including soft start/stop, margining and general changes in VOUT_COMMAND value. The start of all time-based output operations occur with an uncertainty of ±50µs and have a nominal step resolution of 100µs. This means the minimum TON_DELAY or TOFF_DELAY that the L TC3882-1 can produce will range from 220µs to 320µs, not including basic oscillator tolerances. For software-based output changes (e.g., margining), this algorithmic delay begins when the STOP bit is received on the serial bus. An example of this minimum turn on/off delay and step-wise output control can be seen in Figure 31, where TON_DELAY = 0s and TON_RISE = 1ms.\nTo effectively implement sequencing  and synchronized \nramping between rails controlled by L TC digital power products, two signals should be shared between all controlling ICs: SHARE_CLK and RUN (CONTROL pin on L TC297x products). This facilitates synchronized rail sequencing on or off based on shared input supply state (VIN_ON threshold), external hardware control (RUN pin), or PMBus commands (possibly using global addressing).\nFigure 32 shows an example of output supply sequencing \nusing TON_DELAY.\nUsing this scheme, conventional coincident and ratiometric \ntracking can also be emulated by setting equivalent turn-on/off delays and appropriate rise and fall times as shown in Figure 33 and Figure 34.\nIn addition, these schemes can easily be mixed and matched \nto create any necessary ramping controls, some of which might prove difficult to implement with conventional analog-only controllers. These programmable features DAC VOL TAGE\nERROR (NOT TO SCALE)TIME DELAY OF<1S, TYPICALDIGITAL SERVO\nMODE ENABLED FINAL OUTPUT\nVOL TAGE REACHED\nTON_MAX_FAUL T_LIMIT\nTON_RISE TIME38821 F29\nTON_DELAYVOUTPGOOD\nVOUT_UV_FAUL T_LIMITRUN\nHYSTERESIS\n(NOT TO SCALE)\nTOFF_FALL TOFF_DELAY TIME38821 F30VOUTRUN\ngreatly simplify actual system development because rails \ncan be re-sequenced without a hardware change as final product requirements evolve. The L TpowerPlay GUI and L TC3882-1 onboard EEPROM can be used for this task, avoiding the need for firmware development to modify turn on/off relationships between rails. Entire power systems can then easily be scaled up or down, facilitating reuse of proven hardware macro designs.\nVoltage-Based Output Sequencing\nThe L TC3882-1 is capable of voltage-based output se -\nquencing. For concatenated events between members of \nthe L\nTC388x family, it is possible to control one RUN pin \nfrom a PGOOD pin of a different controller as shown in \nLTC3882-153\nRev B For more information www.analog.com\n38821 F34\n100ms/DIVVOUT2VOUT3VOUT4\nVOUT11V/DIVAPPLICATIONS INFORMATION\nFigure 34. L TC3882-1 Time-Based Ratiometric RampingFigure 35. Cascade Sequencing ConfigurationL TC3882-1PGOOD0\nPGOOD1 RUN 1RUN 0START\nL TC3882-1\n38821 F35RUN 0 PGOOD0\nPGOOD1\nTO NEXT CHANNEL\nIN THE SEQUENCE(PGOOD PULL-UP RESISTORS\nTO 3.3V NOT SHOWN)\nRUN 1Figure 31. Example of 1ms TON_RISE\nFigure 33. L TC3882-1 Time-Based Coincident Supply RampingFigure 32. L TC3882-1 Time-Based Supply SequencingFigure 35. This configuration hardware disables the next \ndownstream controller anytime the output is not within the specified UV and OV limits, or the upstream controller is disabled. When indicating power is not good, there is a 30µs deglitching filter on the PGOOD output to assure the signal does not toggle repeatedly at lower values of TON_RISE/FALL due to noise on V\nOUT. If unwanted transi -\ntions still occur on PGOOD due to noise or longer rise/fall settings, place a capacitor to ground on the PGOOD pin to further filter the waveform. \nThe RC time-constant of \nthe filter should be low enough to assure no appreciable delay is incurred. A value of 300μs to 500μs will provide some additional filtering without significantly delaying the trigger event.38821 F31VOUT\n(1V/DIV)\nRUN\n(5V/DIV)\n200µs/DIV\n38821 F32VOUT2VOUT3VOUT4\nVOUT1\n100ms/DIV1V/DIV\n38821 F33\n100ms/DIVVOUT2VOUT3VOUT4\nVOUT11V/DIV\n38821 F36\n100ms/DIVVOUT2VOUT3VOUT4\nVOUT11V/DIV\nFigure 36. Cascade Sequencing Waveforms\nWhen the system is turned off, rails will shut down in the \nsame order as they turn on, as shown in Figure 36. If a different sequence is required, the circuit must be rewired or delays must be added by programming TON_DELAY or TOFF_DELAY. A fundamental limitation of this application is the inability of upstream rails to detect a start-up failure of \nLTC3882-154\nRev B For more information www.analog.comAPPLICATIONS INFORMATION\noutput filter capacitance for some allowed output voltage \nvariation over the anticipated load range. An example of AVP is shown in Figure 37. Refer to L TC Design Solution 10 for additional examples of using AVP to advantage.\nMFR_VOUT_AVP specifies the percent reduction in pro -\ngrammed V\nOUT from no load at an output current value \nequal to IOUT_WARN_LIMIT . L TC3882-1 AVP supports \na maximum reduction in V OUT of 15%, corresponding \nto a ±7.5% tolerance about a nominal output voltage at roughly 50% load. In order to effectively use AVP , apply the following steps.\n1.\n Set IOUT_OC_W\nARN_LIMIT . This specifies the master \nphase output current at which the programmed AVP \nlevel will apply. Generally this is above the 100% load point to avoid spurious warnings at full load.\n2.\n VO\nUT_COMMAND should be set to the value of V OUT de-\nsired with no load on the output. VOUT_MARGIN_HIGH/LOW also specify no-load values when A\nVP is enabled. \nAVP on the L TC3882-1 can only reduce the output from these levels.downstream rails. Due to this, cascade sequencing should not be implemented without an external fast supervisor to monitor downstream rails and assert a system fault if problems occur .\nUsing Output Voltage Servo\nFor best output voltage accuracy, enable digital \nservo mode on the master phase by setting bit 6 of MFR_PWM_MODE_L TC3882-1. In digital servo mode, the L TC3882-1 will adjust the regulated output voltage based on its related ADC voltage reading. Every 90ms the digital servo loop will step the LSB of the DAC (nominally 1.375mV or 0.6875mV depending on the voltage range bit) until the output is at the correct ADC reading.\nWhen the master channel is turned on, digital servo is \nenabled after all of the following conditions are satisfied.\n•\n MFR_P\nWM_MODE_L TC3882-1 Bit 6 Is Set\n•\n The TON_RISE Sequence Is Complete\n•\n A VOUT_UV_F\nAUL T Is Not Present\n•\n An IOUT_OC_F\nAUL T Is Not Present\n•\n MFR_A\nVP = 0%\nDigital servo mode then engages after TON_MAX_ \nFAUL T_LIMIT has expired as shown in Figure 29, unless that limit is set to 0s (infinite). In that case, the mode is engaged as soon as the above conditions are satisfied.\nUsing AVP\nThe L TC3882-1 features digitally programmable active \nvoltage positioning (AVP), where output voltage set point is automatically adjusted as a function of output current at the full bandwidth of the converter . AVP normally entails specifying an output load line for a voltage mode switcher to allow current sharing between master phases connected in parallel. While AVP can be used to this effect in L TC3882-1  \napplications, use of the L TC3882-1 I\nAVG current sharing \ncontrol loop is recommended instead. This will produce more accurate sharing across a wider number of phases without degrading supply output impedance.\nHowever , AVP can still be used to great benefit in L TC3882-1  \napplications. AVP can be applied to minimize the size of Figure 37. Active Voltage Positioning\n38821 F37WITH AVPAVP DISABLED\nIO\n(10A/DIV)\nVOUT\n(50mV/DIV)\nIO\n(10A/DIV)\nLOOP: BW = 118kHz, PM = 58°, GM = 7dBVOUT\n(50mV/DIV)108mV173mV\nLTC3882-155\nRev B For more information www.analog.comAPPLICATIONS INFORMATION\n3. Set MFR_VOUT_A VP to a percentage that produces the \ndesired output excursion as a function of current.\nFor example, if the goal is to allow a 2.5% output change \non a 3.3V 6-phase supply rated at 120A during an output load step from 20% to 80%, the following parameters should be programmed.\nFirst set an output current warning level for the master (one \nof six phases) just slightly higher than the rated full load to avoid spurious warnings. Typically this same setting would also be applied to the five slave phases.\n IOUT_OC_W\nARN_LIMIT = 1.1 • 120A/6 = 22A\nThe open circuit output voltage calculation for the master phase must reflect that the AVP specification in this case only covers an output load swing of 60%.\n VOUT_COMMAND\n = 3.3V(1 + 0.5 • 0.025/0.6)\n \n = 3.3687V\nThe A\nVP calculation must then account for the fact that \nIOUT_OC_WARN_LEVEL is set higher than the 100% load point.\n  MFR_VOUT_AVP =100% •1.1• 2 • 3.3687 – 3.3 ( )\n3.3687\n=4.487%\nWith the output voltage at 3.3V at 50% load these set-\ntings will move V OUT from approximately 3.34V to about \n3.26V when the output load of the rail moves from 24A \nto 96A. Note that V OUT will drop to 3.23V at full load in \nthis design example.\nDigital output servo mode is automatically disabled if \nAVP is enabled on a master phase. AVP is active during all output ramping when enabled (e.g., a TON_RISE se -\nquence). AVP is disabled on master phases by program-\nming MFR_VOUT_AVP to 0.0% (factory default). AVP is \nautomatically \ndisabled on phases configured as slaves \n(FB tied to V DD33).\nBecause of related ISENSE input offsets, increased output voltage error can occur at all operating currents when AVP is engaged. To minimize this error a calibration offset can be added to the master phase VOUT_COMMAND value based on the READ_VOUT value obtained when operat -\ning at a known output current of at least 20% of full load (READ_IOUT). The necessar\ny correction, which will typi -\ncally be less than several percent of the no load output voltage, is calculated as:\n  VOS =VOUT_COMMAND\n• 1–MFR_VOUT_AVP •READ_IOUT\n100 •IOUT_OC_WARN_LIMIT⎛\n⎝⎜⎞\n⎠⎟\n– READ_VOUT\nPWM Frequency Synchronization\nThe L TC3882-1 incorporates an internal phase-locked \nloop (PLL) which enables synchronization of both PWM channels (falling edge PWM) to an external CMOS clock from 250kHz to 1.25MHz. The PLL is locked to the falling edge of the SYNC pin clock signal. This PLL also generates very accurate channel phase relationships which can be selected with the MFR_PWM_CONFIG_L TC3882-1 com -\nmand. For PolyPhase applications, all phases should be spaced evenly in the phase diagram for best results. For instance, a 4-phase system should use a separation of 90° between channels.\nThe PLL has a lock detection cir\ncuit. If the PLL should lose \nlock during operation, bit 4 of the STATUS_MFR_SPECIFIC \ncommand is asserted and the ALERT pin is pulled low, unless masked. The fault can be cleared by writing a 1 to STATUS_MFR_SPECIFIC bit 4. A spurious ALERT for an unlocked PLL may occur at start-up or during a reset if this fault is not masked.\nNeither PWM channel will transition from off to the RUN \nstate until PLL lock is indicated. When transitioning a channel from off to RUN, bit 4 of STATUS_MFR_SPECIFIC will be set if the PWM ramp generator for that channel is not also locked to the desired PLL output frequency.\nIf the SYNC pin is not externally clocked in the application, \nthe PWMs will operate at the frequency specified by a non-zero FREQUENCY_SWITCH command. If that command is set to 0x0000 (external clock only) in EEPROM or with RCONFIG (FREQ_CFG pin grounded), then at power-up, or MFR_RESET , or RESTORE_USER_ALL, the PWM will not start without an external clock input. If the external clock is lost while programmed for external clock only, or if the PWM is simply switched to this setting under power with no external clock present,  the PLL will start/run at \nLTC3882-156\nRev B For more information www.analog.comthe lowest free running frequency created by the internal \nVCO. This can be well below the intended PWM frequency of the application and may cause undesirable operation of the converter . For this reason, it is generally recommended that a useable PWM frequency be programmed for each channel, regardless of whether that particiular L TC3882-1 unit serves as clock master , or not.\nAll channels of a PolyPhase rail are required to share SYNC \npins. Between rails and for other configurations, such syn -\nchronization is optional. If the SYNC pin is shared between L\nTC3882-1s, only one L TC3882-1 should be programmed \nto control the SYNC output.\nPolyPhase Operation and Load Sharing\nWhen the L TC3882-1 is used in a PolyPhase application, \nthe slave phases must be configured as such by con -\nnecting their FB pins to V DD33. Among other things, this \ndisables the error amplifiers of the slave phases. Five other pins must then also be shared between all channels of a PolyPhase rail:\n•\n \nVINSNS\n•\n \nCOMP\n•\n \nIAVG\n• IAVG_GND\n• SYNC\nUsing a common VINSNS connection reduces the dynamic\n \nrange required by the current loop and helps maintain \nwell-controlled master modulator gain.\nThe shared COMP signal allows the master phase error \namplifier to control the duty cycle of all slave phases to produce the commanded output voltage.\nSlave phases can detect system faults that cause the \nmaster COMP (error amplifier) output to be too high. A slave phase detecting this kind of error amplifier fault im -\nmediately shuts off its PWM output, indicates the  fault on its VOUT_OV Fault bit, and takes whatever additional action\n \nmay be indicated by VOUT_OV_FAUL T_RESPONSE for that channel. If this response is set to only provide hardware-level response (0x00), then normal channel operation will automatically resume when the fault condition is cleared.The shared I\nAVG and I AVG_GND  signals actively balance the \namount of output current delivered from each channel using a secondary current sharing loop. A capacitor with a value between 100pF and 200pF should be placed between I\nAVG \nand I AVG_GND . This capacitance can be distributed across \nL TC3882-1 devices/pins for improved noise immunity. All I\nAVG_GND  pins for a PolyPhase rail should be tied together \nand connected to a single ground point at or near the package paddle of the master phase.\nLoad sharing accuracy is based primarily on the current \nsense amplifier offset of each phase (I\nAVG_VOS ) and the \noffset of slave current error amplifiers (V SIOS). These are \ngiven in the EC table. Current sense gain errors between L TC3882-1 channels will be negligible. The secondary current sharing loop acts to average any errors among the phases. Because of this error averaging and the random nature of these variables, the EC table limits ensure actual per-phase offset will be less than or equal to ±300µV for most designs over the full operating temperature range. This signifies better than ±2% matching when ∆I\nSENSE  = \n15mV , not including external factors such as DCR make tolerance.\nIt is necessary to properly connect V\nSENSE+ on a slave \nphase for accurate I OUT telemetry, even though slave phases \ndo use need this information for PWM control. While not \nstrictly required, the V SENSE± lines of slave phases can \nsimply share with the master to provide additional output voltage telemetry. If the only concern is accurate slave I\nOUT \ntelemetry, V SENSE+ for that channel may be locally wired \nto ISENSE–. VSENSE– on a slave phase should always be \nshorted to V SENSE– for its master channel. I OUT OC/ROC \nfunction is not affected by V SENSE± wiring.\nAll phases must be synchronized to the same shared SYNC clock and should be programmed to run at the same default PWM frequency. Phases should be selected to be evenly spaced around a 360° phasor diagram, and all phases on a PolyPhase rail should be selected to have the same maximum duty cycle. Refer to details for MFR_PWM_CONFIG_L TC3882-1. Figure 38 shows an example of connections for three phases and Figure 39 shows an example of an 8-phase rail. Additional shared signals in these figures highlight the ability of the L TC3882-1 to com -\nmunicate fault status between phases and rails, perform APPLICATIONS INFORMATION\nLTC3882-157\nRev B For more information www.analog.comAPPLICATIONS INFORMATION\nVIN\nVDD33\n38821 F38VINSNS\nFB0\nFB1\nRUN0\nRUN1\nFAUL T0\nFAUL T1\nSYNC (ENABLED)COMP0\nCOMP1\nVSENSE0+\nVSENSE1+\nVSENSE0–\nVSENSE1–\nGNDIAVG_GND\nSHARE_CLKL TC3882-1(0,120)\nIAVG0 IAVG1\nSYSTEM ON/OFF\nBOTH ICs SAME DEFAUL T FREQUENCY SWITCH3-PHASE SENSE+\n–\n1-PHASE SENSE+VINSNS\nFB0\nFB1\nRUN0\nRUN1\nFAUL T0\nFAUL T1SYNC (DISABLED)COMP0\nCOMP1\nVSENSE0+\n–VSENSE1+\nVSENSE0–\nVSENSE1–\nGNDIAVG_GND\nSHARE_CLKL TC3882-1(60,240)\nIAVG0 IAVG1\nFigure 38. 3+1-Phase Application\nLTC3882-158\nRev B For more information www.analog.comAPPLICATIONS INFORMATION\nFigure 39. 8-Phase ApplicationVIN\n38821 F39VINSNS\nFB0\nFB1\nRUN0\nRUN1\nFAUL T0\nFAUL T1\nSYNCCOMP0\nCOMP1\nVSENSE0+\nVSENSE1+\nVSENSE0–\nVSENSE1–\nGNDIAVG_GNDL TC3882-1(0,180, CLOCK MASTER)\nIAVG0 IAVG1VOUT SENSE+\n–\nVDD33VINSNS\nFB0\nFB1\nRUN0\nRUN1\nFAUL T0FAUL T1\nSYNCCOMP0\nCOMP1\nVSENSE0+\nVSENSE1+\nVSENSE0–\nGNDIAVG_GNDL TC3882-1(45,225)\nIAVG0 IAVG1\nSYSTEM ON/OFFVINSNS\nFB0\nFB1\nRUN0\nRUN1\nFAUL T0\nFAUL T1\nSYNCCOMP0\nCOMP1\nVSENSE0+\nVSENSE1+\nVSENSE0–\nVSENSE1–\nGNDIAVG_GNDL TC3882-1(90,270)\nIAVG0 IAVG1\nVINSNS\nFB0FB1\nRUN0RUN1\nFAUL T0FAUL T1\nSYNCCOMP0\nCOMP1\nVSENSE0+\nVSENSE1+\nVSENSE0–\nVSENSE1–VSENSE1–\nGNDIAVG_GND\nSHARE_CLK SHARE_CLKL TC3882-1(135,315)\nIAVG0 IAVG1SHARE_CLK SHARE_CLK\nALL ICs SAME DEFAUL T FREQUENCY SWITCH\nLTC3882-159\nRev B For more information www.analog.comFigure 41. Normalized RMS Input Ripple Current\nFigure 42. Normalized Output Ripple Current [I RMS ~ 0.3(DI C(PP))]00.10.20.30.4\n38821 F410.50.6\nDUTY FACTOR (V OUT/VIN)0.1RMS INPUT RIPPLE CURRENT\nDC LOAD CURRENT\n0.3 0.5 0.6 0.2 0.4 0.7 0.8 0.91-PHASE\n2-PHASE\nDUTY FACTOR (V OUT/VIN)0.1DIC(P-P)\nVO/L1.0\n0.90.80.70.60.50.40.30.20.1\n0\n0.3 0.5 0.6\n38821 F420.2 0.4 0.7 0.8 0.91-PHASE\n2-PHASEFigure 40. Single and 2-Phase Current Waveforms38821 F40SW1 V\nICIN\nICOUTSINGLE PHASE\nSW1 V\nSW2 V\nICINIL2IL1\nICOUTDUAL PHASE\nRIPPLE\nsynchronized time-based rail sequencing and ramping and \nreport accurate output current telemetry for all phases.\nIn general, only the PGOOD pin of the master phase needs \nto be used for external Power Good indication. However , APPLICATIONS INFORMATION\nPGOOD pins of slave phases may be shorted to a master PGOOD bus to indicate full output power is available, un -\nless the slave channel is used in active phase shedding. In that case, the slave PGOOD should be left disconnected or used only to indicate operating status for that phase. Output current fault and warning limits should each be set\n \nto the same values across all PolyPhase channels using IOUT_FAUL T_LIMIT and IOUT_WARN_LIMIT . The cor -\nrect sense resistance and related temperature coefficient should a\nlso be set for each phase (IOUT_CAL_GAIN, \nMFR_IOUT_CAL_GAIN_TC) to achieve accurate I OUT \ntelemetry and consistent fault handling across phases. Because the L TC3882-1 current sharing loop operates by matching sensed voltage, it is important that well-matched sense elements be used in the system. Current matching parameters specified for the L TC3882-1 do not include these external sources of error , such as inductor DCR tolerance. Programming of V\nOUT related parameters is not required \nfor slave phases.\nA PolyPhase power supply significantly reduces the amount \nof ripple current in both the input and output capacitors. The RMS input ripple current is divided by, and the ef -\nfective ripple frequency is multiplied by, the number of phases used \nas long as the input voltage is greater than \nthe number of phases used times the output voltage. The output ripple amplitude is also reduced by the number of phases used. Figure 40 graphically illustrates the principle.\nThe worst-case RMS ripple current for a single stage de -\nsign peaks at an input voltage of twice the output voltage. \nThe \nworst case RMS ripple current for a 2-phase design \npeaks at output voltages of 1/4 and 3/4 of the input volt -\nage. When the RMS current is calculated, higher effective duty factor results and the peak current levels are divided as long as the current in each stage is balanced. Refer to Application Note 19 at http://www\n.linear .com/designtools/\napp_notes for a detailed description of how to calculate RMS current for the single stage switching regulator . Fig -\nure 41 and Figure 42 illustrate how the input and output currents \nare reduced by using an additional phase. For a \n2-phase converter , the input current peaks drop in half and the frequency is doubled. The input capacitor requirement is then theoretically reduced by a factor of four .\nLTC3882-160\nRev B For more information www.analog.comAPPLICATIONS INFORMATION\nExternal Temperature Sense\nThe L TC3882-1 facilitates external measurement of the \npower stage temperature of each channel with several silicon-junction-based means. The voltage produced by the remote sense circuit is digitized by the internal ADC, and the computed temperature value is returned by the paged READ_TEMPERATURE_1 telemetry command.\nThe most accurate external temperature measurement \ncan be made using a diode-connected PNP transistor such as the MMBT3906 as shown in Figure 43 with bit 5 of MFR_PWM_MODE_L TC3882-1 set to 0 (\n∆VBE method). \nThe BJT should be placed in contact with or immediately adjacent to the power stage inductor . Its emitter should be connected to the TSNSn pin while the base and collector terminals of the PNP transistor must be returned to the L TC3882-1 GND paddle using a Kelvin connection. For best noise immunity, the connections should be routed differentially and a 10nF capacitor should be placed in parallel with the diode-connected PNP .\nThe L TC3882-1 also supports direct junction voltage mea -\nsurements when bit 5 of MFR_PWM_MODE_L TC3882-1 is \nset to one. The factor\ny defaults support a resistor-trimmed \ndual diode network as shown in Figure 44. However , this measurement method can be applied to simple single-diode circuits of the type shown in Figure 43 with parameter adjustments as described below. This second measure -\nment method is not generally as accurate as the first, but it supports legacy power blocks or may prove necessar\ny if high noise environments prevent use of the \n∆VBE approach \nwith its lower signal levels.\nFor either method, the slope of the external temperature \nsensor can be modified with the coefficient stored in MFR_TEMP_1_GAIN. With the \n∆VBE approach, typical \nPNPs require temperature slope adjustments slightly less than 1. The MMBT3906 has a recommended value in this command of approximately MFR_TEMP_1_GAIN\xa0= 0.991 based on the ideality factor of 1.01. Simply invert the ideality factor to calculate the MFR_TEMP_1_GAIN. Different manufacturers and different lots may have dif -\nferent ideality factors. Consult with the manufacturer to set this value. Bench characterization over temperature is recommended when adjusting MFR_TEMP_1_GAIN for the direct p-n junction measurement.\nThe offset of the external temperature sense can be ad -\njusted by MFR_TEMP_1_OFFSET . For the \n∆VBE method a \nvalue of 0 in this register sets the temperature offset to \n–273.15°C. For a direct p-n junction measurement, this parameter adjusts the nominal circuit voltage at 25°C away from that shown in Figure 44.\nTo ensure proper use of these temperature adjustment \nparameters, refer to the specific formulas given for the two methods by the MFR_PWM_MODE_L TC3882-1 command in the later section covering PMBus command details, as well as Application Note 137.\nResistor Configuration Pins\nAs a factory default, the L TC3882-1 is programmed to use \nexternal resistor configuration, allowing output voltage, PWM frequency and phasing, and the PMBus address to be set without programming the part through its serial interface or purchasing devices with custom EEPROM contents. The RCONFIG pins all require a resistor divider between V\nDD25 and GND. The RCONFIG pins are only \ninterrogated at initial power up and during a reset, so modifying their values on the fly is not recommended. RCONFIG pins on the same IC can be shared with a single resistor divider if they require identical programming. Resistors with a tolerance of 1% or better must be used to assure proper operation. In the following tables, R\nTOP \nis connected between V DD25 and the RCONFIG pin, while \nRBOT is connected between the pin and GND. Noisy clock \nsignals should not be routed near these pins.Figure 43. External ΔV BE Temperature Sense\nFigure 44. 2D+R Temperature SenseTSNS\nMMBT3906L TC3882-1 10nF\nGND\nGND\n38821 F43\nTSNS\nL TC3882-1\n1nF495µA\n1.35V AT 25°C\nGND\nGND38821 F44\nLTC3882-161\nRev B For more information www.analog.comAPPLICATIONS INFORMATION\nTable 8. V OUTn_CFG  Resistor Programming\nRTOP (kΩ) RBOT (kΩ) VOUT (V)\n0 or Open Open From EEPROM\n10 23.2 5.0\n10 15.8 3.3\n16.2 20.5 2.5\n16.2 17.4 1.8\n20 17.8 1.5\n20 15 1.35\n20 12.7 1.25\n20 11 1.2\n24.9 11.3 1.15\n24.9 9.09 1.1\n24.9 7.32 1.05\n24.9 5.76 0.9\n24.9 4.32 0.75\n30.1 3.57 0.65\n30.1 1.96 0.6\nOpen 0 Output OFF*  \n(VOUT from EEPROM)\n*OPERATION value and RUNn pin must both command the channel to \nstart from this configuration.\nOutput voltage can be set as shown in Table 8. For example, \nsetting R TOP  to 16.2kΩ and R BOT to 17.4kΩ is equivalent \nto programming a VOUT_COMMAND value of 1.8V . Refer to the Operations section for related parameters that are also automatically set as a percentage of the programmed V\nOUT if resistor configuration pins are used to determined \noutput voltage.Table 9. FREQ_CFG Resistor Programming\nRTOP (kΩ) RBOT (kΩ)SWITCHING \nFREQUENCY (kHz)\n0 or Open Open from EEPROM\n20 17.8 1250\n20 15 1000\n20 12.7 900\n20 11 750\n24.9 11.3 600\n24.9 9.09 500\n24.9 7.32 450\n24.9 5.76 400\n24.9 4.32 350\n30.1 3.57 300\n30.1 1.96 250\nOpen 0 External SYNC Only\nNote that if SYNC pins are shared between L TC3882-1s, \nonly one SYNC output should be enabled. All other SYNC outputs should be disabled. For example, if configuring two L TC3882-1s as a 4-phase rail operating at a frequency \nof 600kHz, both devices should have R\nTOP  of 24.9kΩ and \nRBOT of 11.3kΩ on the FREQ_CFG pin. In this case, select -\ning R TOP of 24.9kΩ and R BOT of 9.09kΩ for PHAS_CFG on \nthe first IC (clock master) affords 180° of phase separation \nand enables the SYNC output. The second device should \nhave R TOP of 20kΩ and R BOT of 12.7kΩ on PHAS_CFG, \nto disable its SYNC output and run its phases with 180° \nof separation in quadrature with the first IC. Only mix phase selections that have the same maximum duty cycle specified. Refer to Table 9 and 10.\nTable 10. PHAS_CFG Resistor Programming\nRTOP (kΩ) R BOT (kΩ) θSYNC TO θ 0 θSYNC TO θ 1 MAXIMUM DUTY CYCLE SYNC OUTPUT DISABLED\n0 or Open Open From EEPROM From EEPROM See MFR_PWM_CONFIG From EEPROM\n20 15 135° 315° 87.5% Yes\n20 12.7 90° 270°\n20 11 45° 225°\n24.9 11.3 0° 180°\n24.9 9.09 0° 180° No\n24.9 7.32 120° 300° 83.3% Yes\n24.9 5.76 60° 240°\n24.9 4.32 0° 180°\n30.1 3.57 0° 120°\n30.1 1.96 0° 180° No\nOpen 0 0° 120°\nLTC3882-162\nRev B For more information www.analog.comAPPLICATIONS INFORMATION\nThe L TC3882-1 address is selected based on the program-\nming of the two configuration pins ASEL0 and ASEL1 according to T\nable 11. ASEL0 programs the bottom four \nbits of the device address for the L TC3882-1, and ASEL1 programs the three most-significant bits. Either portion of the address can also be retrieved from the MFR_ADDRESS value in EEPROM. If both pins are left open, the full 7-bit MFR_ADDRESS value stored in EEPROM is used to deter -\nmine the device address. In the 4-phase example above, it is recommended that one or both ASEL\nn pins on both \nparts be programmed to create two unique addresses. The L TC3882-1 also responds to 7-bit global addresses 0x5A and 0x5B. MFR_ADDRESS and MFR_RAIL_ADDRESS \nshould not be set to either of these values.\nTable 11. ASELn Resistor Programming\nRTOP (kΩ) R BOT (kΩ)ASEL1 ASEL0\nL TC3882-1 DEVICE \nADDRESS BITS[6:4]L TC3882-1 DEVICE \nADDRESS BITS[3:0]\nBINARY HEX BINARY HEX\n0 or Open Open from EEPROM from EEPROM\n10 23.2 1111 F\n10 15.8 1110 E\n16.2 20.5 1101 D\n16.2 17.4 1100 C\n20 17.8 1011 B\n20 15 1010 A\n20 12.7 1001 9\n20 11 1000 8\n24.9 11.3 111 7 0111 7\n24.9 9.09 110 6 0110 624.9 7.32 101 5 0101 524.9 5.76 100 4 0100 424.9 4.32 011 3 0011 330.1 3.57 010 2 0010 230.1 1.96 001 1 0001 1\nOpen 0 000 0 0000 0\nInternal Regulator Outputs\nThe V DD33 pin provides supply current for much of the \ninternal L TC3882-1 analog circuitry at a nominal value of \n3.3V . The L TC3882-1 features an internal linear regulator that can be used to supply 3.3V to V\nDD33 from a higher \nvoltage V CC supply (up to 12V nominal). Use of this LDO is \noptional. The L TC3882-1 will also accept an external 3.3V supply attached to this pin if V CC and V DD33 are shorted. If \nthe internal 3.3V LDO is used, it can supply a peak current of 85mA (including internal consumption), and the V\nDD33 \nregulator output must be bypassed to GND with a low ESR X5R or X7R ceramic capacitor with a value of 2.2μF . If an external source supplies V\nDD33, a local low ESR bypass \ncapacitor with a value between 0.01μF and 0.1μF should be placed directly between the V\nDD33 and GND pins.\nDo not draw more than 20mA from the internal 3.3V regula -\ntor for the host system, governed by IC power dissipation as discussed in the next section. This limit includes current\n \nrequired for external pull up resistors for the L TC3882-1 that are terminated to V\nDD33.\nVDD33 powers a second internal 2.5V LDO whose output \nis present on V DD25. This 2.5V supply provides power for \nmuch of the internal processor logic on the L TC3882-1. The V\nDD25 output should be bypassed directly to GND with a \nlow ESR X5R or X7R ceramic capacitor with a value of 1μF or greater . Do not draw any external system current from this supply beyond that required for L TC3882-1 specific configuration resistor dividers.\nIC Junction Temperature\nThe user must ensure that the maximum rated junction \ntemperature is not exceeded under all operating conditions. The thermal resistance of the L TC3882-1 package (θ\nJA) \nis 33°C/W , provided the exposed pad is in good thermal contact with the PCB. The actual thermal resistance in the application will depend on forced air cooling and other heat sinking means, especially the amount of copper on the PCB to which the L TC3882-1 is attached. The following formula may be used to estimate the maximum average power dissipation P\nD (in watts) of the L TC3882-1 when \nVCC is supplied externally.\n \nPD = V CC(0.024 + f PWM • 1.6e-5 + I EXT + IRC25)\nwhere:\n \nIEXT = total external load drawn from V DD33, including \nlocal pull-up resistors, in amps\n \nIRC25 = total current drawn from V DD25 by L TC3882-1 \nconfiguration resistor dividers, in amps\nand the PWM frequency f PWM is given in kHz\nLTC3882-163\nRev B For more information www.analog.comAPPLICATIONS INFORMATION\nIf an external source supplies V DD33 directly, the following \nformula may be used to estimate the maximum average \npower dissipation P D (in watts) of the L TC3882-1\n \nPD = V DD33(0.024 + f PWM • 1.6e-5 + I RC25)\nThe maximum junction temperature of the L TC3882-1 in °C may then be found from the following equation\n \nTJ = TA + 33 • P D\nwith ambient temperature T A expressed in °C\nDerating EEPROM Retention at Temperature\nEEPROM read operations between 85°C and 125°C will not \naffect data storage. But retention will be degraded if the EEPROM is written above 85°C or stored above 125°C. If an occasional fault log is generated above 85°C, the slight reduction in data retention in the EEPROM fault log area will not affect the use of the function or other EEPROM storage. See the Operation section for other high tem -\nperature EEPROM functional details. Degradation in data can \nbe approximated by calculating the dimensionless \nacceleration factor using the following equation.\n  AF=eEa\nk⎛\n⎝⎜⎞\n⎠⎟•1\nTUSE+273−1\nTSTRESS +273⎛\n⎝⎜⎞\n⎠⎟⎡\n⎣⎢\n⎢⎤\n⎦⎥\n⎥\nWhere:\n AF = acceleration factor\n Ea = activation energy = 1.4eV\n k = 8.617 • 10–5 eV/°K\n \nTUSE = is the specified junction temperature\n \nTSTRESS  = actual junction temperature in °C\nAs an example, if the device is stored at 130°C for 10 hours,\n \nTSTRESS  = 130°C, and \n  AF=e1.4\n8.617•10–5⎛\n⎝⎜⎞\n⎠⎟•1\n398−1\n403⎛\n⎝⎜⎞\n⎠⎟⎡\n⎣⎢⎤\n⎦⎥\n=1.66\nindicating the effect is the same as operating the device at \n125°C for 10 • 1.66 = 16.6 hours, resulting in a retention derating of 6.6 hours.Configuring Open-Drain Pins\nThe L TC3882-1 has the following open-drain pins:3.3V Pins\n 1. PGOOD\nn\n \n2. FAUL Tn\n 2. SYNC\n 3. SHARE_CLK\n5V\n-Capable Pins\n(These pins operate correctly when pulled to 3.3V .)\n 1. RUN\nn\n \n2. ALERT\n 3. SCL\n 4. SDA\nAll of the above pins have on-chip pull-down transistors \nthat can sink 3mA at 0.4V\n. The low-state threshold on \nthese pins provides ample noise margin exists with 3mA of current. For 3.3V pins, 3mA of current is produced by a 1.1k pull-up resistor . Unless there are transient speed issues associated with the RC time constant of the net, a 10k resistor or larger is generally recommended.\nThe pull-up resistor for PGOOD should be terminated to \nthe L TC3882-1 V\nDD33 pin or a separate bias supply under \n3.6V that is up before the L TC3882-1 is enabled. Otherwise, power-not-good may be falsely indicated after the PWM outputs are running.\nThe SYNC pin has an on-chip pull-down transistor with \nthe output held low for nominally 250ns when driven by the L TC3882-1. If the internal oscillator is set for 500kHz and the load is 100pF with a 1/3 rise time required, the resistor calculation is as follows:\n  RPULLUP =2µs – 250ns\n3 •100pF=5.83k\nThe closest 1% resistor is 5.76k.\nIf timing errors are occurring or if the SYNC amplitude \nis not as large as required, monitor the waveform and determine if the RC time constant is too long for the \nLTC3882-164\nRev B For more information www.analog.comAPPLICATIONS INFORMATION\napplication. If possible reduce the parasitic capacitance. \nOtherwise reduce the pull-up resistor sufficiently to assure proper operation.\nThe SHARE_CLK output has a nominal period of 10μs \nand is pulled low for about 1μs. If the system load on this shared line is 100pF , the resistor calculation for this line with a 1/3 rise time is:\n  RPULLUP =9µs\n3 •100pF=30k\nThe closest 1% resistor is 30.1k.\nFor high speed signals such as SDA, SCL and SYNC, a \nlower value resistor may be required. The RC time constant should be set to 1/3 to 1/5 the required rise time to avoid timing issues. For a 100pF load and a 400kHz PMBus com -\nmunication rate, the resistor pull-up on the SDA and SCL pins with the time constant set to 1/3 the rise time equals\n  RPULLUP =tRISE\n3 •100pF=1 k\n \nThe closest 1% resistor value is 1k.\nBe careful to minimize parasitic capacitance on the SDA \nand SCL lines to avoid communication problems. T\no \nestimate the loading capacitance, monitor the signal in question and measure how long it takes for the desired signal to reach approximately 63% of the output value. This is one time constant.\nPMBus Communication and Command Processing\nThe L TC3882-1 has a one deep buffer to hold the last data \nwritten for each supported command prior to processing, as shown in Figure 45. T wo distinct parallel sections of the L TC3882-1 manage command buffering and command processing to ensure the last data written to any command is never lost. When the part receives a new command from the bus, command data buffering copies the data into the write command data buffer and indicates to the internal processor that data for that command should be handled. The internal processor runs in parallel and per -\nforms the sometimes slower task of fetching, converting (to internal format) and executing commands so marked for processing.Some computationally intensive commands (e.g., timing parameters, temperatures, \nvoltages and currents) have \ninternal processor execution times that may be long relative to PMBus timing. If the part is busy processing a command, and a new command(s) arrives, execution may be delayed or processed in a different order than received. The part indicates when internal calculations are in process with bit 5 of MFR_COMMON (L TC3882-1 Calculations Not Pending). When the internal proces -\nsor is busy calculating, bit 5 is cleared. When this bit is set, the part is ready for another command. An example polling loop is provided in Figure 46, which ensures that commands are processed in order while simplifying error handling routines. MFR_COMMON always returns valid data at PMBus speeds between 10kHz and 400kHz.\nWhen the part receives a new command while it is busy\n, \nit will communicate this condition using standard PMBus \nprotocol. Depending on part configuration it may either NACK the command or return all ones (0xFF) for reads. It may also generate a BUSY fault and ALERT notification, or stretch the SCL clock low. For more information refer to PMBus Specification V1.2, Part II, Section 10.8.7 and SMBus V2.0 section 4.3.3. Clock stretching can be enabled by asserting bit 1 of MFR_CONFIG_ALL_L TC3882-1. Clock stretching will only occur if enabled and the bus communication speed exceeds 100kHz.\nPMBus protocols for busy devices are well accepted \nstandards but can make writing system level software somewhat complex. The part provides three handshaking status bits which reduce this complexity while enabling robust system level communication. The three hand \nFigure 45. Write Command Data ProcessingDECODERCMD\nINTERNAL\nPROCESSORWRITE COMMAND\nDATA BUFFER\nPAGE\nCMDS0x00\n0x21\n0xFD\n38821 F45x1•••\n•••\nMFR_RESETVOUT_COMMAND\nSCALCULATIONS\nPENDINGPMBus\nWRITE\nRFETCH,\nCONVERT\nDATA\nAND\nEXECUTEDATA\nMUX\nLTC3882-165\nRev B For more information www.analog.comAPPLICATIONS INFORMATION\nshaking status bits are in the MFR_COMMON register . \nWhen the part is busy executing an internal operation, it will clear bit 6 of MFR_COMMON (L TC3882-1 Not BUSY). When internal calculations are in process, the part will clear bit 5 of MFR_COMMON (L TC3882-1 Calculations Not Pending). When the part is busy specifically because it is ter that supports that function. Clock stretching does not allow the L TC3882-1 to communicate reliably on busses operating above 400kHz. Operating the L TC3882-1 with PMBus SCL rates above 400kHz is not recommended. System software that detects and properly recovers from the standard PMBus NACK responses or BUSY faults described in PMBus Specification V1.2, Part II, Section 10.8.7 is required to communicate above 100kHz without clock stretching.\nRefer to Application Note 135 for techniques that may \nalso apply to implement a robust PMBus interface to the L TC3882-1.\nStatus and Fault Log Management\nDue to internal operation, very infrequently the LS byte of \nSTATUS_WORD may be inconsistent with the state of bits in the MS byte. This condition is quite transient and can normally be resolved by simply re-reading STATUS_WORD.\nIf power is lost during an internal store of a fault log to \nEEPROM, a partial write of the log can result. In this situ -\nation, the L TC3882-1 will not indicate that a fault log is present the next time adequate supply voltage is applied (bit 3 of ST\nATUS_MFR_SPECIFIC). The existence of a \npartial fault log can be detected by examining the header of the log (MFR_FAUL T_LOG). If the first two words of the Fault Log Preface contain valid data as specified by Table 2, and STATUS_MFR_SPECIFIC does not indicate the presence of a complete fault log, then a partial log existed in EEPROM at boot and has been retrieved to RAM. The only way to then determine how much of the log is actually valid is by subjective evaluation of the contents of each log event record. MFR_FAUL T_LOG_CLEAR will permanently erase a partial fault log, allowing a subsequent log to be written. It is a good practice to always check for a partial fault log at power-up if fault logging is enabled (bit 7 of MFR_CONFIG_ALL_L TC3882-1). \nL TpowerPlay – An Interactive Digital Power GUI\nL TpowerPlay is a powerful Windows-based development \nenvironment that supports Linear Technology Power Sys -\ntem Management ICs, including the L TC3882-1. L Tpower -\nPlay can be used to evaluate L TC products by connecting to \na Linear Technology demo circuit or user application. Figure 46. Example of a Polling Loop to Write VOUT_COMMAND// wait until bits 6, 5, and 4 of MFR_COMMON are all set\ndo{ \nmfrCommonValue = PMBUS_READ_BYTE(0xEF);\n partReady = (mfrCommonValue & 0x68) == 0x68;                \n}while(!partReady)\n// now the part is ready to receive the next command\nPMBUS_WRITE_WORD(0x21, 0x2000); //write VOUT_COMMAND to 2V\ntransitioning V OUT (margining, off/on, moving to a new \nVOUT_COMMAND, etc.) it will clear bit 4 of MFR_COM -\nMON (L TC3882-1 Output Not In T ransition). These three status bits can be polled with a PMBus read byte of the MFR_COMMON register until all three bits are set. A com -\nmand immediately following all these status bits being set will \nbe accepted without a NACK, BUSY fault or ALERT \nnotification. The part can NACK commands for other reasons, however , as required by the PMBus specifica -\ntion (e.g., an invalid command or data). An example of a r\nobust command write algorithm for the VOUT_COMMAND \nregister is provided in Figure 46.\nIt is recommended that all command writes be preceded \nwith such a polling loop to avoid the extra complexity of dealing with busy behavior or unwanted ALERT notifica -\ntions. A simple way to achieve this is to embed the polling in subroutines to write command bytes and words. This polling mechanism will allow system software to remain clean and simple while robustly communicating with the part. For a detailed discussion of these topics and other special cases please refer to the application note section located at www\n.linear .com/designtools/app_notes.\nWhen communicating using bus speeds at or below 100kHz, the polling mechanism previously shown pro -\nvides a simple solution that ensures robust communica -\ntion without clock stretching. At bus speeds in excess of 100kHz, it is strongly recommended that the part be enabled to use clock stretching, requiring a PMBus mas -\nLTC3882-166\nRev B For more information www.analog.comAPPLICATIONS INFORMATION\nL TpowerPlay can also be used offline (no hardware pres -\nent) to build multiple IC configuration files that can be \nsaved and later reloaded. L\nTpowerPlay uses the DC1613 \nUSB-to-I2C/SMBus/PMBus controller to communicate \nwith a system for evaluation, development or debug. The software also features automatic update to remain up-to-date with the latest device drivers and documentation available from Linear Technology. A great deal of context sensitive help is available within L TpowerPlay, along with several tutorials. Complete information is available here.\n Interfacing to the DC1613\nThe L TC DC1613 USB-to-I\n2C/SMBus/PMBus controller \ncan be interfaced to the L TC3882-1 on any board for \nprogramming, telemetry and system debug. This includes the DC1936 from Linear Technology, or any customer target system. The controller , when used in conjunction \nwith L TpowerPlay, provides a powerful way to debug an entire power system. Faults are quickly diagnosed using telemetry, fault status registers and the fault log. The final configuration can be quickly developed and stored to the L TC3882-1 EEPROM and/or L TpowerPlay configuration file.\nThe DC1613 can communicate with, program and even \npower one or more L TC3882-1s, regardless of whether \nsystem supplies are up. The DC2086 Powered Program -\nming Adapter can be used to extend the power sourcing capability of the DC1613. \nFigure 47 illustrates an applica -\ntion schematic for in-system programming of multiple \nL\nTC3882-1s normally powered from a V CC system supply \n(5V to 12V). If V CC is applied, the DC1613 will not supply \nthe L TC3882-1s on the board. If the DC2086 is used, PFETs \nwith lower R DS(ON) , such as the SiA907EDJT , should be \nused in place of the TP0101K devices. Figure 48 shows an \nexample when the system normally provides 3.3V directly to the L TC3882-1(s).\nIf system supplies are not up in either of these circuits, the \nDC1613 will power the L TC3882-1 V\nDD33 supply, allowing \nin-circuit configuration or manufacturing customization. These circuits also facilitate remote diagnostics, control and reprogramming of the L TC3882-1 while the host system is fully operational, permitting very flexible in-system debugging.If the system supply is restored while power is still applied \nby the DC1613 or DC2086, the L TC3882-1 can often be ready to initiate output soft-start before sufficient supply bias for the power stage has been established. Create additional L TC3882-1 delay with TON_DELAY or use a common system RUN line to control both the L TC3882-1 and its related power stages based on acceptable operat -\ning parameters, as shown in Figure 55. The DC1613 I\n2C \nconnections are opto-isolated from the host PC USB. The DC1613 3.3V current limit is only 100mA, so it should only be used to power one or two L TC3882-1s in-system. \nBecause of this limited current sourcing capability, only the L TC3882-1s, their associated pull-up resistors and the I\n2C pull-up resistors should be powered from the isolated \n3.3V supply provided by the DC1613. Using the DC2086 \nwill enable in-system programming of several tens of L TC3882-1 devices without normal system power applied. \nAny other device sharing the I\n2C bus with the L TC3882-1 \nshould not have body diodes between their SDA/SCL pins and their respective logic supply, because this will interfere with bus communication in the absence of system power . Hold the RUN pins low externally to avoid providing power to the load until the part is fully configured.\nDesign Example\nAs a design example, consider a 132W 2-phase applica -\ntion such as the one shown in Figure 53, where V\nIN = 36V , \nVOUT = 3.3V , and I OUT = 40A. A fully discrete power stage \ndesign is employed to allow better optimization given these \ndemanding requirements. Assume that a secondary 5V supply will be available in the system for the L TC3882-1 V\nCC supply. The necessary local bypassing is then pro-\nvided for the V DD33 (2.2µF) and V DD25 (1µF) LDO outputs. \nThese LDO outputs should not be shared with other ICs that might have outputs of the same name, because they have independent, internal control loops.  When V\nDD33 \nis used as the L TC3882-1 supply input, it may be shared with other ICs operating from that 3.3V supply. Local HF bypassing of at least 0.1µF is still required on V\nDD33 in \nthis case.\nFirst, the regulated output is established by programming \nthe VOUT_COMMAND stored in EEPROM to 3.3V .\nLTC3882-167\nRev B For more information www.analog.comAPPLICATIONS INFORMATION\nFigure 47. DC1613 Connection (V CC Supply)VCCSYSTEM\nVCC\nVS\nVDD33 VDD25\nSDA2.2µF\n2.2µF4.7µF1µF\n1µF\n38821 F4710kTP0101K\nISOLATED 5V\nSDA\nSCLLT C\nCONTROLLER\nHEADER\nTO L TC DC1613\nUSB TO I2C/SMBus/PMBus\nCONTROLLERSCL\nGNDL TC3882-1\nVCC\nVDD33\nSDA\nSCL\nGNDL TC3882-110kTP0101K\nVDD25–IN\nGND400mV\nREFERENCEL T6703-2\nOUT\n+–\n10k102k10k\n10k2N2002\nFigure 48. DC1613 Connections (V DD33 Supply)GNDENBA\nENBB\nL TC4413STAT\nVDD33 VDD25\nSDA0.1µF0.1µFSYSTEM\n3.3V\n1µF1µF\n38821 F4810k\nISOLATED 3.3V\nSDA\nSCLLT C\nCONTROLLER\nHEADER\nTO L TC DC1613\nUSB TO I2C/SMBus/PMBus\nCONTROLLERSCL\nGNDL TC3882-1VCC\nVCCVDD33\nSDA\nSCL\nGNDL TC3882-1\n10kVDD25OUTB\nOUTAINB\nINACONTROL CIRCUIT\nLTC3882-168\nRev B For more information www.analog.comThe frequency and phase are also set by EEPROM values. \nAssume that solution footprint or vertical clearance is an issue, so operating frequency will need to be increased in an effort to minimize inductor value (size). This choice could also result from the need to have above average transient performance, although efficiency may be re -\nduced slightly. FREQUENCY_SWITCH is set to 1.0MHz. As a 2-phase system, MFR_P\nWM_CONFIG_L TC3882-1 \nis programmed to 0x14 to put Channel 0 phase at 0° and Channel 1 phase at 180°. This produces the lowest input ripple possible with this configuration and allows this output to synchronize with other rails via SHARE_CLK.\nThe design will plan on a nominal output ripple of 70% of \nI\nOUT to minimize the magnetics volume, and the inductance \nvalue is chosen based on this assumption. Each channel supplies an average 20A to the output at full load, result -\ning in a ripple of 14A\nP-P. A 200nH inductor per phase \nwould create this peak-to-peak ripple at 1.0MHz. A Pulse PA0513.22L T 210nH inductor with a DCR of 0.32mΩ typical is selected. Setting IOUT_FAUL T_LIMIT to 35A per phase leaves plenty of headroom for transient conditions while still adequately protecting against the rated inductor saturation current of 45A at temperature.\nFor top and bottom power FETs, the 40V rated Infineon \nBSC050N04LSG and BSC010N04LS are chosen, respec -\ntively. These afford both low R\nDS(ON)  and low gate charge \nQG. T wo of each of these could be paralleled to achieve \nimproved efficiency at full load, if desired.\nThe L TC4449 gate driver is chosen for its fast response \n(13ns), suitable gate drive, V IN capability (38V) and the \nease with which it can be interfaced to the L TC3882-1. Basic three-state control, CCM operation, fast boost refresh, low V\nOUT range and digital output voltage servo are selected \nby programming MFR_PWM_MODE_L TC3882-1 to 0xC0 for both channels.\nFor input filtering, a 47μF SUNCON capacitor and four \n22μF ceramic capacitors are selected to provide accept -\nable AC impedance against the designed converter ripple current. Four 470μF 9mΩ POSCAPs and two 100μF\n \nceramic capacitors are chosen for the output to maintain supply regulation during severe transient conditions and to minimize output voltage ripple.A loop crossover frequency of 100kHz provides good transient performance while still being well below the switching frequency of the converter . The values of R29, R30 and C25 to C27 were determined to produce a nomi -\nnal system phase margin of about 65° at this bandwidth.\nFor the DCR sense filter network, R = 3.09k and C = 220nF \nare chosen to match the L/DCR time constant of the induc -\ntor . PolyPhase connections (I\nAVG, et al) are shown in the \nschematic to ensure good output current sharing between the two power stages.\nExternal temperature sense will employ an accurate \n∆VBE \nmethod, and Q1 and Q2 serve to sense the temperature of \nL1 and L2, respectively. These components will be located immediately adjacent to their chokes and the 10nF filter capacitors placed with the BJTs.\nResistor configuration is used on the ASELn pins to pro-\ngram PMBus address (MFR_ADDRESS) to 0x4C. Each \nL\nTC3882-1 must be configured for a unique address. \nUsing both ASELn pins to accomplish this programming \nis recommended for simpliest in-system programming. Check the selected address to avoid collision with global addresses other any other specific devices. Identical MFR_RAIL_ADDRESS can be set in EEPROM for both channels to allow single-command control of common rail parameters such as IOUT_OC_FAUL T_LIMIT . The L TC3882-1 also responds to 7-bit global addresses 0x5A and 0x5B. MFR_ADDRESS and MFR_RAIL_ADDRESS should not be set to either of these values.\nPMBus connection (three signals), as well as shared \nRUN control and fault propagation (FAUL T) are provided. SYNC can be used to synchronize other PWMs to this rail if required. \nPull-ups are provided on all these shared open-drain signals \nassuming a maximum 100pF line load and PMBus rate of 100kHz. These pins should not be left floating. Termina -\ntion to 3.3V ensures the absolute maximum ratings for the pins are not exceeded. All other operating parameters such as soft start/stop and desired faults responses are programmed via PMBus command values stored in internal\n \nL TC3882-1 EEPROM.APPLICATIONS INFORMATION\nLTC3882-169\nRev B For more information www.analog.comPMBus COMMAND DETAILS\nPAGE\nThe PAGE command provides the ability to configure, control and monitor both PWM channels through only one \nphysical address, either the MFR_ADDRESS or GLOBAL device address. Each PAGE contains the operating memory for one PWM channel.\nPages 0x00 and 0x01 correspond to Channel 0 and Channel 1, respectively, in this device.Setting PAGE to 0xFF applies any following paged commands to both outputs. With PAGE set to 0xFF the L TC3882-1 \nwill respond to read commands as if PAGE were set to 0x00 (Channel 0 results).\nThis command has one data byte.\nPAGE_PLUS_WRITE\nThe PAGE_PLUS_WRITE command provides a way to set the page within a device, send a command and then send \nthe data for the command, all in one communication packet. Commands allowed by the present write protection level may be sent with PAGE_PLUS_WRITE.\nThe value stored in the PAGE command is not affected by PAGE_PLUS_WRITE. If PAGE_PLUS_WRITE is used to send \na non-paged command, the Page Number byte is ignored.\nThis command uses Write Block protocol. An example of the PAGE_PLUS_WRITE command with PEC sending a com -\nmand that has two data bytes is shown in Figure 49.(by functional groups)\nFigure 49. Example of PAGE_PLUS_WRITESLAVE\nADDRESSPAGE_PLUS\nCOMMAND CODEBLOCK COUNT\n(= 4)W A A S7 8 8 1\nPAGE\nNUMBER8 1 1 1 1 1\nA A …COMMAND\nCODE8 1\nA\nUPPER DATA\nBYTEA A P\n38821 F49A8 8 1 1 1 1\nPEC BYTELOWER DATA\nBYTE8ADDRESSING AND WRITE PROTECT\nCOMMAND NAMECMD \nCODE DESCRIPTION TYPE PAGEDDATA \nFORMAT UNITS NVMDEFAUL T \nVALUE\nPAGE 0x00 Channel (page) presently selected for any \npaged command.R/W Byte N Reg 0x00\nPAGE_PLUS_WRITE 0x05 Write a command directly to a specified page. W Block N\nPAGE_PLUS_READ 0x06 Read a command directly from a specified \npage.Block R/W \nProcessN\nWRITE_PROTECT 0x10 Protect the device against unintended PMBus \nmodifications.R/W Byte N Reg l 0x00\nMFR_ADDRESS 0xE6 Specify right-justified 7-bit device address. R/W Byte N Reg l 0x4F\nMFR_RAIL_ADDRESS 0xFA Specify unique right-justified 7-bit address \nfor channels comprising a PolyPhase output.R/W Byte Y Reg l 0x80\nRelated commands: MFR_COMMON.\nLTC3882-170\nRev B For more information www.analog.comFigure 50. Example of PAGE_PLUS_READ\nWRITE_PROTECT\nThe WRITE_PROTECT command is used to control PMBus write access to the L TC3882-1.\nSupported Values:\nVALUE MEANING\n0x80 Disable all writes except WRITE_PROTECT , PAGE, STORE_USER_ALL and MFR_EE_UNLOCK commands.\n0x40 Disable all writes except WRITE_PROTECT , PAGE, STORE_USER_ALL, MFR_EE_UNLOCK, OPERATION, CLEAR_PEAKS and CLEAR_FAUL TS \ncommands. Individual faults can also be cleared by writing a 1 to the respective status bit.\n0x20 Disable all writes except WRITE_PROTECT , PAGE, STORE_USER_ ALL, MFR_EE_UNLOCK, OPERATION, CLEAR_PEAKS, CLEAR_FAUL TS, \nON_OFF_CONFIG and VOUT_COMMAND commands. Individual faults can be cleared by writing a 1 to the respective status bit.\n0x00 Enables writes to all commands.\nThis command has one data byte.P1SLAVE\nADDRESSPAGE_PLUS\nCOMMAND CODEBLOCK COUNT\n(= 2)W A A S7 8 8 1\nPAGE\nNUMBER8 1 1 1 1 1\nA A …COMMAND\nCODE8 1\nA\nSLAVE\nADDRESSBLOCK COUNT\n(= 2)LOWER DATA\nBYTER A A Sr7 8 8 1\nUPPER DATA\nBYTE8 1 1 1 1 1\nA A PEC BYTE8 1\nNA\n38821 F50PMBus COMMAND DETAILS (Addressing and Write Protect)\nPAGE_PLUS_READ\nThe PAGE_PLUS_READ command provides the ability to set the page within a device, send a command and then read \nthe data returned by the command, all in one communication packet .\nThe value stored in the PAGE command is not affected by PAGE_PLUS_READ. If PAGE_PLUS_READ is used to access \ndata from a non-paged command, the Page Number byte is ignored.\nThis command uses Block Write – Block Read Process Call protocol. An example of the PAGE_PLUS_READ command \nwith PEC is shown in Figure 50.\nNOTE: PAGE_PLUS commands cannot be nested. A PAGE_PLUS command cannot be used to read or write another \nPAGE_PLUS command. If this is attempted, the L TC3882-1 will NACK the entire PAGE_PLUS packet and issue a CML fault for Invalid/Unsupported Data.\nLTC3882-171\nRev B For more information www.analog.comPMBUS_REVISION\nThe PMBUS_REVISION command returns the revision of the PMBus Specification that the device supports. The \nL TC3882-1 is compliant with PMBus Version 1.2, both Part I and Part II.\nThis read-only command has one data byte.\nCAPABILITY\nThe CAPABILITY command reports some key L TC3882-1 features to the PMBus host device.The L TC3882-1 supports packet error checking, 400kHz bus speeds and has an ALERT output.This read-only command has one data byte.GENERAL DEVICE CONFIGURATION\nCOMMAND NAMECMD \nCODE DESCRIPTION TYPE PAGEDDATA \nFORMAT UNITS NVMDEFAUL T \nVALUE\nPMBUS_REVISION 0x98 Supported PMBus version. R Byte Y Reg 0x22  \nV1.2\nCAP\nABILITY 0x19 Summary of supported optional PMBus \nfeatures.R Byte N Reg 0xB0\nMFR_CONFIG_ALL_L TC3882-1 0xD1 L TC3882-1 device-level configuration. R/W Byte N Reg l 0x01PMBus COMMAND DETAILS (Addressing and Write Protect)\nMFR_ADDRESSThe MFR_ADDRESS command sets the seven bits of the PMBus device address for this unit (right justified).Setting this command to a value of 0x80 disables device-level addressing. The GLOBAL device addresses 0x5A and \n0x5B cannot be disabled. The L TC3882-1 always responds at these addresses. Even if bit 6 of MFR_CONFIG_ALL_L TC3882-1 is set to ignore the device resistor configuration pins, any valid address, or portion of an address, specified with external resistors on ASEL0 or ASEL1 is applied. If both of these pins are open, the device address is determined strictly by the MFR_ADDRESS value stored in EEPROM. Refer to the Operation section on Resistor Configuration Pins for additional details.\nThis command has one data byte.\nMFR_RAIL_ADDRESS\nThe MFR_RAIL_ADDRESS command sets a direct 7-bit PMBus address (right justified) for the active channel(s) as \ndetermined by the PAGE command. This address should be common to all channels attached to a single power supply rail. Setting this command to a value of 0x80 disables rail device addressing for the selected channel. Only command writes should be made to the rail address. If a read is performed from this address, a CML fault may result.\nThis command has one data byte.\nLTC3882-172\nRev B For more information www.analog.comON_OFF_CONFIG\nThe ON_OFF_CONFIG command specifies the combination of RUNn pin input state and PMBus commands needed to \nturn the PWM channel on and off.\nSupported Values:\nVALUE MEANING\n0x1F OPERATION value and RUNn pin must both command the device to start/run. Device executes immediate off when commanded off with \nthe RUN pin.\n0x1E OPERATION value and RUNn pin must both command the device to start/run. Device uses TOFF_ command values when commanded off.\n0x17 RUNn pin control with immediate off when commanded off. OPERATION on/off control ignored.0x16 RUNn pin control using TOFF_ command values when commanded off. OPERATION on/off control ignored.\nProgramming an unsupported ON_OFF_CONFIG value will generate a CML fault and the command will be ignored.\nThis command has one data byte.ON, OFF AND MARGIN CONTROL\nCOMMAND NAMECMD \nCODE DESCRIPTION TYPE PAGEDDATA \nFORMAT UNITS NVMDEFAUL T \nVALUE\nON_OFF_CONFIG 0x02 RUN pin and PMBus on/off command \nconfiguration.R/W Byte Y Reg l 0x1E\nOPERATION 0x01 On, off and margin control. R/W Byte Y Reg l 0x80\nMFR_RESET 0xFD Force full reset without removing power . Send Byte NPMBus COMMAND DETAILS (General Device Configuration)\nMFR_CONFIG_ALL_LTC3882-1The MFR_CONFIG_ALL_L TC3882-1 command provides device-level configuration common to multiple L TC PMBus \nproducts.\nBit Definitions:\nBIT MEANING\n7 Enable fault logging.\n6 Ignore resistor configuration pins. Does not apply to ASEL0 or ASEL1.5 Disable CML fault for Quick Command message.4 Disable SYNC output.3 Enable 255ms PMBus timeout.2 Require valid PEC for PMBus write.1 Enable PMBus clock stretching.0 Execute CLEAR_FAUL TS on rising edge of either RUN pin.\nIf a legal command is received with an invalid PEC, the L TC3882-1 will not execute the command, regardless of the state \nof bit 2. If clock stretching is enabled, the L TC3882-1 only uses it as required, generally above SCL rates of 100kHz.\nThis command has one data byte.\nLTC3882-173\nRev B For more information www.analog.comOPERATION\nThe OPERATION command is used to turn the PWM channel on and off in conjunction with RUN pin hardware control. \nThis command may also be used to move the output voltage to margin levels. V OUT changes commanded by OPERATION \nmargin commands occur at the programmed VOUT_TRANSITION_RATE. The unit stays in the commanded operating state until an OPERATION command or RUN pin voltage instructs the device to change to another state.\nExecution of margin commands is delayed until any on-going TON_RISE or TOFF_FALL output sequencing is com -\npleted. Margin values are affected by AVP function, if enabled. Margin operations that ignore faults are not supported \nby the L\nTC3882-1.\nSupported Values:\nVALUE MEANING\n0xA8 Margin high.\n0x98 Margin low.\n0x80 On (V OUT back to nominal even if bit 3 of ON_OFF_CONFIG is not set).\n0x40* Soft off (with sequencing).0x00* Immediate off (no sequencing).\n*Device does not respond to these commands if bit 3 of ON_OFF_CONFIG is not set.\nProgramming an unsupported OPERATION value will generate a CML fault and the command will be ignored.\nThis command has one data byte.\nMFR_RESET\nThis command provides a means to reset the L TC3882-1 from the serial bus. This forces the L TC3882-1 to turn off \nboth PWM channels, load the operating memory from internal EEPROM, clear all faults and then perform a soft-start of both PWM channels, if enabled.\nThis write-only command has no data bytes.PMBus COMMAND DETAILS (On, Off and Margin Control)\nLTC3882-174\nRev B For more information www.analog.comFREQUENCY_SWITCH\nThe FREQUENCY_SWITCH command sets the switching frequency of both L TC3882-1 PWM channels in kilohertz. At \nmost only one IC sharing SYNC should be programmed as clock master . See bit 4 in MFR_CONFIG_ALL_L TC3882-1. FREQUENCY_SWITCH value will determine the free-running frequency of PWM operation if an expected external clock source is not present or the bussed SYNC line becomes stuck due an external fault or conflict. Both PWM channels must be turned off by the RUNn pins, OPERATION command, or their combination, to process this command. If this command is sent while either PWM controller is operating, the L TC3882-1 will NACK the command byte, ignore the command and its data, and assert a BUSY fault. A PLL Unlocked status may be reported after changing the value of this command until the new frequency is established.\nSupported Frequencies:\nVALUE PWM FREQUENCY (TYPICAL)\n0x0A71 1.25MHz\n0x03E8 1MHz\n0x0384 900kHz\n0x02EE 750kHz\n0x0258 600kHz\n0xFBE8 500kHz\n0xFB84 450kHz\n0xFB20 400kHz\n0xFABC 350kHz\n0XFA58 300kHz\n0xF3E8 250kHz\n0x0000 External SYNC Only\nThis command has two data bytes in Linear_5s_11s format.PWM CONFIGURATION\nCOMMAND NAMECMD \nCODE DESCRIPTION TYPE PAGEDDATA \nFORMAT UNITS NVMDEFAUL T \nVALUE\nFREQUENCY_SWITCH 0x33 PWM frequency control. R/W Word N L11 kHz l 500kHz \n0xFBE8\nMFR_P\nWM_CONFIG_L TC3882-1 0xF5 L TC3882-1 PWM configuration common to \nboth channels.R/W Byte N Reg l 0x14\nMFR_CHAN_CONFIG_L TC3882-1 0xD0 L TC3882-1 channel-specific configuration. R/W Byte Y Reg l 0x1D\nMFR_PWM_MODE_L TC3882-1 0xD4 L TC3882-1 channel-specific PWM mode \ncontrol.R/W Byte Y Reg l 0xC8\nRelated commands MFR_TEMP_1_GAIN_ADJUST , MFR_TEMP_1_OFFSET .PMBus COMMAND DETAILS (PWM Configuration)\nLTC3882-175\nRev B For more information www.analog.comMFR_PWM_CONFIG_LTC3882-1\nThe MFR_PWM_CONFIG_L TC3882-1 command controls PWM-related clocking for the L TC3882-1. Both PWM chan -\nnels must be turned off by the RUNn pins, OPERATION command, or their combination, to process this command. If \nthis command is sent while either P\nWM controller is operating, the L TC3882-1 will NACK the command byte, ignore \nthe command and its data, and assert a BUSY fault.\nSupported Values:\nBIT MEANING\n7 (Reserved, must write as 0).\n6 (Reserved, must write as 0).5 (Reserved).4 SHARE_CLK configuration:\n0: SHARE_CLK continuously enabled once VINSNS ≥ VIN_ON after initialization.\n1: SHARE_CLK always forced low if VINSNS ≤ VIN_OFF , then held low until VINSNS ≥ VIN_ON.\n3 (Reserved).\n2:0\nValuePhaseMaximum Duty \nCycle Channel 0 Channel 1\n111b 135° 315° 87.5%\n110b 90° 270°\n101b 45° 225°\n100b 0° 180°\n011b 120° 300° 83.3%\n010b 60° 240°\n001b 0° 180°\n000b 0° 120°\nPhase is expressed from the falling edge of SYNC to the falling edge of PWM.\nThis command has one data byte.PMBus COMMAND DETAILS (PWM Configuration)\nLTC3882-176\nRev B For more information www.analog.comMFR_CHAN_CONFIG_LTC3882-1\nThe MFR_CHAN_CONFIG_L TC3882-1 command provides per-channel configuration common to multiple L TC PMBus \nproducts.\nBit Definitions:\nBIT MEANING\n7:5 (Reserved).\n4 RUN pin control:\n0: When the channel is commanded off, the associated RUN pin is pulsed low for TOFF_DELAY + TOFF_FALL + 136ms  \n(or MFR_RESTART_DELAY, if longer) regardless of the state of bit 3.\n1: RUN pin is not pulsed low if channel is commanded off.\n3 Short cycle control:\n0: No special control. Device attempts to follow on/off commands exactly as issued.\n1: Output is immediately disabled if commanded back on while waiting for TOFF_DELA\nY or TOFF_FALL to expire. A minimum off time \nof 120ms is then enforced before the channel is turned back on. Additional delay will apply if bit 4 is clear .\n2 SHARE_CLK output control:\n0: No special control.1: Output disabled if SHARE_CLK is held low.\n1 (Reserved, must write as 0).\n0 MFR_RETRY_DELAY control:\n0: Output decay to 12.5% of programmed value required for retry after ANY action that turns off the rail.\n1: Output decay not required for retry.\nThis command has one data byte.PMBus COMMAND DETAILS (PWM Configuration)\nLTC3882-177\nRev B For more information www.analog.comMFR_PWM_MODE_LTC3882-1\nThe MFR_PWM_MODE_L TC3882-1 command sets important PWM controls for each channel. The addressed channel(s) \nmust be turned off by its RUN pin, OPERATION command, or their combination, when this command is issued. Oth -\nerwise the L TC3882-1 will NACK the command byte, ignore the command and its data, and assert a BUSY fault.\nWhen bit 5 is cleared, the L\nTC3882-1 computes temperature in °C from \n∆VBE measured by the ADC at the TSNSn pin as\n T = (G • \n∆VBE • q/(K • ln(16))) – 273.15 + O\nWhen bit 5 is set, the L TC3882-1 computes temperature in °C from TSNSn voltage measured by the ADC as\n T = (G • (1.35 – V TSNSn  + O)/4.3e-3) + 25\nFor both equations,\n G = MFR_TEMP_1_GAIN • 2–14, and\n O = MFR_TEMP_1_OFFSET\nSupported Values:\nBIT MEANING\n7 Output voltage range select:\n0: Maximum V OUT = 5.25V .\n1: Maximum V OUT = 2.65V .\n6* Enable V OUT servo.\n5 External temperature sense:\n0: \n∆VBE measurement.\n1: Direct voltage measurement.\n4:3 BOOST refresh width:\n11b: 250ns\n10b: 125ns01b: 50ns00b: 25ns\n2 (Reserved).\n1 PWM control protocol:\n0: 3-State PWM output.\n1: 3-State PWM output with no DCM (including soft-start) or hardware ROC response (including OV).\n0 PWM mode:\n0: Forced continuous inductor current.1: Discontinuous inductor current.\n*This bit is ignored (servo disabled) if MFR_VOUT_AVP for this channel is programmed to a value greater than 0.0%.\nThis command has one data byte.PMBus COMMAND DETAILS (PWM Configuration)\nLTC3882-178\nRev B For more information www.analog.comVIN_ON\nThe VIN_ON command sets the input voltage, in volts, required to start power conversion.This command has two data bytes in Linear_5s_11s format.\nVIN_OFF\nThe VIN_OFF command sets the minimum input voltage, in volts, at which power conversion stops.This command has two data bytes in Linear_5s_11s format.\nVIN_OV_FAULT_LIMIT\nThe VIN_OV_FAUL T_LIMIT command sets the value of the input voltage measured by the ADC, in volts, that causes \nan input overvoltage fault.\nThis command has two data bytes in Linear_5s_11s format.\nVIN_UV_WARN_LIMIT\nThe VIN_UV_WARN_LIMIT command sets the value of input voltage measured by the ADC that causes an input under -\nvoltage warning. This warning is disabled until the input exceeds the input startup threshold value set by the VIN_ON \ncommand and the unit has been enabled. If the VIN_UV_W\nARN_LIMIT is then exceeded, the device:\n•\n Sets the INPUT Bit in the ST\nATUS_WORD\n•\n Sets the V IN Undervoltage Warning Bit in the STATUS_INPUT Command\n•\n Notifies the Host by Asserting \nALERT, Unless MaskedINPUT VOL TAGE AND LIMITS\nCOMMAND NAMECMD \nCODE DESCRIPTION TYPE PAGEDDATA \nFORMAT UNITS NVMDEFAUL T \nVALUE\nVIN_ON 0x35 Minimum input voltage to begin power \nconversion.R/W Word N L11 V l 6.5V \n0xCB40\nVIN_OFF 0x36 Decreasing input voltage at which power \nconversion stops.R/W W\nord N L11 V l 6.0V \n0xCB00\nVIN_OV_F\nAUL T_LIMIT 0x55 V IN overvoltage fault limit. R/W Word N L11 V l 15.5V \n0xD3E0\nVIN_UV_W\nARN_LIMIT 0x58 V IN undervoltage warning limit. R/W Word N L11 V l 6.3V \n0xCB26\nRelated commands: ST\nATUS_INPUT , SMBALERT_MASK, READ_VIN, VIN_OV_FAUL T_RESPONSEPMBus COMMAND DETAILS (Input Voltage and Limits)\nLTC3882-179\nRev B For more information www.analog.comOUTPUT VOL TAGE AND LIMITS\nCOMMAND NAMECMD \nCODE DESCRIPTION TYPE PAGEDDATA \nFORMAT UNITS NVMDEFAUL T \nVALUE\nVOUT_MODE 0x20 Output voltage format and exponent. R Byte Y Reg 2–12 \n0x14\nVOUT_COMMAND 0x21 Nominal V OUT value. R/W Word Y L16 V l 1.0V \n0x1000\nMFR_VOUT_MAX 0xA5 Maximum value of any V OUT-related \ncommand.R Word Y L16 V l 5.6V \n0x599A\nVOUT_MAX 0x24 Maximum V OUT that can be set by any \ncommand, including margin.R/W Word Y L16 V l 5.5V \n0x5800\nMFR_VOUT_A\nVP 0xD3 Specify V OUT load line. R/W Word Y L11 % l 0% \n0x8000\nVOUT_MARGIN_HIGH 0x25 V OUT at high margin, must be greater than \nVOUT_COMMAND.R/W Word Y L16 V l 1.05V \n0x10CD\nVOUT_MARGIN_LOW 0x26 V OUT at low margin, must be less than \nVOUT_COMMAND.R/W Word Y L16 V l 0.95V \n0x0F33\nVOUT_OV_F\nAUL T_LIMIT 0x40 V OUT overvoltage fault limit. R/W Word Y L16 V l 1.1V \n0x119A\nVOUT_OV_W\nARN_LIMIT 0x42 V OUT overvoltage warning limit. R/W Word Y L16 V l 1.075V \n0x1133\nVOUT_UV_W\nARN_LIMIT 0x43 V OUT undervoltage warning limit. R/W Word Y L16 V l 0.925V \n0x0ECD\nVOUT_UV_F\nAUL T_LIMIT 0x44 V OUT undervoltage fault limit. R/W Word Y L16 V l 0.9V \n0x0E66\nRelated commands: OPERA\nTION, STATUS_WORD, STATUS_VOUT , SMBALERT_MASK, READ_VOUT , MFR_VOUT_PEAK, READ_POUT , VOUT_OV_FAUL T_\nRESPONSE, VOUT_UV_FAUL T_RESPONSEPMBus COMMAND DETAILS (Output Voltage and Limits)\nVOUT_MODE\nThe VOUT_MODE command gives the format used by the L TC3882-1 for output voltage related commands. Only Linear \nMode is supported, with a mantissa expressed in microvolts. Sending the VOUT_MODE command to the L TC3882-1 using a write protocol will result in a CML fault.\nThis read-only command has one data byte.\nVOUT_COMMAND\nThe VOUT_COMMAND is used to set the output voltage in volts (no load value if AVP is enabled). Execution of this \ncommand is delayed until any on-going TON_RISE or TOFF_FALL output sequencing is completed, otherwise the output voltage moves to a new value at VOUT_TRANSITION_RATE.\nThis command has two data bytes in Linear_16u format.\nMFR_VOUT_MAX\nThe MFR_VOUT_MAX command returns the maximum value, in volts, allowed for any V\nOUT-related command, in -\ncluding VOUT_OV_FAUL T_LIMIT . This value represents the maximum regulated voltage the selected channel could be \ncapable of producing.\nThis read-only command has two data bytes in Linear_16u format.\nLTC3882-180\nRev B For more information www.analog.comPMBus COMMAND DETAILS (Output Voltage and Limits)\nVOUT_MAX\nThe VOUT_MAX command sets an upper limit, in volts, on the allowed value of any command that sets the output \nvoltage, including VOUT_MARGIN_HIGH. Setting VOUT_MAX to a value greater than MFR_VOUT_MAX will result in a CML fault and VOUT_MAX will be set to the value of MFR_VOUT_MAX. A VOUT_MAX warning may also be gener -\nated if VOUT_MAX is set above 5.5V in output range 0 or above 2.75V in range 1. This command ensures that any combination of commands attempting to set V\nOUT above VOUT_MAX will result in a warning with the output clamped \nat VOUT_MAX. When a VOUT_MAX warning occurs, the device takes the following actions:\n•\n Sets The Offending Command V\nalue to the Voltage Specified by VOUT_MAX\n•\n Sets the VOUT Bit in the ST\nATUS_WORD\n•\n Sets the VOUT_MAX W\narning Bit in the STATUS_VOUT Command\n•\n Notifies the Host by Asserting \nALERT, Unless Masked\nThis command has two data bytes in Linear_16u format.\nMFR_VOUT_AVP\nThe MFR_VOUT_AVP command sets the change in output voltage, in percent, for a full-scale change in output current. \nMFR_VOUT_AVP can be used for active voltage positioning (AVP) requirements or passive current sharing schemes. The L TC3882-1 interprets the IOUT_OC_WARN_LIMIT value as full-scale current for AVP . If MFR_VOUT_AVP is non-zero, VOUT_COMMAND sets the maximum, no-load output voltage and servo mode for that channel is automatically disabled. Setting MFR_VOUT_AVP to 0.0% automatically disables the AVP function. Refer to the Applications Informa -\ntion section for additional details on range and resolution when using MFR_VOUT_AVP .\nThis command has two data bytes in Linear_5s_11s format.\nVOUT_MARGIN_HIGH\nThe VOUT_MARGIN_HIGH command programs the output voltage, in volts, to be produced when Margin High is set \nwith \nthe OPERATION command (no load value if AVP is enabled). The value must be greater than VOUT_ COMMAND.\nThis command has two data bytes in Linear_16u format.\nVOUT_MARGIN_LOW\nThe VOUT_MARGIN_LOW command programs the output voltage, in volts, to be produced when Margin Low is set \nby the OPERATION command (no load value if AVP is enabled). The value must be less than VOUT_COMMAND.\nThis command has two data bytes in Linear_16u format.\nVOUT_OV_FAULT_LIMIT\nThe VOUT_OV_FAUL T_LIMIT command sets the value of the output voltage measured by the OV supervisor at the V SENSE± \npins, in volts, which causes an output overvoltage fault. If VOUT_OV_FAUL T_LIMIT is modified while the channel is on, \n10ms should be allowed for the new value to take effect. Modifying V OUT during that time can result an erroneous OV \nfault. The L TC3882-1 sets MFR_COMMON bits[6:5] low while it establishes the new VOUT_OV_FAUL T_LIMIT value.\nThis command has two data bytes in Linear_16u format.\nLTC3882-181\nRev B For more information www.analog.comVOUT_OV_WARN_LIMIT\nThe VOUT_OV_WARN_LIMIT command sets the value, in volts, of the output voltage measured by the ADC at the \nVSENSE± pins that causes an output overvoltage warning. If the VOUT_OV_WARN_LIMIT is exceeded, the device:\n•\n Sets the VOUT Bit in the ST\nATUS_WORD\n•\n Sets the V OUT Overvoltage Warning Bit in the STATUS_VOUT Command\n•\n Notifies the Host by Asserting \nALERT, Unless Masked\nThis command has two data bytes in Linear_16u format.\nVOUT_UV_WARN_LIMIT\nThe VOUT_UV_WARN_LIMIT command sets the value, in volts, of the output voltage measured by the ADC at the \nVSENSE± pins that causes an output undervoltage warning. If the VOUT_UV_WARN_LIMIT is exceeded, the device:\n•\n Sets the VOUT Bit in the ST\nATUS_WORD\n•\n Sets the V OUT Undervoltage Warning Bit in the STATUS_VOUT Command\n•\n Notifies the Host by Asserting \nALERT, Unless Masked\nThis command has two data bytes in Linear_16u format.\nVOUT_UV_FAULT_LIMIT\nThe VOUT_UV_FAUL T_LIMIT command sets the value of the output voltage measured by the UV supervisor at the \nVSENSE± pins, in volts, which causes an output undervoltage fault.\nThis command has two data bytes in Linear_16u format.PMBus COMMAND DETAILS (Output Voltage and Limits)\nLTC3882-182\nRev B For more information www.analog.comIOUT_CAL_GAIN\nThe IOUT_CAL_GAIN command is used to set the resistance value of the output current sense element in milliohms.This command has two data bytes in Linear_5s_11s format.\nMFR_IOUT_CAL_GAIN_TC\nThe MFR_IOUT_CAL_GAIN_TC command sets the temperature coefficient of the output current sense element in \nppm/°C. Effective sense resistance, in milliohms, is computed by the L TC3882-1 as\n \nRSENSE  = IOUT_CAL_GAIN • (1 + 1E-6 • MFR_IOUT_CAL_GAIN_TC • (READ_TEMPERATURE_1 – 27))\nThis command has two data bytes representing a 2’s compliment integer .\nIOUT_OC_FAULT_LIMIT\nThe IOUT_OC_FAUL T_LIMIT command sets the value of the instantaneous peak output current, in amperes, which \nwill cause the OC supervisor to detect an output overcurrent fault. The L TC3882-1 uses the computed effective sense resistance and the voltage across the I\nSENSE± inputs to determine the output current. The programmed limit voltage is \nrounded to the nearest 0.4mV in a range from 0.0mV to 80.0mV . Output overcurrent faults are ignored during TON_RISE and TOFF_FALL output sequencing.\nThis command has two data bytes in Linear_5s_11s format.\nIOUT_OC_WARN_LIMIT\nThe IOUT_OC_WARN_LIMIT command sets the value of the output current measured by the ADC, in amperes, that causes \nan output overcurrent warning. To provide meaningful responses, this value should be set below IOUT_OC_FAUL T_LIMIT minus 1/2 of the maximum anticipated ripple current. If the IOUT_OC_WARN_LIMIT is exceeded, the device:\n•\n Sets the IOUT Bit in the ST\nATUS_WORD\n•\n Sets the I OUT Overcurrent Warning Bit in the STATUS_IOUT Command\n•\n Notifies the Host by Asserting \nALERT, Unless Masked\nOutput overcurrent warnings are ignored during TON_RISE and TOFF_FALL output sequencing.This command has two data bytes in Linear_5s_11s format.OUTPUT CURRENT AND LIMITS\nCOMMAND NAMECMD \nCODE DESCRIPTION TYPE PAGEDDATA \nFORMAT UNITS NVMDEFAUL T \nVALUE\nIOUT_CAL_GAIN 0x38 Ratio of I SENSE± voltage to sensed current. R/W Word Y L11 mΩ l 0.63mΩ \n0xB285\nMFR_IOUT_CAL_GAIN_TC 0xF6 Output current sense element temperature \ncoefficient.R/W W\nord Y CF ppm/°C l 3900ppm/°C  \n0x0F3C\nIOUT_OC_F\nAUL T_LIMIT 0x46 Output overcurrent fault limit. R/W Word Y L11 A l 29.75A \n0xDBB8\nIOUT_OC_W\nARN_LIMIT 0x4A Output overcurrent warning limit. R/W Word Y L11 A l 20.0A \n0xDA80\nRelated commands: ST\nATUS_IOUT , SMBALERT_MASK, READ_IOUT , MFR_IOUT_PEAK, READ_POUT , IOUT_OC_FAUL T_RESPONSE, MFR_VOUT_AVPPMBus COMMAND DETAILS (Output Current and Limits)\nLTC3882-183\nRev B For more information www.analog.comThese commands can be used to establish required on/off sequencing for any number of system power supply rails.\nMFR_RESTART_DELAY\nThe MFR_RESTART DELAY command specifies the minimum PWM off time (RUN low) in milliseconds. The L TC3882-1 \nwill actively hold its RUN pin low for this length of time if a falling RUN edge is detected. After this delay, a standard start-up sequence can be initiated. A minimum of TOFF_DELAY + TOFF_FALL + 136ms is recommended for this com -\nmand value. Valid value range is 136ms to 65.52 seconds. The L TC3882-1 uses a resolution of 16ms for this command and will not produce delays outside of this range.\nThis command has two data bytes in Linear_5s_11s format.\nTON_DELA\nY\nThe TON_DELAY command sets the delay, in milliseconds, between a start condition and the beginning of the output \nvoltage rise. Values from 0ms to 83 seconds are considered valid, and the L TC3882-1 will not produce delays outside of this range.\nThis command has two data bytes in Linear_5s_11s format.\nTON_RISE\nThe TON_RISE command sets the desired time, in milliseconds, from the point the output starts to rise until it enters \nthe regulation band. Values from 0 seconds to 1.3 seconds are considered valid, and the L TC3882-1 will not produce rise times outside of this range. Values of TON_RISE less than 0.25ms or resulting slopes greater than 4V/ms will result in an output step to the commanded voltage limited only by PWM analog loop response.\nThis command has two data bytes in Linear_5s_11s format.OUTPUT TIMING, DELAYS, AND RAMPING\nCOMMAND NAMECMD \nCODE DESCRIPTION TYPE PAGEDDATA \nFORMAT UNITS NVMDEFAUL T \nVALUE\nMFR_RESTART_DELAY 0xDC Minimum time RUN pin is held low by the \nL TC3882-1.R/W Word Y L11 ms l 500ms \n0xFBE8\nTON_DELA\nY 0x60 Delay from RUN pin or OPERATION on \ncommand to TON_RISE ramp start.R/W Word Y L11 ms l 0.0ms \n0x8000\nTON_RISE 0x61 T\nime for V OUT to rise from 0V to  \nVOUT_COMMAND after TON_DELAY.R/W W\nord Y L11 ms l 8.0ms \n0xD200\nTON_MAX_F\nAUL T_LIMIT 0x62 Maximum time for V OUT to rise above  \nVOUT_UV_FAUL T_LIMIT after TON_DELAY.R/W W\nord Y L11 ms l 10.0ms \n0xD280\nVOUT_TRANSITION_RA\nTE 0x27 V OUT slew rate for programmed output \nchanges.R/W Word Y L11 V/ms l 0.25V/ms \n0xAA00\nTOFF_DELA\nY 0x64 Delay from RUN pin or OPERATION off \ncommand to TOFF_FALL ramp start.R/W Word Y L11 ms l 0.0ms \n0x8000\nTOFF_F\nALL 0x65 Time for V OUT to fall to 0V from  \nVOUT_COMMAND after TOFF_DELAY.R/W W\nord Y L11 ms l 8.0ms \n0xD200\nTOFF_MAX_W\nARN_LIMIT 0x66 Maximum time for V OUT to decay below \n12.5% of VOUT_COMMAND after TOFF_FALL \ncompletes.R/W Word Y L11 ms l 150ms \n0xF258\nRelated commands: MFR_RETR\nY_DELAY, STATUS_VOUT , SMBALERT_MASK, TON_MAX_FAUL T_RESPONSE, MFR_CHAN_CONFIG_L TC3882-1,  \nMFR_PWM_MODE_L TC3882-1PMBus COMMAND DETAILS (Output Timing, Delays, and Ramping)\nLTC3882-184\nRev B For more information www.analog.comTON_MAX_FAULT_LIMIT\nThe TON_MAX_FAUL T_LIMIT command sets the maximum time, in milliseconds, the unit is allowed from the beginning \nof TON_RISE to power up the output without passing VOUT_UV_FAUL T_LIMIT . A value of 0ms means there is no limit and the unit can attempt to bring up the output voltage indefinitely. The maximum allowed TON_MAX is 8 seconds.\nThis command has two data bytes in Linear_5s_11s format.\nVOUT_TRANSITION_RATE\nThe VOUT_TRANSITION_RATE command sets the rate at which the output voltage changes, in volts per millisecond \n(or mV/µs), in response to a VOUT_COMMAND or OPERATION (margin) command. This rate of change does not ap -\nply to operations that fully turn the PWM channel on or off. Values from 1mV/ms to 4V/ms are considered valid. The L\nTC3882-1 will not produce V OUT transitions slower than 1mV/ms, and values exceeding 4V/ms cause the device to \ntransition the output as quickly as possible, limited only by PWM analog loop response.\nThis command has two data bytes in Linear_5s_11s format.\nTOFF_DELAY\nThe TOFF_DELAY command sets the delay, in milliseconds, between a stop condition and the beginning of the output \nvoltage fall. Values from 0s to 16s are considered valid.\nThis command has two data bytes in Linear_5s_11s format.\nTOFF_FALL\nThe TOFF_FALL command sets the time, in milliseconds, from the end of TOFF_DELAY until the output voltage is com -\nmanded fully to zero. The part attempts to linearly reduce the commanded output voltage to zero during TOFF_FALL. \nAt the end of this period, the P\nWM output is disabled.\nThe part will maintain its programmed PWM operating mode during TOFF_FALL. Using continuous conduction mode will produce a well defined V\nOUT ramp off but may result in negative output current. The minimum supported fall time \nis 0.25ms, or any value that results in a rate of fall exceeding 4V/ms. Programmed values less than this will result in a commanded 0.25ms ramp, possibly limited by PWM analog loop response. Maximum fall time is 1.3 seconds.\nIn discontinuous conduction mode, the controller will not be able to draw current from the load and fall time will be \nset by output capacitance and load current.\nThis command has two data bytes in Linear_5s_11s format.\nTOFF_MAX_WARN_LIMIT\nThe TOFF_MAX_WARN_LIMIT command sets the time, in milliseconds, the unit is allotted to have the output off after \nTOFF_FALL completes before a warning is issued. The output is considered off when V\nOUT is less than 12.5% of the \nVOUT_COMMAND value.\nA data value of 0ms means there is no limit and the unit can attempt to turn the output off indefinitely. There is also \nno limit enforced if bit 0 of MFR_CHAN_CONFIG_L TC3882-1 is set.\nThis command has two data bytes in Linear_5s_11s format.PMBus COMMAND DETAILS (Output Timing, Delays and Ramping)\nLTC3882-185\nRev B For more information www.analog.comMFR_TEMP_1_GAIN\nThe MFR_TEMP_1_GAIN command sets the slope used in the calculation of external temperature to account for non-\nidealities in the element and remote sensing errors, if any. Refer to the MFR_PWM_MODE_L TC3882-1 command for equation details.\nThis command has two data bytes representing a 2’s complement integer .\nMFR_TEMP_1_OFFSET\nThe MFR_TEMP_1_OFFSET command sets the offset used in the calculation of external temperature to account for \nnon-idealities in the element and remote sensing errors, if any. The unit of measure for MFR_TEMP1_OFFSET depends on bit 5 of MFR_PWM_MODE. MFR_TEMP1_ OFFSET is expressed volts if this bit is set and in °C otherwise. Refer to the MFR_PWM_MODE_ L TC3882-1 command for equation details.\nThis command has two data bytes in Linear_5s_11s format.\nOT_FAULT_LIMIT\nThe OT_FAUL T_LIMIT command sets the value of sensed external temperature, in degrees Celsius, which causes an \novertemperature fault.\nThis command has two data bytes in Linear_5s_11s format.\nOT_WARN_LIMIT\nThe OT_WARN_LIMIT command sets the value of sensed external temperature, in degrees Celsius, which causes an \novertemperature warning. If the OT_WARN_LIMIT is exceeded, the device:\n•\n Sets the TEMPERA\nTURE Bit in the STATUS_BYTE\n•\n Sets the Overtemperature W\narning Bit in the STATUS_TEMPERATURE Command\n•\n Notifies the Host by Asserting \nALERT, Unless Masked\nThis command has two data bytes in Linear_5s_11s format.EXTERNAL TEMPERATURE AND LIMITS\nCOMMAND NAMECMD \nCODE DESCRIPTION TYPE PAGEDDATA \nFORMAT UNITS NVMDEFAUL T \nVALUE\nMFR_TEMP_1_GAIN 0xF8 Set slope for external temperature \ncalculations.R/W Word Y CF l 1.0 \n0x4000\nMFR_TEMP_1_OFFSET 0xF9 Offset addend for external temperature \ncalculations.R/W W\nord Y L11 °C or V l 0.0 \n0x8000\nOT_F\nAUL T_LIMIT 0x4F External overtemperature fault limit. R/W Word Y L11 °C l 100.0°C \n0xEB20\nOT_W\nARN_LIMIT 0x51 External overtemperature warning limit. R/W Word Y L11 °C l 85.0°C \n0xEAA8\nUT_F\nAUL T_LIMIT 0x53 External undertemperature fault limit. R/W Word Y L11 °C l –40.0°C \n0xE580\nRelated commands: ST\nATUS_TEMPERATURE, SMBALERT_MASK, MFR_TEMPERATURE1_PEAK, OT_FAUL T_RESPONSE, UT_FAUL T_RESPONSE, \nSTATUS_MFR_SPECIFIC, READ_TEMPERATURE_2, MFR_OT_FAUL T_RESPONSE, MFR_PWM_MODE_L TC3882-1PMBus COMMAND DETAILS (External Temperature and Limits)\nLTC3882-186\nRev B For more information www.analog.comUT_FAULT_LIMIT\nThe UT_FAUL T_LIMIT command sets the value of sensed external temperature, in degrees Celsius, which causes an \nundertemperature fault.\nThis command has two data bytes in Linear_5s_11s format.\nSTATUS_BYTEThe STATUS_BYTE command returns a one-byte summary of the most critical faults.\nSTATUS_BYTE Message Contents:\nBIT STATUS BIT NAME MEANING\n7* BUSY A fault was declared because the L TC3882-1 was unable to respond.\n6 OFF This bit is set if the channel is not providing power to its output, regardless of the reason, including simply not \nbeing enabled.\n5 VOUT_OV An output overvoltage fault has occurred.\n4 IOUT_OC An output overcurrent fault has occurred.\n3 VIN_UV Not supported (L TC3882-1 returns 0).\n2 TEMPERATURE A temperature fault or warning has occurred.\n1 CML A communications, memory or logic fault has occurred.\n0* NONE OF THE ABOVE A fault Not listed in bits[7:1] has occurred.\n*ALERT can be asserted if either of these bits is set. They may be cleared by writing a 1 to their bit position in the STATUS_BYTE, in lieu of a CLEAR_FAUL TS \ncommand.\nThis command has one data byte.STATUS REPORTING\nCOMMAND NAMECMD \nCODE DESCRIPTION TYPE PAGEDDATA \nFORMAT UNITS NVMDEFAUL T \nVALUE\nSTATUS_BYTE 0x78 One-byte channel status summary. R/W Byte Y Reg\nSTATUS_WORD 0x79 T wo-byte channel status summary. R/W Word Y Reg\nSTATUS_VOUT 0x7A V OUT fault and warning status. R/W Byte Y Reg\nSTATUS_IOUT 0x7B I OUT fault and warning status. R/W Byte Y Reg\nSTATUS_INPUT 0x7C Input supply fault and warning status. R/W Byte N Reg\nSTATUS_TEMPERATURE 0x7D External temperature fault and warning \nstatus.R/W Byte Y Reg\nSTATUS_CML 0x7E Communication, memory and logic fault and \nwarning status.R/W Byte N Reg\nSTATUS_MFR_SPECIFIC 0x80 L TC3882-1-specific status. R/W Byte Y Reg\nMFR_PADS_L TC3882-1 0xE5 State of selected L TC3882-1 pads. R Word N Reg\nMFR_COMMON 0xEF L TC-generic device status reporting. R Byte N Reg\nCLEAR_FAUL TS 0x03 Clear all set fault bits. Send Byte N\nMFR_INFO 0xB6 Manufacturer Specific Information R Word N Reg\nRefer to Figure 2 for a graphical depiction of these register contents and their relationships.PMBus COMMAND DETAILS (External Temperature Limits)\nLTC3882-187\nRev B For more information www.analog.comSTATUS_WORD\nThe STATUS_WORD command returns a two-byte summary of the channel's fault condition. The low byte of the STA-\nTUS_WORD is the same as the STATUS_BYTE command.\nSTATUS_WORD High Byte Message Contents:\nBIT STATUS BIT NAME MEANING\n15 VOUT An output voltage fault or warning has occurred.\n14 IOUT An output current fault or warning has occurred.\n13 INPUT An input voltage fault or warning has occurred.\n12 MFR_SPECIFIC A fault or warning specific to the L TC3882-1 has occurred.\n11 POWER_GOOD# The POWER_GOOD state is false if this bit is set.10 FANS Not supported (L TC3882-1 returns 0).\n9 OTHER Not supported (L TC3882-1 returns 0).\n8 UNKNOWN Not supported (L TC3882-1 returns 0).\nThis command has two data bytes.\nSTATUS_VOUT\nThe STATUS_VOUT command returns one byte of V OUT status information.\nSTATUS_VOUT Message Contents:\nBIT MEANING\n7 V OUT overvoltage fault.\n6 V OUT overvoltage warning.\n5 V OUT undervoltage warning.\n4 V OUT undervoltage fault.\n3 VOUT_MAX warning.\n2 TON_MAX fault.1 TOFF_MAX warning.0 Not supported by the L TC3882-1 (returns 0).\nALERT can be asserted if any of bits[7:1] are set. These may be cleared by writing a 1 to their bit position in STATUS_VOUT , in lieu of a CLEAR_FAUL TS \ncommand.\nThis command has one data byte.\nSTATUS_IOUT\nThe STATUS_IOUT command returns one byte of I OUT status information.\nSTATUS_IOUT Message Contents:\nBIT MEANING\n7 I OUT overcurrent fault.\n6 Not supported (L TC3882-1 returns 0).\n5 I OUT overcurrent warning.\n4:0 Not supported (L TC3882-1 returns 0).\nALERT can be asserted if any supported bits are set. Any supported bit may be cleared by writing a 1 to that bit position in STATUS_IOUT , in lieu of a \nCLEAR_FAUL TS command.\nThis command has one data byte.PMBus COMMAND DETAILS (Status Reporting)\nLTC3882-188\nRev B For more information www.analog.comSTATUS_INPUT\nThe STATUS_INPUT command returns one byte of V IN (VINSNS) status information.\nSTATUS_INPUT Message Contents:\nBIT MEANING\n7 V IN overvoltage fault.\n6 Not supported (L TC3882-1 returns 0).\n5 V IN undervoltage warning.\n4 Not supported (L TC3882-1 returns 0).3 Unit off for insufficient V\nIN.\n2:0 Not supported (L TC3882-1 returns 0).\nALERT can be asserted if bit 7 is set. Bit 7 may be cleared by writing it to a 1, in lieu of a CLEAR_FAUL TS command.\nThis command has one data byte.\nSTATUS_TEMPERATURE\nThe STATUS_TEMPERATURE command returns one byte of sensed external temperature status information.\nSTATUS_TEMPERATURE Message Contents:\nBIT MEANING\n7 External overtemperature fault.\n6 External overtemperature warning.5 Not supported (L TC3882-1 returns 0).4 External undertemperature fault.\n3:0 Not supported (L TC3882-1 returns 0).\nALERT can be asserted if any supported bits are set. Any supported bit may be cleared by writing a 1 to that bit position in STATUS_TEMPERATURE, in lieu \nof a CLEAR_FAUL TS command.\nThis command has one data byte.\nSTATUS_CML\nThe STATUS_CML command returns one byte of status information on received commands, internal memory and logic.\nSTATUS_CML Message Contents:\nBIT MEANING\n7 Invalid or unsupported command received.\n6 Invalid or unsupported data received.5 Packet error check failed.4 Memory fault detected.3 Processor fault detected.2 Reserved (L TC3882-1 returns 0).1 Other communication fault.0 Other memory or logic fault.\nALERT can be asserted if any supported bits are set. Any supported bit may be cleared by writing a 1 to that bit position in STATUS_CML, in lieu of a \nCLEAR_FAUL TS command.\nThis command has one data byte.PMBus COMMAND DETAILS (Status Reporting)\nLTC3882-189\nRev B For more information www.analog.comSTATUS_MFR_SPECIFIC\nThe STATUS_MFR_SPECIFIC command returns one byte with L TC3882-1-specific status information.\nSTATUS_MFR_SPECIFIC Message Contents:\nBIT MEANING\n7 Internal temperature fault (>160°C).\n6 Internal temperature warning (>130°C).5 EEPROM CRC error .4 Internal PLL unlocked.3 Fault log present.2 Not supported (L TC3882-1 returns 0).1 Output short cycled.0 FAUL T low.\nIf any supported bits are set, the MFR bit in the STATUS_WORD will be set and ALERT may be asserted. Any supported bit may be cleared by writing a 1 to \nthat bit position in STATUS_MFR_SPECIFIC, in lieu of a CLEAR_FAUL TS command.\nThis command has one data byte.\nMFR_PADS_LTC3882-1\nThe MFR_PADS_L TC3882-1 command provides status of the L TC3882-1 digital I/O and control pins, in addition to \ngeneral output voltage conditions.\nMFR_PADS_L TC3882-1 Message Contents:\nBIT MEANING\n15 Channel 1 is a slave.\n14 Channel 0 is a slave.\n13:12 Not supported (L TC3882-1 returns 0).\n11 ADC results for I OUT may be invalid.\n10 SYNC output disabled externally.\n9 Channel 1 POWER_GOOD (normally returns 1 if slave).8 Channel 0 POWER_GOOD (normally returns 1 if slave).7 L TC3882-1 forcing RUN1 low.6 L TC3882-1 forcing RUN0 low.5 RUN1 pin state.4 RUN0 pin state.3 L TC3882-1 forcing FAUL T1 low.2 L TC3882-1 forcing FAUL T0 low.1 FAUL T1 pin state.\n0 FAUL T0 pin state.\nThis read-only command has two data bytes.PMBus COMMAND DETAILS (Status Reporting)\nLTC3882-190\nRev B For more information www.analog.comMFR_COMMON\nThe MFR_COMMON command contains status bits that are common to multiple L TC PMBus products.\nMFR_COMMON Message Contents:\nBIT MEANING\n7 L TC3882-1 not forcing ALERT low.\n6 L TC3882-1 not BUSY.5 L TC3882-1 calculations not pending.4 L TC3882-1 output not in transition.3 L TC3882-1 EEPROM initialized.2 Not supported (L TC3882-1 returns 0).1 SHARE_CLK timeout.0 Not supported (L TC3882-1 returns 0).\nThis read-only command has one data byte.\nMFR_INFO\nThe MFR_INFO command contains additional status bits that are L TC3882-1-specific and may be common to multiple \nL TC PSM products. \nMFR_INFO Data Contents:\nBIT MEANING\n15:6 Reserved.\n5 EEPROM ECC status.\n0: Corrections have been made in the EEPROM user space.\n1: No corrections have been made in the EEPROM user space.\n4:0 Reserved\nEEPROM ECC status is updated after each RESTORE_USER_ALL or RESET command, a power-on reset or an EEPROM \nbulk read operation. This read-only command has two data bytes.\nCLEAR_FAULTS\nThe CLEAR_FAUL TS command clears any fault bits that have been set and deasserts (releases) the ALERT pin. This \ncommand clears all bits in all status commands simultaneously.\nCLEAR_FAUL TS does not cause a channel that has latched off for a fault condition to restart. Channels that are latched \noff for a fault condition are restarted when the output is commanded to turn off and then on through the OPERATION command or RUN pins, or IC supply power is cycled.\nIf a fault is still present when CLEAR_FAUL TS is commanded, that fault bit will immediately be set and ALERT again \nasserted low.\nThis write-only command has no data bytes.PMBus COMMAND DETAILS (Status Reporting)\nLTC3882-191\nRev B For more information www.analog.comTELEMETRY\nCOMMAND NAMECMD \nCODE DESCRIPTION TYPE PAGEDDATA \nFORMAT UNITS NVMDEFAUL T \nVALUE\nREAD_VIN 0x88 Measured V IN. R Word N L11 V\nMFR_VIN_PEAK 0xDE Maximum V IN measurement since last  \nMFR_CLEAR_PEAKS.R W\nord N L11 V\nREAD_VOUT 0x8B Measured V OUT. R Word Y L16 V\nMFR_VOUT_PEAK 0xDD Maximum V OUT measurement since last \nMFR_CLEAR_PEAKS.R Word Y L16 V\nREAD_IOUT 0x8C Measured I OUT. R Word Y L11 A\nMFR_IOUT_PEAK 0xD7 Maximum I OUT measurement since last \nMFR_CLEAR_PEAKS.R Word Y L11 A\nREAD_POUT 0x96 Calculated output power . R Word Y L11 W\nREAD_TEMPERATURE_1 0x8D Measured external temperature. R Word Y L11 °C\nMFR_TEMPERATURE_1_PEAK 0xDF Maximum external temperature measurement \nsince last MFR_CLEAR_PEAKS.R Word Y L11 °C\nREAD_TEMPERATURE_2 0x8E Measured internal temperature. R Word N L11 °C\nMFR_TEMPERATURE_2_PEAK 0xF4 Maximum internal temperature measurement \nsince last MFR_CLEAR_PEAKS.R Word N L11 °C\nREAD_DUTY_CYCLE 0x94 Measured commanded PWM duty cycle. R Word Y L11 %\nREAD_FREQUENCY 0x95 Measured PWM input clock frequency. R Word Y L11 kHz\nMFR_CLEAR_PEAKS 0xE3 Clear all peak values. Send Byte N\nRelated commands: IOUT_CAL_GAIN, MFR_IOUT_CAL_GAIN_TC, MFR_PWM_MODE_L TC3882-1\nREAD_VIN\nThe READ_VIN command returns the input voltage measured between VINSNS and GND in volts.This read-only command has two data bytes in Linear_5s_11s format.\nMFR_VIN_PEAK\nThe MFR_VIN_PEAK command reports the highest voltage, in volts, measured for READ_VIN. This peak value can be \nreset by a MFR_CLEAR_PEAKS command.\nThis read-only command has two data bytes in Linear_5s_11s format.\nREAD_VOUT\nThe READ_VOUT command returns the output voltage measured at the V\nSENSE± pins in volts.\nThis read-only command has two data bytes in Linear_16u format.\nMFR_VOUT_PEAK\nThe MFR_VOUT_PEAK command reports the highest voltage, in volts, measured for READ_VOUT . This peak value can \nbe reset by a MFR_CLEAR_PEAKS command.\nThis read-only command has two data bytes in Linear_16u format.PMBus COMMAND DETAILS (Status Reporting)\nLTC3882-192\nRev B For more information www.analog.comREAD_IOUT\nThe READ_IOUT command returns the output current in amperes. This value is computed from:•\n The differential voltage measured across the I SENSE± pins\n•\n The IOUT_CAL_GAIN value\n•\n The MFR_IOUT_CAL_GAIN_TC value\n•\n The READ_TEMPERA\nTURE_1 value\n•\n The MFR_TEMP_1_GAIN value\n•\n The MFR_TEMP_1_OFFSET value\nThis read-only command has two data bytes in Linear_5s_11s format.\nMFR_IOUT_PEAK\nThe MFR_IOUT_PEAK command reports the highest current, in amperes, calculated for READ_IOUT\n. This peak value \ncan be reset by a MFR_CLEAR_PEAKS command.This read-only command has two data bytes in Linear_5s_11s format.\nREAD_POUT\nThe READ_POUT command reports the output power in watts. The value is calculated from the product of the most \nrecent correlated output voltage and current readings.\nThis read-only command has two data bytes in Linear_5s_11s format.\nREAD_TEMPERATURE_1\nThe READ_TEMPERATURE_1 command returns the temperature, in degrees Celsius, of the external sense element.This read-only command has two data bytes in Linear_5s_11s format.\nMFR_TEMPERATURE_1_PEAK\nThe MFR_TEMPERATURE_1_PEAK command reports the highest temperature, in degrees Celsius, calculated for \nREAD_TEMPERATURE_1. This peak value can be reset by a MFR_CLEAR_PEAKS command.\nThis read-only command has two data bytes in Linear_5s_11s format.\nREAD_TEMPERATURE_2\nThe READ_TEMPERATURE_2 command returns the L TC3882-1 internal temperature in degrees Celsius.This read-only command has two data bytes in Linear_5s_11s format.PMBus COMMAND DETAILS (Telemetry)\nLTC3882-193\nRev B For more information www.analog.comMFR_TEMPERATURE_2_PEAK\nThe MFR_TEMPERATURE_2_PEAK command reports the highest temperature, in degrees Celsius, calculated for \nREAD_TEMPERATURE_2. This peak value can be reset by a MFR_CLEAR_PEAKS command.\nThis read-only command has two data bytes in Linear_5s_11s format.\nREAD_DUTY_CYCLE\nThe READ_DUTY_CYCLE command returns the duty cycle of the PWM control in percent. This will not be the exact duty \ncycle of the PWM switch node due to efficiency losses in the power stage and current consumption of the L TC3882-1 itself.\nThis read-only command has two data bytes in Linear_5s_11s format.\nREAD_FREQUENCY\nThe READ_FREQUENCY command returns the switching frequency supplied to the internal PLL in kilohertz, whether \nderived internally or provided by external clock on the SYNC pin. This may not be the actual PWM output switching frequency during certain exception processing, such as an output overcurrent condition.\nThis read-only command has two data bytes in Linear_5s_11s format.\nMFR_CLEAR_PEAKS\nThe MFR_CLEAR_PEAKS command resets all stored _PEAK values. The L TC3882-1 determines new peak values after \nthis command is received.\nThis write-only command has no data bytes.PMBus COMMAND DETAILS (Telemetry)\nLTC3882-194\nRev B For more information www.analog.comFAUL T RESPONSE AND COMMUNICATION\nCOMMAND NAMECMD \nCODE DESCRIPTION TYPE PAGEDDATA \nFORMAT UNITS NVMDEFAUL T \nVALUE\nVIN_OV_FAUL T_RESPONSE 0x56 V IN overvoltage fault response. R/W Byte Y Reg l 0x80\nVOUT_OV_FAUL T_RESPONSE 0x41 V OUT overvoltage fault response. R/W Byte Y Reg l 0xB8\nVOUT_UV_FAUL T_RESPONSE 0x45 V OUT undervoltage fault response. R/W Byte Y Reg l 0xB8\nIOUT_OC_FAUL T_RESPONSE 0x47 Output overcurrent fault response. R/W Byte Y Reg l 0x00\nOT_FAUL T_RESPONSE 0x50 External overtemperature fault response. R/W Byte Y Reg l 0xB8\nUT_FAUL T_RESPONSE 0x54 External undertemperature fault response. R/W Byte Y Reg l 0xB8\nMFR_OT_FAUL T_RESPONSE 0xD6 Internal overtemperature fault response. R/W Byte N Reg l 0xC0\nTON_MAX_FAUL T_RESPONSE 0x63 Fault response when  \nTON_MAX_FAUL T_LIMIT is exceeded.R/W Byte Y Reg l 0xB8\nMFR_RETRY_DELAY 0xDB Minimum time before retry after a fault. R/W Word N L11 ms l 350ms \n0xFABC\nSMBALER\nT_MASK 0x1B Mask ALERT Activity. Block R/W Y Reg l See CMD \nDetails\nMFR_FAUL T_PROPAGATE_\nL TC3882-10xD2 Configure status propagation via FAUL Tn pins.R/W Word Y Reg\nl 0x6993\nMFR_FAUL T_RESPONSE 0xD5 PWM response when FAUL Tn pin is low. R/W Byte Y Reg l 0xC0\nMFR_FAUL T_LOG 0xEE Read fault log data. R Block N Reg\nMFR_FAUL T_LOG_CLEAR 0xEC Clear existing EEPROM fault log. Send Byte N\nRelated commands: STATUS_BYTE, STATUS_WORD, MFR_PADS_L TC3882-1, MFR_RESTART_DELAY, MFR_CHAN_CONFIG_L TC3882-1, MFR_FAUL T_LOG_STORE, CLEAR_FAUL TS\nThese commands detail programmable device responses for detected faults beyond the hardware-level actions described \nin the Operations section. L TC3882-1 hardware-level fault responses cannot be modified. Refer to Table 1 to Table 4 for details of fault log contents. PMBus warning event responses are listed under _WARN_LIMIT command details.\nVIN_OV_FAULT_RESPONSE\nThe VIN_OV_FAUL T_RESPONSE command instructs the device on what action to take in response to an input overvolt -\nage fault. The format for this command is given in Table 13. The device also:•\n Sets the INPUT Bit in the ST\nATUS_WORD\n•\n Sets the V IN Overvoltage Fault Bit in the STATUS_INPUT Command\n•\n Notifies the Host by Asserting \nALERT, Unless Masked\nThis command has one data byte.PMBus COMMAND DETAILS (Fault Response and Communication)\nLTC3882-195\nRev B For more information www.analog.comVOUT_OV_FAULT_RESPONSE\nThe VOUT_OV_FAUL T_RESPONSE command instructs the device on what action to take in response to an output \novervoltage fault. The format for this command is given in Table 12. The device also:\n•\n Sets the VOUT_OV Bit in the ST\nATUS_BYTE\n•\n Sets the VOUT Bit in the ST\nATUS_WORD\n•\n Sets the V OUT Overvoltage Fault Bit in the STATUS_VOUT Command\n•\n Notifies the Host by Asserting \nALERT, Unless Masked\nThis command has one data byte.\nVOUT_UV_FAULT_RESPONSE\nThe VOUT_UV_FAUL T_RESPONSE command instructs the device on what action to take in response to an output \nundervoltage fault. The format for this command is given in Table 12. The device also:\n•\n Sets the VOUT Bit in the ST\nATUS_WORD\n•\n Sets the V OUT Undervoltage Fault Bit in the STATUS_VOUT Command,\n•\n Notifies the Host by Asserting \nALERT, Unless Masked\nThis command has one data byte.\nTable 12. Data Byte Contents for VOUT_OV_FAUL T_RESPONSE and VOUT_UV_FAUL T_RESPONSE\nBITS DESCRIPTION VALUE MEANING\n[7:6] For all values of bits [7:6], the L TC3882-1:\n•\n Sets the corresponding fault bits in the status commands.\n•\n Notifies the host by asserting \nALERT, unless masked.\nThe fault, once set, is cleared only when one or more of the \nfollowing events occurs:\n•\n The device receives a CLEAR_F\nAUL TS command.\n•\n The corresponding ST\nATUS_VOUT bit is written to a one.\n•\n The output is commanded off, then on, by the RUN pin or \nOPERA\nTION command.\n•\n The device receives a RESTORE_USER_ALL command.\n•\n The device receives an MFR_RESET command.\n•\n IC supply power is cycled.00 The L\nTC3882-1 continues to operate indefinitely with the \nnormal hardware response described in the Operation section.\n01 The L TC3882-1 continues operating with the normal \nhardware response for the delay time specified by bits [2:0]. If the fault is continuously present for the entire delay, the unit then disables the output and does attempt to restart.\n10 The L TC3882-1 immediately disables the output and \nresponds according to the retry setting in bits [5:3].\n11 Not supported. Writing this value will generate a CML fault.\n[5:3] Retry setting. 000-110 The L TC3882-1 does not attempt to restart. The output \nremains disabled until the fault is cleared, the device is commanded off and then on, or bias power (L TC3882-1 power supply input) is cycled.\n111 The L TC3882-1 attempts to restart continuously without \nlimitation with an interval set by MFR_RETRY_DELAY. This response persists until the unit is commanded off, or bias power is removed, or another fault response forces shutdown without retry.\n[2:0] Delay time. xxx Response delay time in 10µs increments. This delay \ntime determines how long the fault may have to persist before the controller is disabled, depending on bits [7:6]. Hardware-level response, if any, will occur during this delay. These bits always return zero if bits [7:6] are not set to 0x2.PMBus COMMAND DETAILS (Fault Response and Communication)\nLTC3882-196\nRev B For more information www.analog.comIOUT_OC_FAULT_RESPONSE\nThe IOUT_OC_FAUL T_RESPONSE command instructs the device on what action to take in response to an output \novercurrent fault. The device also:\n•\n Sets the IOUT_OC Bit in the ST\nATUS_BYTE\n•\n Sets the IOUT Bit in the ST\nATUS_WORD\n•\n Sets the I OUT Overcurrent Fault Bit in the STATUS_IOUT Command\n•\n Notifies the Host by Asserting \nALERT\nOutput overcurrent faults are ignored during TON_RISE and TOFF_FALL output sequencing.\nData Byte Contents for IOUT_OC_FAUL T_RESPONSE:\nBITS DESCRIPTION VALUE MEANING\n[7:6] For all values of bits [7:6], the L TC3882-1:\n•\n Sets the corresponding fault bits in the status commands.\n•\n Notifies the host by asserting \nALERT, unless masked.\nThe fault, once set, is cleared only when one or more of the \nfollowing events occurs:\n•\n The device receives a CLEAR_F\nAUL TS command.\n•\n The corresponding ST\nATUS_IOUT bit is written to a one.\n•\n The output is commanded off, then on, by the RUN pin or \nOPERA\nTION command.\n•\n The device receives a RESTORE_USER_ALL command.\n•\n The device receives an MFR_RESET command.\n•\n IC supply power is cycled.0x The L\nTC3882-1 continues to operate indefinitely with the \nnormal hardware response described in the Operation section.\n10 The L TC3882-1 continues operating with the normal \nhardware response for the delay time specified by bits [2:0]. If the fault is continuously present for the entire delay, the unit then disables the output and does not attempt to restart.\n11 The L TC3882-1 shuts down (disables the output) and \nresponds according to the retry setting in bits [5:3].\n[5:3] Retry setting. 000-110 The L TC3882-1 does not attempt to restart. The output \nremains disabled until the fault is cleared, the device is commanded off and then on, or bias power is cycled.\n111 The L TC3882-1 attempts to restart continuously without \nlimitation with an interval set by MFR_RETRY_DELAY. This response persists until the unit is commanded off, bias power is removed, or another fault response forces shutdown without retry.\n[2:0] Delay time. xxx Response delay time in 16ms increments. This delay time \ndetermines how long the fault may have to persist before the controller is disabled, depending on bits [7:6]. These bits always return zero if bits [7:6] are not set to 0x2.\nProgramming an unsupported IOUT_OC_FAUL T_RESPONSE value will generate a CML fault and the command will \nbe ignored.\nThis command has one data byte.PMBus COMMAND DETAILS (Fault Response and Communication)\nLTC3882-197\nRev B For more information www.analog.comOT_FAULT_RESPONSE\nThe OT_FAUL T_RESPONSE command instructs the device on what action to take in response to an overtemperature \nfault. The format for this command is given in Table 13. The device also:\n•\n Sets the TEMPERA\nTURE Bit in the STATUS_BYTE\n•\n Sets the Overtemperature Fault Bit in the ST\nATUS_TEMPERATURE Command\n•\n Notifies the Host by Asserting \nALERT, Unless Masked\nThis command has one data byte.\nUT_FAULT_RESPONSE\nThe UT_FAUL T_RESPONSE command instructs the device on what action to take in response to an undertemperature \nfault. The format for this command is given in Table 13. The device also:\n•\n Sets the TEMPERA\nTURE Bit in the STATUS_BYTE\n•\n Sets the Undertemperature Fault Bit in the ST\nATUS_TEMPERATURE Command\n•\n Notifies the Host by Asserting \nALERT, Unless Masked\nThis command has one data byte.\nMFR_OT_FAULT_RESPONSE\nThe MFR_OT_FAUL T_RESPONSE command instructs the device on what action to take in response to an internal \novertemperature fault (150°C to 160°C). The device also:\n•\n Sets the MFR Bit in the ST\nATUS_WORD\n•\n Sets the Overtemperature Fault Bit in the ST\nATUS_MFR_SPECIFIC Command\n•\n Notifies the Host by Asserting \nALERT, Unless Masked\nSupported Values:\nVALUE MEANING\n0xC0 The L TC3882-1 continues to operate indefinitely with the normal hardware response described in the Operation section.\n0x80 The L TC3882-1 shuts down immediately and does not attempt to restart. The output remains disabled until the fault is cleared and the unit \nis commanded off and then on, or bias power (L TC3882-1 power supply input) is cycled.\nProgramming an unsupported MFR_OT_FAUL T_RESPONSE value will generate a CML fault and the command will be \nignored.\nThis command has one data byte.PMBus COMMAND DETAILS (Fault Response and Communication)\nLTC3882-198\nRev B For more information www.analog.comTON_MAX_FAULT_RESPONSE\nThe TON_MAX_FAUL T_RESPONSE command instructs the device on what action to take in response to a TON_MAX \nfault. The format for this command is given in Table 13. The device also:\n•\n Sets the VOUT Bit in the ST\nATUS_WORD\n•\n Sets the TON_MAX_F\nAUL T Bit in the STATUS_VOUT Command\n•\n Notifies the Host by Asserting \nALERT, Unless Masked\nThis command has one data byte.\nTable 13. Data Byte Contents for the Following _FAUL T_RESPONSE Commands: VIN_OV , OT , UT and TON_MAX\nBITS DESCRIPTION VALUE MEANING\n[7:6] For all values of bits [7:6], the L TC3882-1:\n•\n Sets the corresponding fault bits in the status commands.\n•\n Notifies the host by asserting \nALERT, unless masked.\nThe fault, once set, is cleared only when one or more of the \nfollowing events occurs:\n•\n The device receives a CLEAR_F\nAUL TS command.\n•\n The corresponding fault bit is written to a one.\n•\n The output is commanded off, then on, by the RUN pin or \nOPERA\nTION command.\n•\n The device receives a RESTORE_USER_ALL command.\n•\n The device receives an MFR_RESET command.\n•\n IC supply power is cycled.00 The L\nTC3882-1 continues operating without interruption.\n01 Not supported. Writing this value will generate a CML fault.\n10 The L TC3882-1 shuts down immediately (disables the \noutput) and responds according to the retry setting in bits \n[5:3].\n11 Not supported. Writing this value will generate a CML fault.\n[5:3] Retry setting. 000-110 The L TC3882-1 does not attempt to restart. The output \nremains disabled until the fault is cleared, the device is commanded off and then on, or bias power is cycled.\n111 The L TC3882-1 attempts to restart continuously without \nlimitation with an interval set by MFR_RETRY_DELAY. This response persists until the unit is commanded off, bias power is removed, or another fault response forces shutdown without retry.\n[2:0] Delay time. xxx Not supported. Values ignored.\nMFR_RETRY_DELAY\nThe MFR_RETRY_DELAY command sets the time in milliseconds between restart attempts for all retry fault responses. \nThe actual retry delay may be the longer of MFR_RETRY_DELAY or the time required for the output voltage to decay below 12.5% of its programmed value. Decay qualification can be disabled using the MFR_CHAN_CONFIG_L TC3882-1  \ncommand. Retry delay starts once the fault is no longer detected by the L TC3882-1 or its FAUL T pin is externally re -\nleased. Legal values run from 120ms to 32.7 seconds.\nThis command has two data bytes in Linear_5s_11s format.\nSMBALER\nT_MASK\nThe SMBALERT_MASK command can be used to prevent a particular status bit or bits from asserting ALERT as they \nare asserted.PMBus COMMAND DETAILS (Fault Response and Communication)\nLTC3882-199\nRev B For more information www.analog.comFigure 51 shows an example of the Write Word format used to set an ALERT mask, in this case without PEC. The bits \nin the mask byte align with bits in the specified status register . For example, if the STATUS_TEMPERATURE command code is sent in the first data byte, and the mask byte contains 0x40, then a subsequent External Overtemperature Warn -\ning would still set bit 6 of STATUS_TEMPERATURE but not assert ALERT. All other supported STATUS_TEMPERATURE bits would continue to assert \nALERT if set.PMBus COMMAND DETAILS (Fault Response and Communication)\nFigure 52. Example of Reading SMBALERT_MASKFigure 51. Example of Setting SMBALERT_MASK\nSMBALERT_MASK cannot be applied to STATUS_BYTE, STATUS_WORD, MFR_COMMON or MFR_PADS_L TC3882-1. Factory default masking for applicable status registers is shown below. Providing an unsupported command code to SMBALERT_MASK will generate a CML for Invalid/Unsupported Data.\nSMBALERT_MASK Default Setting: (Refer Also to Figure 2)\nSTATUS RESISTER ALERT Mask Value MASKED BITS\nSTATUS_VOUT 0x00 None\nSTATUS_IOUT 0x00 None\nSTATUS_TEMPERATURE 0x00 None\nSTATUS_CML 0x00 None\nSTATUS_INPUT 0x00 None\nSTATUS_MFR_SPECIFIC 0x11 Bit 4 (internal PLL unlocked), bit 0 (FAUL T low)\nMFR_FAULT_PROPAGATE_LTC3882-1\nThe MFR_FAUL T_PROPAGATE_L TC3882-1 command determines events that cause FAUL T to be asserted. Setting a \nbit in this register to a one allows the specified condition to assert the FAUL T output for that channel. FAUL T is not as -\nserted by a fault, even if set to propagate, if that FAUL T_RESPONSE is set to Ignore. The state of SMBLALERT_MASK does not affect \nFAUL T propagation.Figure 52 shows an example of the Block Write – Block Read Process Call protocol used to read back the present state of any supported status register , again without PEC.P1\nSLAVE\nADDRESSSMBALERT_MASK\nCOMMAND CODESTATUS_x\nCOMMAND CODEW A A S7 8 8 1 8 1 1 1 1 1\nA A MASK BYTE\n38821 F51\nSLAVE\nADDRESSSMBALERT_MASK\nCOMMAND CODEBLOCK COUNT\n(= 1)W A A S7 8 8 1\nSTATUS_x\nCOMMAND CODE8 1 1 1 1 1\nA A…\nSr1\nBLOCK COUNT\n(= 1)A NA P\n38821 F52A8 8 1 1 1 1\nMASK BYTESLAVE\nADDRESS7\nR1\nLTC3882-1100\nRev B For more information www.analog.comPMBus COMMAND DETAILS (Fault Response and Communication)\nSupported Values:\nBIT PROPAGATED CONDITION\n15 Waiting for V OUT decay before restart.\n14 V OUT short cycled (automatically deasserted 120ms after V OUT is fully OFF).\n13 TON_MAX_FAUL T_LIMIT exceeded.\n12 (Reserved, must be set to 0).11 MFR_OT_FAUL T_LIMIT exceeded.10 (Reserved, must be set to 0).\n9 (Reserved, must be set to 0).8 UT_FAUL T_LIMIT exceeded.7 OT_FAUL T_LIMIT exceeded.6 (Reserved).5 (Reserved).4 VIN_OV_FAUL T_LIMIT exceeded.3 (Reserved).2 IOUT_OC_FAUL T_LIMIT exceeded.1 VOUT_UV_FAUL T_LIMIT exceeded.0 VOUT_OV_FAUL T_LIMIT exceeded.\nThis command has two data bytes.\nMFR_FAULT_RESPONSE\nThe MFR_FAUL T_RESPONSE command instructs the device on what action to take in response to a FAUL T pin being \npulled low by anything other than an internal fault.\nSupported Values:\nVALUE MEANING\n0xC0 Related PWM output is immediately disabled.\n0x00 Input ignored, PWM operation continues without interruption.\nWhen a FAUL T pin is low, the device also:\n•\n Sets the MFR_SPECIFIC Bit in the ST\nATUS_WORD\n•\n Sets Bit 0 in the ST\nATUS_MFR_SPECIFIC Command to Indicate FAUL T Is or Has Been Low\n•\n Notifies the Host by Asserting \nALERT, Unless Masked\nThis command has one data byte.\nLTC3882-1101\nRev B For more information www.analog.comPMBus COMMAND DETAILS (Fault Response and Communication)\nMFR_FAULT_LOG\nThe MFR_FAUL T_LOG command allows the contents of the fault log to be read. This log is created with a \nMFR_FAUL T_LOG_STORE command or at the first fault occurrence after a CLEAR_FAUL TS or MFR_FAUL T_LOG_CLEAR command. If a fault occurs within the first second after applying power , some earlier pages in the log may not contain valid data.\nThis read-only command uses block protocol with 147 bytes of data requiring an estimated data transfer time of 3.4ms \nat 400kHz. The t\nTIMEOUT  parameter is extended when this command is executed and a fault log is present.\nFault Log Operation\nA conceptual diagram of the fault log is shown in Figure 53. The fault log provides telemetry recording capability to \nthe L TC3882-1. During normal operation the contents of the status registers, the output voltage readings, temperature readings as well as peak values of these quantities are stored in a continuously updated buffer in RAM. The operation is similar to a strip chart recorder . When a fault occurs, the contents are written into EEPROM for nonvolatile storage. The EEPROM fault log is then locked. The part can be powered down with the fault log available for reading at a later time. As a consequence of adding ECC, the area in the EEPROM available for fault log is reduced. When reading the fault log from RAM all 6 events of cyclical data remain. However , when the fault log is read from EEPROM (after a reset), the last 2 events are lost. The read length of 147 bytes remains the same, but the fifth and sixth events are a repeat of the fourth event. \n38821 F53TIME OF FAUL T\nTRANSFER TO\nEEPROM AND\nLOCK\nAFTER FAUL T\nREAD FROM\nEEPROM AND\nLOCK BUFFERADC READINGS\nCONTINUOUSL Y\nFILL BUFFERRAM BYTES EEPROM BYTES\n8\n••••••\nFigure 53. Fault Log Conceptual Diagram\nMFR_FAULT_LOG_CLEAR\nThe MFR_FAUL T_LOG_CLEAR command erases all stored fault log values. After a clear is issued, up to 8ms may be \nrequired to clear related bit 3 in STATUS_MFR_SPECIFIC.\nThis write-only command has no data bytes.\nLTC3882-1102\nRev B For more information www.analog.comPMBus COMMAND DETAILS (EEPROM User Access)\nEEPROM USER ACCESS\nCOMMAND NAMECMD \nCODE DESCRIPTION TYPE PAGEDDATA \nFORMAT UNITS NVMDEFAUL T \nVALUE\nSTORE_USER_ALL 0x15 Store entire operating memory in EEPROM. Send Byte N NA\nRESTORE_USER_ALL 0x16 Restore entire operating memory from \nEEPROM.Send Byte N NA\nMFR_COMPARE_USER_ALL 0xF0 Compare operating memory with EEPROM \ncontents.Send Byte N\nMFR_FAUL T_LOG_STORE 0xEA Force transfer of fault log from operating \nmemory to EEPROM.Send Byte N\nMFR_EE_UNLOCK 0xBD (contact the factory)\nMFR_EE_ERASE 0xBE (contact the factory)\nMFR_EE_DATA 0xBF (contact the factory)\nUSER_DATA_00 0xB0 EEPROM word reserved for L TpowerPlay. R/W Word N Reg l\nUSER_DATA_01 0xB1 EEPROM word reserved for L TpowerPlay. R/W Word Y Reg l\nUSER_DATA_02 0xB2 EEPROM word reserved for OEM use. R/W Word N Reg l\nUSER_DATA_03 0xB3 EEPROM word available for general data \nstorage.R/W Word Y Reg l 0x0000\nUSER_DATA_04 0xB4 EEPROM word available for general data \nstorage.R/W Word N Reg l 0x0000\nRelated commands: MFR_CONFIG_ALL_L TC3882-1\nNote that if the L TC3882-1 die temperature exceeds 130°C, execution of any command in the above table except RE -\nSTORE_USER_ALL and MFR_FAUL T_LOG_STORE will be disabled until the IC temperature drops below 125°C. RE-\nSTORE_USER_ALL is executed immediately, and MFR_FAUL T_LOG_STORE is executed after the IC temperature drops \nbelow 125°C. Refer to T\nable 4 for details of fault log contents. Using any command that writes data to the EEPROM is \nstrongly discouraged if bit 6 of STATUS_MFR_ SPECIFIC is set, indicating the internal die temperature is above 85°C. Data retention of 10 years is not guaranteed if the EEPROM is written above a junction temperature of 85°C.\nSTORE_USER_ALL\nThe STORE_USER_ALL command instructs the PMBus device to copy the entire contents of the operating memory to \ninternal EEPROM PMBus configuration space.\nThis write-only command has no data bytes.\nRESTORE_USER_ALL\nThe RESTORE_USER_ALL command instructs the PMBus device to copy the entire contents of the internal EEPROM \nto matching locations in operating memory. The values in operating memory are overwritten by the values retrieved from EEPROM. Both channels should be turned off prior to issuing this command. The L TC3882-1 ensures both PWM channels are off, loads the operating memory from internal EEPROM, clears all faults, reads the resistor configuration pins, and then performs a soft-start of both PWM channels, if enabled\nThis write-only command has no data bytes.\nMFR_COMPARE_USER_ALL\nThe MFR_COMPARE_USER_ALL command instructs the L TC3882-1 to compare current operating memory (PMBus com -\nmand values in RAM) with the contents of the internal EEPROM. If the compared memories differ , a CML fault is generated.This write-only command has no data bytes.\nLTC3882-1103\nRev B For more information www.analog.comPMBus COMMAND DETAILS (EEPROM User Access)\nMFR_ID\nThe MFR_ID command returns the manufacturer ID of the L TC3882-1 using 8-bit ASCII characters.This read-only command is in block format.\nMFR_MODEL\nThe MFR_MODEL command returns the L TC part number using 8-bit ASCII characters.This read-only command is in block format.\nMFR_SERIAL\nThe MFR_SERIAL command returns the serial number of this specific device using a maximum of fourteen 8-bit ASCII \ncharacters.\nThis read-only command is in block format.\nMFR_SPECIAL_ID\nThe MFR_SPECIAL_ID command returns a 16-bit word representing the part name. 0x424X denotes the part is a \nL TC3882-1. X is adjustable by the manufacturer . This read-only command has 2 data bytes.UNIT IDENTIFICATION\nCOMMAND NAMECMD \nCODE DESCRIPTION TYPE PAGEDDATA \nFORMAT UNITS NVMDEFAUL T \nVALUE\nMFR_ID 0x99 Manufacturer identification. R String N ASC LT C\nMFR_MODEL 0x9A L TC model number . R String N ASC L TC3882-1\nMFR_SERIAL 0x9E Device serial number . R Block N Reg\nMFR_SPECIAL_ID 0xE7 Manufacturer code representing the L TC3882-1 R Word N Reg 0x424XPMBus COMMAND DETAILS (Unit Identification)MFR_FAULT_LOG_STORE\nThe MFR_FAUL T_LOG_STORE command forces a data log to be written to internal EEPROM as if a fault event had occurred. \nThis command will generate a CML fault if the Enable Fault Logging bit is cleared in MFR_CONFIG_ALL_L TC3882-1.\nThis write-only command has no data bytes.\nMFR_EE_xxxx\nThe MFR_EE_xxxx commands facilitate bulk programming of the L TC3882-1 internal EEPROM. Contact the factory for details.\nUSER_DATA_0x\nThe USER_DATA_0x commands provide uncommitted EEPROM locations that may be applied as system scratchpad \nspace. USER_DATA_00 and USER_DATA_01 should not be modified when using the L TpowerPlay GUI. Some contract manufacturers also reserve use of USER_DATA_02 for their own inventory control.\nLTC3882-1104\nRev B For more information www.analog.comTYPICAL APPLICATIONS\nFigure 54. 36V Input 3.3V/40A 1.0MHz Converter with Discrete Gate DriversVIN\nL TC3882-1SCL\nRUN1RUN0ISENSE0+\nISENSE0–\nVSENSE0+\nVSENSE0–\nVSENSE1–R20\n4.99k\nFAUL T0\nFAUL T1\nSHARE_CLK\nSYNCFB0\nCOMP0\nTSNS0R30\n100kR21\n100k\nC26\n270pF\nTSNS1\nGND\n38821 F54IAVG_GNDPWM0\nPGOOD0\nVSENSE1+\nISENSE1–\nISENSE1+\nPWM1\nPGOOD1\n41 5272631323329283214035\n3436373867\n303921201918171623\n81514131211109\nFB1 VDD33R19\n4.99kR1810kR1710k\nR1510k\nRUNSDA\nALERT\nC27\n11pFR29\n1.07kC25\n200pF\nCOMP1C18\n4.7µF\nVCC25C171µF\nV\nDD25\nVDD2522C16\n2.2µF\nVDD33VCC VDD25VDD33\n24C8100nFC4\n47µF\nVINSNS4R5\n1/uni03A9\nVOUT0_CFGASEL1ASEL0\nVOUT1_CFG\nFREQ_CFG\nPHAS_CFG\nIAVG1IAVG0R14\n1.37k\nR35\n5.76kR34\n24.9kR31\n17.4kR32\n16.2k\nC35100pFL TC4449\nC572.2µFC560.22µFD1\nCIN3\n22µF×2\nVCCVCC +5V INPUT SUPPL Y\n7BOOST8\nIN5VLOGIC VDD33\nVDD336TG1\nTS2\nBG3\nGND4\nGND\n9VIN\n24V TO 36V\n+\nR85\n2.21/uni03A9Q5\nQ6\nC2810nFPLACE Q1,Q2 NEAR L1, L2 RESPECTIVEL Y\nQ1C2910nF\nQ2R83.09k\nC24\n0.22µFL1\n0.2µH\nPULSE\nL TC4449\nC58\n2.2µFC550.22µFCIN1\n22µF×2\nVCCVCC\n7BOOST8\nIN5VLOGIC VDD336TG1\nTS2\nBG3\nGND4\nGND\n9R84\n2.21/uni03A9Q3\nQ4R553.09kC66\n0.22µF\nL2\n0.2µH\nPULSEC12100µF×2C14470µF×4VOUT\n3.3V40A\nV\nINGND+\nD2\nQ1, Q2: MMBT3906Q3, Q5: BSC050N04LSGQ4, Q6: BSC010N04LSL1, L2: PULSE PA0513.221NL T\nLTC3882-1105\nRev B For more information www.analog.com\nFigure 55. High Density 1.5V/45A 650kHz Converter Using Dual Power BlockL TC3882-1SCL\nRUN1RUN0ISENSE0+\nISENSE0–\nVSENSE0+\nVSENSE0–\nVSENSE1–FAUL T0\nFAUL T1\nSHARE_CLK\nSYNCFB0\nCOMP0\nTSNS0R30\n60.4kC26\n180pF\nTSNS1TSNS0\nTSNS1\nGND\n38821 F55IAVG_GNDPWM0\nPGOOD0\nVSENSE1+\nISENSE1–\nISENSE1+\nPWM1\nPGOOD1FB1 VDD33PWM0VIN\n7V TO 13.2V\nVSENSE+\nVSENSE–\nPWM1D12S1R845ASCL\nSDA\nRUNALERTSDA\nALERT\nC27\n18pFR29\n4.12k C25\n470pFC1190.22µF\nC1300.22µFC1291.0µFC1241.0µFC117100µF×2C120470µF×3C1072.2µF\nCOMP1+CSB–CSBC110\n47µFR21\n100kC11122µF\nVINBVINA+7V4VIN\nVCC VDD25\nVDD25VDD33VDD25VDD33\nVINSNS\n–CSA+CSAPWMA PWM0\nPWMB PWM1\nVOUT\n1.5V\n45A\nGNDVOUTA\nVOUTB\nTEMPA\nTEMPB\nTSNS1VSENSE–VSENSE+\nTSNS0\nPOWER BLOCK: DEL TA D12S1R845AGND GND GND\n11 2 6\nVOUT0_CFGASEL1ASEL0\nVOUT1_CFG\nFREQ_CFG\nPHAS_CFG\nIAVG1IAVG012\n10\n3\n5\n15\n16 87913\n114\n+\n41 5272631323329283214035\n3436373867\n303921201918171623\n8151413121110925 22 24 4\nR20\n4.99kR194.99k\nR1810kR1710k\nR1510kC184.7µF+3.3V INPUT SUPPL Y\n+7V INPUT SUPPL Y\nC171µFC16\n0.1µFC8100nFR5\n1/uni03A9\nR144.22k\nR35\n5.76kR34\n24.9k\nC35100pFVDD33TYPICAL APPLICATIONS\nLTC3882-1106\nRev B For more information www.analog.comPACKAGE DESCRIPTION\n6.00 ±0.10\n(4 SIDES)\nNOTE:\n1. DRAWING IS A JEDEC PACKAGE OUTLINE VARIATION OF (WJJD-2)2. DRAWING NOT TO SCALE     3. ALL DIMENSIONS ARE IN MILLIMETERS4. DIMENSIONS OF EXPOSED PAD ON BOTTOM OF PACKAGE DO NOT INCLUDE     MOLD FLASH. MOLD FLASH, IF PRESENT, SHALL NOT EXCEED 0.20mm ON ANY SIDE, IF PRESENT5. EXPOSED PAD SHALL BE SOLDER PLATED6. SHADED AREA IS ONLY A REFERENCE FOR PIN 1 LOCATION ON THE TOP AND BOTTOM OF PACKAGEPIN 1 TOP MARK(SEE NOTE 6)\nPIN 1 NOTCH\nR = 0.45 OR\n0.35 × 45°\nCHAMFER0.40 ±0.1040 39\n1\n2\nBOTTOM VIEW—EXPOSED PAD4.50 REF\n(4-SIDES)4.42 ±0.10\n4.42 ±0.104.42 ±0.05\n4.42 ±0.05\n0.75 ±0.05 R = 0.115\nTYP\n0.25 ±0.05\n0.50 BSC0.200 REF\n0.00 – 0.05(UJ40) QFN REV Ø 0406RECOMMENDED SOLDER PAD PITCH AND DIMENSIONS\nAPPLY SOLDER MASK TO AREAS THAT ARE NOT SOLDERED0.70 ±0.05\n4.50 ±0.05\n(4 SIDES)5.10 ±0.056.50 ±0.05\n0.25 ±0.05\n0.50 BSCPACKAGE OUTLINE\nR = 0.10\nTYPUJ Package\n40-Lead Plastic QFN (6mm × 6mm)\n(Reference LTC DWG # 05-08-1728 Rev Ø)\nLTC3882-1107\nRev B For more information www.analog.comInformation furnished by Analog Devices is believed to be accurate and reliable. However , no responsibility is assumed by Analog \nDevices for its use, nor for any infringements of patents or other rights of third parties that may result from its use. Specifications subject to change without notice. No license is granted by implication or otherwise under any patent or patent rights of Analog Devices.REVISION HISTORY\nREV DATE DESCRIPTION PAGE NUMBER\nA 04/18 Added ECC\nReduced initialization time\nReduced conversion time1, 17, 24\n5, 19\n6\nB 09/19 Added AEC-Q100 Qualified for Automotive Applications and orderable part numbers 1, 4\nLTC3882-1108\nRev B For more information www.analog.com\uf8e9 ANALOG DEVICES, INC. 2015-201909/19\nwww.analog.comRELATED PARTSTYPICAL APPLICATION\nFigure 56. 1V/40A and 1.8V/30A 500kHz Converter with DrMOS Power Stage\nPART NUMBER DESCRIPTION COMMENTS\nL TM4676A Dual 13A or Single 26A Step-Down DC/DC µModule \nRegulator with Digital Power ManagementVIN Up to 26.5V; 0.5V ≤ V OUT (±0.5%) ≤ 5.4V , ±2% I OUT ADC Accuracy, \nFault Logging, I2C/PMBus Interface, 16mm × 16mm × 5mm, BGA \nPackage\nL TC3887/L TC3887-1Dual Output PolyPhase Step-Down DC/DC Controller with Digital Power System ManagementV\nIN Up to 24V , 0.5V ≤ V OUT0,1  ≤ 5.5V , I2C/PMBus Interface, with \nEEPROM and 16-Bit ADC. –1 Version Operates with DrMOS and Power Blocks\nL TC3886 60V Dual Output Step-Down Controller with Digital Power System ManagementV\nIN Up to 60V , 0.5V ≤ V OUT ≤ 13.8V , Analog Control Loop, I2C/\nPMBus Interface with EEPROM and 16-Bit ADC, Programmable Loop Compensation\nL TC3880/L TC3880-1Dual Output PolyPhase Step-Down DC/DC Controller with Digital Power System ManagementV\nIN Up to 24V , 0.5V ≤ V OUT ≤ 5.5V , Analog Control Loop, I2C/PMBus \nInterface with EEPROM and 16-Bit ADC\nL TC3883/L TC3883-1Single Phase Step-Down DC/DC Controller with Digital Power System Management\n VIN Up to 24V , 0.5V ≤ V OUT ≤ 5.5V , Input Current Sense Amplifier , I2C/\nPMBus Interface with EEPROM and 16-Bit ADC\nL TC2977 8-Channel PMBus Power System Manager Featuring Accurate Output Voltage MeasurementFault Logging to Internal EEPROM Monitors Eight Output Voltages, Input Voltage and Die Temperature\nL TC2974 Quad Digital Power Supply Manager with EEPROM Controls and Monitors Four Outputs, 16-Bit ADC, Differential Inputs, with Fault Logging\nL TC3774 Dual, Multiphase Current Mode Synchronous Controller for Sub-Milliohm DCR Sensing, with Remote SenseOperates with Power Blocks, DrMOS Devices or External MOSFETs 4.5V ≤ V\nIN ≤ 38V\nL TC3861 Dual, Multiphase, Synchronous Step-Down DC/DC Controller with Accurate Current ShareOperates with Power Blocks, DrMOS Devices or External MOSFETs 3V≤ V\nIN ≤ 24V\nL TC4449 High Speed Synchronous N-Channel MOSFET Driver V IN Up to 38V , 4V ≤ V CC ≤ 6.5V , Adaptive Shoot-Through Protection, \n2mm × 3mm DFN-8 PackageL TC3882-1SCL\nRUN1RUN0 RUNISENSE0+\nISENSE0–\nVSENSE0+\nVSENSE0–4.99k\nFAUL T0\nFAUL T1\nSHARE_CLK\nSYNCFB0\nCOMP0\nTSNS07.32k100pF\nTSNS1\nGND\n38821 F56IAVG_GNDPWM0\nPGOOD0\nVSENSE1+\nVSENSE1–\nISENSE1–\nISENSE1+\nPWM1\nPGOOD1\n41 52726313233\n342928321403536373867\n303921201918171623\n81514131211109\nFB14.99k\n10k10k 10k\nSDA\nALERT\n220pF137/uni03A910nF\nCOMP14.7µF\nVCC251µF\nVDD25\nVDD25222.2µF\nVDD33VCC VDD25\nVDD33VDD33\n24100nF330µF\n×2\nVINSNS41/uni03A9\nVOUT0_CFGASEL1ASEL0\nVOUT1_CFG\nFREQ_CFG\nPHAS_CFG\nIAVG1IAVG04.99k\n17.4k 16.2k10kVIN\n7V TO 14V\n+\n10nFPLACE Q1,Q2 NEAR L1, L2 RESPECTIVEL Y\nQ110nF\nQ21.21k\n0.22µFL1\n0.22µH\nPULSE\n1.21k0.22µF\nL2\n0.22µH\nPULSE100µF\n×4470µF×4VOUT1\n1V , 40A\nGND+100µF\n×4470µF×4VOUT0\n1.8V , 30A\nGND+\nFDMF6820AVINPHASE GH CGND GND BOOT VDRV VCIN5VBIAS\nSMOD\nPGND\nCGND\nGLVSWHVIN\nPWM\nDISBPWM0100k\n7.32k\n100pF220pF\n137/uni03A910nF\nPWM11µF\nPWM1\nRUN2.2µF2k 10/uni03A9\n22µF\n×21µFFDMF6820AVINPHASE GH CGND GND BOOT VDRV VCIN5VBIAS\nSMOD\nPGND\nCGND\nGLVSWHVIN\nPWM\nDISB1µF\nPWM0\nRUN2.2µF 2k 10/uni03A9\n22µF\n×21µF\nDrMOS: FAIRCHILD FD6802AINPUT SUPPL Y +5V TO +12V +5V INPUT SUPPL Y\nVDD33100k\nMouser Electronics\n  \nAuthorized Distributor\n \n  \nClick to View Pricing, Inventory, Delivery & Lifecycle Information:\n \n \n \n Analog Devices Inc.:   \n\xa0 LTC3882EUJ-1#TRPBF\xa0 LTC3882IUJ-1#TRPBF\xa0 LTC3882EUJ-1#PBF\xa0 LTC3882IUJ-1#PBF\xa0 DC2312A-B\xa0 DC2312A-\nA\xa0 DC2252A-B\n"}]
!==============================================================================!
### Component Summary: LTC3882EUJ-1#PBF

#### Key Characteristics and Specifications:
- **Voltage Ratings:**
  - Input Voltage Range (VINSNS): 3V to 38V
  - Output Voltage Range: 0.5V to 5.25V
  - IC Supply Voltage (VCC): 3V to 13.2V

- **Current Ratings:**
  - Maximum Output Current: Up to 40A (depending on configuration)
  - Overcurrent Fault Limit (IOUT_OC_FAULT_LIMIT): 29.75A

- **Power Consumption:**
  - IC Operating Current (IQ): 32 mA

- **Operating Temperature Range:**
  - Junction Temperature (TJ): -40°C to 125°C
  - Storage Temperature: -65°C to 150°C

- **Package Type:**
  - 40-Lead (6mm × 6mm) QFN Package

- **Special Features:**
  - Dual output PolyPhase step-down DC/DC controller
  - PMBus compliant serial interface for monitoring and control
  - Internal EEPROM with fault logging and error correction code (ECC)
  - Programmable PWM frequency (250kHz to 1.25MHz)
  - Active voltage positioning (AVP) for load regulation
  - Supports up to 8-phase operation with multiple LTC3882 devices
  - AEC-Q100 qualified for automotive applications

- **Moisture Sensitive Level (MSL):**
  - MSL Level: 1 (per JEDEC J-STD-020E)

#### Description:
The LTC3882EUJ-1#PBF is a dual output, PolyPhase synchronous step-down DC/DC voltage mode controller designed for high current applications. It utilizes a constant frequency, leading-edge modulation architecture that provides excellent transient response and output regulation. The device features a PMBus compliant serial interface, allowing for comprehensive monitoring and configuration of power system parameters, including input/output voltage, current, temperature, and fault status.

#### Typical Applications:
- **High Current Distributed Power Systems:** Ideal for applications requiring efficient power management in systems with high current demands.
- **Servers, Network, and Storage Equipment:** Suitable for powering advanced computing and storage solutions where reliability and efficiency are critical.
- **Intelligent Energy Efficient Power Regulation:** Used in systems that require precise voltage regulation and monitoring for optimal performance.
- **Automotive Applications:** The AEC-Q100 qualification makes it suitable for automotive power management systems.

This component is particularly beneficial in applications where digital control and monitoring of power systems are essential, providing flexibility and efficiency in power management designs.