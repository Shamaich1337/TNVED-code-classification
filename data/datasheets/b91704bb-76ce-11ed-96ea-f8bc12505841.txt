[{'role': 'system', 'content': 'You are a technical specialist with expertise in electronics. Your task is to analyze datasheets for electronic components and provide a concise summary of the product’s key characteristics and specifications. In addition, you need to gather textual information about the component, including its description and typical applications.Instructions:    Identify the correct component in the datasheet using the provided product code.    Summarize key parameters, including:        Voltage ratings        Current ratings        Power consumption        Operating temperature range        Package type        Special features or notes (if applicable)        Moisture Sensetive Level JEDEC J-STD-020E    Provide a short description of the component, including what it is (e.g., transistor, microcontroller, sensor) and its primary function.    Explain typical applications for the component (e.g., power management, signal processing, data storage, etc.).    Be thorough and accurate: Ensure the information corresponds specifically to the product code, as some datasheets cover multiple variants.Your goal is to create a clear and accurate technical summary that includes both key specifications and a description of what the component is used for.'}, {'role': 'user', 'content': 'Give me information about the component of PIC16F676-I/SL production of MICROCHIP TECHNOLOGY from the text:\uf0e3 2010 Microchip Technology Inc. DS40039FPIC16F630/676\nData Sheet\n14-Pin, Flash-Based 8-Bit\nCMOS Microcontrollers\nDS40039F-page 2 \uf0e3 2010 Microchip Technology Inc.Information contained in this publication regarding device\napplications and the like is provided only for your convenience\nand may be superseded by updates. It is your responsibility toensure that your application meets with your specifications.\nMICROCHIP MAKES NO REPRESENTATIONS OR\nWARRANTIES OF ANY KIND WHETHER EXPRESS OR\nIMPLIED, WRITTEN OR ORAL, STATUTORY OR\nOTHERWISE, RELATED TO THE INFORMATION,\nINCLUDING BUT NOT LIMITED TO ITS CONDITION,\nQUALITY, PERFORMANCE, MERCHANTABILITY OR\nFITNESS FOR PURPOSE . Microchip disclaims all liability\narising from this information and its use. Use of Microchip\ndevices in life support and/or safety applications is entirely at\nthe buyer’s risk, and the buyer agrees to defend, indemnify and\nhold harmless Microchip from any and all damages, claims,suits, or expenses resulting from such use. No licenses are\nconveyed, implicitly or otherwise, under any Microchip\nintellectual property rights.Trademarks\nThe Microchip name and logo, the Microchip logo, dsPIC, \nKEELOQ, KEELOQ logo, MPLAB, PIC, PICmicro, PICSTART, \nPIC32 logo, rfPIC and UNI/O are registered trademarks of \nMicrochip Technology Incorporated in the U.S.A. and other countries.\nFilterLab, Hampshire, HI-TECH C, Linear Active Thermistor, \nMXDEV, MXLAB, SEEVAL and The Embedded Control \nSolutions Company are registered trademarks of Microchip \nTechnology Incorporated in the U.S.A.\nAnalog-for-the-Digital Age, Appl ication Maestro, CodeGuard, \ndsPICDEM, dsPICDEM.net, dsPICworks, dsSPEAK, ECAN, ECONOMONITOR, FanSense, HI-TIDE, In-Circuit Serial \nProgramming, ICSP, Mindi, MiWi, MPASM, MPLAB Certified \nlogo, MPLIB, MPLINK, mTouch, Octopus, Omniscient Code Generation, PICC, PICC-18, PICDEM, PICDEM.net, PICkit, \nPICtail, REAL ICE, rfLAB, Select Mode, Total Endurance, \nTSHARC, UniWinDriver, WiperLock and ZENA are trademarks of Microchip Tec hnology Incorporated in the \nU.S.A. and other countries.\nSQTP is a service mark of Microchip Technology Incorporated \nin the U.S.A.\nAll other trademarks mentioned herein are property of their \nrespective companies.\n© 2010, Microchip Technology Incorporated, Printed in the \nU.S.A., All Rights Reserved.\n Printed on recycled paper.\nISBN: 978-1-60932-173-4\nNote the following details of the code protection feature on Microchip devices:\n• Microchip products meet the specification cont ained in their particular Microchip Data Sheet.\n• Microchip believes that its family of products is one of the mo st secure families of its kind on the market today, when used i n the \nintended manner and under normal conditions.\n• There are dishonest and possibly illegal methods used to breach the code protection feature. All of these methods, to our \nknowledge, require using the Microchip produc ts in a manner outside the operating specifications contained in Microchip’s Data \nSheets. Most likely, the person doing so is  engaged in theft of intellectual property.\n• Microchip is willing to work with the customer who is concerned about the integrity of their code.\n• Neither Microchip nor any other semiconductor manufacturer c an guarantee the security of their code. Code protection does not \nmean that we are guaranteeing the product as “unbreakable.”\nCode protection is constantly evolving. We at Microchip are co mmitted to continuously improvi ng the code protection features of  our\nproducts. Attempts to break Microchip’s c ode protection feature may be a violation of the Digital Millennium Copyright Act. If such acts\nallow unauthorized access to your software or  other copyrighted work, you may have a right to sue for relief under that Act.\nMicrochip received ISO/TS-16949:2002 certification for its worldwide \nheadquarters, design and wafer fabrication facilities in Chandler and \nTempe, Arizona; Gresham, Oregon and design centers in California \nand India. The Company’s quality system processes and procedures \nare for its PIC® MCUs and dsPIC® DSCs, K EELOQ® code hopping \ndevices, Serial EEPROMs, microperipherals, nonvolatile memory and analog products. In addition, Microchip’s quality system for the design \nand manufacture of development systems is ISO 9001:2000 certified.\n\n\uf0e3 2010 Microchip Technology Inc. DS40039F-page 3PIC16F630/676\nHigh-Performance RISC CPU:\n• Only 35 Instructions to Learn\n- All single-cycle instructions except branches\n• Operating Speed:\n- DC – 20 MHz oscillator/clock input\n- DC – 200 ns instruction cycle\n• Interrupt Capability\n• 8-level Deep Hardware Stack\n• Direct, Indirect, and Relative Addressing modes\nSpecial Microcontroller Features:\n• Internal and External Oscillator Options\n- Precision Internal 4 MHz oscillator factory \ncalibrated to ±1%\n- External Oscillator support for crystals and \nresonators\n-5\uf06ds wake-up from Sleep, 3.0V, typical\n• Power-Saving Sleep mode• Wide Operating Voltage Range – 2.0V to 5.5V\n• Industrial and Extended Temperature Range\n• Low-Power Power-on Reset (POR)\n• Power-up Timer (PWRT) and Oscillator Start-up \nTimer (OST)\n• Brown-out Detect (BOD)\n• Watchdog Timer (WDT) with Independent \nOscillator for Reliable Operation\n• Multiplexed MCLR\n/Input-pin\n• Interrupt-on-Pin Change\n• Individual Programmable Weak Pull-ups\n• Programmable Code Protection• High Endurance Flash/EEPROM Cell\n- 100,000 write Flash endurance\n- 1,000,000 write EEPROM endurance- Flash/data EEPROM retention: > 40 yearsLow-Power Features:\n• Standby Current:\n- 1 nA @ 2.0V, typical\n• Operating Current:\n-8 . 5\uf06dA @ 32 kHz, 2.0V, typical\n-1 0 0\uf06dA @ 1 MHz, 2.0V, typical\n• Watchdog Timer Current\n- 300 nA @ 2.0V, typical\n• Timer1 Oscillator Current:\n-4\uf06dA @ 32 kHz, 2.0V, typical\nPeripheral Features:\n• 12 I/O Pins with Individual Direction Control\n• High Current Sink/Source for Direct LED Drive• Analog Comparator module with:\n- One analog comparator\n- Programmable on-chip comparator voltage \nreference (CV\nREF) module\n- Programmable input multiplexing from device \ninputs\n- Comparator output is externally accessible\n• Analog-to-Digital Converter module (PIC16F676):\n- 10-bit resolution\n- Programmable 8-channel input- Voltage reference input\n• Timer0: 8-bit Timer/Counter with 8-bit \nProgrammable Prescaler\n• Enhanced Timer1:\n- 16-bit timer/counter with prescaler- External Gate Input mode\n- Option to use OSC1 and OSC2 in LP mode \nas Timer1 oscillator, if INTOSC mode \nselected\n• In-Circuit Serial Programming\nTM (ICSPTM) via \ntwo pins\nDeviceProgram \nMemoryData Memory\nI/O10-bit A/D \n(ch)ComparatorsTimers\n8/16-bit Flash\n(words) SRAM \n(bytes)EEPROM \n(bytes)\nPIC16F630 1024 64 128 12 – 1 1/1\nPIC16F676 1024 64 128 12 8 1 1/114-Pin, Flash-Based 8-Bi t CMOS Microcontroller\nPIC16F630/676\nDS40039F-page 4  \uf0e3 2010 Microchip Technology Inc.Pin Diagrams\n14-pin PDIP, SOIC, TSSOP\nVDD\nRA5/T1CKI/OSC1/CLKIN\nRA4/T1G /OSC2/AN3/CLKOUT\nRA3/MCLR /VPP\nRC5RC4\nRC3/AN7VSS\nRA0/AN0/CIN+/ICSPDATRA1/AN1/CIN-/V\nREF/ICSPCLK\nRA2/AN2/COUT/T0CKI/INTRC0/AN4RC1/AN5RC2/AN6PIC16F6761\n2\n3\n4\n56\n714\n13\n12\n  911\n10\n  8VDD\nRA5/T1CKI/OSC1/CLKIN\nRA4/T1G /OSC2/CLKOUT\nRA3/MCLR /VPP\nRC5RC4RC3VSS\nRA0/CIN+/ICSPDATRA1/CIN-/ICSPCLKRA2/COUT/T0CKI/INTRC0RC1RC2PIC16F6301\n2\n3\n4\n56\n714\n13\n12\n  911\n10\n  8\n\uf0e3 2010 Microchip Technology Inc. DS40039F-page 5PIC16F630/676\nTable of Contents\n1.0 Device Overview ............................................................................................................ ............................................................. 7\n2.0 Memory Organization ........................................................................................................ .......................................................... 9\n3.0 Ports A and C .............................................................................................................. .............................................................. 21\n4.0 Timer0 Module .............................................................................................................. ............................................................ 31\n5.0 Timer1 Module with Gate Control ............................................................................................. ................................................  34\n6.0 Comparator Module .......................................................................................................... ........................................................ 39\n7.0 Analog-to-Digital Converter (A/D) Module (PIC16F676 only) .................................................................. ................................. 45\n8.0 Data EEPROM Memory.......................................................................................................... ..................................................  51\n9.0 Special Features of the CPU ................................................................................................ .................................................... 55\n10.0 Instruction Set Summary ................................................................................................... ........................................................ 73\n11.0 Development Support ....................................................................................................... ........................................................ 81\n12.0 Electrical Specifications ................................................................................................. ........................................................... 85\n13.0 DC and AC Characteristics Graphs and Tables ............................................................................... ...................................... 107\n14.0 Packaging Information ..................................................................................................... ....................................................... 117\nAppendix A: Data Sheet Revision History ....................................................................................... .................................................. 123\nAppendix B: Device Differences ................................................................................................ ....................................................... 123\nAppendix C: Device Migrations ................................................................................................. ........................................................ 124\nAppendix D: Migrating from other PIC® Devices ...................................................................................................................... ........ 124\nIndex ......................................................................................................................... ........................................................................ 125\nOn-Line Support ............................................................................................................... ................................................................. 129\nSystems Information and Upgrade Hot Line ...................................................................................... ............................................... 129\nReader Response ............................................................................................................... .............................................................. 130\nProduct Identification System ................................................................................................. .......................................................... 131\nTO OUR VALUED CUSTOMERS\nIt is our intention to provide our valued customers with the best documentation possible to ensure successful use of your Micro chip\nproducts. To this end, we will continue to improve our publications to better suit your needs. Our publications will be refined  and\nenhanced as new volumes and updates are introduced. \nIf you have any questions or comments regar ding this publication, please contact the Marketing Communications Department via\nE-mail at docerrors@microchip.com  or fax the Reader Response Form  in the back of this data sheet to (480) 792-4150. We\nwelcome your feedback.\nMost Current Data Sheet\nTo obtain the most up-to-date version of this data s heet, please register at our Worldwide Web site at:\nhttp://www.microchip.com\nYou can determine the version of a data sheet  by examining its literature number found on the bottom outside corner of any page .\nThe last character of the literature number is the vers ion number, (e.g., DS30000A is version A of document DS30000).\nErrata\nAn errata sheet, describing minor operational differences fr om the data sheet and recommended workarounds, may exist for curren t\ndevices. As device/documentation issues become known to us, we will publish an errata sheet. The errata will specify the revisi on\nof silicon and revision of document to which it applies.\nTo determine if an errata sheet exists for a particular device, please check with one of the following:• Microchip’s Worldwide Web site; http://www.microchip.com\n• Your local Microchip sales office (see last page)\nWhen contacting a sales office, please specify which device, re vision of silicon and data sheet (include literature number) you  are\nusing.\nCustomer Notification System\nRegister on our web site at www.microchip.com  to receive the most current information on all of our products.\nPIC16F630/676\nDS40039F-page 6  \uf0e3 2010 Microchip Technology Inc.NOTES:\n\uf0e3 2010 Microchip Technology Inc. DS40039F-page 7PIC16F630/676\n1.0 DEVICE OVERVIEW\nThis document contains device specific information for\nthe PIC16F630/676. Additional information may be\nfound in the PIC® Mid-Range Reference Manual\n(DS33023), which may be obtained from your local\nMicrochip Sales Representative or downloaded from\nthe Microchip web site. The Reference Manual shouldbe considered a complementary document to this DataSheet and is highly recommended reading for a better\nunderstanding of the device architecture and operation\nof the peripheral modules.\nThe PIC16F630 and PIC16F676 devices are covered\nby this Data Sheet. They are identical, except thePIC16F676 has a 10-bit A/D converter. They come in\n14-pin PDIP, SOIC and TSSOP packages. Figure 1-1\nshows a block diagram of the PIC16F630/676 devices.Table 1-1 shows the pinout description.\nFIGURE 1-1: PIC16F63 0/676 BLOCK DIAGRAM\nFlash\nProgram\nMemory13Data Bus8\n14Program\nBus\nInstruction RegProgram Counter\nRAM\nFileRegisters\nDirect Addr 7RAM Addr 9\nAddr MUX\nIndirect\nAddr\nFSR Reg\nSTATUS Reg\nMUX\nALU\nW RegInstruction\nDecode and\nControl\nTiming\nGenerationOSC1/CLKIN\nOSC2/CLKOUTPORTA\n8\n88\n38-Level Stack 641K x 14 \nbytes(13-bit)\nPower-up\nTimer\nOscillator\nStart-up Timer\nPower-on\nReset\nWatchdog\nTimer\nMCLR VSSBrown-out\nDetect\nAnalogTimer0 Timer1\nDATA\nEEPROM128 bytesEEDATA\nEEADDRRA0\nRA1RA2\nRA3\nRA4RA5\nComparator\nAnalog to Digital Converter \n(PIC16F676  only)\nAN0 AN1 AN2 AN3CIN- CIN+ COUTT0CKIINT\nT1CKIConfiguration\nInternal\nOscillator\nVREFand referenceT1GPORTC\nRC0\nRC1RC2\nRC3\nRC4RC5\nAN4 AN5 AN6 AN7VDD\n8\nPIC16F630/676\nDS40039F-page 8  \uf0e3 2010 Microchip Technology Inc.TABLE 1-1: PIC16F630/6 76 PINOUT DESCRIPTION\nName FunctionInput\nTypeOutput\nTypeDescription\nRA0/AN0/CIN+/ICSPDAT RA0 TTL CMOS Bidirectional I/O w/ programmable pull-up and \ninterrupt-on-change.\nAN0 AN — A/D Channel 0 input.\nCIN+ AN Comparator input.\nICSPDAT TTL CMOS Serial Programming Data I/O.\nRA1/AN1/CIN-/V REF/\nICSPCLKRA1 TTL CMOS Bidirectional I/O w/ programmable pull-up and \ninterrupt-on-change.\nAN1 AN — A/D Channel 1 input.\nCIN- AN — Comparator input.\nVREF AN — External Voltage reference.\nICSPCLK ST — Serial Programming Clock.\nRA2/AN2/COUT/T0CKI/INT RA2 ST CMOS Bidirectional I/O w/ programmable pull-up and \ninterrupt-on-change.\nAN2 AN — A/D Channel 2 input.\nCOUT — CMOS Comparator output.T0CKI ST — Timer0 clock input.\nINT ST — External Interrupt.\nRA3/MCLR\n/VPP RA3 TTL — Input port with interrupt-on-change.\nMCLR ST — Master Clear.\nVPP HV — Programming voltage.\nRA4/T1G /AN3/OSC2/\nCLKOUTRA4 TTL CMOS Bidirectional I/O w/ programmable pull-up and \ninterrupt-on-change.\nT1G ST — Timer1 gate.\nAN3 AN3 — A/D Channel 3 input.\nOSC2 — XTAL Crystal/Resonator.\nCLKOUT — CMOS F OSC/4 output.\nRA5/T1CKI/OSC1/CLKIN RA5 TTL CMOS Bidirectional I/O w/ programmable pull-up and \ninterrupt-on-change.\nT1CKI ST — Timer1 clock.\nOSC1 XTAL — Crystal/Resonator.\nCLKIN ST — External clock input/RC oscillator connection.\nRC0/AN4 RC0 TTL CMOS Bidirectional I/O.\nAN4 AN4 — A/D Channel 4 input.\nRC1/AN5 RC1 TTL CMOS Bidirectional I/O.\nAN5 AN5 — A/D Channel 5 input.\nRC2/AN6 RC2 TTL CMOS Bidirectional I/O.\nAN6 AN6 — A/D Channel 6 input.\nRC3/AN7 RC3 TTL CMOS Bidirectional I/O.\nAN7 AN7 — A/D Channel 7 input.\nRC4 RC4 TTL CMOS Bidirectional I/O.RC5 RC5 TTL CMOS Bidirectional I/O.V\nSS VSS Power — Ground reference.\nVDD VDD Power — Positive supply.\nLegend:     Shade = PIC16F676 only\n    TTL = TTL input buffer\nST = Schmitt Trigger input buffer\n\uf0e3 2010 Microchip Technology Inc. DS40039F-page 9PIC16F630/676\n2.0 MEMORY ORGANIZATION\n2.1 Program Memory Organization\nThe PIC16F630/676 devices have a 13-bit program\ncounter capable of addressing an 8K x 14 program\nmemory space. Only the first 1K x 14 (0000h-03FFh)\nfor the PIC16F630/676 devices is physically imple-mented. Accessing a location above these boundaries\nwill cause a wrap around within the first 1K x 14 space.\nThe Reset vector is at 0000h and the interrupt vector isat 0004h (see Figure 2-1).\nFIGURE 2-1: PROGRAM MEMORY MAP \nAND STACK FOR THE PIC16F630/676 2.2 Data Memory Organization\nThe data memory (see Figure 2-2) is partitioned into\ntwo banks, which contain the General Purpose Regis-ters and the Special Function Registers. The Special\nFunction Registers are located in the first 32 locations\nof each bank. Register locations 20h-5Fh are GeneralPurpose Registers, implemented as static RAM and\nare mapped across both banks. All other RAM is\nunimplemented and returns ‘ 0’ when read. RP0\n(STATUS<5>) is the bank select bit. \n•R P 0  =  0 Bank 0 is selected\n•R P 0  =  1 Bank 1 is selected\n2.2.1 GENERAL PURPOSE REGISTER \nFILE\nThe register file is organized as 64 x 8 in the\nPIC16F630/676 devices. Each register is accessed,\neither directly or indirectly, through the File Select\nRegister FSR (see Section 2.4 “Indirect Addressing,\nINDF and FSR Registers” ).PC<12:0>\n13\n000h\n0004\n0005\n03FFh\n0400h\n1FFFhStack Level 1\nStack Level 8\nReset Vector\nInterrupt Vector\nOn-chip Program\nMemory CALL, RETURN\nRETFIE, RETLW\nStack Level 2Note: The IRP and RP1 bits STATUS<7:6> are\nreserved and should always be maintained\nas ‘0’s.\nPIC16F630/676\nDS40039F-page 10  \uf0e3 2010 Microchip Technology Inc.2.2.2 SPECIAL FUNCTION REGISTERS\nThe Special Function Registers are registers used by\nthe CPU and peripheral functions for controlling the\ndesired operation of the device (see Table 2-1). These\nregisters are static RAM.\nThe special registers can be classified into two sets:\ncore and peripheral. The Special Function Registers\nassociated with the “core” are described in this section.\nThose related to the operation of the peripheralfeatures are described in the section of that peripheral\nfeature. FIGURE 2-2: DATA MEMORY MAP OF \nTHE PIC16F630/676 \nIndirect addr.(1)\nTMR0\nPCL\nSTATUS\nFSR\nPORTA\nPCLATH\nINTCON\nPIR1\nTMR1L\nTMR1H\nT1CON00h\n01h\n02h\n03h\n04h\n05h06h\n07h\n08h09h0Ah\n0Bh\n0Ch\n0Dh\n0Eh0Fh\n10h\n11h12h\n13h\n14h15h16h17h\n18h\n19h1Ah1Bh1Ch1Dh\n1Eh\n1Fh\n20h\n7Fh\nBank 0\nUnimplemented data memory locations, read as ‘ 0’.\n1: Not a physical register.\n2:PIC16F676 only.CMCON VRCON\nGeneral\nPurpose\nRegistersaccesses\n20h-5Fh\n64 BytesEEDAT\nEEADR\nEECON2(1)\n5Fh\n60hFile\nAddressFile\nAddress\nWPUA\nIOCAIndirect addr.(1)\nOPTION_REG\nPCL\nSTATUS\nFSR\nTRISA\nPCLATH\nINTCON\nPIE1\nPCON\nOSCCAL80h\n81h\n82h\n83h\n84h\n85h86h\n87h\n88h89h8Ah\n8Bh\n8Ch\n8Dh\n8Eh8Fh\n90h\n91h92h\n93h\n94h95h96h97h\n98h\n99h9Ah9Bh9Ch9Dh\n9Eh\n9FhA0h\nFFh\nBank 1\nDFh\nE0hADRESH(2)\nADCON0(2)EECON1\nADRESL(2)\nADCON1(2)ANSEL(2)TRISC PORTC\n\uf0e3 2010 Microchip Technology Inc. DS40039F-page 11PIC16F630/676\nTABLE 2-1: PIC16F630/676 SPECIAL REGISTERS SUMMARY BANK 0 \nA d d r N a m eB i t  7B i t  6B i t  5B i t  4B i t  3B i t  2  B i t  1B i t  0Value on \nPOR, \nBODPage\nBank 0\n00h INDF Addressing this location uses contents of FSR to address data memory (not a physical register) xxxx xxxx 20,63\n01h TMR0 Timer0 Module’s Register xxxx xxxx 31\n02h PCL Program Counter’s (PC) Least Significant Byte 0000 0000 19\n03h STATUS IRP(2)RP1(2)RP0 TO PD ZD CC 0001 1xxx 13\n04h FSR Indirect data memory Address Pointer xxxx xxxx 20\n05h PORTA — — I/O Control Registers --xx xxxx 21\n06h — Unimplemented — —\n07h PORTC — — I/O Control Registers --xx xxxx 28\n08h — Unimplemented — —\n09h — Unimplemented — —\n0Ah PCLATH — — — Write buffer for upper 5 bits of program counter ---0 0000 19\n0Bh INTCON GIE PEIE T0IE INTE RAIE T0IF INTF RAIF 0000 0000 15\n0Ch PIR1 EEIF ADIF — —C M I F — —T M R 1 I F 00-- 0--0 17\n0Dh — Unimplemented — —\n0Eh TMR1L Holding register for the Least Significant Byte of the 16-bit TMR1 xxxx xxxx 34\n0Fh TMR1H Holding register for the Most Significant Byte of the 16-bit TMR1 xxxx xxxx 34\n10h T1CON — T1GE T1CKPS1 T1CKPS0 T1OSCEN T1SYNC TMR1CS TMR1ON -000 0000 36\n11h — Unimplemented — —\n12h — Unimplemented — —\n13h — Unimplemented — —\n14h — Unimplemented — —\n15h — Unimplemented — —\n16h — Unimplemented — —\n17h — Unimplemented — —\n18h — Unimplemented — —\n19h CMCON —C O U T — CINV CIS CM2 CM1 CM0 -0-0 0000 39\n1Ah — Unimplemented — —\n1Bh — Unimplemented — —\n1Ch — Unimplemented — —\n1Dh — Unimplemented — —\n1Eh ADRESH(3)Most Significant 8 bits of the left shifted A/D result or 2 bits of right shifted result xxxx xxxx 46\n1Fh ADCON0(3)ADFM VCFG — CHS2 CHS1 CHS0 GO/DONE ADON 00-0 0000 47,63\nLegend: – = Unimplemented locations read as ‘ 0’, u = unchanged, x = unknown, q = value depends on condition shaded = unimplemented\nNote 1: Other (non Power-up) Resets include MCLR  Reset, Brown-out Detect and Watchdog Timer Reset during normal operation.\n2:IRP and RP1 bits are reserved, always maintain these bits clear.\n3:PIC16F676 only.\nPIC16F630/676\nDS40039F-page 12  \uf0e3 2010 Microchip Technology Inc.TABLE 2-2: PIC16F630/676 SPECIAL FUNCTION REGISTERS SUMMARY BANK 1\nA d d r N a m e B i t  7B i t  6B i t  5B i t  4B i t  3B i t  2  B i t  1B i t  0Value on \nPOR, \nBODPage\nBank 1\n80h INDF Addressing this location uses contents of FSR to address data memory (not a physical register) xxxx xxxx 20,63\n81h OPTION_REG RAPU INTEDG T0CS T0SE PSA PS2 PS1 PS0 1111 1111 14,32\n82h PCL Program Counter’s (PC) Least Significant Byte 0000 0000 19\n83h STATUS IRP(2)RP1(2)RP0 TO PD ZD CC 0001 1xxx 13\n84h FSR Indirect data memory Address Pointer xxxx xxxx 20\n85h TRISA — — TRISA5 TRISA4 TRISA3 TRISA2 TRISA1 TRISA0 --11 1111 21\n86h — Unimplemented — —\n87h TRISC — — TRISC5 TRISC4 TRISC3 T RISC2 TRISC1 TRISC0 --11 1111 —\n88h — Unimplemented — —\n89h — Unimplemented — —\n8Ah PCLATH — — — Write buffer for upper 5 bits of program counter ---0 0000 19\n8Bh INTCON GIE PEIE T0IE INTE RAIE T0IF INTF RAIF 0000 0000 15\n8Ch PIE1 EEIE ADIE — —C M I E — —T M R 1 I E 00-- 0--0 16\n8Dh — Unimplemented — —\n8Eh PCON — — — — — —P O R BOD ---- --qq 18\n8Fh — —\n90h OSCCAL CAL5 CAL4 CAL3 CAL2 CAL1 CAL0 — —1000 00-- 18\n91h ANSEL(3)ANS7 ANS6 ANS5 ANS4 ANS3 ANS2 ANS1 ANS0 1111 1111 48\n92h — Unimplemented — —\n93h — Unimplemented — —\n94h — Unimplemented — —\n95h WPUA — — WPUA5 WPUA4 — WPUA2 WPUA1 WPUA0 --11 -111 22\n96h IOCA — — IOCA5 IOCA4 IOCA3 IOCA2 IOCA1 IOCA0 --00 0000 23\n97h — Unimplemented — —\n98h — Unimplemented — —\n99h VRCON VREN —V R R — VR3 VR2 VR1 VR0 0-0- 0000 44\n9Ah EEDAT EEPROM data register 0000 0000 51\n9Bh EEADR — EEPROM address register 0000 0000 51\n9Ch EECON1 — — — — WRERR WREN WR RD ---- x000 52\n9Dh EECON2 EEPROM control register 2 (not a physical register) ---- ---- 51\n9Eh ADRESL(3)Least Significant 2 bits of the left shifted result or 8 bits of the right shifted result xxxx xxxx 46\n9Fh ADCON1(3)— ADCS2 ADCS1 ADCS0 — — — —-000 ---- 47,63\nLegend: – = Unimplemented locations read as ‘ 0’, u = unchanged, x = unknown, q = value depends on condition,  shaded = unimplemented\nNote 1: Other (non Power-up) Resets include MCLR  Reset, Brown-out Detect and Watchdog Timer Reset during normal operation.\n2:IRP and RP1 bits are reserved, always maintain these bits clear.\n3:PIC16F676 only.\n\uf0e3 2010 Microchip Technology Inc. DS40039F-page 13PIC16F630/676\n2.2.2.1 STATUS Register\nThe STATUS register, shown in Register 2-1, contains:\n• the arithmetic status of the ALU\n• the Reset status\n• the bank select bits for data memory (SRAM)\nThe STATUS register can be the destination for any\ninstruction, like any other register. If the STATUS\nregister is the destination for an instruction that affects\nthe Z, DC or C bits, then the write to these three bits isdisabled. These bits are set or cleared according to the\ndevice logic. Furthermore, the TO\n and PD  bits are not\nwritable. Therefore, the result of an instruction with theSTATUS register as destination may be different than\nintended. \nFor example, CLRF STATUS  will clear the upper three\nbits and set the Z bit. This leaves the STATUS registeras 000u u1uu  (where u = unchanged).It is recommended, therefore, that only BCF, BSF,\nSWAPF  and MOVWF  instructions are used to alter the\nSTATUS register, because these instructions do not\naffect any Status bits. For other instructions not affect-ing any Status bits, see Section 10.0 “Instruction Set\nSummary” .   \nREGISTER 2-1: STATUS — STATUS REGISTER (ADDRESS: 03h OR 83h)                 Note 1: Bits IRP and RP1 (STATUS<7:6>) are not\nused by the PIC16F630/676 and should\nbe maintained as clear. Use of these bits\nis not recommended, since this may affectupward compatibility with future products.\n2:The C and DC bits operate as a Borrow\nand Digit Borrow  out bit, respectively, in\nsubtraction. See the SUBLW  and SUBWF\ninstructions for examples.\nReserved Reserved R/W-0 R-1 R-1 R/W-x R/W-x R/W-x\nIRP RP1 RP0 TO PD ZD CC\nbit 7 bit 0\nbit 7 IRP: This bit is reserved and should be maintained as ‘ 0’\nbit 6 RP1:  This bit is reserved and should be maintained as ‘ 0’\nbit 5 RP0:  Register Bank Select bit (used for direct addressing)\n1 = Bank 1 (80h-FFh)\n0 = Bank 0 (00h-7Fh)\nbit 4 TO: Time-out bit\n1 = After power-up, CLRWDT  instruction, or SLEEP  instruction\n0 = A WDT time-out occurred\nbit 3 PD: Power-Down bit\n1 = After power-up or by the CLRWDT  instruction\n0 = By execution of the SLEEP  instruction\nbit 2 Z: Zero bit\n1 = The result of an arithmetic or logic operation is zero\n0 = The result of an arithmetic or logic operation is not zero\nbit 1 DC: Digit carry/borrow  bit (ADDWF , ADDLW,SUBLW,SUBWF  instructions) \nFor borrow,  the polarity is reversed.\n1 = A carry-out from the 4th low order bit of the result occurred\n0 = No carry-out from the 4th low order bit of the result\nbit 0 C: Carry/borrow  bit (ADDWF , ADDLW, SUBLW, SUBWF instructions)\n1 = A carry-out from the Most Significant bit of the result occurred\n0 = No carry-out from the Most Significant bit of the result occurred\nNote: For borrow  the polarity is reversed. A subtraction is executed by adding the two’s\ncomplement of the second operand. For rotate ( RRF, RLF) instructions, this bit is\nloaded with either the high or low order bit of the source register.\nLegend:\nR = Readable bit W = Writable bit U = Unimplemented bit, read as ‘0’- n = Value at POR ‘1’ = Bit is set ‘0’ = Bit is cleared x = Bit is unknown\nPIC16F630/676\nDS40039F-page 14  \uf0e3 2010 Microchip Technology Inc.2.2.2.2 OPTION Register\nThe OPTION register is a readable and writable\nregister, which contains various control bits toconfigure:\n• TMR0/WDT prescaler\n• External RA2/INT interrupt•T M R 0\n• Weak pull-ups on PORTA\nREGISTER 2-2: OPTION_REG — OPTION REGISTER (ADDRESS: 81h)                 Note: To achieve a 1:1 prescaler assignment for\nTMR0, assign the prescaler to the WDT by\nsetting PSA bit to ‘ 1’ (OPTION<3>). See\nSection 4.4 “Prescaler” .\nR/W-1 R/W-1 R/W-1 R/W-1 R/W-1 R/W-1 R/W-1 R/W-1\nRAPU INTEDG T0CS T0SE PSA PS2 PS1 PS0\nbit 7 bit 0\nbit 7 RAPU : PORTA Pull-up Enable bit\n1 = PORTA pull-ups are disabled\n0 = PORTA pull-ups are enabled by individual PORT latch values\nbit 6 INTEDG:  Interrupt Edge Select bit\n1 = Interrupt on rising edge of RA2/INT pin\n0 = Interrupt on falling edge of RA2/INT pin\nbit 5 T0CS:  TMR0 Clock Source Select bit\n1 = Transition on RA2/T0CKI pin\n0 = Internal instruction cycle clock (CLKOUT)\nbit 4 T0SE:  TMR0 Source Edge Select bit\n1 = Increment on high-to-low transition on RA2/T0CKI pin\n0 = Increment on low-to-high transition on RA2/T0CKI pin\nbit 3 PSA:  Prescaler Assignment bit\n1 = Prescaler is assigned to the WDT\n0 = Prescaler is assigned to the Timer0 module\nbit 2-0 PS2:PS0:  Prescaler Rate Select bits\nLegend:\nR = Readable bit W = Writable bit U = Unimplemented bit, read as ‘0’\n- n = Value at POR ‘1’ = Bit is set ‘0’ = Bit is cleared x = Bit is unknown000\n001010011\n100\n1011101111 : 2\n1 : 41 : 81 : 161 : 321 : 64\n1 : 128\n1 : 2561 : 1\n1 : 21 : 41 : 8\n1 : 16\n1 : 321 : 641 : 128Bit Value TMR0 Rate WDT Rate\n\uf0e3 2010 Microchip Technology Inc. DS40039F-page 15PIC16F630/676\n2.2.2.3 INTCON Register\nThe INTCON register is a readable and writable\nregister, which contains the various enable and flag bitsfor TMR0 register overflow, PORTA change and\nexternal RA2/INT pin interrupts. \nREGISTER 2-3: INTCON — INTERRUPT CONTROL REGISTER (ADDRESS: 0Bh OR 8Bh)                 Note: Interrupt flag bits are set when an interrupt\ncondition occurs, regardless of the state of\nits corresponding enable bit or the globalenable bit, GIE (INTCON<7>). User\nsoftware should ensure the appropriate\ninterrupt flag bits are clear prior to enablingan interrupt.\nR/W-0 R/W-0 R/W-0 R/W-0 R/W-0 R/W-0 R/W-0 R/W-0\nGIE PEIE T0IE INTE RAIE T0IF INTF RAIF\nbit 7 bit 0\nbit 7 GIE: Global Interrupt Enable bit\n1 = Enables all unmasked interrupts\n0 = Disables all interrupts\nbit 6 PEIE:  Peripheral Interrupt Enable bit\n1 = Enables all unmasked peripheral interrupts\n0 = Disables all peripheral interrupts\nbit 5 T0IE:  TMR0 Overflow Interrupt Enable bit\n1 = Enables the TMR0 interrupt\n0 = Disables the TMR0 interrupt\nbit 4 INTE:  RA2/INT External Interrupt Enable bit\n1 = Enables the RA2/INT external interrupt\n0 = Disables the RA2/INT external interrupt\nbit 3 RAIE:  Port Change Interrupt Enable bit(1)\n1 = Enables the PORTA change interrupt\n0 = Disables the PORTA change interrupt\nbit 2 T0IF:  TMR0 Overflow Interrupt Flag bit(2)\n1 = TMR0 register has overflowed (must be cleared in software)\n0 = TMR0 register did not overflow\nbit 1 INTF:  RA2/INT External Interrupt Flag bit\n1 = The RA2/INT external interrupt occurred (must be cleared in software)\n0 = The RA2/INT external interrupt did not occur\nbit 0 RAIF:  Port Change Interrupt Flag bit\n1 = When at least one of the PORTA <5:0> pins changed state (must be cleared in software)\n0 = None of the PORTA <5:0> pins have changed state\nNote 1: IOCA register must also be enabled.\n2:T0IF bit is set when Timer0 rolls over. Timer0 is unchanged on Reset and should\nbe initialized before clearing T0IF bit.\nLegend:\nR = Readable bit W = Writable bit U = Unimplemented bit, read as ‘0’\n- n = Value at POR ‘1’ = Bit is set ‘0’ = Bit is cleared x = Bit is unknown\nPIC16F630/676\nDS40039F-page 16  \uf0e3 2010 Microchip Technology Inc.2.2.2.4 PIE1 Register\nThe PIE1 register contains the interrupt enable bits, as\nshown in Register 2-4.\nREGISTER 2-4: PIE1 — PERIPHERAL INTERRUPT ENABLE REGISTER 1 (ADDRESS: 8Ch)                 Note: Bit PEIE (INTCON<6>) must be set to\nenable any peripheral interrupt.\nR/W-0 R/W-0 U-0 U-0 R/W-0 U-0 U-0 R/W-0\nEEIE ADIE — — CMIE — — TMR1IE\nbit 7 bit 0\nbit 7 EEIE: EE Write Complete Interrupt Enable bit\n1 = Enables the EE write complete interrupt\n0 = Disables the EE write complete interrupt\nbit 6 ADIE:  A/D Converter Interrupt Enable bit (PIC16F676 only)\n1 = Enables the A/D converter interrupt\n0 = Disables the A/D converter interrupt\nbit 5-4 Unimplemented:  Read as ‘0’ \nbit 3 CMIE:  Comparator Interrupt Enable bit\n1 = Enables the comparator interrupt\n0 = Disables the comparator interrupt \nbit 2-1 Unimplemented:  Read as ‘0’ \nbit 0 TMR1IE:  TMR1 Overflow Interrupt Enable bit\n1 = Enables the TMR1 overflow interrupt\n0 = Disables the TMR1 overflow interrupt\nLegend:\nR = Readable bit W = Writable bit U = Unimplemented bit, read as ‘0’\n- n = Value at POR ‘1’ = Bit is set ‘0’ = Bit is cleared x = Bit is unknown\n\uf0e3 2010 Microchip Technology Inc. DS40039F-page 17PIC16F630/676\n2.2.2.5 PIR1 Register\nThe PIR1 register contains the interrupt flag bits, as\nshown in Register 2-5.\nREGISTER 2-5: PIR1 — PERIPHERAL INTERRUPT REGISTER 1 (ADDRESS: 0Ch)                 Note: Interrupt flag bits are set when an interrupt\ncondition occurs, regardless of the state of\nits corresponding enable bit or the globalenable bit, GIE (INTCON<7>). User\nsoftware should ensure the appropriate\ninterrupt flag bits are clear prior to enablingan interrupt.\nR/W-0 R/W-0 U-0 U-0 R/W-0 U-0 U-0 R/W-0\nEEIF ADIF — —C M I F — —T M R 1 I F\nbit 7 bit 0\nbit 7 EEIF: EEPROM Write Operation Interrupt Flag bit\n1 = The write operation completed (must be cleared in software)\n0 = The write operation has not completed or has not been started\nbit 6 ADIF:  A/D Converter Interrupt Flag bit (PIC16F676 only)\n1 = The A/D conversion is complete (must be cleared in software)\n0 = The A/D conversion is not complete\nbit 5-4 Unimplemented : Read as ‘ 0’\nbit 3 CMIF : Comparator Interrupt Flag bit\n1 = Comparator input has changed (must be cleared in software)\n0 = Comparator input has not changed\nbit 2-1 Unimplemented : Read as ‘ 0’\nbit 0 TMR1IF : TMR1 Overflow Interrupt Flag bit\n1 = TMR1 register overflowed (must be cleared in software)\n0 = TMR1 register did not overflow\nLegend:\nR = Readable bit W = Writable bit U = Unimplemented bit, read as ‘0’\n- n = Value at POR ‘1’ = Bit is set ‘0’ = Bit is cleared x = Bit is unknown\nPIC16F630/676\nDS40039F-page 18  \uf0e3 2010 Microchip Technology Inc.2.2.2.6 PCON Register\nThe Power Control (PCON) register contains flag bits\nto differentiate between a:\n• Power-on Reset (POR)\n• Brown-out Detect (BOD)\n• Watchdog Timer Reset (WDT)\n• External MCLR  Reset\nThe PCON Register bits are shown in Register 2-6.\nREGISTER 2-6: PCON — POWER CONTROL REGISTER (ADDRESS: 8Eh)                 \n2.2.2.7 OSCCAL Register\nThe Oscillator Calibration register (OSCCAL) is used to\ncalibrate the internal 4 MHz oscillator. It contains 6 bits\nto adjust the frequency up or down to achieve 4 MHz. \nThe OSCCAL register bits are shown in Register 2-7.\nREGISTER 2-7: OSCCAL — INTERNAL OSCILLATOR CALIBRATIO N REGISTER (ADDRESS: 90h)                 U-0 U-0 U-0 U-0 U-0 U-0 R/W-0 R/W-x\n— — — — — —P O R BOD\nbit 7 bit 0\nbit 7-2 Unimplemented: Read as ‘0’\nbit 1 POR : Power-on Reset Status bit\n1 = No Power-on Reset occurred\n0 = A Power-on Reset occurred (must be set in software after a Power-on Reset occurs)\nbit 0 BOD : Brown-out Detect Status bit\n1 = No Brown-out Detect occurred\n0 = A Brown-out Detect occurred (must be set in software after a Brown-out Detect occurs)\nLegend:\nR = Readable bit W = Writable bit U = Unimplemented bit, read as ‘0’\n- n = Value at POR ‘1’ = Bit is set ‘0’ = Bit is cleared x = Bit is unknown\nR/W-1 R/W-0 R/W-0 R/W-0 R/W-0 R/W-0 U-0 U-0\nCAL5 CAL4 CAL3 CAL2 CAL1 CAL0 — —\nbit 7 bit 0\nbit 7-2 CAL5:CAL0: 6-bit Signed Oscillator Calibration bits\n111111  = Maximum frequency\n100000  = Center frequency\n000000  = Minimum frequency\nbit 1-0 Unimplemented: Read as ‘0’\nLegend:\nR = Readable bit W = Writable bit U = Unimplemented bit, read as ‘0’\n- n = Value at POR ‘1’ = Bit is set ‘0’ = Bit is cleared x = Bit is unknown\n\uf0e3 2010 Microchip Technology Inc. DS40039F-page 19PIC16F630/676\n2.3 PCL and PCLATH\nThe program counter (PC) is 13-bits wide. The low byte\ncomes from the PCL register, which is a readable andwritable register. The high byte (PC<12:8>) is not\ndirectly readable or writable and comes from PCLATH.\nOn any Reset, the PC is cleared. Figure 2-3 shows thetwo situations for the loading of the PC. The upper\nexample in Figure 2-3 shows how the PC is loaded on\na write to PCL (PCLATH<4:0> \uf0ae PCH). The lower\nexample in Figure 2-3 shows how the PC is loaded\nduring a CALL  or GOTO  instruction (PCLATH<4:3> \uf0ae\nPCH).\nFIGURE 2-3: LOADING OF PC IN \nDIFFERENT SITUATIONS\n2.3.1 COMPUTED GOTO\nA computed GOTO  is accomplished by adding an offset\nto the program counter ( ADDWF PCL ). When perform-\ning a table read using a computed GOTO  method, care\nshould be exercised if the table location crosses a PCL\nmemory boundary (each 256-byte block). Refer to the\nApplication Note “Implementing a Table Read"\n(AN556).2.3.2 STACK\nThe PIC16F630/676 family has an 8-level x 13-bit widehardware stack (see Figure 2-1). The stack space is\nnot part of either program or data space and the Stack\nPointer is not readable or writable. The PC is PUSHedonto the stack when a CALL  instruction is executed or\nan interrupt causes a branch. The stack is POPed in\nthe event of a RETURN, RETLW  or a RETFIE\ninstruction execution. PCLATH is not affected by a\nPUSH or POP operation.\nThe stack operates as a circular buffer. This means that\nafter the stack has been PUSHed eight times, the ninthpush overwrites the value that was stored from the first\npush. The tenth push overwrites the second push (and\nso on). \nPC12 8 7 0\n5PCLATH<4:0>\nPCLATHInstruction with\nALU Result\nGOTO, CALL\nOpcode <10:0>8\nPC12 11 10 0\n11 PCLATH<4:3>PCH PCL\n87\n2\nPCLATHPCH PCLPCL as \nDestinationNote 1: There are no Status bits to indicate Stack\nOverflow or Stack Underflow conditions. \n2:There are no instructions/mnemonics\ncalled PUSH or POP. These are actions\nthat occur from the execution of the\nCALL, RETURN, RETLW  and RETFIE\ninstructions or the vectoring to an\ninterrupt address.\nPIC16F630/676\nDS40039F-page 20  \uf0e3 2010 Microchip Technology Inc.2.4 Indirect Addressing, INDF and \nFSR Registers   \nThe INDF register is not a physical register. Addressing\nthe INDF register will cause indirect addressing. \nIndirect addressing is possible by using the INDF\nregister. Any instruction using the INDF registeractually accesses data pointed to by the File Select\nRegister (FSR). Reading INDF itself indirectly will\nproduce 00h. Writing to the INDF register indirectlyresults in a no operation (although Status bits may be\naffected). An effective 9-bit address is obtained by\nconcatenating the 8-bit FSR register and the IRP bit(STATUS<7>), as shown in Figure 2-4. A simple program to clear RAM location 20h-2Fh using\nindirect addressing is shown in Example 2-1.\nEXAMPLE 2-1: INDIRECT ADDRESSING\nFIGURE 2-4: DIRECT/INDIRECT  ADDRESSING PIC16F630/676 MOVLW 0x20 ;initialize pointer\nMOVWF FSR ;to RAM\nNEXT CLRF INDF ;clear INDF register\nINCF FSR ;inc pointerBTFSS FSR,4 ;all done?GOTO NEXT ;no clear next\nCONTINUE ;yes continue\nFor memory map detail see Figure 2-2.\nNote 1: The RP1 and IRP bits are reserved; always maintain these bits clear.Data\nMemoryIndirect Addressing Direct Addressing\nBank Select Location SelectRP1(1)RP0 6 0 From Opcode IRP(1)FSR Register 7 0\nBank Select Location Select\n00 01 10 11\n180h\n1FFh00h\n7Fh\nBank 0 Bank 1 Bank 2 Bank 3Not Used\n\uf0e3 2010 Microchip Technology Inc. DS40039F-page 21PIC16F630/676\n3.0 PORTS A AND C\nThere are as many as twelve general purpose I/O pins\navailable. Depending on which peripherals are\nenabled, some or all of the pins may not be available asgeneral purpose I/O. In general, when a peripheral is\nenabled, the associated pin may not be used as a\ngeneral purpose I/O pin.\n3.1 PORTA and the TRISA Registers\nPORTA is an 6-bit wide, bidirectional port. The corre-sponding data direction register is TRISA. Setting a\nTRISA bit (= 1) will make the corresponding PORTA pin\nan input (i.e., put the corresponding output driver in aHigh-Impedance mode). Clearing a TRISA bit (= 0) will\nmake the corresponding PORTA pin an output (i.e., put\nthe contents of the output latch on the selected pin).The exception is RA3, which is input only and its TRIS\nbit will always read as ‘ 1’. Example 3-1 shows how to\ninitialize PORTA.\nReading the PORTA register reads the status of the\npins, whereas writing to it will write to the PORT latch.\nAll write operations are read-modify-write operations.\nTherefore, a write to a port implies that the port pins areread, this value is modified and then written to the\nPORT data latch. RA3 reads ‘ 0’ when MCLREN = 1.\nThe TRISA register controls the direction of the\nPORTA pins, even when they are being used as analoginputs. The user must ensure the bits in the TRISAregister are maintained set when using them as analog\ninputs. I/O pins configured as analog input always read\n‘0’.\nEXAMPLE 3-1: INITIALIZING PORTA\n3.2 Additional Pin Functions\nEvery PORTA pin on the PIC16F630/676 has an\ninterrupt-on-change option and every PORTA pin,\nexcept RA3, has a weak pull-up option. The next two\nsections describe these functions.\n3.2.1 WEAK PULL-UP\nEach of the PORTA pins, except RA3, has an individu-\nally configurable weak internal pull-up. Control bits\nWPUAx enable or disable each pull-up. Refer toRegister 3-3. Each weak pull-up is automatically turned\noff when the port pin is configured as an output. The\npull-ups are disabled on a Power-on Reset by theRAPU\n bit (OPTION<7>).\nREGISTER 3-1: PORTA — PORTA RE GISTER (ADDRESS: 05h)                      Note: Additional information on I/O ports may be\nfound in the PIC® Mid-Range Reference\nManual, (DS33023)Note: The ANSEL (91h) and CMCON (19h)\nregisters must be initialized to configure an\nanalog channel as a digital input. Pins\nconfigured as analog inputs will read ‘ 0’.\nThe ANSEL register is defined for the\nPIC16F676.\nBCF STATUS,RP0 ;Bank 0\nCLRF PORTA ;Init PORTAMOVLW 05h ;Set RA<2:0> to \nMOVWF CMCON ;digital I/O\nBSF STATUS,RP0 ;Bank 1CLRF ANSEL ;digital I/O\nMOVLW 0Ch ;Set RA<3:2> as inputs\nMOVWF TRISA ;and set RA<5:4,1:0>\n;as outputs\nBCF STATUS,RP0 ;Bank 0\nU-0 U-0 R/W-x R/W-x R/W-x R/W-x R/W-x R/W-x\n— — RA5 RA4 RA3 RA2 RA1 RA0\nbit 7 bit 0\nbit 7-6: Unimplemented : Read as ‘ 0’\nbit 5-0: PORTA<5:0> : PORTA I/O pin bits\n1 = Port pin is >V IH\n0 = Port pin is <V IL\nLegend:\nR = Readable bit W = Writable bit U = Unimplemented bit, read as ‘0’\n- n = Value at POR ‘ 1’ = Bit is set ‘ 0’ = Bit is cleared x = Bit is unknown\nPIC16F630/676\nDS40039F-page 22  \uf0e3 2010 Microchip Technology Inc.REGISTER 3-2: TRISA — PORTA TRI-STATE REGISTER ( ADDRESS: 85h)                      \nREGISTER 3-3: WPUA — WEAK PULL-UP REGISTER (ADDRESS: 95h)                 \n3.2.2 INTERRUPT-ON-CHANGE\nEach of the PORTA pins is individually configurable as\nan interrupt-on-change pin. Control bits IOCAx enable\nor disable the interrupt function for each pin. Refer to\nRegister 3-4. The interrupt-on-change is disabled on aPower-on Reset.\nFor enabled interrupt-on-change pins, the values are\ncompared with the old value latched on the last read of\nPORTA. The ‘mismatch’ outputs of the last read areOR’d together to set, the PORTA Change Interrupt flag\nbit (RAIF) in the INTCON register.This interrupt can wake the device from Sleep. The\nuser, in the Interrupt Service Routine, can clear the\ninterrupt in the following manner:\na) Any read or write of PORTA. This will end the\nmismatch condition.\nb) Clear the flag bit RAIF.\nA mismatch condition will continue to set flag bit RAIF.\nReading PORTA will end the mismatch condition andallow flag bit RAIF to be cleared.U-0 U-0 R/W-x R/W-x R-1 R/W-x R/W-x R/W-x\n— — TRISA5 TRISA4 TRISA3 TRISA2 TRISA1 TRISA0\nbit 7 bit 0\nbit 7-6: Unimplemented : Read as ‘ 0’\nbit 5-0: TRISA<5:0> : PORTA Tri-State Control bits\n1 = PORTA pin configured as an input (tri-stated)\n0 = PORTA pin configured as an output\nNote: TRISA<3> always reads 1.\nLegend:\nR = Readable bit W = Writable bit U = Unimplemented bit, read as ‘ 0’\n- n = Value at POR ‘ 1’ = Bit is set ‘ 0’ = Bit is cleared x = Bit is unknown\nU-0 U-0 R/W-1 R/W-1 U-0 R/W-1 R/W-1 R/W-1\n— — WPUA5 WPUA4 — WPUA2 WPUA1 WPUA0\nbit 7 bit 0\nbit 7-6 Unimplemented: Read as ‘0’\nbit 5-4 WPUA<5:4>:  Weak Pull-up Register bits\n1 = Pull-up enabled\n0 = Pull-up disabled\nbit 3 Unimplemented: Read as ‘0’\nbit 2-0 WPUA<2:0>:  Weak Pull-up Register bits\n1 = Pull-up enabled\n0 = Pull-up disabled\nNote 1: Global RAPU  must be enabled for individual pull-ups to be enabled.\n2:The weak pull-up device is automatically disabled if the pin is in Output mode \n(TRISA = 0).\nLegend:\nR = Readable bit W = Writable bit U = Unimplemented bit, read as ‘0’\n- n = Value at POR ‘1’ = Bit is set ‘0’ = Bit is cleared x = Bit is unknown\nNote: If a change on the I/O pin should occur\nwhen the read operation is being executed(start of the Q2 cycle), then the RAIF\ninterrupt flag may not get set.\n\uf0e3 2010 Microchip Technology Inc. DS40039F-page 23PIC16F630/676\nREGISTER 3-4: IOCA — INTERRUPT-ON-CHANGE PORTA REGI STER (ADDRESS: 96h)                 \nU-0 U-0 R/W-0 R/W-0 R/W-0 R/W-0 R/W-0 R/W-0\n— — IOCA5 IOCA4 IOCA3 IOCA2 IOCA1 IOCA0\nbit 7 bit 0\nbit 7-6 Unimplemented: Read as ‘0’\nbit 5-0 IOCA<5:0>:  Interrupt-on-Change PORTA Control bits\n1 = Interrupt-on-change enabled\n0 = Interrupt-on-change disabled\nNote: Global Interrupt Enable (GIE) must be enabled for individual interrupts to be \nrecognized.\nLegend:\nR = Readable bit W = Writable bit U = Unimplemented bit, read as ‘ 0’\n- n = Value at POR ‘ 1’ = Bit is set ‘ 0’ = Bit is cleared x = Bit is unknown\nPIC16F630/676\nDS40039F-page 24  \uf0e3 2010 Microchip Technology Inc.3.2.3 PIN DESCRIPTIONS AND \nDIAGRAMS\nEach PORTA pin is multiplexed with other functions.\nThe pins and their combined functions are briefly\ndescribed here. For specific information about individ-\nual functions such as the comparator or the A/D, referto the appropriate section in this Data Sheet.\n3.2.3.1 RA0/AN0/CIN+\nFigure 3-1 shows the diagram for this pin. The RA0 pinis configurable to function as one of the following:\n• a general purpose I/O\n• an analog input for the A/D (PIC16F676 only)\n• an analog input to the comparator\n3.2.3.2 RA1/AN1/CIN-/V REF\nFigure 3-1 shows the diagram for this pin. The RA1 pin\nis configurable to function as one of the following:\n• as a general purpose I/O\n• an analog input for the A/D (PIC16F676 only)\n• an analog input to the comparator\n• a voltage reference input for the A/D (PIC16F676 \nonly)FIGURE 3-1: BLOCK DIAGRAM OF RA0 \nAND RA1 PINS\nI/O pinVDD\nVSSD\nQCKQ\nD\nQCKQ\nD\nQCKQ\nD\nQCKQVDD\nD\nENQD\nENQWeakData Bus\nWR\nWPUA\nRD\nWPUA\nRD PORTARD\nPORTAWR\nPORTA\nWR\nTRISA\nRD\nTRISA\nWR\nIOCA\nRD\nIOCA\nInterrupt-on-Change\nTo Comparator\nTo A/D ConverterAnalog\nInput Mode\nRAPU\nAnalog\nInput Mode\n\uf0e3 2010 Microchip Technology Inc. DS40039F-page 25PIC16F630/676\n3.2.3.3 RA2/AN2/T0CKI/INT/COUT\nFigure 3-2 shows the diagram for this pin. The RA2 pin\nis configurable to function as one of the following:\n• a general purpose I/O\n• an analog input for the A/D (PIC16F676 only)\n• a digital output from the comparator\n• the clock input for TMR0• an external edge triggered interrupt\nFIGURE 3-2: BLO CK DIAGRAM OF RA23.2.3.4 RA3/MCLR /VPP\nFigure 3-3 shows the diagram for this pin. The RA3 pin\nis configurable to function as one of the following:\n• a general purpose input\n• as Master Clear Reset\nFIGURE 3-3: BLOCK DIAGRAM OF RA3\nI/O pinVDD\nVSSD\nQCKQ\nD\nQCKQ\nD\nQCKQ\nD\nQCKQVDD\nD\nENQD\nENQWeak\nAnalog\nInput ModeData Bus\nWR\nWPUA\nRD\nWPUA\nRD\nPORTAWR\nPORTA\nWR\nTRISA\nRD\nTRISA\nWR\nIOCA\nRD\nIOCA\nInterrupt-on-Change\nTo A/D Converter01 COUTCOUT\nEnable\nTo INTTo TMR0Analog\nInput Mode\nRAPU\nRD PORTAAnalog\nInput\nModeI/O pin\nVSS\nD\nQCKQ\nD\nENQData Bus\nRD PORTARD\nPORTA\nWR\nIOCA\nRD\nIOCA\nInterrupt-on-ChangeResetMCLRE\nRD\nTRISAVSS\nD\nENQMCLRE\nPIC16F630/676\nDS40039F-page 26  \uf0e3 2010 Microchip Technology Inc.3.2.3.5 RA4/AN3/T1G /OSC2/CLKOUT\nFigure 3-4 shows the diagram for this pin. The RA4 pin\nis configurable to function as one of the following:\n• a general purpose I/O\n• an analog input for the A/D (PIC16F676 only)\n• a TMR1 gate input\n• a crystal/resonator connection• a clock output\nFIGURE 3-4: BLO CK DIAGRAM OF RA43.2.3.6 RA5/T1CKI/OSC1/CLKIN\nFigure 3-5 shows the diagram for this pin. The RA5 pin\nis configurable to function as one of the following:\n• a general purpose I/O\n•a  T M R 1  c l o c k  i n p u t\n• a crystal/resonator connection\n• a clock input\nFIGURE 3-5: BLOCK DIAGRAM OF RA5\nI/O pinVDD\nVSSD\nQCKQ\nD\nQCKQ\nD\nQCKQ\nD\nQCKQVDD\nD\nENQD\nENQWeak\nAnalog\nInput ModeData Bus\nWR\nWPUA\nRD\nWPUA\nRD\nPORTAWR\nPORTA\nWR\nTRISA\nRD\nTRISA\nWR\nIOCA\nRD\nIOCA\nInterrupt-on-ChangeFOSC/4\nTo A/D ConverterOscillator\nCircuit\nOSC1\nCLKOUT01CLKOUT\nEnable\nEnableAnalog\nInput Mode\nRAPU\nRD PORTA \nTo TMR1 T1GINTOSC/\nRC/EC(2)CLK(1)\nModes\nCLKOUT\nEnable\nNote 1: CLK modes are XT, HS, LP, LPTMR1 and CLKOUT\nEnable.\n2:With CLKOUT option.I/O pinVDD\nVSSD\nQCKQ\nD\nQCKQ\nD\nQCKQ\nD\nQCKQVDD\nD\nENQD\nENQWeakData Bus\nWR\nWPUA\nRD\nWPUA\nRD\nPORTAWR\nPORTA\nWR\nTRISA\nRD\nTRISA\nWR\nIOCA\nRD\nIOCA\nInterrupt-on-Change\nTo TMR1 or CLKGENINTOSC\nMode\nRD PORTA INTOSC\nMode\nRAPU\nOscillator\nCircuit\nOSC2\n(1)\nNote 1: Timer1 LP Oscillator enabled.\n2:When using Timer1 with LP oscillator, the Schmitt\nTrigger is by-passed.TMR1LPEN(1)\n\uf0e3 2010 Microchip Technology Inc. DS40039F-page 27PIC16F630/676\nTABLE 3-1: SUMMARY OF REGIST ERS ASSOCIATED WITH PORTA\nAddress Name Bit 7 Bit 6 Bit 5 Bit 4 Bit 3 Bit 2 Bit 1 Bit 0Value on \nPOR, \nBODValue on \nall other \nResets\n05h PORTA — — RA5 RA4 RA3 RA2 RA1 RA0 --xx xxxx --uu uuuu\n0Bh/8Bh INTCON GIE PEIE T0IE INTE RAIE T0IF INTF RAIF 0000 0000 0000 000u\n19h CMCON — COUT — CINV CIS CM2 CM1 CM0 -0-0 0000 -0-0 0000\n81h OPTION_REG RAPU INTEDG T0CS T0SE PSA PS2 PS1 PS01111 1111 1111 1111\n85h TRISA — — TRISA5 TRISA4 TRISA3 TRISA2 TRISA1 TRISA0 --11 1111 --11 1111\n91h ANSEL(1)ANS7 ANS6 ANS5 ANS4 ANS3 ANS2 ANS1 ANS0 1111 1111 1111 1111\n95h WPUA — — WPUA5 WPUA4 — WPUA2 WPUA1 WPUA0 --11 -111 --11 -111\n96h IOCA — — IOCA5 IOCA4 IOCA3 IOCA2 IOCA1 IOCA0 --00 0000 --00 0000\nNote 1: PIC16F676 only.\nLegend: x = unknown, u = unchanged, - = unimplemented locations read as ‘ 0’. Shaded cells are not used by PORTA.\nPIC16F630/676\nDS40039F-page 28  \uf0e3 2010 Microchip Technology Inc.3.3 PORTC\nPORTC is a general purpose I/O port consisting of 6\nbidirectional pins. The pins can be configured for eitherdigital I/O or analog input to A/D converter. For specific\ninformation about individual functions such as the\ncomparator or the A/D, refer to the appropriate sectionin this Data Sheet.\nEXAMPLE 3-2: INITIALIZING PORTC\n3.3.1 RC0/AN4, RC1/AN5, RC2/AN6, RC3/\nAN7\nThe RC0/RC1/RC2/RC3 pins are configurable to\nfunction as one of the following:\n• a general purpose I/O\n• an analog input for the A/D Converter \n(PIC16F676 only)\nFIGURE 3-6: BLO CK DIAGRAM OF \nRC0/RC1/RC2/RC3 PINs3.3.2 RC4 AND RC5 \nThe RC4 and RC5 pins are configurable to function as\na general purpose I/Os.\nFIGURE 3-7: BLOCK DIAGRAM OF RC4 \nAND RC5 PINS\nNote: The ANSEL register (91h) must be clear to\nconfigure an analog channel as a digitalinput. Pins configured as analog inputs will\nread ‘0’. The ANSEL register is defined for\nthe PIC16F676.\nBCF STATUS,RP0 ;Bank 0\nCLRF PORTC ;Init PORTC\nBSF STATUS,RP0 ;Bank 1CLRF ANSEL ;digital I/O\nMOVLW 0Ch ;Set RC<3:2> as inputs\nMOVWF TRISC ;and set RC<5:4,1:0>\n;as outputs\nBCF STATUS,RP0 ;Bank 0\nI/O PinVDD\nVSSD\nQCKQ\nD\nQCKQData bus\nWR\nPORTC\nWR\nTRISC\nRD\nTRISC\nTo A/D ConverterRD\nPORTCAnalog Input\nModeI/O PinVDD\nVSSD\nQCKQ\nD\nQCKQData bus\nWR\nPORTC\nWR\nTRISC\nRD\nTRISC\nRD\nPORTC\n\uf0e3 2010 Microchip Technology Inc. DS40039F-page 29PIC16F630/676\nREGISTER 3-5: PORTC — PORTC REGISTER (ADDRESS: 07h)                      \nREGISTER 3-6: TRISC — PORTC TRI-STATE REGISTER ( ADDRESS: 87h)                      \nTABLE 3-2: SUMMARY OF REGIST ERS ASSOCIATED WITH PORTCU-0 U-0 R/W-x R/W-x R/W-x R/W-x R/W-x R/W-x\n— — RC5 RC4 RC3 RC2 RC1 RC0\nbit 7 bit 0\nbit 7-6: Unimplemented : Read as ‘ 0’\nbit 5-0: PORTC<5:0> : General Purpose I/O pin bits\n1 = Port pin is >V IH\n0 = Port pin is <V IL\nLegend:\nR = Readable bit W = Writable bit U = Unimplemented bit, read as ‘ 0’\n- n = Value at POR ‘ 1’ = Bit is set ‘ 0’ = Bit is cleared x = Bit is unknown\nU-0 U-0 R/W-1 R/W-1 R/W-1 R/W-1 R/W-1 R/W-1\n— — TRISC5 TRISC4 TRISC3 TRISC2 TRISC1 TRISC0\nbit 7 bit 0\nbit 7-6: Unimplemented : Read as ‘0’\nbit 5-0: TRISC<5:0> : PORTC Tri-State Control bits\n1 = PORTC pin configured as an input (tri-stated)\n0 = PORTC pin configured as an output\nLegend:\nR = Readable bit W = Writable bit U = Unimplemented bit, read as ‘ 0’\n- n = Value at POR ‘ 1’ = Bit is set ‘ 0’ = Bit is cleared x = Bit is unknown\nAddress Name Bit 7 Bit 6 Bit 5 Bit 4 Bit 3 Bit 2 Bit 1 Bit 0Value on \nPOR, BODValue on all \nother \nResets\n07h PORTC — — RC5 RC4 RC3 RC2 RC1 RC0 --xx xxxx --uu uuuu\n87h TRISC — — TRISC5 TRISC4 TRISC3 T RISC2 TRISC1 TRISC0 --11 1111 --11 1111\n91h ANSEL(1) ANS7 ANS6 ANS5 ANS4 ANS3 ANS2 ANS1 ANS0 1111 1111 1111 1111\nNote 1: PIC16F676 only.\nLegend: x = unknow n, u = unchanged, - = unimplemented locations read as ‘ 0’. Shaded cells are not used by PORTC.\nPIC16F630/676\nDS40039F-page 30  \uf0e3 2010 Microchip Technology Inc.NOTES:\n\uf0e3 2010 Microchip Technology Inc. DS40039F-page 31PIC16F630/676\n4.0 TIMER0 MODULE\nThe Timer0 module timer/counter has the following\nfeatures:\n• 8-bit timer/counter\n• Readable and writable\n• 8-bit software programmable prescaler• Internal or external clock select\n• Interrupt on overflow from FFh to 00h\n• Edge select for external clock\nFigure 4-1 is a block diagram of the Timer0 module and\nthe prescaler shared with the WDT.\n4.1 Timer0 Operation\nTimer mode is selected by clearing the T0CS bit\n(OPTION_REG<5>). In Timer mode, the Timer0\nmodule will increment every instruction cycle (withoutprescaler). If TMR0 is written, the increment is inhibited\nfor the following two instruction cycles. The user can\nwork around this by writing an adjusted value to theTMR0 register.Counter mode is selected by setting the T0CS bit\n(OPTION_REG<5>). In this mode, the Timer0 module\nwill increment either on every rising or falling edge of\npin RA2/T0CKI. The incrementing edge is determinedby the source edge (T0SE) control bit\n(OPTION_REG<4>). Clearing the T0SE bit selects the\nrising edge. \n4.2 Timer0 Interrupt\nA Timer0 interrupt is generated when the TMR0register timer/counter overflows from FFh to 00h. Thisoverflow sets the T0IF bit. The interrupt can be masked\nby   clearing the T0IE bit (INTCON<5>). The T0IF bit\n(INTCON<2>) must be cleared in software by theTimer0 module Interrupt Service Routine before re-\nenabling this interrupt. The Timer0 interrupt cannot\nwake the processor from Sleep since the timer is shut-off during Sleep.\nFIGURE 4-1: BLOCK DIAG RAM OF THE TIMER0/WDT PRESCALER     Note: Additional information on the Timer0\nmodule is available in the PIC® Mid-Range\nReference Manual, (DS33023).Note: Counter mode has specific external clock\nrequirements. Additional information on\nthese requirements is available in the PIC®\nMid-Range Reference Manual,\n(DS33023).\nT0CKI\nT0SEpinCLKOUT\nTMR0 \nWatchdog\nTimerWDT\nTime-outPS0 - PS2\nWDTEData Bus\nSet Flag bit T0IF\non OverflowT0CS\nNote 1: T0SE, T0CS, PSA, PS0-PS2 are bits in the OPTION register.0\n1\n01\n0\n1SYNC 2\nCycles8\n88-bit\nPrescaler\n01(= F OSC/4)\nPSA\nPSA\nPSA\nPIC16F630/676\nDS40039F-page 32  \uf0e3 2010 Microchip Technology Inc.4.3 Using Timer0 with an External \nClock\nWhen no prescaler is used, the external clock input is\nthe same as the prescaler output. The synchronization\nof T0CKI, with the internal phase clocks, is accom-plished by sampling the prescaler output on the Q2 and\nQ4 cycles of the internal phase clocks. Therefore, it is\nnecessary for T0CKI to be high for at least 2T\nOSC (anda small RC delay of 20 ns) and low for at least 2T OSC\n(and a small RC delay of 20 ns). Refer to the electrical\nspecification of the desired device.\nREGISTER 4-1: OPTION_REG — OPTION REGISTER (ADDRESS: 81h)                 Note: The ANSEL (91h) and CMCON (19h)\nregisters must be initialized to configure an\nanalog channel as a digital input. Pins\nconfigured as analog inputs will read ‘ 0’.\nThe ANSEL register is defined for the\nPIC16F676.\nR/W-1 R/W-1 R/W-1 R/W-1 R/W-1 R/W-1 R/W-1 R/W-1\nRAPU INTEDG T0CS T0SE PSA PS2 PS1 PS0\nbit 7 bit 0\nbit 7 RAPU : PORTA Pull-up Enable bit\n1 = PORTA pull-ups are disabled\n0 = PORTA pull-ups are enabled by individual PORT latch values\nbit 6 INTEDG:  Interrupt Edge Select bit\n1 = Interrupt on rising edge of RA2/INT pin\n0 = Interrupt on falling edge of RA2/INT pin\nbit 5 T0CS:  TMR0 Clock Source Select bit\n1 = Transition on RA2/T0CKI pin\n0 = Internal instruction cycle clock (CLKOUT)\nbit 4 T0SE:  TMR0 Source Edge Select bit\n1 = Increment on high-to-low transition on RA2/T0CKI pin\n0 = Increment on low-to-high transition on RA2/T0CKI pin\nbit 3 PSA:  Prescaler Assignment bit\n1 = Prescaler is assigned to the WDT\n0 = Prescaler is assigned to the Timer0 module\nbit 2-0 PS2:PS0:  Prescaler Rate Select bits\nLegend:\nR = Readable bit W = Writable bit U = Unimplemented bit, read as ‘0’- n = Value at POR ‘1’ = Bit is set ‘0’ = Bit is cleared x = Bit is unknown000\n001\n010\n0111001011101111 : 2\n1 : 41 : 81 : 16\n1 : 32\n1 : 641 : 1281 : 2561 : 1\n1 : 2\n1 : 4\n1 : 81 : 161 : 321 : 641 : 128Bit Value TMR0 Rate WDT Rate\n\uf0e3 2010 Microchip Technology Inc. DS40039F-page 33PIC16F630/676\n4.4 Prescaler\nAn 8-bit counter is available as a prescaler for the\nTimer0 module, or as a postscaler for the WatchdogTimer. For simplicity, this counter will be referred to as\n“prescaler” throughout this Data Sheet. The prescaler\nassignment is controlled in software by the control bitPSA (OPTION_REG<3>). Clearing the PSA bit will\nassign the prescaler to Timer0. Prescale values are\nselectable via the PS2:PS0 bits (OPTION_REG<2:0>).\nThe prescaler is not readable or writable. When\nassigned to the Timer0 module, all instructions writing\nto the TMR0 register (e.g., CLRF 1, MOVWF 1,\nBSF 1, x....etc. ) will clear the prescaler. When\nassigned to WDT, a CLRWDT  instruction will clear the\nprescaler along with the Watchdog Timer. \n4.4.1 SWITCHING PRESCALER \nASSIGNMENT\nThe prescaler assignment is fully under software\ncontrol (i.e., it can be changed “on the fly” during\nprogram execution). To avoid an unintended device\nReset, the following instruction sequence (Example 4-1) must be executed when changing the prescaler\nassignment from Timer0 to WDT.EXAMPLE 4-1: CHANGING PRESCALER \n(TIMER0 \uf0aeWDT)\nTo change prescaler from the WDT to the TMR0\nmodule, use the sequence shown in Example 4-2. This\nprecaution must be taken even if the WDT is disabled. \nEXAMPLE 4-2: CHANGING PRESCALER \n(WDT\uf0aeTIMER0)\nTABLE 4-1: REGISTERS ASSOCIATED WITH TIMER0    BCF STATUS,RP0 ;Bank 0\nCLRWDT ;Clear WDTCLRF TMR0 ;Clear TMR0 and\n; prescaler\nBSF STATUS,RP0 ;Bank 1\nMOVLW b’00101111’ ;Required if desired\nMOVWF OPTION_REG ; PS2:PS0 is CLRWDT ; 000 or 001\n;\nMOVLW b’00101xxx’ ;Set postscaler toMOVWF OPTION_REG ; desired WDT rateBCF STATUS,RP0 ;Bank 0\nCLRWDT ;Clear WDT and\n; postscaler\nBSF STATUS,RP0 ;Bank 1\nMOVLW b’xxxx0xxx’ ;Select TMR0, \n; prescale, and ; clock source\nMOVWF OPTION_REG ; BCF STATUS,RP0 ;Bank 0\nAddress Name Bit 7 Bit 6 Bit 5 Bit 4 Bit 3 Bit 2 Bit 1 Bit 0Value on\nPOR, BODValue on\nall other\nResets\n01h TMR0 Timer0 Module Register xxxx xxxx uuuu uuuu\n0Bh/8Bh INTCON GIE PEIE T0IE INTE RAIE T0IF INTF RAIF0000 0000 0000 000u\n81h OPTION_REG RAPU INTEDG T0CS T0SE PSA PS2 PS1 PS0 1111 1111 1111 1111\n85h TRISA — — TRISA5 TRISA4 TRISA3 TRISA2 TRISA1 TRISA0--11 1111 --11 1111\nLegend:  – = Unimplemented locations, read as ‘ 0’, u = unchanged, x = unknown. \nShaded cells are not used by the Timer0 module.\nPIC16F630/676\nDS40039F-page 34  \uf0e3 2010 Microchip Technology Inc.5.0 TIMER1 MODULE WITH GATE \nCONTROL\nThe PIC16F630/676 devices have a 16-bit timer.\nFigure 5-1 shows the basic block diagram of the Timer1module. Timer1 has the following features:\n• 16-bit timer/counter (TMR1H:TMR1L)\n• Readable and writable• Internal or external clock selection\n• Synchronous or asynchronous operation\n• Interrupt on overflow from FFFFh to 0000h• Wake-up upon overflow (Asynchronous mode)\n• Optional external enable input (T1G\n)\n• Optional LP oscillatorThe Timer1 Control register (T1CON), shown in\nRegister 5-1, is used to enable/disable Timer1 and\nselect the various features of the Timer1 module. \nFIGURE 5-1: TIMER1 BLOCK DIAGRAMNote: Additional information on timer modules is\navailable in the PIC® Mid-Range Refer-\nence Manual, (DS33023).\nTMR1H TMR1L\nLP Oscillator T1SYNC\nTMR1CST1CKPS<1:0>Sleep InputFOSC/4\nInternal\nClockPrescaler\n1, 2, 4, 8Synchronize\nDetect1\n00\n1Synchronized\nClock Input\n2OSC1\nOSC2Set Flag bit\nTMR1IF onOverflow\nTMR1TMR1ON\nTMR1GE\nTMR1ON\nTMR1GE\nINTOSC  \nT1OSCEN\nLPw/o CLKOUTT1G\n\uf0e3 2010 Microchip Technology Inc. DS40039F-page 35PIC16F630/676\n5.1 Timer1 Modes of Operation\nTimer1 can operate in one of three modes:\n• 16-bit timer with prescaler\n• 16-bit synchronous counter\n• 16-bit asynchronous counter\nIn Timer mode, Timer1 is incremented on every instruc-\ntion cycle. In Counter mode, Timer1 is incremented on\nthe rising edge of the external clock input T1CKI. In\naddition, the Counter mode clock can be synchronizedto the microcontroller system clock or run\nasynchronously. \nIn counter and timer modules, the counter/timer clock\ncan be gated by the T1G\n input.\nIf an external clock oscillator is needed (and the\nmicrocontroller is using the INTOSC w/o CLKOUT),\nTimer1 can use the LP oscillator as a clock source. 5.2 Timer1 Interrupt\nThe Timer1 register pair (TMR1H:TMR1L) increments\nto FFFFh and rolls over to 0000h. When Timer1 rollsover, the Timer1 interrupt flag bit (PIR1<0>) is set. To\nenable the interrupt on rollover, you must set these bits:\n• Timer1 interrupt Enable bit (PIE1<0>)\n• PEIE bit (INTCON<6>)\n• GIE bit (INTCON<7>). \nThe interrupt is cleared by clearing the TMR1IF in the\nInterrupt Service Routine.\n5.3 Timer1 Prescaler\nTimer1 has four prescaler options allowing 1, 2, 4, or 8\ndivisions of the clock input. The T1CKPS bits\n(T1CON<5:4>) control the prescale counter. Theprescale counter is not directly readable or writable;\nhowever, the prescaler counter is cleared upon a write\nto TMR1H or TMR1L. \nFIGURE 5-2: TIMER1 INCREMENTING EDGE    Note: In Counter mode, a falling edge must be\nregistered by the counter prior to the first\nincrementing rising edge.Note: The TMR1H:TTMR1L register pair and the\nTMR1IF bit should be cleared beforeenabling interrupts.\nT1CKI = 1\nwhen TMR1\nEnabled\nT1CKI = 0\nwhen TMR1\nEnabled\nNote 1: Arrows indicate counter increments.\n2:In Counter mode, a falling edge must be registered by the counter prior to the first incrementing rising edge of the \nclock.\nPIC16F630/676\nDS40039F-page 36  \uf0e3 2010 Microchip Technology Inc.REGISTER 5-1: T1CON — TIMER1 CONTROL REGI STER (ADDRESS: 10h)           \nU-0 R/W-0 R/W-0 R/W-0 R/W-0 R/W-0 R/W-0 R/W-0\n— TMR1GE T1CKPS1 T1CKPS0 T1OSCEN T1SYNC TMR1CS TMR1ON\nbit 7 bit 0\nbit 7 Unimplemented: Read as ‘0’\nbit 6 TMR1GE: Timer1 Gate Enable bit\nIf TMR1ON = 0:\nThis bit is ignored\nIf TMR1ON = 1:\n1 = Timer1 is on if T1G  pin is low\n0 = Timer1 is on\nbit 5-4 T1CKPS1:T1CKPS0:  Timer1 Input Clock Prescale Select bits\n11 = 1:8 Prescale Value\n10 = 1:4 Prescale Value\n01 = 1:2 Prescale Value\n00 = 1:1 Prescale Value\nbit 3 T1OSCEN: LP Oscillator Enable Control bit\nIf INTOSC without CLKOUT oscillator is active:\n1 = LP oscillator is enabled for Timer1 clock\n0 = LP oscillator is off\nElse:\nThis bit is ignored\nbit 2 T1SYNC : Timer1 External Clock Input Synchronization Control bit\nTMR1CS = 1:\n1 = Do not synchronize external clock input\n0 = Synchronize external clock input\nTMR1CS = 0:\nThis bit is ignored. Timer1 uses the internal clock.\nbit 1 TMR1CS: Timer1 Clock Source Select bit\n1 = External clock from T1OSO/T1CKI pin (on the rising edge)\n0 = Internal clock (F OSC/4)\nbit 0 TMR1ON: Timer1 On bit\n1 = Enables Timer1\n0 = Stops Timer1\nLegend:\nR = Readable bit W = Writable bit U = Unimplemented bit, read as ‘0’\n- n = Value at POR ‘1’ = Bit is set ‘0’ = Bit is cleared x = Bit is unknown\n\uf0e3 2010 Microchip Technology Inc. DS40039F-page 37PIC16F630/676\n5.4 Timer1 Operation in \nAsynchronous Counter Mode\nIf control bit T1SYNC  (T1CON<2>) is set, the external\nclock input is not synchronized. The timer continues to\nincrement asynchronous to the internal phase clocks.The timer will continue to run during Sleep and can\ngenerate an interrupt on overflow, which will wake-up\nthe processor. However, special precautions insoftware are needed to read/write the timer\n(Section 5.4.1).\n5.4.1 READING AND WRITING TIMER1 IN \nASYNCHRONOUS COUNTER MODE\nReading TMR1H or TMR1L, while the timer is running\nfrom an external asynchronous clock, will ensure a\nvalid read (taken care of in hardware). However, theuser should keep in mind that reading the 16-bit timer\nin two 8-bit values itself, poses certain problems, since\nthe timer may overflow between the reads. \nFor writes, it is recommended that the user simply stop\nthe timer and write the desired values. A write conten-\ntion may occur by writing to the timer registers, while\nthe register is incrementing. This may produce anunpredictable value in the timer register.\nReading the 16-bit value requires some care.\nExamples 12-2 and 12-3 in the PIC\n® Mid-Range MCU\nFamily Reference Manual (DS33023) show how toread and write Timer1 when it is running in\nAsynchronous mode.5.5 Timer1 Oscillator\nA crystal oscillator circuit is built-in between pins OSC1\n(input) and OSC2 (amplifier output). It is enabled bysetting control bit T1OSCEN (T1CON<3>). The oscilla-\ntor is a low power oscillator rated up to 32 kHz. It will\ncontinue to run during Sleep. It is primarily intended fora 32 kHz crystal. Table 9-2 shows the capacitor\nselection for the Timer1 oscillator. \nThe Timer1 oscillator is shared with the system LP\noscillator. Thus, Timer1 can use this mode only whenthe system clock is derived from the internal oscillator.\nAs with the system LP oscillator, the user must provide\na software time delay to ensure proper oscillatorstart-up.\nTRISA5 and TRISA4 bits are set when the Timer1\noscillator is enabled. RA5 and RA4 read as ‘ 0’ and\nTRISA5 and TRISA4 bits read as ‘ 1’.\n5.6 Timer1 Operation During Sleep\nTimer1 can only operate during Sleep when setup in\nAsynchronous Counter mode. In this mode, an external\ncrystal or clock source can be used to increment thecounter. To setup the timer to wake the device:\n• Timer1 must be on (T1CON<0>)\n• TMR1IE bit (PIE1<0>) must be set• PEIE bit (INTCON<6>) must be set\nThe device will wake-up on an overflow. If the GIE bit\n(INTCON<7>) is set, the device will wake-up and jumpto the Interrupt Service Routine on an overflow.\nTABLE 5-1: REGISTERS ASSOCIATED WITH TIMER1 AS A TIMER/COUNTER      Note: The ANSEL (91h) and CMCON (19h)\nregisters must be initialized to configure an\nanalog channel as a digital input. Pins\nconfigured as analog inputs will read ‘ 0’.\nThe ANSEL register is defined for the\nPIC16F676.\nNote: The oscillator requires a start-up and\nstabilization time before use. Thus,\nT1OSCEN should be set and a suitabledelay observed prior to enabling Timer1.\nAddress Name Bit 7 Bit 6 Bit 5 Bit 4 Bit 3 Bit 2 Bit 1 Bit 0Value on\nPOR, BODValue on\n all other \nResets\n0Bh/8Bh INTCON GIE PEIE T0IE INTE RAIE T0IF INTF RAIF0000 0000 0000 000u\n0Ch PIR1 EEIF ADIF — — CMIF — —T M R 1 I F 00-- 0--0 00-- 0--0\n0Eh TMR1L Holding Register for the Least Significant Byte of the 16-bit TMR1 Register xxxx xxxx uuuu uuuu\n0Fh TMR1H Holding Register for the Most Significant Byte of the 16-bit TMR1 Register xxxx xxxx uuuu uuuu\n10h T1CON — TMR1GE T1CKPS1 T1CKPS0 T1OSCEN T1SYNC TMR1CS TMR1ON -000 0000 -uuu uuuu\n8Ch PIE1 EEIE ADIE — — CMIE — —T M R 1 I E 00-- 0--0 00-- 0--0\nLegend:  x = unknown, u = unchanged, - = unimplemented, read as ‘ 0’. Shaded cells are not used by the Timer1 module.\nPIC16F630/676\nDS40039F-page 38  \uf0e3 2010 Microchip Technology Inc.NOTES:\n\uf0e3 2010 Microchip Technology Inc. DS40039F-page 39PIC16F630/676\n6.0 COMPARATOR MODULE\nThe PIC16F630/676 devices have one analog compar-\nator. The inputs to the comparator are multiplexed with\nthe RA0 and RA1 pins. There is an on-chip ComparatorVoltage Reference that can also be applied to an input\nof the comparator. In addition, RA2 can be configured\nas the comparator output. The Comparator Control\nRegister (CMCON), shown in Register 6-1, containsthe bits to control the comparator.\nREGISTER 6-1: CMCON — COMPARATOR  CONTROL REGISTER (ADDRESS: 19h )                 \nU-0 R-0 U-0 R/W-0 R/W-0 R/W-0 R/W-0 R/W-0\n—C O U T — CINV CIS CM2 CM1 CM0\nbit 7 bit 0\nbit 7 Unimplemented : Read as ‘ 0’\nbit 6 COUT : Comparator Output bit\nWhen C INV = 0:\n1 = V IN+ > V IN-\n0 = V IN+ < V IN-\nWhen C INV = 1:\n1 = V IN+ < V IN-\n0 = V IN+ > V IN-\nbit 5 Unimplemented : Read as ‘ 0’\nbit 4 CINV : Comparator Output Inversion bit\n1 = Output inverted\n0 = Output not inverted\nbit 3 CIS: Comparator Input Switch bit\nWhen CM2:CM0 =  110 or 101:\n1 = V IN- connects to CIN+\n0 = V IN- connects to CIN-\nbit 2-0 CM2:CM0 : Comparator Mode bits\nFigure 6-2 shows the Comparator modes and CM2:CM0 bit settings\nLegend:\nR = Readable bit W = Writable bit U = Unimplemented bit, read as ‘0’- n = Value at POR ‘1’ = Bit is set ‘0’ = Bit is cleared x = Bit is unknown\nPIC16F630/676\nDS40039F-page 40  \uf0e3 2010 Microchip Technology Inc.6.1 Comparator Operation\nA single comparator is shown in Figure 6-1, along with\nthe relationship between the analog input levels andthe digital output. When the analog input at V\nIN+ is less\nthan the analog input V IN-, the output of the comparator\nis a digital low level. When the analog input at V IN+ is\ngreater than the analog input V IN-, the output of the\ncomparator is a digital high level. The shaded areas of\nthe output of the comparator in Figure 6-1 representthe uncertainty due to input offsets and response time.\nThe polarity of the comparator output can be inverted\nby setting the CINV bit (CMCON<4>). Clearing CINV\nresults in a non-inverted output. A complete tableshowing the output state versus input conditions and\nthe polarity bit is shown in Table 6-1.TABLE 6-1: OUTPUT STATE VS. INPUT \nCONDITIONS\nFIGURE 6-1: SINGLE COMPARATOR\nNote: To use CIN+ and CIN- pins as analog\ninputs, the appropriate bits must beprogrammed in the CMCON (19h) register.Input Conditions CINV COUT\nVIN- > V IN+ 00\nVIN- < V IN+ 01\nVIN- > V IN+ 11\nVIN- < V IN+ 10\nOutputVIN-\nVIN+Output+\n–VIN+\nVIN-\nNote: CINV bit (CMCON<4>) is clear.\n\uf0e3 2010 Microchip Technology Inc. DS40039F-page 41PIC16F630/676\n6.2 Comparator Configuration\nThere are eight modes of operation for the comparator.\nThe CMCON register, shown in Register 6-1, is used to\nselect the mode. Figure 6-2 shows the eight possible\nmodes. The TRISA register controls the data directionof the comparator pins for each mode. If the\nComparator mode is changed, the comparator outputlevel may not be valid for a specified period of time.\nRefer to the specifications in Section 12.0 “Electri-\ncal Specifications” . \nFIGURE 6-2: COMPARATOR  I/O OPERATING MODESNote: Comparator interrupts should be disabled\nduring a Comparator mode change. Other-wise, a false interrupt may occur.\nComparator Reset (POR Default Value – low power) Comparator Off (Lowest power)\nCM2:CM0 = 000 CM2:CM0 = 111\nComparator without Output Comparator w/o Output and with Internal Reference\nCM2:CM0 = 010 CM2:CM0 = 100\nComparator with Output and Internal Reference Mul tiplexed Input with Internal Reference and Output\nCM2:CM0 = 011 CM2:CM0 = 101\nComparator with Output Multiplexed Input with Internal Reference\nCM2:CM0 = 001 CM2:CM0 = 110\nA = Analog Input, ports always reads ‘ 0’\nD = Digital Input\nCIS = Comparator Input Switch (CMCON<3>)RA1/CIN-\nRA0/CIN+Off (Read as ‘ 0’)A\nA\nRA2/COUT DRA1/CIN-\nRA0/CIN+Off (Read as ‘ 0’)D\nD\nRA2/COUT D\nRA1/CIN-\nRA0/CIN+COUTA\nA\nRA2/COUT DRA1/CIN-\nRA0/CIN+COUTA\nD\nRA2/COUT D\nFrom CV REF Module\nRA1/CIN-\nRA0/CIN+COUTA\nD\nRA2/COUT D\nFrom CV REF ModuleRA1/CIN-\nRA0/CIN+COUTA\nA\nRA2/COUT D\n From CV REF ModuleCIS = 0\nCIS = 1\nRA1/CIN-\nRA0/CIN+COUTA\nA\nRA2/COUT DRA1/CIN-\nRA0/CIN+COUTA\nA\nRA2/COUT D\nFrom CV REF ModuleCIS = 0\nCIS = 1\nPIC16F630/676\nDS40039F-page 42  \uf0e3 2010 Microchip Technology Inc.6.3 Analog Input Connection \nConsiderations\nA simplified circuit for an analog input is shown in\nFigure 6-3. Since the analog pins are connected to a\ndigital output, they have reverse biased diodes to V DD\nand V SS. The analog input, therefore, must be between\nVSS and V DD. If the input voltage deviates from thisrange by more than 0.6V in either direction, one of the\ndiodes is forward biased and a latch-up may occur. A\nmaximum source impedance of 10 k \uf057 is\nrecommended for the analog sources. Any externalcomponent connected to an analog input pin, such as\na capacitor or a Zener diode, should have very little\nleakage current.\nFIGURE 6-3: ANALOG INPUT MODE\n6.4 Comparator Output\nThe comparator output, COUT, is read through the\nCMCON register. This bit is read-only. The comparator\noutput may also be directly output to the RA2 pin inthree of the eight possible modes, as shown in\nFigure 6-2. When in one of these modes, the output on\nRA2 is asynchronous to the internal clock. Figure 6-4shows the comparator output block diagram.The TRISA<2> bit functions as an output enable/\ndisable for the RA2 pin while the comparator is in anOutput mode.\nFIGURE 6-4: MODIFIED COMP ARATOR OUTPUT BLOCK DIAGRAMVARs < 10K\nAIN\nCPIN\n5 pFVDD\nVT = 0.6V\nVT = 0.6VRIC\nLeakage\n±500 nA\nVss\nLegend: CPIN = Input Capacitance\nVT = Threshold Voltage\nILEAKAGE = Leakage Current at the pin due to Various Junctions\nRIC = Interconnect Resistance\nRS = Source Impedance\nVA = Analog Voltage\nNote 1: When reading the PORTA register, all\npins configured as analog inputs will read\nas a ‘0’. Pins configured as digital inputs\nwill convert an analog input according tothe TTL input specification.\n2:Analog levels on any pin that is defined as\na digital input, may cause the input buffer\nto consume more current than isspecified.\nTo RA2/T0CKI pin\nRD CMCON\nSet CMIF bit\nResetTo Data Bus\nCINVCVREF\nD\nENQD\nENQ\nRD CMCONRA1/CIN-RA0/CIN+\nCM2:CM0\n\uf0e3 2010 Microchip Technology Inc. DS40039F-page 43PIC16F630/676\n6.5 Comparator Reference\nThe comparator module also allows the selection of an\ninternally generated voltage reference for one of thecomparator inputs. The internal reference signal is\nused for four of the eight Comparator modes. The\nVRCON register, Register 6-2, controls the voltagereference module shown in Figure 6-5.\n6.5.1 CONFIGURING THE VOLTAGE \nREFERENCE\nThe voltage reference can output 32 distinct voltage\nlevels, 16 in a high range and 16 in a low range.The following equations determine the output voltages:\nVRR = 1 (low range): CV REF = (VR3:VR0 / 24) x V DD \nVRR = 0 (high range): CV REF = (V DD / 4) + (VR3:VR0 x\nVDD / 32)\n6.5.2 VOLTAGE REFERENCE \nACCURACY/ERROR\nThe full range of V SS to V DD cannot be realized due to\nthe construction of the module. The transistors on thetop and bottom of the resistor ladder network\n(Figure 6-5) keep CV\nREF from approaching V SS or\nVDD. The Voltage Reference is V DD derived and there-\nfore, the CV REF output changes with fluctuations in\nVDD. The tested absolute accuracy of the Comparator\nVoltage Reference can be found in Section 12.0\n“Electrical Specifications” .\nFIGURE 6-5: COMPARAT OR VOLTAGE REFERENCE BLOCK DIAGRAM\n6.6 Comparator Response Time\nResponse time is the minimum time, after selecting a\nnew reference voltage or input source, before the\ncomparator output is ensured to have a valid level. Ifthe internal reference is changed, the maximum delay\nof the internal voltage reference must be considered\nwhen using the comparator outputs. Otherwise, themaximum delay of the comparators should be used\n(Table 12-7).\n6.7 Operation During Sleep\nBoth the comparator and voltage reference, if enabled\nbefore entering Sleep mode, remain active duringSleep. This results in higher Sleep currents than shown\nin the power-down specifications. The additional cur-\nrent consumed by the comparator and the voltage ref-erence is shown separately in the specifications. Tominimize power consumption while in Sleep mode, turn\noff the comparator, CM2:CM0 = 111, and voltage refer-\nence, VRCON<7> = 0.While the comparator is enabled during Sleep, an inter-\nrupt will wake-up the device. If the device wakes upfrom Sleep, the contents of the CMCON and VRCON\nregisters are not affected.\n6.8 Effects of a Reset\nA device Reset forces the CMCON and VRCON\nregisters to their Reset states. This forces thecomparator module to be in the Comparator Reset\nmode, CM2:CM0 = 000 and the voltage reference to its\noff state. Thus, all potential inputs are analog inputswith the comparator and voltage reference disabled to\nconsume the smallest current possible.VRR 8R\nVR3:VR016-1 Analog8 R RR RR\nCVREF to16 Stages\nComparator\nInputVRENVDD\nMUX\nPIC16F630/676\nDS40039F-page 44  \uf0e3 2010 Microchip Technology Inc.REGISTER 6-2: VRCON — VOLTAGE REFE RENCE CONTROL REGISTER (ADDRESS: 99h)                \n \n6.9 Comparator Interrupts\nThe comparator interrupt flag is set whenever there is\na change in the output value of the comparator.\nSoftware will need to maintain information about thestatus of the output bits, as read from CMCON<6>, to\ndetermine the actual change that has occurred. The\nCMIF bit, PIR1<3>, is the comparator interrupt flag.This bit must be reset in software by clearing it to ‘ 0’.\nSince it is also possible to write a ‘ 1’ to this register, a\nsimulated interrupt may be initiated.\nThe CMIE bit (PIE1<3>) and the PEIE bit\n(INTCON<6>) must be set to enable the interrupt. In\naddition, the GIE bit must also be set. If any of these\nbits are cleared, the interrupt is not enabled, though theCMIF bit will still be set if an interrupt condition occurs.The user, in the Interrupt Service Routine, can clear the\ninterrupt in the following manner:\na) Any read or write of CMCON. This will end the\nmismatch condition.\nb) Clear flag bit CMIF.\nA mismatch condition will continue to set flag bit CMIF.\nReading CMCON will end the mismatch condition and\nallow flag bit CMIF to be cleared.\nTABLE 6-2: REGISTERS ASSOCIATED WITH COMPARATOR MODULER/W-0 U-0 R/W-0 R/W-0 R/W-0 R/W-0 R/W-0 R/W-0\nVREN —V R R — VR3 VR2 VR1 VR0\nbit 7 bit 0\nbit 7 VREN:  CVREF Enable bit\n1 = CV REF circuit powered on\n0 = CV REF circuit powered down, no I DD drain\nbit 6 Unimplemented: Read as ‘0’\nbit 5 VRR:  CVREF Range Selection bit\n1 = Low range\n0 = High range\nbit 4 Unimplemented: Read as ‘0’\nbit 3-0 VR3:VR0:  CVREF value selection bits 0 \uf0a3 VR [3:0] \uf0a3 15\nWhen VRR = 1: CV REF = (VR3:VR0 / 24) * V DD\nWhen VRR = 0: CV REF = V DD/4 + (VR3:VR0 / 32) * V DD\nLegend:\nR = Readable bit W = Writable bit U = Unimplemented bit, read as ‘0’- n = Value at POR ‘1’ = Bit is set ‘0’ = Bit is cleared x = Bit is unknown\nNote: If a change in the CMCON register (COUT)\nshould occur when a read operation is\nbeing executed (start of the Q2 cycle), thenthe CMIF (PIR1<3>) interrupt flag may not\nget set.\nAddress Name Bit 7 Bit 6 Bit 5 Bit 4 Bit 3 Bit 2 Bit 1 Bit 0Value on\nPOR, BOD Value on\nall other\nResets\n0Bh/8Bh INTCON GIE PEIE T0IE INTE RAIE T0IF INTF RAIF0000 0000 0000 000u\n0Ch PIR1 EEIF ADIF — —C M I F — — TMR1IF 00-- 0--0 00-- 0--0\n19h CMCON —C O U T — CINV CIS CM2 CM1 CM0 -0-0 0000 -0-0 0000\n8Ch PIE1 EEIE ADIE — —C M I E — — TMR1IE 00-- 0--0 00-- 0--0\n85h TRISA — — TRISA5 TRISA4 TRISA3 TRISA2 TRISA1 TRISA0 --11 1111 --11 1111\n99h VRCON VREN —V R R — VR3 VR2 VR1 VR0 0-0- 0000 0-0- 0000\nLegend: x = unknown, u = unchanged, – = unimplemented, read as ‘ 0’. Shaded cells are not used by the comparator module.\n\uf0e3 2010 Microchip Technology Inc. DS40039F-page 45PIC16F630/676\n7.0 ANALOG-TO-DIGITAL \nCONVERTER (A/D) MODULE \n(PIC16F676 ONLY)\nThe Analog-to-Digital Converter (ADC) allows conver-\nsion of an analog input signal to a 10-bit binary repre-\nsentation of that signal. The PIC16F676 has eight\nanalog inputs, multiplexed into one sample and holdcircuit. The output of the sample and hold is connected\nto the input of the converter. The converter generates a\nbinary result via successive approximation and stores\nthe result in a 10-bit register. The voltage referenceused in the conversion is software selectable to either\nV\nDD or a voltage applied by the V REF pin. Figure 7-1\nshows the block diagram of the A/D on the PIC16F676.\nFIGURE 7-1: A/D BLOCK DIAGRAM   \n7.1 A/D Configuration and Operation\nThere are three registers available to control thefunctionality of the A/D module: \n1. ADCON0 (Register 7-1)\n2. ADCON1 (Register 7-2)\n3. ANSEL (Register 7-3)\n7.1.1 ANALOG PORT PINS\nThe ANS7:ANS0 bits (ANSEL<7:0>) and the TRISA\nbits control the operation of the A/D port pins. Set the\ncorresponding TRISA bits to set the pin output driver toits high-impedance state. Likewise, set the correspond-\ning ANS bit to disable the digital input buffer.\n7.1.2 CHANNEL SELECTION\nThere are eight analog channels on the PIC16F676,\nAN0 through AN7. The CHS2:CHS0 bits\n(ADCON0<4:2>) control which channel is connected to\nthe sample and hold circuit.7.1.3 VOLTAGE REFERENCE\nThere are two options for the voltage reference to theA/D converter: either V\nDD is used, or an analog voltage\napplied to V REF is used. The VCFG bit (ADCON0<6>)\ncontrols the voltage reference selection. If VCFG is set,then the voltage on the V\nREF pin is the reference;\notherwise, V DD is the reference. \n7.1.4 CONVERSION CLOCK\nThe A/D conversion cycle requires 11 T AD. The source\nof the conversion clock is software selectable via theADCS bits (ADCON1<6:4>). There are seven possible\nclock options:\n•F\nOSC/2\n•FOSC/4\n•FOSC/8\n•FOSC/16\n•FOSC/32\n•FOSC/64\n•FRC (dedicated internal oscillator)\nFor correct conversion, the A/D conversion clock\n(1/TAD) must be selected to ensure a minimum T AD of\n1.6\uf06ds. Table 7-1 shows a few T AD calculations for\nselected frequencies.RA0/AN0\nADCRA1/AN1/V REF\nRA2/AN2\nRC0/AN4VDD\nVREF\nADONGO/DONEVCFG = 1VCFG = 0\nCHS2:CHS0ADRESH ADRESL10\n10ADFM\nVSSRC1/AN5\nRC2/AN6\nRC3/AN7RA4/AN3\nNote: Analog voltages on any pin that is defined\nas a digital input may cause the input\nbuffer to conduct excess current.\nPIC16F630/676\nDS40039F-page 46  \uf0e3 2010 Microchip Technology Inc.TABLE 7-1: T AD vs. DEVICE OPERATING FREQUENCIES  \n7.1.5 STARTING A CONVERSION\nThe A/D conversion is initiated by setting the\nGO/DONE  bit (ADCON0<1>). When the conversion is\ncomplete, the A/D module:\n• Clears the GO/DONE  bit\n• Sets the ADIF flag (PIR1<6>)\n• Generates an interrupt (if enabled)\nIf the conversion must be aborted, the GO/DONE  bit\ncan be cleared in software. The ADRESH:ADRESL\nregisters will not be updated with the partially complete\nA/D conversion sample. Instead, theADRESH:ADRESL registers will retain the value of theprevious conversion. After an aborted conversion, a\n2T\nAD delay is required before another acquisition can\nbe initiated. Following the delay, an input acquisition is\nautomatically started on the selected channel.\n7.1.6 CONVERSION OUTPUT\nThe A/D conversion can be supplied in two formats: leftor right shifted. The ADFM bit (ADCON0<7>) controls\nthe output format. Figure 7-2 shows the output formats.\nFIGURE 7-2: 10-BIT A/D RESULT FORMAT A/D Clock Source (T AD) Device Frequency\nOperation ADCS2:ADCS0 20 MHz 5 MHz 4 MHz 1.25 MHz\n2 TOSC 000 100 ns(2)400 ns(2)500 ns(2)1.6 \uf06ds\n4 TOSC 100 200 ns(2)800 ns(2)1.0 \uf06ds(2)3.2 \uf06ds\n8 TOSC 001 400 ns(2)1.6 \uf06ds2 . 0  \uf06ds6 . 4  \uf06ds\n16 T OSC 101 800 ns(2)3.2 \uf06ds4 . 0  \uf06ds 12.8 \uf06ds(3)\n32 T OSC 010 1.6 \uf06ds6 . 4  \uf06ds 8.0 \uf06ds(3)25.6 \uf06ds(3)\n64 T OSC 110 3.2 \uf06ds 12.8 \uf06ds(3)16.0 \uf06ds(3)51.2 \uf06ds(3)\nA/D RC x11 2 - 6 \uf06ds(1,4)2 - 6 \uf06ds(1,4)2 - 6 \uf06ds(1,4)2 - 6 \uf06ds(1,4)\nLegend: Shaded cells are outside of recommended range.\nNote 1: The A/D RC source has a typical T AD time of 4 \uf06ds for V DD > 3.0V.\n2:These values violate the minimum required T AD time.\n3:For faster conversion times, the selection of another clock source is recommended.\n4:When the device frequency is greater than 1 MHz, the A/D RC clock source is only recommended if the \nconversion will be performed during Sleep.\nNote: The GO/DONE  bit should not be set in the\nsame instruction that turns on the A/D.\nADRESH ADRESL\n(ADFM = 0)M S B L S B\nb i t  7b i t  0 b i t  7b i t  0\n10-bit A/D Result Unimplemented: Read as ‘ 0’\n(ADFM = 1) MSB LSB\nb i t  7b i t  0 b i t  7b i t  0\nUnimplemented: Read as ‘ 0’ 10-bit A/D Result\n\uf0e3 2010 Microchip Technology Inc. DS40039F-page 47PIC16F630/676\nREGISTER 7-1: ADCON0 — A/D CONT ROL REGISTER (ADDRESS: 1Fh)   \nREGISTER 7-2: ADCON1 — A/D CONT ROL REGISTER 1 (ADRESS: 9Fh)                           R/W-0 R/W-0 U-0 R/W-0 R/W-0 R/W-0 R/W-0 R/W-0\nADFM VCFG — CHS2 CHS1 CHS0 GO/DONE ADON\nbit 7 bit 0\nbit 7 ADFM: A/D Result Formed Select bit\n1 = Right justified\n0 = Left justified\nbit 6 VCFG:  Voltage Reference bit\n1 = V REF pin\n0 = V DD\nbit 5 Unimplemented: Read as zero\nbit 4-2 CHS2:CHS0:  Analog Channel Select bits\n000 = Channel 00 (AN0)\n001 = Channel 01 (AN1)\n010 = Channel 02 (AN2)\n011 = Channel 03 (AN3)\n100 = Channel 04 (AN4)\n101 = Channel 05 (AN5)\n110 = Channel 06 (AN6)\n111 = Channel 07 (AN7)\nbit 1 GO/DONE : A/D Conversion Status bit\n1 = A/D conversion cycle in progress. Setting this bit starts an A/D conversion cycle. \n      This bit is automatically cleared by hardware when the A/D conversion has completed.\n0 = A/D conversion completed/not in progress\nbit 0 ADON: A/D Conversion Status bit\n1 = A/D converter module is operating\n0 = A/D converter is shut-off and consumes no operating current\nLegend:\nR = Readable bit W = Writable bit U = Unimplemented bit, read as ‘0’- n = Value at POR ‘1’ = Bit is set ‘0’ = Bit is cleared x = Bit is unknown\nU-0 R/W-0 R/W-0 R/W-0 U-0 U-0 U-0 U-0\n— ADCS2 ADCS1 ADCS0 — — — —\nbit 7 bit 0\nbit 7: Unimplemented: Read as ‘0’\nbit 6-4: ADCS<2:0>:  A/D Conversion Clock Select bits\n000 =F OSC/2\n001 =F OSC/8\n010 =F OSC/32\nx11 =F RC (clock derived from a dedicated internal oscillator = 500 kHz max)\n100 =F OSC/4\n101 =F OSC/16\n110 =F OSC/64\nbit 3-0: Unimplemented: Read as ‘0’\nLegend:\nR = Readable bit W = Writable bit U = Unimplemented bit, read as ‘0’\n- n = Value at POR ‘1’ = Bit is set ‘0’ = Bit is cleared x = Bit is unknown\nPIC16F630/676\nDS40039F-page 48  \uf0e3 2010 Microchip Technology Inc.REGISTER 7-3: ANSEL — ANALOG SELECT REGISTER (ADRESS: 91h) (PIC16F676 ONLY)                          \nR/W-1 R/W-1 R/W-1 R/W-1 R/W-1 R/W-1 R/W-1 R/W-1\nANS7 ANS6 ANS5 ANS4 ANS3 ANS2 ANS1 ANS0\nbit 7 bit 0\nbit 7-0: ANS<7:0> : Analog Select between analog or digital function on pins AN<7:0>, respectively.\n1 = Analog input. Pin is assigned as analog input.(1)\n0 = Digital I/O. Pin is assigned to port or special function.\nNote 1: Setting a pin to an analog input automatically disables the digital input circuitry, \nweak pull-ups, and interrupt-on-change if available. The corresponding TRIS bit \nmust be set to Input mode in order to allow external control of the voltage on the pin.\nLegend:\nR = Readable bit W = Writable bit U = Unimplemented bit, read as ‘0’\n- n = Value at POR ‘1’ = Bit is set ‘0’ = Bit is cleared x = Bit is unknown\n\uf0e3 2010 Microchip Technology Inc. DS40039F-page 49PIC16F630/676\n7.2 A/D Acquisition Requirements     \nFor the A/D converter to meet its specified accuracy,\nthe charge holding capacitor (C HOLD ) must be allowed\nto fully charge to the input channel voltage level. The\nanalog input model is shown in Figure 7-3. The source\nimpedance (R S) and the internal sampling switch (R SS)\nimpedance directly affect the time required to charge\nthe capacitor C HOLD . The sampling switch (R SS)\nimpedance varies over the device voltage (V DD), see\nFigure 7-3. The maximum recommended imped-\nance for analog sources is 10 k \uf057. As the impedanceis decreased, the acquisition time may be decreased.\nAfter the analog input channel is selected (changed),\nthis acquisition must be done before the conversion\ncan be started.\nTo calculate the minimum acquisition time, Equation 7-1\nmay be used. This equation assumes that 1/2 LSb error\nis used (1024 steps for the A/D). The 1/2 LSb error is the\nmaximum error allowed for the A/D to meet its specifiedresolution.\nTo calculate the minimum acquisition time, T\nACQ, see\nthe PIC® Mid-Range Reference Manual (DS33023).\nEQUATION 7-1: ACQUISITION TIME    \n       \nFIGURE 7-3: ANALOG INPUT MODEL         TACQ\nTC\nTACQ=\n=\n=\n=\n==\n=\n=Amplifier Settling Time +\nHold Capacitor Charging Time +Temperature Coefficient\nT\nAMP + T C + T COFF\n2\uf06ds + T C + [(Temperature -25 °C)(0.05\uf06ds/°C)] \nCHOLD  (RIC + R SS + R S) In(1/2047)\n- 120pF (1k \uf057 + 7k\uf057 + 10k\uf057) In(0.0004885)\n16.47\uf06ds\n2\uf06ds + 16.47\uf06ds + [(50°C -25 \uf0b0C)(0.05\uf06ds/\uf0b0C)\n19.72\uf06ds\nNote 1: The reference voltage (V REF) has no effect on the equation, since it cancels itself out.\n2:The charge holding capacitor (C HOLD ) is not discharged after each conversion.\n3:The maximum recommended impedance for analog sources is 10 k \uf057. This is required to meet the pin \nleakage specification.\nCPIN VARSANx\n5 pF\nVDDVT = 0.6V\nVT = 0.6VI LEAKAGERIC \uf0a3 1KSampling\nSwitch\nSSRSS\nCHOLD\n= DAC capacitance\nVSS\n6V\nSampling Switch5V\n4V\n3V\n2V\n56789 1 0 1 1\n(k\uf057)VDD\n= 120 pF ± 500 nA\nLegend: CPIN\nVT\nI LEAKAGE\nRIC\nSS\nCHOLD= input capacitance\n= threshold voltage\n= leakage current at the pin due to\n= interconnect resistance\n= sampling switch\n= sample/hold capacitance (from DAC)various junctions\nPIC16F630/676\nDS40039F-page 50  \uf0e3 2010 Microchip Technology Inc.7.3 A/D Operation During Sleep\nThe A/D converter module can operate during Sleep.\nThis requires the A/D clock source to be set to theinternal oscillator. When the RC clock source is\nselected, the A/D waits one instruction before starting\nthe conversion. This allows the SLEEP  instruction to be\nexecuted, thus eliminating much of the switching noise\nfrom the conversion. When the conversion is complete,\nthe GO/DONE\n bit is cleared, and the result is loaded\ninto the ADRESH:ADRESL registers. If the A/D\ninterrupt is enabled, the device awakens from Sleep. If\nthe A/D interrupt is not enabled, the A/D module isturned off, although the ADON bit remains set.When the A/D clock source is something other than\nRC, a SLEEP  instruction causes the present conversion\nto be aborted, and the A/D module is turned off. The\nADON bit remains set.\n7.4 Effects of Reset\nA device Reset forces all registers to their Reset state.Thus, the A/D module is turned off and any pending\nconversion is aborted. The ADRESH:ADRESL\nregisters are unchanged.\nTABLE 7-2: SUMMARY OF A/D REGISTERS     \nAddress Name Bit 7 Bit 6 Bit 5 Bit 4 Bit 3 Bit 2 Bit 1 Bit 0Value on \nPOR, BODValue on \nall other \nResets\n05h PORTA — — PORTA5 PORTA4 PORTA3 PORTA2 PORTA1 PORTA0 --xx xxxx --uu uuuu\n07h PORTC — — PORTC5 PORTC4 PORTC3 PORTC2 PORTC1 PORTC0 --xx xxxx --uu uuuu\n0Bh, 8Bh INTCON GIE PEIE T0IE INTE RAIE T0IF INTF RAIF0000 0000 0000 000u\n0Ch PIR1 EEIF ADIF — — CMIF — — TMR1IF00-- 0--0 00-- 0--0\n1Eh ADRESH Most Significant 8 bits of the Left Shifted A/D result or 2 bits of the Right Shifted Result xxxx xxxx uuuu uuuu\n1Fh ADCON0 ADFM VCFG — CHS2 CHS1 CHS0 GO ADON 00-0 0000 00-0 0000\n85h TRISA — — TRISA5 TRISA4 TRISA3 TRISA2 TRISA1 TRISA0 --11 1111 --11 1111\n87h TRISC — — TRISC5 TRISC4 TRISC3 TRISC2 TRISC1 TRISC0 --11 1111 --11 1111\n8Ch PIE1 EEIE ADIE — — CMIE — — TMR1IE 00-- 0--0 00-- 0--0\n91h ANSEL ANS7 ANS6 ANS5 ANS4 ANS3 ANS2 ANS1 ANS0 1111 1111 1111 1111\n9Eh ADRESL Least Significant 2 bits of the Left Shifted A/D Result or 8 bits of the Right Shifted Result xxxx xxxx uuuu uuuu\n9Fh ADCON1 — ADCS2 ADCS1 ADCS0 — — — —-000 ---- -000 ----\nLegend: x = unknown, u = unchanged, - = unimplemented read as ‘ 0’. Shaded cells are not used for A/D converter module.\n\uf0e3 2010 Microchip Technology Inc. DS40039F-page 51PIC16F630/676\n8.0 DATA EEPROM MEMORY\nThe EEPROM data memory is readable and writable\nduring normal operation (full V DD range). This memory\nis not directly mapped in the register file space.Instead, it is indirectly addressed through the Special\nFunction Registers. There are four SFRs used to read\nand write this memory:\n• EECON1\n• EECON2 (not a physically implemented register)\n• EEDATA\n• EEADR\nEEDATA holds the 8-bit data for read/write, and\nEEADR holds the address of the EEPROM location\nbeing accessed. PIC16F630/676 devices have 128\nbytes of data EEPROM with an address range from 0hto 7Fh.The EEPROM data memory allows byte read and write.\nA byte write automatically erases the location and\nwrites the new data (erase before write). The EEPROM\ndata memory is rated for high erase/write cycles. Thewrite time is controlled by an on-chip timer. The write\ntime will vary with voltage and temperature as well as\nfrom chip to chip. Please refer to AC Specifications forexact limits.\nWhen the data memory is code-protected, the CPU\nmay continue to read and write the data EEPROM\nmemory. The device programmer can no longer accessthis memory.\nAdditional information on the data EEPROM is\navailable in the PIC\n® Mid-Range Reference Manual,\n(DS33023).\nREGISTER 8-1: EEDAT — EEPROM DATA REGISTER (ADDRESS: 9Ah)                   \n   \nREGISTER 8-2: EEADR — EEPROM ADDRESS REGISTER (ADDRESS: 9Bh)                      R/W-0 R/W-0 R/W-0 R/W-0 R/W-0 R/W-0 R/W-0 R/W-0\nEEDAT7 EEDAT6 EEDAT5 EEDAT4 EEDAT3 EEDAT2 EEDAT1 EEDAT0\nbit 7 bit 0\nbit 7-0 EEDATn : Byte value to write to or read from data EEPROM\nLegend:\nR = Readable bit W = Writable bit U = Unimplemented bit, read as ‘0’\n- n = Value at POR ’1’ = Bit is set ’0’ = Bit is cleared x = Bit is unknown\nU-0 R/W-0 R/W-0 R/W-0 R/W-0 R/W-0 R/W-0 R/W-0\n— EADR6 EADR5 EADR4 EADR3 EADR2 EADR1 EADR0\nbit 7 bit 0\nbit 7 Unimplemented : Should be set to ‘ 0’\nbit 6-0 EEADR : Specifies one of 128 locations for EEPROM Read/Write Operation\nLegend:\nR = Readable bit W = Writable bit U = Unimplemented bit, read as ‘0’\n- n = Value at POR ’1’ = Bit is set ’0’ = Bit is cleared x = Bit is unknown\nPIC16F630/676\nDS40039F-page 52  \uf0e3 2010 Microchip Technology Inc.8.1 EEADR \nThe EEADR register can address up to a maximum of\n128 bytes of data EEPROM. Only seven of the eightbits in the register (EEADR<6:0>) are required. The\nMSb (bit 7) is ignored.\nThe upper bit should always be ‘ 0’ to remain upward\ncompatible with devices that have more data EEPROMmemory.\n8.2 EECON1 AND EECON2 \nREGISTERS\nEECON1 is the control register with four low order bits\nphysically implemented. The upper four bits are non-\nimplemented and read as ‘ 0’s.\nControl bits RD and WR initiate read and write,\nrespectively. These bits cannot be cleared, only set, insoftware. They are cleared in hardware at completionof the read or write operation. The inability to clear the\nWR bit in software prevents the accidental, premature\ntermination of a write operation.\nThe WREN bit, when set, will allow a write operation.\nOn power-up, the WREN bit is clear. The WRERR bitis set when a write operation is interrupted by a MCLR\nReset, or a WDT Time-out Reset during normal\noperation. In these situations, following Reset, the\nuser can check the WRERR bit, clear it, and rewrite\nthe location. The data and address will be cleared,\ntherefore, the EEDATA and EEADR registers willneed to be re-initialized.\nThe Interrupt flag bit EEIF in the PIR1 register is set\nwhen the write is complete. This bit must be cleared in\nsoftware.\nEECON2 is not a physical register. Reading EECON2\nwill read all ‘ 0’s. The EECON2 register is used\nexclusively in the data EEPROM write sequence.\nREGISTER 8-3: EECON1 — EEPROM CONTROL REGISTER (ADDRESS: 9Ch)                  \nU-0 U-0 U-0 U-0 R/W-x R/W-0 R/S-0 R/S-0\n— — — — WRERR WREN WR RD\nbit 7 bit 0\nbit 7-4 Unimplemented: Read as ‘0’\nbit 3 WRERR:  EEPROM Error Flag bit\n1 =A write operation is prematurely terminated (any MCLR  Reset, any WDT Reset during \nnormal operation or BOD detect)\n0 =The write operation completed\nbit 2 WREN:  EEPROM Write Enable bit\n1 = Allows write cycles\n0 = Inhibits write to the data EEPROM\nbit 1 WR: Write Control bit\n1 = Initiates a write cycle (The bit is cleared by hardware once write is complete. The WR bit \ncan only be set, not cleared, in software.)\n0 = Write cycle to the data EEPROM is complete\nbit 0 RD: Read Control bit\n1 = Initiates an EEPROM read (Read takes one cycle. RD is cleared in hardware. The RD bit\ncan only be set, not cleared, in software.)\n0 = Does not initiate an EEPROM read\nLegend:\nS = Bit can only be set \nR = Readable bit W = Writable bit U = Unimplemented bit, read as ‘0’\n- n = Value at POR ’1’ = Bit is set ’0’ = Bit is cleared x = Bit is unknown\n\uf0e3 2010 Microchip Technology Inc. DS40039F-page 53PIC16F630/676\n8.3 READING THE EEPROM DATA \nMEMORY\nTo read a data memory location, the user must write the\naddress to the EEADR register and then set control bit\nRD (EECON1<0>), as shown in Example 8-1. The datais available in the very next cycle in the EEDATA\nregister. Therefore, it can be read in the next\ninstruction. EEDATA holds this value until another read,or until it is written to by the user (during a write\noperation).\nEXAMPLE 8-1: DATA EEPROM READ\n8.4 WRITING TO THE EEPROM DATA \nMEMORY\nTo write an EEPROM data location, the user must first\nwrite the address to the EEADR register and the data\nto the EEDATA register. Then the user must follow aspecific sequence to initiate the write for each byte, as\nshown in Example 8-2.\nEXAMPLE 8-2: DATA EEPROM WRITE \nThe write will not initiate if the above sequence is not\nexactly followed (write 55h to EECON2, write AAh to\nEECON2, then set WR bit) for each byte. We strongly\nrecommend that interrupts be disabled during thiscode segment. A cycle count is executed during the\nrequired sequence. Any number that is not equal to the\nrequired cycles to execute the required sequence willprevent the data from being written into the EEPROM.\nAdditionally, the WREN bit in EECON1 must be set to\nenable write. This mechanism prevents accidental\nwrites to data EEPROM due to errant (unexpected)code execution (i.e., lost programs). The user should\nkeep the WREN bit clear at all times, except when\nupdating EEPROM. The WREN bit is not clearedby hardware.After a write sequence has been initiated, clearing the\nWREN bit will not affect this write cycle. The WR bit will\nbe inhibited from being set unless the WREN bit is set.\nAt the completion of the write cycle, the WR bit is\ncleared in hardware and the EE Write CompleteInterrupt Flag bit (EEIF) is set. The user can either\nenable this interrupt or poll this bit. The EEIF bit\n(PIR<7>) register must be cleared by software. \n8.5 WRITE VERIFY\nDepending on the application, good programmingpractice may dictate that the value written to the data\nEEPROM should be verified (see Example 8-3) to the\ndesired value to be written.\nEXAMPLE 8-3: WRITE VERIFY\n8.5.1 USING THE DATA EEPROM\nThe data EEPROM is a high-endurance, byte address-\nable array that has been optimized for the storage of\nfrequently changing information (e.g., programvariables or other data that are updated often).\nFrequently changing values will typically be updated\nmore often than specifications D120 or D120A. If this isnot the case, an array refresh must be performed. For\nthis reason, variables that change infrequently (such as\nconstants, IDs, calibration, etc.) should be stored inFlash program memory.\n8.6 PROTECTION AGAINST \nSPURIOUS WRITE\nThere are conditions when the user may not want to\nwrite to the data EEPROM memory. To protect against\nspurious EEPROM writes, various mechanisms have\nbeen built in. On power-up, WREN is cleared. Also, thePower-up Timer (72 ms duration) prevents\nEEPROM write.\nThe write initiate sequence and the WREN bit together\nhelp prevent an accidental write during:\n•b r o w n - o u t\n• power glitch\n• software malfunctionBSF STATUS,RP0 ;Bank 1\nMOVLW CONFIG_ADDR ;MOVWF EEADR ;Address to readBSF EECON1,RD ;EE ReadMOVF EEDATA,W ;Move data to W\nBSF STATUS,RP0 ;Bank 1\nBSF EECON1,WREN ;Enable writeBCF INTCON,GIE ;Disable INTsMOVLW 55h ;Unlock writeMOVWF EECON2 ;MOVLW AAh ;MOVWF EECON2 ;BSF EECON1,WR ;Start the writeBSF INTCON,GIE ;Enable INTSRequired\nSequenceBCF STATUS,RP0 ;Bank 0: ;Any codeBSF STATUS,RP0 ;Bank 1 READMOVF EEDATA,W ;EEDATA not changed \n;from previous write\nBSF EECON1,RD ;YES, Read the \n;value written\nXORWF EEDATA,WBTFSS STATUS,Z ;Is data the sameGOTO WRITE_ERR ;No, handle error: ;Yes, continue\nPIC16F630/676\nDS40039F-page 54  \uf0e3 2010 Microchip Technology Inc.8.7 DATA EEPROM OPERATION \nDURING CODE-PROTECT\nData memory can be code-protected by programming\nthe CPD bit to ‘ 0’.\nWhen the data memory is code-protected, the CPU is\nable to read and write data to the data EEPROM. It isrecommended to code-protect the program memory\nwhen code protecting data memory. This prevents\nanyone from programming zeroes over the existingcode (which will execute as NOPs) to reach an added\nroutine, programmed in unused program memory,\nwhich outputs the contents of data memory.Programming unused locations to ‘ 0’ will also help\nprevent data memory code protection from becoming\nbreached.\nTABLE 8-1: REGISTERS/BITS ASSOCIATED WITH DATA EEPROM   \nAddress Name Bit 7 Bit 6 Bit 5 Bit 4 Bit 3 Bit 2 Bit 1 Bit 0Value on \nPOR, BODValue on all \nother \nResets \n0Ch PIR1 EEIF ADIF — — CMIF — — TMR1IF00-- 0--0 00-- 0--0\n9Ah EEDATA EEPROM Data Register 0000 0000 0000 0000\n9Bh EEADR — EEPROM Address Register -000 0000 -000 0000\n9Ch EECON1 — — — — WRERR WREN WR RD ---- x000 ---- q000\n9Dh EECON2(1)EEPROM Control Register 2 ---- ---- ---- ----\nLegend: x = unknown, u = unchanged, – = unimplemented read as ‘ 0’, q = value depends upon condition. \nShaded cells are not used by the data EEPROM module.\nNote 1: EECON2 is not a physical register.\n\uf0e3 2010 Microchip Technology Inc. DS40039F-page 55PIC16F630/676\n9.0 SPECIAL FEATURES OF THE \nCPU\nCertain special circuits that deal with the needs of real\ntime applications are what sets a microcontroller apartfrom other processors. The PIC16F630/676 family has\na host of such features intended to:\n• maximize system reliability\n• minimize cost through elimination of external \ncomponents\n• provide power-saving operating modes and offer \ncode protection\nThese features are:• Oscillator selection\n• Reset\n- Power-on Reset (POR)- Power-up Timer (PWRT)\n- Oscillator Start-up Timer (OST)\n- Brown-out Detect (BOD)\n• Interrupts\n• Watchdog Timer (WDT)\n• Sleep• Code protection\n• ID Locations\n• In-Circuit Serial Programming™The PIC16F630/676 has a Watchdog Timer that is\ncontrolled by Configuration bits. It runs off its own RC\noscillator for added reliability. There are two timers that\noffer necessary delays on power-up. One is theOscillator Start-up Timer (OST), intended to keep the\nchip in Reset until the crystal oscillator is stable. The\nother is the Power-up Timer (PWRT), which provides afixed delay of 72 ms (nominal) on power-up only,\ndesigned to keep the part in Reset while the power\nsupply stabilizes. There is also circuitry to reset thedevice if a brown-out occurs, which can provide at least\na 72 ms Reset. With these three functions on-chip,\nmost applications need no external Reset circuitry.\nThe Sleep mode is designed to offer a very low current\nPower-down mode. The user can wake-up from Sleep\nthrough:\n•E x t e r n a l  R e s e t\n• Watchdog Timer wake-up\n• An interrupt\nSeveral oscillator options are also made available to\nallow the part to fit the application. The INTOSC option\nsaves system cost while the LP crystal option saves\npower. A set of Configuration bits are used to selectvarious options (see Register 9-1).\nPIC16F630/676\nDS40039F-page 56  \uf0e3 2010 Microchip Technology Inc.9.1 Configuration Bits\nThe Configuration bits can be programmed (read as\n‘0’), or left unprogrammed (read as ‘ 1’) to select various\ndevice configurations, as shown in Register 9-1. These\nbits are mapped in program memory location 2007h.\nREGISTER 9-1: CONFIG — CO NFIGURATION WORD (ADDRESS: 2007h)          Note: Address 2007h is beyond the user program\nmemory space. It belongs to the special con-\nfiguration memory space (2000h-3FFFh),which can be accessed only during program-\nming. See PIC16F630/676 Programming\nSpecification for more information.\nR/P-1 R/P-1 U-0 U-0 U-0 R/P-1 R/P-1 R/P-1 R/P-1 R/P-1 R/P-1 R/P-1 R/P-1 R/P-1\nBG1 BG0 — — —C P D CP BODEN MCLRE PWRTE WDTE F0SC2 F0SC1 F0SC0\nbit 13 bit 0\nbit 13-12 BG1:BG0: Bandgap Calibration bits for BOD and POR voltage(1)\n00 = Lowest bandgap voltage\n11 = Highest bandgap voltage\nbit 11-9 Unimplemented : Read as ‘0’\nbit 8 CPD : Data Code Protection bit(2)\n1 = Data memory code protection is disabled\n0 = Data memory code protection is enabled\nbit 7 CP: Code Protection bit(3)\n1 = Program Memory code protection is disabled\n0 = Program Memory code protection is enabled\nbit 6 BODEN : Brown-out Detect Enable bit(4)\n1 = BOD enabled\n0 = BOD disabled\nbit 5 MCLRE : RA3/MCLR  pin function select bit(5)\n1 = RA3/MCLR  pin function is MCLR  \n0 = RA3/MCLR  pin function is digital I/O, MCLR  internally tied to V DD\nbit 4 PWRTE : Power-up Timer Enable bit \n1 = PWRT disabled\n0 = PWRT enabled\nbit 3 WDTE : Watchdog Timer Enable bit\n1 = WDT enabled\n0 = WDT disabled\nbit 2-0 FOSC2:FOSC0 : Oscillator Selection bits\n111 = RC oscillator: CLKOUT function on RA4/OSC2/CLKOUT pin, RC on RA5/OSC1/CLKIN \n110 = RC oscillator: I/O function on RA4/OSC2/CLKOUT pin, RC on RA5/OSC1/CLKIN\n101 = INTOSC oscillator: CLKOUT function on RA4/OSC2/CLKOUT pin, I/O function on RA5/OSC1/CLKIN\n100 = INTOSC oscillator: I/O function on RA4/OSC2 /CLKOUT pin, I/O function on RA5/OSC1/CLKIN\n011 = EC: I/O function on RA4/OSC2/CLKOUT pin, CLKIN on RA5/OSC1/CLKIN\n010 = HS oscillator: High speed crystal/resonator on RA4/OSC2/CLKOUT and RA5/OSC1/CLKIN\n001 = XT oscillator: Crystal/resonator on RA4/OSC2/CLKOUT and RA5/OSC1/CLKIN\n000 = LP oscillator: Low power crystal on RA4/OSC2/CLKOUT and RA5/OSC1/CLKIN\nNote 1: The Bandgap Calibration bits are factory progra mmed and must be read and saved prior to erasing \nthe device as specified in the PIC16F630/676 Programming Specification. These bits are reflected \nin an export of the Configuration Word. Microchip Development Tools maintain all calibration bits to \nfactory settings.\n2:The entire data EEPROM will be erased when the code protection is turned off.\n3:The entire program memory will be erased, including OSCCAL value, when the code protection is \nturned off.\n4:Enabling Brown-out Detect does not automatically enable Power-up Timer.\n5:When MCLR  is asserted in INTOSC or RC mode, the internal clock oscillator is disabled.\nLegend:\nP = Programmed using ICSP™ \nR = Readable bit W = Writable bit U = Unimplemented bit, read as ‘0’\n-n = Value at POR 1 = bit is set 0 = bit is cleared x = bit is unknown\n\uf0e3 2010 Microchip Technology Inc. DS40039F-page 57PIC16F630/676\n9.2 Oscillator Configurations\n9.2.1 OSCILLATOR TYPES\nThe PIC16F630/676 can be operated in eight different\nOscillator Option modes. The user can program threeConfiguration bits (FOSC2 through FOSC0) to select\none of these eight modes:\n• LP Low-Power Crystal\n• XT Crystal/Resonator\n• HS High Speed Crystal/Resonator• RC External Resistor/Capacitor (2 modes)\n• INTOSC Internal Oscillator (2 modes)\n• EC External Clock In\n9.2.2 CRYSTAL OSCILLATOR / CERAMIC \nRESONATORS\nIn XT, LP or HS modes a crystal or ceramic resonator\nis connected to the OSC1 and OSC2 pins to establish\noscillation (see Figure 9-1). The PIC16F630/676 oscil-\nlator design requires the use of a parallel cut crystal.Use of a series cut crystal may yield a frequency\noutside of the crystal manufacturers specifications.\nWhen in XT, LP or HS modes, the device can have anexternal clock source to drive the OSC1 pin (see\nFigure 9-2).\nFIGURE 9-1: CRYSTAL  OPERATION (OR \nCERAMIC RESONATOR) (HS, XT OR LP OSC CONFIGURATION)       FIGURE 9-2: EXTERNAL CLOCK INPUT \nOPERATION (HS, XT, EC, OR LP OSC CONFIGURATION)     \nTABLE 9-1: CAPACITOR SELECTION FOR \nCERAMIC RESONATORS\nTABLE 9-2: CAPACITOR SELECTION FOR \nCRYSTAL OSCILLATOR Note: Additional information on oscillator config-\nurations is available in the PIC® Mid-Range\nReference Manual, (DS33023).\nNote 1: See Table 9-1 and Table 9-2 for recommended \nvalues of C1 and C2.\n2:A series resistor may be required for AT strip cut \ncrystals.\n3:RF varies with the Oscillator mode selected \n(Approx. value = 10 M \uf057\uf029\uf02eC1(1)\nC2(1)XTAL\nOSC2OSC1\nRF(3) SleepTo Internal\nPIC16F630/676Logic\nRS(2)Ranges Characterized:\nMode Freq OSC1(C1) OSC2(C2)\nXT 455 kHz\n2.0 MHz\n4.0 MHz68-100 pF\n15-68 pF\n15-68 pF68-100 pF\n15-68 pF\n15-68 pF\nHS 8.0 MHz\n16.0 MHz10-68 pF\n10-22 pF10-68 pF\n10-22 pF\nNote 1: Higher capacitance increases the stability \nof the oscillator but also increases the \nstart-up time. These values are for design \nguidance only. Since each resonator has its own characteristics, the user should \nconsult the resonator manufacturer for \nappropriate values of external components. \nMode  Freq OSC1(C1) OSC2(C2)\nLP 32 kHz 68-100 pF 68-100 pF\nXT 100 kHz\n2 MHz\n4 MHz68-150 pF\n15-30 pF\n15-30 pF150-200 pF\n15-30 pF\n15-30 pF\nHS 8 MHz\n10 MHz20 MHz15-30 pF\n15-30 pF15-30 pF15-30 pF\n15-30 pF15-30 pF\nNote 1: Higher capacitance increases the stability \nof the oscillator but also increases the \nstart-up time. These values are for design \nguidance only. Rs may be required in HS mode as well as XT mode to avoid \noverdriving crystals with low drive level \nspecification. Since each crystal has its own characteristics, the user should \nconsult the crystal manufacturer for \nappropriate values of external components.Clock from\nExternal System\nPIC16F630/676OSC1\nOSC2(1)Open\nNote 1:   Functions as RA4 in EC Osc mode.\nPIC16F630/676\nDS40039F-page 58  \uf0e3 2010 Microchip Technology Inc.9.2.3 EXTERNAL CLOCK IN\nFor applications where a clock is already available\nelsewhere, users may directly drive the PIC16F630/\n676 provided that this external clock source meets the\nAC/DC timing requirements listed in Section 12.0\n“Electrical Specifications” . Figure 9-2 shows how\nan external clock circuit should be configured.\n9.2.4 RC OSCILLATOR\nFor applications where precise timing is not a\nrequirement, the RC oscillator option is available. The\noperation and functionality of the RC oscillator is\ndependent upon a number of variables. The RCoscillator frequency is a function of:\n• Supply voltage\n• Resistor (R\nEXT) and capacitor (C EXT) values\n• Operating temperature\nThe oscillator frequency will vary from unit to unit due\nto normal process parameter variation. The differencein lead frame capacitance between package types will\nalso affect the oscillation frequency, especially for low\nC\nEXT values. The user also needs to account for the\ntolerance of the external R and C components.\nFigure 9-3 shows how the R/C combination is\nconnected.\nTwo options are available for this Oscillator mode\nwhich allow RA4 to be used as a general purpose I/O\nor to output F OSC/4.\nFIGURE 9-3: RC OSCILLATOR MODE9.2.5 INTERNAL 4 MH Z OSCILLATOR\nWhen calibrated, the internal oscillator provides a fixed\n4 MHz (nominal) system clock. See Electrical\nSpecifications, Section 12.0 “Electrical Specifica-\ntions” , for information on variation over voltage and\ntemperature.\nTwo options are available for this Oscillator mode\nwhich allow RA4 to be used as a general purpose I/O\nor to output F OSC/4.\n9.2.5.1 Calibrating the Internal Oscillator\nA calibration instruction is programmed into the last\nlocation of program memory. This instruction is a\nRETLW XX , where the literal is the calibration value.\nThe literal is placed in the OSCCAL register to set the\ncalibration of the internal oscillator. Example 9-1\ndemonstrates how to calibrate the internal oscillator.For best operation, decouple (with capacitance) V\nDD\nand V SS as close to the device as possible.\nEXAMPLE 9-1: CALIBRATING THE \nINTERNAL OSCILLATOR\n9.2.6 CLKOUT\nThe PIC16F630/676 devices can be configured to\nprovide a clock out signal in the INTOSC and RCOscillator modes. When configured, the oscillator\nfrequency divided by four (F\nOSC/4) is output on the\nRA4/OSC2/CLKOUT pin. F OSC/4 can be used for test\npurposes or to synchronize other logic.RA4/OSC2/CLKOUTCEXTVDD\nREXT\nVSSPIC16F630/676\nRA5/OSC1/\nFOSC/4Internal\nClockCLKINNote: Erasing the device will also erase the pre-\nprogrammed internal calibration value for\nthe internal oscillator. The calibration value\nmust be saved prior to erasing part asspecified in the PIC16F630/676 Program-\nming specification. Microchip Develop-\nment Tools maintain all calibration bits tofactory settings.\nBSF STATUS, RP0 ;Bank 1\nCALL 3FFh ;Get the cal value\nMOVWF OSCCAL ;Calibrate\nBCF STATUS, RP0 ;Bank 0\n\uf0e3 2010 Microchip Technology Inc. DS40039F-page 59PIC16F630/676\n9.3 Reset\nThe PIC16F630/676 differentiates between various\nkinds of Reset: \na) Power-on Reset (POR) \nb) WDT Reset during normal operation\nc) WDT Reset during Sleep \nd) MCLR  Reset during normal operation\ne) MCLR  Reset during Sleep\nf) Brown-out Detect (BOD)\nSome registers are not affected in any Reset condition;\ntheir status is unknown on POR and unchanged in any\nother Reset. Most other registers are reset to a “Resetstate” on:\n• Power-on Reset\n•M C L R\n Reset\n•W D T  R e s e t\n• WDT Reset during Sleep\n• Brown-out Detect (BOD)They are not affected by a WDT wake-up, since this is\nviewed as the resumption of normal operation. TO  and\nPD bits are set or cleared differently in different Reset\nsituations as indicated in Table 9-4. These bits areused in software to determine the nature of the Reset.\nSee Table 9-7 for a full description of Reset states of all\nregisters.\nA simplified block diagram of the On-Chip Reset Circuit\nis shown in Figure 9-4.\nThe MCLR\n Reset path has a noise filter to detect and\nignore small pulses. See Table 12-4 in Electrical\nSpecifications Section for pulse-width specification.\nFIGURE 9-4: SIMPLIFIED BLOCK DI AGRAM OF ON-CHIP RESET CIRCUIT \nS\nR QExternal\nReset\nMCLR /\nVDD\nOSC1/WDT\nModule\nVDD Rise\nDetect\nOST/PWRT\nOn-chip(1)\nRC OSC WDT\nTime-out\nPower-on Reset\nOST\nPWRTChip_Reset\n10-bit Ripple CounterReset\nEnable OSTEnable PWRTSLEEP\nSee Table 9-3 for time-out situations.\nNote 1: This is a separate oscillator from the INTOSC/EC oscillator.Brown-out\nReset\nBODEN\nCLKIN\npinVPP pin\n10-bit Ripple CounterQ\nPIC16F630/676\nDS40039F-page 60  \uf0e3 2010 Microchip Technology Inc.9.3.1 MCLR\nPIC16F630/676 devices have a noise filter in the\nMCLR  Reset path. The filter will detect and ignore\nsmall pulses.\nIt should be noted that a WDT Reset does not drive\nMCLR  pin low.\nThe behavior of the ESD protection on the MCLR  pin\nhas been altered from previous devices of this family.\nVoltages applied to the pin that exceed its specification\ncan result in both MCLR  Resets and excessive current\nbeyond the device specification during the ESD event.\nFor this reason, Microchip recommends that the MCLR\npin no longer be tied directly to V DD. The use of an RC\nnetwork, as shown in Figure 9-5, is suggested.\nAn internal MCLR  option is enabled by setting the\nMCLRE bit in the Configuration Word. When enabled,\nMCLR  i s  i n t e r n a l l y  t i e d  t o  V DD. No internal pull-up\noption is available for the MCLR  pin.\nFIGURE 9-5: RECOMMENDED MCLR  \nCIRCUIT\n9.3.2 POWER-ON RESET (POR)\nThe on-chip POR circuit holds the chip in Reset until\nVDD has reached a high enough level for proper\noperation. To take advantage of the POR, simply tie the\nMCLR  pin through a resistor to V DD. This will eliminate\nexternal RC components usually needed to create\nPower-on Reset. A maximum rise time for V DD is\nrequired. See Section 12.0 “Electrical Specifica-\ntions”  for details. If the BOD is enabled, the maximum\nrise time specification does not apply. The BOD cir-\ncuitry will keep the device in Reset until V DD reaches\nVBOD (see Section 9.3.5 “Brown-out Detect\n(BOD)” ).\nWhen the device starts normal operation (exits the\nReset condition), device operating parameters (i.e.,\nvoltage, frequency, temperature, etc.) must be met toensure operation. If these conditions are not met, the\ndevice must be held in Reset until the operating\nconditions are met.For additional information, refer to Application Note\nAN607 “Power-up Trouble Shooting.”\n9.3.3 POWER-UP TIMER (PWRT)\nThe Power-up Timer provides a fixed 72 ms (nominal)time-out on power-up only, from POR or Brown-outDetect. The Power-up Timer operates on an internal\nRC oscillator. The chip is kept in Reset as long as\nPWRT is active. The PWRT delay allows the V\nDD to\nrise to an acceptable level. A Configuration bit, PWRTE\ncan disable (if set) or enable (if cleared orprogrammed) the Power-up Timer. The Power-upTimer should always be enabled when Brown-out\nDetect is enabled.\nThe Power-up Time delay will vary from chip to chip\nand due to:\n•V\nDD variation\n• Temperature variation\n• Process variation.\nSee DC parameters for details ( Section 12.0 “Electri-\ncal Specifications” ).\n9.3.4 OSCILLATOR START-UP TIMER \n(OST)\nThe Oscillator Start-up Timer (OST) provides a 1024\noscillator cycle (from OSC1 input) delay after the\nPWRT delay is over. This ensures that the crystal\noscillator or resonator has started and stabilized.\nThe OST time-out is invoked only for XT, LP and HS\nmodes and only on Power-on Reset or wake-up from\nSleep.\nNote: The POR circuit does not produce an inter-\nnal Reset when V DD declines.VDD PIC16F630/676\nMCLRR1\n1 k\uf057\uf020\uf028or greater \uf029\nC1\n0.1 \uf06df\n(optional, not critical)\n\uf0e3 2010 Microchip Technology Inc. DS40039F-page 61PIC16F630/676\n9.3.5 BROWN-OUT DETECT (BOD)\nThe PIC16F630/676 members have on-chip Brown-out\nDetect circuitry. A Configuration bit, BODEN, can\ndisable (if clear/programmed) or enable (if set) the\nBrown-out Detect circuitry. If V DD falls below V BOD for\ngreater than parameter (T BOD) in Table 12-4 (see\nSection 12.0 “Electrical Specifications” ), the\nBrown-out situation will reset the device. This will occurregardless of V\nDD slew-rate. A Reset is not guaranteed\nto occur if V DD falls below V BOD for less than parameter\n(TBOD). On any Reset (Power-on, Brown-out Detect,\nWatchdog, etc.), the chip will remain in Reset until V DD\nrises above BV DD (see Figure 9-6). The Power-up\nTimer will now be invoked, if enabled, and will keep thechip in Reset an additional 72 ms. \nIf V\nDD drops below BV DD while the Power-up Timer is\nrunning, the chip will go back into a Brown-out Detect\nand the Power-up Timer will be re-initialized. Once V DD\nrises above BV DD, the Power-up Timer will execute a\n72 ms Reset.\nFIGURE 9-6: BROWN-O UT SITUATIONS \n9.3.6 TIME-OUT SEQUENCE\nOn power-up, the time-out sequence is as follows: first,\nPWRT time-out is invoked after POR has expired.\nThen, OST is activated. The total time-out will varybased on oscillator configuration and PWRTE\n bit\nstatus. For example, in EC mode with PWRTE  bit\nerased (PWRT disabled), there will be no time-out atall. Figure 9-7, Figure 9-8 and Figure 9-9 depict time-\nout sequences.\nSince the time-outs occur from the POR pulse, if MCLR\nis kept low long enough, the time-outs will expire. Then\nbringing MCLR  high will begin execution immediately\n(see Figure 9-8). This is useful for testing purposes or\nto synchronize more than one PIC16F630/676 deviceoperating in parallel.\nTable 9-6 shows the Reset conditions for some special\nregisters, while Table 9-7 shows the Reset conditions\nfor all the registers. 9.3.7 POWER CONTROL (PCON) STATUS \nREGISTER \nThe power CONTROL/STATUS register, PCON\n(address 8Eh) has two bits. \nBit 0 is BOD  (Brown-out). BOD  is unknown on Power-\non Reset. It must then be set by the user and checkedon subsequent Resets to see if BOD\n = 0, indicating that\na brown-out has occurred. The BOD  S t a t u s  b i t  i s  a\n“don’t care” and is not necessarily predictable if thebrown-out circuit is disabled (by setting BODEN\n bit = 0\nin the Configuration Word).\nBit 1 is POR  (Power-on Reset). It is a ‘ 0’ on Power-on\nReset and unaffected otherwise. The user must write a‘1’ to this bit following a Power-on Reset. On a\nsubsequent Reset, if POR\n is ‘0’, it will indicate that a\nPower-on Reset must have occurred (i.e., V DD may\nhave gone too low).Note: A Brown-out Detect does not enable the\nPower-up Timer if the PWRTE  bit in the\nConfiguration Word is set.\n72 ms(1)VBOD VDD\nInternal\nReset\nVBOD VDD\nInternal\nReset 72 ms(1)<72 ms\n72 ms(1)VBOD VDD\nInternal\nReset\nNote 1: 72 ms delay only if PWRTE  bit is programmed to ‘ 0’.\nPIC16F630/676\nDS40039F-page 62  \uf0e3 2010 Microchip Technology Inc.TABLE 9-3: TIME-OUT IN  VARIOUS SITUATIONS\nTABLE 9-4: STATUS/PCON BITS AND THEIR SIGNIFICANCE\nTABLE 9-5: SUMMARY OF REGISTER S ASSOCIATED WITH BROWN-OUT\nTABLE 9-6: INITIALIZATION CONDITION FOR SPECIAL REGISTERSOscillator ConfigurationPower-up Brown-out DetectWake-up \nfrom SleepPWRTE  = 0 PWRTE  = 1 PWRTE  = 0 PWRTE  = 1\nXT, HS, LP T PWRT  + \n1024•T OSC1024•T OSC TPWRT  + \n1024•T OSC1024•T OSC 1024•T OSC\nRC, EC, INTOSC T PWRT —T PWRT ——\nPOR BOD TO PD\n0u11 Power-on Reset\n1011 Brown-out Detect\nuu0u WDT Reset\nuu00 WDT Wake-up\nuuuu MCLR  Reset during normal operation\nuu10 MCLR  Reset during Sleep\nLegend: u = unchanged, x = unknown\nAddress Name Bit 7 Bit 6 Bit 5 Bit 4 Bit 3 Bit 2 Bit 1 Bit 0Value on \nPOR, BODValue on all \nother \nResets(1)\n03h STATUS IRP RP1 RPO TO PD Z DC C0001 1xxx 000q quuu\n8Eh PCON — — —  — — —P O R BOD---- --0x ---- --uq\nLegend:u = unchanged, x = unknown, - = unimplemented bit, reads as ‘ 0’, q = value depends on condition.\nNote 1: Other (non Power-up) Resets include MCLR  Reset, Brown-out Detect and Watchdog Timer Reset during \nnormal operation.\nConditionProgram\nCounterSTATUS\nRegisterPCON\nRegister\nPower-on Reset 000h 0001 1xxx ---- --0x\nMCLR  Reset during normal operation 000h 000u uuuu ---- --uu\nMCLR  Reset during Sleep 000h 0001 0uuu ---- --uu\nWDT Reset 000h 0000 uuuu ---- --uu\nWDT Wake-up PC + 1 uuu0 0uuu ---- --uu\nBrown-out Detect 000h 0001 1uuu ---- --10\nInterrupt Wake-up from Sleep PC + 1(1)uuu1 0uuu ---- --uu\nLegend:u = unchanged,   x = unknown, - = unimplemented bit, reads as ‘ 0’.\nNote 1: When the wake-up is due to an interrupt and global enable bit GIE is set, the PC is loaded with the \ninterrupt vector (0004h) after execution of PC + 1.\n\uf0e3 2010 Microchip Technology Inc. DS40039F-page 63PIC16F630/676\nTABLE 9-7: INITIALIZATION CONDITION FOR REGISTERS\nRegister AddressPower-on \nReset•M C L R  Reset\n• WDT Reset• Brown-out Detect\n(1)• Wake-up from Sleep \nthrough interrupt\n• Wake-up from Sleep \nthrough WDT time-out\nW— xxxx xxxx uuuu uuuu uuuu uuuu\nINDF 00h/80h — — —TMR0 01h xxxx xxxx uuuu uuuu uuuu uuuu\nPCL 02h/82h 0000 0000 0000 0000 PC + 1\n(3)\nSTATUS 03h/83h 0001 1xxx 000q quuu(4)uuuq quuu(4)\nFSR 04h/84h xxxx xxxx uuuu uuuu uuuu uuuu\nPORTA 05h --xx xxxx --uu uuuu --uu uuuu\nPORTC 07h --xx xxxx --uu uuuu --uu uuuu\nPCLATH 0Ah/8Ah ---0 0000 ---0 0000 ---u uuuu\nINTCON 0Bh/8Bh 0000 0000 0000 000u uuuu uuqq(2)\nPIR1 0Ch 00-- 0--0 00-- 0--0 qq-- q--q(2,5)\nT1CON 10h -000 0000 -uuu uuuu -uuu uuuu\nCMCON 19h -0-0 0000 -0-0 0000 -u-u uuuu\nADRESH 1Eh xxxx xxxx uuuu uuuu uuuu uuuu\nADCON0 1Fh 00-0 0000 00-0 0000 uu-u uuuu\nOPTION_REG 81h 1111 1111 1111 1111 uuuu uuuu\nTRISA 85h --11 1111 --11 1111 --uu uuuu\nTRISC 87h --11 1111 --11 1111 --uu uuuu\nPIE1 8Ch 00-- 0--0 00-- 0--0 uu-- u--u\nPCON 8Eh ---- --0x ---- --uu(1,6)---- --uu\nOSCCAL 90h 1000 00-- 1000 00-- uuuu uu--\nANSEL 91h 1111 1111 1111 1111 uuuu uuuu\nWPUA 95h --11 -111 --11 -111 uuuu uuuu\nIOCA 96h --00 0000 --00 0000 --uu uuuu\nVRCON 99h 0-0- 0000 0-0- 0000 u-u- uuuu\nEEDATA 9Ah 0000 0000 0000 0000 uuuu uuuu\nEEADR 9Bh -000 0000 -000 0000 -uuu uuuu\nEECON1 9Ch ---- x000 ---- q000 ---- uuuu\nEECON2 9Dh ---- ---- ---- ---- ---- ----\nADRESL 9Eh xxxx xxxx uuuu uuuu uuuu uuuu\nADCON1 9Fh -000 ---- -000 ---- -uuu ----\nLegend:u = unchanged, x = unknown, - = unimplemented bit, reads as ‘ 0’, q = value depends on condition.\nNote 1: If VDD goes too low, Power-on Reset will be activated and registers will be affected differently.\n2:One or more bits in INTCON and/or PIR1 will be affected (to cause wake-up).\n3:When the wake-up is due to an interrupt and the GIE bit is set, the PC is loaded with the interrupt \nvector (0004h).\n4:See Table 9-6 for Reset value for specific condition.\n5:If wake-up was due to data EEPROM write completing, bit 7 = 1; A/D conversion completing, bit 6 = 1; \nComparator input changing, bit 3 = 1; or Timer1 rolling over, bit 0 = 1. All other interrupts generating a \nwake-up will cause these bits to = u.\n6:If Reset was due to brown-out, then bit 0 = 0. All other Resets will cause bit 0 = u.\nPIC16F630/676\nDS40039F-page 64  \uf0e3 2010 Microchip Technology Inc.FIGURE 9-7: TIME-OUT SEQU ENCE ON POWER-UP (MCLR  NOT TIED TO V DD): CASE 1\nFIGURE 9-8: TIME-OUT SEQU ENCE ON POWER-UP (MCLR  NOT TIED TO V DD): CASE 2\nFIGURE 9-9: TIME-OUT SEQU ENCE ON POWER-UP (MCLR  TIED TO V DD)TPWRT\nTOSTVDD\nMCLR\nInternal POR\nPWRT Time-out\nOST Time-out\nInternal Reset\nVDD\nMCLR\nInternal POR\nPWRT Time-out\nOST Time-out\nInternal ResetTPWRT\nTOST\nTPWRT\nTOSTVDD\nMCLR\nInternal POR\nPWRT Time-out\nOST Time-out\nInternal Reset\n\uf0e3 2010 Microchip Technology Inc. DS40039F-page 65PIC16F630/676\n9.4 Interrupts\nThe PIC16F630/676 has 7 sources of interrupt: \n• External Interrupt RA2/INT\n• TMR0 Overflow Interrupt\n• PORTA Change Interrupts• Comparator Interrupt\n• A/D Interrupt (PIC16F676 only)\n• TMR1 Overflow Interrupt• EEPROM Data Write Interrupt\nThe Interrupt Control register (INTCON) and Peripheral\nInterrupt register (PIR) record individual interruptrequests in flag bits. The INTCON register also has\nindividual and Global Interrupt Enable bits. \nA Global Interrupt Enable bit, GIE (INTCON<7>)\nenables (if set) all unmasked interrupts, or disables (ifcleared) all interrupts. Individual interrupts can be\ndisabled through their corresponding enable bits in\nINTCON register and PIE register. GIE is cleared onReset.\nThe return from interrupt instruction, \nRETFIE , exits\ninterrupt routine, as well as sets the GIE bit, which re-\nenables unmasked interrupts.\nThe following interrupt flags are contained in the\nINTCON register:\n• INT pin interrupt\n• PORTA change interrupt• TMR0 overflow interrupt\nThe peripheral interrupt flags are contained in the\nspecial register PIR1. The corresponding interruptenable bit is contained in Special Register PIE1.\nThe following interrupt flags are contained in the PIR\nregister:\n• EEPROM data write interrupt\n• A/D interrupt\n• Comparator interrupt• Timer1 overflow interrupt\nWhen an interrupt is serviced:• The GIE is cleared to disable any further interrupt\n• The return address is pushed onto the stack\n• The PC is loaded with 0004h\nOnce in the Interrupt Service Routine, the source(s) of\nthe interrupt can be determined by polling the interrupt\nflag bits. The interrupt flag bit(s) must be cleared in soft-\nware before re-enabling interrupts to avoid RA2/INTrecursive interrupts.\nFor external interrupt events, such as the INT pin, or\nPORTA change interrupt, the interrupt latency will be\nthree or four instruction cycles. The exact latencydepends upon when the interrupt event occurs (see\nFigure 9-11). The latency is the same for one or two-\ncycle instructions. Once in the Interrupt ServiceRoutine, the source(s) of the interrupt can bedetermined by polling the interrupt flag bits. The\ninterrupt flag bit(s) must be cleared in software before\nre-enabling interrupts to avoid multiple interrupt\nrequests. \nNote 1: Individual interrupt flag bits are set,\nregardless of the status of theircorresponding mask bit or the GIE bit. \n2:When an instruction that clears the GIE\nbit is executed, any interrupts that were\npending for execution in the next cycleare ignored. The interrupts which were\nignored are still pending to be serviced\nwhen the GIE bit is set again.\nPIC16F630/676\nDS40039F-page 66  \uf0e3 2010 Microchip Technology Inc.FIGURE 9-10: INTERRUPT LOGIC \nTMR1IF\nTMR1IE\nCMIF\nCMIET0IF\nT0IE\nINTF\nINTE\nRAIF\nRAIE\nGIEPEIEWake-up (If in Sleep mode)\nInterrupt to CPU\nEEIEEEIFADIF\nADIE(1)\nNote 1: PIC16F676 only.IOCA-RA0\nIOCA0\nIOCA-RA1\nIOCA1\nIOCA-RA2\nIOCA2\nIOCA-RA3\nIOCA3\nIOCA-RA4\nIOCA4\nIOCA-RA5\nIOCA5\n\uf0e3 2010 Microchip Technology Inc. DS40039F-page 67PIC16F630/676\n9.4.1 RA2/INT INTERRUPT\nExternal interrupt on RA2/INT pin is edge-triggered;\neither rising if INTEDG bit (OPTION<6>) is set, or\nfalling, if INTEDG bit is clear. When a valid edge\nappears on the RA2/INT pin, the INTF bit(INTCON<1>) is set. This interrupt can be disabled by\nclearing the INTE control bit (INTCON<4>). The INTF\nbit must be cleared in software in the Interrupt ServiceRoutine before re-enabling this interrupt. The RA2/INT\ninterrupt can wake-up the processor from Sleep if the\nINTE bit was set prior to going into Sleep. The status ofthe GIE bit decides whether or not the processor\nbranches to the interrupt vector following wake-up. See\nSection 9.7 “Power-Down Mode (Sleep)”  for details\non Sleep and Figure 9-13 for timing of wake-up from\nSleep through RA2/INT interrupt.\n9.4.2 TMR0 INTERRUPT\nAn overflow (FFh \uf0ae 00h) in the TMR0 register will\nset the T0IF (INTCON<2>) bit. The interrupt can\nbe enabled/disabled by setting/clearing T0IE\n(INTCON<5>) bit. For operation of the Timer0 module,see Section 4.0 “Timer0 Module” . 9.4.3 PORTA INTERRUPT\nAn input change on PORTA change sets the RAIF\n(INTCON<0>) bit. The interrupt can be enabled/\ndisabled by setting/clearing the RAIE (INTCON<3>)\nbit. Plus individual pins can be configured through theIOCA register. \n9.4.4 COMPARATOR INTERRUPT\nSee Section 6.9 “Comparator Interrupts”  for\ndescription of comparator interrupt.\n9.4.5 A/D CONVERTER INTERRUPT\nAfter a conversion is complete, the ADIF flag (PIR<6>)\nis set. The interrupt can be enabled/disabled by setting\nor clearing ADIE (PIE<6>).\nSee Section 7.0 “Analog-to-Digital Converter (A/D)\nModule (PIC16F676 only)”  for operation of the A/D\nconverter interrupt.\nFIGURE 9-11: INT PIN INTERRUPT TIMINGNote: The ANSEL (91h) and CMCON (19h)\nregisters must be initialized to configure an\nanalog channel as a digital input. Pins\nconfigured as analog inputs will read ‘ 0’.\nThe ANSEL register is defined for the\nPIC16F676.Note: If a change on the I/O pin should occur\nwhen the read operation is being executed\n(start of the Q2 cycle), then the RAIF inter-\nrupt flag may not get set.\nQ2 Q1 Q3 Q4 Q2 Q1 Q3 Q4 Q2 Q1 Q3 Q4 Q2 Q1 Q3 Q4 Q2 Q1 Q3 Q4\nOSC1\nCLKOUT\nINT pin\nINTF Flag\n(INTCON<1>)\nGIE bit\n(INTCON<7>)\nINSTRUCTION FLOW\nPC\nInstruction\nFetched\nInstruction\nExecutedInterrupt Latency\nPC PC + 1 PC + 1 0004h 0005h\nInst (0004h) Inst (0005h)\nDummy CycleInst (PC) Inst (PC + 1)\nInst (PC - 1)Inst (0004h) Dummy Cycle Inst (PC)—14\n51\n23\nNote 1: INTF flag is sampled here (every Q1).\n2:Asynchronous interrupt latency = 3-4 T CY. Synchronous latency = 3 T CY, where T CY = instruction cycle time. Latency \nis the same whether Inst (PC) is a single cycle or a 2-cycle instruction.\n3:CLKOUT is available only in RC Oscillator mode.\n4:For minimum width of INT pulse, refer to AC specs.\n5:INTF is enabled to be set any time during the Q4-Q1 cycles. \nPIC16F630/676\nDS40039F-page 68  \uf0e3 2010 Microchip Technology Inc.TABLE 9-8: SUMMARY OF INTERRUPT REGISTERS\n9.5 Context Saving During Interrupts\nDuring an interrupt, only the return PC value is saved\non the stack. Typically, users may wish to save key\nregisters during an interrupt (e.g., W register andSTATUS register). This must be implemented in\nsoftware.\nExample 9-2 stores and restores the STATUS and W\nregisters. The user register, W_TEMP, must be definedin both banks and must be defined at the same offset\nfrom the bank base address (i.e., W_TEMP is defined\nat 0x20 in Bank 0 and it must also be defined at 0xA0in Bank 1). The user register, STATUS_TEMP, must be\ndefined in Bank 0. The Example 9-2:\n• Stores the W register\n• Stores the STATUS register in Bank 0\n• Executes the ISR code• Restores the Status (and bank select bit register)\n• Restores the W register\nEXAMPLE 9-2: SAVING THE STATUS AND \nW REGISTERS IN RAM9.6 Watchdog Timer (WDT)\nThe Watchdog Timer is a free running, on-chip RC\noscillator, which requires no external components. This\nRC oscillator is separate from the external RC oscillatorof the CLKIN pin. That means that the WDT will run,\neven if the clock on the OSC1 and OSC2 pins of the\ndevice has been stopped (for example, by execution ofa \nSLEEP  instruction). During normal operation, a WDT\ntime-out generates a device Reset. If the device is in\nSleep mode, a WDT time-out causes the device towake-up and continue with normal operation. The WDT\ncan be permanently disabled by programming the Con-\nfiguration bit WDTE as clear ( Section 9.1 “Configura-\ntion Bits” ).\n9.6.1 WDT PERIOD\nThe WDT has a nominal time-out period of 18 ms, (with\nno prescaler). The time-out periods vary with tempera-ture, V\nDD and process variations from part to part (see\nDC specs). If longer time-out periods are desired, a\nprescaler with a division ratio of up to 1:128 can beassigned to the WDT under software control by writing\nto the OPTION register. Thus, time-out periods up to\n2.3 seconds can be realized.\nThe \nCLRWDT  and SLEEP  instructions clear the WDT\nand the prescaler, if assigned to the WDT, and prevent\nit from timing out and generating a device Reset. \nThe TO  bit in the STATUS register will be cleared upon\na Watchdog Timer time-out.\n9.6.2 WDT PROGRAMMING \nCONSIDERATIONS\nIt should also be taken in account that under worst-\ncase conditions (i.e., V DD = Min., Temperature = Max.,\nMax. WDT prescaler) it may take several secondsbefore a WDT time-out occurs.A d d r e s s N a m e B i t  7B i t  6B i t  5B i t  4B i t  3B i t  2  B i t  1B i t  0Value on \nPOR, BODValue on all \nother \nResets\n0Bh, 8Bh INTCON GIE PEIE T0IE INTE RAIE T0IF INTF RAIF 0000 0000 0000 000u\n0Ch PIR1 EEIF ADIF — —C M I F — —T M R 1 I F 00-- 0--0 00-- 0--0\n8Ch PIE1 EEIE ADIE — —C M I E — —T M R 1 I E 00-- 0--0 00-- 0--0\nLegend: x = unknown, u = unchanged, - = unimplemented read as ‘ 0’, q = value depends upon condition. \nShaded cells are not used by  the Interrupt module.\nMOVWF W_TEMP ;copy W to temp register,\n could be in either bank\nSWAPF STATUS,W ;swap status to be saved into WBCF STATUS,RP0 ;change to bank 0 regardless of\n current bank\nMOVWF STATUS_TEMP ;save status to bank 0 register\n:\n:(ISR)\n:\nSWAPF STATUS_TEMP,W;swap STATUS_TEMP register into\n W, sets bank to original state\nMOVWF STATUS ;move W into STATUS registerSWAPF W_TEMP,F ;swap W_TEMP\nSWAPF W_TEMP,W ;swap W_TEMP into W\n\uf0e3 2010 Microchip Technology Inc. DS40039F-page 69PIC16F630/676\nFIGURE 9-12: WATCHDOG TIMER BLOCK DIAGRAM\nTABLE 9-9: SUMMARY OF WATCHDOG TIMER REGISTERST0CKI\nT0SEpinCLKOUT\nTMR0 \nWatchdog\nTimerWDT\nTime-outPS0 - PS2\nWDTEData Bus\nSet Flag bit T0IF\non OverflowT0CS\nNote 1: T0SE, T0CS, PSA, PS0-PS2 are bits in the OPTION register.0\n1\n01\n0\n1SYNC 2\nCycles8\n88-bit\nPrescaler\n01(= F OSC/4)\nPSA\nPSA\nPSA\nAddress Name Bit 7 Bit 6 Bit 5 Bit 4 Bit 3 Bit 2 Bit 1 Bit 0Value on \nPOR, BODValue on all \nother \nResets\n81h OPTION_REG RAPU INTEDG T0CS T0SE PSA PS2 PS1 PS0 1111 1111 1111 1111\n2007h Config. bits CP BODEN MCLRE PWRTE WDTE F0SC2 F0SC1 F0SC0uuuu uuuu uuuu uuuu\nLegend: u = Unchanged, shaded cells are not used by the Watchdog Timer.\nPIC16F630/676\nDS40039F-page 70  \uf0e3 2010 Microchip Technology Inc.9.7 Power-Down Mode (Sleep)\nThe Power-down mode is entered by executing a\nSLEEP  instruction. \nIf the Watchdog Timer is enabled:• WDT will be cleared but keeps running\n•P D  \nbit in the STATUS register is cleared\n•T O  bit is set\n• Oscillator driver is turned off• I/O ports maintain the status they had before \nSLEEP  was executed (driving high, low, or \nhigh-impedance).\nFor lowest current consumption in this mode, all I/O\npins should be either at V DD, or V SS, with no external\ncircuitry drawing current from the I/O pin and thecomparators and CV\nREF should be disabled. I/O pins\nthat are high-impedance inputs should be pulled high\nor low externally to avoid switching currents caused byfloating inputs. The T0CKI input should also be at V\nDD\nor V SS for lowest current consumption. The\ncontribution from on-chip pull-ups on PORTA should beconsidered.\nThe MCLR\n pin must be at a logic high level (V IHMC).\n9.7.1 WAKE-UP FROM SLEEP\nThe device can wake-up from Sleep through one of the\nfollowing events:\n1. External Reset input on MCLR  pin\n2. Watchdog Timer Wake-up (if WDT was enabled)\n3. Interrupt from RA2/INT pin, PORTA change, or\na peripheral interrupt.The first event will cause a device Reset. The two latter\nevents are considered a continuation of program exe-\ncution. The TO  and PD  bits in the STATUS register can\nbe used to determine the cause of device Reset. ThePD\n bit, which is set on power-up, is cleared when Sleep\nis invoked. TO  bit is cleared if WDT Wake-up occurred.\nWhen the SLEEP  instruction is being executed, the\nnext instruction (PC + 1) is pre-fetched. For the deviceto wake-up through an interrupt event, the correspond-\ning interrupt enable bit must be set (enabled). Wake-up\nis regardless of the state of the GIE bit. If the GIE bit isclear (disabled), the device continues execution at the\ninstruction after the \nSLEEP  instruction. If the GIE bit is\nset (enabled), the device executes the instruction afterthe \nSLEEP  instruction, then branches to the interrupt\naddress (0004h). In cases where the execution of the\ninstruction following SLEEP is not desirable, the user\nshould have an NOP after the SLEEP  instruction.\nThe WDT is cleared when the device wakes up from\nSleep, regardless of the source of wake-up.\nFIGURE 9-13: WAKE-UP FROM SLEEP THROUGH INTERRUPTNote: It should be noted that a Reset generated\nby a WDT time-out does not drive MCLR\npin low.Note: If the global interrupts are disabled (GIE is\ncleared), but any interrupt source has both\nits interrupt enable bit and the correspond-\ning interrupt flag bits set, the device willimmediately wake-up from Sleep. The\nSLEEP  instruction is completely executed.\nQ1 Q2 Q3 Q4 Q1 Q2 Q3 Q4 Q1 Q1 Q2 Q3 Q4 Q1 Q2 Q3 Q4 Q1 Q2 Q3 Q4 Q1 Q2 Q3 Q4\nOSC1\nCLKOUT(4)\nINT pin\nINTF flag\n(INTCON<1>)\nGIE bit\n(INTCON<7>)\nINSTRUCTION FLOW\nPC\nInstruction\nFetched\nInstruction\nExecutedPC PC+1 PC+2\nInst(PC) = Sleep\nInst(PC - 1)Inst(PC + 1)\nSleepProcessor in\nSleepInterrupt Latency\n(Note 3)\nInst(PC + 2)\nInst(PC + 1)Inst(0004h) Inst(0005h)\nInst(0004h) Dummy cyclePC + 2 0004h 0005h\nDummy cycleTOST(2)\nPC+2\nNote 1: XT, HS or LP Oscillator mode assumed.\n2:TOST = 1024T OSC (drawing not to scale). Approximately 1 \uf06ds delay for RC Oscillator mode. See Section 12 for wake-up from Sleep \ndelay in INTOSC mode.\n3:GIE = 1 assumed. In this case after wake-up, the processor jumps to the interrupt routine. If GIE = 0, execution will continue in-line.\n4:CLKOUT is not available in XT, HS, LP or EC Osc modes, but shown here for timing reference.\n\uf0e3 2010 Microchip Technology Inc. DS40039F-page 71PIC16F630/676\n9.8 Code Protection\nIf the code protection bit(s) have not been\nprogrammed, the on-chip program memory can beread out for verification purposes.\n9.9 ID Locations\nFour memory locations (2000h-2003h) are designatedas ID locations where the user can store checksum or\nother code identification numbers. These locations are\nnot accessible during normal execution but arereadable and writable during Program/Verify. Only the\nLeast Significant 7 bits of the ID locations are used.\n9.10 In-Circuit Serial Programming\nThe PIC16F630/676 microcontrollers can be serially\nprogrammed while in the end application circuit. This issimply done with two lines for clock and data, and three\nother lines for:\n• power\n• ground\n• programming voltage\nThis allows customers to manufacture boards with\nunprogrammed devices and then program the micro-\ncontroller just before shipping the product. This also\nallows the most recent firmware or a custom firmwareto be programmed.\nThe device is placed into a Program/Verify mode by\nholding the RA0 and RA1 pins low, while raising the\nMCLR\n (VPP) pin from V IL to V IHH (see Programming\nSpecification). RA0 becomes the programming data\nand RA1 becomes the programming clock. Both RA0\nand RA1 are Schmitt Trigger inputs in this mode.\nAfter Reset, to place the device into Programming/Ver-\nify mode, the program counter (PC) is at location 00h.\nA 6-bit command is then supplied to the device.\nDepending on the command, 14 bits of program dataare then supplied to or from the device, depending on\nwhether the command was a load or a read. For\ncomplete details of serial programming, please refer tothe PIC16F630/676 Programming Specification.\nA typical In-Circuit Serial Programming connection is\nshown in Figure 9-14.FIGURE 9-14: TYPICAL IN-CIRCUIT \nSERIAL PROGRAMMING CONNECTION\n9.11 In-Circuit Debugger\nSince in-circuit debugging requires the loss of clock,\ndata and MCLR  pins, MPLAB® ICD 2 development with\nan 14-pin device is not practical. A special 20-pinPIC16F676-ICD device is used with MPLAB ICD 2 to\nprovide separate clock, data and MCLR\n pins and frees\nall normally available pins to the user.\nThis special ICD device is mounted on the top of the\nheader and its signals are routed to the MPLAB ICD 2\nconnector. On the bottom of the header is an 14-pin\nsocket that plugs into the user’s target via the 14-pinstand-off connector.\nWhen the ICD\n pin on the PIC16F676-ICD device is\nheld low, the In-Circuit Debugger functionality is\nenabled. This function allows simple debuggingfunctions when used with MPLAB ICD 2. When the\nmicrocontroller has this feature enabled, some of the\nresources are not available for general use. Table 9-10shows which features are consumed by the\nbackground debugger:\nTABLE 9-10: DEBUGGER RESOURCES\nFor more information, see 14-Pin MPLAB ICD 2Header Information Sheet (DS51292) available on\nMicrochip’s web site (www.microchip.com).Note: The entire data EEPROM and Flash\nprogram memory will be erased when the\ncode protection is turned off. The INTOSC\ncalibration data is also erased. SeePIC16F630/676 Programming Specifica-\ntion for more information.\nI/O pins ICDCLK, ICDDATA\nStack 1 level\nProgram Memory Address 0h must be NOP\n300h-3FEhExternal\nConnector\nSignalsTo Normal\nConnections\nTo Normal\nConnectionsPIC16F630/676\nVDD\nVSS\nRA3/MCLR /VPP\nRA1\nRA0+5V\n0V\nVPP\nCLK\nData I/O\nVDD\nPIC16F630/676\nDS40039F-page 72  \uf0e3 2010 Microchip Technology Inc.NOTES:\n\uf0e3 2010 Microchip Technology Inc. DS40039F-page 73PIC16F630/676\n10.0 INSTRUCTION SET SUMMARY\nThe PIC16F630/676 instruction set is highly orthogonal\nand is comprised of three basic categories:\n• Byte-oriented operations\n• Bit-oriented operations\n• Literal and control operations\nEach PIC16 instruction is a 14-bit word divided into an\nopcode,  which specifies the instruction type, and one\nor more operands,  which further specify the operation\nof the instruction. The formats for each of the\ncategories is presented in Figure 10-1, while thevarious opcode fields are summarized in Table 10-1.\nTable 10-2 lists the instructions recognized by the\nMPASM\nTM assembler. A complete description of each\ninstruction is also available in the PIC® Mid-Range Ref-\nerence Manual (DS33023).\nFor byte-oriented instructions, ‘f’ represents a file\nregister designator and ‘d’ represents a destination\ndesignator. The file register designator specifies whichfile register is to be used by the instruction.\nThe destination designator specifies where the result of\nthe operation is to be placed. If ‘d’ is zero, the result is\nplaced in the W register. If ‘d’ is one, the result is placedin the file register specified in the instruction.\nFor bit-oriented instructions, ‘b’ represents a bit field\ndesignator, which selects the bit affected by the\noperation, while ‘f’ represents the address of the file inwhich the bit is located.\nFor literal and control operations, ‘ k’ represents an\n8-bit or 11-bit constant, or literal value\nOne instruction cycle consists of four oscillator periods;\nfor an oscillator frequency of 4 MHz, this gives a normalinstruction execution time of 1 \uf06ds. All instructions are\nexecuted within a single instruction cycle, unless a\nconditional test is true, or the program counter ischanged as a result of an instruction. When this occurs,\nthe execution takes two instruction cycles, with the\nsecond cycle executed as a NOP.     \nAll instruction examples use the format ‘0xhh’ to\nrepresent a hexadecimal number, where ‘h’ signifies a\nhexadecimal digit. \n10.1 READ-MODIFY-WRITE \nOPERATIONS\nAny instruction that specifies a file register as part of\nthe instruction performs a Read-Modify-Write (R-M-W)\noperation. The register is read, the data is modified,and the result is stored according to either the instruc-\ntion, or the destination designator ‘d’. A read operation\nis performed on a register even if the instruction writesto that register.For example, a CLRF PORTA  instruction will read\nPORTA, clear all the data bits, then write the result back\nto PORTA. This example would have the unintended\nresult of clearing the condition that set the RAIF flag.\nTABLE 10-1: OPCODE FIELD \nDESCRIPTIONS  \nFIGURE 10-1: GENERAL FORMAT FOR \nINSTRUCTIONS    \nNote: To maintain upward compatibility with\nfuture products, do not use  the OPTION\nand TRIS  instructions.Field Description\nf Register file address (0x00 to 0x7F)\nW Working register (accumulator)\nb Bit address within an 8-bit file register\nk Literal field, constant data or label\nx Don’t care location (= 0 or 1). \nThe assembler will generate code with x = 0. \nIt is the recommended form of use for \ncompatibility with all Microchip software tools.\nd Destination select; d = 0: store result in W,\nd = 1: store result in file register f. \nDefault is d = 1.\nPC Program Counter\nTO Time-out bit\nPD Power-down bit\nByte-oriented file register operations\n13                          8     7    6                              0\nd = 0 for destination WOPCODE                 d              f (FILE #)\nd = 1 for destination f\nf = 7-bit file register address\nBit-oriented file register operations\n13                         10  9        7   6                       0\nOPCODE          b (BIT #)        f (FILE #)\nb = 3-bit bit address\nf = 7-bit file register address\nLiteral and control operations\n13                                  8    7                             0\nOPCODE                              k (literal)\nk = 8-bit immediate value\n13                 11    10                                          0\nOPCODE                        k (literal)\nk = 11-bit immediate valueGeneral\nCALL  and GOTO  instructions only\nPIC16F630/676\nDS40039F-page 74  \uf0e3 2010 Microchip Technology Inc.TABLE 10-2: PIC16F630/676 INSTRUCTION SET   \nMnemonic,\nOperandsDescription Cycles14-Bit OpcodeStatus\nAffectedNotes\nMSb LSb\nBYTE-ORIENTED FILE REGISTER OPERATIONS\nADDWF\nANDWF\nCLRF\nCLRWCOMF\nDECF\nDECFSZINCF\nINCFSZ\nIORWFMOVF\nMOVWF\nNOPRLF\nRRF\nSUBWFSWAPF\nXORWFf, d\nf, d\nf\n-\nf, d\nf, d\nf, df, d\nf, d\nf, df, d\nf\n-\nf, d\nf, d\nf, df, d\nf, dAdd W and f\nAND W with f\nClear f\nClear WComplement f\nDecrement f\nDecrement f, Skip if 0Increment f\nIncrement f, Skip if 0\nInclusive OR W with fMove f\nMove W to f\nNo OperationRotate Left f through Carry\nRotate Right f through Carry\nSubtract W from fSwap nibbles in f\nExclusive OR W with f1\n1\n1\n11\n1\n1(2)\n1\n1(2)\n11\n1\n11\n1\n11\n100\n00\n00\n0000\n00\n0000\n00\n0000\n00\n0000\n00\n0000\n000111\n0101\n0001\n00011001\n0011\n10111010\n1111\n01001000\n0000\n00001101\n1100\n00101110\n0110dfff\ndfff\nlfff\n0xxxdfff\ndfff\ndfffdfff\ndfff\ndfffdfff\nlfff\n0xx0dfff\ndfff\ndfff\ndfff\ndfffffff\nffff\nffff\nxxxxffff\nffff\nffffffff\nffff\nffffffff\nffff\n0000ffff\nffff\nffffffff\nffffC,DC,Z\nZ\nZ\nZZ\nZ\nZ\nZ\nZ\nC\nC\nC,DC,Z\nZ1,2\n1,2\n2\n1,2\n1,2\n1,2,3\n1,2\n1,2,3\n1,21,2\n1,2\n1,2\n1,21,2\n1,2\nBIT-ORIENTED FILE REGISTER OPERATIONS\nBCF\nBSFBTFSC\nBTFSSf, b\nf, bf, b\nf, bBit Clear f\nBit Set fBit Test f, Skip if Clear\nBit Test f, Skip if Set1\n1\n1 (2)\n1 (2)01\n0101\n0100bb\n01bb10bb\n11bbbfff\nbfffbfff\nbfffffff\nffffffff\nffff1,2\n1,2\n3\n3\nLITERAL AND CONTROL OPERATIONS\nADDLW\nANDLW\nCALLCLRWDT\nGOTO\nIORLWMOVLW\nRETFIE\nRETLWRETURN\nSLEEP\nSUBLWXORLWk\nk\nk\n-\nk\nkk\n-\nk\n-\n-\nkkAdd literal and W\nAND literal with W\nCall subroutineClear Watchdog Timer\nGo to address\nInclusive OR literal with WMove literal to W\nReturn from interrupt\nReturn with literal in W Return from Subroutine\nGo into Standby mode\nSubtract W from literal\nExclusive OR literal with W1\n1\n21\n2\n11\n2\n22\n1\n1111\n11\n1000\n10\n1111\n00\n1100\n00\n1111111x\n1001\n0kkk0000\n1kkk\n100000xx\n0000\n01xx0000\n0000\n110x1010kkkk\nkkkk\nkkkk0110\nkkkk\nkkkkkkkk\n0000\nkkkk0000\n0110\nkkkkkkkkkkkk\nkkkk\nkkkk0100\nkkkk\nkkkkkkkk\n1001\nkkkk1000\n0011\nkkkkkkkkC,DC,Z\nZ\nTO\n,PD\nZ\nTO,PD\nC,DC,Z\nZ\nNote 1: When an I/O register is modified as a function of itself (e.g., MOVF PORTA , 1), the value used will be that value present \non the pins themselves. For example, if the data latch is ‘ 1’ for a pin configured as input and is driven low by an external \ndevice, the data will be written back with a ‘ 0’.\n2:If this instruction is executed on the TM R0 register (and, where applicable, d = 1), the prescaler will be cleared if \nassigned to the Timer0 module.\n3:If Program Counter (PC) is modified, or a conditional test is true, the instruction requires two cycles. The second cycle is \nexecuted as a NOP.\nNote: Additional information on the mid-range instruction set is available in the PIC® Mid-Range MCU Family\nReference Manual (DS33023).\n\uf0e3 2010 Microchip Technology Inc. DS40039F-page 75PIC16F630/676\n10.2 Instruction Descriptions \nADDLW Add Literal and W\nSyntax: [ label ]  ADDLW     k\nOperands: 0 \uf0a3 k \uf0a3 255\nOperation: (W) + k \uf0ae (W)\nStatus Affected: C, DC, ZDescription: The contents of the W register \nare added to the eight-bit literal ‘k’ and the result is placed in the W \nregister.\nADDWF Add W and f\nSyntax: [ label ]  ADDWF     f,d\nOperands: 0 \uf0a3 f \uf0a3 127\nd \uf0ce\uf020\uf05b\uf030\uf02c\uf031\uf05d\nOperation: (W) + (f) \uf0ae (destination)\nStatus Affected: C, DC, ZDescription: Add the contents of the W register \nwith register ‘f’. If ‘d’ is 0, the \nresult is stored in the W register. If \n‘d’ is 1, the result is stored back in \nregister ‘f’.\nANDLW AND Literal with W\nSyntax: [ label ]  ANDLW     k\nOperands: 0 \uf0a3 k \uf0a3 255\nOperation: (W) .AND. (k) \uf0ae (W)\nStatus Affected: ZDescription: The contents of W register are \nAND’ed with the eight-bit literal \n‘k’. The result is placed in the W \nregister.\nANDWF AND W with f\nSyntax: [ label ]  ANDWF     f,d\nOperands: 0 \uf0a3 f \uf0a3 127\nd \uf0ce\uf020\uf05b\uf030\uf02c\uf031\uf05d\nOperation: (W) .AND. (f) \uf0ae (destination)\nStatus Affected: ZDescription: AND the W register with register \n‘f’. If ‘d’ is 0, the result is stored in \nthe W register. If ‘d’ is 1, the result \nis stored back in register ‘f’.BCF Bit Clear f\nSyntax: [ label ] BCF     f,b\nOperands: 0 \uf0a3 f \uf0a3 127\n0 \uf0a3 b \uf0a3 7\nOperation: 0 \uf0ae (f<b>)\nStatus Affected: NoneDescription: Bit ‘b’ in register ‘f’ is cleared.\nBSF Bit Set f\nSyntax: [ label ] BSF    f,b\nOperands: 0 \uf0a3 f \uf0a3 127\n0 \uf0a3 b \uf0a3 7\nOperation: 1 \uf0ae (f<b>)\nStatus Affected: NoneDescription: Bit ‘b’ in register ‘f’ is set.\nBTFSS Bit Test f, Skip if Set\nSyntax: [ label ] BTFSS   f,b\nOperands: 0 \uf0a3 f \uf0a3 127\n0 \uf0a3 b < 7\nOperation: skip if (f<b>) = 1Status Affected: NoneDescription: If bit ‘b’ in register ‘f’ is ‘ 0’, the next \ninstruction is executed.If bit ‘b’ is ‘ 1’, then the next instruc-\ntion is discarded and a NOP is \nexecuted instead, making this a 2-cycle instruction.\nBTFSC Bit Test, Skip if Clear\nSyntax: [ label ] BTFSC   f,b\nOperands: 0 \uf0a3 f \uf0a3 127\n0 \uf0a3 b \uf0a3 7\nOperation: skip if (f<b>) = 0Status Affected: NoneDescription: If bit ‘b’ in register ‘f’ is ‘ 1’, the next \ninstruction is executed.If bit ‘b’, in register ‘f’, is ‘ 0’, the \nnext instruction is discarded, and \na NOP is executed instead, making \nthis a 2-cycle instruction.\nPIC16F630/676\nDS40039F-page 76  \uf0e3 2010 Microchip Technology Inc.CALL Call Subroutine\nSyntax: [ label ]   CALL   k\nOperands: 0 \uf0a3 k \uf0a3 2047\nOperation: (PC)+ 1 \uf0ae TOS,\nk \uf0ae PC<10:0>,\n(PCLATH<4:3>) \uf0ae PC<12:11>\nStatus Affected: NoneDescription: Call Subroutine. First, return \naddress (PC + 1) is pushed onto the stack. The eleven-bit immedi-\nate address is loaded into PC bits \n<10:0>. The upper bits of the PC are loaded from PCLATH. CALL  is \na two-cycle instruction.\nCLRF Clear f\nSyntax: [ label ]  CLRF    f\nOperands: 0 \uf0a3 f \uf0a3 127\nOperation: 00h \uf0ae (f)\n1 \uf0ae Z\nStatus Affected: ZDescription: The contents of register ‘f’ are \ncleared and the Z bit is set.\nCLRW Clear W\nSyntax: [ label ]   CLRW\nOperands: NoneOperation: 00h \uf0ae (W)\n1 \uf0ae Z\nStatus Affected: ZDescription: W register is cleared. Zero bit (Z) \nis set.CLRWDT Clear Watchdog Timer\nSyntax: [ label ]   CLRWDT\nOperands: NoneOperation: 00h \uf0ae WDT\n0 \uf0ae WDT prescaler,\n1 \uf0ae TO\n1 \uf0ae PD\nStatus Affected: TO , PD\nDescription: CLRWDT  instruction resets the \nWatchdog Timer. It also resets the \nprescaler of the WDT. \nStatus bits TO  and PD  are set.\nCOMF Complement f\nSyntax: [ label ]   COMF    f,d\nOperands: 0 \uf0a3 f \uf0a3 127\nd \uf0ce [0,1]\nOperation: (f ) \uf0ae (destination)\nStatus Affected: ZDescription: The contents of register ‘f’ are \ncomplemented. If ‘d’ is 0, the \nresult is stored in W. If ‘d’ is 1, the \nresult is stored back in register ‘f’.\nDECF Decrement f\nSyntax: [ label ]   DECF f,d\nOperands: 0 \uf0a3 f \uf0a3 127\nd \uf0ce [0,1]\nOperation: (f) - 1 \uf0ae (destination)\nStatus Affected: ZDescription: Decrement register ‘f’. If ‘d’ is 0, \nthe result is stored in the W \nregister. If ‘d’ is 1, the result is \nstored back in register ‘f’.\n\uf0e3 2010 Microchip Technology Inc. DS40039F-page 77PIC16F630/676\nDECFSZ Decrement f, Skip if 0\nSyntax: [ label ]   DECFSZ   f,d\nOperands: 0 \uf0a3 f \uf0a3 127\nd \uf0ce [0,1]\nOperation: (f) - 1 \uf0ae (destination);     \nskip if result = 0\nStatus Affected: NoneDescription: The contents of register ‘f’ are \ndecremented. If ‘d’ is 0, the result \nis placed in the W register. If ‘d’ is \n1, the result is placed back in \nregister ‘f’. If the result is 1, the next instruc-\ntion is executed. If the result is 0, \nthen a NOP is executed instead, \nmaking it a 2-cycle instruction.\nGOTO Unconditional Branch\nSyntax: [ label ]    GOTO   k\nOperands: 0 \uf0a3 k \uf0a3 2047\nOperation: k \uf0ae PC<10:0>\nPCLATH<4:3> \uf0ae PC<12:11>\nStatus Affected: NoneDescription: GOTO  is an unconditional branch. \nThe eleven-bit immediate value is \nloaded into PC bits <10:0>. The \nupper bits of PC are loaded from PCLATH<4:3>. GOTO  is a two-\ncycle instruction.\nINCF Increment f\nSyntax: [ label ]    INCF   f,d\nOperands: 0 \uf0a3 f \uf0a3 127\nd \uf0ce [0,1]\nOperation: (f) + 1 \uf0ae (destination)\nStatus Affected: ZDescription: The contents of register ‘f’ are \nincremented. If ‘d’ is 0, the result \nis placed in the W register. If ‘d’ is 1, the result is placed back in \nregister ‘f’.INCFSZ Increment f, Skip if 0\nSyntax: [ label ]    INCFSZ   f,d\nOperands: 0 \uf0a3 f \uf0a3 127\nd \uf0ce [0,1]\nOperation: (f) + 1 \uf0ae (destination),\n skip if result = 0\nStatus Affected: NoneDescription: The contents of register ‘f’ are \nincremented. If ‘d’ is 0, the result \nis placed in the W register. If ‘d’ is \n1, the result is placed back in \nregister ‘f’.If the result is 1, the next instruc-\ntion is executed. If the result is 0, \na NOP is executed instead, making \nit a 2-cycle instruction.\nIORLW Inclusive OR Literal with W\nSyntax: [ label ]    IORLW   k\nOperands: 0 \uf0a3 k \uf0a3 255\nOperation: (W) .OR. k \uf0ae (W)\nStatus Affected: ZDescription: The contents of the W register are \nOR’ed with the eight-bit literal ‘k’. The result is placed in the W \nregister.\nIORWF Inclusive OR W with f\nSyntax: [ label ]    IORWF    f,d\nOperands: 0 \uf0a3 f \uf0a3 127\nd \uf0ce [0,1]\nOperation: (W) .OR. (f) \uf0ae (destination)\nStatus Affected: ZDescription: Inclusive OR the W register with \nregister ‘f’. If ‘d’ is 0, the result is \nplaced in the W register. If ‘d’ is 1, \nthe result is placed back in \nregister ‘f’.\nPIC16F630/676\nDS40039F-page 78  \uf0e3 2010 Microchip Technology Inc.MOVF Move f\nSyntax: [ label ]    MOVF   f,d\nOperands: 0 \uf0a3 f \uf0a3 127\nd \uf0ce [0,1]\nOperation: (f) \uf0ae (destination)\nStatus Affected: ZDescription: The contents of register f are \nmoved to a destination dependant upon the status of d. If d = 0, \ndestination is W register. If d = 1, \nthe destination is file register f itself. d = 1 is useful to test a file register, \nsince status flag Z is affected.\nMOVLW Move Literal to W\nSyntax: [ label ]    MOVLW   k\nOperands: 0 \uf0a3 k \uf0a3 255\nOperation: k \uf0ae (W)\nStatus Affected: NoneDescription: The eight-bit literal ‘k’ is loaded \ninto W register. The don’t cares will assemble as 0’s.\nMOVWF Move W to f\nSyntax: [ label ]    MOVWF     f\nOperands: 0 \uf0a3 f \uf0a3 127\nOperation: (W) \uf0ae (f)\nStatus Affected: NoneDescription: Move data from W register to \nregister ‘f’.NOP No Operation\nSyntax: [ label ]    NOP\nOperands: NoneOperation: No operationStatus Affected: NoneDescription: No operation.\nRETFIE Return from Interrupt\nSyntax: [ label ]    RETFIE\nOperands: NoneOperation: TOS \uf0ae PC,\n1 \uf0ae GIE\nStatus Affected: None\nRETLW Return with Literal in W\nSyntax: [ label ]    RETLW   k\nOperands: 0 \uf0a3 k \uf0a3 255\nOperation: k \uf0ae (W); \nTOS \uf0ae PC\nStatus Affected: NoneDescription: The W register is loaded with the \neight-bit literal ‘k’. The program \ncounter is loaded from the top of \nthe stack (the return address). This is a two-cycle instruction.\n\uf0e3 2010 Microchip Technology Inc. DS40039F-page 79PIC16F630/676\nRLF Rotate Left f through Carry\nSyntax: [ label ] RLF    f,d\nOperands: 0 \uf0a3 f \uf0a3 127\nd \uf0ce [0,1]\nOperation: See description belowStatus Affected: CDescription: The contents of register ‘f’ are rotated \none bit to the left through the Carry Flag. If ‘d’ is 0, the result is placed in \nthe W register. If ‘d’ is 1, the result is \nstored back in register ‘f’.\nRETURN Return from Subroutine\nSyntax: [ label ]    RETURN\nOperands: NoneOperation: TOS \uf0ae PC\nStatus Affected: NoneDescription: Return from subroutine. The stack \nis POPed and the top of the stack \n(TOS) is loaded into the program \ncounter. This is a two-cycle instruction.\nRRF Rotate Right f through Carry\nSyntax: [ label ]    RRF   f,d\nOperands: 0 \uf0a3 f \uf0a3 127\nd \uf0ce [0,1]\nOperation: See description belowStatus Affected: CDescription: The contents of register ‘f’ are \nrotated one bit to the right through \nthe Carry Flag. If ‘d’ is 0, the result \nis placed in the W register. If ‘d’ is 1, the result is placed back in \nregister ‘f’.Register f C\nRegister f CSLEEP\nSyntax: [ label  ] SLEEP\nOperands: NoneOperation: 00h \uf0ae WDT,\n0 \uf0ae WDT prescaler,\n1 \uf0ae TO\n,\n0 \uf0ae PD\nStatus Affected: TO , PD\nDescription: The power-down Status bit, PD  is \ncleared. Time-out Status bit, TO  \nis set. Watchdog Timer and its prescaler are cleared.\nThe processor is put into Sleep \nmode with the oscillator stopped. \nSUBLW Subtract W from Literal\nSyntax: [ label ] SUBLW   k\nOperands: 0 \uf0a3\uf020k \uf0a3\uf020255\nOperation: k - (W) \uf0ae\uf020\uf028W)\nStatus Affected: C, DC, ZDescription: The W register is subtracted (2’s \ncomplement method) from the \neight-bit literal ‘k’. The result is \nplaced in the W register.\nSUBWF Subtract W from f\nSyntax: [ label ] SUBWF   f,d\nOperands: 0 \uf0a3\uf020f \uf0a3\uf020127\nd \uf0ce [0,1]\nOperation: (f) - (W) \uf0ae\uf020\uf028destination)\nStatus \nAffected:C, DC, Z\nDescription: Subtract (2’s complement method) \nW register from register ‘f’. If ‘d’ is \n0, the result is stored in the W \nregister. If ‘d’ is 1, the result is \nstored back in register ‘f’.\nPIC16F630/676\nDS40039F-page 80  \uf0e3 2010 Microchip Technology Inc.SWAPF Swap Nibbles in f\nSyntax: [ label ] SWAPF f,d\nOperands: 0 \uf0a3 f \uf0a3 127\nd \uf0ce [0,1]\nOperation: (f<3:0>) \uf0ae (destination<7:4>),\n(f<7:4>) \uf0ae (destination<3:0>)\nStatus Affected: NoneDescription: The upper and lower nibbles of \nregister ‘f’ are exchanged. If ‘d’ is 0, the result is placed in the W \nregister. If ‘d’ is 1, the result is \nplaced in register ‘f’.\nXORLW Exclusive OR Literal with W\nSyntax: [ label ] XORLW   k\nOperands: 0 \uf0a3\uf020k \uf0a3\uf020255\nOperation: (W) .XOR. k \uf0ae\uf020\uf028W)\nStatus Affected: ZDescription: The contents of the W register \nare XOR’ed with the eight-bit \nliteral ‘k’. The result is placed in the W register.XORWF Exclusive OR W with f\nSyntax: [ label ] XORWF    f,d\nOperands: 0 \uf0a3 f \uf0a3 127\nd \uf0ce [0,1]\nOperation: (W) .XOR. (f) \uf0ae\uf020\uf028destination)\nStatus Affected: ZDescription: Exclusive OR the contents of the \nW register with register ‘f’. If ‘d’ is \n0, the result is stored in the W \nregister. If ‘d’ is 1, the result is \nstored back in register ‘f’.\n\uf0e3 2010 Microchip Technology Inc. DS40039F-page 81PIC16F630/676\n11.0 DEVELOPMENT SUPPORT\nThe PIC® microcontrollers and dsPIC® digital signal\ncontrollers are supported with a full range of software\nand hardware development tools:\n• Integrated Development Environment\n- MPLAB® IDE Software\n• Compilers/Assemblers/Linkers\n- MPLAB C Compiler for Various Device\nFamilies\n- HI-TECH C for Various Device Families- MPASM\nTM Assembler\n-M P L I N KTM Object Linker/\nMPLIBTM Object Librarian\n- MPLAB Assembler/Linker/Librarian for\nVarious Device Families\n• Simulators\n- MPLAB SIM Software Simulator\n•E m u l a t o r s\n- MPLAB REAL ICE™ In-Circuit Emulator\n• In-Circuit Debuggers\n- MPLAB ICD 3\n- PICkit™ 3 Debug Express\n• Device Programmers\n- PICkit™ 2 Programmer\n- MPLAB PM3 Device Programmer\n• Low-Cost Demonstration/Development Boards, \nEvaluation Kits, and Starter Kits11.1 MPLAB Integrated Development \nEnvironment Software\nThe MPLAB IDE software brings an ease of software\ndevelopment previously unseen in the 8/16/32-bit\nmicrocontroller market. The MPLAB IDE is a Windows®\noperating system-based application that contains:\n• A single graphical interface to all debugging tools\n- Simulator- Programmer (sold separately)\n- In-Circuit Emulator (sold separately)\n- In-Circuit Debugger (sold separately)\n• A full-featured editor with color-coded context\n• A multiple project manager\n• Customizable data windows with direct edit of \ncontents\n• High-level source code debugging• Mouse over variable inspection\n• Drag and drop variables from source to watch \nwindows\n• Extensive on-line help\n• Integration of select third party tools, such as \nIAR C Compilers\nThe MPLAB IDE allows you to:• Edit your source files (either C or assembly)\n• One-touch compile or assemble, and download to \nemulator and simulator tools (automatically \nupdates all project information)\n• Debug using:\n- Source files (C or assembly)- Mixed C and assembly\n- Machine code\nMPLAB IDE supports multiple debugging tools in a\nsingle development paradigm, from the cost-effective\nsimulators, through low-cost in-circuit debuggers, tofull-featured emulators. This eliminates the learning\ncurve when upgrading to tools with increased flexibility\nand power.\nPIC16F630/676\nDS40039F-page 82 \uf0e3 2010 Microchip Technology Inc.11.2 MPLAB C Compilers for Various \nDevice Families\nThe MPLAB C Compiler code development systems\nare complete ANSI C compilers for Microchip’s PIC18,\nPIC24 and PIC32 families of microcontrollers and thedsPIC30 and dsPIC33 families of digital signal control-\nlers. These compilers provide powerful integration\ncapabilities, superior code optimization and ease ofuse.\nFor easy source level debugging, the compilers provide\nsymbol information that is optimized to the MPLAB IDE\ndebugger.\n11.3 HI-TECH C for Various Device \nFamilies\nThe HI-TECH C Compiler code development systems\nare complete ANSI C compilers for Microchip’s PICfamily of microcontrollers and the dsPIC family of digital\nsignal controllers. These compilers provide powerful\nintegration capabilities, omniscient code generationand ease of use.\nFor easy source level debugging, the compilers provide\nsymbol information that is optimized to the MPLAB IDE\ndebugger.\nThe compilers include a macro assembler, linker, pre-\nprocessor, and one-step driver, and can run on multiple\nplatforms.\n11.4 MPASM Assembler\nThe MPASM Assembler is a full-featured, universal\nmacro assembler for PIC10/12/16/18 MCUs. \nThe MPASM Assembler generates relocatable object\nfiles for the MPLINK Object Linker, Intel® standard HEX\nfiles, MAP files to detail memory usage and symbol\nreference, absolute LST files that contain source linesand generated machine code and COFF files for\ndebugging.\nThe MPASM Assembler features include:• Integration into MPLAB IDE projects\n• User-defined macros to streamline \nassembly code\n• Conditional assembly for multi-purpose \nsource files\n• Directives that allow complete control over the \nassembly process11.5 MPLINK Object Linker/\nMPLIB Object Librarian\nThe MPLINK Object Linker combines relocatable\nobjects created by the MPASM Assembler and the\nMPLAB C18 C Compiler. It can link relocatable objectsfrom precompiled libraries, using directives from a\nlinker script. \nThe MPLIB Object Librarian manages the creation and\nmodification of library files of precompiled code. Whena routine from a library is called from a source file, only\nthe modules that contain that routine will be linked in\nwith the application. This allows large libraries to beused efficiently in many different applications. \nThe object linker/library features include:• Efficient linking of single libraries instead of many \nsmaller files\n• Enhanced code maintainability by grouping \nrelated modules together\n• Flexible creation of libraries with easy module \nlisting, replacement, deletion and extraction\n11.6 MPLAB Assembler, Linker and \nLibrarian for Various Device \nFamilies\nMPLAB Assembler produces relocatable machine\ncode from symbolic assembly language for PIC24,\nPIC32 and dsPIC devices. MPLAB C Compiler uses\nthe assembler to produce its object file. The assemblergenerates relocatable object files that can then be\narchived or linked with other relocatable object files and\narchives to create an executable file. Notable featuresof the assembler include:\n• Support for the entire device instruction set\n• Support for fixed-point and floating-point data• Command line interface\n• Rich directive set\n• Flexible macro language• MPLAB IDE compatibility\n\uf0e3 2010 Microchip Technology Inc. DS40039F-page 83PIC16F630/676\n11.7 MPLAB SIM Software Simulator\nThe MPLAB SIM Software Simulator allows code\ndevelopment in a PC-hosted environment by simulat-ing the PIC MCUs and dsPIC\n® DSCs on an instruction\nlevel. On any given instruction, the data areas can be\nexamined or modified and stimuli can be applied froma comprehensive stimulus controller. Registers can be\nlogged to files for further run-time analysis. The trace\nbuffer and logic analyzer display extend the power ofthe simulator to record and track program execution,\nactions on I/O, most peripherals and internal registers. \nThe MPLAB SIM Software Simulator fully supports\nsymbolic debugging using the MPLAB C Compilers,and the MPASM and MPLAB Assemblers. The soft-\nware simulator offers the flexibility to develop and\ndebug code outside of the hardware laboratory envi-ronment, making it an excellent, economical software\ndevelopment tool. \n11.8 MPLAB REAL ICE In-Circuit \nEmulator System\nMPLAB REAL ICE In-Circuit Emulator System is\nMicrochip’s next generation high-speed emulator for\nMicrochip Flash DSC and MCU devices. It debugs andprograms PIC\n® Flash MCUs and dsPIC® Flash DSCs\nwith the easy-to-use, powerful graphical user interface of\nthe MPLAB Integrated Development Environment (IDE),included with each kit. \nThe emulator is connected to the design engineer’s PC\nusing a high-speed USB 2.0 interface and is connected\nto the target with either a connector compatible with in-circuit debugger systems (RJ11) or with the new high-\nspeed, noise tolerant, Low-Voltage Differential Signal\n(LVDS) interconnection (CAT5). \nThe emulator is field upgradable through future firmware\ndownloads in MPLAB IDE. In upcoming releases of\nMPLAB IDE, new devices will be supported, and new\nfeatures will be added. MPLAB REAL ICE offers signifi-cant advantages over competitive emulators including\nlow-cost, full-speed emulation, run-time variable\nwatches, trace analysis, complex breakpoints, a rugge-dized probe interface and long (up to three meters) inter-\nconnection cables.11.9 MPLAB ICD 3 In-Circuit Debugger \nSystem\nMPLAB ICD 3 In-Circuit Debugger System is Micro-\nchip’s most cost effective high-speed hardware\ndebugger/programmer for Microchip Flash Digital Sig-nal Controller (DSC) and microcontroller (MCU)\ndevices. It debugs and programs PIC\n® Flash microcon-\ntrollers and dsPIC® DSCs with the powerful, yet easy-\nto-use graphical user interface of MPLAB Integrated\nDevelopment Environment (IDE).\nThe MPLAB ICD 3 In-Circuit Debugger probe is con-\nnected to the design engineer’s PC using a high-speedUSB 2.0 interface and is connected to the target with a\nconnector compatible with the MPLAB ICD 2 or MPLAB\nREAL ICE systems (RJ-11). MPLAB ICD 3 supports allMPLAB ICD 2 headers.\n11.10 PICkit 3 In-Circuit Debugger/\nProgrammer and \nPICkit 3 Debug Express\nThe MPLAB PICkit 3 allows debugging and program-\nming of PIC® and dsPIC® Flash microcontrollers at a\nmost affordable price point using the powerful graphical\nuser interface of the MPLAB Integrated Development\nEnvironment (IDE). The MPLAB PICkit 3 is connectedto the design engineer’s PC using a full speed USB\ninterface and can be connected to the target via an\nMicrochip debug (RJ-11) connector (compatible withMPLAB ICD 3 and MPLAB REAL ICE). The connector\nuses two device I/O pins and the reset line to imple-\nment in-circuit debugging and In-Circuit SerialProgramming™.\nThe PICkit 3 Debug Express include the PICkit 3, demo\nboard and microcontroller, hookup cables and CDROM\nwith user’s guide, lessons, tutorial, compiler andMPLAB IDE software.\nPIC16F630/676\nDS40039F-page 84 \uf0e3 2010 Microchip Technology Inc.11.11 PICkit 2 Development \nProgrammer/Debugger and \nPICkit 2 Debug Express\nThe PICkit™ 2 Development Programmer/Debugger is\na low-cost development tool with an easy to use inter-\nface for programming and debugging Microchip’s Flash\nfamilies of microcontrollers. The full featuredWindows\n® programming interface supports baseline\n(PIC10F, PIC12F5xx, PIC16F5xx), midrange\n(PIC12F6xx, PIC16F), PIC18F, PIC24, dsPIC30,dsPIC33, and PIC32 families of 8-bit, 16-bit, and 32-bit\nmicrocontrollers, and many Microchip Serial EEPROM\nproducts. With Microchip’s powerful MPLAB IntegratedDevelopment Environment (IDE) the PICkit™ 2\nenables in-circuit debugging on most PIC\n® microcon-\ntrollers. In-Circuit-Debugging runs, halts and singlesteps the program while the PIC microcontroller is\nembedded in the application. When halted at a break-\npoint, the file registers can be examined and modified. \nThe PICkit 2 Debug Express include the PICkit 2, demo\nboard and microcontroller, hookup cables and CDROM\nwith user’s guide, lessons, tutorial, compiler and\nMPLAB IDE software.\n11.12 MPLAB PM3 Device Programmer\nThe MPLAB PM3 Device Programmer is a universal,CE compliant device programmer with programmable\nvoltage verification at V\nDDMIN  and V DDMAX  for\nmaximum reliability. It features a large LCD display(128 x 64) for menus and error messages and a modu-\nlar, detachable socket assembly to support various\npackage types. The ICSP™ cable assembly is includedas a standard item. In Stand-Alone mode, the MPLAB\nPM3 Device Programmer can read, verify and program\nPIC devices without a PC connection. It can also setcode protection in this mode. The MPLAB PM3\nconnects to the host PC via an RS-232 or USB cable.\nThe MPLAB PM3 has high-speed communications andoptimized algorithms for quick programming of large\nmemory devices and incorporates an MMC card for file\nstorage and data applications.11.13 Demonstration/Development \nBoards, Evaluation Kits, and \nStarter Kits\nA wide variety of demonstration, development and\nevaluation boards for various PIC MCUs and dsPIC\nDSCs allows quick application development on fully func-\ntional systems. Most boards include prototyping areas foradding custom circuitry and provide application firmware\nand source code for examination and modification.\nThe boards support a variety of features, including LEDs,\ntemperature sensors, switches, speakers, RS-232\ninterfaces, LCD displays, potentiometers and additional\nEEPROM memory.\nThe demonstration and development boards can be\nused in teaching environments, for prototyping customcircuits and for learning about various microcontroller\napplications.\nIn addition to the PICDEM™ and dsPICDEM™ demon-\nstration/development board series of circuits, Microchiphas a line of evaluation kits and demonstration software\nfor analog filter design, K\nEELOQ® security ICs, CAN,\nIrDA®, PowerSmart battery management, SEEVAL®\nevaluation system, Sigma-Delta ADC, flow rate\nsensing, plus many more.\nAlso available are starter kits that contain everything\nneeded to experience the specified device. This usuallyincludes a single application and debug capability, all\non one board.\nCheck the Microchip web page (www.microchip.com)\nfor the complete list of demonstration, developmentand evaluation kits.\n\uf0e3 2010 Microchip Technology Inc. DS40039F-page 85PIC16F630/676\n12.0 ELECTRICAL SPECIFICATIONS\nAbsolute Maximum Ratings†\nAmbient temperature under bias................................................................................................. .......... -40 to +125°C\nStorage temperature ............................................................................................................ ............  -65°C to +150°C\nVoltage on V DD with respect to V SS  ..................................................................................................... -0.3 to +6.5V\nVoltage on MCLR  with respect to Vss ..................................................................................................-0.3 to +13.5V\nVoltage on all other pins with respect to V SS ........................................................................... -0.3V to (V DD + 0.3V)\nTotal power dissipation(1)............................................................................................................................... 800 mW\nMaximum current out of V SS pin ..................................................................................................................... 300 mA\nMaximum current into V DD pin ........................................................................................................................ 250  mA\nInput clamp current, I IK (VI < 0 or V I > V DD)\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e \uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf0b1\uf020 20 mA\nOutput clamp current, I OK (Vo < 0 or Vo >V DD)\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e \uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf02e\uf0b1\uf020 20 mA\nMaximum output current sunk by any I/O pin..................................................................................... ............... 25 mA\nMaximum output current sourced by any I/O pin .................................................................................. ............ 25 mA\nMaximum current sunk by PORTA and PORTC (combined) .......................................................................... 200  mA\nMaximum current sourced PORTA and PORTC (combined).......................................................................... 200  mA\nNote 1: Power dissipation is calculated as follows: P DIS = V DD x {IDD - \uf0e5 IOH} + \uf0e5 {(VDD-VOH) x IOH} + \uf0e5(VOl x IOL).\n† NOTICE : Stresses above those listed under ‘Absolute Maximum Ratings’ may cause permanent damage to the \ndevice. This is a stress rating only and functional operation of the device at those or any other conditions above those \nindicated in the operation listings of this specification is not implied. Exposure to maximum rating conditions for extended periods may affect device reliability.\nNote: Voltage spikes below V SS at the MCLR  pin, inducing currents greater than 80 mA, may cause latch-up.\nThus, a series resistor of 50-100 \uf057 should be used when applying a “low” level to the MCLR  pin, rather than\npulling this pin directly to V SS.\nPIC16F630/676\nDS40039F-page 86  \uf0e3 2010 Microchip Technology Inc.FIGURE 12-1: PIC16F630/676 WITH A/D DISABLED VOLTAGE-FREQUENCY GRAPH, \n-40°C \uf0a3 TA \uf0a3 +125°C\nFIGURE 12-2: PIC16F676 WITH A/D E NABLED VOLTAGE-FREQUENCY GRAPH, \n-40°C \uf0a3 TA \uf0a3 +125°C5.5\n2.03.5\n2.5\n03.04.04.55.0\n4\nFrequency (MHz)VDD\n(Volts)\nNote 1: The shaded region indicates the permissible combinations of voltage and frequency.81 6 12 20 10\n5.5\n2.03.5\n2.5\n03.04.04.55.0\n4\nFrequency (MHz)VDD\n(Volts)\nNote 1: The shaded region indicates the permissible combinations of voltage and frequency.81 6 12 20 10\n\uf0e3 2010 Microchip Technology Inc. DS40039F-page 87PIC16F630/676\nFIGURE 12-3: PIC16F676 WITH A/D E NABLED VOLTAGE-FREQUENCY GRAPH, \n0°C \uf0a3 TA \uf0a3 +125°C\n5.5\n2.03.5\n2.5\n03.04.04.55.0\n4\nFrequency (MHz)VDD\n(Volts)\nNote 1: The shaded region indicates the permissible combinations of voltage and frequency.81 6 12 20 102.2\nPIC16F630/676\nDS40039F-page 88  \uf0e3 2010 Microchip Technology Inc.12.1 DC Characteristics: PIC16F630/676-I (Industrial), PIC16F630/676-E (Extended)  \nDC CHARACTERISTICSStandard Operating Conditions (unless otherwise stated)\nOperating temperature -40°C \uf0a3 TA \uf0a3 +85°C for industrial\n-40°C \uf0a3 TA \uf0a3 +125°C for extended\nParam \nNo.Sym Characteristic Min Typ† Max Units Conditions\nD001\nD001A\nD001B\nD001CD001DV\nDD Supply Voltage\n2.02.2\n2.5\n3.04.5—\n—\n—\n——5.5\n5.5\n5.5\n5.55.5V\nV\nV\nVVF\nOSC < = 4 MHz:\nPIC16F630/676 with A/D offPIC16F676 with A/D on, 0°C to +125°C\nPIC16F676 with A/D on, -40°C to +125°C\n4 MH\nZ < F OSC < = 10 MHz\nD002 V DR RAM Data Retention \nVoltage(1)1.5* — — V Device in Sleep mode\nD003 V POR VDD Start Voltage  to \nensure internal Power-on \nReset signal—V SS — V See section on Power-on Reset for details\nD004 S VDD VDD Rise Rate  to ensure \ninternal Power-on Reset \nsignal0.05* — — V/ms See section on Power-on Reset for details\nD005 V BOD —2 . 1 — V\n* These parameters are characterized but not tested.\n† Data in “Typ” column is at 5.0V, 25°C unless otherwise stated. These parameters are for design guidance\nonly and are not tested.\nNote 1: This is the limit to which V DD can be lowered in Sleep mode without losing RAM data.\n\uf0e3 2010 Microchip Technology Inc. DS40039F-page 89PIC16F630/676\n12.2 DC Characteristics: PIC16F630/676-I (Industrial)\nStandard Operating Conditions (unless otherwise stated)\nOperating temperature -40 \uf0b0C \uf0a3 TA \uf0a3 +85\uf0b0C for industrial \nParam\nNo.Device Characteristics Min Typ† Max UnitsConditions\nVDD Note\nD010 Supply Current (I DD) —91 6 \uf06dA2 . 0 F OSC = 32 kHz\nLP Oscillator Mode—1 82 8 \uf06dA3 . 0\n—3 55 4 \uf06dA5 . 0\nD011 — 110 150 \uf06dA2 . 0 F OSC = 1 MHz\nXT Oscillator Mode— 190 280 \uf06dA3 . 0\n— 330 450 \uf06dA5 . 0\nD012 — 220 280 \uf06dA2 . 0 F OSC = 4 MHz\nXT Oscillator Mode— 370 650 \uf06dA3 . 0\n— 0.6 1.4 mA 5.0\nD013 — 70 110 \uf06dA2 . 0 F OSC = 1 MHz\nEC Oscillator Mode— 140 250 \uf06dA3 . 0\n— 260 390 \uf06dA5 . 0\nD014 — 180 250 \uf06dA2 . 0 F OSC = 4 MHz\nEC Oscillator Mode— 320 470 \uf06dA3 . 0\n— 580 850 \uf06dA5 . 0\nD015 — 340 450 \uf06dA2 . 0 F OSC = 4 MHz\nINTOSC Mode— 500 780 \uf06dA3 . 0\n— 0.8 1.1 mA 5.0\nD016 — 180 250 \uf06dA2 . 0 F OSC = 4 MHz\nEXTRC Mode— 320 450 \uf06dA3 . 0\n— 580 800 \uf06dA5 . 0\nD017 — 2.1 2.95 mA 4.5 F OSC = 20 MHz\nHS Oscillator Mode— 2.4 3.0 mA 5.0\n† Data in “Typ” column is at 5.0V, 25 \uf0b0C unless otherwise stated. These parameters are for design guidance\nonly and are not tested.\nNote 1: The test conditions for all I DD measurements in Active Operation mode are: OSC1 = external square wave,\nfrom rail-to-rail; all I/O pins tri-stated, pulled to V DD; MCLR  = V DD; WDT disabled.\n2:The supply current is mainly a function of the operating voltage and frequency. Other factors such as I/O\npin loading and switching rate, oscillator type, internal code execution pattern, and temperature also have\nan impact on the current consumption.\nPIC16F630/676\nDS40039F-page 90  \uf0e3 2010 Microchip Technology Inc.12.3 DC Characteristics: PIC16F630/676-I (Industrial)\nStandard Operating Conditions (unless otherwise stated)\nOperating temperature -40 \uf0b0C \uf0a3 TA \uf0a3 +85\uf0b0C for industrial \nParam\nNo.Device Characteristics Min Typ† Max UnitsConditions\nVDD Note\nD020 Power-down Base Current\n(IPD) — 0.99 700 nA 2.0 WDT, BOD, Comparators, V REF, \nand T1OSC disabled— 1.2 770 nA 3.0\n— 2.9 995 nA 5.0\nD021 — 0.3 1.5 \uf06dA 2.0 WDT Current(1)\n—1 . 8 3 . 5 \uf06dA3 . 0\n—8 . 41 7 \uf06dA5 . 0\nD022 — 58 70 \uf06dA 3.0 BOD Current(1)\n—1 0 9 1 3 0 \uf06dA5 . 0\nD023 — 3.3 6.5 \uf06dA 2.0 Comparator Current(1)\n—6 . 1 8 . 5 \uf06dA3 . 0\n—1 1 . 51 6 \uf06dA5 . 0\nD024 — 58 70 \uf06dA2 . 0 C V REF Current(1)\n—8 5 1 0 0 \uf06dA3 . 0\n—1 3 8 1 6 0 \uf06dA5 . 0\nD025 — 4.0 6.5 \uf06dA 2.0 T1 O SC Current(1)\n—4 . 6 7 . 0 \uf06dA3 . 0\n— 6.0 10.5 \uf06dA5 . 0\nD026 — 1.2 755 nA 3.0 A/D Current(1)\n— 0.0022 1.0 \uf06dA5 . 0\n† Data in “Typ” column is at 5.0V, 25 \uf0b0C unless otherwise stated. These parameters are for design guidance\nonly and are not tested.\nNote 1: The peripheral current is the sum of the base I DD or I PD and the additional current consumed when this\nperipheral is enabled. The peripheral \uf044 current can be determined by subtracting the base I DD or I PD\ncurrent from this limit. Max values should be used when calculating total current consumption.\n2:The power-down current in Sleep mode does not depend on the oscillator type. Power-down current is\nmeasured with the part in Sleep mode, with all I/O pins in high-impedance state and tied to V DD.\n\uf0e3 2010 Microchip Technology Inc. DS40039F-page 91PIC16F630/676\n12.4 DC Characteristics: PIC16F630/676-E (Extended)\nStandard Operating Conditions (unless otherwise stated)\nOperating temperature -40 \uf0b0C \uf0a3 TA \uf0a3 +125\uf0b0C for extended \nParam\nNo.Device Characteristics Min Typ† Max UnitsConditions\nVDD Note\nD010E Supply Current (I DD) —91 6 \uf06dA2 . 0 F OSC = 32 kHz\nLP Oscillator Mode—1 82 8 \uf06dA3 . 0\n—3 55 4 \uf06dA5 . 0\nD011E — 110 150 \uf06dA2 . 0 F OSC = 1 MHz\nXT Oscillator Mode— 190 280 \uf06dA3 . 0\n— 330 450 \uf06dA5 . 0\nD012E — 220 280 \uf06dA2 . 0 F OSC = 4 MHz\nXT Oscillator Mode— 370 650 \uf06dA3 . 0\n— 0.6 1.4 mA 5.0\nD013E — 70 110 \uf06dA2 . 0 F OSC = 1 MHz\nEC Oscillator Mode— 140 250 \uf06dA3 . 0\n— 260 390 \uf06dA5 . 0\nD014E — 180 250 \uf06dA2 . 0 F OSC = 4 MHz\nEC Oscillator Mode— 320 470 \uf06dA3 . 0\n— 580 850 \uf06dA5 . 0\nD015E — 340 450 \uf06dA2 . 0 F OSC = 4 MHz\nINTOSC Mode— 500 780 \uf06dA3 . 0\n— 0.8 1.1 mA 5.0\nD016E — 180 250 \uf06dA2 . 0 F OSC = 4 MHz\nEXTRC Mode— 320 450 \uf06dA3 . 0\n— 580 800 \uf06dA5 . 0\nD017E — 2.1 2.95 mA 4.5 F OSC = 20 MHz\nHS Oscillator Mode— 2.4 3.0 mA 5.0\n† Data in “Typ” column is at 5.0V, 25 \uf0b0C unless otherwise stated. These parameters are for design guidance\nonly and are not tested.\nNote 1: The test conditions for all I DD measurements in Active Operation mode are: OSC1 = external square wave,\nfrom rail-to-rail; all I/O pins tri-stated, pulled to V DD; MCLR  = V DD; WDT disabled.\n2:The supply current is mainly a function of the operating voltage and frequency. Other factors such as I/O\npin loading and switching rate, oscillator type, internal code execution pattern, and temperature also have\nan impact on the current consumption.\nPIC16F630/676\nDS40039F-page 92  \uf0e3 2010 Microchip Technology Inc.12.5 DC Characteristics: PIC16F630/676-E (Extended)\nStandard Operating Conditions (unless otherwise stated)\nOperating temperature -40 \uf0b0C \uf0a3 TA \uf0a3 +125\uf0b0C for extended \nParam\nNo.Device Characteristics Min Typ† Max UnitsConditions\nVDD Note\nD020E Power-down Base Current \n(IPD)— 0.00099 3.5 \uf06dA 2.0 WDT, BOD, Comparators, V REF, \nand T1OSC disabled— 0.0012 4.0 \uf06dA3 . 0\n— 0.0029 8.0 \uf06dA5 . 0\nD021E — 0.3 6.0 \uf06dA 2.0 WDT Current(1)\n—1 . 8 9 . 0 \uf06dA3 . 0\n—8 . 42 0 \uf06dA5 . 0\nD022E — 58 70 \uf06dA 3.0 BOD Current(1)\n—1 0 9 1 3 0 \uf06dA5 . 0\nD023E — 3.3 10 \uf06dA 2.0 Comparator Current(1)\n—6 . 11 3 \uf06dA3 . 0\n—1 1 . 52 4 \uf06dA5 . 0\nD024E — 58 70 \uf06dA2 . 0 C V REF Current(1)\n—8 5 1 0 0 \uf06dA3 . 0\n—1 3 8 1 6 5 \uf06dA5 . 0\nD025E — 4.0 10 \uf06dA2 . 0 T 1  O SC Current(1)\n—4 . 61 2 \uf06dA3 . 0\n—6 . 02 0 \uf06dA5 . 0\nD026E — 0.0012 6.0 \uf06dA 3.0 A/D Current(1)\n— 0.0022 8.5 \uf06dA5 . 0\n† Data in “Typ” column is at 5.0V, 25 \uf0b0C unless otherwise stated. These parameters are for design guidance\nonly and are not tested.\nNote 1: The peripheral current is the sum of the base I DD or I PD and the additional current consumed when this\nperipheral is enabled. The peripheral \uf044 current can be determined by subtracting the base I DD or I PD\ncurrent from this limit. Max values should be used when calculating total current consumption.\n2:The power-down current in Sleep mode does not depend on the oscillator type. Power-down current is\nmeasured with the part in Sleep mode, with all I/O pins in high-impedance state and tied to V DD.\n\uf0e3 2010 Microchip Technology Inc. DS40039F-page 93PIC16F630/676\n12.6 DC Characteristics: PIC16F630/676-I (Industrial), PIC16F630/676-E (Extended) \nDC CHARACTERISTICSStandard Operating Conditions (unless otherwise stated)\nOperating temperature -40°C \uf0a3 TA \uf0a3 +85°C for industrial\n-40°C \uf0a3 TA \uf0a3 +125°C for extended\nParam\nNo.Sym Characteristic Min Typ† Max Units Conditions\nInput Low Voltage\nVIL I/O ports\nD030 with TTL buffer V SS — 0.8 V 4.5V \uf0a3 VDD \uf0a3 5.5V\nD030A V SS — 0.15 V DD VO t h e r w i s e\nD031 with Schmitt Trigger buffer V SS — 0.2 V DD V Entire range\nD032 MCLR , OSC1 (RC mode) V SS — 0.2 V DD V\nD033 OSC1 (XT and LP modes) V SS — 0.3 V (Note 1)\nD033A OSC1 (HS mode) V SS — 0.3 V DD V (Note 1)\nInput High Voltage\nVIH I/O ports —\nD040\nD040Awith TTL buffer 2.0\n(0.25 V DD+0.8)—\n—VDD\nVDDV\nV4.5V \uf0a3 VDD \uf0a3\uf0205.5V\notherwise\nD041 with Schmitt Trigger buffer 0.8 V DD — VDD entire range\nD042 MCLR 0.8 V DD — VDD V\nD043 OSC1 (XT and LP modes) 1.6 — VDD V (Note 1)\nD043A OSC1 (HS mode) 0.7 V DD — VDD V (Note 1)\nD043B OSC1 (RC mode) 0.9 V DD — VDD V\nD070 I PUR PORTA Weak Pull-up \nCurrent50* 250 400* \uf06dAV DD = 5.0V, V PIN = V SS\nInput Leakage Current(3)\nD060 I IL I/O ports — \uf0b1\uf0200\uf02e1\uf0b1\uf0201\uf06dAV SS \uf0a3\uf020VPIN \uf0a3\uf020VDD, \nPin at high-impedance\nD060A Analog inputs — \uf0b1\uf0200\uf02e1\uf0b1\uf0201\uf06dAV SS \uf0a3\uf020VPIN \uf0a3\uf020VDD\nD060B V REF — \uf0b1\uf0200\uf02e1\uf0b1\uf0201\uf06dAV SS \uf0a3\uf020VPIN \uf0a3\uf020VDD\nD061 MCLR(2)— \uf0b1\uf0200\uf02e1\uf0b1\uf0205\uf06dAV SS \uf0a3\uf020VPIN \uf0a3\uf020VDD\nD063 OSC1 — \uf0b1\uf0200\uf02e1\uf0b1\uf0205\uf06dAV SS \uf0a3\uf020VPIN \uf0a3\uf020VDD, XT, HS and \nLP osc configuration\nOutput Low Voltage\nD080 V OL I/O ports —— 0.6 V I OL = 8.5 mA, V DD = 4.5V (Ind.)\nD083 OSC2/CLKOUT (RC mode) —— 0.6 V I OL = 1.6 mA, V DD = 4.5V (Ind.)\nIOL = 1.2 mA, V DD = 4.5V (Ext.)\nOutput High Voltage\nD090 V OH I/O ports V DD - 0.7 —— VI OH = -3.0 mA, V DD = 4.5V (Ind.)\nD092 OSC2/CLKOUT (RC mode) V DD - 0.7 —— VI OH = -1.3 mA, V DD = 4.5V (Ind.)\nIOH = -1.0 mA, V DD = 4.5V (Ext.)\n* These parameters are characterized but not tested.\n† Data in “Typ” column is at 5.0V, 25 \uf0b0C unless otherwise stated. These parameters are for design guidance\nonly and are not tested.\nNote 1: In RC oscillator configuration, the OSC1/CLKIN pin is a Schmitt Trigger input. It is not recommended to use \nan external clock in RC mode.\n2:The leakage current on the MCLR  pin is strongly dependent on the applied voltage level. The specified levels \nrepresent normal operating conditions. Higher leakage cu rrent may be measured at different input voltages.\n3:Negative current is defined as current sourced by the pin.\nPIC16F630/676\nDS40039F-page 94  \uf0e3 2010 Microchip Technology Inc.12.7 DC Characteristics: PIC16F630/676-I (I ndustrial), PIC16F 630/676-E (Extended) \n(Cont.) \nDC CHARACTERISTICSStandard Operating Conditions (unless otherwise stated)\nOperating temperature -40°C \uf0a3 TA \uf0a3 +85°C for industrial\n-40°C \uf0a3 TA \uf0a3 +125°C for extended\nParam\nNo.Sym Characteristic Min Typ† Max Units Conditions\nCapacitive Loading Specs \non Output Pins\nD100 C OSC2 OSC2 pin — — 15* pF In XT, HS and LP modes when \nexternal clock is used to drive OSC1\nD101 C\nIO All I/O pins — — 50* pFData EEPROM Memory\nD120 E\nD Byte Endurance 100K 1M — E/W -40 \uf0b0C \uf0a3 TA \uf0a3\uf020+85°C\nD120A E D Byte Endurance 10K 100K — E/W +85°C \uf0a3 TA \uf0a3\uf020+125°C\nD121 V DRW VDD for Read/Write V MIN — 5.5 V Using EECON to read/write\nVMIN = Minimum operating \nvoltage\nD122 T DEW Erase/Write cycle time — 5 6 ms\nD123 T RETD Characteristic Retention 40 — — Year Provided no other specifications \nare violated\nD124 T REF Number of Total Erase/Write \nCycles before Refresh(1)1M 10M — E/W -40 \uf0b0C \uf0a3 TA \uf0a3\uf020+85°C\nProgram Flash Memory\nD130 E P Cell Endurance 10K 100K — E/W -40 \uf0b0C \uf0a3 TA \uf0a3\uf020+85°C\nD130A E D Cell Endurance 1K 10K — E/W +85°C \uf0a3 TA \uf0a3\uf020+125°C\nD131 V PR VDD for Read V MIN —5 . 5 V V MIN = Minimum operating \nvoltage\nD132 V PEW VDD for Erase/Write 4.5 — 5.5 V\nD133 T PEW Erase/Write cycle time — 2 2.5 ms\nD134 T RETD Characteristic Retention 40 — — Year Provided no other specifications \nare violated\n* These parameters are characterized but not tested.\n† Data in ‘Typ’ column is at 5.0V, 25 \uf0b0C unless otherwise stated. These parameters are for design guidance\nonly and are not tested.\nNote 1: See Section 8.5.1 for additional information.\n\uf0e3 2010 Microchip Technology Inc. DS40039F-page 95PIC16F630/676\n12.8 TIMING PARAMETER SYMBOLOGY\nThe timing parameter symbols have been created with\none of the following formats:\nFIGURE 12-4: LOAD CONDITIONS1. TppS2ppS\n2. TppS\nT\nF Frequency T TimeLowercase letters (pp) and their meanings:\npp\ncc CCP1 osc OSC1ck CLKOUT rd RD\ncs CS rw RD  or WR\ndi SDI sc SCKdo SDO ss SS\ndt Data in t0 T0CKIio I/O port t1 T1CKImc MCLR\nwr WR\nUppercase letters and their meanings:\nS\nFF a l l PP e r i o d\nHH i g h RR i s e\nI Invalid (High-impedance) V ValidL Low Z High-impedance\nVDD/2\nCLRL\nPin Pin\nVSS VSSCL\nRL=4 6 4\uf057\nCL= 50 pF for all pins \n15 pF for OSC2 outputLoad Condition 1 Load Condition 2\nLegend:\nPIC16F630/676\nDS40039F-page 96  \uf0e3 2010 Microchip Technology Inc.12.9 AC CHARACTERISTICS: PIC16F630/676 (INDUSTRIAL, EXTENDED)\nFIGURE 12-5: EXTERN AL CLOCK TIMING\nTABLE 12-1: EXTERNAL CLOCK TIMING REQUIREMENTS\nParam\nNo.Sym Characteristic Min Typ† Max Units Conditions\nFOSC External CLKIN Frequency(1) DC — 37 kHz LP Osc mode \nDC — 4 MHz XT modeDC — 20 MHz HS mode\nDC — 20 MHz EC mode\nOscillator Frequency\n(1) 5 — 37 kHz LP Osc mode\n—4 — M H z I N T O S C  m o d e\nDC — 4 MHz RC Osc mode\n0.1 — 4 MHz XT Osc mode\n1— 2 0 M H z H S  O s c  m o d e  \n1T OSC External CLKIN Period(1)27 — \uf0a5\uf06d sL P  O s c  m o d e\n50 — \uf0a5 ns HS Osc mode\n50 — \uf0a5 ns EC Osc mode\n250 — \uf0a5 ns XT Osc mode\nOscillator Period(1) 27 200 \uf06dsL P  O s c  m o d e\n—2 5 0 — n s I N T O S C  m o d e\n250 — — ns RC Osc mode\n250 — 10,000 ns XT Osc mode\n50 — 1,000 ns HS Osc mode\n2T CY Instruction Cycle Time(1) 200 T CY DC ns T CY = 4/F OSC                             \n3 TosL,\nTosHExternal CLKIN (OSC1) High\nExternal CLKIN Low2* — — \uf06dsL P  o s c i l l a t o r ,  T OSC L/H duty cycle\n20* — — ns HS oscillator, T OSC L/H duty cycle\n100 * — — ns XT oscillator, T OSC L/H duty cycle\n4T o s R ,\nTosFExternal CLKIN Rise\nExternal CLKIN Fall— — 50* ns LP oscillator\n— — 25* ns XT oscillator\n— — 15* ns HS oscillator\n* These parameters are characterized but not tested.\n† Data in “Typ” column is at 5V, 25°C unless otherwise stated. These parameters are for design guidance only\nand are not tested.\nNote 1: Instruction cycle period (T CY) equals four times the input oscillator time-base period. All specified values are \nbased on characterization data for that particular oscillator type under standard operating conditions with the \ndevice executing code. Exceeding these specified limits may result in an unstable oscillator operation and/or higher than expected current consumption. All devices are tested to operate at “min” values with an external \nclock applied to OSC1 pin. When an external clock input is used, the “max” cycle time limit is “DC” (no clock) \nfor all devices.OSC1\nCLKOUTQ4 Q1 Q2 Q3 Q4 Q1\n1\n23 3 4 4\n\uf0e3 2010 Microchip Technology Inc. DS40039F-page 97PIC16F630/676\nTABLE 12-2:  PRECISION INTERNAL OSCILLATOR PARAMETERS \nParam \nNo.Sym CharacteristicFreq\nToleranceMin Typ† Max Units Conditions\nF10 FOSC Internal Calibrated \nINTOSC Frequency\uf0b11 3.96 4.00 4.04 MHz V DD = 3.5V, 25 \uf0b0C\n\uf0b12 3.92 4.00 4.08 MHz 2.5V \uf0a3\uf020VDD \uf0a3 5.5V\n0\uf0b0C \uf0a3 TA \uf0a3 +85\uf0b0C\n\uf0b15 3.80 4.00 4.20 MHz 2.0V \uf0a3\uf020VDD \uf0a3 5.5V\n-40\uf0b0C \uf0a3 TA \uf0a3 +85\uf0b0C (IND)\n-40\uf0b0C \uf0a3 TA \uf0a3 +125\uf0b0C (EXT)\nF14 TIOSC\nSTOscillator Wake-up from \nSleep start-up time*—— 6 8 \uf06dsV DD = 2.0V, -40 \uf0b0C to +85 \uf0b0C\n—— 4 6 \uf06dsV DD = 3.0V, -40 \uf0b0C to +85 \uf0b0C\n—— 3 5 \uf06dsV DD = 5.0V, -40 \uf0b0C to +85 \uf0b0C\n* These parameters are characterized but not tested.\n† Data in “Typ” column is at 5.0V, 25 \uf0b0C unless otherwise stated. These parameters are for design guidance\nonly and are not tested.\nPIC16F630/676\nDS40039F-page 98  \uf0e3 2010 Microchip Technology Inc.FIGURE 12-6: CLKOUT AND I/O TIMING     \nTABLE 12-3: CLKOUT AND I/O TIMING REQUIREMENTS     \nParam \nNo.Sym Characteristic Min Typ† Max Units Conditions\n10 TosH2ckL OSC1 \uf0ad to CLOUT \uf0af — 75 200 ns (Note 1)\n11 TosH2ckH OSC1 \uf0ad to CLOUT \uf0ad — 75 200 ns (Note 1)\n12 TckR CLKOUT rise time — 35 100 ns (Note 1)\n13 TckF CLKOUT fall time — 35 100 ns (Note 1)\n14 TckL2ioV CLKOUT \uf0af to Port out valid — — 20 ns (Note 1)\n15 TioV2ckH Port in valid before CLKOUT \uf0ad T OSC + 200 ns — — ns (Note 1)\n16 TckH2ioI Port in hold after CLKOUT \uf0ad 0 — — ns (Note 1)\n17 TosH2ioV OSC1 \uf0ad (Q1 cycle) to Port out valid — 50 150 * ns\n— — 300 ns\n18 TosH2ioI OSC1 \uf0ad (Q2 cycle) to Port input \ninvalid (I/O in hold time)100 — — ns\n19 TioV2osH Port input valid to OSC1 \uf0ad\uf020\n(I/O in setup time)0— — n s\n20 TioR Port output rise time — 10 40 ns\n21 TioF Port output fall time — 10 40 ns22 Tinp INT pin high or low time 25 — — ns23 Trbp PORTA change INT high or low \ntimeT\nCY ——n s\n* These parameters are characterized but not tested.\n† Data in “Typ” column is at 5.0V, 25 \uf0b0C unless otherwise stated.\nNote 1: Measurements are taken in RC mode where CLKOUT output is 4xT OSC.OSC1\nCLKOUT\nI/O pin\n(Input)\nI/O pin\n(Output)Q4 Q1 Q2 Q3\n10\n13\n14\n17\n20, 2122\n23\n19 18\n1511\n12\n16\nOld Value New Value\n\uf0e3 2010 Microchip Technology Inc. DS40039F-page 99PIC16F630/676\nFIGURE 12-7: RESET, WATCHDOG TIMER, OSCILLATOR START-UP TIMER AND \nPOWER-UP TIMER TIMING\nFIGURE 12-8: BROWN-OUT DETE CT TIMING AND CHARACTERISTICSVDD\nMCLR\nInternal\nPOR\nPWRT\nTime-out\nOSC\nTime-out\nInternal\nReset\nWatchdog\nTimer\nReset33\n3230\n31\n34\nI/O Pins34\nBVDD\nReset (due to BOD)VDD\n(Device in Brown-out Detect)(Device not in Brown-out Detect)\n72 ms time-out(1)35\nNote 1: 72 ms delay only if PWRTE  bit in Configuration Word is programmed to ‘ 0’.\nPIC16F630/676\nDS40039F-page 100  \uf0e3 2010 Microchip Technology Inc.TABLE 12-4: RESET, WATCHDOG TIMER, OSCILL ATOR START-UP TIMER, POWER-UP TIMER, \nAND BROWN-OUT DETECT REQUIREMENTS\nParam \nNo.Sym Characteristic Min Typ† Max Units Conditions\n30 T MCL MCLR  Pulse Width (low) 2 \n11—\n18—\n24\uf06ds\nmsVDD = 5V, -40°C to +85°C\nExtended temperature\n31 T WDT Watchdog Timer Time-out \nPeriod (No Prescaler)10\n1017\n1725\n30ms\nmsV\nDD = 5V, -40°C to +85°C\nExtended temperature\n32 T OST Oscillation Start-up Timer \nPeriod— 1024T OSC —— T OSC = OSC1 period\n33* T PWRT Power-up Timer Period 28*\nTBD72\nTBD132*\nTBDms\nmsVDD = 5V, -40°C to +85°C\nExtended Temperature\n34 T IOZ I/O High-impedance from \nMCLR  Low or Watchdog Timer \nReset—— 2 . 0 \uf06ds\nBVDD Brown-out Detect Voltage 2.025 — 2.175 V\nBrown-out Hysteresis TBD — — —\n35 T BOD Brown-out Detect Pulse Width 100* — — \uf06dsV DD \uf0a3 BVDD (D005)\n* These parameters are characterized but not tested.\n† Data in “Typ” column is at 5V, 25°C unless otherwise stated. These parameters are for design guidance only\nand are not tested.\n\uf0e3 2010 Microchip Technology Inc. DS40039F-page 101PIC16F630/676\nFIGURE 12-9: TIMER0 AND TIMER1 EXTERNAL CLOCK TIMINGS\nTABLE 12-5: TIMER0 AND TIMER1 EXTERNAL CLOCK REQUIREMENTS\nParam \nNo.Sym Characteristic Min Typ† Max Units Conditions\n40* Tt0H T0CKI High Pulse Width No Prescaler 0.5 T CY + 20 — — ns\nWith Prescaler 10 — — ns  \n41* Tt0L T0CKI Low Pulse Width No Prescaler 0.5 T CY + 20 — — ns  \nWith Prescaler 10 — — ns  \n42* Tt0P T0CKI Period Greater of:\n20 or T CY + 40\n       N— — ns N = prescale value \n(2, 4, ..., 256)\n45* Tt1H T1CKI High Time Synchronous, No Prescaler 0.5 T CY + 20 — — ns  \nSynchronous, \nwith Prescaler15 — — ns  \nAsynchronous 30 — — ns  \n46* Tt1L T1CKI Low Time Synchronous, No Prescaler 0.5 T CY + 20 — — ns  \nSynchronous, \nwith Prescaler15 — — ns  \nAsynchronous 30 — — ns  \n47* Tt1P T1CKI Input \nPeriod Synchronous Greater of:\n30 or T CY + 40\n   N— — ns N = prescale value \n(1, 2, 4, 8)\nAsynchronous 60 — — ns  \nFt1 Timer1 oscillator input frequency range \n(oscillator enabled by setting bit T1OSCEN)DC — 200* kHz\n48 TCKEZtmr1 Delay from external clock edge to timer increment 2 T OSC*— 7  T OSC*—\n* These parameters are characterized but not tested.\n† Data in “Typ” column is at 5V, 25°C unless otherwise stated. These parameters are for design guidance only and are \nnot tested.T0CKI\nT1CKI40 41\n42\n45 46\n47 48\nTMR0 or\nTMR1\nPIC16F630/676\nDS40039F-page 102  \uf0e3 2010 Microchip Technology Inc.TABLE 12-6: COMPARATOR SPECIFICATIONS\nTABLE 12-7: COMPARATOR VOLTAGE REFERENCE SPECIFICATIONSComparator SpecificationsStandard Operating Conditions  \n-40°C to +125°C (unless otherwise stated)\nSym Characteristics Min Typ Max Units Comments\nVOS Input Offset Voltage — \uf0b1 5.0 \uf0b1 10 mV\nVCM Input Common Mode Voltage 0 — V DD - 1.5 V\nCMRR Common Mode Rejection Ratio +55* — — db\nTRT Response Time(1)— 150 400* ns\nTMC2COV Comparator Mode Change to \nOutput Valid—— 1 0 * \uf06ds\n* These parameters are characterized but not tested.\nNote 1: Response time measured with one comparator input at (V DD - 1.5)/2 while the other input transitions from \nVSS to V DD - 1.5V.\nVoltage Reference SpecificationsStandard Operating Conditions \n-40°C to +125°C (unless otherwise stated)\nSym Characteristics Min Typ Max Units Comments\nResolution —\n—VDD/24*\nVDD/32—\n—LSb\nLSbLow Range (VRR = 1)\nHigh Range (VRR = 0)\nAbsolute Accuracy —\n——\n—\uf0b1 1/2*\n\uf0b1\uf0201/2*LSb\nLSbLow Range (VRR = 1)\nHigh Range (VRR = 0)\nUnit Resistor Value (R) — 2k* — \uf057\nSettling Time(1)—— 1 0 * \uf06ds\n* These parameters are characterized but not tested.\nNote 1: Settling time measured while VRR = 1 and VR<3:0> transitions from 0000  to 1111 .\n\uf0e3 2010 Microchip Technology Inc. DS40039F-page 103PIC16F630/676\nTABLE 12-8: PIC16F676 A/D CONVERTER CHARACTERISTICS :\nParam \nNo.Sym Characteristic Min Typ† Max Units Conditions\nA01 N R Resolution — — 10 bits bit\nA02 E ABS Total Absolute \nError*—— \uf0b11L S b V REF = 5.0V\nA03 E IL Integral Error — — \uf0b11L S b V REF = 5.0V\nA04 E DL Differential Error — — \uf0b11 LSb No missing codes to 10 bits\nVREF = 5.0V\nA05 E FS Full Scale Range 2.2* — 5.5* V\nA06 E OFF Offset Error — — \uf0b11L S b V REF = 5.0V\nA07 E GN Gain Error — — \uf0b11L S b V REF = 5.0V\nA10 — Monotonicity — guaranteed(3)—— V SS \uf0a3  VAIN \uf0a3  VREF+\nA20\nA20AVREF Reference Voltage 2.0\n2.5——\nVDD + 0.3V\nAbsolute minimum to ensure 10-bit \naccuracy\nA21 V REF Reference V High\n(VDD or V REF)VSS —V DD V\nA25 V AIN Analog Input \nVoltageVSS —V REF V\nA30 Z AIN Recommended \nImpedance of \nAnalog Voltage Source—— 1 0 k \uf057\nA50 I\nREF VREF Input \nCurrent(2) 10\n——\n—1000\n10\uf06dA\n\uf06dADuring V AIN acquisition. \nBased on differential of V HOLD  to V AIN.\nDuring A/D conversion cycle.\n* These parameters are characterized but not tested.\n† Data in “Typ” column is at 5.0V, 25 \uf0b0C unless otherwise stated. These parameters are for design guidance\nonly and are not tested.\nNote 1: When A/D is off, it will not consume any current other than leakage current. The power-down current spec\nincludes any such leakage from the A/D module.\n2:VREF current is from External V REF or V DD pin, whichever is selected as reference input.\n3:The A/D conversion result never decreases with an increase in the input voltage and has no missing codes.\nPIC16F630/676\nDS40039F-page 104  \uf0e3 2010 Microchip Technology Inc.FIGURE 12-10: PIC16F676 A/D CONV ERSION TIMING (NORMAL MODE)\nTABLE 12-9: PIC16F676 A/D CONVERSION REQUIREMENTS\nParam\nNo.Sym Characteristic Min Typ† Max Units Conditions\n130 T AD A/D Clock Period 1.6 — — \uf06dsT OSC based, V REF \uf0b3\uf0203.0V\n3.0* — — \uf06dsT OSC based, V REF full range\n130 T AD A/D Internal RC \nOscillator Period 3.0* 6.0 9.0* \uf06dsADCS<1:0> = 11 (RC mode)\nAt V DD = 2.5V\n2.0* 4.0 6.0* \uf06dsA t  V DD = 5.0V\n131 T CNV Conversion Time \n(not including \nAcquisition Time)(1)—1 1 — T AD Set GO bit to new data in A/D result \nregister\n132 T ACQ Acquisition Time (Note 2)\n5*11.5\n——\n—\uf06ds\n\uf06ds The minimum time is the amplifier \nsettling time. This may be used if the “new” input voltage has not changed \nby more than 1 LSb (i.e., 4.1 mV @ \n4.096V) from the last sampled volt-age (as stored on C\nHOLD ).\n134 T GO Q4 to A/D Clock \nStart—T OSC/2 — — If the A/D clock source is selected as \nRC, a time of T CY is added before \nthe A/D clock starts. This allows the \nSLEEP  instruction to be executed.\n* These parameters are characterized but not tested.\n† Data in “Typ” column is at 5.0V, 25 \uf0b0C unless otherwise stated. These parameters are for design guidance only\nand are not tested.\nNote 1: ADRES register may be read on the following T CY cycle.\n2:See Table 7-1 for minimum conditions.131\n130\n132BSF ADCON0, GO\nQ4\nA/D CLK\nA/D DATA\nADRES\nADIF\nGO\nSAMPLEOLD_DATA\nSAMPLING STOPPEDDONENEW_DATA98 7 321 0\nNote 1: If the A/D clock source is selected as RC, a time of T CY is added before the A/D clock starts. This allows the \nSLEEP  instruction to be executed.  1 TCY\n6134 (TOSC/2)(1)\n1 TCY\n\uf0e3 2010 Microchip Technology Inc. DS40039F-page 105PIC16F630/676\nFIGURE 12-11: PIC16F676 A/D CONV ERSION TIMING (SLEEP MODE)\nTABLE 12-10: PIC16F676 A/D CONVERSION REQUIREMENTS (SLEEP MODE)\nParam \nNo.Sym Characteristic Min Typ† Max Units Conditions\n130 T AD A/D Clock Period 1.6 — — \uf06dsV REF \uf0b3\uf0203.0V\n3.0* — — \uf06dsV REF full range\n130 T AD A/D Internal RC \nOscillator Period 3.0* 6.0 9.0* \uf06dsADCS<1:0> = 11 (RC mode)\nAt V DD = 2.5V\n2.0* 4.0 6.0* \uf06dsA t  V DD = 5.0V\n131 T CNV Conversion Time \n(not including Acquisition Time)\n(1) —1 1 — T AD\n132 T ACQ Acquisition Time (Note 2)\n5*11.5\n——\n—\uf06ds\n\uf06ds The minimum time is the amplifier \nsettling time. This may be used if \nthe “new” input voltage has not changed by more than 1 LSb (i.e., \n4.1 mV @ 4.096V) from the last \nsampled voltage (as stored on C\nHOLD ).\n134 T GO Q4 to A/D Clock \nStart—T OSC/2 + T CY — — If the A/D clock source is selected \nas RC, a time of T CY is added \nbefore the A/D clock starts. This \nallows the SLEEP  instruction to be \nexecuted.\n* These parameters are characterized but not tested.\n† Data in “Typ” column is at 5.0V, 25 \uf0b0C unless otherwise stated. These parameters are for design guidance\nonly and are not tested.\nNote 1: ADRES register may be read on the following T CY cycle. \n2:See Table 7-1 for minimum conditions.131\n130BSF ADCON0, GO\nQ4\nA/D CLK\nA/D DATA\nADRES\nADIF\nGO\nSAMPLEOLD_DATA\nSAMPLING STOPPEDDONENEW_DATA9 7 3210\nNote 1: If the A/D clock source is selected as RC, a time of T CY is added before the A/D clock starts. This allows the \nSLEEP  instruction to be executed.  134\n6 8\n1321 TCY (TOSC/2 + T CY)(1)\n1 TCY\nPIC16F630/676\nDS40039F-page 106  \uf0e3 2010 Microchip Technology Inc.NOTES:\n\uf0e3 2010 Microchip Technology Inc. DS40039F-page 107PIC16F630/676\n13.0 DC AND AC CHARACTERISTICS GRAPHS AND TABLES\nThe graphs and tables provided in this section are for design guidance  and are not tested . \nIn some graphs or tables, the data presented are outside specified operating range  (i.e., outside specified V DD\nrange). This is for information only  and devices are ensured to operate properly only within the specified range.\nThe data presented in this section is a statistical summary  of data collected on units from different lots over a period\nof time and matrix samples. “Typical” represents the mean of the distribution at 25°C. “Max” or “min” represents(mean + 3 \uf073) or (mean - 3 \uf073) respectively, where \uf073 is standard deviation, over the whole temperature range.\nFIGURE 13-1: TYPICAL I PD vs. V DD OVER TEMP (-40°C TO +25°C)\nFIGURE 13-2: TYPICAL I PD vs. V DD OVER TEMP (+85°C)Typical Baseline I PD\n0.0E+001.0E-092.0E-093.0E-094.0E-095.0E-096.0E-09\n2 2.5 3 3.5 4 4.5 5 5.5 VDD (V)IPD (A)-40\n0\n25\nTypical Baseline I PD\n0.0E+005.0E-081.0E-071.5E-072.0E-072.5E-073.0E-073.5E-07\n2.0 2.5 3.0 3.5 4.0 4.5 5.0 5.5\nVDD (V)IPD (A)85\nPIC16F630/676\nDS40039F-page 108  \uf0e3 2010 Microchip Technology Inc.FIGURE 13-3: TYPICAL I PD vs. V DD OVER TEMP (+125°C)\nFIGURE 13-4: MAXIMUM I PD vs. V DD OVER TEMP (-40°C TO +25°C)Typical Baseline I PD\n0.0E+005.0E-071.0E-061.5E-062.0E-062.5E-063.0E-063.5E-064.0E-06\n2.0 2.5 3.0 3.5 4.0 4.5 5.0 5.5 VDD (V)IPD (A)125\nMaximum Baseline I PD\n0.0E+001.0E-082.0E-083.0E-084.0E-085.0E-086.0E-087.0E-088.0E-089.0E-081.0E-07\n22 . 533 . 5 44 . 555 . 5VDD (V)IPD (A) -40\n0\n25\n\uf0e3 2010 Microchip Technology Inc. DS40039F-page 109PIC16F630/676\nFIGURE 13-5: MAXIMUM I PD vs. V DD OVER TEMP (+85°C) \nFIGURE 13-6: MAXIMUM I PD vs. V DD OVER TEMP (+125°C) Maximum Baseline I PD\n0.0E+001.0E-072.0E-073.0E-074.0E-075.0E-076.0E-077.0E-078.0E-079.0E-07\n2.0 2.5 3.0 3.5 4.0 4.5 5.0 5.5VDD (V)IPD (A)85\nMaximum Baseline I PD\n0.0E+001.0E-062.0E-063.0E-064.0E-065.0E-066.0E-067.0E-068.0E-069.0E-06\n2.0 2.5 3.0 3.5 4.0 4.5 5.0 5.5VDD (V)IPD (A)125\nPIC16F630/676\nDS40039F-page 110  \uf0e3 2010 Microchip Technology Inc.FIGURE 13-7: TYPICAL I PD WITH BOD ENABLED vs. V DD OVER TEMP (-40°C TO +125°C)\nFIGURE 13-8: TYPICAL I PD WITH CMP ENABLED vs. V DD OVER TEMP (-40°C TO +125°C)Typical BOD I PD\n5060708090100110120130\n3 3.5 4 4.5 5 5.5 VDD (V)IPD (uA)-40\n0\n25\n85\n125\nTypical Comparator I PD\n0.0E+002.0E-064.0E-066.0E-068.0E-061.0E-051.2E-051.4E-051.6E-051.8E-05\n2.0 2.5 3.0 3.5 4.0 4.5 5.0 5.5\nVDD (V)IPD (A)-40\n0\n25\n85\n125\n\uf0e3 2010 Microchip Technology Inc. DS40039F-page 111PIC16F630/676\nFIGURE 13-9: TYPICAL I PD WITH A/D ENABLED vs. V DD OVER TEMP (-40°C TO +25°C)\nFIGURE 13-10: TYPICAL I PD WITH A/D ENABLED vs. V DD OVER TEMP (+85°C)Typical A/D I PD\n0.0E+005.0E-101.0E-091.5E-092.0E-092.5E-093.0E-093.5E-094.0E-094.5E-095.0E-09\n2 2.5 3 3.5 4 4.5 5 5.5VDD (V)IPD (A)-40\n0\n25\nTypical A/D I PD\n0.0E+005.0E-081.0E-071.5E-072.0E-072.5E-073.0E-073.5E-07\n2 2.5 3 3.5 4 4.5 5 5.5\nVDD (V)IPD (A)\n85\nPIC16F630/676\nDS40039F-page 112  \uf0e3 2010 Microchip Technology Inc.FIGURE 13-11: TYPICAL I PD WITH A/D ENABLED vs. V DD OVER TEMP (+125°C)\nFIGURE 13-12: TYPICAL I PD WITH T1 OSC ENABLED vs. V DD OVER TEMP (-40°C TO +125°C), \n32 KHZ, C1 AND C2=50 pF)Typical A/D I PD\n0.0E+005.0E-071.0E-061.5E-062.0E-062.5E-063.0E-063.5E-06\n22 . 533 . 5 44 . 555 . 5VDD (V)IPD (A)\n125\nTypical  T1 I PD\n0.00E+002.00E-064.00E-066.00E-068.00E-061.00E-051.20E-05\n2.0 2.5 3.0 3.5 4.0 4.5 5.0 5.5 VDD (V)IPD (A)-40\n0\n25\n85\n125\n\uf0e3 2010 Microchip Technology Inc. DS40039F-page 113PIC16F630/676\nFIGURE 13-13: TYPICAL I PD WITH CV REF ENABLED vs. V DD OVER TEMP (-40°C TO +125°C)\nFIGURE 13-14: TYPICAL I PD WITH WDT ENABLED vs. V DD OVER TEMP (-40°C TO +125°C)Typical C VREFIPD\n406080100120140160\n2 2.5 3 3.5 4 4.5 5 5.5\nVDD (V)IPD (uA)-40\n0\n25\n85\n125\nTypical WDT I PD\n0246810121416\n2 2.5 3 3.5 4 4.5 5 5.5\nVDD (V)IPD (uA)-40\n0\n25\n85\n125\nPIC16F630/676\nDS40039F-page 114  \uf0e3 2010 Microchip Technology Inc.FIGURE 13-15: MAXIMUM AND MINIMUM \uf020INTOSC FREQ vs. TEMPERATURE WITH 0.1 \uf06dF AND \n0.01\uf06dF DECOUPLING (V DD = 3.5V) \nFIGURE 13-16: MAXIMUM AND MINIMUM \uf020INTOSC FREQ vs. V DD WITH 0.1 \uf06dF AND 0.01 \uf06dF \nDECOUPLING (+25°C) Internal Oscillator\nFrequency vs Temperature\n3.80E+063.85E+063.90E+063.95E+064.00E+064.05E+064.10E+064.15E+064.20E+06\n-40°C 0°C 25°C 85°C 125°CTemperature (°C)Frequency (Hz)-3sigma\naverage\n+3sigma\nInternal Oscillator\nFrequency vs V DD\n3.80E+063.85E+063.90E+063.95E+064.00E+064.05E+064.10E+064.15E+064.20E+06\n2.0V 2.5V 3.0V 3.5V 4.0V 4.5V 5.0V 5.5V\nVDD (V)Frequenc y (Hz)\n-3sigma\naverage\n+3sigma\n\uf0e3 2010 Microchip Technology Inc. DS40039F-page 115PIC16F630/676\nFIGURE 13-17: TYPICAL WDT PERIOD vs. V DD (-40\uf0b0C TO +125 \uf0b0C)\nWDT Time-out\n05101520253035404550\n2 2.5 3 3.5 4 4.5 5 5.5VDD (V)Time ( mS)-40\n0\n25\n85\n125\nPIC16F630/676\nDS40039F-page 116  \uf0e3 2010 Microchip Technology Inc.NOTES:\n\uf0e3 2010 Microchip Technology Inc. DS40039F-page 117PIC16F630/676\n14.0 PACKAGING INFORMATION\n14.1 Package Marking Information          \nXXXXXXXXXXXXXX14-Lead PDIP (Skinny DIP) Example\nXXXXXXXXXXXXXX\nYYWWNNN16F630-I\n1015/017\nXXXXXXXXXXX14-Lead SOIC \nXXXXXXXXXXX\nYYWWNNNExample \n16F630-E\n1015/017\n14-Lead TSSOP\nNNNXXXXXXXX\n      YYWWExample \n01716F630\n       1015\nLegend: XX...X Customer-specific information\nY Year code (last digit of calendar year)YY Year code (last 2 digits of calendar year)\nWW Week code (week of January 1 is week ‘01’)\nNNN Alphanumeric traceability code  Pb-free JEDEC designator for Matte Tin (Sn)\n* This package is Pb-free. The Pb-free JEDEC designator (     )can be found on the outer packaging for this package.\nNote : In the event the full Microchip part number cannot be marked on one line, it will\nbe carried over to the next line, thus limiting the number of available\ncharacters for customer-specific information.3e\n3e3e\n3e\n3e\nPIC16F630/676\nDS40039F-page 118  \uf0e3 2010 Microchip Technology Inc.14.2 Package Details\nThe following sections give the technical details of the\npackages.\n/g20/g23/g16/g47/g72/g68/g71/g3/g51/g79/g68/g86/g87/g76/g70/g3/g39/g88/g68/g79/g3/g44/g81/g16/g47/g76/g81/g72/g3/g11/g51/g12/g3/g177/g3/g22/g19/g19/g3/g80/g76/g79/g3/g37/g82/g71/g92/g3/g62/g51/g39/g44/g51/g64\n/g49/g82/g87/g72/g86/g29\n/g20/g17 /g51/g76/g81/g3/g20/g3/g89/g76/g86/g88/g68/g79/g3/g76/g81/g71/g72/g91/g3/g73/g72/g68/g87/g88/g85/g72/g3/g80/g68/g92/g3/g89/g68/g85/g92/g15/g3/g69/g88/g87/g3/g80/g88/g86/g87/g3/g69/g72/g3/g79/g82/g70/g68/g87/g72/g71/g3/g90/g76/g87/g75/g3/g87/g75/g72/g3/g75/g68/g87/g70/g75/g72/g71/g3/g68/g85/g72/g68/g17\n/g21/g17 /g134/g3/g54/g76/g74/g81/g76/g73/g76/g70/g68/g81/g87/g3/g38/g75/g68/g85/g68/g70/g87/g72/g85/g76/g86/g87/g76/g70/g17\n/g22/g17 /g39/g76/g80/g72/g81/g86/g76/g82/g81/g86/g3/g39/g3/g68/g81/g71/g3/g40/g20/g3/g71/g82/g3/g81/g82/g87/g3/g76/g81/g70/g79/g88/g71/g72/g3/g80/g82/g79/g71/g3/g73/g79/g68/g86/g75/g3/g82/g85/g3/g83/g85/g82/g87/g85/g88/g86/g76/g82/g81/g86/g17/g3/g48/g82/g79/g71/g3/g73/g79/g68/g86/g75/g3/g82/g85/g3/g83/g85/g82/g87/g85/g88/g86/g76/g82/g81/g86/g3/g86/g75/g68/g79/g79/g3/g81/g82/g87/g3/g72/g91/g70/g72/g72/g71/g3/g17/g19/g20/g19/g5/g3/g83/g72/g85/g3/g86/g76/g71/g72/g17/g23/g17 /g39/g76/g80/g72/g81/g86/g76/g82/g81/g76/g81/g74/g3/g68/g81/g71/g3/g87/g82/g79/g72/g85/g68/g81/g70/g76/g81/g74/g3/g83/g72/g85/g3/g36/g54/g48/g40/g3/g60/g20/g23/g17/g24/g48/g17\n/g37/g54/g38/g29/g3/g37/g68/g86/g76/g70/g3/g39/g76/g80/g72/g81/g86/g76/g82/g81/g17/g3/g55/g75/g72/g82/g85/g72/g87/g76/g70/g68/g79/g79/g92/g3/g72/g91/g68/g70/g87/g3/g89/g68/g79/g88/g72/g3/g86/g75/g82/g90/g81/g3/g90/g76/g87/g75/g82/g88/g87/g3/g87/g82/g79/g72/g85/g68/g81/g70/g72/g86/g17/g49/g82/g87/g72/g29 /g41/g82/g85/g3/g87/g75/g72/g3/g80/g82/g86/g87/g3/g70/g88/g85/g85/g72/g81/g87/g3/g83/g68/g70/g78/g68/g74/g72/g3/g71/g85/g68/g90/g76/g81/g74/g86/g15/g3/g83/g79/g72/g68/g86/g72/g3/g86/g72/g72/g3/g87/g75/g72/g3/g48/g76/g70/g85/g82/g70/g75/g76/g83/g3/g51/g68/g70/g78/g68/g74/g76/g81/g74/g3/g54/g83/g72/g70/g76/g73/g76/g70/g68/g87/g76/g82/g81/g3/g79/g82/g70/g68/g87/g72/g71/g3/g68/g87/g3\n/g75/g87/g87/g83/g29/g18/g18/g90/g90/g90/g17/g80/g76/g70/g85/g82/g70/g75/g76/g83/g17/g70/g82/g80/g18/g83/g68/g70/g78/g68/g74/g76/g81/g74\n/g56/g81/g76/g87/g86/g44/g49/g38/g43/g40/g54\n/g39/g76/g80/g72/g81/g86/g76/g82/g81/g3/g47/g76/g80/g76/g87/g86 /g48/g44/g49 /g49/g50/g48 /g48/g36/g59\n/g49/g88/g80/g69/g72/g85/g3/g82/g73/g3/g51/g76/g81/g86/g49 /g20/g23\n/g51/g76/g87/g70/g75 /g72 /g17/g20/g19/g19/g3/g37/g54/g38/g55/g82/g83/g3/g87/g82/g3/g54/g72/g68/g87/g76/g81/g74/g3/g51/g79/g68/g81/g72 /g36 /g177 /g177 /g17/g21/g20/g19\n/g48/g82/g79/g71/g72/g71/g3/g51/g68/g70/g78/g68/g74/g72/g3/g55/g75/g76/g70/g78/g81/g72/g86/g86 /g36/g21 /g17/g20/g20/g24 /g17/g20/g22/g19 /g17/g20/g28/g24\n/g37/g68/g86/g72/g3/g87/g82/g3/g54/g72/g68/g87/g76/g81/g74/g3/g51/g79/g68/g81/g72 /g36/g20 /g17/g19/g20/g24 /g177 /g177\n/g54/g75/g82/g88/g79/g71/g72/g85/g3/g87/g82/g3/g54/g75/g82/g88/g79/g71/g72/g85/g3/g58/g76/g71/g87/g75 /g40 /g17/g21/g28/g19 /g17/g22/g20/g19 /g17/g22/g21/g24\n/g48/g82/g79/g71/g72/g71/g3/g51/g68/g70/g78/g68/g74/g72/g3/g58/g76/g71/g87/g75 /g40/g20 /g17/g21/g23/g19 /g17/g21/g24/g19 /g17/g21/g27/g19/g50/g89/g72/g85/g68/g79/g79/g3/g47/g72/g81/g74/g87/g75 /g39 /g17/g26/g22/g24 /g17/g26/g24/g19 /g17/g26/g26/g24\n/g55/g76/g83/g3/g87/g82/g3/g54/g72/g68/g87/g76/g81/g74/g3/g51/g79/g68/g81/g72 /g47 /g17/g20/g20/g24 /g17/g20/g22/g19 /g17/g20/g24/g19\n/g47/g72/g68/g71/g3/g55/g75/g76/g70/g78/g81/g72/g86/g86 /g70 /g17/g19/g19/g27 /g17/g19/g20/g19 /g17/g19/g20/g24\n/g56/g83/g83/g72/g85/g3/g47/g72/g68/g71/g3/g58/g76/g71/g87/g75 /g69/g20 /g17/g19/g23/g24 /g17/g19/g25/g19 /g17/g19/g26/g19\n/g47/g82/g90/g72/g85/g3/g47/g72/g68/g71/g3/g58/g76/g71/g87/g75 /g69 /g17/g19/g20/g23 /g17/g19/g20/g27 /g17/g19/g21/g21/g50/g89/g72/g85/g68/g79/g79/g3/g53/g82/g90/g3/g54/g83/g68/g70/g76/g81/g74/g3/g3/g134 /g72/g37 /g177 /g177 /g17/g23/g22/g19N\nE1\nDNOTE 1\n12 3\nE\nc\neBA2\nLA\nA1\nb1\nbe\n/g48/g76/g70/g85/g82/g70/g75/g76/g83 /g55/g72/g70/g75/g81/g82/g79/g82/g74/g92 /g39/g85/g68/g90/g76/g81/g74 /g38/g19/g23/g16/g19/g19/g24/g37\n\uf0e3 2010 Microchip Technology Inc. DS40039F-page 119PIC16F630/676\n/g20/g23/g16/g47/g72/g68/g71/g3/g51/g79/g68/g86/g87/g76/g70/g3/g54/g80/g68/g79/g79/g3/g50/g88/g87/g79/g76/g81/g72/g3/g11/g54/g47/g12/g3/g177/g3/g49/g68/g85/g85/g82/g90/g15/g3/g22/g17/g28/g19/g3/g80/g80/g3/g37/g82/g71/g92/g3/g62/g54/g50/g44/g38/g64\n/g49/g82/g87/g72/g86/g29\n/g20/g17 /g51/g76/g81/g3/g20/g3/g89/g76/g86/g88/g68/g79/g3/g76/g81/g71/g72/g91/g3/g73/g72/g68/g87/g88/g85/g72/g3/g80/g68/g92/g3/g89/g68/g85/g92/g15/g3/g69/g88/g87/g3/g80/g88/g86/g87/g3/g69/g72/g3/g79/g82/g70/g68/g87/g72/g71/g3/g90/g76/g87/g75/g76/g81/g3/g87/g75/g72/g3/g75/g68/g87/g70/g75/g72/g71/g3/g68/g85/g72/g68/g17\n/g21/g17 /g134/g3/g54/g76/g74/g81/g76/g73/g76/g70/g68/g81/g87/g3/g38/g75/g68/g85/g68/g70/g87/g72/g85/g76/g86/g87/g76/g70/g17\n/g22/g17 /g39/g76/g80/g72/g81/g86/g76/g82/g81/g86/g3/g39/g3/g68/g81/g71/g3/g40/g20/g3/g71/g82/g3/g81/g82/g87/g3/g76/g81/g70/g79/g88/g71/g72/g3/g80/g82/g79/g71/g3/g73/g79/g68/g86/g75/g3/g82/g85/g3/g83/g85/g82/g87/g85/g88/g86/g76/g82/g81/g86/g17/g3/g48/g82/g79/g71/g3/g73/g79/g68/g86/g75/g3/g82/g85/g3/g83/g85/g82/g87/g85/g88/g86/g76/g82/g81/g86/g3/g86/g75/g68/g79/g79/g3/g81/g82/g87/g3/g72/g91/g70/g72/g72/g71/g3/g19/g17/g20/g24/g3/g80/g80/g3/g83/g72/g85/g3/g86/g76/g71/g72/g17\n/g23/g17 /g39/g76/g80/g72/g81/g86/g76/g82/g81/g76/g81/g74/g3/g68/g81/g71/g3/g87/g82/g79/g72/g85/g68/g81/g70/g76/g81/g74/g3/g83/g72/g85/g3/g36/g54/g48/g40/g3/g60/g20/g23/g17/g24/g48/g17\n/g37/g54/g38/g29 /g37/g68/g86/g76/g70/g3/g39/g76/g80/g72/g81/g86/g76/g82/g81/g17/g3/g55/g75/g72/g82/g85/g72/g87/g76/g70/g68/g79/g79/g92/g3/g72/g91/g68/g70/g87/g3/g89/g68/g79/g88/g72/g3/g86/g75/g82/g90/g81/g3/g90/g76/g87/g75/g82/g88/g87/g3/g87/g82/g79/g72/g85/g68/g81/g70/g72/g86/g17\n/g53/g40/g41/g29 /g53/g72/g73/g72/g85/g72/g81/g70/g72/g3/g39/g76/g80/g72/g81/g86/g76/g82/g81/g15/g3/g88/g86/g88/g68/g79/g79/g92/g3/g90/g76/g87/g75/g82/g88/g87/g3/g87/g82/g79/g72/g85/g68/g81/g70/g72/g15/g3/g73/g82/g85/g3/g76/g81/g73/g82/g85/g80/g68/g87/g76/g82/g81/g3/g83/g88/g85/g83/g82/g86/g72/g86/g3/g82/g81/g79/g92/g17/g49/g82/g87/g72/g29 /g41/g82/g85/g3/g87/g75/g72/g3/g80/g82/g86/g87/g3/g70/g88/g85/g85/g72/g81/g87/g3/g83/g68/g70/g78/g68/g74/g72/g3/g71/g85/g68/g90/g76/g81/g74/g86/g15/g3/g83/g79/g72/g68/g86/g72/g3/g86/g72/g72/g3/g87/g75/g72/g3/g48/g76/g70/g85/g82/g70/g75/g76/g83/g3/g51/g68/g70/g78/g68/g74/g76/g81/g74/g3/g54/g83/g72/g70/g76/g73/g76/g70/g68/g87/g76/g82/g81/g3/g79/g82/g70/g68/g87/g72/g71/g3/g68/g87/g3\n/g75/g87/g87/g83/g29/g18/g18/g90/g90/g90/g17/g80/g76/g70/g85/g82/g70/g75/g76/g83/g17/g70/g82/g80/g18/g83/g68/g70/g78/g68/g74/g76/g81/g74\n/g56/g81/g76/g87/g86/g48/g44/g47/g47/g44/g48/g40/g55/g40/g53/g54\n/g39/g76/g80/g72/g81/g86/g76/g82/g81/g3/g47/g76/g80/g76/g87/g86 /g48/g44/g49 /g49/g50/g48 /g48/g36/g59\n/g49/g88/g80/g69/g72/g85/g3/g82/g73/g3/g51/g76/g81/g86/g49 /g20/g23\n/g51/g76/g87/g70/g75 /g72 /g20/g17/g21/g26/g3/g37/g54/g38/g50/g89/g72/g85/g68/g79/g79/g3/g43/g72/g76/g74/g75/g87 /g36 /g177 /g177 /g20/g17/g26/g24\n/g48/g82/g79/g71/g72/g71/g3/g51/g68/g70/g78/g68/g74/g72/g3/g55/g75/g76/g70/g78/g81/g72/g86/g86 /g36/g21 /g20/g17/g21/g24 /g177 /g177\n/g54/g87/g68/g81/g71/g82/g73/g73/g3/g3/g134 /g36/g20 /g19/g17/g20/g19 /g177 /g19/g17/g21/g24/g50/g89/g72/g85/g68/g79/g79/g3/g58/g76/g71/g87/g75 /g40 /g25/g17/g19/g19/g3/g37/g54/g38\n/g48/g82/g79/g71/g72/g71/g3/g51/g68/g70/g78/g68/g74/g72/g3/g58/g76/g71/g87/g75 /g40/g20 /g22/g17/g28/g19/g3/g37/g54/g38\n/g50/g89/g72/g85/g68/g79/g79/g3/g47/g72/g81/g74/g87/g75 /g39 /g27/g17/g25/g24/g3/g37/g54/g38\n/g38/g75/g68/g80/g73/g72/g85/g3/g11/g82/g83/g87/g76/g82/g81/g68/g79/g12 /g75 /g19/g17/g21/g24 /g177 /g19/g17/g24/g19\n/g41/g82/g82/g87/g3/g47/g72/g81/g74/g87/g75 /g47 /g19/g17/g23/g19 /g177 /g20/g17/g21/g26/g41/g82/g82/g87/g83/g85/g76/g81/g87 /g47/g20 /g20/g17/g19/g23/g3/g53/g40/g41\n/g41/g82/g82/g87/g3/g36/g81/g74/g79/g72 /g73 /g19/g131 /g177 /g27/g131\n/g47/g72/g68/g71/g3/g55/g75/g76/g70/g78/g81/g72/g86/g86 /g70 /g19/g17/g20/g26 /g177 /g19/g17/g21/g24\n/g47/g72/g68/g71/g3/g58/g76/g71/g87/g75 /g69 /g19/g17/g22/g20 /g177 /g19/g17/g24/g20\n/g48/g82/g79/g71/g3/g39/g85/g68/g73/g87/g3/g36/g81/g74/g79/g72/g3/g55/g82/g83 /g68 /g24/g131 /g177 /g20/g24/g131\n/g48/g82/g79/g71/g3/g39/g85/g68/g73/g87/g3/g36/g81/g74/g79/g72/g3/g37/g82/g87/g87/g82/g80 /g69 /g24/g131 /g177 /g20/g24/g131NOTE 1ND\nE\nE1\n1 23\nbe\nA\nA1A2\nL\nL1ch\nhα\nβφ\n/g48/g76/g70/g85/g82/g70/g75/g76/g83 /g55/g72/g70/g75/g81/g82/g79/g82/g74/g92 /g39/g85/g68/g90/g76/g81/g74 /g38/g19/g23/g16/g19/g25/g24/g37\nPIC16F630/676\nDS40039F-page 120  \uf0e3 2010 Microchip Technology Inc./g49/g82/g87/g72/g29 /g41/g82/g85/g3/g87/g75/g72/g3/g80/g82/g86/g87/g3/g70/g88/g85/g85/g72/g81/g87/g3/g83/g68/g70/g78/g68/g74/g72/g3/g71/g85/g68/g90/g76/g81/g74/g86/g15/g3/g83/g79/g72/g68/g86/g72/g3/g86/g72/g72/g3/g87/g75/g72/g3/g48/g76/g70/g85/g82/g70/g75/g76/g83/g3/g51/g68/g70/g78/g68/g74/g76/g81/g74/g3/g54/g83/g72/g70/g76/g73/g76/g70/g68/g87/g76/g82/g81/g3/g79/g82/g70/g68/g87/g72/g71/g3/g68/g87/g3\n/g75/g87/g87/g83/g29/g18/g18/g90/g90/g90/g17/g80/g76/g70/g85/g82/g70/g75/g76/g83/g17/g70/g82/g80/g18/g83/g68/g70/g78/g68/g74/g76/g81/g74\n\uf0e3 2010 Microchip Technology Inc. DS40039F-page 121PIC16F630/676\n/g20/g23/g16/g47/g72/g68/g71/g3/g51/g79/g68/g86/g87/g76/g70/g3/g55/g75/g76/g81/g3/g54/g75/g85/g76/g81/g78/g3/g54/g80/g68/g79/g79/g3/g50/g88/g87/g79/g76/g81/g72/g3/g11/g54/g55/g12/g3/g177/g3/g23/g17/g23/g3/g80/g80/g3/g37/g82/g71/g92/g3/g62/g55/g54/g54/g50/g51/g64\n/g49/g82/g87/g72/g86/g29\n/g20/g17 /g51/g76/g81/g3/g20/g3/g89/g76/g86/g88/g68/g79/g3/g76/g81/g71/g72/g91/g3/g73/g72/g68/g87/g88/g85/g72/g3/g80/g68/g92/g3/g89/g68/g85/g92/g15/g3/g69/g88/g87/g3/g80/g88/g86/g87/g3/g69/g72/g3/g79/g82/g70/g68/g87/g72/g71/g3/g90/g76/g87/g75/g76/g81/g3/g87/g75/g72/g3/g75/g68/g87/g70/g75/g72/g71/g3/g68/g85/g72/g68/g17\n/g21/g17 /g39/g76/g80/g72/g81/g86/g76/g82/g81/g86/g3/g39/g3/g68/g81/g71/g3/g40/g20/g3/g71/g82/g3/g81/g82/g87/g3/g76/g81/g70/g79/g88/g71/g72/g3/g80/g82/g79/g71/g3/g73/g79/g68/g86/g75/g3/g82/g85/g3/g83/g85/g82/g87/g85/g88/g86/g76/g82/g81/g86/g17/g3/g48/g82/g79/g71/g3/g73/g79/g68/g86/g75/g3/g82/g85/g3/g83/g85/g82/g87/g85/g88/g86/g76/g82/g81/g86/g3/g86/g75/g68/g79/g79/g3/g81/g82/g87/g3/g72/g91/g70/g72/g72/g71/g3/g19/g17/g20/g24/g3/g80/g80/g3/g83/g72/g85/g3/g86/g76/g71/g72/g17\n/g22/g17 /g39/g76/g80/g72/g81/g86/g76/g82/g81/g76/g81/g74/g3/g68/g81/g71/g3/g87/g82/g79/g72/g85/g68/g81/g70/g76/g81/g74/g3/g83/g72/g85/g3/g36/g54/g48/g40/g3/g60/g20/g23/g17/g24/g48/g17\n/g37/g54/g38/g29 /g37/g68/g86/g76/g70/g3/g39/g76/g80/g72/g81/g86/g76/g82/g81/g17/g3/g55/g75/g72/g82/g85/g72/g87/g76/g70/g68/g79/g79/g92/g3/g72/g91/g68/g70/g87/g3/g89/g68/g79/g88/g72/g3/g86/g75/g82/g90/g81/g3/g90/g76/g87/g75/g82/g88/g87/g3/g87/g82/g79/g72/g85/g68/g81/g70/g72/g86/g17\n/g53/g40/g41/g29 /g53/g72/g73/g72/g85/g72/g81/g70/g72/g3/g39/g76/g80/g72/g81/g86/g76/g82/g81/g15/g3/g88/g86/g88/g68/g79/g79/g92/g3/g90/g76/g87/g75/g82/g88/g87/g3/g87/g82/g79/g72/g85/g68/g81/g70/g72/g15/g3/g73/g82/g85/g3/g76/g81/g73/g82/g85/g80/g68/g87/g76/g82/g81/g3/g83/g88/g85/g83/g82/g86/g72/g86/g3/g82/g81/g79/g92/g17/g49/g82/g87/g72/g29 /g41/g82/g85/g3/g87/g75/g72/g3/g80/g82/g86/g87/g3/g70/g88/g85/g85/g72/g81/g87/g3/g83/g68/g70/g78/g68/g74/g72/g3/g71/g85/g68/g90/g76/g81/g74/g86/g15/g3/g83/g79/g72/g68/g86/g72/g3/g86/g72/g72/g3/g87/g75/g72/g3/g48/g76/g70/g85/g82/g70/g75/g76/g83/g3/g51/g68/g70/g78/g68/g74/g76/g81/g74/g3/g54/g83/g72/g70/g76/g73/g76/g70/g68/g87/g76/g82/g81/g3/g79/g82/g70/g68/g87/g72/g71/g3/g68/g87/g3\n/g75/g87/g87/g83/g29/g18/g18/g90/g90/g90/g17/g80/g76/g70/g85/g82/g70/g75/g76/g83/g17/g70/g82/g80/g18/g83/g68/g70/g78/g68/g74/g76/g81/g74\n/g56/g81/g76/g87/g86/g48/g44/g47/g47/g44/g48/g40/g55/g40/g53/g54\n/g39/g76/g80/g72/g81/g86/g76/g82/g81/g3/g47/g76/g80/g76/g87/g86 /g48/g44/g49 /g49/g50/g48 /g48/g36/g59\n/g49/g88/g80/g69/g72/g85/g3/g82/g73/g3/g51/g76/g81/g86/g49 /g20/g23\n/g51/g76/g87/g70/g75 /g72 /g19/g17/g25/g24/g3/g37/g54/g38\n/g50/g89/g72/g85/g68/g79/g79/g3/g43/g72/g76/g74/g75/g87 /g36 /g177 /g177 /g20/g17/g21/g19\n/g48/g82/g79/g71/g72/g71/g3/g51/g68/g70/g78/g68/g74/g72/g3/g55/g75/g76/g70/g78/g81/g72/g86/g86 /g36/g21 /g19/g17/g27/g19 /g20/g17/g19/g19 /g20/g17/g19/g24\n/g54/g87/g68/g81/g71/g82/g73/g73/g3 /g36/g20 /g19/g17/g19/g24 /g177 /g19/g17/g20/g24/g50/g89/g72/g85/g68/g79/g79/g3/g58/g76/g71/g87/g75 /g40 /g25/g17/g23/g19/g3/g37/g54/g38\n/g48/g82/g79/g71/g72/g71/g3/g51/g68/g70/g78/g68/g74/g72/g3/g58/g76/g71/g87/g75 /g40/g20 /g23/g17/g22/g19 /g23/g17/g23/g19 /g23/g17/g24/g19\n/g48/g82/g79/g71/g72/g71/g3/g51/g68/g70/g78/g68/g74/g72/g3/g47/g72/g81/g74/g87/g75 /g39 /g23/g17/g28/g19 /g24/g17/g19/g19 /g24/g17/g20/g19\n/g41/g82/g82/g87/g3/g47/g72/g81/g74/g87/g75 /g47 /g19/g17/g23/g24 /g19/g17/g25/g19 /g19/g17/g26/g24\n/g41/g82/g82/g87/g83/g85/g76/g81/g87 /g47/g20 /g20/g17/g19/g19/g3/g53/g40/g41/g41/g82/g82/g87/g3/g36/g81/g74/g79/g72 /g73 /g19/g131 /g177 /g27/g131\n/g47/g72/g68/g71/g3/g55/g75/g76/g70/g78/g81/g72/g86/g86 /g70 /g19/g17/g19/g28 /g177 /g19/g17/g21/g19\n/g47/g72/g68/g71/g3/g58/g76/g71/g87/g75 /g69 /g19/g17/g20/g28 /g177 /g19/g17/g22/g19NOTE 1D\nN\nE\nE1\n12\ne\nb\nc\nA\nA1A2\nL1 Lφ\n/g48/g76/g70/g85/g82/g70/g75/g76/g83 /g55/g72/g70/g75/g81/g82/g79/g82/g74/g92 /g39/g85/g68/g90/g76/g81/g74 /g38/g19/g23/g16/g19/g27/g26/g37\nPIC16F630/676\nDS40039F-page 122  \uf0e3 2010 Microchip Technology Inc.Note: For the most current package drawings, please see the Microchip Packaging Specification located at \nhttp://www.microchip.com/packaging\n\uf0e3 2010 Microchip Technology Inc. DS40039F-page 123PIC16F630/676\nAPPENDIX A: DATA SHEET \nREVISION HISTORY\nRevision A\nThis is a new data sheet.\nRevision B\nAdded characterization graphs.\nUpdated specifications.Added notes to indicate Microchip programmers\nmaintain all calibration bits to factory settings and the\nPIC16F676 ANSEL register must be initialized toconfigure pins as digital I/O.\nRevision C\nRevision D\nUpdated Package Drawings; Replaced PICmicro with\nPIC.\nRevision E (03/2007)\nReplaced Package Drawings (Rev. AM); Replaced\nDevelopment Support Section.\nRevision F (05/2010)\nReplaced Package Drawings (Rev. BD); Replaced\nDevelopment Support Section. APPENDIX B: DEVICE \nDIFFERENCES\nThe differences between the PIC16F630/676 devices\nlisted in this data sheet are shown in Table B-1.\nTABLE B-1: DEVICE DIFFERENCES   \nFeature PIC16F630 PIC16F676\nA/D No Yes\nPIC16F630/676\nDS40039F-page 124  \uf0e3 2010 Microchip Technology Inc.APPENDIX C: DEVICE MIGRATIONS\nThis section is intended to describe the functional and\nelectrical specification differences when migrating\nbetween functionally similar devices (such as from aPIC16C74A to a PIC16C74B).\nNot Applicable    APPENDIX D: MIGRATING FROM \nOTHER PIC® \nDEVICES\nThis discusses some of the issues in migrating from\nother PIC devices to the PIC16F6XX family of devices.\nD.1 PIC12C67X to PIC12F6XX\nTABLE 1: FEATURE COMPARISON\nFeature PIC12C67X PIC16F6XX\nMax Operating Speed 10 MHz 20 MHz\n Max Program Memory 2048 bytes 1024 bytes\nA/D Resolution 8-bit 10-bit\nData EEPROM 16 bytes 64 bytes\nOscillator Modes 5 8\nBrown-out Detect N Y\nInternal Pull-ups RA0/1/3 RA0/1/2/4/5\nInterrupt-on-change RA0/1/3 RA0/1/2/3/4/5\nComparator N Y\nNote: This device has been designed to perform\nto the parameters of its data sheet. It has\nbeen tested to an electrical specification\ndesigned to determine its conformancewith these parameters. Due to process\ndifferences in the manufacture of this\ndevice, this device may have differentperformance characteristics than its earlier\nversion. These differences may cause this\ndevice to perform differently in yourapplication than the earlier version of this\ndevice.\n\uf0d3 2010 Microchip Technology Inc. DS40039F-page 125PIC16F630/676\nINDEX \nA\nA/D...................................................................................... 45\nAcquisition Requirements ........................................... 49\nBlock Diagram............................................................. 45Calculating Acquisition Time....................................... 49\nConfiguration and Operation....................................... 45\nEffects of a Reset........................................................ 50Internal Sampling Switch (Rss) Impedance................ 49\nOperation During Sleep .............................................. 50\nPIC16F675 Converter Characteristics ...................... 103Source Impedance...................................................... 49\nSummary of Registers ................................................ 50\nAbsolute Maximum Ratings ................................................ 85AC Characteristics\nIndustrial and Extended .............................................. 96\nAnalog Input Connection Considerations............................ 42Analog-to-Digital Converter. \nSee A/D\nAssembler\nMPASM Assembler..................................................... 82\nB\nBlock Diagram\nTMR0/WDT Prescaler................................................. 31\nBlock Diagrams\nAnalog Input Mode...................................................... 42\nAnalog Input Model ..................................................... 49\nComparator Output ..................................................... 42Comparator Voltage Reference .................................. 43\nOn-Chip Reset Circuit................................................. 59\nRA0 and RA1 Pins...................................................... 24\nRA2............................................................................. 25\nRA3............................................................................. 25RA4............................................................................. 26\nRA5............................................................................. 26\nRC Oscillator Mode..................................................... 58RC0/RC1/RC2/RC3 Pins ............................................ 28\nRC4 AND RC5 Pins.................................................... 28\nTimer1......................................................................... 34Watchdog Timer.......................................................... 69\nBrown-out\nAssociated Registers .................................................. 62\nBrown-out Detect (BOD) ..................................................... 61\nBrown-out Detect Timing and Characteristics..................... 99\nC\nC Compilers\nMPLAB C18 ................................................................ 82\nCalibrated Internal RC Frequencies.................................... 97\nCLKOUT ............................................................................. 58Code Examples\nChanging Prescaler .................................................... 33\nData EEPROM Read .................................................. 53Data EEPROM Write .................................................. 53\nInitializing PORTA....................................................... 21\nInitializing PORTC....................................................... 28Saving STATUS and W Registers in RAM ................. 68\nWrite Verify ................................................................. 53\nCode Protection .................................................................. 71Comparator ......................................................................... 39\nAssociated Registers .................................................. 44\nConfiguration............................................................... 41Effects of a Reset........................................................ 43\nI/O Operating Modes................................................... 41\nInterrupts..................................................................... 44Operation .................................................................... 40\nOperation During Sleep .............................................. 43Output......................................................................... 42\nReference ................................................................... 43\nResponse Time .......................................................... 43\nComparator Specifications................................................ 102\nComparator Voltage Reference Specifications................. 102\nConfiguration Bits ............................................................... 56Configuring the Voltage Reference..................................... 43\nCrystal Operation................................................................ 57\nCustomer Change Notification Service............................. 129Customer Notification Service .......................................... 129\nCustomer Support............................................................. 129\nD\nData EEPROM Memory\nAssociated Registers/Bits........................................... 54\nCode Protection.......................................................... 54\nEEADR Register......................................................... 51EECON1 Register ...................................................... 51\nEECON2 Register ...................................................... 51\nEEDATA Register....................................................... 51\nData Memory Organization................................................... 9\nDC Characteristics\nExtended and Industrial.............................................. 93Industrial ..................................................................... 88\nDebugger............................................................................ 71\nDevelopment Support......................................................... 81Device Differences............................................................ 123\nDevice Migrations ............................................................. 124\nDevice Overview................................................................... 7\nE\nEEPROM Data Memory\nReading ...................................................................... 53Spurious Write............................................................ 53\nWrite Verify................................................................. 53\nWriting ........................................................................ 53\nElectrical Specifications...................................................... 85\nErrata.................................................................................... 5\nF\nFirmware Instructions ......................................................... 73\nG\nGeneral Purpose Register File ............................................. 9\nI\nID Locations........................................................................ 71\nIn-Circuit Serial Programming............................................. 71Indirect Addressing, INDF and FSR Registers ................... 20\nInstruction Format............................................................... 73\nInstruction Set..................................................................... 73\nADDLW....................................................................... 75\nADDWF ...................................................................... 75\nANDLW....................................................................... 75ANDWF ...................................................................... 75\nBCF ............................................................................ 75\nBSF............................................................................. 75BTFSC........................................................................ 75\nBTFSS........................................................................ 75\nCALL........................................................................... 76CLRF .......................................................................... 76\nCLRW......................................................................... 76\nCLRWDT .................................................................... 76COMF......................................................................... 76\nDECF.......................................................................... 76\nDECFSZ ..................................................................... 77GOTO......................................................................... 77\nINCF ........................................................................... 77\nINCFSZ....................................................................... 77\nPIC16F630/676\nDS40039F-page 126 \uf0d3 2010 Microchip Technology Inc.IORLW ........................................................................77\nIORWF ........................................................................77\nMOVF..........................................................................78MOVLW ......................................................................78\nMOVWF ......................................................................78\nNOP ............................................................................78RETFIE .......................................................................78\nRETLW .......................................................................78\nRETURN .....................................................................79RLF .............................................................................79\nRRF.............................................................................79\nSLEEP ........................................................................79SUBLW .......................................................................79\nSUBWF .......................................................................79\nSWAPF .......................................................................80XORLW.......................................................................80\nXORWF.......................................................................80\nSummary Table...........................................................74\nInternal 4 MHz Oscillator.....................................................58\nInternal Sampling Switch (Rss) Impedance ........................ 49\nInternet Address................................................................129Interrupts.............................................................................65\nA/D Converter .............................................................67\nComparator .................................................................67Context Saving............................................................68\nPORTA........................................................................67\nRA2/INT ......................................................................67Summary of Registers ................................................68\nTMR0 ..........................................................................67\nM\nMCLR ..................................................................................60\nMemory Organization\nData EEPROM Memory..............................................51\nMicrochip Internet Web Site..............................................129\nMigrating from other PICmicro Devices ............................124\nMPLAB ASM30 Assembler, Linker, Librarian ..................... 82MPLAB Integrated Development Environment Software .... 81\nMPLAB PM3 Device Programmer.......................................84\nMPLAB REAL ICE In-Circuit Emulator System...................83MPLINK Object Linker/MPLIB Object Librarian ..................82\nO\nOPCODE Field Descriptions...............................................73Oscillator Configurations.....................................................57Oscillator Start-up Timer (OST) ..........................................60\nP\nPackaging .........................................................................117\nDetails .......................................................................118Marking .....................................................................117\nPCL and PCLATH............................................................... 19\nComputed GOTO........................................................19Stack ...........................................................................19\nPinout Descriptions\nPIC16F630....................................................................8PIC16F676....................................................................8\nPORTA\nAdditional Pin Functions .............................................21\nInterrupt-on-Change............................................ 22\nWeak Pull-up.......................................................21\nAssociated Registers ..................................................27Pin Descriptions and Diagrams................................... 24\nPORTA and TRISIO Registers............................................ 21\nPORTC................................................................................28\nAssociated Registers ..................................................29\nPower Control/Status Register (PCON)..............................61\nPower-Down Mode (SLEEP)............................................... 70Power-on Reset (POR)....................................................... 60\nPower-up Timer (PWRT) .................................................... 60\nPrescaler............................................................................. 33\nSwitching Prescaler Assignment ................................ 33\nProgram Memory Organization............................................. 9\nProgramming, Device Instructions...................................... 73\nR\nRC Oscillator....................................................................... 58\nReader Response............................................................. 130\nREAD-MODIFY-WRITE OPERATIONS ............................. 73Registers\nADCON0 (A/D Control)............................................... 47\nADCON1..................................................................... 47CMCON (Comparator Control) ................................... 39\nCONFIG (Configuration Word) ................................... 56\nEEADR (EEPROM Address) ...................................... 51EECON1 (EEPROM Control) ..................................... 52\nEEDAT (EEPROM Data) ............................................ 51\nINTCON (Interrupt Control)......................................... 15IOCA (Interrupt-on-Change PORTA).......................... 23\nMaps\nPIC16F630 ......................................................... 10PIC16F676 ......................................................... 10\nOPTION_REG (Option) ........................................ 14, 32\nOSCCAL (Oscillator Calibration) ................................ 18PCON (Power Control) ............................................... 18\nPIE1 (Peripheral Interrupt Enable 1)........................... 16\nPIR1 (Peripheral Interrupt 1)....................................... 17PORTC ....................................................................... 29\nSTATUS ..................................................................... 13\nT1CON (Timer1 Control) ............................................ 36\nTRISC......................................................................... 29\nVRCON (Voltage Reference Control)......................... 44WPUA (Weak Pull-up PORTA)................................... 22\nRESET................................................................................ 59\nRevision History................................................................ 123\nS\nSoftware Simulator (MPLAB SIM) ...................................... 83\nSpecial Features of the CPU .............................................. 55\nSpecial Function Registers................................................. 10\nT\nTime-out Sequence ............................................................ 61\nTimer0................................................................................. 31\nAssociated Registers.................................................. 33External Clock............................................................. 32\nInterrupt ...................................................................... 31\nOperation.................................................................... 31T0CKI ......................................................................... 32\nTimer1\nAssociated Registers.................................................. 37Asynchronous Counter Mode ..................................... 37\nReading and Writing ........................................... 37\nInterrupt ...................................................................... 35Modes of Operations .................................................. 35\nOperation During SLEEP............................................ 37\nOscillator..................................................................... 37Prescaler .................................................................... 35\nTimer1 Module with Gate Control ....................................... 34\nTiming Diagrams\nCLKOUT and I/O ........................................................ 98\nExternal Clock............................................................. 96\nINT Pin Interrupt ......................................................... 67PIC16F675 A/D Conversion (Normal Mode) ............ 104\nPIC16F675 A/D Conversion Timing (Sleep Mode)... 105\n\uf0d3 2010 Microchip Technology Inc. DS40039F-page 127PIC16F630/676\nRESET, Watchdog Timer, Oscillator Start-up Timer and \nPower-up Timer .......................................................... 99\nTime-out Sequence on Power-up (MCLR  not Tied to \nVDD)/\nCase 1 ................................................................ 64\nCase 2 ................................................................ 64\nTime-out Sequence on Power-up (MCLR  Tied \nto V DD) ........................................................................ 64\nTimer0 and Timer1 External Clock ........................... 101Timer1 Incrementing Edge.......................................... 35\nTiming Parameter Symbology............................................. 95\nTRISIO Registers................................................................ 21\nV\nVoltage Reference Accuracy/Error ..................................... 43\nW\nWatchdog Timer\nSummary of Registers ................................................ 69\nWatchdog Timer (WDT) ...................................................... 68\nWWW Address.................................................................. 129\nWWW, On-Line Support ....................................................... 5\nPIC16F630/676\nDS40039F-page 128 \uf0d3 2010 Microchip Technology Inc.NOTES:\n\uf0e3 2010 Microchip Technology Inc. DS40039F-page 129PIC16F630/676\nTHE MICROCHIP WEB SITE\nMicrochip provides online support via our WWW site at\nwww.microchip.com. This web site is used as a means\nto make files and information easily available tocustomers. Accessible by using your favorite Internet\nbrowser, the web site contains the following\ninformation:\n•\nProduct Support  – Data sheets and errata, \napplication notes and sample programs, design \nresources, user’s guides and hardware support \ndocuments, latest software releases and archived software\n•\nGeneral Technical Support  – Frequently Asked \nQuestions (FAQ), technical support requests, \nonline discussion groups, Microchip consultant \nprogram member listing\n•Business of Microchip  – Product selector and \nordering guides, latest Microchip press releases, listing of seminars and events, listings of \nMicrochip sales offices, distributors and factory \nrepresentatives\nCUSTOMER CHANGE NOTIFICATION \nSERVICE\nMicrochip’s customer notification service helps keep\ncustomers current on Microchip products. Subscribers\nwill receive e-mail notification whenever there arechanges, updates, revisions or errata related to a\nspecified product family or development tool of interest.\nTo register, access the Microchip web site at\nwww.microchip.com, click on Customer ChangeNotification and follow the registration instructions.CUSTOMER SUPPORT\nUsers of Microchip products can receive assistance\nthrough several channels:\n• Distributor or Representative\n• Local Sales Office\n• Field Application Engineer (FAE)• Technical Support\n• Development Systems Information Line\nCustomers should contact their distributor,\nrepresentative or field application engineer (FAE) for\nsupport. Local sales offices are also available to helpcustomers. A listing of sales offices and locations is\nincluded in the back of this document.\nTechnical support is available through the web site\nat: http://support.microchip.com\nPIC16F630/676\nDS40039F-page 130 \uf0e3 2010 Microchip Technology Inc.READER RESPONSE\nIt is our intention to provide you with the best documentation possible to ensure successful use of your Microchip prod-\nuct.  If you wish to provide your comments on organization, clarity, subject matter, and ways in which our documentation\ncan better serve you, please FAX your comments to the Technical Publications Manager at (480) 792-4150.\nPlease list the following information, and use this outline to provide us with your comments about this document.\nTo: Technical Publications Manager\nRE: Reader ResponseTotal Pages Sent ________\nFrom: Name\nCompany\nAddress\nCity / State / ZIP / Country\nTelephone: (_______) _________ - _________\nApplication (optional):\nWould you like a reply?       Y         N\nDevice: Literature Number: \nQuestions:FAX: (______) _________ - _________\nDS40039F PIC16F630/676\n1. What are the best features of this document?\n2. How does this document meet your hardware and software development needs?3. Do you find the organization of this document easy to follow? If not, why?4. What additions to the document do you think would enhance the structure and subject?5. What deletions from the document could be made without affecting the overall usefulness?6. Is there any incorrect or misleading information (what and where)?7. How would you improve this document?\n\uf0d3 2010 Microchip Technology Inc. DS40039F-page 131PIC16F630/676\nPRODUCT IDENTIFICATION SYSTEM\nTo order or obtain information, e.g., on pricing or delivery, refer to the factory or the listed sales office.\n* JW Devices are UV erasable and can be programmed to any device configuration. JW Devices meet the electrical requirement of\neach oscillator type. PART NO. X /XX XXX\nPattern Package Temperature\nRangeDevice\n   \nDevice: :   Standard V DD range\nT: (Tape and Reel)\nTemperature Range: I =  -40°C to +85°C\nE =  -40°C to +125°C\nPackage: P= P D I P\nSL = SOIC (Gull wing, 3.90 mm body)\nST = TSSOP(4.4 mm)\nPattern: 3-Digit Pattern Code for QTP (blank otherwise)Examples:\na) PIC16F630 – E/P 301 = Extended Temp., PDIP\npackage, 20 MHz, QTP pattern #301\nb) PIC16F676  – I/SL = Industrial Temp., SOIC\npackage, 20 MHz\nDS40039F-page 132 \uf0e3 2010 Microchip Technology Inc.AMERICAS\nCorporate Office\n2355 West Chandler Blvd.\nChandler, AZ  85224-6199\nTel:  480-792-7200  Fax:  480-792-7277\nTechnical Support: \nhttp://support.microchip.comWeb Address: \nwww.microchip.com\nAtlanta\nDuluth, GA \nTel: 678-957-9614 \nFax: 678-957-1455\nBoston\nWestborough, MA  \nTel: 774-760-0087 \nFax: 774-760-0088\nChicago\nItasca, IL  \nTel: 630-285-0071 \nFax: 630-285-0075\nCleveland\nIndependence, OH \nTel: 216-447-0464 \nFax: 216-447-0643\nDallas\nAddison, TX \nTel: 972-818-7423  \nFax: 972-818-2924\nDetroit\nFarmington Hills, MI \nTel: 248-538-2250\nFax: 248-538-2260\nKokomo\nKokomo, IN \nTel: 765-864-8360\nFax: 765-864-8387\nLos Angeles\nMission Viejo, CA \nTel: 949-462-9523  \nFax: 949-462-9608\nSanta Clara\nSanta Clara, CA \nTel: 408-961-6444Fax: 408-961-6445\nToronto\nMississauga, Ontario, \nCanadaTel: 905-673-0699  \nFax:  905-673-6509ASIA/PACIFIC\nAsia Pacific Office\nSuites 3707-14, 37th Floor\nTower 6, The Gateway\nHarbour City, KowloonHong Kong\nTel: 852-2401-1200\nFax: 852-2401-3431\nAustralia - Sydney\nTel: 61-2-9868-6733\nFax: 61-2-9868-6755\nChina - Beijing\nTel: 86-10-8528-2100 \nFax: 86-10-8528-2104\nChina - Chengdu\nTel: 86-28-8665-5511\nFax: 86-28-8665-7889\nChina - Chongqing\nTel: 86-23-8980-9588\nFax: 86-23-8980-9500\nChina - Hong Kong SAR\nTel: 852-2401-1200  \nFax: 852-2401-3431\nChina - Nanjing\nTel: 86-25-8473-2460\nFax: 86-25-8473-2470\nChina - Qingdao\nTel: 86-532-8502-7355\nFax: 86-532-8502-7205\nChina - Shanghai\nTel: 86-21-5407-5533  \nFax: 86-21-5407-5066\nChina - Shenyang\nTel: 86-24-2334-2829Fax: 86-24-2334-2393\nChina - Shenzhen\nTel: 86-755-8203-2660 Fax: 86-755-8203-1760\nChina - Wuhan\nTel: 86-27-5980-5300Fax: 86-27-5980-5118\nChina - Xian\nTel: 86-29-8833-7252Fax: 86-29-8833-7256\nChina - Xiamen\nTel: 86-592-2388138 Fax: 86-592-2388130\nChina - Zhuhai\nTel: 86-756-3210040 Fax: 86-756-3210049ASIA/PACIFIC\nIndia - Bangalore\nTel: 91-80-3090-4444 \nFax: 91-80-3090-4123\nIndia - New Delhi\nTel: 91-11-4160-8631Fax: 91-11-4160-8632\nIndia - Pune\nTel: 91-20-2566-1512Fax: 91-20-2566-1513\nJapan - Yokohama\nTel: 81-45-471- 6166  Fax: 81-45-471-6122\nKorea - Daegu\nTel: 82-53-744-4301\nFax: 82-53-744-4302\nKorea - Seoul\nTel: 82-2-554-7200\nFax: 82-2-558-5932 or 82-2-558-5934\nMalaysia - Kuala Lumpur\nTel: 60-3-6201-9857Fax: 60-3-6201-9859\nMalaysia - Penang\nTel: 60-4-227-8870Fax: 60-4-227-4068\nPhilippines - Manila\nTel: 63-2-634-9065Fax: 63-2-634-9069\nSingapore\nTel:  65-6334-8870\nFax: 65-6334-8850\nTaiwan - Hsin Chu\nTel: 886-3-6578-300\nFax: 886-3-6578-370\nTaiwan - Kaohsiung\nTel: 886-7-536-4818\nFax: 886-7-536-4803\nTaiwan - Taipei\nTel: 886-2-2500-6610  \nFax: 886-2-2508-0102\nThailand - Bangkok\nTel: 66-2-694-1351Fax: 66-2-694-1350EUROPE\nAustria - WelsTel: 43-7242-2244-39\nFax: 43-7242-2244-393\nDenmark - Copenhagen\nTel: 45-4450-2828 \nFax: 45-4485-2829\nFrance - Paris\nTel: 33-1-69-53-63-20  \nFax: 33-1-69-30-90-79\nGermany - Munich\nTel: 49-89-627-144-0 \nFax: 49-89-627-144-44\nItaly - Milan \nTel: 39-0331-742611  \nFax: 39-0331-466781\nNetherlands - Drunen\nTel: 31-416-690399 \nFax: 31-416-690340\nSpain - Madrid\nTel: 34-91-708-08-90\nFax: 34-91-708-08-91\nUK - Wokingham\nTel: 44-118-921-5869\nFax: 44-118-921-5820WORLDWIDE  SALES  AND SERVICE\n01/05/10\nMouser Electronics\n  \nAuthorized Distributor\n \n  \nClick to View Pricing, Inventory, Delivery & Lifecycle Information:\n \n \n \n Microchip:   \n\xa0 PIC16F630T-I/ST\xa0 PIC16F630T-I/SL\xa0 PIC16F676T-I/ST\xa0 PIC16F676T-I/SL\xa0 PIC16F676T-E/SL\xa0 PIC16F630T-E/SL\xa0\nPIC16F630T-E/ST\xa0 PIC16F676T-E/ST\xa0 PIC16F630-I/P\xa0 PIC16F676-I/ST\xa0 PIC16F676-I/SL\xa0 PIC16F630-E/SL\xa0\nPIC16F630-E/ST\xa0 PIC16F676-I/SLG\xa0 PIC16F630-I/SLG\xa0 PIC16F630-I/STG\xa0 PIC16F676-I/P\xa0 PIC16F630-I/PG\xa0\nPIC16F630-I/SL\xa0 PIC16F630-I/ST\xa0 PIC16F676-E/P\xa0 PIC16F630-E/P\xa0 PIC16F630-E/ML\xa0 PIC16F630-I/ML\xa0 PIC16F630T-\nI/ML\xa0 PIC16F676-E/ML\xa0 PIC16F676-I/ML\xa0 PIC16F676T-I/ML\xa0 PIC16F676-E/ST\xa0 PIC16F676-E/SL\n'}]
!==============================================================================!
### Component Summary: PIC16F676-I/SL

**Key Characteristics and Specifications:**

- **Voltage Ratings:**
  - Operating Voltage (VDD): 2.0V to 5.5V
  - Brown-out Detect Voltage (VBOD): 2.0V to 2.175V

- **Current Ratings:**
  - Supply Current (IDD): 
    - 91 µA (typical) at 2.0V, 32 kHz (LP mode)
    - 220 µA (typical) at 4 MHz (XT mode)
    - 340 µA (typical) at 4 MHz (HS mode)
  - Power-down Base Current (IPD): 
    - 0.99 µA (typical) at 2.0V

- **Power Consumption:**
  - Varies with operating conditions; typical values range from 91 µA to 340 µA depending on the oscillator mode and voltage.

- **Operating Temperature Range:**
  - Industrial: -40°C to +85°C
  - Extended: -40°C to +125°C

- **Package Type:**
  - 14-Pin SOIC (Small Outline Integrated Circuit)

- **Special Features:**
  - 10-bit Analog-to-Digital Converter (ADC) with 8 channels (specific to PIC16F676)
  - Internal and external oscillator options
  - Low-power sleep mode
  - Watchdog Timer (WDT)
  - Brown-out Reset (BOD)
  - In-Circuit Serial Programming (ICSP)
  - Code protection features

- **Moisture Sensitive Level (MSL):**
  - MSL is not specified in the provided data.

**Description:**
The PIC16F676-I/SL is a 14-pin, Flash-based, 8-bit CMOS microcontroller from Microchip Technology. It features a high-performance RISC CPU with a wide range of integrated peripherals, including a 10-bit ADC, multiple I/O pins, and various timers. The microcontroller is designed for low-power applications and is suitable for a variety of embedded systems.

**Typical Applications:**
- **Embedded Control Systems:** Used in applications requiring precise control and monitoring, such as home automation, industrial automation, and robotics.
- **Data Acquisition Systems:** The integrated ADC allows for the conversion of analog signals to digital data, making it suitable for sensor interfacing.
- **Consumer Electronics:** Ideal for devices that require low power consumption and efficient processing capabilities.
- **Automotive Applications:** Can be used in automotive control systems due to its robustness and reliability in varying temperature conditions.

This microcontroller is particularly well-suited for applications that require a combination of analog and digital processing capabilities, making it a versatile choice for engineers and developers in various fields.