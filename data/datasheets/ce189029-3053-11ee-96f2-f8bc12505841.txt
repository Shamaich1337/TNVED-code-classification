[{'role': 'system', 'content': 'You are a technical specialist with expertise in electronics. Your task is to analyze datasheets for electronic components and provide a concise summary of the product’s key characteristics and specifications. In addition, you need to gather textual information about the component, including its description and typical applications.Instructions:    Identify the correct component in the datasheet using the provided product code.    Summarize key parameters, including:        Voltage ratings        Current ratings        Power consumption        Operating temperature range        Package type        Special features or notes (if applicable)        Moisture Sensetive Level JEDEC J-STD-020E    Provide a short description of the component, including what it is (e.g., transistor, microcontroller, sensor) and its primary function.    Explain typical applications for the component (e.g., power management, signal processing, data storage, etc.).    Be thorough and accurate: Ensure the information corresponds specifically to the product code, as some datasheets cover multiple variants.Your goal is to create a clear and accurate technical summary that includes both key specifications and a description of what the component is used for.'}, {'role': 'user', 'content': "Give me information about the component of ATXMEGA64A1-AU production of ATMEL from the text:Features\n•High-performance, Low-power 8/16 -bit AVR XMEGA Microcontroller\n\x81Non-Volatile Program and Data Memories\n– 64K - 384K Bytes of In-System Self-Programmable Flash\n– 4K - 8K Bytes Boot Section with Independent Lock Bits– 2 KB - 4 KB EEPROM\n– 4 KB - 32 KB Internal SRAM\nExternal Bus Interface for up to 16M bytes SRAM\nExternal Bus Interface for up to 128M bit SDRAM\n\x81Peripheral Features\n– Four-channel DMA Controller with  support for external requests\n– Eight-channel Event System\n– Eight 16-bit Timer/Counters\nFour Timer/Counters with 4 Output Compare or Input Capture channels\nFour Timer/Counters with 2 Output Compare or Input Capture channels\nHigh-Resolution Extension on all Timer/CountersAdvanced Waveform Extension on two Timer/Counters\n– Eight USARTs\nIrDA modulation/demodulation for one USART\n– Four Two-Wire Interfaces with dual address match (I\n2C and SMBus compatible)\n– Four SPI (Serial Peripheral  Interface) peripherals\n– AES and DES Crypto Engine– 16-bit Real Time Counter with separate Oscillator\n– Two Eight-channel, 12-bit, 2 Msps  Analog to Digital Converters\n– Two Two-channel, 12-bit, 1 Msps Digital to Analog Converters– Four Analog Comparators wi th Window compare function\n– External Interrupts on a ll General Purpose I/O pins\n– Programmable Watchdog Timer with Separa te On-chip Ultra Low Power Oscillator\n\x81Special Microcontroller Features\n– Power-on Reset and Programmable Brown-out Detection\n– Internal and External Clock Options with PLL and Prescaler– Programmable Multi-level Interrupt Controller\n– Sleep Modes: Idle, Power-down, Stan dby, Power-save, Extended Standby\n– Advanced Programming, Test and Debugging Interfaces\nJTAG (IEEE 1149.1 Compliant) Interface for programming, test and debugging\nPDI (Program and Debug Interface) for programming and debugging\n\x81I/O and Packages\n– 78 Programmable I/O Lines\n– 100 - lead TQFP\n– 100 - ball CBGA– 100 - ball VFBGA\n\x81Operating Voltage\n– 1.6 – 3.6V\n\x81Speed performance\n– 0 – 12 MHz @ 1.6 – 3.6V\n– 0 – 32 MHz @ 2.7 – 3.6V\nTypical Applications \n\x81Industrial control \x81Climate control \x81Hand-held battery applications\n\x81Factory automation \x81ZigBee \x81Power tools\n\x81Building control \x81Motor control \x81HVAC\n\x81Board control \x81Networking \x81Metering\n\x81White Goods \x81Optical \x81Medical Applications8/16-bit\nXMEGA A1 \nMicrocontroller \nATxmega384A1\nATxmega256A1\nATxmega192A1\nATxmega128A1\nATxmega64A1\nPreliminary\n 8067J–AVR–02/10\n2\n8067J–AVR–02/10XMEGA A1\n‘\n1. Ordering Information\nNotes: 1. This device can also be supplied in wafer form. Please contact your local Atmel sales office for detailed ordering info rmation.\n2. Pb-free packaging, complies to the European Directive for Restri ction of Hazardous Substances (RoHS directive). Also Halide f ree and fully Green.\n3. For packaging information, see “Packaging information” on page 64 .Ordering Code Flash (B) E2SRAM Speed (MHz) Power Supply Package(1)(2)(3)Temp\nATxmega384A1-AU 384K + 8K 4 KB 32 KB 32 1.6 - 3.6V\n100A\n-40°C - 85°CATxmega256A1-AU 256K + 8K 4 KB 16 KB 32 1.6 - 3.6V\nATxmega192A1-AU 192K + 8K 2 KB 16 KB 32 1.6 - 3.6VATxmega128A1-AU 128K + 8K 2 KB 8 KB 32 1.6 - 3.6V\nATxmega64A1-AU 64K + 4K 2 KB 4 KB 32 1.6 - 3.6V\nATxmega384A1-CU 384K + 8K 4 KB 32 KB 32 1.6 - 3.6V\n100C1ATxmega256A1-CU 256K + 8K 4 KB 16 KB 32 1.6 - 3.6V\nATxmega192A1-CU 192K + 8K 2 KB 16 KB 32 1.6 - 3.6V\nATxmega128A1-CU 128K + 8K 2 KB 8 KB 32 1.6 - 3.6VATxmega64A1-CU 64K + 4K 2 KB 4 KB 32 1.6 - 3.6V\nATxmega128A1-C7U 128K + 8K 2 KB 8 KB 32 1.6 - 3.6V\n100C2\nATxmega64A1-C7U 64K + 4K 2 KB 4 KB 32 1.6 - 3.6V\nPackage Type\n100A 100-lead, 14 x 14 x 1.0 mm, 0.5 mm Lead Pitch, Th in Profile Plastic Quad Flat Package (TQFP)\n100C1 100-ball, 9 x 9 x 1.2 mm Body, Ball Pitch 0.88 mm, Chip Ball Grid Array (CBGA)\n100C2 100-ball, 7 x 7 x 1.0 mm Body, Ball Pitch 0.65 mm, Very Thin Fine-Pitch Ball Grid Array (VFBGA)\n3\n8067J–AVR–02/10XMEGA A1\n2. Pinout/Block Diagram\nFigure 2-1. Block diagram and pinout\nNotes: 1. For full details on pinout and pin functions refer to “Pinout and Pin Functions” on page 49 .\n2. VCC/GND on pin 83/84 are swapped compared to other VCC/ GND to allow easier routin g of GND to 32 kHz crystal.\n3. The large center pad underneath the TQFP package should be  soldered to ground on the board to ensure good mechanical \nstability.INDEX CORNER\nPA6\nPA7\nGND\nAVCC\nPB0PB1PB2PB3PB4PB5PB6PB7\nGND\nVCC\nPC0PC1PC2PC3PC4PC5PC6PC7\nGND\nVCC\nPD0\n26272829303132333435363738394041424344454647484950100\n999897969594939291908988878685848382818079787776757473727170696867666564636261605958575655545352511\n2345678910111213141516171819202122232425\nPD1PD2PD3PD4PD5PD6PD7\nGND\nVCC\nPE0PE1PE2PE3PE4PE5PE6PE7\nGND\nVCC\nPF0PF1PF2PF3PF4PF5PK0VCCGNDPJ7PJ6PJ5PJ4PJ3PJ2PJ1PJ0VCCGNDPH7PH6PH5PH4PH3PH2PH1PH0VCCGNDPF7PF6PA5PA4PA3PA2PA1PA0AVCCGNDPR1PR0RESET/PDIPDIPQ3PQ2PQ1PQ0GNDVCCPK7PK6PK5PK4PK3PK2PK1\nFLASH\nRAM\nE2PROMDMA\nInterrupt Controlle rOCD\nExternal Bus InterfaceADC A\nADC B\nDAC BDAC A\nAC A0\nAC A1\nAC B0\nAC B1Port A\nPort B\nEvent System ctrlPort K\nPort J\nPort HPort Q Port R\nPower\nContro l\nReset\nContro l\nWatchdogOSC/CLK\nContro lBOD POR\nRTC\nEVENT ROUTING NETWORKDATA BU SDATA BU S\nVREF\nTEMP\nPort CCPUT/C0:1\nUSART0:1\nTWISPI\nPort F Port E Port D T/C0:1\nUSART0/1\nTWISPI\nT/C0:1\nUSART0:1\nTWISPI\nT/C0:1\nUSART0:1\nTWISPI\n4\n8067J–AVR–02/10XMEGA A1\nFigure 2-2. CBGA-pinout\nA\nBCDEFGHJK1234567891 0\nA\nBCDEFGHJK1 098765432 1\nTop view Bottom view\nTable 2-1. CBGA-pinout\n1 2 3 4 5 6 789 1 0\nA PK0 VCC GND PJ3 VCC GND PH1 GND VCC PF7\nB PK3 PK2 PK1 PJ4 PH7 PH4 PH2 PH0 PF6 PF5\nC VCC PK5 PK4 PJ5 PJ0 PH5 PH3 PF2 PF3 VCC\nD GND PK6 PK7 PJ6 PJ1 PH6 PF0 PF1 PF4 GND\nE PQ0 PQ1 PQ2 PJ7 PJ2 PE7 PE6 PE5 PE4 PE3\nFPR1 PR0RESET/\nPDIPDI PQ3 PC2 PE2 PE1 PE0 VCC\nG GND PA1 PA4 PB3 PB4 PC1 PC6 PD7 PD6 GND\nH AVCC PA2 PA5 PB2 PB5 PC0 PC5 PD5 PD4 PD3\nJ PA0 PA3 PB0 PB1 PB6 PC3 PC4 PC7 PD2 PD1\nK PA6 PA7 GND AVCC PB7 VCC GND VCC GND PD0\n5\n8067J–AVR–02/10XMEGA A1\n3. Overview\nThe XMEGA™ A1 is a family of low power, high pe rformance and peripheral rich CMOS 8/16-bit\nmicrocontrollers based on the AVR® enhanced RISC architecture. By executing powerful\ninstructions in a single clock cycle, the XM EGA A1 achieves throughputs approaching 1 Million\nInstructions Per Second (MIPS)  per MHz allowing the system desi gner to optimi ze power con-\nsumption versus processing speed.\nThe AVR CPU combines a rich instruction set with 32 general purpose working registers. All the\n32 registers are directly connected to the Arithmetic Logic Unit (ALU), allowing two independentregisters to be accessed in one single instructi on, executed in one clock cycle. The resulting\narchitecture is more code efficient while achi eving throughputs many times faster than conven-\ntional single-accumula tor or CISC based microcontrollers.\nThe XMEGA A1 devices provides the followi ng features: In-System Programmable Flash with\nRead-While-Write capabilities, Internal EEP ROM and SRAM, four-channel DMA Controller,\neight-channel Event System, Programmable Multi-level Interrupt Controller, 78 general purposeI/O lines, 16-bit Real Time Counter (RTC), eight  flexible 16-bit Timer/Counters with compare\nmodes and PWM, eight USARTs, four Two Wire Seri al Interfaces (TWIs), four Serial Peripheral\nInterfaces (SPIs), AES and DES crypto engine, two 8-channel, 12-bit ADCs with optional differ-ential input with programmable gain, two 2-channel, 12-bit DACs, four analog comparators with\nwindow mode, programmable Watchdog Timer with seperate Internal Oscillator, accurate inter-\nnal oscillators with PLL and prescaler and programmable Br own-Out Detection.\nThe Program and Debug Interface (PDI), a fast 2-pin interface for programming and debugging,\nis available. The devices also have an IEEE std. 1149.1 compliant JTAG test interface, and this\ncan also be used for On-chip Debug and programming.\nThe XMEGA A1 devices have five software se lectable power saving modes. The Idle mode\nstops the CPU while allo wing the SRAM, DMA Controller, Even t System, Interrupt Controller and\nall peripherals to continue functioning. The Power-down mode saves the SRAM and registercontents but stops the oscillators, disabling all other functions until the next TWI or pin-change\ninterrupt, or Reset. In Power-save mode, the asynchronous Real Time Counter continues to run,\nallowing the application to maintain a timer base while the rest of the device is sleeping. InStandby mode, the Crystal/Resonator Oscillator is kept running while the rest of the device issleeping. This allows very fast start-up from external crystal combined with low power consump-\ntion. In Extended Standby mode, both the main Oscillator and the Asynchronous Timer continue\nto run. To further reduce power consumption, the peripheral clock to each individual peripheral\ncan optionally be stopped in Active mode and Idle sleep mode.\nThe device is manufactured using Atmel's high-density nonvolatile memory technology. The pro-\ngram Flash memory can be reprogrammed in-system through the PDI or JTAG. A Bootloaderrunning in the device can use any interface to download the application program to the Flash\nmemory. The Bootloader software in the Boot Flash section will continue to run while the Appli-\ncation Flash section is updated, providing true Read-While-Write operation. By combining an8/16-bit RISC CPU with In-Syste m Self-Programmable Flash, th e Atmel XMEGA A1 is a power-\nful microcontroller family that provides a highly flexible and cost effective solution for many\nembedded applications.\nThe XMEGA A1 devices are supported with a full suite of program and system development\ntools including: C compilers, macro assemblers, program debugger/simulators, programmers,\nand evaluation kits.\n6\n8067J–AVR–02/10XMEGA A1\n3.1 Block Diagram\nFigure 3-1. XMEGA A1 Block Diagram\nPower \nSupervision\nPOR/BOD & \nRESETPORT A (8)\nPORT B (8)EVENT ROUTING NETWORK\nEVENT ROUTING NETWORKDMA\nController\nBUS \nControllerSRAM\nEBIADCADACA\nACA\nDACBADCB\nACBOCDInt. Ref.\nPORT K (8)\nPORT J (8)\nPORT H (8)PDI\n          CPU\nPH[0..7]PJ[0..7]PK[0..7]PA[0..7]\nPB[0..7]/\nJTAGWatchdog \nTimerWatchdog\nOscillator\nInterrupt \nController\nDATA BUSDATA BUS\nProg/Debug\nControllerVCC\nGNDOscillator \nCircuits/ \nClock \nGeneration\nOscillator \nControlReal Time\nCounter\nEvent System \nController\nJTAGAREFA\nAREFBPDI_DATARESET/\nPDI_CLK\nPORT BSleep \nController\nFlash EEPROMNVM ControllerDES\nAES\nIRCOM\nPORT C (8)\nPC[0..7]TCC0:1\nUSARTC0:1\nTWICSPIC\nPD[0..7] PE[0..7] PF[0..7]PORT R (2)XTAL1\nXTAL2PR[0..1]\nTOSC1\nTOSC2PQ[0..3]\nPORT Q (4)\nPORT D (8)\nTCD0:1\nUSARTD0:1\nTWIDSPID\nTCF0:1\nUSARTF0:1\nTWIFSPIFTCE0:1\nUSARTE0:1\nTWIESPIE\nPORT E (8) PORT F (8)TemprefVCC/10\n7\n8067J–AVR–02/10XMEGA A1\n4. Resources\nA comprehensive set of development tools, app lication notes and datasheets are available for\ndownload on http:// www.atmel.com/avr.\n4.1 Recommended reading\n\x81 XMEGA A Manual\n\x81 XMEGA A Application NotesThis device data sheet only contains part specific information and a short description of each\nperipheral and module. The XMEGA A Manual describes the modules and peripherals in depth.\nThe XMEGA A application notes contain example code and show applied use of the modulesand peripherals.\nThe XMEGA A Manual and Application Notes are available from http://www.atmel.com/avr.\n5. Disclaimer\nFor devices that are not available yet, typica l values contained in this datasheet are based on\nsimulations and characterization of other AV R XMEGA microcontrollers manufactured on the\nsame process technology. Min. and Max val ues will be available after the device is\ncharacterized.\n8\n8067J–AVR–02/10XMEGA A1\n6. AVR CPU\n6.1 Features\n\x818/16-bit high performan ce AVR RISC Architecture\n– 138 instructions– Hardware multiplier\n\x8132x8-bit registers directly  connected to the ALU\n\x81Stack in SRAM\n\x81Stack Pointer accessible in I/O memory space\n\x81Direct addressing of up to 16M Bytes of program and data memory\n\x81True 16/24-bit access to 16/24-bit I/O registers\n\x81Support for 8-, 16- and 32-bit Arithmetic\n\x81Configuration Change Protection of system critical features\n6.2 Overview\nThe XMEGA A1 uses the 8/16-bit AVR CPU. The main function of the CPU is program execu-\ntion. The CPU must therefore be able to access memories, perform calculations and controlperipherals. Interrupt handling is described in a separate section. Figure 6-1 on page 8  shows\nthe CPU block diagram.\nFigure 6-1. CPU block diagram\nThe AVR uses a Harvard architecture - with separate memories and buses for program and\ndata. Instructions in the program memory are executed with a single level pipeline. While one\ninstruction is being executed, the next instruction is pre-fetched from the program memory. ThisFlash \nProgram \nMemory\nInstruction\nDecodeProgram \nCounter\nOCD32 x 8 General \nPurpose \nRegisters\nALUMultiplier/\nDESInstruction\nRegister\nSTATUS/\nCONTROL\nPeripheral \nModule 1Peripheral \nModule 2EEPROM PMIC SRAMDATA BUSDATA BUS\n9\n8067J–AVR–02/10XMEGA A1\nconcept enables instructions to be executed in every clock cycle. The program memory is In-\nSystem Self-Programmable Flash memory.\n6.3 Register File\nThe fast-access Register File contains 32 x 8- bit general purpose working registers with single\nclock cycle access time. This allows single-cycle Ar ithmetic Logic Unit (ALU ) operation. In a typ-\nical ALU cycle, the operation is performed on two Register File operands, and the result is stored\nback in the Register File.\nSix of the 32 registers can be used as three 16 -bit address register pointers for data space\naddressing - enabling efficient address calculatio ns. One of these address pointers can also be\nused as an address pointer for look up tables in Flash program memory.\n6.4 ALU - Arithmetic Logic Unit\nThe high performance Arithmetic Logic Unit (A LU) supports arithmetic and logic operations\nbetween registers or between a constant and a regi ster. Single register operations can also be\nexecuted. Within a single clock cycle, arithm etic operations between general purpose registers\nor between a register and an immediate are executed. After an arithmetic or logic operation, theStatus Register is updated to reflect information about the result of the operation.\nThe ALU operations are divided into three main categories – arithmetic, logical, and bit-func-\ntions. Both 8- and 16-bit arithmetic is supported,  and the instruction set allows for efficient\nimplementation of 32-bit aritmetic. The ALU also  provides a powerful multiplier supporting both\nsigned and unsigned multiplication and fractional format.\n6.5 Program Flow\nWhen the device is powered on, the CPU starts to execute instructions from the lowest address\nin the Flash Program Memory ‘0’. The Program Counter (PC) addresses the next instruction to\nbe fetched. After a reset, the PC is set to location ‘0’.\nProgram flow is provided by conditional and unconditional jump and call instructions, capable of\naddressing the whole address space directly. Most  AVR instructions use a 16-bit word format,\nwhile a limited number uses a 32-bit format.\nDuring interrupts and subroutine calls, the return address PC is stored on the Stack. The Stack\nis effectively allocated in the general data SRAM, and consequently the Stack size is only limitedby the total SRAM size and the usage of the SR AM. After reset the Stack Pointer (SP) points to\nthe highest address in the internal SRAM. The SP is read/write accessible in the I/O memory\nspace, enabling easy implementation of multiple stacks or stack areas. The data SRAM caneasily be accessed through the five different addressing modes supported in the AVR CPU.\n10\n8067J–AVR–02/10XMEGA A1\n7. Memories\n7.1 Features\n\x81Flash Program Memory\n– One linear address space– In-System Programmable– Self-Programming and Bootloader support\n– Application Section for application code\n– Application Table Section for application code or data storage– Boot Section for application code or bootloader code\n– Separate lock bits and protection for all sections\n– Built in fast CRC check of a selectable flash program memory section\n\x81Data Memory\n– One linear address space\n– Single cycle access from CPU– SRAM\n– EEPROM\nByte and page accessibleOptional memory mapping for direct load and store\n– I/O Memory\nConfiguration and Status register s for all peripherals and modules\n16 bit-accessible General Purpose Regi ster for global variables or flags\n– External Memory support\nSRAMSDRAM\nMemory mapped external hardware\n– Bus arbitration\nSafe and deterministic handling of  CPU and DMA Controller priority\n– Separate buses for SRAM, EEPROM, I/O Memory and External Memory access\nSimultaneous bus access for CPU and DMA Controller\n\x81Production Signature Row Memory for factory programmed data\nDevice ID for each microcontroller device type\nSerial number for each deviceOscillator calibration bytes\nADC, DAC and temperature sensor calibration data\n\x81User Signature Row\nOne flash page in size\nCan be read and written from software\nContent is kept after chip erase\n7.2 Overview\nThe AVR architecture has two main memory s paces, the Program Memory and the Data Mem-\nory. In addition, the XM EGA A1 features an EEPR OM Memory for non-vola tile data storage. All\nthree memory spaces are linear and require no paging. The available me mory size configura-\ntions are shown in “Ordering Information” on page 2 . In addition each device has a Flash\nmemory signature row for calibration data, device identification, serial number etc.\nNon-volatile memory spaces can be locked for further write or read/write operations. This pre-\nvents unrestricted access to the application software.\n11\n8067J–AVR–02/10XMEGA A1\n7.3 In-System Programmable Flash Program Memory\nThe XMEGA A1 devices contain On-chip In-System Programmable Flash memory for program\nstorage, see Figure 7-1 on page 11 . Since all AVR instructions are 16- or 32-bits wide, each\nFlash address location is 16 bits.\nThe Program Flash memory space is divided into  Application and Boot sections. Both sections\nhave dedicated Lock Bits for setting restrictions on write or read/write operations. The Store Pro-\ngram Memory (SPM) instruction must reside in the Boot Section when used to write to the Flash\nmemory.\nA third section inside the Applicat ion section is referred to as the Application Table section which\nhas separate Lock bits for storage of write or read/write protection. The Application Table sec-\ntion can be used for storing non-volatile data or application software.\nThe Application Table Section and Boot Sect ion can also be used for general application\nsoftware.\n7.4 Data Memory\nThe Data Memory consists of the I/O Memory , EEPROM and SRAM memories, all within one\nlinear address space, see Figure 7-2 on page 11 . To simplify development, the memory map for\nall devices in the family is id entical and with empty, reserved memory space for smaller devices.Figure 7-1. Flash Program Memory (Hexadecimal address)\nWord Address\n0 Application Section (Bytes)\n(384K/256K/192K/128K/64K)\n...\n2EFFF / 1EFFF / 16FFF / EFFF / 77FF\n2F000 / 1F000 / 17000 / F000 / 7800 Application Table Section (Bytes)\n(8K/8K/8K/8K/4K) 2FFFF / 1FFFF / 17FFF / FFFF / 7FFF\n30000 / 20000 / 18000 / 10000 / 8000 Boot Section (Bytes)\n(8K/8K/8K/8K/4K) 30FFF / 20FFF / 18F FF / 10FFF / 87FF\nFigure 7-2. Data Memory Map (Hexadecimal address)\nByte Address ATxmega192A1 Byte Address ATxmega128A1 Byte Address ATxmega64A1\n0 I/O Registers\n(4 KB)0 I/O Registers\n(4 KB)0 I/O Registers\n(4 KB) FFF FFF FFF\n1000 EEPROM\n(2 KB)1000 EEPROM\n(2 KB)1000 EEPROM\n(2 KB) 17FF 17FF 17FF\nRESERVED RESERVED RESERVED\n12\n8067J–AVR–02/10XMEGA A1\n7.4.1 I/O Memory\nAll peripherals and modules are addressable through I/O memory locations in the data memory\nspace. All I/O memory locations can be accessed by the Load (LD/LDS/LDD) and Store\n(ST/STS/STD) instructions, transferring data between the 32 general purpose registers in the\nCPU and the I/O Memory.\nThe IN and OUT instructions can address I/O memory locations in the range 0x00 - 0x3F\ndirectly.\nI/O registers within the address range 0x00 - 0x1F  are directly bit-acce ssible using the SBI and\nCBI instructions. The value of single bits can be checked by using the SBIS and SBIC instruc-tions on these registers.\nThe I/O memory address for all peripherals and modules in XMEGA A1 is shown in the “Periph-\neral Module Address Map” on page 58 .\n7.4.2 SRAM Data Memory\nThe XMEGA A1 devices has internal SRAM memory for data storage.\n7.4.3 EEPROM Data Memory\nThe XMEGA A1 devices have internal EEPROM me mory for non-volatile data storage. It is\naddressable either in a separate data space or it can be memory mapped into the normal data\nmemory space. The EEPROM memory supports both byte and page access.2000 Internal SRAM\n(16 KB)2000 Internal SRAM\n(8 KB)2000 Internal SRAM\n(4 KB) 5FFF 3FFF 2FFF\n6000 External Memory\n(0 to 16 MB)4000 External Memory\n(0 to 16 MB)3000 External Memory\n(0 to 16 MB) FFFFFF FFFFFF FFFFFF\nByte Address ATxmega384A1 Byte Address ATxmega256A1\n0 I/O Registers\n(4 KB)0 I/O Registers\n(4 KB) FFF FFF\n1000\nEEPROM\n(4 KB)1000\nEEPROM\n(4 KB)\n1FFF 1FFF\n2000 Internal SRAM\n(32 KB)2000 Internal SRAM\n(16 KB) 9FFF 5FFF\n10000 External Memory\n(0 to 16 MB)6000 External Memory\n(0 to 16 MB) FFFFFF FFFFFFFigure 7-2. Data Memory Map (Hexadecimal address)\n13\n8067J–AVR–02/10XMEGA A1\n7.4.4 EBI - External Bus Interface\n\x81Supports SRAM up to\n– 512K Bytes using 2-port EBI– 16M Bytes using 3-port EBI\n\x81Supports SDRAM up to\n– 128M bit using 3-port EBI\n\x81Four software configurable Chip Selects\n\x81Software configurable Wait State insertion\n\x81Clocked from the Peripheral 2x Clock at up to two times the CPU clock speed\nThe External Bus Interface (EBI) is the interf ace for connecting external peripheral and memory\nto the data memory space. The XMEGA A1 has 3 ports that can be used for the EBI. It can inter-\nface external SRAM, SDRAM, and/or peripherals such as LCD displays and other memory\nmapped devices.\nThe address space, and the number of pins used, for the external memory is selectable from\n256 bytes (8-bit) and up to 16M bytes (24-bit). Various multiplexing modes for address and data\nlines can be selected for optimal use of pins when more or less pins is available for the EBI.\nEach of the four chip selects has seperate configuration, and can be configured for SRAM,\nSRAM Low Pin Count (LPC) or SDRAM. The data memory address space associated for each\nchip select is decided by a configurable base address and address size for each chip celect.\nFor SDRAM both 4-bit SDRAM is supported, a nd SDRAM configurations such as CAS Latency\nand Refresh rate is configurable in software.\nThe EBI is clocked from the Peripheral 2x Cloc k, running up to two times faster than the CPU\nand supporting speeds of up to 64 MHz.\n14\n8067J–AVR–02/10XMEGA A1\n7.5 Production Signature Row\nThe Production Signature Row is a separate memory section for factory programmed data. It\ncontains calibration data for functions such as oscillators  and analog modules.\nThe production signature row also contains a dev ice ID that identify each microcontroller device\ntype, and a serial number that is unique for each manufactured device. The device ID for the\navailable XMEGA A1 devices is shown in Table 7-1 on page 14 . The serial number consist of\nthe production LOT number, wafer number, and wafer coordinates for the device. \nThe production signature row can not be written or erased, but it can be read from both applica-\ntion software and external programming.\nTable 7-1. Device ID bytes for XMEGA A1 devices.\n7.6 User Signature Row\nThe User Signature Row is a separate memory section that is fully accessible (read and write)\nfrom application software and external programming. The user signature row is one flash pagein size, and is meant for static user parameter storage, such as calibration data, custom serial\nnumbers or identification numbers, random number seeds etc. This section is not erased by\nChip Erase commands that erase the Flash, and requires a dedicated erase command. Thisensures parameter storage during multiple program/erase session and on-chip debug sessions.Device Device ID bytes\nByte 2 Byte 1 Byte 0\nATxmega64A1 4E 96 1E\nATxmega128A1 4C 97 1EATxmega192A1 4E 97 1E\nATxmega256A1 46 98 1E\nATxmega384A1 TBD TBD TBD\n15\n8067J–AVR–02/10XMEGA A1\n7.7 Flash and EEPROM Page Size\nThe Flash Program Memory and EEPROM data me mory is organized in pages. The pages are\nword accessible for the Flash and  byte accessible for the EEPROM. \nTable 7-2 on page 15  shows the Flash Program Memory organization. Flash write and erase\noperations are performed on one page at a time, while reading the Flash is done one byte at a\ntime. For Flash access the Z-pointer (Z[m:n]) is used for addressing. The most significant bits in\nthe address (FPAGE) gives the page number and the least significant address bits (FWORD)gives the word in the page.\nTable 7-2. Number of words and Pages in the Flash.\nTable 7-3 on page 15  shows EEPROM memory organiza tion for the XMEGA A1 devices.\nEEPROM write and erase operations can be performed one page or one byte at a time, whilereading the EEPROM is done one byte at a ti me. For EEPROM access the NVM Address Regis-\nter (ADDR[m:n]) is used for addre ssing. The most significant bits in the address (E2PAGE) gives\nthe page number and the least significant address bits (E2BYTE) gives the byte in the page.\nTable 7-3. Number of Bytes and Pages in the EEPROM.Devices Flash Page Size FWORD FPAGE Application Boot\nSize (Bytes) (words) Size (Bytes) No of Pages Size (Bytes) No of Pages\nATxmega64A1 64K + 4K 128 Z[7:1] Z[16:8] 64K 256  4K 16\nATxmega128A1 128K + 8K 256 Z[8:1] Z[17:9] 128K 256  8K 16\nATxmega192A1 192K + 8K 256 Z[8:1] Z[18:9] 192K 384  8K 16ATxmega256A1 256K + 8K 256 Z[8:1] Z[18:9] 256K 512  8K 16\nATxmega384A1 384K + 8K 256 Z[8:1] Z[19:9] 384K 768 8K 16\nDevices EEPROM Page Size E2BYTE E2PAGE No of Pages\nSize (Bytes)\nATxmega64A1 2 KB 32 ADDR[4:0] ADDR[10:5] 64ATxmega128A1 2 KB 32 ADDR[4:0] ADDR[10:5] 64\nATxmega192A1 2 KB 32 ADDR[4:0] ADDR[10:5] 64\nATxmega256A1 4 KB 32 ADDR[4:0] ADDR[11:5] 128ATxmega384A1 4 KB 32 ADDR[4:0] ADDR[11:5] 128\n16\n8067J–AVR–02/10XMEGA A1\n8. DMAC - Direct Memory Access Controller\n8.1 Features\n\x81Allows High-speed data transfer\n– From memory to peripheral– From memory to memory– From peripheral to memory\n– From peripheral to peripheral\n\x814 Channels\n\x81From 1 byte and up to 16M bytes transfers in a single transaction\n\x81Multiple addressing modes for so urce and destination address\n–I n c r e m e n t– Decrement\n– Static\n\x811, 2, 4, or 8 byte Burst Transfers\n\x81Programmable priority between channels\n8.2 Overview\nThe XMEGA A1 has a Direct Memory Access (DMA) Controller to move data between memories\nand peripherals in the data space. The DMA controller uses the same data bus as the CPU totransfer data.\nIt has 4 channels that can be configured independently. Each DMA channel can perform data\ntransfers in blocks of configurable size from 1 to 64K bytes. A repeat counter can be used torepeat each block transfer for single transactions up to 16M bytes. Each DMA channel can be\nconfigured to access the source and destination memory address with incrementing, decrement-\ning or static addressing. The addressing is independent for source and destination address.When the transaction is complete the original source and destination address can automatically\nbe reloaded to be ready for the next transaction.\nThe DMAC can access all the peripherals through their I/O memory registers, and the DMA may\nbe used for automatic transfer of data to/from communication modules, as well as automaticdata retrieval from ADC conversions, data transfer to DAC conversions, or data transfer to or\nfrom port pins. A wide range of transfer triggers is available from the peripherals, Event System\nand software. Each DMA channel has different transfer triggers.\nTo allow for continuous transfers, two channels can be interlinked so that the second takes over\nthe transfer when the first is finished and vice versa.\nThe DMA controller can read from memory ma pped EEPROM, but it cannot write to the\nEEPROM or access the Flash.\n17\n8067J–AVR–02/10XMEGA A1\n9. Event System\n9.1 Features\n\x81Inter-peripheral communication and signalling with minimum latency\n\x81CPU and DMA independent operation\n\x818 Event Channels allows for up to 8 signals to be rout ed at the same time\n\x81Events can be generated by\n– Timer/Counters (TCxn)\n– Real Time Counter (RTC)– Analog to Digital Converters (ADCx)\n– Analog Comparators (ACx)\n– Ports (PORTx)– System Clock (Clk\nSYS)\n– Software (CPU)\n\x81Events can be used by\n– Timer/Counters (TCxn)\n– Analog to Digital Converters (ADCx)\n– Digital to Analog Converters (DACx)– Ports (PORTx)\n– DMA Controller (DMAC)\n– IR Communication Module (IRCOM)\n\x81The same event can be used by multip le peripherals for synchronized timing\n\x81Advanced Features\n– Manual Event Generati on from software (CPU)\n– Quadrature Decoding\n– Digital Filtering\n\x81Functions in Active and Idle mode\n9.2 Overview\nThe Event System is a set of features for inter-peripheral communication. It enables the possibil-\nity for a change of state in one peripheral to automatically trigger actions in one or more\nperipherals. These changes in a periphe ral that will trigger actions in other perip herals are con-\nfigurable by software. It is a simple, but powerfu l system as it allows for autonomous control of\nperipherals without any use of interrupts, CPU or DMA resources.\nThe indication of a change in a peripheral is re ferred to as an event, and is usually the same as\nthe interrupt conditions for that peripheral. Events are passed between peripherals using a dedi-cated routing network called the Event Routing Network. Figure 9-1 on page 18  shows a basic\nblock diagram of the Event System with the Event Routing Network and the peripherals to which\nit is connected. This highly flexible system can be used for simple routing of signals, pin func-\ntions or for sequencing of events.\nThe maximum latency is two CPU clock cycles from when an event is generated in one periph-\neral, until the actions are triggered in one or more other peripherals.\nThe Event System is functional in both Active and Idle modes.\n18\n8067J–AVR–02/10XMEGA A1\nFigure 9-1. Event system block diagram.\nThe Event Routing Network can directly connect together ADCs, DACs, Analog Comparators\n(ACx), I/O ports (PORTx), the Real-time Counter (RTC), Timer/Counters (T/C) and the IR Com-\nmunication Module (IRCOM). Events can also be generated from software (CPU).\nAll events from all peripherals are always routed into the Event Routing Network. This consist of\neight multiplexers where each can be configured in software to select which event to be routedinto that event channel. All eight event channels are connected to the peripherals that can use\nevents, and each of these peripherals can be co nfigured to use events from one or more event\nchannels to automatically trigger a software selectable action.ADCx\nDACx  Event Routing \n NetworkPORTx CPU\nACxRTC\nT/CxnDMAC IRCOMClk SYS\n19\n8067J–AVR–02/10XMEGA A1\n10. System Clock and Clock options\n10.1 Features\n\x81Fast start-up time\n\x81Safe run-time clock switching\n\x81Internal Oscillators:\n– 32 MHz run-time cal ibrated RC oscillator\n– 2 MHz run-time calibrated RC oscillator \n– 32.768 kHz calibrated RC oscillator– 32 kHz Ultra Low Power (ULP) oscillator with 1 kHz ouput\n\x81External clock options\n– 0.4 - 16 MHz Crystal Oscillator– 32 kHz Crystal Oscillator\n– External clock\n\x81PLL with internal and external clock options with 1 to 31x multiplication\n\x81Clock Prescalers with 1 to 2048x division\n\x81Fast peripheral clock running at 2 and 4 times the CPU clock speed\n\x81Automatic Run-Time Calibration of internal oscillators\n\x81Crystal Oscillator failure detection\n10.2 Overview\nXMEGA A1 has an advanced clock system, supporting a large number of clock sources. It incor-\nporates both int egrated oscillators, external crystal osc illators and resonators . A high frequency\nPhase Locked Loop (PLL) and clock prescalers can be controlled from software to generate a\nwide range of clock frequencies from the clock source input.\nIt is possible to switch between clock sources from software during run-time. After reset the\ndevice will always start up running fr om the 2 Mhz inte rnal oscillator.\nA calibration feature is available, and can be used for automatic run-time calibration of the inter-\nnal 2 MHz and 32 MHz oscillators . This reduce frequency drift over voltage and  temperature.\nA Crystal Oscillator Failure M onitor can be enabled to issue a Non-Maskable Interrupt and\nswitch to internal oscillator if  the external oscillator fails. Figure 10-1 on page 20  shows the prin-\ncipal clock system in XMEGA A1.\n20\n8067J–AVR–02/10XMEGA A1\nFigure 10-1. Clock system overview\nEach clock source is briefly described in th e following sub-sections.\n10.3 Clock Options\n10.3.1 32 kHz Ultra Low Power Internal Oscillator\nThe 32 kHz Ultra Low Power (ULP) Internal Oscillator is a very low power consumption clock\nsource. It is used for the Watchdog Timer, Brow n-Out Detection and as an asynchronous clock\nsource for the Real Time Counter. This oscill ator cannot be used as the system clock source,\nand it cannot be directly controlled from software.\n10.3.2 32.768 kHz Calibrated Internal Oscillator\nThe 32.768 kHz Calibrated Internal Oscillator is  a high accuracy clock source that can be used\nas the system clock source or as an asynchronous clock source for the Real Time Counter. It is\ncalibrated during production to provide a default frequency which is close to its nominal\nfrequency.32 MHz\nRun-time Calibrated\nInternal Oscillator32 kHz ULP\nInternal Oscillator\n32.768 kHz \nCalibrated Internal \nOscillator\n32.768 KHz \nCrystal Oscillator\n0.4 - 16 MHz\nCrystal Oscillator2 MHz\nRun-Time Calibrated\nInternal Oscillator\nExternal\nClock InputCLOCK CONTROL \nUNIT \nwith PLL and \nPrescalerWDT/BODclkULP\nRTCclkRTC\nEVSYSPERIPHERALS\nADC\nDAC\nPORTS\n...clkPER\nDMA\nINTERRUPT\nRAM\nNVM MEMORY\nFLASH\nEEPROMCPU\nclkCPU\n21\n8067J–AVR–02/10XMEGA A1\n10.3.3 32.768 kHz Crystal Oscillator\nThe 32.768 kHz Crystal Oscillator is a low power driver for an external watch crystal. It can be\nused as system clock source or as asynchrono us clock source for the Real Time Counter.\n10.3.4 0.4 - 16 MHz Crystal Oscillator\nThe 0.4 - 16 MHz Crystal Oscillator is a driver in tended for driving both  external resonators and\ncrystals ranging from 400 kHz to 16 MHz.\n10.3.5 2 MHz Run-time Calibrated Internal Oscillator\nThe 2 MHz Run-time Calibrated Internal Oscillato r is a high frequency oscillator. It is calibrated\nduring productionn to provide a default frequency which is close to its nominal frequency. The\noscillator can use the 32 kHz Calibra ted Internal Oscillato r or the 32 kHz Crys tal Oscillator as a\nsource for calibrating the frequency run-time to compensate for temperature and voltage drift\nhereby optimizing the ac curacy of the oscillator.\n10.3.6 32 MHz Run-time Calibrated Internal Oscillator\nThe 32 MHz Run-time Calibrated Inte rnal Oscillator is a high frequen cy oscillator. It is calibrated\nduring production to provide a def ault frequency which is close to its nominal frequency. The\noscillator can use the 32 kHz Calibra ted Internal Oscillato r or the 32 kHz Crys tal Oscillator as a\nsource for calibrating the frequency run-time to compensate for temperature and voltage drift\nhereby optimizing the ac curacy of the oscillator.\n10.3.7 External Clock input\nThe external clock input gives the possibility to  connect a clock from an external source.\n10.3.8 PLL with Multiplication factor 1 - 31x\nThe PLL provides the possibility of multiplying a frequency by any number from 1 to 31. In com-\nbination with the prescalers, this gives a wide range of output frequencies from all clock sources.\n22\n8067J–AVR–02/10XMEGA A1\n11. Power Management and Sleep Modes\n11.1 Features\n\x815 sleep modes\n–I d l e\n– Power-down–P o w e r - s a v e–S t a n d b y\n– Extended standby\n\x81Power Reduction registers to disable clocks to unused peripherals\n11.2 Overview\nThe XMEGA A1 provides various sleep modes tailo red to reduce power consumption to a mini-\nmum. All sleep modes are available and can be entered from Active mode. In Active mode the\nCPU is executing application code. The applic ation code decides when and what sleep mode to\nenter. Interrupts from enabled peripherals and all enabled reset sources can restore the micro-\ncontroller from sleep to Active mode.\nIn addition, Power Reduction registers provide a method to stop the clock to individual peripher-\nals from software. When this is done, the current state of the peripheral is frozen and there is no\npower consumption from that peripheral. This reduces the power consumption in Active mode\nand Idle sleep mode.\n11.3 Sleep Modes\n11.3.1 Idle Mode\nIn Idle mode the CPU and Non-Volatile Memory are stopped, but all peripherals including the\nInterrupt Controller, Event System and DMA Controller are kept running. Interrupt requests fromall enabled in terrupts will wake the device.\n11.3.2 Power-down Mode\nIn Power-down mode all system clock sources, and the asynchronous Real Time Counter (RTC)\nclock source, are stopped. This allows operatio n of asynchronous modules only. The only inter-\nrupts that can wake up the MCU are the Two Wire Interface address match interrupts, and\nasynchronous port interrupts, e.g pin change.\n11.3.3 Power-save Mode\nPower-save mode is identical to Power-down, with one exception: If the RTC is enabled, it will\nkeep running during sleep and the device can also wake up from RTC interrupts.\n11.3.4 Standby Mode\nStandby mode is identical to Power-down with  the exception that all enabled system clock\nsources are kept running, while the CPU, Periph eral and RTC clocks are stopped. This reduces\nthe wake-up time when external crystals or resonators are used.\n11.3.5 Extended Standby Mode\nExtended Standby mode is identical to Power-sav e mode with the exception that all enabled\nsystem clock sources are kept ru nning while the CPU and Periph eral clocks are stopped. This\nreduces the wake-up time when external crystals or resonators are used.\n23\n8067J–AVR–02/10XMEGA A1\n12. System Control and Reset\n12.1 Features\n\x81Multiple reset sources for safe operation and device reset\n– Power-On Reset – External Reset– Watchdog Reset\nThe Watchdog Timer runs from separate, dedica ted oscillator\n– Brown-Out Reset\nAccurate, programmable Brown-Out levels\n– PDI reset\n– Software reset\n\x81Asynchronous reset\n– No running clock in the device is required for reset\n\x81Reset status register\n12.2 Resetting the AVR\nDuring reset, all I/O registers are set to their initial values. The SRAM content is not reset. Appli-\ncation execution starts from the Reset Vector. The instruction placed at the Reset Vector should\nbe an Absolute Jump (JMP) instruction to the reset handling routine. By default the Reset Vectoraddress is the lowest Flash program memory address, ‘0’, but it is possible to move the Reset\nVector to the first address in the Boot Section.\nThe I/O ports of the AVR are immediately tri-stated when a reset source goes active.The reset functionality is asynchronous, so no running clock is required to reset the device.\nAfter the device is reset, the reset source can be determined by the application by reading the\nReset Status Register.\n12.3 Reset Sources\n12.3.1 Power-On Reset\nThe MCU is reset when the supp ly voltage VCC is below the Po wer-on Reset threshold voltage.\n12.3.2 External Reset\nThe MCU is reset when a low leve l is present on the RESET pin.\n12.3.3 Watchdog Reset\nThe MCU is reset when the Watchdog Timer pe riod expires and the Watchdog Reset is enabled.\nThe Watchdog Timer runs from a dedicated oscillator independent of the System Clock. For\nmore details see “WDT - Watchdog Timer” on page 24 .\n12.3.4 Brown-Out Reset\nThe MCU is reset when the supply voltage VCC is below the Brown-Out Reset threshold voltage\nand the Brown-out Detector is enabled. The Brown-out threshold voltage is programmable.\n12.3.5 PDI reset\nThe MCU can be reset through the Program and Debug Interface (PDI).\n24\n8067J–AVR–02/10XMEGA A1\n12.3.6 Software reset\nThe MCU can be reset by the CPU writing to a special I/O register through a timed sequence.\n12.4 WDT - Watchdog Timer\n12.4.1 Features\n\x8111 selectable timeout periods, from 8 ms to 8s.\n\x81Two operation modes\n– Standard mode– Window mode\n\x81Runs from the 1 kHz output of th e 32 kHz Ultra Low Power oscillator\n\x81Configuration lock to prevent unwanted changes\n12.4.2 Overview\nThe XMEGA A1 has a Watchdog Timer (WDT). The WDT will run continuously when turned on\nand if the Watchdog Timer is not reset within a software configurable time-out period, the micro-controller will be reset. The Watchdog Reset (WDR) in struction must be run by  software to reset\nthe WDT, and prevent microcontroller reset.\nThe WDT has a Window mode. In this mode the WDR instruction must be run within a specified\nperiod called a window. Application software can set the minimum and maximum limits for this\nwindow. If the WDR instruction is not executed in side the window limits, the microcontroller will\nbe reset.\nA protection mechanism using a timed write se quence is implemented in order to prevent\nunwanted enabling, disabling or change of WDT settings.\nFor maximum safety, the WDT also has an Always-on mode. This mode is enabled by program-\nming a fuse. In Always-on mode, application software can not disable the WDT.\n25\n8067J–AVR–02/10XMEGA A1\n13. PMIC - Programmable Mult i-level Interrupt Controller\n13.1 Features\n\x81Separate interrupt vector for each interrupt\n\x81Short, predictable in terrupt response time\n\x81Programmable Multi-level Interrupt Controller\n– 3 programmable interrupt levels\n– Selectable priority scheme within low level interrupts (round-robin or fixed)\n– Non-Maskable Interrupts (NMI)\n\x81Interrupt vectors can be moved to  the start of the Boot Section\n13.2 Overview\nXMEGA A1 has a Programmable Multi-level Interrupt Controller (PMIC). All peripherals can\ndefine three different priority levels for interrupts; high, medium or low. Medium level interruptsmay interrupt low level interrupt service routines. High level interrupts may interrupt both low-\nand medium level interrupt service routines. Low level interrupts have an optional round robin\nscheme to make sure all interrupts are serviced within a certain amount of time.\nThe built in oscillator failure detection mechanism can issue a Non-Maskable Interrupt (NMI).\n13.3 Interrupt vectors\nWhen an interrupt is serviced, the program counter will ju mp to the interrupt vector address. The\ninterrupt vector is the sum of the peripheral’s base interrupt address and the offset address forspecific interrupts in each peripheral. The base addresses for the XMEGA A1 devices are shown\nin Table 13-1 . Offset addresses for each interrupt available in the peripheral are described for\neach peripheral in the XMEGA A manual. For peripherals or modules that have only one inter-rupt, the interrupt vector is shown in Table 13-1 . The program address is the word address.\nTable 13-1. Reset and Interrupt Vectors\nProgram Address\n(Base Address) Source Interrupt Description\n0x000 RESET0x002 OSCF_INT_vect Crystal Oscillato r Failure Interrupt vector (NMI)\n0x004 PORTC_INT_base Port C Interrupt base\n0x008 PORTR_INT_base Port R Interrupt base\n0x00C DMA_INT_base DMA Controller Interrupt base\n0x014 RTC_INT_base Real Time Counter Interrupt base\n0x018 TWIC_INT_base Two-Wire Interface on Port C Interrupt base\n0x01C TCC0_INT_base Timer/Counter 0 on port C Interrupt base\n0x028 TCC1_INT_base Timer/Counter 1 on port C Interrupt base\n0x030 SPIC_INT_vect SPI on port C Interrupt vector\n0x032 USARTC0_INT_base USART 0 on port C Interrupt base\n0x038 USARTC1_INT_base USART 1 on port C Interrupt base\n0x03E AES_INT_vect AES Interrupt vector\n26\n8067J–AVR–02/10XMEGA A1\n0x040 NVM_INT_base Non-Volatile Memory Interrupt base\n0x044 PORTB_INT_base Port B Interrupt base\n0x048 ACB_INT_base Analog Comparator on Port B Interrupt base\n0x04E ADCB_INT_base Analog to Digital Converter on Port B Interrupt base\n0x056 PORTE_INT_base Port E Interrupt base\n0x05A TWIE_INT_base Two-Wire Interface on Port E Interrupt base\n0x05E TCE0_INT_base Timer/Counter 0 on port E Interrupt base\n0x06A TCE1_INT_base Timer/Counter 1 on port E Interrupt base\n0x072 SPIE_INT_vect SPI on port E Interrupt vector\n0x074 USARTE0_INT_base USART 0 on port E Interrupt base\n0x07A USARTE1_INT_base USART 1 on port E Interrupt base\n0x080 PORTD_INT_base Port D Interrupt base\n0x084 PORTA_INT_base Port A Interrupt base\n0x088 ACA_INT_base Analog Comparator on Port A Interrupt base\n0x08E ADCA_INT_base Analog to Digital Converter on Port A Interrupt base\n0x096 TWID_INT_base Two-Wire Interface on Port D Interrupt base\n0x09A TCD0_INT_base Timer/Counter 0 on port D Interrupt base0x0A6 TCD1_INT_base Timer/Counter 1 on port D Interrupt base\n0x0AE SPID_INT_vector SPI on port D Interrupt vector\n0x0B0 USARTD0_INT_base USART 0 on port D Interrupt base0x0B6 USARTD1_INT_base USART 1 on port D Interrupt base\n0x0BC PORTQ_INT_base Port Q INT base\n0x0C0 PORTH_INT_base Port H INT base0x0C4 PORTJ_INT_base Port J INT base\n0x0C8 PORTK_INT_base Port K INT base\n0x0D0 PORTF_INT_base Port F INT base0x0D4 TWIF_INT_base Two-Wire Interface on Port F INT base\n0x0D8 TCF0_INT_base Timer/Counter 0 on port F Interrupt base\n0x0E4 TCF1_INT_base Timer/Counter 1 on port F Interrupt base\n0x0EC SPIF_INT_vector SPI ion port F Interrupt base\n0x0EE USARTF0_INT_base USART 0 on port F Interrupt base\n0x0F4 USARTF1_INT_base USART 1 on port F Interrupt baseTable 13-1. Reset and Interrupt Vectors (Continued)\nProgram Address\n(Base Address) Source Interrupt Description\n27\n8067J–AVR–02/10XMEGA A1\n14. I/O Ports\n14.1 Features\n\x81Selectable input and output configuration for each pin individually\n\x81Flexible pin configuration through dedicated Pin Configuration Register\n\x81Synchronous and/or asynchronous input sensing with port interrupts and events\n– Sense both edges\n– Sense rising edges\n– Sense falling edges– Sense low level\n\x81Asynchronous wake-up from all input sensing configurations\n\x81Two port interrupts with  flexible pin masking\n\x81Highly configurable output driver and pull settings:\n–     Totem-pole\n–     Pull-up/-down–     Wired-AND\n–     Wired-OR\n–     Bus-keeper–     Inverted I/O\n\x81Optional Slew rate control\n\x81Configuration of multiple pins in a single operation\n\x81Read-Modify-Write  (RMW) support\n\x81Toggle/clear/set registers for Output and Direction registers\n\x81Clock output on port pin\n\x81Event Channel 7 output on port pin\n\x81Mapping of port registers (virtual port s) into bit accessible I/O memory space\n14.2 Overview\nThe XMEGA A1 devices have flexible General Purpose I/O Ports. A port consists of up to 8 pins,\nranging from pin 0 to pin 7. The ports implemen t several functions, including synchronous/asyn-\nchronous input sensing, pin change interrupts and configurable output settings. All functions are\nindividual per pin, but several pins may be configured in a single operation.\n14.3 I/O configuration\nAll port pins (Pn) have programmable output conf iguration. In addition, all port pins have an\ninverted I/O function. For an input, this means in verting the signal between the port pin and the\npin register. For an output, this means invert ing the output signal between the port register and\nthe port pin. The inverted I/O function can be used also when the pin is used for alternate func-tions. The port pins also have configurable sl ew rate limitation to reduce electromagnetic\nemission.\n28\n8067J–AVR–02/10XMEGA A1\n14.3.1 Push-pull\nFigure 14-1. I/O configuration - Totem-pole\n14.3.2 Pull-down\nFigure 14-2. I/O configuration - Totem-pole with pull-down (on input)\n14.3.3 Pull-up\nFigure 14-3. I/O configuration - Totem-pole with pull-up (on input)\n14.3.4 Bus-keeper\nThe bus-keeper’s weak output produces the same logi cal level as the last output level. It acts as\na pull-up if the last leve l was ‘1’, and pull-down if  the last level was ‘0’.INnOUTnDIRn\nPn\nINnOUTnDIRn\nPn\nINnOUTnDIRn\nPn\n29\n8067J–AVR–02/10XMEGA A1\nFigure 14-4. I/O configuration - Totem-pole with bus-keeper\n14.3.5 Others\nFigure 14-5. Output configuration - Wired-OR with optional pull-down\nFigure 14-6. I/O configuration - Wired-AND with optional pull-upINnOUTnDIRn\nPn\nINnOUTn\nPn\nINn\nOUTnPn\n30\n8067J–AVR–02/10XMEGA A1\n14.4 Input sensing\n\x81Sense both edges\n\x81Sense rising edges\n\x81Sense falling edges\n\x81Sense low level\nInput sensing is synchronous or asynchronous  depending on the enabled clock for the ports,\nand the configuration is shown in Figure 14-7 on page 30 .\nFigure 14-7. Input sensing system overview\nWhen a pin is configured with inverted I/O the pin value is inverted before the input sensing.\n14.5 Port Interrupt\nEach ports have two interrupts with seperate priority and interrupt vector. All pins on the port can\nbe individually selected as source for each of the interrupts. The interrupts are then triggered\naccording to the input sense configuration for each pin configured as source for the interrupt.\n14.6 Alternate Port Functions\nIn addition to the input/output functions on all po rt pins, most pins have alternate functions. This\nmeans that other modules or peripherals connected to the port can use the port pins for their\nfunctions, such as communication or pulse-width modulation. “Pinout and Pin Functions” on\npage 49  shows which modules on peripherals that enables alternate functions on a pin, and\nwhat alternate functions that is available on a pin.INVERTED I/OInterrupt \nControlIREQ\nEventPn\nDQ\nRDQ\nRSynchronizer\nINnEDGE \nDETECTAsynchronous sensing\nSynchronous sensing\nEDGE \nDETECT\n31\n8067J–AVR–02/10XMEGA A1\n15. T/C - 16-bit Timer/Counter\n15.1 Features\n\x81Eight 16-bit Timer/Counters\n– Four Timer/Counters of type 0– Four Timer/Counters of type 1\n\x81Four Compare or Capture (CC) Channels in Timer/Counter 0\n\x81Two Compare or Capture (CC) Channels in Timer/Counter 1\n\x81Double Buffered Timer Period Setting\n\x81Double Buffered Compare or Capture Channels\n\x81Waveform Generation:\n– Single Slope Pulse Width Modulation– Dual Slope Pulse Width Modulation\n– Frequency Generation\n\x81Input Capture:\n– Input Capture with Noise Cancelling\n– Frequency capture \n– Pulse width capture– 32-bit input capture\n\x81Event Counter with Direction Control\n\x81Timer Overflow and Timer Error Interrupts and Events\n\x81One Compare Match or Capture Interrupt and Event per CC Channel\n\x81Supports DMA Operation\n\x81Hi-Resolution Extension (Hi-Res)\n\x81Advanced Waveform Extension (AWEX)\n15.2 Overview\nXMEGA A1 has eight Timer/Counters, four Timer/Counter 0 and four Timer/Counter 1. The dif-\nference between them is that Timer/Counter 0 has four Compare/Capture channels, while\nTimer/Counter 1 has two Compare/Capture channels.\nThe Timer/Counters (T/C) are 16-bit and can count any clock, event or external input in the\nmicrocontroller. A programmable prescaler is available to get a useful T/C resolution. Updates ofTimer and Compare registers are double buffered to ensure glitch free operation. Single slope\nPWM, dual slope PWM and frequency generation waveforms can be generated using the Com-\npare Channels.\nThrough the Event System, any input pin or event in the microcontroller can be used to trigger\ninput capture, hence no dedicated pins is requir ed for this. The input capture has a noise cancel-\nler to avoid incorrect capture of the T/C, and can be used to do frequency and pulse widthmeasurements.\nA wide range of interrupt or event sources ar e available, including T/C Overflow, Compare\nmatch and Capture for each Compare/Capture channel in the T/C.\nPORTC, PORTD, PORTE and PORTF each has one Timer/Counter 0 and one Timer/Counter1.\nNotation of these Timer/Counters are TCC0 (Time/Counter C0), TCC1, TCD0, TCD1, TCE0,\nTCE1, TCF0, and TCF1, respectively.\n32\n8067J–AVR–02/10XMEGA A1\nFigure 15-1. Overview of a Timer/Counter and closely related peripherals\nThe Hi-Resolution Extension can be enabled to increase the waveform generation resolution by\n2 bits (4x). This is available for all Timer/Counters. See “Hi-Res - High Resolution Extension” on\npage 34  for more details.\nThe Advanced Waveform Extension can be enabl ed to provide extra and more advanced fea-\ntures for the Timer/Counter. This are only available for Timer/Counter 0. See “AWEX - Advanced\nWaveform Extension” on page 33  for more details.AWeXCompare/Capture Channel D\nCompare/Capture Channel C\nCompare/Capture Channel B\nCompare/Capture Channel A\nWaveform \nGenerationBufferComparator\nHi-ResFault \nProtectionCapture \nControlBase Counter\nCounterControl LogicTimer PeriodPrescaler\nDTI\nDead-Time \nInsertionPattern \nGenerationclk PER4\nPORTEvent \nSystemclk PERTimer/Counter\n33\n8067J–AVR–02/10XMEGA A1\n16. AWEX - Advanced Waveform Extension\n16.1 Features\n\x81Output with complementary output from each Capture channel\n\x81Four Dead Time Insertion (DTI) Un its, one for each Capture channel\n\x818-bit DTI Resolution\n\x81Separate High and Low Side Dead-Time Setting\n\x81Double Buffered Dead-Time\n\x81Event Controlled Fault Protection\n\x81Single Channel Multiple Output Operation (for BLDC motor control)\n\x81Double Buffered Pattern Generation\n16.2 Overview\nThe Advanced Waveform Extension (AWEX) provi des extra features to the Timer/Counter in\nWaveform Generation (WG) modes. The AWEX enables easy and safe implementation of for\nexample, advanced motor control (AC, BLDC, SR , and Stepper) and power control applications.\nAny WG output from a Timer/Counter 0 is split into a complimentary pair of outputs when any\nAWEX feature is enabled. These output pairs go through a Dead-Time Insertion (DTI) unit that\nenables generation of the non-inverted Low Side (LS) and inverted High Side (HS) of the WGoutput with dead time insertion between LS and HS switching. The DTI output will override the\nnormal port value according to the port override setting. Optionally the final output can be\ninverted by using the invert I/O setting for the port pin.\nThe Pattern Generation unit can be used to generate a synchronized bit pattern on the port it is\nconnected to. In addition, the waveform generator output from Compare Channel A can be dis-\ntributed to, and override all port pins. When the Pattern Generator unit is enabled, the DTI unit isbypassed.\nThe Fault Protection unit is connected to the Ev ent System. This enables any event to trigger a\nfault condition that will disable the AWEX outpu t. Several event channels c an be used to trigger\nfault on several different conditions.\nThe AWEX is available for TCC0 and TCE0. Th e notation of these peripherals are AWEXC and\nAWEXE.\n34\n8067J–AVR–02/10XMEGA A1\n17. Hi-Res - High R esolution Extension\n17.1 Features\n\x81Increases Waveform Generator resolution by 2-bits (4x)\n\x81Supports Frequency, single- and dual-slope PWM operation\n\x81Supports the AWEX when this is enable d and used for the same Timer/Counter\n17.2 Overview\nThe Hi-Resolution (Hi-Res) Extension is able to increase the resolution of the waveform genera-\ntion output by a factor of 4. When enabled for a Timer/Counter, the Fast Peripheral clock running\nat four times the CPU clock speed will be as input to th e Timer/Counter. \nThe High Resolution Extension can also be used when an AWEX is enabled and used with a\nTimer/Counter.\nXMEGA A1 devices have four Hi-Res Exte nsions that each can be enabled for each\nTimer/Counters pair on PORTC, PORTD, PORTE and PORTF. The notation of these peripher-als are HIRESC, HIRESD, HIR ESE and HIRESF, respectively.\n35\n8067J–AVR–02/10XMEGA A1\n18. RTC - 16-bit Real-Time Counter\n18.1 Features\n\x8116-bit Timer\n\x81Flexible Tick resolution ranging from 1 Hz to 32.768 kHz\n\x81One Compare register\n\x81One Period register\n\x81Clear timer on Overflow or Compare Match\n\x81Overflow or Compare Match event and interrupt generation\n18.2 Overview\nThe XMEGA A1 includes a 16-bit Real-time Count er (RTC). The RTC can be clocked from an\naccurate 32.768 kHz Crystal Osc illator, the 32.768 kHz Ca librated Internal Osc illator, or from the\n32 kHz Ultra Low Power Internal Oscillator. The RTC includes both a Period and a Compare\nregister. For details, see Figure 18-1 .\nA wide range of Resolution and Time-out periods can be configured using the RTC. With a max-\nimum resolution of 30.5 µs, time-out periods range up to 2000 seconds. With a resolution of 1\nsecond, the maximum time-out period is over 18 hours (65536 seconds).\nFigure 18-1. Real Time Counter overview\n10-bit \nprescalerCounterPeriod\nCompare=\n=Overflow\nCompare Match1 kHz32 kHz\n36\n8067J–AVR–02/10XMEGA A1\n19. TWI - Two-Wire Interface\n19.1 Features\n\x81Four Identical TWI peripherals\n\x81Simple yet Powerful and Flexible Communication Interface\n\x81Both Master and Sla ve Operation Supported\n\x81Device can Operate as Transmitter or Receiver\n\x817-bit Address Space Allows up to 128 Different Slave Addresses\n\x81Multi-master Arbitration Support\n\x81Up to 400 kHz Data Transfer Speed\n\x81Slew-rate Limited Output Drivers\n\x81Noise Suppression  Circuitry Rejects Spikes on Bus Lines\n\x81Fully Programmable Slave Address with General Call Support\n\x81Address Recognition Causes W ake-up when in Sleep Mode\n\x81I2C and System Management Bus (SMBus) compatible\n19.2 Overview\nThe Two-Wire Interface (TWI) is a bi-directio nal wired-AND bus with only two lines, the clock\n(SCL) line and the data (SDA) line. The protocol makes it possible to interconnect up to 128 indi-\nvidually addressable devices. Since it is a mult i-master bus, one or more devices capable of\ntaking control of the bus can be connected.\nThe only external hardware needed to implement the bus is a single pull-up resistor for each of\nthe TWI bus lines. Mechanisms for resolving bus contention are inherent in the TWI protocol.\nPORTC, PORTD, PORTE, and PORTF each has o ne TWI. Notation of these peripherals are\nTWIC, TWID, TWIE, and TWIF, respectively.\n37\n8067J–AVR–02/10XMEGA A1\n20. SPI - Serial Peripheral Interface\n20.1 Features\n\x81Four Identical SPI peripherals\n\x81Full-duplex, Three-wire Synchronous Data Transfer\n\x81Master or Slave Operation\n\x81LSB First or MSB First Data Transfer\n\x81Seven Programmable Bit Rates\n\x81End of Transmission Interrupt Flag\n\x81Write Collision Flag Protection\n\x81Wake-up from Idle Mode\n\x81Double Speed (CK/2) Master SPI Mode\n20.2 Overview\nThe Serial Peripheral Interface (SPI) allows  high-speed full-duplex, synchronous data transfer\nbetween different devices. Devices can communica te using a master-slave scheme, and data is\ntransferred both to and from the devices simultaneously.\nPORTC, PORTD, PORTE, and PORTF each has one SPI. Notation of these peripherals are\nSPIC, SPID, SPIE, and SPIF, respectively.\n38\n8067J–AVR–02/10XMEGA A1\n21. USART\n21.1 Features\n\x81Eight Identical USART peripherals\n\x81Full Duplex Operation (Independent Se rial Receive and Transmit Registers)\n\x81Asynchronous or Synchronous Operation\n\x81Master or Slave Clocked Synchronous Operation\n\x81High-resolution Arithmetic  Baud Rate Generator\n\x81Supports Serial Frames with 5, 6, 7, 8, or 9 Data Bits and 1 or 2 Stop Bits\n\x81Odd or Even Parity Generation and Parity Check Supported by Hardware\n\x81Data OverRun Detection\n\x81Framing Error Detection\n\x81Noise Filtering Includes False Start Bit Detection and Digital Low Pass Filter\n\x81Three Separate Interrupts on  TX Complete, TX Data Register Empty and RX Complete\n\x81Multi-processor Communication Mode\n\x81Double Speed Asynchronous Communication Mode\n\x81Master SPI mode for SPI communication\n\x81IrDA support through the IRCOM module\n21.2 Overview\nThe Universal Synchronous and Asynchronous serial Receiver and Transmitter (USART) is a\nhighly flexible serial communica tion module. The USART supports full duplex communication,\nand both asynchronous and clocked synchronous operation. The USART can also be set inMaster SPI mode to be used for SPI communication.\nCommunication is frame based, and the frame format can be customized to support a wide\nrange of standards. The USART is buffered in both direction, enabling continued data transmis-sion without any delay between frames. There are separate interrupt vectors for receive and\ntransmit complete, enabling fully interrupt driven communication. Frame error and buffer over-\nflow are detected in hardware and indicated with separate status flags. Even or odd paritygeneration and parity check can also be enabled.\nOne USART can use the IRCOM module to suppor t IrDA 1.4 physical compliant pulse modula-\ntion and demodulation for baud rates up to 115.2 kbps.\nPORTC, PORTD, PORTE, and PO RTF each has two USARTs. Notation of these peripherals\nare USARTC0, USARTC1, USARTD0, US ARTD1, USARTE0, USARTE1, USARTF0,\nUSARTF1, respectively.\n39\n8067J–AVR–02/10XMEGA A1\n22. IRCOM - IR Communication Module\n22.1 Features\n\x81Pulse modulation/demodulation for infrared communication\n\x81Compatible to IrDA 1.4 physical for baud rates up to 115.2 kbps\n\x81Selectable pulse modulation scheme\n– 3/16 of baud rate period\n– Fixed pulse period, 8-bit programmable\n– Pulse modulation disabled\n\x81Built in filtering\n\x81Can be connected to and used by one USART at a time\n22.2 Overview\nXMEGA contains an Infrared Communication Module (IRCOM) for IrDA communication with\nbaud rates up to 115.2 kbps. This supports three modulation schemes: 3/16 of baud rate period,\nfixed programmable pulse time based on the Peripheral Clock speed, or pulse modulation dis-\nabled. There is one IRCOM available which can be connected to any USART to enable infrared\npulse coding/decoding for that USART.\n40\n8067J–AVR–02/10XMEGA A1\n23. Crypto Engine\n23.1 Features\n\x81Data Encryption Standard  (DES) CPU instruction\n\x81Advanced Encryption Stan dard (AES) Crypto module\n\x81DES Instruction\n– Encryption and Decryption\n– Single-cycle DES instruction\n– Encryption/Decryption in 16 clock cycles per 8-byte block\n\x81AES Crypto Module\n– Encryption and Decryption\n– Support 128-bit keys– Support XOR data load mode to the State memory for Cipher Block Chaining\n– Encryption/Decryption in 375 clock cycles per 16-byte block\n23.2 Overview\nThe Advanced Encrypti on Standard (AES) and Da ta Encryption Standar d (DES) are two com-\nmonly used encryption st andards. These ar e supported through an AES peripheral module and\na DES CPU instruction. All communication inte rfaces and the CPU ca n optionally use AES and\nDES encrypted communication and data storage.\nDES is supported by a DES instruction in the AVR XMEGA CPU. The 8-byte key and 8-byte\ndata blocks must be loade d into the Register file, and then DES must be executed 16 times to\nencrypt/decrypt the data block.\nThe AES Crypto Module encrypts and decrypts 128-bit data blocks with the use of a 128-bit key.\nThe key and data must be loaded into the key and state memory in the module before encryp-\ntion/decryption is started. It takes 375 peripheral clock cycles before the encryption/decryption isdone and decrypted/encrypted data can be read out, and an optional interrupt can be generated.\nThe AES Crypto Module also has DMA support wit h transfer triggers wh en encryption/decryp-\ntion is done and optional auto-start of encryption/decryption when the state memory is fullyloaded.\n41\n8067J–AVR–02/10XMEGA A1\n24. ADC - 12-bit Analog to Digital Converter\n24.1 Features\n\x81Two ADCs with 12-bit resolution\n\x812 Msps sample rate for each ADC\n\x81Signed and Unsign ed conversions\n\x814 result registers with individual  input channel control for each ADC\n\x818 single ended inputs for each ADC\n\x818x4 differential inputs for each ADC\n\x814 internal inputs:\n–     Integrated Temperature Sensor\n–     DAC Output–     VCC voltage divided by 10\n–     Bandgap voltage\n\x81Software selectable gain of 2, 4, 8, 16, 32 or 64\n\x81Software selectable resolution of 8- or 12-bit.\n\x81Internal or External Reference selection\n\x81Event triggered conversion for accurate timing\n\x81DMA transfer of conversion results\n\x81Interrupt/Event on compare result\n24.2 Overview\nXMEGA A1 devices have two Analog to Digital Converters (ADC), see Figure 24-1 on page 42 .\nThe two ADC modules can be operated simult aneously, individually or synchronized.\nThe ADC converts analog voltages to digital values. The ADC has 12-bit resolution and is capa-\nble of converting up to 2 millio n samples per second. The input selection is flexible, and both\nsingle-ended and differential measurements can be done. For differential measurements an\noptional gain stage is available to increase the dynamic range. In addition several internal signal\ninputs are available. The ADC can provide both signed and unsigned results.\nThis is a pipeline ADC. A pipeline ADC consis ts of several consecutive stages, where each\nstage convert one part of the result. The pipeline design enables high sample rate at low clock\nspeeds, and remove limitations on samples spee d versus propagation delay. This also means\nthat a new analog voltage can be sampled and a new ADC measurement started while otherADC measurements are ongoing.\nADC measurements can either be started by application software or an incoming event from\nanother peripheral in the device. Four different result registers with individual input selection(MUX selection) are provided to make it easier for the application to keep track of the data. Each\nresult register and MUX selection pair is referred to as an ADC Channel. It is possible to use\nDMA to move ADC results directly to memory or peripherals when conversions are done.\nBoth internal and external analog reference volt ages can be used. An accurate internal 1.0V\nreference is available.\nAn integrated temperature sensor is available and the output from this can be measured with the\nADC. The output from the DAC, VCC/10 and the Bandgap voltage can also be measured by the\nADC.\n42\n8067J–AVR–02/10XMEGA A1\nFigure 24-1. ADC overview\nEach ADC has four MUX selection registers with a corresponding result register. This means\nthat four channels can be sampled within 1.5 µs without any intervention by the application other\nthan starting the conversion . The results will be availabl e in the result registers.\nThe ADC may be configured for 8- or 12-bit result, reducing the minimum conversion time (prop-\nagation delay) from 3.5 µs for 12-bit to 2.5 µs for 8-bit result.\nADC conversion results are provided left- or right adjusted with optional ‘1’ or ‘0’ padding. This\neases calculation when the result is represented as a signed integer (signed 16-bit number).\nPORTA and PORTB each has one ADC. Notation of these peripherals are ADCA and ADCB,\nrespectively.ADCChannel A \nRegister\nChannel B \nRegister\nChannel C \nRegister\nChannel D \nRegisterPin inputs Pin inputs1-64 XInternal inputsChannel A MUX selection\nChannel B MUX selection\nChannel C MUX selection\nChannel D MUX selection\nEvent \nTriggerConfiguration\nReference selection\n43\n8067J–AVR–02/10XMEGA A1\n25. DAC - 12-bit Digital to Analog Converter\n25.1 Features\n\x81Two DACs with 12-bit resolution\n\x81Up to 1 Msps conversion rate for each DAC\n\x81Flexible conversion range\n\x81Multiple trigger sources\n\x811 continuous output or 2 Sample and Hold (S/H) outputs for each DAC\n\x81Built-in offset an d gain calibration\n\x81High drive capabilities\n\x81Low Power Mode\n25.2 Overview\nThe XMEGA A1 devices features two 12-bit, 1 Ms ps DACs with built-in offset and gain calibra-\ntion, see Figure 25-1 on page 43 .\nA DAC converts a digital value into an anal og signal. The DAC may use an internal 1.0 voltage\nas the upper limit for conversion, but it is also possible to use the supply voltage or any appliedvoltage in-between. The external reference input is shared with the ADC reference input.\nFigure 25-1. DAC overview\nEach DAC has one continuous output with high dr ive capabilities for both resistive and capaci-\ntive loads. It is also possible to split the continuous time channel into two Sample and Hold (S/H)channels, each with separate data conversion registers.\nA DAC conversion may be started from the applic ation software by writing the data conversion\nregisters. The DAC can also be configured to do conversions triggered by the Event System to\nhave regular timing, independent of the application software. DMA may be used for transferring\ndata from memory locations to DAC data registers.\nThe DAC has a built-in calibration system to reduce offset and gain error when loading with a\ncalibration value from software.\nPORTA and PORTB each has one DAC. Notation of these peripherals are DACA and DACB.\nrespectively.DACChannel A \nRegister\nChannel B \nRegister\nEvent \nTriggerConfiguration\nReference selection\nChannel A\nChannel B\n44\n8067J–AVR–02/10XMEGA A1\n26. AC - Analog Comparator\n26.1 Features\n\x81Four Analog Comparators\n\x81Selectable Power vs. Speed\n\x81Selectable hysteresis\n– 0, 20 mV, 50 mV\n\x81Analog Comparator output available on pin\n\x81Flexible Input Selection\n– All pins on the port\n– Output from the DAC\n– Bandgap reference voltage.– Voltage scaler that can perform a 64-le vel scaling of the internal VCC voltage.\n\x81Interrupt and event generation on\n– Rising edge– Falling edge\n–T o g g l e\n\x81Window function interrupt and event generation on\n– Signal above window\n– Signal inside window\n– Signal below window\n26.2 Overview\nXMEGA A1 features four Analog Comparators (AC). An Analog Comparator compares two volt-\nages, and the output indicates which input is largest. The Analog Comparator may be configured\nto give interrupt requests and/or events upon several different combinations of input change.\nBoth hysteresis and propagation delays may be adjusted in order to find the optimal operation\nfor each application.\nA wide range of input selection is available, both external pins and several internal signals can\nbe used.\nThe Analog Comparators are always grouped in pairs (AC0 and AC1) on each analog port. They\nhave identical behavior but separate control registers.\nOptionally, the state of the comparator is directly available on a pin.PORTA and PORTB each has one AC pair. Notations are ACA and ACB, respectively.\n45\n8067J–AVR–02/10XMEGA A1\nFigure 26-1. Analog comparator overview\nAC0+\n-Pin inputs\nInternal inputs\nPin inputs\nInternal inputs\nVCC scaled\nInterrupt \nsensitivity \ncontrolInterrupts\nAC1+\n-Pin inputs\nInternal inputs\nPin inputs\nInternal inputs\nVCC scaledEventsPin 0 output\n46\n8067J–AVR–02/10XMEGA A1\n26.3 Input Selection\nThe Analog comparators have a very flexible input selection and the two comparators grouped\nin a pair may be used to realize a window function. One pair of analog comparators is shown in\nFigure 26-1 on page 45 .\n\x81Input selection from pin\n– Pin 0, 1, 2, 3, 4, 5, 6 selectable to positive input of analog comparator\n– Pin 0, 1, 3, 5, 7 selectable to  negative input of analog comparator\n\x81Internal signals available on positive analog comparator inputs\n– Output from 12-bit DAC\n\x81Internal signals available on ne gative analog comparator inputs\n– 64-level scaler of the VCC, available on negative analog comparator input\n– Bandgap voltage reference\n– Output from 12-bit DAC\n26.4 Window Function\nThe window function is realized by connecting the external inputs of the two analog comparators\nin a pair as shown in Figure 26-2 .\nFigure 26-2. Analog comparator window function\nAC0+\n-\nAC1+\n-Input signalUpper limit of window\nLower limit of windowInterrupt \nsensitivity \ncontrolInterrupts\nEvents\n47\n8067J–AVR–02/10XMEGA A1\n27. OCD - On-chip Debug\n27.1 Features\n\x81Complete Program Flow Control\n– Go, Stop, Reset, Step into, Step  over, Step out, Run-to-Cursor\n\x81Debugging on C and high-level language source code level\n\x81Debugging on Assembler and disassembler level \n\x811 dedicated program address or source level  breakpoint for AVR Studio / debugger\n\x814 Hardware Breakpoints\n\x81Unlimited Number of User Program Breakpoints\n\x81Unlimited Number of User Data  Breakpoints, with break on:\n– Data location read, write or both read and write– Data location content equal or not equal to a value\n– Data location content is greater or less than a value\n– Data location content is within or outside a range– Bits of a data location are eq ual or not equal to a value\n\x81Non-Intrusive Operation\n– No hardware or software resources in the device are used\n\x81High Speed Operation\n– No limitation on debug/programming clock frequency versus sys tem clock frequency\n27.2 Overview\nThe XMEGA A1 has a powerful On-Chip Debug (OCD) system that - in combination with Atmel’s\ndevelopment tools - provides all the necessary functions to debug an application. It has support\nfor program and data breakpoints, and can debug an application from C and high level language\nsource code level, as well as assembler and disassembler level. It has full Non-Intrusive Opera-tion and no hardware or softw are resources in the device  are used. The ODC system is\naccessed through an external debugging tool which connects to the JTAG or PDI physical inter-\nfaces. Refer to “PDI - Program and Debug Interface” on page 48 .\n48\n8067J–AVR–02/10XMEGA A1\n28. PDI - Program and Debug Interface\n28.1 Features\n\x81PDI - Program and Debug Interface (Atmel proprietary 2-pin interface)\n\x81JTAG Interface (IEEE std. 1149.1 compliant)\n\x81Boundary-scan capabilities according to the IEEE Std. 1149.1 (JTAG)\n\x81Access to the OCD system\n\x81Programming of Flash, EEPR OM, Fuses and Lock Bits\n28.2 Overview\nThe programming and debug facilities are accessed through the JTAG and PDI physical inter-\nfaces. The PDI physical interface uses one dedicated pin together with the Reset pin, and no\ngeneral purpose pins are used. JTAG uses four general purpose pins on PORTB.\nThe PDI is an Atmel proprietary protocol for communication between the microcontroller and\nAtmel’s or third party development tools.\n28.3 IEEE 1149.1 (JTAG) Boundary-scan \nThe JTAG physical layer handles the basic low-level serial communication over four I/O lines\nnamed TMS, TCK, TDI, and TDO. It complies to the IEEE Std. 1149.1 for test access port andboundary scan.\n28.3.1 Boundary-scan Order\nTable 29-12 on page 55  shows the Scan order between TDI and TDO when the Boundary-scan\nchain is selected as data path. Bit 0 is the LSB; the first bit scanned in, and the first bit scanned\nout. The scan order follows the pin-out order. Bit 4, 5, 6 and 7 of Port B is not in the scan chain,\nsince these pins constitute the TAP pins when the JTAG is enabled.\n28.3.2 Boundary-scan Description Language Files\nBoundary-scan Description Language (BSDL) files describe Boundary-scan capable devices in\na standard format used by automated test-generation software. The order and function of bits inthe Boundary-scan Data Register are included in th is description. BSDL files are available for\nATxmega384/256/192/128/64A1 devices.\nSee Table 29-12 on page 55  for ATxmega384/256/192/128/64A1 Boundary Scan Order.\n49\n8067J–AVR–02/10XMEGA A1\n29. Pinout and Pin Functions\nThe pinout of XMEGA A1 is shown in “Pinout/Block Diagram” on page 3 . In addition to general\nI/O functionality, each pin may have several functions. Th is will depend on wh ich peripheral is\nenabled and connected to the actual pin. Only one of the alternate pin functions can be used at\ntime.\n29.1 Alternate Pin F unction Description\nThe tables below shows the notation for all pin functions available and describes its function. \n29.1.1 Operation/Power Supply\n29.1.2 Port Interrupt functions\n29.1.3 Analog functions\n29.1.4 EBI functionsVCC Digital supply voltage\nAVCC Analog supply voltage\nGND Ground\nSYNC Port pin with full synchronous and limited asynchronous interrupt function\nASYNC Port pin with full syn chronous and full asynchro nous interrupt function\nACn Analog Comparator input pin n\nAC0OUT Analog Comparator 0 OutputADCn Analog to Digital Converter input pin n\nDACn Digital to Analog Converter output pin n\nAREF Analog Reference input pin\nAn Address line n\nDn Data line n \nC\nSn Chip Select n\nALEn Address Latch Enable pin n (SRAM)\nRE Read Enable (SRAM)\nWE External Data Memory Write (SRAM /SDRAM)\nBAn Bank Address (SDRAM)\nCAS Column Access Strobe (SDRAM)\nCKE SDRAM Clock Enable (SDRAM)\nCLK SDRAM Clock (SDRAM)\nDQM Data Mask Signal/Output Enable (SDRAM)\n50\n8067J–AVR–02/10XMEGA A1\n29.1.5 Timer/Counter and AWEX functions\n29.1.6 Communication functions\n29.1.7 Oscillators, Clock and Event\n29.1.8 Debug/System functionsRAS Row Access Strobe (SDRAM)\n2P 2 Port Interface3P 3 Port Interface\nOCnx Output Compare Channel x for Timer/Counter n\nO\nCnx Inverted Output Compare Channel x for Timer/Counter n\nOCnxLS Output Compare Channel x Low Side for Timer/Counter n\nOCnxHS Output Compare Channel x High Side for Timer/Counter n\nSCL Serial Clock for TWI\nSDA Serial Data for TWI\nSCLIN Serial Clock In for TWI when external driver interface is enabledSCLOUT Serial Clock Out for TWI when external driver interface is enabled\nSDAIN Serial Data In for TWI when external driver interface is enabled\nSDAOUT Serial Data Out for TWI when ex ternal driver interface is enabled\nXCKn Transfer Clock for USART n\nRXDn Receiver Data for USART n \nTXDn Transmitter Data for USART n S\nS Slave Select for SPI\nMOSI Master Out Slave In for SPI\nMISO Master In Slave Out for SPISCK Serial Clock for SPI\nTOSCn Timer Oscillator pin n\nXTALn Input/Output for inverting Oscillator pin nCLKOUT Peripheral Clock Output\nEVOUT Event Channel 0 Output\nRESET\nReset pin\nPDI_CLK Program and Debug Interface Clock pinPDI_DATA Program and Debug Interface Data pin\nTCK JTAG Test Clock\n51\n8067J–AVR–02/10XMEGA A1\n29.2 Alternate Pin Functions\nThe tables below show the primary/default function for each pin on a port in the first column, the\npin number in the second column, and then all alternate pin functions in the remaining columns.\nThe head row shows what peripheral that enable and use the alternate pin functions.TDI JTAG Test Data In\nTDO JTAG Test Data OutTMS JTAG Test Mode Select\nTable 29-1. Port A - Alternate functions\nPORT A PIN # INTERRUPT ADCA\nPOSADCA\nNEGADCA\nGAINPOSADCA\nGAINNEGACA\nPOSACA\nNEGACA\nOUTDACA REFA\nGND 93\nAVCC 94\nPA0 95 SYNC ADC0 ADC0 ADC0 AC0 AC0 AREF\nPA1 96 SYNC ADC1 ADC1 ADC1 AC1 AC1\nPA2 97 SYNC/ASYNC ADC2 ADC2 ADC2 AC2 DAC0\nPA3 98 SYNC ADC3 ADC3 ADC3 AC3 AC3 DAC1\nPA4 99 SYNC ADC4 ADC4 ADC4 AC4\nPA5 100 SYNC ADC5 ADC5 ADC5 AC5 AC5\nPA6 1 SYNC ADC6 ADC6 ADC6 AC6\nPA7 2 SYNC ADC7 ADC7 ADC7 AC7 AC0OUT\nTable 29-2. Port B - Alternate functions\nPORT B PIN # INTERRUPT ADCB\nPOSADCB\nNEGADCB\nGAINPOSADCB\nGAINNEGACB\nPOSACB\nNEGACB\nOUTDACB REFB JTAG\nGND 3\nAVCC 4\nPB0 5 SYNC ADC0 ADC0 ADC0 AC0 AC0 AREF\nPB1 6 SYNC ADC1 ADC1 ADC1 AC1 AC1\nPB2 7 SYNC/ASYNC ADC2 ADC2 ADC2 AC2 DAC0\nPB3 8 SYNC ADC3 ADC3 ADC3 AC3 AC3 DAC1\nPB4 9 SYNC ADC4 ADC4 ADC4 AC4 TMS\nPB5 10 SYNC ADC5 ADC5 ADC5 AC5 AC5 TDI\nPB6 11 SYNC ADC6 ADC6 ADC6 AC6 TCK\nPB7 12 SYNC ADC7 ADC7 ADC7 AC7 AC0OUT TDO\n52\n8067J–AVR–02/10XMEGA A1\nTable 29-3. Port C - Alternate functions\nPORT C PIN # INTERRUPT TCC0 AWEXC TCC1 USARTC0 USARTC1 SPIC TWIC CLOCKOUT EVENTOUT\nGND 13\nVCC 14\nPC0 15 SYNC OC0A OC0ALS SDA\nPC1 16 SYNC OC0B OC0AHS XCK0 SCL\nPC2 17 SYNC/ASYNC OC0C OC0BLS RXD0\nPC3 18 SYNC OC0D OC0BHS TXD0\nPC4 19 SYNC OC0CLS OC1A SS\nPC5 20 SYNC OC0CHS OC1B XCK1 MOSI\nPC6 21 SYNC OC0DLS RXD1 MISO\nPC7 22 SYNC OC0DHS TXD1 SCK CLKOUT EVOUT\nTable 29-4. Port D - Alternate functions\nPORT D PIN # INTERRUPT TCD0 TCD1 USARTD0 USARTD1 SPID TWID CLOCKOUT EVENTOUT\nGND 23\nVCC 24\nPD0 25 SYNC OC0A SDA\nPD1 26 SYNC OC0B XCK0 SCL\nPD2 27 SYNC/ASYNC OC0C RXD0\nPD3 28 SYNC OC0D TXD0\nPD4 29 SYNC OC1A SS\nPD5 30 SYNC OC1B XCK1 MOSI\nPD6 31 SYNC RXD1 MISO\nPD7 32 SYNC TXD1 SCK CLKOUT EVOUT\nTable 29-5. Port E - Alternate functions\nPORT E PIN # INTERRUPT TCE0 AWEXE TCE1 US ARTE0 USARTE1 SPIE TWIE CLOCKOUT EVENTOUT\nGND 33\nVCC 34\nPE0 35 SYNC OC0A OC0ALS SDA\nPE1 36 SYNC OC0B OC0AHS XCK0 SCL\nPE2 37 SYNC/ASYNC OC0C OC0BLS RXD0\nPE3 38 SYNC OC0D OC0BHS TXD0\nPE4 39 SYNC OC0CLS OC1A SS\nPE5 40 SYNC OC0CHS OC1B XCK1 MOSI\nPE6 41 SYNC OC0DLS RXD1 MISO\nPE7 42 SYNC OC0DHS TXD1 SCK CLKOUT EVOUT\n53\n8067J–AVR–02/10XMEGA A1\nTable 29-6. Port F - Alternate functions\nPORT F PIN # INTERRUPT TCF0 TCF1 USARTF0 USARTF1 SPIF TWIF\nGND 43\nVCC 44\nPF0 45 SYNC OC0A SDA\nPF1 46 SYNC OC0B XCK0 SCL\nPF2 47 SYNC/ASYNC OC0C RXD0\nPF3 48 SYNC OC0D TXD0\nPF4 49 SYNC OC1A SS\nPF5 50 SYNC OC1B XCK1 MOSI\nPF6 51 SYNC RXD1 MISO\nPF7 52 SYNC TXD1 SCK\nTable 29-7. Port H - Alternate functions\nPORT H PIN # INTERRUPT SDRAM 3P SRAM ALE1 3P SRAM  ALE12 3P LPC ALE1 3P LPC ALE1 2P LPC ALE12 2P\nGND 53\nVCC 54\nPH0 55 SYNC WE WE WE WE WE WE\nPH1 56 SYNC CAS RE RE RE RE RE\nPH2 57 SYNC/ASYNC RAS ALE1 ALE1 ALE1 ALE1 ALE1\nPH3 58 SYNC DQM ALE2 ALE2\nPH4 59 SYNC BA0 CS0 /A16 CS0 CS0/A16 CS0 CS0/A16\nPH5 60 SYNC BA1 CS1 /A17 CS1 CS1/A17 CS1 CS1/A17\nPH6 61 SYNC CKE CS2 /A18 CS2 CS2/A18 CS2 CS2/A18\nPH7 62 SYNC CLK CS3 /A19 CS3 CS3/A19 CS3 CS3/A19\nTable 29-8. Port J - Alternate functions\nPORT J PIN # INTERRUPT SDRAM 3P SRAM ALE1 3P SRAM  ALE12 3P LPC ALE1 3P LPC ALE1 2P LPC ALE12 2P\nGND 63\nVCC 64\nPJ0 65 SYNC D0 D0 D0 D0/A0 D0/A0 D0/A0/A8\nPJ1 66 SYNC D1 D1 D1 D1/A1 D1/A1 D1/A1/A9\nPJ2 67 SYNC/ASYNC D2 D2 D2 D2/A2 D2/A2 D2/A2/A10\nPJ3 68 SYNC D3 D3 D3 D3/A3 D3/A3 D3/A3/A11\nPJ4 69 SYNC A8 D4 D4 D4/A4 D4/A4 D4/A4/A12\nPJ5 70 SYNC A9 D5 D5 D5/A5 D5/A5 D5/A5/A13\nPJ6 71 SYNC A10 D6 D6 D6/A6 D6/A6 D6/A6/A14\nPJ7 72 SYNC A11 D7 D7 D7/A7 D7/A7 D7/A7/A15\n54\n8067J–AVR–02/10XMEGA A1\n \nTable 29-9. Port K - Alternate functions\nPORT K PIN # INTERRUPT SDRAM 3P SRAM ALE1 3P SRAM  ALE12 3P LPC ALE1 3P LPC ALE1 2P LPC ALE12 2P\nGND 73\nVCC 74\nPK0 75 SYNC A0 A0/A8 A0/A8/A16 A8\nPK1 76 SYNC A1 A1/A9 A1/A9/A17 A9\nPK2 77 SYNC/ASYNC A2 A2/A10 A2/A10/A18 A10\nPK3 78 SYNC A3 A3/A11 A3/A11/A19 A11\nPK4 79 SYNC A4 A4/A12 A4/A12/A20 A12\nPK5 80 SYNC A5 A5/A13 A5/A13/A21 A13\nPK6 81 SYNC A6 A6/A14 A6/A14/A22 A14\nPK7 82 SYNC A7 A7/A15 A7/A15/A23 A15\nTable 29-10. Port Q - Alternate functions\nPORT Q PIN # INTERRUPT TOSC\nVCC 83\nGND 84\nPQ0 85 SYNC TOSC1\nPQ1 86 SYNC TOSC2\nPQ2 87 SYNC/ASYNC\nPQ3 88 SYNC\nTable 29-11. Port R- Alternate functions\nPORT R PIN # INTERRUPT PDI XTAL\nPDI 89 PDI_DATA\nRESET 90 PDI_CLOCK\nPRO 91 SYNC XTAL2\nPR1 92 SYNC XTAL1\n55\n8067J–AVR–02/10XMEGA A1\nTable 29-12. ATxmega384/256/192/128/64A1 Boundary Scan Order\nBit Number Signal Name Module\n149 PQ3.Bidir\nPORT Q148 PQ3.Control\n147 PQ2.Bidir\n146 PQ2.Control145 PQ1.Bidir\n144 PQ1.Control\n143 PQ0.Bidir142 PQ0.Control\n141 PK7.Bidir\nPORT K140 PK7.Control\n139 PK6.Bidir\n138 PK6.Control\n137 PK5.Bidir136 PK5.Control\n135 PK4.Bidir\n134 PK4.Control133 PK3.Bidir\n132 PK3.Control\n131 PK2.Bidir130 PK2.Control\n129 PK1.Bidir\n128 PK1.Control127 PK0.Bidir\n126 PK0.Control\n125 PJ7.Bidir\nPORT J124 PJ7.Control\n123 PJ6.Bidir\n122 PJ6.Control121 PJ5.Bidir\n120 PJ5.Control\n119 PJ4.Bidir118 PJ4.Control\n117 PJ3.Bidir\n116 PJ3.Control115 PJ2.Bidir\n114 PJ2.Control\n113 PJ1.Bidir112 PJ1.Control\n111 PJ0.Bidir\n110 PJ0.Control109 PH7.Bidir\nPORT H108 PH7.Control\n107 PH6.Bidir106 PH6.Control\n105 PH5.Bidir\n104 PH5.Control103 PH4.Bidir\n102 PH4.Control\n101 PH3.Bidir100 PH3.Control\n99 PH2.Bidir\n98 PH2.Control97 PH1.Bidir\n96 PH1.Control\n95 PH0.Bidir94 PH0.Control\n56\n8067J–AVR–02/10XMEGA A1\n93 PF7.Bidir\nPORT F92 PF7.Control\n91 PF6.Bidir\n90 PF6.Control\n89 PF5.Bidir88 PF5.Control\n87 PF4.Bidir\n86 PF4.Control85 PF3.Bidir\n84 PF3.Control\n83 PF2.Bidir82 PF2.Control\n81 PF1.Bidir\n80 PF1.Control79 PF0.Bidir\n78 PF0.Control\n77 PE7.Bidir\nPORT E76 PE7.Control\n75 PE6.Bidir\n74 PE6.Control73 PE5.Bidir\n72 PE5.Control\n71 PE4.Bidir70 PE4.Control\n69 PE3.Bidir\n68 PE3.Control67 PE2.Bidir\n66 PE2.Control\n65 PE1.Bidir64 PE1.Control\n63 PE0.Bidir\n62 PE0.Control61 PD7.Bidir\nPORT D60 PD7.Control\n59 PD6.Bidir58 PD6.Control\n57 PD5.Bidir\n56 PD5.Control55 PD4.Bidir\n54 PD4.Control\n53 PD3.Bidir52 PD3.Control\n51 PD2.Bidir\n50 PD2.Control49 PD1.Bidir\n48 PD1.Control\n47 PD0.Bidir46 PD0.Control\n45 PC7.Bidir\nPORT C44 PC7.Control\n43 PC6.Bidir\n42 PC6.Control\n41 PC5.Bidir40 PC5.Control\n39 PC4.Bidir\n38 PC4.Control37 PC3.Bidir\n36 PC3.Control\n35 PC2.Bidir34 PC2.Control\n33 PC1.Bidir\n32 PC1.Control31 PC0.Bidir\n30 PC0.ControlBit Number Signal Name Module\n57\n8067J–AVR–02/10XMEGA A1\n29 PB3.Bidir\nPORT B28 PB3.Control\n27 PB2.Bidir\n26 PB2.Control\n25 PB1.Bidir24 PB1.Control\n23 PB0.Bidir\n22 PB0.Control21 PA7.Bidir\nPORT A20 PA7.Control\n19 PA6.Bidir18 PA6.Control\n17 PA5.Bidir\n16 PA5.Control15 PA4.Bidir\n14 PA4.Control\n13 PA3.Bidir12 PA3.Control\n11 PA2.Bidir\n10 PA2.Control9 PA1.Bidir\n8 PA1.Control\n7 PA0.Bidir6 PA0.Control\n5 PR1.Bidir\nPORT R4P R 1 . C o n t r o l\n3 PR0.Bidir\n2P R 0 . C o n t r o l\n1 RESET.Observe_Only RESET0 PDI_DATA.Observe_Only PDI DataBit Number Signal Name Module\n58\n8067J–AVR–02/10XMEGA A1\n30. Peripheral Modu le Address Map\nThe address maps show the base address for each peripheral and module in XMEGA A1. For\ncomplete register description and summary for each peripheral module, refer to the XMEGA A\nManual.\nTable 30-1. Peripheral Module Address Map\nBase Address Name Description\n0x0000 GPIO General Purpose IO Registers\n0x0010 VPORT0 Virtual Port 0\n0x0014 VPORT1 Virtual Port 10x0018 VPORT2 Virtual Port 2\n0x001C VPORT3 Virtual Port 3\n0x0030 CPU CPU0x0040 CLK Clock Control\n0x0048 SLEEP Sleep Controller\n0x0050 OSC Oscillator Control0x0060 DFLLRC32M DFLL for the 32 MHz Internal RC Oscillator\n0x0068 DFLLRC2M DFLL for the 2 MHz RC Oscillator\n0x0070 PR Power Reduction0x0078 RST Reset Controller\n0x0080 WDT Watch-Dog Timer\n0x0090 MCU MCU Control\n0x00A0 PMIC Programmable Multilevel Interrupt Controller\n0x00B0 PORTCFG Port Configuration\n0x00C0 AES AES Module\n0x0100 DMA DMA Controller\n0x0180 EVSYS Event System\n0x01C0 NVM Non Volatile Memory (NVM) Controller\n0x0200 ADCA Analog to Digital Converter on port A\n0x0240 ADCB Analog to Digital Converter on port B\n0x0300 DACA Digital to Analog Converter on port A0x0320 DACB Digital to Analog Converter on port B\n0x0380 ACA Analog Comparator pair on port A\n0x0390 ACB Analog Comparator pair on port B0x0400 RTC Real Time Counter\n0x0440 EBI External Bus Interface\n0x0480 TWIC Two Wire Interface on port C0x0490 TWID Two Wire Interface on port D\n0x04A0 TWIE Two Wire Interface on port E\n0x04B0 TWIF Two Wire Interface on port F\n0x0600 PORTA Port A\n0x0620 PORTB Port B\n0x0640 PORTC Port C0x0660 PORTD Port D\n0x0680 PORTE Port E\n0x06A0 PORTF Port F0x06E0 PORTH Port H\n0x0700 PORTJ Port J\n0x0720 PORTK Port K\n0x07C0 PORTQ Port Q\n0x07E0 PORTR Port R\n0x0800 TCC0 Timer/Counter 0 on port C0x0840 TCC1 Timer/Counter 1 on port C\n0x0880 AWEXC Advanced Waveform Extension on port C\n0x0890 HIRESC High Resolution Extension on port C\n0x08A0 USARTC0 USART 0 on port C\n0x08B0 USARTC1 USART 1 on port C\n0x08C0 SPIC Serial Peripheral Interface on port C\n0x08F8 IRCOM Infrared Communication Module\n0x0900 TCD0 Timer/Counter 0 on port D\n0x0940 TCD1 Timer/Counter 1 on port D0x0990 HIRESD High Resolution Extension on port D\n0x09A0 USARTD0 USART 0 on port D\n0x09B0 USARTD1 USART 1 on port D\n59\n8067J–AVR–02/10XMEGA A1\n0x09C0 SPID Serial Peripheral Interface on port D\n0x0A00 TCE0 Timer/Counter 0 on port E0x0A40 TCE1 Timer/Counter 1 on port E\n0x0A80 AWEXE Advanced Waveform Extension on port E\n0x0A90 HIRESE High Resolution Extension on port E\n0x0AA0 USARTE0 USART 0 on port E\n0x0AB0 USARTE1 USART 1 on port E\n0x0AC0 SPIE Serial Peripheral Interface on port E\n0x0B00 TCF0 Timer/Counter 0 on port F\n0x0B40 TCF1 Timer/Counter 1 on port F\n0x0B90 HIRESF High Resolution Extension on port F\n0x0BA0 USARTF0 USART 0 on port F\n0x0BB0 USARTF1 USART 1 on port F\n0x0BC0 SPIF Serial Peripheral Interface on port FBase Address Name Description\n60\n8067J–AVR–02/10XMEGA A1\n31. Instruction Set Summary\nMnemonics Operands Description Operation Flags #Clocks\nArithmetic and Logic Instructions\nADD Rd, Rr Add without Carry Rd ← Rd + Rr Z,C,N,V,S,H 1\nADC Rd, Rr Add with Carry Rd ← Rd + Rr + C Z,C,N,V,S,H 1\nADIW Rd, K Add Immediate to Word Rd ← Rd + 1:Rd + K Z,C,N,V,S 2\nSUB Rd, Rr Subtract without Carry Rd ← Rd - Rr Z,C,N,V,S,H 1\nSUBI Rd, K Subtract Immediate Rd ← Rd - K Z,C,N,V,S,H 1\nSBC Rd, Rr Subtract with Carry Rd ← Rd - Rr - C Z,C,N,V,S,H 1\nSBCI Rd, K Subtract Immediate with Carry Rd ← Rd - K - C Z,C,N,V,S,H 1\nSBIW Rd, K Subtract Immediate from Word Rd + 1:Rd ← Rd + 1:Rd - K Z,C,N,V,S 2\nAND Rd, Rr Logical AND Rd ← Rd • Rr Z,N,V,S 1\nANDI Rd, K Logical AND with Immediate Rd ← Rd • K Z,N,V,S 1\nOR Rd, Rr Logical OR Rd ← Rd v Rr Z,N,V,S 1\nORI Rd, K Logical OR with Immediate Rd ← Rd v K Z,N,V,S 1\nEOR Rd, Rr Exclusive OR Rd ← Rd ⊕ Rr Z,N,V,S 1\nCOM Rd One’s Complement Rd ← $FF - Rd Z,C,N,V,S 1\nNEG Rd Two’s Complement Rd ← $00 - Rd Z,C,N,V,S,H 1\nSBR Rd,K Set Bit(s) in Register Rd ← Rd v K Z,N,V,S 1\nCBR Rd,K Clear Bit(s) in Register Rd ← Rd • ($FFh - K) Z,N,V,S 1\nINC Rd Increment Rd ← Rd + 1 Z,N,V,S 1\nDEC Rd Decrement Rd ← Rd - 1 Z,N,V,S 1\nTST Rd Test for Zero or Minus Rd ← Rd • Rd Z,N,V,S 1\nCLR Rd Clear Register Rd ← Rd ⊕ Rd Z,N,V,S 1\nSER Rd Set Register Rd ← $FF None 1\nMUL Rd,Rr Multiply Unsigned R1:R0 ← Rd x Rr (UU) Z,C 2\nMULS Rd,Rr Multiply Signed R1:R0 ← Rd x Rr (SS) Z,C 2\nMULSU Rd,Rr Multiply Signed with Unsigned R1:R0 ← Rd x Rr (SU) Z,C 2\nFMUL Rd,Rr Fractional Multiply Unsigned R1:R0 ← Rd x Rr<<1 (UU) Z,C 2\nFMULS Rd,Rr Fractional Multiply Signed R1:R0 ← Rd x Rr<<1 (SS) Z,C 2\nFMULSU Rd,Rr Fractional Multiply Signed with Unsigned R1:R0 ← Rd x Rr<<1 (SU) Z,C 2\nDES K Data Encryption if (H = 0) then R15:R0\nelse if (H = 1) then R15:R0←\n←Encrypt(R15:R0, K)\nDecrypt(R15:R0, K)1/2\nBranch Instructions\nRJMP k Relative Jump PC ← PC + k + 1 None 2\nIJMP Indirect Jump to (Z) PC(15:0)\nPC(21:16)←\n←Z,\n0None 2\nEIJMP Extended Indirect Jump to (Z) PC(15:0)\nPC(21:16)←\n←Z,\nEINDNone 2\nJMP k Jump PC ← k None 3\nRCALL k Relative Call Subroutine PC ← PC + k + 1 None 2 / 3(1)\nICALL Indirect Call to (Z) PC(15:0)\nPC(21:16)←\n←Z,\n0None 2 / 3(1)\nEICALL Extended Indirect Call to (Z) PC(15:0)\nPC(21:16)←\n←Z,\nEINDNone 3(1)\n61\n8067J–AVR–02/10XMEGA A1\nCALL k call Subroutine PC ← k None 3 / 4(1)\nRET Subroutine Return PC ← STACK None 4 / 5(1)\nRETI Interrupt Return PC ← STACK I 4 / 5(1)\nCPSE Rd,Rr Compare, Skip if Equal if (Rd = Rr) PC ← PC + 2 or 3 None 1 / 2 / 3\nCP Rd,Rr Compare Rd - Rr Z,C,N,V,S,H 1 \nCPC Rd,Rr Compare with Carry Rd - Rr - C Z,C,N,V,S,H 1\nCPI Rd,K Compare with Immediate Rd - K Z,C,N,V,S,H 1SBRC Rr, b Skip if Bit in Register Cleared if (Rr(b) = 0) PC ← PC + 2 or 3 None 1 / 2 / 3\nSBRS Rr, b Skip if Bit in Register Set if (Rr(b) = 1) PC ← PC + 2 or 3 None 1 / 2 / 3\nSBIC A, b Skip if Bit in I/O Register Cleared if (I/O(A,b) = 0) PC ← PC + 2 or 3 None 2 / 3 / 4\nSBIS A, b Skip if Bit in I/O Register Set If (I/O(A,b) =1) PC ← PC + 2 or 3 None 2 / 3 / 4\nBRBS s, k Branch if Status Flag Set if (SREG(s) = 1) then PC ← PC + k + 1 None 1 / 2\nBRBC s, k Branch if Status Flag Cleared if (SREG(s) = 0) then PC ← PC + k + 1 None 1 / 2\nBREQ  k Branch if Equal if (Z = 1) then PC ← PC + k + 1 None 1 / 2\nBRNE  k Branch if Not Equal if (Z = 0) then PC ← PC + k + 1 None 1 / 2\nBRCS  k Branch if Carry Set if (C = 1) then PC ← PC + k + 1 None 1 / 2\nBRCC  k Branch if Carry Cleared if (C = 0) then PC ← PC + k + 1 None 1 / 2\nBRSH  k Branch if Same or Higher if (C = 0) then PC ← PC + k + 1 None 1 / 2\nBRLO  k Branch if Lower if (C = 1) then PC ← PC + k + 1 None 1 / 2\nBRMI  k Branch if Minus if (N = 1) then PC ← PC + k + 1 None 1 / 2\nBRPL  k Branch if Plus if (N = 0) then PC ← PC + k + 1 None 1 / 2\nBRGE  k Branch if Greater  or Equal, Signed if (N ⊕ V= 0) then PC ← PC + k + 1 None 1 / 2\nBRLT  k Branch if Less Than, Signed if (N ⊕ V= 1) then PC ← PC + k + 1 None 1 / 2\nBRHS  k Branch if Half Carry Flag Set if (H = 1) then PC ← PC + k + 1 None 1 / 2\nBRHC  k Branch if Half Carry Flag Cleared if (H = 0) then PC ← PC + k + 1 None 1 / 2\nBRTS  k Branch if T Flag Set if (T = 1) then PC ← PC + k + 1 None 1 / 2\nBRTC  k Branch if T Flag Cleared if (T = 0) then PC ← PC + k + 1 None 1 / 2\nBRVS  k Branch if Overflow Flag is Set if (V = 1) then PC ← PC + k + 1 None 1 / 2\nBRVC  k Branch if Overflow Flag is Cleared if (V = 0) then PC ← PC + k + 1 None 1 / 2\nBRIE  k Branch if Interrupt Enabled if (I = 1) then PC ← PC + k + 1 None 1 / 2\nBRID  k Branch if Interrupt Disabled if (I = 0) then PC ← PC + k + 1 None 1 / 2\nData Transfer Instructions\nMOV Rd, Rr Copy Register Rd ← Rr None 1\nMOVW Rd, Rr Copy Register Pair Rd+1:Rd ← Rr+1:Rr None 1\nLDI Rd, K Load Immediate Rd ← K None 1\nLDS Rd, k Load Direct from data space Rd ← (k) None 2\n(1)(2)\nLD Rd, X Load Indirect Rd ← (X) None 1(1)(2)\nLD Rd, X+ Load Indirect and Post-Increment Rd\nX←\n←(X)\nX + 1None 1(1)(2)\nLD Rd, -X Load Indirect and Pre-Decrement X ← X - 1,\nRd ← (X)←\n←X - 1\n(X)None 2(1)(2)\nLD Rd, Y Load Indirect Rd ← (Y)← (Y) None 1(1)(2)\nLD Rd, Y+ Load Indirect and Post-Increment Rd\nY←\n←(Y)\nY + 1None 1(1)(2)Mnemonics Operands Description Operation Flags #Clocks\n62\n8067J–AVR–02/10XMEGA A1\nLD Rd, -Y Load Indirect and Pre-Decrement Y\nRd←\n←Y - 1\n(Y)None 2(1)(2)\nLDD Rd, Y+q Load Indirect with Displacement Rd ← (Y + q) None 2(1)(2)\nLD Rd, Z Load Indirect Rd ← (Z) None 1(1)(2)\nLD Rd, Z+ Load Indirect and Post-Increment Rd\nZ←\n←(Z),\nZ+1None 1(1)(2)\nLD Rd, -Z Load Indirect and Pre-Decrement Z\nRd←\n←Z - 1,\n(Z)None 2(1)(2)\nLDD Rd, Z+q Load Indirect with Displacement Rd ← (Z + q) None 2(1)(2)\nSTS k, Rr Store Direct to Data Space (k) ← Rd None 2(1)\nST X, Rr Store Indirect (X) ← Rr None 1(1)\nST X+, Rr Store Indirect and Post-Increment (X)\nX←\n←Rr,\nX + 1None 1(1)\nST -X, Rr Store Indirect and Pre-Decrement X\n(X)←\n←X - 1,\nRrNone 2(1)\nST Y, Rr Store Indirect (Y) ← Rr None 1(1)\nST Y+, Rr Store Indirect and Post-Increment (Y)\nY←\n←Rr,\nY + 1None 1(1)\nST -Y, Rr Store Indirect and Pre-Decrement Y\n(Y)←\n←Y - 1,\nRrNone 2(1)\nSTD Y+q, Rr Store Indirect with Displacement (Y + q) ← Rr None 2(1)\nST Z, Rr Store Indirect (Z) ← Rr None 1(1)\nST Z+, Rr Store Indirect and Post-Increment (Z)\nZ←\n←Rr\nZ + 1None 1(1)\nST -Z, Rr Store Indirect and Pre-Decrement Z ← Z - 1 None 2(1)\nSTD Z+q,Rr Store Indirect with Displacement (Z + q) ← Rr None 2(1)\nLPM Load Program Memory R0 ← (Z) None 3\nLPM Rd, Z Load Program Memory Rd ← (Z) None 3\nLPM Rd, Z+ Load Program Memory and Post-Increment Rd\nZ←\n←(Z),\nZ + 1None 3\nELPM Extended Load Program Memory R0 ← (RAMPZ:Z) None 3\nELPM Rd, Z Extended Load Program Memory Rd ← (RAMPZ:Z) None 3\nELPM Rd, Z+ Extended Load Program Memory and Post-\nIncrementRd\nZ←\n←(RAMPZ:Z),\nZ + 1None 3\nSPM Store Program Memory (RAMPZ:Z) ← R1:R0 None -\nSPM Z+ Store Program Memory and Post-Increment \nby 2(RAMPZ:Z)\nZ←\n←R1:R0,\nZ + 2None -\nIN Rd, A In From I/O Location Rd ← I/O(A) None 1\nOUT A, Rr Out To I/O Location I/O(A) ← Rr None 1\nPUSH Rr Push Register on Stack STACK ← Rr None 1(1)\nPOP Rd Pop Register from Stack Rd ← STACK None 2(1)\nBit and Bit-test Instructions\nLSL Rd Logical Shift Left Rd(n+1)\nRd(0)\nC←\n←←Rd(n),\n0,Rd(7)Z,C,N,V,H 1\nLSR Rd Logical Shift Right Rd(n)\nRd(7)\nC←\n←←Rd(n+1),\n0,Rd(0)Z,C,N,V 1Mnemonics Operands Description Operation Flags #Clocks\n63\n8067J–AVR–02/10XMEGA A1\nNotes: 1. Cycle times for Data memo ry accesses assume internal me mory accesses, and are not valid for accesses via the external \nRAM interface.\n2. One extra cycle must be added when accessing Internal SRAM.ROL Rd Rotate Left Through Carry Rd(0)\nRd(n+1)\nC←\n←←C,\nRd(n),Rd(7)Z,C,N,V,H 1\nROR Rd Rotate Right Through Carry Rd(7)\nRd(n)\nC←\n←←C,\nRd(n+1),Rd(0)Z,C,N,V 1\nASR Rd Arithmetic Shift Right Rd(n) ← Rd(n+1), n=0..6 Z,C,N,V 1\nSWAP Rd Swap Nibbles Rd(3..0) ↔ Rd(7..4) None 1\nBSET s Flag Set SREG(s) ← 1S R E G ( s ) 1\nBCLR s Flag Clear SREG(s) ← 0S R E G ( s ) 1\nSBI A, b Set Bit in I/O Register I/O(A, b) ← 1 None 1\nCBI A, b Clear Bit in I/O Register I/O(A, b) ← 0 None 1\nBST Rr, b Bit Store from Register to T T ← Rr(b) T 1\nBLD Rd, b Bit load from T to Register Rd(b) ← T None 1\nSEC Set Carry C ← 1C 1\nCLC Clear Carry C ← 0C 1\nSEN Set Negative Flag N ← 1N 1\nCLN Clear Negative Flag N ← 0N 1\nSEZ Set Zero Flag Z ← 1Z 1\nCLZ Clear Zero Flag Z ← 0Z 1\nSEI Global Interrupt Enable I ← 1I 1\nCLI Global Interrupt Disable I ← 0I 1\nSES Set Signed Test Flag S ← 1S 1\nCLS Clear Signed Test Flag S ← 0S 1\nSEV Set Two’s Complement Overflow V ← 1V 1\nCLV Clear Two’s Complement Overflow V ← 0V 1\nSET Set T in SREG T ← 1T 1\nCLT Clear T in SREG T ← 0T 1\nSEH Set Half Carry Flag in SREG H ← 1H 1\nCLH Clear Half Carry Flag in SREG H ← 0H 1\nMCU Control Instructions\nBREAK Break (See specific descr. for BREAK) None 1\nNOP No Operation None 1\nSLEEP Sleep (see specific descr. for Sleep) None 1\nWDR Watchdog Reset (see specific descr. for WDR) None 1Mnemonics Operands Description Operation Flags #Clocks\n64\n8067J–AVR–02/10XMEGA A1\n32. Packaging information\n32.1 100A\n  2325 Orchard Parkway\n  San Jose, CA  95131TITLE DRAWING NO.\nRREV.  \n100A,  100-lead, 14 x 14 mm Body Size, 1.0 mm Body Thickness,\n0.5 mm Lead Pitch, Thin Profile Plastic Quad Flat Package (TQFP) C 100A10/5/2001PIN 1 IDENTIFIER\n0˚~7˚PIN 1 \nLC\nA1 A2 AD1\nDe E1 EB\nA – – 1.20\nA1 0.05 – 0.15A2  0.95 1.00 1.05           D 15.75 16.00 16.25D1 13.90 14.00 14.10 Note 2E 15.75 16.00 16.25E1 13.90 14.00 14.10 Note 2B           0.17 – 0.27C 0.09 – 0.20L 0.45 –  0.75e 0.50 TYPNotes: 1. This package conforms to JEDEC reference MS-026, Variation AED. \n2. Dimensions D1 and E1 do not include mold protrusion. Allowable \nprotrusion is 0.25 mm per side. Dimensions D1 and E1 are maximum plastic body size dimensions including mold mismatch.\n3. Lead coplanarity is 0.08 mm maximum.COMMON DIMENSIONS\n(Unit of Measure = mm)\nSYMBOL MIN NOM MAX NOTE\n65\n8067J–AVR–02/10XMEGA A1\n32.2 100C1\n  2325 Orchard Parkway\n  San Jose, CA  95131TITLE DRAWING NO.\nRREV.  \n100C1 , 100-ball, 9 x 9 x 1.2 mm Body, Ball Pitch 0.80 mm \nChip Array BGA Package (CBGA)   A 100C15/25/06TOP VIEWSIDE VIEW\nBOTTOM VIEWCOMMON DIMENSIONS\n(Unit of Measure = mm)\nSYMBOL MIN NOM MAX NOTE\n A 1.10  –  1.20\n A1 0.30 0.35 0.40\n D 8.90 9.00 9.10\n E 8.90 9.00 9.10\n D1 7.10 7.20 7.30\n E1 7.10 7.20 7.30\n Øb 0.35 0.40 0.45\n e  0.80 TYPMarked A1 Identifier\n1 2 3 4 5 67 8\nA\nB\nC\nD\nE 9\nF\nG\nH\nI\nJ100.90 TYP\n0.90 TYPA1 Corner0.12 Z\nE\nD\ne\ne ØbA\nA1\nE1D1\n66\n8067J–AVR–02/10XMEGA A1\n32.3 100C2\nTITLE DRAWING NO. GPC REV. \n   Package Drawing Contact: \n packagedra wings@atmel.com 100C2 CIF A 100C2, 100-ball (10 x 10 Array), 0.65 mm Pitch, \n7.0 x 7.0 x 1.0 mm, Very Thin, Fine-Pitch \nBall Grid Array Package ( VFBGA)  \n 12/23/0 8COMMON DIMENSIONS \n(Unit of Meas ure = mm) \nSYMBOL MIN NOM MAX NOTE \n \n     A – – 1.00\nA1 0.20 – –A2 0.65 – –D 6.90 7.00 7.10 D1  5. 85 BSC\nE 6.90 7.00 7.10  E1  5. 85 BSC\nb  0.30 0.35 0.40\ne   0.65 BSC TOP VIEW\nSIDE VIEWA1 BALL ID\nJ\nI\nH\nG\nF\nE\nDC\nBA\n12 3 4 5 6  7 8  9  10AA1\nA2DE\n0.10\nE1\nD1100 - Ø0.35 ± 0.05\ne\nA1 BALL COR NER\nBOTTOM VIEWb e\n67\n8067J–AVR–02/10XMEGA A1\n33. Electrical Characteristics\n33.1 Absolute Maximum Ratings*\n33.2 DC Characteristics Operating Temperature.................................. -55 °C to +125 °C *NOTICE: Stresses beyond those listed under “Absolute \nMaximum Ratings” may cause permanent dam-\nage to the device. This is a stress rating only and \nfunctional operation of the device at these or other conditions beyond those indicated in the \noperational sections of th is specification is not \nimplied. Exposure to absolute maximum rating conditions for extended periods may affect \ndevice reliability.Storage Temperature ..................................... -65 °C to +150°C\nVoltage on any Pin with respect to Ground..-0.5V to V\nCC+0.5V\nMaximum Operating Voltage ............................................ 3.6VDC Current per I/O Pin ............................................... 20.0 mA\nDC Current \nVCC and GND Pins................................ 200.0 mA\nTable 33-1. Current Consumption\nSymbol Parameter Condition Min Typ Max Units\nICCPower Supply Current(1)Active32 kHz, Ext. ClkVCC = 1.8V TBD\nµAVCC = 3.0V TBD\n1 MHz, Ext. ClkVCC = 1.8V 365\nVCC = 3.0V 790\n2 MHz, Ext. ClkVCC = 1.8V 690 800\nVCC = 3.0V 1400 1600\n32 MHz, Ext. Clk VCC = 3.0V 18.35 20 mA\nIdle32 kHz, Ext. ClkVCC = 1.8V TBD\nµAVCC = 3.0V TBD\n1 MHz, Ext. ClkVCC = 1.8V 135\nVCC = 3.0V 255\n2 MHz, Ext. ClkVCC = 1.8V 270 380\nVCC = 3.0V 510 650\n32 MHz, Ext. Clk VCC = 3.0V 8.15 9.2 mA\nPower-down modeAll Functions Disabled VCC = 3.0V 0.1\nµAAll Functions Disabled, T = 85°C VCC = 3.0V 2 5\nULP , WDT, Sampled BODVCC = 1.8V 0.5\nVCC = 3.0V 0.6\nULP , WDT, Sampled BOD, T=85°C VCC = 3.0V 3 10\nPower-save modeRTC 1 kHz from Low Power 32 kHz \nTOSCVCC = 1.8V 0.52\nVCC = 3.0V 0.55\nRTC from Low Power 32 kHz TOSC VCC = 3.0V 1.16\nReset Current \nConsumptionwithout Reset pull-up resistor current VCC = 3.0V TBD\n68\n8067J–AVR–02/10XMEGA A1\nNote: 1. All Power Reduction Registers set. Typical num bers measured at T = 25°C if nothing else is specified.\n2. All parameters measured as the difference in current co nsumption between module enabled and disabled. All data at \nVCC=3 . 0 V ,  C l kSYS = 1 MHz External clock with no prescaling, T = 25°C.Module current consumption(2)\nICC RC32M 395\nµARC32M w/DFLL Internal 32.768 kHz oscillator as DFLL source TBD\nRC2M 120\nRC2M w/DFLL Internal 32.768 kHz oscillator as DFLL source 155\nRC32K 30\nPLL Multiplication factor = 10x 195\nWatchdog normal mode TBD\nBOD Continuous  mode 120\nBOD Sampled mode 1\nInternal 1.00 V ref 85\nTemperature reference 80\nRTC with int. 32 kHz RC as \nsourceNo prescaling 30\nRTC with ULP as source No prescaling 1\nADC 250 kS/s - Int. 1V Ref 3.6\nmA DAC Normal Mode 1000 kS/s, Single channel, Int. 1V Ref 1.8\nDAC Low-Power Mode 1000 KS/s, Single channel, Int. 1V Ref 1AC High-speed 220\nµAAC Low-power 110\nUSART Rx and Tx enabled, 9600 BAUD 7.5DMA 180\nTimer/Counter Prescaler DIV1 18\nAES 195Table 33-1. Current Consumption\nSymbol Parameter Condition Min Typ Max Units\n69\n8067J–AVR–02/10XMEGA A1\n33.3 Speed\nThe maximum CPU clock frequency of the XMEGA A1 devices is depending on VCC. As shown\nin Figure 33-1 on page 69  the Frequency vs. VCC curve is linear between 1.8V < VCC<2 . 7 V .\nFigure 33-1. Operating Frequency vs. VccTable 33-2. Operating voltage and frequency\nSymbol Parameter Condition Min Typ Max Units\nClkCPU CPU clock frequencyVCC = 1.6V 0 12\nMHzVCC = 1.8V 0 12\nVCC = 2.7V 0 32\nVCC = 3.6V 0 32\n1.81232MHz\nV 2.7 3.6 1.6Safe Operating Area\n70\n8067J–AVR–02/10XMEGA A1\n33.4 Flash and EEPROM Memory Characteristics\nNotes: 1. Programming is timed from the internal 2 MHz oscillator.\n2. EEPROM is not erased if the EESAVE fuse is programmed.Table 33-3. Endurance and Data Retention\nSymbol Parameter Condi tion Min Typ Max Units\nFlashWrite/Erase cycles25°C 10K\nCycle\n85°C 10K\nData retention25°C 100\nYear\n55°C 25\nEEPROMWrite/Erase cycles25°C 80K\nCycle\n85°C 30K\nData retention25°C 100\nYear\n55°C 25\nTable 33-4. Programming time\nSymbol Parameter Condition Min Typ(1)Max Units\nChip Erase Flash, EEPROM(2) and SRAM Erase 40\nmsFlashPage Erase 6\nPage Write 6\nPage WriteAutomatic Page Erase and Write 12\nEEPROMPage Erase 6\nPage Write 6\nPage WriteAutomatic Page Erase and Write 12\n71\n8067J–AVR–02/10XMEGA A1\n33.5 ADC Characteristics \n Table 33-5. ADC Characteristics\nSymbol Parameter Condition Min Typ Max Units\nRES Resolution Programmable: 8/12 8 12 12 Bits\nINL Integral Non-Linearity 500 kS/s -5 <±1 5 LSB\nDNL Differential Non-Linearity 500 kS/s < ±0.75 LSB\nGain Error  ±10 mV\nOffset Error  ±2 mV\nADCclk ADC Clock frequency Max is 1/4 of Peripheral Clock 2000 kHzConversion rate 2000 ksps\nConversion time\n(propagation delay)(RES+2)/2+GAIN \nRES = 8 or 12, GAIN = 0 or 1578ADC\nclk\ncycles\nSampling Time 1/2 ADCclk cycle 0.25 uS\nConversion range 1.0 Vcc-0.6V V\nVREF Reference voltage 0 VREF V\nInput bandwidth 2000 kHz\nINT1V Internal 1.00V reference 1.00 V\nINTVCC Internal VCC/1.6 VCC/1.6 V\nSCALEDVCC Scaled internal VCC/10 input VCC/10 V\nRAREF Reference input resistance >10 M Ω\nStart-up time µs\nInternal input sampling speed Temp. sensor, VCC/10, Bandgap 100 ksps\nTable 33-6. ADC Gain Stage Characteristics\nSymbol Parameter Condition Min Typ Max Units\nGain error 1 to 64 gain < ±1 %\nOffset error < ±1\nmV\nVrms Noise level at input 64x gainVREF = Int. 1V 0.12\nVREF = Ext. 2V 0.06\nClock rate Same as ADC 1000 kHz\n72\n8067J–AVR–02/10XMEGA A1\n33.6 DAC Characteristics\n33.7 Analog Comparator  Characteristics \n33.8 Bandgap Characteristics Table 33-7. DAC Characteristics\nSymbol Parameter Condi tion Min Typ Max Units\nINL Integral Non-Linearity VCC = 1.6-3.6V VREF = Ext. ref 5\nLSB\nDNL Differential Non-Linearity VCC = 1.6-3.6VVREF = Ext. ref 0.6 <±1\nVREF= AVCC 0.6\nFclk Conversion rate 1000 ksps\nAREF External reference voltage 1.1 AVCC-0.6 V\nReference input impedance >10 M Ω\nDC output impedance 270 k Ω\nMax output voltage Rload=100kΩ AVCC*0.98\nV\nMin output voltage Rload=100kΩ 0.01\nOffset factory calibration accuracyContinues mode, VCC=3.0V, \nVREF = Int 1.00V, T=85°CTBD\nLSB\nGain factory calibration accuracy TBD\nTable 33-8. Analog Comparator Characteristics\nSymbol Parameter Condition Min Typ Max Units\nVoff Input Offset Voltage VCC = 1.6 - 3.6V <±5 mV\nIlk Input Leakage Current VCC = 1.6 - 3.6V < 1000 pA\nVhys1 Hysteresis, No VCC = 1.6 - 3.6V 0 mV\nVhys2 Hysteresis, Small VCC = 1.6 - 3.6V mode = HS 25\nmV\nVhys3 Hysteresis, Large VCC = 1.6 - 3.6V mode = HS 50\ntdelay Propagation delayVCC = 3.0V, T= 85°C mode = HS 100\nns VCC = 1.6 - 3.6V mode = HS 70\nVCC = 1.6 - 3.6V mode = LP 140\nTable 33-9. Bandgap Voltage Characteristics\nSymbol Parameter Condition Min Typ Max Units\nBandgap startup timeAs reference for ADC or DAC 1 Clk_PER + 2.5µs\nµs\nAs input to AC or ADC TBD\nBandgap voltage 1.1\nV\nADC/DAC refT= 85°C, After calibration 0.99 1.01\n1\nVariation over voltage and temperature VCC = 1.6 - 3.6V, T = -40 °C to 85°C± 5 %\n73\n8067J–AVR–02/10XMEGA A1\n33.9 Brownout Detection Characteristics\nNote: 1. BOD is calibrated to BOD level 0 at 85°C, and BOD level 0 is the default level.\n33.10 PAD CharacteristicsTable 33-10. Brownout Detection Characteristics(1)\nSymbol Parameter Condition Min Typ Max Units\nBOD level 0 falling Vcc 1.6\nVBOD level 1 falling Vcc 1.9\nBOD level 2 falling Vcc 2.1\nBOD level 3 falling Vcc 2.4\nBOD level 4 falling Vcc 2.6\nBOD level 5 falling Vcc 2.9\nBOD level 6 falling Vcc 3.2\nBOD level 7 falling Vcc 3.4\nHysteresis BOD level 0-5 2 %\nTable 33-11. PAD Characteristics\nSymbol Parameter Condition Min Typ Max Units\nVIH Input High VoltageVCC = 2.4 - 3.6V 0.7*VCC VCC+0.5\nVVCC = 1.6 - 2.4V 0.8*VCC VCC+0.5\nVIL Input Low VoltageVCC = 2.4 - 3.6V -0.5 0.3*VCC\nVCC = 1.6 - 2.4V -0.5 0.2*VCC\nVOL Output Low Voltage GPIOIOH = 15 mA, VCC = 3.3V 0.45 0.76\nIOH = 10 mA, VCC = 3.0V 0.3 0.64\nIOH = 5 mA, VCC = 1.8V 0.2 0.46\nVOH Output High Voltage GPIOIOH = -8 mA, VCC = 3.3V 2.6 3\nIOH = -6 mA, VCC = 3.0V 2.1 2.2\nIOH = -2 mA, VCC = 1.8V 1.4 1.6\nIIL Input Leakage Current I/O pin <0.001 1\nµA\nIIH Input Leakage Current I/O pin <0.001 1\nRP I/O pin Pull/Buss keeper Resistor 20\nkΩ\nRRST Reset pin Pull-up Resistor 20\nInput hysteresis 0.5 V\n74\n8067J–AVR–02/10XMEGA A1\n33.11 POR Characteristics\n33.12 Reset Characteristics\n33.13 Oscillator CharacteristicsTable 33-12. Power-on Reset Characteristics\nSymbol Parameter Condition Min Typ Max Units\nVPOT- POR threshold voltage falling Vcc 1\nV\nVPOT+ POR threshold voltage rising Vcc 1.4\nTable 33-13. Reset Characteristics\nSymbol Parameter Condition Min Typ Max Units\nMinimum reset pulse width 90 ns\nReset threshold voltageVCC = 2.7 - 3.6V 0.45*VCCV\nVCC = 1.6 - 2.7V 0.42*VCC\nTable 33-14. Internal 32.768 kHz Os cillator Characteristics\nSymbol Parameter Condi tion Min Typ Max Units\nAccuracyT = 85°C, VCC = 3V,\nAfter production calibration-0.5 0.5 %\nTable 33-15. Internal 2 MHz Oscilla tor Characteristics\nSymbol Parameter Condi tion Min Typ Max Units\nAccuracyT = 85°C, VCC = 3V,\nAfter production calibration-1.5 1.5\n%\nDFLL Calibration step size T = 25 °C, VCC = 3V 0.175\nTable 33-16. Internal 32 MHz Oscillator Characteristics\nSymbol Parameter Condi tion Min Typ Max Units\nAccuracyT = 85°C, VCC = 3V,\nAfter production calibration-1.5 1.5\n%\nDFLL Calibration stepsize T = 25 °C, VCC = 3V 0.2\nTable 33-17. Internal 32 kHz, ULP O scillator Characteristics\nSymbol Parameter Condition Min Typ Max Units\nOutput frequency 32 kHz ULP OSC T = 85 °C, VCC = 3.0V 26 kHz\n75\n8067J–AVR–02/10XMEGA A1\n \nNotes: 1. Non-prescaled System Clock source.\n2. Time from pin change on external interrupt  pin to first available clock cycle. Additi onal interrupt respon se time is minimum 5 \nsystem clock source cycles.Table 33-18. Maximum load capacitance (CL) and ESR recommendation for 32.768 kHz Crystal\nCrystal CL [pF] Max ESR [k Ω]\n6.5 60\n93 5\nTable 33-19. Device wake-up time from sleep\nSymbol Parameter Condition(1)Min Typ(2)Max Units\nIdle Sleep, Standby and Extended \nStandby sleep modeInt. 32.768 kHz RC 130\nµSInt. 2 MHz RC 2\nExt. 2 MHz Clock 2\nInt. 32 MHz RC 0.17\nPower-save and Power-down Sleep \nmodeInt. 32.768 kHz RC 320\nInt. 2 MHz RC 10.3\nExt. 2 MHz Clock 4.5Int. 32 MHz RC 5.8\n76\n8067J–AVR–02/10XMEGA A1\n34. Typical Characteristics\n34.1 Active Supply Current\nFigure 34-1. Active Supply Current vs. Frequency\nfSYS= 1 - 32 MHz, T = 25°C\nFigure 34-2. Active Supply Current vs. VCC\nfSYS = 1.0 MHz3.3V\n3.0V\n2.7V\n0510152025\n04 8 12 16 20 24 2 8 32\nFrequency [MHz]Icc [mA]\n1.8V2.2V\n85°C\n25°C-40°C\n020040060080010001200\n1.6 1. 8 2 2.2 2.4 2.6 2. 8 3 3.2 3.4 3.6\nVcc [V]Icc [uA]\n77\n8067J–AVR–02/10XMEGA A1\n34.2 Idle Supply Current\nFigure 34-3. Idle Supply Current vs. Frequency\nfSYS = 1 - 32 MHz, T = 25°C\nFigure 34-4. Active Supply Current vs. VCC\nfSYS = 1.0 MHz,\n3.3V\n3.0V\n2.7V\n012345678910\n04 8 12 16 20 24 2 8 32\nFrequency [MHz]Icc [mA]\n1.8V2.2V\n85°C\n25°C\n-40°C\n050100150200250300350400\n1.6 1. 8 2 2.2 2.4 2.6 2. 8 3 3.2 3.4 3.6\nVcc [V]Icc [uA]\n78\n8067J–AVR–02/10XMEGA A1\n34.3 Power-down Supply Current\nFigure 34-5. Power-down Supply Current vs. Temperature\n34.4 Power-save Supply Current\nFigure 34-6. Power-save Supply Current vs. Temperature\nSampled BOD, WDT, RTC from ULP enabled3.3V\n3.0V\n2.7V\n2.2V\n1.8V\n00.511.522.5\n-40 -30 -20 -10 0 10 20 30 40 50 60 70 809 0\nTemperat ure [°C]Icc [uA]\n3.3V\n2.7V\n2.2V\n1.8V\n00.511.522.533.5\n-40 -30 -20 -10 0 10 20 30 40 50 60 70 809 0\nTemperat ure [°C]Icc [uA]\n79\n8067J–AVR–02/10XMEGA A1\n34.5 Pin Pull-up\nFigure 34-7. I/O Reset Pull-up Resistor Cu rrent vs. Reset Pin Voltage\nVCC = 1.8V\nFigure 34-8. I/O Reset Pull-up Resistor Cu rrent vs. Reset Pin Voltage\nVCC = 3.0V85 °C25 °C-40 °C\n020406080100\n0 0.2 0.4 0.6 0. 8 1 1.2 1.4\nvreset [V]Ireset [uA]\n85 °C\n25 °C-40 °C\n020406080100120140160180\n0 0.5 1 1.5 2 2.5\nvreset [V]Ireset [uA]\n80\n8067J–AVR–02/10XMEGA A1\nFigure 34-9. I/O Reset Pull-up Resistor Cu rrent vs. Reset Pin Voltage\nVCC = 3.3V\n34.6 Pin Thresholds and Hysteresis\nFigure 34-10. I/O Pin Input Threshold Voltage vs. VCC\nVIH - I/O Pin Read as “1”85 °C\n25 °C-40 °C\n020406080100120140160180\n00 . 511 . 522 . 53\nvreset [V]Ireset [uA]\n85 °C25 °C-40 °C\n00.511.522.5\n1.6 1. 8 2 2.2 2.4 2.6 2. 8 3 3.2 3.4 3.6\nVcc [V]Vthreshold  [V]\n81\n8067J–AVR–02/10XMEGA A1\nFigure 34-11. I/O Pin Input Threshold Voltage vs. VCC\nVIL - I/O Pin Read as “0”\nFigure 34-12. I/O Pin Input Hysteresis vs. VCC.85 °C\n25 °C\n-40 °C\n00.20.40.60.811.21.41.61.8\n1.6 1. 8 2 2.2 2.4 2.6 2. 8 3 3.2 3.4 3.6\nVcc [V]Vthreshold  [V]\n85 °C\n25 °C\n-40 °C\n00.20.40.60.8\n1.6 1. 8 2 2.2 2.4 2.6 2. 8 3 3.2 3.4 3.6\nVcc [V]Vthreshold  [V]\n82\n8067J–AVR–02/10XMEGA A1\nFigure 34-13. Reset Input Threshold Voltage vs. VCC \nVIH - I/O Pin Read as “1”\nFigure 34-14. Reset Input Threshold Voltage vs. VCC\nVIL - I/O Pin Read as “0”85 °C25 °C-40 °C\n00.20.40.60.811.21.41.61.8\n1.6 1. 8 2 2.2 2.4 2.6 2. 8 3 3.2 3.4 3.6\nVcc [V]Vthreshold  [V]\n85 °C25 °C-40 °C\n00.20.40.60.811.21.41.61.8\n1.6 1. 8 2 2.2 2.4 2.6 2. 8 3 3.2 3.4 3.6\nVcc [V]Vthreshold  [V]\n83\n8067J–AVR–02/10XMEGA A1\n34.7 Bod Thresholds\nFigure 34-15. BOD Thresholds vs. Temperature\nBOD Level = 1.6V\nFigure 34-16. BOD Thresholds vs. Temperature\nBOD Level = 2.9VRising Vcc\nFalling Vcc\n1.6021.6081.6141.621.6261.6321.638\n-40 -30 -20 -10 0 10 20 30 40 50 60 70 809 0\nTemperat ure [°C]VBOT [V]\nRising Vcc\nFalling Vcc\n2.9052.922.9352.952.9652.982.9953.01\n-40 -30 -20 -10 0 10 20 30 40 50 60 70 809 0\nTemperat ure [°C]VBOT [V]\n84\n8067J–AVR–02/10XMEGA A1\n34.8 Bandgap\nFigure 34-17. Internal 1.00V Reference vs. Temperature.\n34.9 Analog Comparator\nFigure 34-18. Analog Comparator Hysteresis vs. VCC\nHigh-speed, Small hysteresis 3.0V\n1.8V\n0.9990.999511.00051.0011.00151.0021.00251.0031.00351.004\n-40 -30 -20 -10 0 10 20 30 40 50 60 70 809 0\nTemperat ure [°C]VREF [V]\n25°C\n051015202530\n1.6 1. 8 2 2.2 2.4 2.6 2. 8 3 3.2 3.4 3.6\nVcc [V]Hysteresis [m V]\n85\n8067J–AVR–02/10XMEGA A1\nFigure 34-19. Analog Comparator Hysteresis vs. VCC, High-speed\nLarge hysteresis\nFigure 34-20. Analog Comparator Propagation Delay vs. VCC\nHigh-speed25°C\n0102030405060\n1.6 1. 8 2 2.2 2.4 2.6 2. 8 3 3.2 3.4 3.6\nVcc [V]Hysteresis [m V]\n25°C\n020406080100120\n1.6 1. 8 2 2.2 2.4 2.6 2. 8 3 3.2 3.4 3.6\nVcc [V]Propagation Delay [ns]\n86\n8067J–AVR–02/10XMEGA A1\n34.10 Oscillators and Wake-up Time\nFigure 34-21. Internal 32.768 kHz Oscilla tor Frequency vs. Temperature\n1.024 kHz output\nFigure 34-22. Ultra Low-Power (ULP) Oscillato r Frequency vs . Temperature\n1 kHz outputp\n3.0 V1.8 V\n0.990.99511.0051.011.0151.021.0251.03\n-40 -30 -20 -10 0 10 20 30 40 50 60 70 809 0\nT [°C]f [kHz]\np\n3.0 V\n1.8 V\n0.870.880.890.90.910.920.93\n-40 -30 -20 -10 0 10 20 30 40 50 60 70 809 0\nT [°C]f1kHz o utput [kHz]\n87\n8067J–AVR–02/10XMEGA A1\nFigure 34-23. Internal 2 MHz Oscillator Ca lA Calibration Step Size\nT = -40 to 85 °C, VCC= 3V\nFigure 34-24. Internal 2 MHz Oscillator Ca lB Calibration Step Size\nT = -40 to 85 °C, VCC= 3V00.0010.0020.0030.0040.0050.006\n02 0 4 0 6 0 801 0 0 1 2 0 1 4 0\nCALA [LSB]Step size: f [MHz]\n00.0050.010.0150.020.0250.030.0350.04\n0 1 02 03 04 05 06 07 0\nCALB [LSB]Step size: f [MHz]\n88\n8067J–AVR–02/10XMEGA A1\nFigure 34-25. Internal 32 MHz Oscillator CalA Calibration Step Size\nT = -40 to 85 °C, VCC= 3V\nFigure 34-26. Internal 32 MHz Oscillator CalB Calibration Step Size\nT = -40 to 85 °C, VCC= 3V00.010.020.030.040.050.060.070.080.09\n02 0 4 0 6 0 80 100 120 140\nCALAStep size: f [MHz]\n00.10.20.30.40.50.60.7\n0 1 02 03 04 05 06 07 0\nCALBStep size: f [MHz]\n89\n8067J–AVR–02/10XMEGA A1\n35. Errata\n35.1 ATxmega128A1 rev. H\n\x81Bandgap voltage input for the ACs cannot be ch anged when used for bo th ACs simultaneously\n\x81DAC is nonlinear and inaccurate when reference is above 2.4V or VCC - 0.6V\n\x81ADC gain stage output range is limited to 2.4V\n\x81The ADC has up to ±2 LSB inaccuracy\n\x81TWI, a general address call will ma tch independent of the R/W-bit value\n\x81TWI, the minimum I2C SCL low time could be violated in Master Read mode\n\x81TWI, the address-mask features is missing\n\x81Setting HIRES PR bit makes PWM output unavailable\n\x81BOD will be enabled after any reset\n\x81Propagation delay analog Comparator  increasing to 2 ms at -40 °C\n\x81Sampled BOD in Active mode will cause no ise when bandgap is used as reference\n\x81Default setting for SDRAM refresh period too low\n\x81Flash Power Reduction Mode can not be  enabled when entering sleep mode\n\x81JTAG enable does not override  Analog Comparator B output\n\x81Bandgap measurement with the ADC is non-functional when VCC is below 2.7V\n\x81DAC refresh may be blocked in S/H mode\n\x81Inverted I/O enable does not a ffect Analog Comparator Output\n\x81Both DFLLs and both oscillators has to be enabled for one to work\n1. Bandgap voltage input for the ACs cannot be changed when used for both ACs\nsimultaneously\nIf the bandgap voltage is selected as input for one Analog Comparator (AC) and then\nselected/deselected as input fo r the another AC, the first com parator will be affected for up\nto 1 us and could potentially give a wrong comparison result.\nProblem fix/Workaround\nIf the Bandgap is required for both ACs simultaneously, configure the input selection for both\nACs before enabling any of them.\n2. DAC is nonlinear and inaccurate when reference is above 2.4V or Vcc-0.6V\nUsing the DAC with a reference voltage above 2.4V or Vcc-0.6Vgive inaccurate output when\nconverting codes that give below 0.75V output:\n– ±10 LSB for continuous mode\n– ±20 LSB for Sample and Hold mode\nProblem fix/Workaround\nNone, avoid using a voltage reference above 2.4V or Vcc-0.6V\n3. ADC gain stage output range is limited to 2.4 V\nThe amplified out put of the ADC gain stage will never go  above 2.4 V, hence the differential\ninput will only give corr ect output when below 2.4 V/gain. For the ava ilable gain settings, this\ngives a differential input range of: \n90\n8067J–AVR–02/10XMEGA A1\n \nProblem fix/Workaround\nKeep the amplified voltage output from the ADC gain stage below 2.4 V in order to get a cor-\nrect result, or keep ADC voltage reference below 2.4 V.\n4. The ADC has up to ±2 LSB inaccuracy\nThe ADC will have up to ±2 LSB inaccuracy, visi ble as a saw-tooth pattern on the input volt-\nage/ output value transfer function of the ADC. The inaccuracy increases with increasing\nvoltage reference reaching ±2 LSB with 3V reference.\nProblem fix/Workaround\nNone, the actual ADC resolution will be reduced with up to ±2 LSB.\n5. TWI, a general address call will ma tch independent of the R/W-bit value.\nWhen the TWI is in Slave mode and a general address call is issued on the bus, the TWI\nSlave will get an address match regardless of t he R/W-bit (ADDR[0] bit) value in the Slave\nAddress Register.\nProblem fix/Workaround\nUse software to check the R/W-bit on general call address match.\n6. TWI, the minimum I2C SCL low time could be violated in Master Read mode\nWhen the TWI is in Master Read mode and issuing a Repeated Start on the bus, this will\nimmediately release the SCL line even if one complete SCL low period has not passed. This\nmeans that the minimum SCL low time in the I2C specification could be violated.\nProblem fix/Workaround\nIf this causes a potential problem in the application, software must ensure that the Repeated\nStart is never issued before one SCL low time has passed.\n7. TWI, the address-mask features is missing\nThe address-mask functionality is missing, so the TWI cannot perform address match on\nmore than one address.\nProblem fix/Workaround\nIf the TWI must respond to multiple addresses, enable Promiscuous Mode for the TWI to\nrespond to all address and implementing  the address-mask function in software– 1x gain: 2.4 V\n– 2x gain: 1.2 V\n– 4x gain: 0.6 V\n– 8x gain: 300 mV\n– 16x gain: 150 mV– 32x gain: 75 mV\n– 64x gain: 38 mV\n91\n8067J–AVR–02/10XMEGA A1\n8. Setting HIRES PR bit makes PWM output unavailable\nSetting the HIRES Power Reduction (PR) bit for PORTx will make any Frequency or PWM\noutput for the corresponding Timer/Counters (TCx0 and TCx1) unavailable on the pin even if\nthe Hi-Res is not used.\nProblem fix/Workaround\nDo not write the HIRES PR bit on PORTx when frequency or PWM output from TCx0/1 is\nused.\n9. BOD will be enabled after any reset\nIf any reset source go es active, the BOD will be enabled and  keep the device in reset if the\nVCC voltage is below the prog rammed BOD level. During Powe r-On Reset, reset will not be\nreleased until VCC is above the programmed BOD level even if the BOD is disabled.\nProblem fix/Workaround\nDo not set the BOD level higher than  VCC even if the BOD is not used.\n10. Propagation delay analog Comparator increasing to 2 ms at -40 °C\nWhen the analog comparator is used at temperatures reaching down to -40 °C, the propaga-\ntion delay will increase to ~2 ms.\nProblem fix/Workaround\nNone\n11. Sampled BOD in Active mode will cause noise when bandgap is used as reference\nUsing the BOD in sample d mode when the device is runnin g in Active or Idle mode will add\nnoise on the bandgap reference for ADC and DAC.\nProblem fix/Workaround\nIf the bandgap is used as reference for either the ADC or the DAC, the BOD must not be set\nin sampled mode.\n12. Default setting for SDRAM refresh period too low\nIf the SDRAM refresh period is set to a value less then 0x20, the SDRAM content may be\ncorrupted when accessing through On-Chip Debug sessions.\nProblem fix/Workaround\nThe SDRAM refresh period (REFRESHH/L) should not be set to a value less then 0x20.\n13. Flash Power Reduction Mode can not be enabled when entering sleep mode\nIf Flash Power Reduction Mode is enabled when entering Power-save or Extended Standby\nsleep mode, the device will only wake up on every fourth wake-up request. \nIf Flash Power Reduction Mode is enabled when entering Idle sleep mode, the wake-up time\nwill vary with up to 16 CPU clock cycles.\nProblem fix/Workaround\nDisable Flash Power Reduction mode before entering sleep mode. \n14. JTAG enable does not override Analog Comparator B output\nWhen JTAG is enabled this will not override  the Anlog Comparator  B (ACB)ouput, AC0OUT\non pin 7 if this is enabled.\n92\n8067J–AVR–02/10XMEGA A1\nProblem fix/Workaround\nAC0OUT for ACB should not be enabled when JT AG is used. Use only analog comparator\noutput for ACA when JTAG is used, or use the PDI as debug interface.\n15. Bandgap measurement with the ADC is non-functional when VCC is below 2.7V\nThe ADC cannot be used to do bandgap measurements when VCC is below 2.7V.\nProblem fix/Workaround\nIf internal voltages must be measured when VCC is below 2.7V, measure the internal 1.00V\nreference instead of the bandgap.\n16. DAC refresh may be blocked in S/H mode\nIf the DAC is running in Sample and Hold (S/H) mode and conversion for one channel is\ndone at maximum rate (i.e. the DAC is always busy doing conversion fo r this channel), this\nwill block refresh signals to the second channel.\nProblem fix/Workarund\nWhen using the DAC in S/H mode, ensure that none of the channels is running at maximum\nconversion rate, or ensure that the conversion rate of both channels is high enough to not\nrequire refresh.\n18.  Inverted I/O enable does not affect Analog Comparator Output\nThe inverted I/O pin function does not affect the Analog Comparator output function.\nProblem fix/Workarund\nConfigure the analog comparator setup to give a inverted result (i.e. connect positive input to\nthe negative AC input and vice versa), or use and externel inverter to change polarity ofAnalog Comparator Output.\n19.  Both DFLLs and both oscillators has to be enabled for one to work\nIn order to use the automatic runtime calibration for the 2 MHz or the 32 MHz internal oscilla-\ntors, the DFLL for both oscillators and both os cillators has to be enabled for one to work.\nProblem fix/Workarund\nEnabled both the DFLLs and both oscillators when using automtic runtime calibration for\none of the inter nal oscillators. \n93\n8067J–AVR–02/10XMEGA A1\n35.2 ATxmega128A1 rev. G\n\x81Bootloader Section in Flash is non-functional\n\x81Bandgap voltage input for the ACs cannot be ch anged when used for bo th ACs simultaneously\n\x81DAC is nonlinear and inaccurate when reference is above 2.4V\n\x81ADC gain stage output range is limited to 2.4 V\n\x81The ADC has up to ±2 LSB inaccuracy\n\x81TWI, a general address call will ma tch independent of the R/W-bit value\n\x81TWI, the minimum I2C SCL low time could be violated in Master Read mode\n\x81Setting HIRES PR bit makes PWM output unavailable\n\x81EEPROM erase and write does not work  with all System Clock sources\n\x81BOD will be enabled after any reset\n\x81Propagation delay analog Comparator  increasing to 2 ms at -40 °C\n\x81Sampled BOD in Active mode will cause no ise when bandgap is used as reference\n\x81Default setting for SDRAM refresh period too low\n\x81Flash Power Reduction Mode can not be  enabled when entering sleep mode\n\x81Enabling Analog Comparator B output will cause JTAG failure\n\x81JTAG enable does not override  Analog Comparator B output\n\x81Bandgap measurement with the ADC is non-functional when VCC is below 2.7V\n\x81DAC refresh may be blocked in S/H mode\n\x81Inverted I/O enable does not af fect Analog Comparator Output\n\x81Both DFLLs and both oscillators has to be enabled for one to work\n1. Bootloader Section in Flash is non-functional\nThe Bootloader Section is non-functional, and bootloader or application code cannot reside\nin this part of the Flash.\nProblem fix/Workaround\nNone, do not use the Bootloader Section.\n2. Bandgap voltage input for the ACs cannot be changed when used for both ACs\nsimultaneously\nIf the Bandgap voltage is selected as input for one Analog Comparator (AC) and then\nselected/deselected as input fo r the another AC, the first com parator will be affected for up\nto 1 us and could potentially give a wrong comparison result.\nProblem fix/Workaround\nIf the Bandgap is required for both ACs simultaneously, configure the input selection for both\nACs before enabling any of them.\n3. DAC is nonlinear and inaccurate when reference is above 2.4V\nUsing the DAC with a reference voltage above 2.4V give inaccurate output when converting\ncodes that give below 0.75V output:\n– ±20 LSB for continuous mode\n– ±200 LSB for Sample and Hold mode\nProblem fix/Workaround\nNone, avoid using a voltage reference above 2.4V.\n94\n8067J–AVR–02/10XMEGA A1\n4. ADC gain stage output range is limited to 2.4 V\nThe amplified out put of the ADC gain stage will never go  above 2.4 V, hence the differential\ninput will only give corr ect output when below 2.4 V/gain. For the ava ilable gain settings, this\ngives a differential input range of:\nProblem fix/Workaround\nKeep the amplified voltage output from the ADC gain stage below 2.4 V in order to get a cor-\nrect result, or keep ADC voltage reference below 2.4 V.\n5. The ADC has up to ±2 LSB inaccuracy\nThe ADC will have up to ±2 LSB inaccuracy, visi ble as a saw-tooth pattern on the input volt-\nage/ output value transfer function of the ADC. The inaccuracy increases with increasing\nvoltage reference reaching ±2 LSB with 3V reference.\nProblem fix/Workaround\nNone, the actual ADC resolution will be reduced with up to ±2 LSB.\n6. TWI, a general address call will match independent of the R/W-bit value\nWhen the TWI is in Slave mode and a general address call is issued on the bus, the TWI\nSlave will get an address match regardless of t he R/W-bit (ADDR[0] bit) value in the Slave\nAddress Register.\nProblem fix/Workaround\nUse software to check the R/W-bit on general call address match.\n7. TWI, the minimum I2C SCL low time could be violated in Master Read mode\nWhen the TWI is in Master Read mode and issuing a Repeated Start on the bus, this will\nimmediately release the SCL line even if one complete SCL low period has not passed. This\nmeans that the minimum SCL low time in the I2C specification could be violated.\nProblem fix/Workaround\nIf this causes a potential problem in the application, software must ensure that the Repeated\nStart is never issued before one SCL low time has passed.\n8. Setting HIRES PR bit makes PWM output unavailable\nSetting the HIRES Power Reduction (PR) bit for PORTx will make any Frequency or PWM\noutput for the corresponding Timer/Counters (TCx0 and TCx1) unavailable on the pin.\nProblem fix/Workaround\nDo not write the HIRES PR bit on PORTx when frequency or PWM output from TCx0/1 is\nused.– 1x gain: 2.4 V\n– 2x gain: 1.2 V\n– 4x gain: 0.6 V– 8x gain: 300 mV\n– 16x gain: 150 mV\n– 32x gain: 75 mV– 64x gain: 38 mV\n95\n8067J–AVR–02/10XMEGA A1\n9. EEPROM erase and write does not work  with all System Clock sources\nWhen doing EEPROM erase or Write operations with other clock sources than the 2 MHz\nRCOSC, Flash will be read wrongly for one or two clock cycles at the end of the EEPROMoperation.\nProblem fix/Workaround\nAlt 1: Use the internal 2 MHz RCOSC when doing erase or write operations on EEPROM.\nAlt 2: Ensure to be in sleep mode while completing erase or write on EEPROM. After starting\nerase or write operations on EEPROM, other interrupts should  be disabled and the device\nput to sleep.\n10. BOD will be enabled after any reset\nIf any reset source go es active, the BOD will be enabled and  keep the device in reset if the\nVCC voltage is below the prog rammed BOD level. During Powe r-On Reset, reset will not be\nreleased until VCC is above the programmed BOD level even if the BOD is disabled.\nProblem fix/Workaround\nDo not set the BOD level higher than  VCC even if the BOD is not used.\n11. Propagation delay analog Comparator increasing to 2 ms at -40 °C\nWhen the analog comparator is used at temperatures reaching down to -40 °C, the propaga-\ntion delay will increase to ~2 ms.\nProblem fix/Workaround\nNone\n12. Sampled BOD in Active mode will cause noise when bandgap is used as reference\nUsing the BOD in sample d mode when the device is runnin g in Active or Idle mode will add\nnoise on the bandgap reference for ADC and DAC.\nProblem fix/Workaround\nIf the bandgap is used as reference for either the ADC or the DAC, the BOD must not be set\nin sampled mode.\n13. Default setting for SDRAM refresh period too low\nIf the SDRAM refresh period is set to a value less then 0x20, the SDRAM content may be\ncorrupted when accessing through On-Chip Debug sessions.\nProblem fix/Workaround\nThe SDRAM refresh period (REFRESHH/L) should not be set to a value less then 0x20.\n14. Flash Power Reduction Mode can not be enabled when entering sleep mode\nIf Flash Power Reduction Mode is enabled when entering Power-save or Extended Standby\nsleep mode, the device will only wake up on every fourth wake-up request. \nIf Flash Power Reduction Mode is enabled when entering Idle sleep mode, the wake-up time\nwill vary with up to 16 CPU clock cycles.\nProblem fix/Workaround\nDisable Flash Power Reduction mode before entering sleep mode. \n96\n8067J–AVR–02/10XMEGA A1\n15. JTAG enable does not override Analog Comparator B output\nWhen JTAG is enabled this will not override  the Anlog Comparator  B (ACB)ouput, AC0OUT\non pin 7 if this is enabled.\nProblem fix/Workaround\nAC0OUT for ACB should not be enabled when JT AG is used. Use only analog comparator\noutput for ACA when JTAG is used, or use the PDI as debug interface.\n16. Bandgap measurement with the ADC is non-functional when VCC is below 2.7V\nThe ADC cannot be used to do bandgap measurements when VCC is below 2.7V.\nProblem fix/Workaround\nIf internal voltages must be measured when VCC is below 2.7V, measure the internal 1.00V\nreference instead of the bandgap.\n17. DAC refresh may be blocked in S/H mode\nIf the DAC is running in Sample and Hold (S/H) mode and conversion for one channel is\ndone at maximum rate (i.e. the DAC is always busy doing conversion fo r this channel), this\nwill block refresh signals to the second channel.\nProblem fix/Workarund\nWhen using the DAC in S/H mode, ensure that none of the channels is running at maximum\nconversion rate, or ensure that the conversion rate of both channels is high enough to not\nrequire refresh.\n18.  Inverted I/O enable does not affect Analog Comparator Output\nThe inverted I/O pin function does not affect the Analog Comparator output function.\nProblem fix/Workarund\nConfigure the analog comparator setup to give a inverted result (i.e. connect positive input to\nthe negative AC input and vice versa), or use and externel inverter to change polarity of\nAnalog Comparator Output.\n19.  Both DFLLs and both oscillators has to be enabled for one to work\nIn order to use the automatic runtime calibration for the 2 MHz or the 32 MHz internal oscilla-\ntors, the DFLL for both oscillators and both os cillators has to be enabled for one to work.\nProblem fix/Workarund\nEnabled both the DFLLs and both oscillators when using automtic runtime calibration for\none of the inter nal oscillators. \n97\n8067J–AVR–02/10XMEGA A1\n36. Datasheet Revision History\n36.1 8067J – 02/10\n36.2 8067I – 04/09\n36.3 8067H – 04/09\n36.4 8067G – 11/081. Removed JTAG Reset from the datasheet.\n2. Updated “Timer/Counter and AWEX functions” on page 50 .\n3. Updated “Alternate Pin Functions” on page 51 .\n3. Updated all “Electrical Characteristics” on page 67 .\n4. Updated “PAD Characteristics” on page 73 .\n5. Changed Internal Oscillator Speed to “Oscillators and Wake-up Time” on page 86 .\n6. Updated “Errata” on page 89\n1. Updated “Ordering Information” on page 2 .\n2. Updated “PAD Characteristics” on page 73 .\n1. Editorial updates.\n2. Updated “Overview” on page 48 .\n3. Updated Table 29-9 on page 54 .\n4. Updated “Peripheral Module Address Map” on page 58 . IRCOM has address map: 0x08F8.\n5. Updated “Electrical Characteristics” on page 67 .\n6. Updated “PAD Characteristics” on page 73 .\n7. Updated “Typical Characteristics” on page 76 .\n1. Updated “Block Diagram” on page 6 .\n2. Updated feature list in “Memories” on page 10 .\n3. Updated “PDI - Program and Debug Interface” on page 48 .\n4. Updated “Peripheral Module Address Map” on page 58 . IRCOM has address 0x8F0.\n5. Added “Electrical Characteri stics” on page 67 .\n98\n8067J–AVR–02/10XMEGA A1\n36.5 8067F – 09/08\n36.6 8067E – 08/08\n36.7 8067D – 07/08\n36.8 8067C – 06/086. Added “Typical Characteristics” on page 76 .\n7. Added “ATxmega128A1 rev. H” on page 89 .\n8. Updated “ATxmega128A1 rev. G” on page 93 .\n1. Updated “Features” on page 1\n2. Updated “Ordering Information” on page 2\n3. Updated Figure 7-1 on page 11  and Figure 7-2 on page 11 .\n4. Updated Table 7-2 on page 15 .\n5. Updated “Features” on page 41 and “Overview” on page 41 .\n6. Removed “Interrupt Vector Summary” section from datasheet.\n1. Changed Figure 2-1 ’s title to “Block diagram and pinout” on page 3 .\n2. Updated Figure 2-2 on page 4 .\n3. Updated Table 29-2 on page 51  and Table 29-3 on page 52 .\n1. Updated “Ordering Information” on page 2 .\n2. Updated “Peripheral Module Address Map” on page 58 .\n3. Inserted “Interrupt Vector Summary” on page 56 .\n1. Updated the Front page and “Features” on page 1 .\n2. Updated the “DC Characteristics” on page 67 .\n3. Updated Figure 3-1 on page 6 .\n4. Added “Flash and EEPROM Page Size” on page 15 .\n5. Updated Table 33-6 on page 71  with new data: Gain Error, Of fset Error and Signal -to-Noise \nRatio (SNR).\n6. Updated Errata “ATxmega128A1 rev. G” on page 93 .\n99\n8067J–AVR–02/10XMEGA A1\n36.9 8067B – 05/08\n36.10 8067A – 02/081. Updated “Pinout/Block Diagram” on page 3  and “Pinout and Pin Functions” on page 49 .\n2. Added XMEGA A1 Block Diagram, Figure 3-1 on page 6 .\n3. Updated “Overview” on page 5  included the XMEGA A1 explanation text on page 6.\n4. Updated AVR CPU “Features” on page 8 .\n5. Updated Event System block diagram, Figure 9-1 on page 18 .\n6. Updated “PMIC - Programmable Multi-level Interrupt Controller” on page 25 .\n7. Updated “AC - Analog Comparator” on page 44 .\n8. Updated “Alternate Pin Function Description” on page 49 .\n9. Updated “Alternate Pin Functions” on page 51 .\n10. Updated “Typical Characteristics” on page 76 .\n11. Updated “Ordering Information” on page 2 .\n12. Updated “Overview” on page 5 .\n13. Updated Figure 6-1 on page 8 .\n14. Inserted a new Figure 15-1 on page 32 .\n15. Updated Speed grades in “Speed” on page 69 .\n16. Added a new ATxmega384A1 device in “Features” on page 1 , updated “Ordering Information” on \npage 2  and “Memories” on page 10 .\n17. Replaced the Figure 3-1 on page 6  by a new XMEGA A1 detailed block diagram.\n18. Inserted Errata “ATxmega128A1 rev. G” on page 93 .\n1. Initial revision.\ni\n8067J–AVR–02/10XMEGA A1\nTable of Contents\nFeatures ................ ................ .............. ............... .............. .............. ............ 1\nTypical Applications .............. .............. .............. .............. .............. .......... 1\n1 Ordering Information .......... .............. ............... .............. .............. ............ 2\n2 Pinout/Block Diagram ......... .............. ............... .............. .............. ............ 3\n3 Overview ............ ................ ................ ............... .............. .............. ............ 5\n3.1 Block Diagram ...................................................................................................6\n4 Resources .............. .............. .............. ............... .............. .............. ............ 7\n4.1 Recommended reading .....................................................................................7\n5 Disclaimer .............. .............. .............. ............... .............. .............. ............ 7\n6 AVR CPU ............ ................ ................ ............... .............. .............. ............ 8\n6.1 Features ............................................................................................................8\n6.2 Overview ............................................................................................................86.3 Register File ......................................................................................................96.4 ALU - Arithmetic Logic Unit ...............................................................................96.5 Program Flow ....................................................................................................9\n7 Memories ............... .............. .............. ............... .............. .............. .......... 10\n7.1 Features ..........................................................................................................10\n7.2 Overview ..........................................................................................................107.3 In-System Programmable Flash Program Memory .........................................11\n7.4 Data Memory ...................................................................................................11\n7.5 Production Signature Row ...............................................................................147.6 User Signature Row ........................................................................................147.7 Flash and EEPROM Page Size ............. ................ ................ ................ ..........15\n8 DMAC - Direct Memory Access Controller ............... ................. .......... 16\n8.1 Features ..........................................................................................................16\n8.2 Overview ..........................................................................................................16\n9 Event System ........ .............. .............. ............... .............. .............. .......... 17\n9.1 Features ..........................................................................................................17\n9.2 Overview ..........................................................................................................17\n10 System Clock and Clock options ................ ................. .............. .......... 19\n10.1 Features ..........................................................................................................19\nii\n8067J–AVR–02/10XMEGA A1\n10.2 Overview ..........................................................................................................19\n10.3 Clock Options ..................................................................................................20\n11 Power Management and Sleep Modes ........ ................. .............. .......... 22\n11.1 Features ..........................................................................................................22\n11.2 Overview ..........................................................................................................2211.3 Sleep Modes ....................................................................................................22\n12 System Control and Reset .... .............. .............. .............. .............. ........ 23\n12.1 Features ..........................................................................................................23\n12.2 Resetting the AVR ...........................................................................................2312.3 Reset Sources .................................................................................................2312.4 WDT - Watchdog Timer ...................................................................................24\n13 PMIC - Programmable Multi-l evel Interrupt Controller  ............. .......... 25\n13.1 Features ..........................................................................................................25\n13.2 Overview ..........................................................................................................2513.3 Interrupt vectors ...............................................................................................25\n14 I/O Ports ............... ................ .............. ............... .............. .............. .......... 27\n14.1 Features ..........................................................................................................27\n14.2 Overview ..........................................................................................................2714.3 I/O configuration ..............................................................................................2714.4 Input sensing ...................................................................................................3014.5 Port Interrupt ....................................................................................................3014.6 Alternate Port Functions ..................................................................................30\n15 T/C - 16-bit Timer/Counter .. .............. ............... .............. .............. .......... 31\n15.1 Features ..........................................................................................................31\n15.2 Overview ..........................................................................................................31\n16 AWEX - Advanced Waveform Extension .... ................. .............. .......... 33\n16.1 Features ..........................................................................................................33\n16.2 Overview ..........................................................................................................33\n17 Hi-Res - High Resolution Extension .......... ................ ................. .......... 34\n17.1 Features ..........................................................................................................34\n17.2 Overview ..........................................................................................................34\n18 RTC - 16-bit Real-Tim e Counter ....... ............... .............. .............. .......... 35\n18.1 Features ..........................................................................................................35\niii\n8067J–AVR–02/10XMEGA A1\n18.2 Overview ..........................................................................................................35\n19 TWI - Two-Wire Interface .... .............. ............... .............. .............. .......... 36\n19.1 Features ..........................................................................................................36\n19.2 Overview ..........................................................................................................36\n20 SPI - Serial Peripher al Interface ............ .............. .............. ............ ........ 37\n20.1 Features ..........................................................................................................37\n20.2 Overview ..........................................................................................................37\n21 USART ............. ................. ................ ................. .............. .............. .......... 38\n21.1 Features ..........................................................................................................38\n21.2 Overview ..........................................................................................................38\n22 IRCOM - IR Communication Module .............. .............. .............. .......... 39\n22.1 Features ..........................................................................................................39\n22.2 Overview ..........................................................................................................39\n23 Crypto Engine ............ ................ ................. ................ ................. .......... 40\n23.1 Features ..........................................................................................................40\n23.2 Overview ..........................................................................................................40\n24 ADC - 12-bit Analog to Digi tal Converter ....... .............. .............. .......... 41\n24.1 Features ..........................................................................................................41\n24.2 Overview ..........................................................................................................41\n25 DAC - 12-bit Digital to An alog Converter ................ ................ ............. 43\n25.1 Features ..........................................................................................................43\n25.2 Overview ..........................................................................................................43\n26 AC - Analog Comparator .... .............. ............... .............. .............. .......... 44\n26.1 Features ..........................................................................................................44\n26.2 Overview ..........................................................................................................4426.3 Input Selection .................................................................................................4626.4 Window Function .............................................................................................46\n27 OCD - On-chip Debug ......... .............. ............... .............. .............. .......... 47\n27.1 Features ..........................................................................................................47\n27.2 Overview ..........................................................................................................47\n28 PDI - Program and Debug Interface .......... ................ ................. .......... 48\n28.1 Features ..........................................................................................................48\n28.2 Overview ..........................................................................................................48\niv\n8067J–AVR–02/10XMEGA A1\n28.3 IEEE 1149.1 (JTAG) Boundary-scan ...............................................................48\n29 Pinout and Pin Functions ................. ............... .............. .............. .......... 49\n29.1 Alternate Pin Function Description ..................................................................49\n29.2 Alternate Pin Functions ...................................................................................51\n30 Peripheral Module Addr ess Map ............... ................ ................. .......... 58\n31 Instruction Set Summary ... .............. ............... .............. .............. .......... 60\n32 Packaging information .......... .............. .............. .............. .............. ........ 64\n32.1 100A ................................................................................................................64\n32.2 100C1 ..............................................................................................................6532.3 100C2 ..............................................................................................................66\n33 Electrical Characteristics ... .............. ............... .............. .............. .......... 67\n33.1 Absolute Maximum Ratings* ...........................................................................67\n33.2 DC Characteristics ...........................................................................................6733.3 Speed ..............................................................................................................6933.4 Flash and EEPROM Memory Characterist ics .............. ............ ............. ..........70\n33.5 ADC Characteristics ........................................................................................7133.6 DAC Characteristics ........................................................................................7233.7 Analog Comparator Characteristics .................................................................7233.8 Bandgap Characteristics .................................................................................7233.9 Brownout Detection Characteristics ................................................................7333.10 PAD Characteristics ........................................................................................7333.11 POR Characteristics ........................................................................................7433.12 Reset Characteristics ......................................................................................7433.13 Oscillator Characteristics .................................................................................74\n34 Typical Characteristics ....... .............. ............... .............. .............. .......... 76\n34.1 Active Supply Current ......................................................................................76\n34.2 Idle Supply Current ..........................................................................................7734.3 Power-down Supply Current ............................................................................7834.4 Power-save Supply Current .............................................................................7834.5 Pin Pull-up .......................................................................................................7934.6 Pin Thresholds and Hysteresis ........................................................................8034.7 Bod Thresholds ...............................................................................................8334.8 Bandgap ..........................................................................................................8434.9 Analog Comparator .........................................................................................84\nv\n8067J–AVR–02/10XMEGA A1\n34.10 Oscillators and Wake-up Time ........................................................................86\n35 Errata ............. ................ ................. ................ ................. .............. .......... 89\n35.1 ATxmega128A1 rev. H ....................................................................................89\n35.2 ATxmega128A1 rev. G ....................................................................................93\n36 Datasheet Revision History .. .............. .............. .............. .............. ........ 97\n36.1 8067J – 02/10 ..................................................................................................97\n36.2 8067I – 04/09 ...................................................................................................9736.3 8067H – 04/09 .................................................................................................9736.4 8067G – 11/08 .................................................................................................9736.5 8067F – 09/08 .................................................................................................9836.6 8067E – 08/08 .................................................................................................9836.7 8067D – 07/08 .................................................................................................9836.8 8067C – 06/08 .................................................................................................9836.9 8067B – 05/08 .................................................................................................9936.10 8067A – 02/08 .................................................................................................99\nTable of Contents.......... ................. ................ ................. ................ ........... i\n8067J–AVR–02/10© 2010 Atmel Corporation. All rights reserved. Atmel®, Atmel logo and combinations thereof, AVR®, AVR® logo and others are registered trade-\nmarks, XMEGATM and others aretrademarks of Atmel Corporation or its s ubsidiaries. Other terms and product names may be trademarks\nof others.Headquarters International\nAtmel Corporation\n2325 Orchard Parkway\nSan Jose, CA 95131\nUSATel: 1(408) 441-0311\nFax: 1(408) 487-2600Atmel Asia\nUnit 1-5 & 16, 19/F\nBEA Tower, Millennium City 5\n418 Kwun Tong RoadKwun Tong, Kowloon\nHong Kong\nTel: (852) 2245-6100Fax: (852) 2722-1369Atmel Europe\nLe Krebs\n8, Rue Jean-Pierre Timbaud\nBP 30978054 Saint-Quentin-en-\nYvelines Cedex\nFranceTel: (33) 1-30-60-70-00 \nFax: (33) 1-30-60-71-11Atmel Japan\n9F, Tonetsu Shinkawa Bldg.\n1-24-8 Shinkawa\nChuo-ku, Tokyo 104-0033Japan\nTel: (81) 3-3523-3551\nFax: (81) 3-3523-7581\nProduct Contact\nWeb Sitewww.atmel.comTechnical Support\navr@atmel.comSales Contact\nwww.atmel.com/contacts\nLiterature Requests\nwww.atmel.com/literature\nDisclaimer:  The information in this document is provided in connection with  Atmel products. No license, express or implied, by estoppel or  otherwise, to any\nintellectual property right is granted by this document  or in connection with the sale of Atmel products. EXCEPT AS SET FORTH IN ATMEL ’S TERMS AND CONDI-\nTIONS OF SALE LOCATED ON ATMEL ’S WEB SITE, ATMEL ASSUMES NO LI ABILITY WHATSOEVER AND DISCLAIMS ANY EXPRESS, IMPLIED OR STATUTOR Y\nWARRANTY RELATING TO ITS PRODUCTS INCLUDING,  BUT NOT LIMITED TO, THE IMPLIED WARRANTY  OF MERCHANTABILITY, FITNESS FOR A PARTICU LAR\nPURPOSE, OR NON-INFRINGEMENT. IN NO EVENT SHALL ATMEL BE LIABLE FOR ANY DIRECT, INDIRECT, CONSEQUENTIAL, PUNITIVE, SPECIAL OR I NCIDEN-\nTAL DAMAGES (INCLUDING, WITHOUT LIMITATION, DAMAGES FOR LOSS OF PROFITS, BUSINESS INTERRUPTION, OR LOSS OF INFORMATION) ARISING  OUT OF\nTHE USE OR INABILITY TO USE THIS DOCUMENT, EVEN IF ATME L HAS BEEN ADVISED OF THE POSSIBILITY OF  SUCH DAMAGES.  Atmel makes no\nrepresentations or warranties with respect to the accuracy or comp leteness of the contents of this document and reserves the rig ht to make changes to specifications\nand product descriptions at any time without notice. Atmel does  not make any commitment to update the information contained her ein. Unless specifically provided\notherwise, Atmel products are not suitable for, and shall not be used in, automotive applications. Atmel’s products are not int ended, authorized, or warranted for use\nas components in applications in tended to support or sustain life.\n"}]
!==============================================================================!
### Component Summary: ATXMEGA64A1-AU

#### Key Characteristics and Specifications:
- **Voltage Ratings**: 1.6V to 3.6V
- **Current Ratings**: 
  - Maximum DC current per I/O pin: 20 mA
  - Power Supply Current (Active): Up to 20 mA at 32 MHz
- **Power Consumption**: 
  - Active mode: Varies with frequency and voltage (e.g., 790 µA at 1 MHz, 3.0V)
  - Idle mode: 255 µA at 3.0V, 1 MHz
  - Power-down mode: 0.1 µA at 3.0V
- **Operating Temperature Range**: -40°C to 85°C
- **Package Type**: 
  - 100-lead TQFP (Thin Quad Flat Package)
  - 100-ball CBGA (Chip Ball Grid Array)
  - 100-ball VFBGA (Very Thin Fine-Pitch Ball Grid Array)
- **Special Features**: 
  - High-performance, low-power 8/16-bit AVR XMEGA microcontroller
  - In-system programmable Flash memory (64K to 384K bytes)
  - Multiple peripherals including DMA controller, ADCs, DACs, USARTs, and more
  - Advanced power management with multiple sleep modes
  - JTAG and PDI interfaces for programming and debugging
- **Moisture Sensitive Level**: JEDEC J-STD-020E (Level 1)

#### Description:
The ATXMEGA64A1-AU is a high-performance, low-power 8/16-bit AVR XMEGA microcontroller designed for a wide range of embedded applications. It features a rich set of peripherals, including multiple timers, communication interfaces (USART, SPI, TWI), and analog interfaces (ADC, DAC). The microcontroller is capable of executing powerful instructions in a single clock cycle, achieving high throughput while optimizing power consumption.

#### Typical Applications:
The ATXMEGA64A1-AU is suitable for various applications, including:
- **Industrial Control**: Automation systems, process control, and robotics.
- **Climate Control**: HVAC systems and environmental monitoring.
- **Hand-held Battery Applications**: Portable devices requiring low power consumption.
- **Factory Automation**: Equipment control and monitoring.
- **Networking**: Communication devices and protocols.
- **Medical Applications**: Patient monitoring systems and medical devices.
- **Consumer Electronics**: Smart appliances and home automation systems.

This microcontroller's versatility and extensive peripheral support make it an ideal choice for developers looking to implement complex functionalities in compact and efficient designs.