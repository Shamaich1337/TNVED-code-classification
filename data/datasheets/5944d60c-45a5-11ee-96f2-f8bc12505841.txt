[{'role': 'system', 'content': 'You are a technical specialist with expertise in electronics. Your task is to analyze datasheets for electronic components and provide a concise summary of the product’s key characteristics and specifications. In addition, you need to gather textual information about the component, including its description and typical applications.Instructions:    Identify the correct component in the datasheet using the provided product code.    Summarize key parameters, including:        Voltage ratings        Current ratings        Power consumption        Operating temperature range        Package type        Special features or notes (if applicable)        Moisture Sensetive Level JEDEC J-STD-020E    Provide a short description of the component, including what it is (e.g., transistor, microcontroller, sensor) and its primary function.    Explain typical applications for the component (e.g., power management, signal processing, data storage, etc.).    Be thorough and accurate: Ensure the information corresponds specifically to the product code, as some datasheets cover multiple variants.Your goal is to create a clear and accurate technical summary that includes both key specifications and a description of what the component is used for.'}, {'role': 'user', 'content': 'Give me information about the component of MAX31343EKA+T production of MAXIM INTEGRATED from the text:General Description \nThe MAX31343 is a low-cost, extremely accurate, I 2C re-\nal-time clock (RTC). The device incorporates a battery in -\nput and maintains accurate timekeeping when main power \nto the device is interrupted. The integration of the micro -\nelectromechanical systems (MEMS) resonator enhances \nthe long-term accuracy of the device and eliminates the \nexternal crystal requirement in the system. The \nMAX31343 is available in the 8-pin WLP and TDFN pack -\nages. \nThe RTC maintains seconds, minutes, hours, day, date, \nmonth, year, and century information. The date at the end \nof the month is automatically adjusted for months with \nfewer than 31 days, including corrections for leap year \nup to year 2199. The clock operates in the 24-hour for -\nmat. Other features including two programmable time-of-\nday alarms, interrupt output, uncompensated programma -\nble clock output, and temperature-compensated program -\nmable square-wave output. Address and data are trans -\nferred serially through an I 2C bidirectional bus. A voltage \nreference and comparator circuit monitors the status of \nVCC to detect power failures and automatically switch to \nthe backup supply when necessary. See the Typical Ap -\nplication Circuit for more details. \nApplications \n● Industrial \n● Action Cameras \n● Communications \n● Handheld Instrumentation \n● Power Meters \n● Wearables Benefits and Features \n● Highly Accurate RTC with Integrated MEMS \nResonator Completely Manages All Timekeeping \nFunctions \n• Complete Clock Calendar Functionality Including \nSeconds, Minutes, Hours, Day, Date, Month, Year, \nand Century with Leap-Year Compensation up to \nYear 2199 \n• Timekeeping Accuracy ±5ppm (±0.432 second/day) \nfrom -40°C to +85°C \n• Two Time-of-Day Alarms \n• Temperature-Compensated Programmable Square-\nWave Output \n• Uncompensated Programmable Clock Outputs \n• Automatically Switch over to Backup Battery or \nSupercapacitor on Power-Fail \n• Digital Temperature Sensor with ±3°C Accuracy \n• +1.6V to +5.5V Supply Voltage \n● 64-Byte RAM for User Data Storage \n● Simple Serial Interface Connects to Most \nMicrocontrollers \n• I2C Interface \n● Battery-Backup Input for Continuous Timekeeping \n● Low-Power Operation Extends Battery-Backup \nRuntime \n● Operating Temperature Range: -40°C to +85°C \n● 2.1mm x 2.3mm, 8-Pin WLP Package \n● 4mm x 3mm, 8-Pin TDFN Package \n● Underwriters Laboratories ® (UL) Recognized \nClick here  to ask an associate for production status of specific part numbers.\nMAX31343 ±5ppm, I 2C Real-Time Clock with Integrated\nMEMS OscillatorEVALUATION KIT AVAILABLE\nOrdering Information  appears at end of data sheet.\nUnderwriters Laboratories Inc. is a registered certification mark of\nUnderwriters Laboratories Inc.19-100717; Rev 5; 11/21\n© 2021 Analog Devices, Inc. All rights reserved. Trademarks and registered trademarks are the property of their respective owners.\nOne Analog Way, Wilmington, MA 01887 U.S.A. | Tel: 781.329.4700 | © 2021 Analog Devices, Inc. All rights reserved.\nSimplified Block Diagram \nI\n2\nC \nINTERFACE\nREGISTERS (CONFIG, \nSTATUS) AND SRAM\nCLOCK/CALENDAR \nWITH ALARM\nTEMP \nSENSOR\nN/FRAC\n-\nN \nDIVIDER\nDIGITAL \nADJUSTMENT\nCONTROL\nFACTORY TRIM\nINT\nCLKO\nSDA\nSCL\nPOWER CONTROL \nAND TRICKLE \nCHARGER\nV\nCC\nV\nBAT\nGND\nMEMS \nRESONATOR\nOSCILLATOR\nMMAAXX3311334433\nPOR\nV\nCC\n \nINTERNAL\n1Hz\nSQW\nSQW\nMAX31343 ±5ppm, I 2C Real-Time Clock with Integrated\nMEMS Oscillator\nwww.analog.com Analog Devices  |  2\nTABLE OF CONTENTS \nGeneral Description . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 1 \nApplications . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 1 \nBenefits and Features . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 1 \nSimplified Block Diagram . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 2 \nAbsolute Maximum Ratings . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7 \nPackage Information . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7 \n8 WLP . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7 \n8 TDFN . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7 \nElectrical Characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 8 \nTypical Operating Characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 11 \nPin Configurations . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 12 \n8 WLP . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 12 \n8 TDFN . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 12 \nPin Description . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 13 \nFunctional Block Diagram . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 13 \nDetailed Description . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 14 \nHigh-Accuracy Time Base . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 14 \nSupply Operation . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 14 \nPower-Fail Interrupt Output . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 14 \nReal-Time Clock (RTC) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 14 \nAddress Map . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 15 \nRTC, Alarm, and Timer Registers . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 15 \nClock and Calendar . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 16 \nAlarms . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 16 \nPower Management . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 17 \nTrickle Charger . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 18 \nTemperature Sensor . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 18 \nInterrupts Status and Output . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 18 \nData-Retention Mode . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 18 \nCountdown Timer . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 19 \nTiming Diagram . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 19 \nI2C Serial Port Operation . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 20 \nI2C Slave Address . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 20 \nI2C Definitions . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 20 \nI2C Communication . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 22 \nRegister Map . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 23 \nRC18 Register Map . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 23 \nRegister Details . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 25 \nApplications Information . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 39 MAX31343 ±5ppm, I 2C Real-Time Clock with Integrated\nMEMS Oscillator\nwww.analog.com Analog Devices  |  3\nTABLE OF CONTENTS (CONTINUED) \nPower-Supply Decoupling . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 39 \nUsing Open-Drain Outputs . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 39 \nSDA and SCL Pullup Resistors . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 39 \nHandling . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 39 \nTypical Application Circuit . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 39 \nOrdering Information . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 39 \nRevision History . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 40 MAX31343 ±5ppm, I 2C Real-Time Clock with Integrated\nMEMS Oscillator\nwww.analog.com Analog Devices  |  4\nLIST OF FIGURES \nFigure 1. Trickle Charger Block Diagram . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 18 \nFigure 2. I 2C Timing . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 19 \nFigure 3. I 2C Slave Address . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 20 \nFigure 4. I 2C Transactions . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 22 MAX31343 ±5ppm, I 2C Real-Time Clock with Integrated\nMEMS Oscillator\nwww.analog.com Analog Devices  |  5\nLIST OF TABLES \nTable 1. Status and Configuration Registers . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 15 \nTable 2. RTC, Alarm, and Timer Registers . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 15 \nTable 3. Alarm1 Register Mask Bits . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 16 \nTable 4. Alarm2 Register Mask Bits . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 16 \nTable 5. Power Management . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 17 \nTable 6. Countdown Timer Setting . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 19 MAX31343 ±5ppm, I 2C Real-Time Clock with Integrated\nMEMS Oscillator\nwww.analog.com Analog Devices  |  6\nAbsolute Maximum Ratings \nVoltage Range on Any Pin Relative to GND ......... -0.3V to +6.0V \nOperating Temperature Range ............................ -40°C to +85°C \nStorage Temperature Range .............................. -55°C to +125°C Junction Temperature ....................................................... +150°C \nLead Temperature (soldering, 10s) ................................... +300°C \nSoldering Temperature (reflow) ........................................ +260°C \nStresses beyond those listed under “Absolute Maximum Ratings” may cause permanent damage to the device. These are stress ratings only, and functional operation of the \ndevice at these or any other conditions beyond those indicated in the operational sections of the specifications is not implied. Exposure to absolute maximum rating conditions for \nextended periods may affect device reliability. \nPackage Information \n8 WLP \nPackage Code K82A2+1 \nOutline Number 21-100336 \nLand Pattern Number N/A \nThermal Resistance, Four-Layer Board: \nJunction to Ambient (θ JA) 109.1°C/W \nJunction to Case (θ JC) N/A \n8 TDFN \nPackage Code T834MKY+1 \nOutline Number 21-100322 \nLand Pattern Number 90-100121 \nThermal Resistance, Four-Layer Board: \nJunction to Ambient (θ JA) 47.44°C/W \nJunction to Case (θ JC) 2.65°C/W \nFor the latest package outline information and land patterns (footprints), go to www.maximintegrated.com/packages . Note that a “+”, “#”, or “-” in the package code indicates \nRoHS status only. Package drawings may show a different suffix character, but the drawing pertains to the package regardless of RoHS status. \nPackage thermal resistances were obtained using the method described in JEDEC specification JESD51-7, using a four-layer board. For detailed information on package thermal \nconsiderations, refer to www.maximintegrated.com/thermal-tutorial . MAX31343 ±5ppm, I 2C Real-Time Clock with Integrated\nMEMS Oscillator\nwww.analog.com Analog Devices  |  7\nElectrical Characteristics \n(VCC or VBAT = +1.6V to +5.5V, T A = -40ºC to +85ºC, unless otherwise noted. Typical values are at V CC = +3.3V, V BAT = +3.0V, and \nTA = +25ºC, unless otherwise noted. Limits are 100% tested at T A = +25ºC. Note 9.) \nPARAMETER SYMBOL CONDITIONS MIN TYP MAX UNITS \nRECOMMENDED OPERATING CONDITIONS (NOTE 1) \nSupply Voltage VCC 1.6 3.3 5.5 \nV \nVBAT 1.6 3 5.5 \nLogic 1 VIH VCC_INT = 1.6V (Note 10) 0.75 x \nVCC_INT VCC_INT \n+ 0.3 \nV \nVCC_INT  = 3.3V (Note 10) 0.7 x \nVCC_INT VCC_INT \n+ 0.3 \nLogic 0 VIL (Note 10) -0.3 0.3 x \nVCC_INT V \nFREQUENCY AND TIMEKEEPING \nSQW Compensated \nFrequency Tolerance Δf/fOUT VCC = 3.3V (Note 2) ±5 ppm \nAging Performance ∆f/fO Not Production \nTested 0-1 Year ±1 \nppm \n1-10 Years ±2 \nSQW Compensated \nFrequency Stability vs. \nVCC Voltage Δf/V ±1 ppm/V \nTimekeeping Accuracy tKA VCC = 3.3V (Note 2) ±0.432 Seconds/\nDay \nUncompensated Output \nFrequency Tolerance Δf/fOUT ±1 % \nDC CHARACTERISTICS / GENERAL (V CC = +1.6V to +5.5V) \nTemperature \nConversion Current (I 2C \nInactive) ICCSCONV VCC = 3.3V 40 80 \nµA \nVCC = 5.5V 60 100 \nPower-Fail Voltage VPF Register Pwr_mgmt[5:4] = 0x01 1.8 \nV Register Pwr_mgmt[5:4] = 0x02 2.0 \nRegister Pwr_mgmt[5:4] = 0x03 2.4 \nLogic 0 Output (CLKO, \nINT, SQW, SDA) VOL IOL = 100µA, V CC = 1.6V 0.1 x \nVCC V \nIOL = 3mA, V CC = 3.3V 0.1 x \nVCC \nLogic 1 Output (CLKO) VOH IOH = 100μA, V CC = 1.6V 0.9 x \nVCC V \nIOH = 3mA, V CC = 3.3V 0.75 x \nVCC \nOutput Leakage ( INT, \nSQW, SDA, CLKO) ILO -0.1 0.1 µA \nInput Leakage (SCL) ILI -0.1 0.1 µA \nVBAT Leakage IBATLKG 3 20 nA \nTemperature Accuracy TEMP ACC VCC or VBAT = +3.3V ±3 °C \nTemperature \nConversion Time tCONV 40 ms MAX31343 ±5ppm, I 2C Real-Time Clock with Integrated\nMEMS Oscillator\nwww.analog.com Analog Devices  |  8\nElectrical Characteristics (continued) \n(VCC or VBAT = +1.6V to +5.5V, T A = -40ºC to +85ºC, unless otherwise noted. Typical values are at V CC = +3.3V, V BAT = +3.0V, and \nTA = +25ºC, unless otherwise noted. Limits are 100% tested at T A = +25ºC. Note 9.) \nPARAMETER SYMBOL CONDITIONS MIN TYP MAX UNITS \nOscillator Stop Flag \n(OSF) Delay tOSF (Note 3) 20 60 ms \nDC CHARACTERISTICS / CURRENT CONSUMPTION \nTimekeeping Current \n(I2C Inactive) (Note 4) ISUPPLY ENCLKO = 0; 32 \nsecond \ntemperature \nmeasurement \ninterval VCC = 1.6V 650 1200 \nnA VCC = 3.3V 940 1500 \nVCC = 5.5V 1400 2000 \nData Retention Current \n(Oscillator Stopped and \nI2C Inactive) IDR TA = +25°C 5 100 nA \nAC CHARACTERISTICS / POWER SWITCH (FIGURE 2) \nMaximum Supply \nVoltage Power-Up Slew \nRate tVCCR 5 V/ms \nMaximum Supply \nVoltage Switchover \nSlew Rate tVCCF 1.4 V/ms \nAC CHARACTERISTICS / I 2C INTERFACE (NOTE 5, FIGURE 1) \nSCL Clock Frequency fSCL 400 kHz \nBus Free Time Between \nSTOP and START \nConditions tBUF 1.3 μs \nHold Time (Repeated) \nSTART Condition tHD:STA 0.6 μs \nLow Period of SCL tLOW 1.3 μs \nHigh Period of SCL tHIGH 0.6 μs \nData Hold Time tHD:DAT 0 0.9 μs \nData Setup Time tSU:DAT 100 ns \nSTART Setup Time tSU:STA 0.6 μs \nMinimum Rise Time of \nBoth SDA and SCL tRMIN (Note 6) 20 + \n0.1C B ns \nMaximum Rise Time of \nBoth SDA and SCL tRMAX 300 ns \nMinimum Fall Time for \nBoth SDA and SCL tFMIN (Note 6) 20 + \n0.1C B ns \nMaximum Fall Time for \nBoth SDA and SCL tFMAX 300 ns \nSTOP Setup Time tSU:STO 0.6 μs \nMaximum Capacitive \nLoad for Each Bus Line CB (Note 7) 400 pF \nSDA, SCL Input \nCapacitance CI 10 pF \nTimeout Interval tTIMEOUT (Note 8) 25 35 ms MAX31343 ±5ppm, I 2C Real-Time Clock with Integrated\nMEMS Oscillator\nwww.analog.com Analog Devices  |  9\nNote 1: All voltages are referenced to ground. \nNote 2: Frequency accuracy is measured over 512s interval. \nNote 3: The parameter t OSF is the period of time the oscillator must be stopped for the OSF flag to be set. \nNote 4: Includes the temperature conversion current (averaged). \nNote 5: Interface timing shown is for fast-mode (400kHz) operation. This device is also backward-compatible with standard mode I 2C \ntiming. \nNote 6: Guaranteed by design; not 100% production tested. \nNote 7: CB: Total capacitance of one bus line in picofarads. \nNote 8: The MAX31343 can detect any single SCL clock held low longer than t TIMEOUTMIN . The device I 2C interface is in reset \nstate and can receive a new START condition when SCL is held low for at least t TIMEOUTMAX . Once the device detects this \ncondition, the SDA output is released. The oscillator must be running for this function to work. \nNote 9: Limits at -40ºC and +85ºC are guaranteed by design and characterization. \nNote 10: VCC_INT  is the active internal supply. V CC_INT = VBAT when VCC < VPF and VCC < VBAT; V CC_INT = VCC in all other \nconditions in Power Management Auto mode (see Table 5 ). MAX31343 ±5ppm, I 2C Real-Time Clock with Integrated\nMEMS Oscillator\nwww.analog.com Analog Devices  |  10\nTypical Operating Characteristics \n(VCC = +3.3V, V BAT = +3.0V, and T A = +25°C, unless otherwise noted.) MAX31343 ±5ppm, I 2C Real-Time Clock with Integrated\nMEMS Oscillator\nwww.analog.com Analog Devices  |  11\nPin Configurations \n8 WLP \nA3 A2 A1\n+TOP VIEW\nA4\nVCC INT SQW CLKOB3 B2 B1 B4SDA VBAT SCL GND\nMAX31343MAX31343\n8 TDFN \n++\n3mm x 4mm3mm x 4mmTOP VIEW\n8SCL\n7SDA\n6VBAT\n5GND\n4\nSQW3\nINT2\nVCC1\nCLKOMAX31343MAX31343MAX31343 ±5ppm, I 2C Real-Time Clock with Integrated\nMEMS Oscillator\nwww.analog.com Analog Devices  |  12\nPin Description \nPIN \nNAME FUNCTION \n8 WLP 8 TDFN \nA1 1 CLKO 32.875kHz or 1Hz - 128Hz CMOS Push-Pull Output (50% Duty Cycle). Enable \nCLKO output by setting ENCLKO bit to 1 in the RTC_config2 register (4h). This \noutput operates on either power supply. This pin can be left open circuit if not \nused. \nA2 2 VCC DC Power Pin for Primary Power Supply. This pin should be decoupled using a \n0.1μF to 1.0μF capacitor. \nA3 3 INT Active-Low Interrupt. This pin is used to output an alarm or interrupt. This is an \nopen-drain output and requires an external pullup resistor. \nA4 4 SQW Square-Wave Output. This pin is used to output a temperature-compensated \nsquare wave with programmable frequency from 1Hz to 32Hz. This is an open-\ndrain and requires an external pullup resistor. If not use, connect to ground. \nB1 8 SCL Serial-Clock Input. This pin is the clock input for the I 2C serial interface and is \nused to synchronize data movement on the serial interface. The pullup voltage can \nbe up to 5.5V, regardless of the voltage on V CC. \nB2 7 SDA Serial-Data Input/Output. This pin is the data input/output for the I 2C serial \ninterface. This open-drain pin requires an external pullup resistor. The pullup \nvoltage can be up to 5.5V, regardless of the voltage on V CC. \nB3 6 VBAT Backup Power-Supply Input. When using the device with the V BAT input as the \nprimary power source, this pin should be decoupled using a 0.1μF to 1.0μF low-\nleakage capacitor. When using the device with the V BAT input as the backup \npower source, the capacitor is not required. If V BAT is not used, connect to \nground. The device is UL recognized to ensure against reverse charging when \nused with a primary lithium battery. Go to www.maximintegrated.com/qa/info/ul for \nmore information. \nB4 5 GND Ground \n— EP EP Exposed Pad. Connects to ground. \nFunctional Block Diagram \nI\n2\nC \nINTERFACE\nREGISTERS (CONFIG, \nSTATUS) AND SRAM\nCLOCK/CALENDAR \nWITH ALARM\nTEMP \nSENSOR\nN/FRAC\n-\nN \nDIVIDER\nDIGITAL \nADJUSTMENT\nCONTROL\nFACTORY TRIM\nINT\nCLKO\nSDA\nSCL\nPOWER CONTROL \nAND TRICKLE \nCHARGER\nV\nCC\nV\nBAT\nGND\nMEMS \nRESONATOR\nOSCILLATOR\nMMAAXX3311334433\nPOR\nV\nCC\n \nINTERNAL\n1Hz\nSQW\nSQW\nMAX31343 ±5ppm, I 2C Real-Time Clock with Integrated\nMEMS Oscillator\nwww.analog.com Analog Devices  |  13\nDetailed Description \nThe MAX31343 is a serial real-time clock (RTC) driven by an internal temperature-compensated microelectromechanical \nsystems (MEMS) resonator. The oscillator provides a stable and accurate reference clock and maintains the RTC \nto within ±0.432 seconds-per-day accuracy from -40°C to +85°C. The RTC is a low-power clock/calendar with two \nprogrammable alarms. INT provides an interrupt signal due to alarm1 or alarm2 conditions. SQW outputs programmable \ntemperature compensated square wave. Pin CLKO is an uncompensated output. The clock/calendar provides seconds, \nminutes, hours, day, date, month, year, and century information. The date at the end of the month is automatically \nadjusted for months with fewer than 31 days, including corrections for leap year up to year 2199. The clock operates \nin the 24-hour format. The internal registers are accessible though an I 2C bus interface. An internal comparator circuit \nmonitors the level of V CC to detect power failures and to automatically switch to the backup supply when necessary. \nHigh-Accuracy Time Base \nThe temperature sensor, oscillator, and digital adjustment controller logic form the highly accurate time base. The \ncontroller reads the output of the on-chip temperature sensor and adjusts the final compensated SQW output to maintain \nthe required accuracy. The device is trimmed at the factory to maintain a tight accuracy over the operating temperature \nrange. The device has options to manually set the rate of temperature compensation through TTSINT bits in register \nTS_config (0x1C), or allow the system to adjust the rate automatically. \nAging is the change in the internally compensated oscillation frequency. Unlike most crystal-based RTCs, the MAX31343 \nhas very good aging performance. It is less than ±1ppm for zero to one year, and less than ±2ppm for one to ten years. \nSupply Operation \nThere are several modes of operation that affect the amount of supply current that is drawn. While the serial interface \nis active, the active supply current is shown in the POWER SUPPLY CURRENT vs. SCL FREQUENCY  plot. When \nthe serial interface is inactive, the timekeeping current I SUPPLY  (which includes the averaged temperature-conversion \ncurrent) is used. The temperature-conversion current I CCSCONV  is specified since the system must be able to support the \nperiodic higher current pulse and still maintain a valid voltage level. The data-retention current I DR is the current drawn \nby the device when major internal blocks (including oscillator) are powered down except the I 2C interface (DATA_RET = \n1). This mode can be used to minimize current consumption when maintaining time and date information is not necessary \n(e.g., while the end system is waiting to be shipped to a customer). \nPower-Fail Interrupt Output \nWhen V CC falls below V PF, an internal power-fail signal is generated, which forces INT low if power-fail interrupt is \nenabled. \nReal-Time Clock (RTC) \nWith the 1Hz source from the temperature-compensated oscillator, the RTC provides seconds, minutes, hours, day, \ndate, month, year, and century information. The date at the end of the month is automatically adjusted for months with \nfewer than 31 days, including corrections for leap year up to year 2199. The clock operates in the 24-hour format. The \nclock provides two programmable time-of-day alarms. INT can be enabled to generate an interrupt due to any of alarm1, \nalarm2, timer, temperature sense or power-fail condition. The SQW output generates a temperature-compensated \nsquare wave. MAX31343 ±5ppm, I 2C Real-Time Clock with Integrated\nMEMS Oscillator\nwww.analog.com Analog Devices  |  14\nAddress Map \nTable 1  shows the Status register and various RTC configuration registers. The Interrupt Enable (Int_en) register contains \nan enable bit for each of the interrupt bits. Disable Oscillator Flag (DOSF) is used to enable or disable the indication of \nthe oscillator status through OSF flag. When an interrupt occurs, if the corresponding enable bit for that type of interrupt \nhas been asserted, the corresponding bit in the Status register bit will be set. A read of the Status register will clear any \nof the flags that were set by interrupts. \nTable 1. Status and Configuration Registers \nADDR NAME B7 B6 B5 B4 B3 B2 B1 B0 \n0x00 Status PSDECT OSF PFAIL TSF TIF A2F A1F \n0x01 Int_en DOSF PFAILE TSIE TIE A2IE A1IE \n0x02 RTC_reset SWRST \n0x03 RTC_config1 DATARET I2C_TIMEOUT ENOSC RESERVED \n0x04 RTC_config2 ENCLKO CLKO_HZ[3:0] SQW_HZ[2:0] \n0x05 Timer_config TE TPAUSE TRPT TFS[1:0] \nRTC, Alarm, and Timer Registers \nTable 2  shows the address map for the device\'s RTC, alarm, and timer registers. During a multibyte access, when \nthe address pointer reaches the end of the register space (5Dh), it wraps around to location 00h. On an I 2C START \nor address pointer incrementing to location 06h, the current time is transferred to a second set of registers. The time \ninformation is read from these secondary registers, while the clock can continue to run. This eliminates the need to reread \nthe registers in case the main registers update during a read. \nTable 2. RTC, Alarm, and Timer Registers \nADDR NAME B7 B6 B5 B4 B3 B2 B1 B0 \n0x06 Seconds sec_10[2:0] seconds[3:0] \n0x07 Minutes min_10[2:0] minutes[3:0] \n0x08 Hours hr_10[1:0] hour[3:0] \n0x09 Day day[2:0] \n0x0A Date date_10[1:0] date[3:0] \n0x0B Month century month_10 month[3:0] \n0x0C Year year_10[3:0] year[3:0] \n0x0D Alm1_sec A1M1 sec_10[2:0] seconds[3:0] \n0x0E Alm1_min A1M2 min_10[2:0] minutes[3:0] \n0x0F Alm1_hrs A1M3 hr_10[1:0] hour[3:0] \n0x10 Alm1day_date A1M4 DY_DT date_10[1:0] day_date[3:0] \n0x11 Alm1_mon A1M5 A1M6 month_10 month[3:0] \n0x12 Alm1_year year_10[3:0] year[3:0] \n0x13 Alm2_min A2M2 min_10[2:0] minutes[3:0] \n0x14 Alm2_hrs A2M3 hr_10[1:0] hour[3:0] \n0x15 Alm2day_date A2M4 DY_DT date_10[1:0] day_date[3:0] \n0x16 Timer_count count[7:0] \n0x17 Time_init count[7:0] MAX31343 ±5ppm, I 2C Real-Time Clock with Integrated\nMEMS Oscillator\nwww.analog.com Analog Devices  |  15\nClock and Calendar \nThe time and calendar information is obtained by reading the appropriate register bytes. Table 2  shows the RTC \nregisters. The time and calendar data are set or initialized by writing the appropriate register bytes. Time will be updated \n1 second after user sets the timer registers. The contents of the time and calendar registers are in the binary-coded \ndecimal (BCD) format. The device runs in 24-hour mode. \nThe century bit (bit 7 of the Month register) is toggled when the Years register overflows from 99 to 00. The day-of-week \nregister increments at midnight. Values that correspond to the day of week are user-defined but must be sequential (i.e., \nif 1 equals Sunday, then 2 equals Monday, and so on). Illogical time and date entries result in undefined operation. When \nreading or writing the time and date registers, secondary buffers are used to prevent errors when the internal registers \nupdate. When reading the time and date registers, the secondary buffers are synchronized to the internal registers on any \nI2C START and when the register pointer rolls over to zero. The time information is read from these secondary registers, \nwhile the clock continues to run. This eliminates the need to reread the registers in case the main registers update during \na read. \nAlarms \nThe device contains two time-of-day/date alarms. Alarm 1 can be set by writing to registers 0Dh–12h. Alarm 2 can be \nset by writing to registers 13h–15h. See Table 3  and Table 4 . The alarms can be programmed by the A1IE and A2IE \nbits in Int_en register to activate the INT output on an alarm match condition. Bit 7 of each of the time-of-day/date alarm \nregisters and bit 6 of Alm1_mon register are mask bits ( Table 3 ). When all the mask bits for each alarm are logic 0, an \nalarm only occurs when the values in the timekeeping registers match the corresponding values stored in the time-of-day, \ndate, month, and year alarm registers. The alarms can also be programmed to repeat every second, minute, hour, day, \nor date. Table 3  and Table 4  show the possible settings. Configurations not listed in the table result in illogical operation. \nThe DY_DT bit (bit 6 of the alarm day/date registers) controls whether the alarm value stored in bits 0–5 of that register \nrepresents the day of the week or the date of the month. If DY_DT is written to logic 0, the alarm is the result of a match \nwith date of the month. If DY_DT is written to logic 1, the alarm is the result of a match with day of the week. Disable \nalarms before programming alarm registers, then enable them 1 second after alarm configured. \nTable 3. Alarm1 Register Mask Bits \nDY/DT ALARM 1 REGISTER MASK BITS ALARM RATE \nA1M6 A1M5 A1M4 A1M3 A1M2 A1M1 \nX 1 1 1 1 1 1 Alarm once a second \nX 1 1 1 1 1 0 Alarm when seconds match \nX 1 1 1 1 0 0 Alarm when minutes and seconds match \nX 1 1 1 0 0 0 Alarm when hours, minutes, and seconds match \n0 1 1 0 0 0 0 Alarm when dates, hours, minutes, and seconds match \n0 1 0 0 0 0 0 Alarm when months, dates, hours, minutes, and seconds match \n0 0 0 0 0 0 0 Alarm when years, months, dates, hours, minutes, and seconds match \n1 1 1 0 0 0 0 Alarm when days, hours, minutes, and seconds match \nTable 4. Alarm2 Register Mask Bits \nDY/DT ALARM 2 REGISTER MASK BITS ALARM RATE \nA2M4 A2M3 A2M2 Alarm once per minute (00 seconds of every minute) \nX 1 1 1 Alarm when minutes match \nX 1 1 0 Alarm when hours and minutes match \nX 1 0 0 Alarm when dates, hours, and minutes match \n0 0 0 0 Alarm when days, hours, and minutes match \n1 0 0 0 Alarm when days, hours, and minutes match MAX31343 ±5ppm, I 2C Real-Time Clock with Integrated\nMEMS Oscillator\nwww.analog.com Analog Devices  |  16\nPower Management \nThe MAX31343 power management has two modes, auto and manual. Power management auto mode monitors supply \nvoltage on V CC and backup battery voltage on V BAT, and then determines which source to use as internal supply. There \nis a PFAIL interrupt flag status bit in the register map to indicate the power-fail condition. Pin V BAT should be connected \nto the backup battery. If there is no backup battery, V BAT should be tied to ground. Although backup battery can drive \nthe RTC, the V CC supply must be applied to power up the RTC. Power management control bits Pwr_mgmt[3:2] (register \n0x18h) are used as follows. \nFor the Power Management Auto and Trickle Charger mode, specify a “power-fail voltage” with the register \nPwr_mgmt[5:4]. Pwr_mgmt[5:4] = 01b sets the power-fail voltage to V PF2. Pwr_mgmt[5:4] = 10b sets the power-fail \nvoltage to V PF3. Pwr_mgmt[5:4] = 11b sets the power-fail voltage to V PF4. See the values of V PF2, VPF3, and V PF4 \nin the Electrical Characteristics  table. Note that Pwr_mgmt[5:4] = 00b, V PF1 is not a valid power-fail voltage. Once the \npower-fail voltage is set, MAX31343 will switch backup battery to the internal power supply if and only if main supply V CC \nis lower than both the power-fail voltage and the backup battery voltage. Otherwise, V CC remains as the main supply. \nThe PFAIL interrupt flag status bit in the status register (00h) is used as the power-fail flag. In power management auto \nmode, PFAIL interrupt flag monitors the V CC supply and is set when V CC falls below the power-fail threshold voltage set \nthrough PFVT in the Pwr_mgmt (18h) register or when power-fail threshold voltage is adjusted to cross above V CC. \nTable 5. Power Management \nTCHE[7:4] D_VBACK_SEL D_MAN_SEL MODE OF OPERATION \n0x5 x 0 Power Management Auto and Trickle Charger On \nSupply Condition Active Supply \nVCC < VPF, VCC < VBAT VBAT \nVCC < VPF, VCC > VBAT VCC \nVCC > VPF, VCC < VBAT VCC \nVCC > VPF, VCC > VBAT VCC \n0x5 0 1 Power Management Manual and Trickle Charger On \nActive Supply = V CC \n0x5 1 1 Power Management Manual and Trickle Charger On \nActive Supply = V BAT for V BAT ≥ VCC \nOther than 0x5 x 0 Power Management Auto and Trickle Charger Off \nSupply Condition Active Supply \nVCC < VPF, VCC < VBAT VBAT \nVCC < VPF, VCC > VBAT VCC \nVCC > VPF, VCC < VBAT VCC \nVCC > VPF, VCC > VBAT VCC \nOther than 0x5 0 1 Power Management Manual and Trickle Charger Off \nActive Supply = V CC \nOther than 0x5 1 1 Power Management Manual and Trickle Charger Off \nActive Supply = V BAT for V BAT ≥ VCC MAX31343 ±5ppm, I 2C Real-Time Clock with Integrated\nMEMS Oscillator\nwww.analog.com Analog Devices  |  17\nTrickle Charger \nThe trickler charger is for charging an external supercapacitor or a rechargeable battery. The maximum charging current \ncan be calculated as follows:  \nIMAX=(VCC−VD−VBAT)/R \nWhere V D is the diode voltage drop, V BAT is the voltage of the battery being charged, and R is the resistance selected \nin the charging path. \nAs the battery charges, the battery voltage increases and the voltage across the charging path decreases. Therefore, the \ncharging current also decreases. \n3k\nΩ\n \n6k\nΩ\n \n11k\nΩ\n \nTCHE = 0x5 ENABLES\nTRICKLE CHARGER  \nD_TRICKLE BIT2\nDIODE SELECT\n0 = W/O DIODE\n1 = W DIODE\nD_TRICKLE BITS[1:0]\nRESISTOR SELECT\n00 = 3k\nΩ\n \n01 = 3k\nΩ\n10 = 6k\nΩ\n11 = 11k\nΩ\nD_TRICKLE BIT3\nCHARGER SELECT\n0 = ON\n1 = OFF\nTRICKLE CHARGER \nREGISTER (19H)\nV\nCC\nV\nBAT\nFigure 1. Trickle Charger Block Diagram \nTemperature Sensor \nThe MAX31343 has on-chip temperature sensor for MEMS oscillator output frequency temperature compensation. When \ntemperature measurement is made, the fractional divider divide ratio will be updated to correct the RTC time base \nfrequency. There are two ways to enable the temperature conversion. When AUTOMODE bit (TS_Config[7]) is set \nto 1, temperature sensor performs conversion automatically at the rate selected in TTSINT bit field(TS_Config[5:3]). \nWhen AUTOMODE bit is 0, writing 1 to ONESHOTMODE register bit (TS_Config[6]) enables single temperature \nconversion mode. ONESHOTMODE bit clears automatically after about 70ms when temperature conversion is complete. \nTemperature data is stored in Temp_MSB and Temp_LSB registers. \nInterrupts Status and Output \nWhen an interrupt is asserted, a corresponding status bit in Status (00h) becomes "1", and an interrupt output transitions \nfrom high to low. The Interrupt status bit and output can be cleared by reading the Status reg. \nData-Retention Mode \nThe MAX31343 features a data-retention mode wherein the device shuts down its internal functional blocks (including \nthe oscillator) except the I 2C interface. The device consumes 100nA maximum in this mode. It retains all of the register \nand RAM contents, including the last valid date and time values. Exit data-retention mode to resume counting. User \ndata can be preserved in the RAM in this mode as long as the active supply is present. To enter data-retention mode, \nwrite "1" to DATA_RET in the RTC_config1(03h) register. To exit data-retention mode, write "0" to DATA_RET in the \nRTC_config1(03h) register. In data-retention mode, the device will automatically return back to use the external supply \n(VCC) as its active supply, regardless of the power-management mode. MAX31343 ±5ppm, I 2C Real-Time Clock with Integrated\nMEMS Oscillator\nwww.analog.com Analog Devices  |  18\nCountdown Timer \nThe MAX31343 features a countdown timer with a pause function. The timer can be configured by writing into registers \nTimer_config (05h) and Timer_init (17h). The Timer_init register should be loaded with the initial value from which the \ntimer would start counting down. The Timer_config register allows these configuration options: \n● Select the frequency of the timer using the TFS[1:0] field. \n● Start/stop the timer using the TE (Timer Enable) bit. \n● Enable/disable the timer repeat function using the TRPT bit. This  function reloads and restarts the timer with the \nsame init value once it counts down to zero. \n● Pause/resume the countdown at any time when the timer is enabled using the TPAUSE bit (explained below). \nThe timer can be programmed to assert the INT output (see Table 6 ) whenever it counts down to zero. This can be \nenabled/disabled using the TIE bit in register Int_en register (01h). \nThe TPAUSE bit is only valid when TE = 1. This bit must be reset to 0 whenever TE is reset to 0. \nTable 6  highlights the steps to be used for various use cases involving TE and TPAUSE. \n  Typical use cases: \n● Countdown timer without pause: Step 1 -> Step 2 -> Step 1 and so on \n● Countdown timer with pause: Step 1 -> Step 2 -> Step 3a -> Step 3b -> Step 1 and so on \nTable 6. Countdown Timer Setting \nSEQUENCE TE TPAUSE ACTION \nStep 1 0 0 Countdown timer is reset, and ready for next countdown operation. Timer_init can be programmed \nin this state. \nStep 2 1 0 Countdown timer starts counting down from the value programmed in Timer_init \nStep 3a \n(Optional) 1 1 Countdown timer is paused, and is ready to start counting down when TPAUSE is programmed \nback to ‘0’. Contents of the countdown timer are preserved in this state. \nStep 3b \nIf 3a is true 1 0 Countdown timer is brought out of pause state, and starts counting down from the paused value. \n0 1 Not allowed \nTiming Diagram \nSCL\nNOTE:NOTE: TIMING IS REFERENCED TO V ILMAX AND VIHMIN.SDA\nSTOP START REPEATEDSTARTtBUF\ntHD:STA\ntHD:DAT tSU:DATtSU:STOtHD:STAtSP\ntSU:STAtHIGHtRtFtLOW\nFigure 2. I 2C Timing MAX31343 ±5ppm, I 2C Real-Time Clock with Integrated\nMEMS Oscillator\nwww.analog.com Analog Devices  |  19\nI2C Serial Port Operation \nI2C Slave Address \nThe device\'s slave address byte is D0h. The first byte sent to the device includes the device identifier, device address, \nand the R/W bit ( Figure 3 ). The device address sent by the I 2C master must match the address assigned to the device. \nR/W\nFigure 3. I2C Slave Address \nI2C Definitions \nThe following terminology is commonly used to describe I 2C data transfers. \nMaster Device:  The master device controls the slave devices on the bus. The master device generates SCL clock \npulses and START and STOP conditions. \nSlave Devices:  Slave devices send and receive data at the master\'s request. \nBus Idle or Not Busy:  Time between STOP and START conditions when both SDA and SCL are inactive and in \ntheir logic-high states. When the bus is idle, it often initiates a low-power mode for slave devices. \nSTART Condition:  A START condition is generated by the master to initiate a new data transfer with a slave. \nTransitioning SDA from high to low while SCL remains high generates a START condition. See [[I2C Timing]] for \napplicable timing. \nSTOP Condition:  A STOP condition is generated by the master to end a data transfer with a slave. Transitioning \nSDA from low to high while SCL remains high generates a STOP condition. See [[I2C Timing]] for applicable \ntiming. \nRepeated START   Condition:  The master can use a repeated START condition at the end of one data transfer \nto indicate that it immediately initiates a new data transfer following the current one. Repeated STARTs are \ncommonly used during read operations to identify a specific memory address to begin a data transfer. A repeated \nSTART condition is issued identically to a normal START condition. See [[I2C Timing]] for applicable timing. \nBit Write:  Transitions of SDA must occur during the low state of SCL. The data on SDA must remain valid and \nunchanged during the entire high pulse of SCL plus the setup and hold time requirements (see [[I2C Timing]]). \nData is shifted into the device during the rising edge of the SCL. MAX31343 ±5ppm, I 2C Real-Time Clock with Integrated\nMEMS Oscillator\nwww.analog.com Analog Devices  |  20\nBit Read:  At the end of a write operation, the master must release the SDA bus line for the proper amount of \nsetup time (see [[I2C Timing]]) before the next rising edge of SCL during a bit read. The device shifts out each \nbit of data on SDA at the falling edge of the previous SCL pulse and the data bit is valid at the rising edge of the \ncurrent SCL pulse. Remember that the master generates all SCL clock pulses including when it is reading bits \nfrom the slave. \nAcknowledge (ACK and NACK):  An acknowledge (ACK) or not acknowledge (NACK) is always the ninth bit \ntransmitted during a byte transfer. The device receiving data (the master during a read or the slave during a \nwrite operation) performs an ACK by trans- mitting a 0 during the ninth bit. A device performs a   NACK   by \ntransmitting a 1 during the   ninth bit. Timing for the ACK and NACK is identical to all other bit writes. An ACK is \nthe acknowledgment that the device is properly receiving data. A NACK is used to terminate a read sequence or \nas an indication that the device is not receiving data. \nByte Write:  A byte write consists of 8 bits of information transferred from the master to the slave (most significant \nbit first) plus a 1-bit acknowledgment from the slave to the master. The 8 bits transmitted by the master are done \naccording to the bit write definition and the acknowledgment is read using the bit read definition. \nByte Read:  A byte read is an 8-bit information transfer from the slave to the master plus a 1-bit ACK or NACK from \nthe master to the slave. The 8 bits of information that are transferred (most significant bit first) from the slave to the \nmaster are read by the master using the bit read definition, and the master transmits an ACK using the bit write \ndefinition to receive additional data bytes. The master must NACK the last byte read to terminate communication \nso the slave returns control of SDA to the master. \nSlave Address Byte:  Each slave on the I 2C bus responds to a slave address byte sent immediately following a \nSTART condition. The slave address byte contains the slave address in the most significant 7 bits and the R/W \nbit in the least significant bit. The device\'s slave address is D0h and cannot be modified by the user. When the \nR/W bit is 0 (such as in D0h), the master is indicating it writes data to the slave. If R/W =   1 (D1h in this case), the \nmaster is indicating it wants to read from the slave. If an incorrect slave address is written, the device assumes the \nmaster is communicating with another I 2C device and ignore the communication until the next START condition \nis sent. \nMemory Address:  During an I 2C write operation, the master must transmit a memory address to identify the \nmemory location where the slave is to store the data. The memory address is always the second byte transmitted \nduring a write operation following the slave address byte. MAX31343 ±5ppm, I 2C Real-Time Clock with Integrated\nMEMS Oscillator\nwww.analog.com Analog Devices  |  21\nI2C Communication \nSee Figure 4  for an I 2C communication example. \nSLAVE ADDRESS\nSTART\nSTART\n1\n1\n0\n1\n0\n0\n0\nR/\nW\nSLAVE \nACK\nSLAVE \nACK\nSLAVE \nACK\nSTOP\nMSB\nLSB\nMSB\nLSB\nMSB\nLSB\nb7\nb6\nb5\nb4\nb3\nb2\nb1\nb0\nREAD/\nWRITE\nREGISTER ADDRESS\nb7\nb6\nb5\nb4\nb3\nb2\nb1\nb0\nDATA\nSINGLE BYTE WRITE\n-\nWRITE CONFIGURATION REGISTER\nTO 0Ah\nMULTIBYTE WRITE\n-\nWRITE DATE REGISTER\nTO "02" AND MONTH\nREGISTER TO "11"\nSINGLE BYTE READ\n-\nREAD CONFIGURATION REGISTER\nMULTIBYTE READ\n-\nREAD ALARM 2 HOURS\nAND DATE VALUES\nSTART\nSLAVE \nACK\nSLAVE \nACK\nREPEATED \nSTART\nD1h\nSLAVE \nACK\nMASTER \nNACK\nSTOP\n1\n1\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n1\n03h\n1\n1\n0\n1\n0\n0\n0\n1\nVALUE\nSLAVE \nACK\n1\n1\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n1\nD0h\n03h\nSTOP\nSTART\nSLAVE \nACK\nSLAVE \nACK\n1\n1\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n1\n0\nD0h\n0Ah\nSLAVE \nACK\nDATA\nMASTER \nNACK\nSTOP\nVALUE\nDATA\n02h\n0Ah\nEXAMPLE I\n2\nC TRANSACTIONS\nTYPICAL I\n2\nC WRITE TRANSACTION\n0\n0\n0\n0\n1\n0\n1\n0\n0\n0\n0\n0\n0\n0\n1\n0\nD0h\nA)\nC)\nB)\nD)\nSLAVE \nACK\nSLAVE \nACK\nREPEATED \nSTART\nD1h\nSLAVE \nACK\nMASTER \nACK\n1\n1\n0\n1\n0\n0\n0\n1\nVALUE\nDATA\nSTART\nSLAVE \nACK\nSLAVE \nACK\n1\n1\n0\n1\n0\n0\n0\n0\n0\n0\n0\n1\n0\n1\n0\n0\nD0h\n14h\nSLAVE \nACK\nSTOP\n11h\n0\n0\n0\n1\n0\n0\n0\n1\nFigure 4. I2C Transactions \nWriting a Single Byte to a Slave:  The master must generate a START condition, write the slave address byte \n(R/W = 0), write the memory address, write the byte of data, and generate a STOP condition. Remember the \nmaster must read the slave\'s acknowledgment during all byte write operations. \nWriting Multiple Bytes   to a Slave:  To write multiple bytes to a slave, the master generates a START con- \ndition, writes the slave address byte (R/W = 0), writes the starting memory address, writes multiple data bytes, \nand generates a STOP condition. \nReading a Single Byte from a Slave:  Unlike the write operation that uses the specified memory address byte \nto define where the data is to be written, the read operation occurs at the present value of the memory address \ncounter. To read a single byte from the slave, the master generates a START condition, writes the slave address \nbyte with R/W = 1, reads the data byte with a NACK to indicate the end of the transfer, and generates a STOP \ncondition. However, since requiring the master to keep track of the memory address counter is impractical, use \nthe method for manipulating the address counter for reads. \nManipulating the Address Counter for Reads:  A dummy write cycle can be used to force the address counter \nto a particular value. To do this the master   generates a   START condition, writes   the  slave address byte (R/W = \n0), writes the memory address where it desires to read, generates a repeated START condition, writes the slave \naddress byte (R/W = 1), reads data with ACK or NACK as applicable, and generates a STOP condition. See \nFigure 4  for a read example using the repeated START condition to specify the starting memory location. \nReading Multiple Bytes from a Slave:  The read operation can be used to read multiple bytes with a single \ntransfer. When reading bytes from the slave, the master simply ACKs the data byte if it desires to read another \nbyte before terminating the transaction. After the master reads the last byte it must NACK to indicate the end of \nthe transfer and then it generates a STOP condition. MAX31343 ±5ppm, I 2C Real-Time Clock with Integrated\nMEMS Oscillator\nwww.analog.com Analog Devices  |  22\nRegister Map \nRC18 Register Map \nADDRESS NAME MSB LSB \nREGBLK \n0x00 Status[7:0] PSDECT OSF PFAIL – TSF TIF A2F A1F \n0x01 Int_en[7:0] – DOSF PFAILE – TSIE TIE A2IE A1IE \n0x02 RTC_reset[7:0] – – – – – – – SWRST \n0x03 RTC_config1[7:0] – – – DATA_R\nET I2C_TIM\nEOUT – ENOSC RESERV\nED \n0x04 RTC_config2[7:0] ENCLKO CLKO_HZ[3:0] SQW_HZ[2:0] \n0x05 Timer_config[7:0] – – – TE TPAUSE TRPT TFS[1:0] \n0x06 Seconds[7:0] – sec_10[2:0] seconds[3:0] \n0x07 Minutes[7:0] – min_10[2:0] minutes[3:0] \n0x08 Hours[7:0] – – hr_10[1:0] hour[3:0] \n0x09 Day[7:0] – – – – – day[2:0] \n0x0A Date[7:0] – – date_10[1:0] date[3:0] \n0x0B Month[7:0] century – – month_1\n0 month[3:0] \n0x0C Year[7:0] year_10[3:0] year[3:0] \n0x0D Alm1_sec[7:0] A1M1 sec_10[2:0] seconds[3:0] \n0x0E Alm1_min[7:0] A1M2 min_10[2:0] minutes[3:0] \n0x0F Alm1_hrs[7:0] A1M3 – hr_10[1:0] hour[3:0] \n0x10 Alm1day_date[7:0] A1M4 DY_DT date_10[1:0] day_date[3:0] \n0x11 Alm1_mon[7:0] A1M5 A1M6 – month_1\n0 month[3:0] \n0x12 Alm1_year[7:0] year_10[3:0] year[3:0] \n0x13 Alm2_min[7:0] A2M2 min_10[2:0] minutes[3:0] \n0x14 Alm2_hrs[7:0] A2M3 – hr_10[1:0] hour[3:0] \n0x15 Alm2day_date[7:0] A2M4 DY_DT date_10[1:0] day_date[3:0] \n0x16 Timer_Count[7:0] Count[7:0] \n0x17 Timer_Init[7:0] Count[7:0] \n0x18 Pwr_mgmt[7:0] – – PFVT[1:0] D_VBAC\nK_SEL D_MAN_\nSEL – – \n0x19 Trickle_reg[7:0] TCHE[3:0] D_TRICKLE[3:0] \n0x1A Temp_MSB[7:0] Temperature[15:8] \n0x1B Temp_LSB[7:0] Temperature[7:0] \n0x1C TS_config[7:0] AUTOM\nODE ONESH\nOTMOD\nE TTSINT[2:0] – – – \nRAM_REG \n0x22 Ram_reg 0[7:0] Data[7:0] \n0x23 Ram_reg 1[7:0] Data[7:0] \n0x24 Ram_reg 2[7:0] Data[7:0] MAX31343 ±5ppm, I 2C Real-Time Clock with Integrated\nMEMS Oscillator\nwww.analog.com Analog Devices  |  23\nADDRESS NAME MSB LSB \n0x25 Ram_reg 3[7:0] Data[7:0] \n0x26 Ram_reg 4[7:0] Data[7:0] \n0x27 Ram_reg 5[7:0] Data[7:0] \n0x28 Ram_reg 6[7:0] Data[7:0] \n0x29 Ram_reg 7[7:0] Data[7:0] \n0x2A Ram_reg 8[7:0] Data[7:0] \n0x2B Ram_reg 9[7:0] Data[7:0] \n0x2C Ram_reg 10[7:0] Data[7:0] \n0x2D Ram_reg 11[7:0] Data[7:0] \n0x2E Ram_reg 12[7:0] Data[7:0] \n0x2F Ram_reg 13[7:0] Data[7:0] \n0x30 Ram_reg 14[7:0] Data[7:0] \n0x31 Ram_reg 15[7:0] Data[7:0] \n0x32 Ram_reg 16[7:0] Data[7:0] \n0x33 Ram_reg 17[7:0] Data[7:0] \n0x34 Ram_reg 18[7:0] Data[7:0] \n0x35 Ram_reg 19[7:0] Data[7:0] \n0x36 Ram_reg 20[7:0] Data[7:0] \n0x37 Ram_reg 21[7:0] Data[7:0] \n0x38 Ram_reg 22[7:0] Data[7:0] \n0x39 Ram_reg 23[7:0] Data[7:0] \n0x3A Ram_reg 24[7:0] Data[7:0] \n0x3B Ram_reg 25[7:0] Data[7:0] \n0x3C Ram_reg 26[7:0] Data[7:0] \n0x3D Ram_reg 27[7:0] Data[7:0] \n0x3E Ram_reg 28[7:0] Data[7:0] \n0x3F Ram_reg 29[7:0] Data[7:0] \n0x40 Ram_reg 30[7:0] Data[7:0] \n0x41 Ram_reg 31[7:0] Data[7:0] \n0x42 Ram_reg 32[7:0] Data[7:0] \n0x43 Ram_reg 33[7:0] Data[7:0] \n0x44 Ram_reg 34[7:0] Data[7:0] \n0x45 Ram_reg 35[7:0] Data[7:0] \n0x46 Ram_reg 36[7:0] Data[7:0] \n0x47 Ram_reg 37[7:0] Data[7:0] \n0x48 Ram_reg 38[7:0] Data[7:0] \n0x49 Ram_reg 39[7:0] Data[7:0] \n0x4A Ram_reg 40[7:0] Data[7:0] \n0x4B Ram_reg 41[7:0] Data[7:0] \n0x4D Ram_reg 43[7:0] Data[7:0] \n0x4E Ram_reg 44[7:0] Data[7:0] \n0x4F Ram_reg 45[7:0] Data[7:0] MAX31343 ±5ppm, I 2C Real-Time Clock with Integrated\nMEMS Oscillator\nwww.analog.com Analog Devices  |  24\nADDRESS NAME MSB LSB \n0x50 Ram_reg 46[7:0] Data[7:0] \n0x51 Ram_reg 47[7:0] Data[7:0] \n0x52 Ram_reg 48[7:0] Data[7:0] \n0x53 Ram_reg 49[7:0] Data[7:0] \n0x54 Ram_reg 50[7:0] Data[7:0] \n0x55 Ram_reg 51[7:0] Data[7:0] \n0x56 Ram_reg 52[7:0] Data[7:0] \n0x57 Ram_reg 53[7:0] Data[7:0] \n0x58 Ram_reg 54[7:0] Data[7:0] \n0x59 Ram_reg 55[7:0] Data[7:0] \n0x5A Ram_reg 56[7:0] Data[7:0] \n0x5B Ram_reg 57[7:0] Data[7:0] \n0x5C Ram_reg 58[7:0] Data[7:0] \n0x5D Ram_reg 59[7:0] Data[7:0] \n0x5E Ram_reg 60[7:0] Data[7:0] \n0x5F Ram_reg 61[7:0] Data[7:0] \n0x60 Ram_reg 62[7:0] Data[7:0] \n0x61 Ram_reg 63[7:0] Data[7:0] \nRegister Details \nStatus (0x0) \nInterrupt Status Register \nBIT 7 6 5 4 3 2 1 0 \nField PSDECT OSF PFAIL – TSF TIF A2F A1F \nReset 0x0 0x1 – 0x0 0x0 0x0 0x0 \nAccess \nType Read Only Read \nClears All Read \nClears All – Read \nClears All Read \nClears All Read \nClears All Read \nClears All \nBITFIELD BITS DESCRIPTION DECODE \nPSDECT 7 Main supply source indication when the part \nis in auto mode 0x0: Part is running on V CC \n0x1: Part is running on V BAT \nOSF 6 Oscillator stop flag 0x0: Set to 0 when oscillator is running or when \nDOSF =1. \n0x1: Set to 1 when oscillator has stopped. An \ninterrupt will not be generated on pin INT. \nPFAIL 5 Power-fail flag 0x0: Set to zero when there is no power-fail \ncondition on V BAT. \n0x1: Set to 1 when there is an external interrupt on \nVBAT. When this is set to ‘1’, and PFAILE = 1, an \ninterrupt will be generated on pin INT. After an \ninitial power-fail condition occurs, if the condition \ndoes not persist, this bit can only be cleared by \nreading the Status register. MAX31343 ±5ppm, I 2C Real-Time Clock with Integrated\nMEMS Oscillator\nwww.analog.com Analog Devices  |  25\nBITFIELD BITS DESCRIPTION DECODE \nTSF 3 Temp sense data flag: Indicates when user \nrequested temp measurement is ready.(Only \napplicable in oneshot mode ) 0x0: TS data not ready \n0x1: Set to 1 when TS data ready. When this is set \nto ‘1’, and TSIE = 1, an interrupt will be generated \non pin INT. \nTIF 2 Timer interrupt flag 0x0: Set to zero when count down timer is not \nzero. \n0x1: Set to 1 when countdown timer reaches to \nzero. When this is set to ‘1’, and TIE = 1, an \ninterrupt will be generated on pin INT. \nA2F 1 Alarm2 interrupt flag 0x0: Set to zero when RTC time doesn\'t match to \nalarm2 register. \n0x1: Set to 1 when RTC time matches the alarm2 \nregister. \nWhen this bit is set, and A2IE = 1, an interrupt will \nbe generated on INT. \nA1F 0 Alarm1 Interrupt flag 0x0: When set to zero resets the digital block. \n0x1: When set one then device is not on reset \nmode. \nInt_en (0x1) \nInterrupt Enable Register \nBIT 7 6 5 4 3 2 1 0 \nField – DOSF PFAILE – TSIE TIE A2IE A1IE \nReset – 0x0 0x0 – 0x0 0x0 0x0 0x0 \nAccess \nType – Write, Read Write, Read – Write, Read Write, Read Write, Read Write, Read \nBITFIELD BITS DESCRIPTION DECODE \nDOSF 6 Disable oscillator flag 0x0: Allow the OSF to indicate the oscillator status. \n0x1: Disable the oscillator flag, irrespective of the \noscillator status. \nPFAILE 5 Power fail Interrupt enable 0x0: When set to zero, analog interrupt function is \ndisabled. \n0x1: When set to one, analog interrupt function is \nenabled. \nTSIE 3 Temp sense ready flag enable 0x0: Disable temp sense ready function \n0x1: Enable temp sense ready function \nTIE 2 Timer interrupt enable 0x0: Disable timer interrupt function \n0x1: Enable timer interrupt function \nA2IE 1 Alarm2 interrupt enable 0x0: Disable alarm2 interrupt function \n0x1: Enable alarm2 interrupt function \nA1IE 0 Alarm1 interrupt enable 0x0: Disable alarm1 interrupt function \n0x1: Enable alarm1 interrupt function \nRTC_reset (0x2) \nRTC Software Reset Register MAX31343 ±5ppm, I 2C Real-Time Clock with Integrated\nMEMS Oscillator\nwww.analog.com Analog Devices  |  26\nBIT 7 6 5 4 3 2 1 0 \nField – – – – – – – SWRST \nReset – – – – – – – 0x0 \nAccess \nType – – – – – – – Write, Read \nBITFIELD BITS DESCRIPTION DECODE \nSWRST 0 Active-high software reset bit 0x0: When set to 0, the device is in normal working \nmode. \n0x1: Set to one to reset digital blocks and all user \nregisters except RAM and SWRST. Oscillator is \ndisabled. \nRTC_config1 (0x3) \nRTC Configuration Register \nBIT 7 6 5 4 3 2 1 0 \nField – – – DATA_RET I2C_TIMEO\nUT – ENOSC RESERVED \nReset – – – 0x0 0x1 – 0x1 0x0 \nAccess \nType – – – Write, Read Write, Read – Write, Read Write, Read \nBITFIELD BITS DESCRIPTION DECODE \nDATA_RET 4 Data retention bit. Before programming \nDATARETEN, user needs to wait for any \nongoing temperature sensor measurement \ncycles to complete. \nThis depends on whether AUTOMODE or \nONESHOTMODE is configured. In \nAUTOMODE, first program AUTOMODE to 0, \nand then wait for 100mSec. In \nONEHSOTMODE,wait for 100mSec 0x0: Normal operation mode \n0x1: Data retention mode \nI2C_TIMEOU\nT 3 I2C timeout enable 0x0: Disables I 2C timeout \n0x1: Enables I 2C timeout \nENOSC 1 Active-high enable for oscillator 0x0: Disable oscillator \n0x1: Enable oscillator \nRESERVED 0 Reserved 0x0: This bit has to be set to 0. \nRTC_config2 (0x4) \nRTC Configuration Register \nBIT 7 6 5 4 3 2 1 0 \nField ENCLKO CLKO_HZ[3:0] SQW_HZ[2:0] \nReset 0x0 0x8 0x0 \nAccess \nType Write, Read Write, Read Write, Read \nBITFIELD BITS DESCRIPTION DECODE \nENCLKO 7 CLKO enable 0x0: Disable output clock on CLKO; CLKO set to \nHi-Z \n0x1: Enable output clock on CLKO MAX31343 ±5ppm, I 2C Real-Time Clock with Integrated\nMEMS Oscillator\nwww.analog.com Analog Devices  |  27\nBITFIELD BITS DESCRIPTION DECODE \nCLKO_HZ 6:3 Specify uncompensated clock frequency \noutput on pin CLKO. 0x0: 1.0032Hz \n0x1: 2.0065Hz \n0x2: 4.0130Hz \n0x3: 8.0261Hz \n0x4: 16.0522Hz \n0x5: 32.1044Hz \n0x6: 64.2089Hz \n0x7: 128.4179Hz \n0x8: 32.875kHz \n0x9: 32.875kHz \n0xA: 32.875kHz \n0xB: 32.875kHz \n0xC: 32.875kHz \n0xD: 32.875kHz \n0xE: 32.875kHz \n0xF: 32.875kHz \nSQW_HZ 2:0 Set output clock on SQW to specified \nfrequency 0x0: 1Hz \n0x1: 2Hz \n0x2: 4Hz \n0x3: 8Hz \n0x4: 16Hz \n0x5: 32Hz \n0x6: 32Hz \n0x7: 32Hz \nTimer_config (0x5) \nCountdown Timer Configuration Register \nBIT 7 6 5 4 3 2 1 0 \nField – – – TE TPAUSE TRPT TFS[1:0] \nReset – – – 0x0 0x0 0x1 0x0 \nAccess \nType – – – Write, Read Write, Read Write, Read Write, Read \nBITFIELD BITS DESCRIPTION DECODE \nTE 4 Timer enable. \nAlso refer TPAUSE field for additional \ninformation. 0x0: Timer is reset when set to zero. New timer \ncountdown value (Timer_Init) can be programmed \nin this state. \nNote: In this state, ensure TPAUSE is also \nprogrammed to 0, if TPAUSE was set to 1 earlier. \n0x1: Timer starts counting down from the value \nprogrammed in Timer_Init. \nTPAUSE 3 Timer Pause. This field is valid only when TE \n= 1. When TE will be programmed to 0, this \nfield must also be reset to 0. \nDetails about Timer Pause are explained in \ndetail in another section of the datasheet. 0x0: Timer continues to count down from the \npaused count value as per programming. \n0x1: Timer is paused, however, the count value is \nretained. When this bit is reset back to 0, count \ndown continues from the paused value. \nTRPT 2 Timer repeat mode. Controls the timer \ninterrupt function. 0x0: Countdown timer will halt once it reaches zero \n0x1: Countdown timer reloads the value from the \ntimer initial register upon reaching zero and \ncontinues counting. MAX31343 ±5ppm, I 2C Real-Time Clock with Integrated\nMEMS Oscillator\nwww.analog.com Analog Devices  |  28\nBITFIELD BITS DESCRIPTION DECODE \nTFS 1:0 Timer frequency selection 0x0: 1024Hz \n0x1: 256Hz \n0x2: 64Hz \n0x3: 16Hz \nSeconds (0x6) \nSeconds Configuration Register \nBIT 7 6 5 4 3 2 1 0 \nField – sec_10[2:0] seconds[3:0] \nReset – 0x0 0x0 \nAccess \nType – Write, Read Write, Read \nBITFIELD BITS DESCRIPTION \nsec_10 6:4 RTC seconds in multiples of 10 \nseconds 3:0 RTC seconds value. \nMinutes (0x7) \nMinutes Configuration Register \nBIT 7 6 5 4 3 2 1 0 \nField – min_10[2:0] minutes[3:0] \nReset – 0x0 0x0 \nAccess \nType – Write, Read Write, Read \nBITFIELD BITS DESCRIPTION \nmin_10 6:4 RTC minutes in multiples of 10 \nminutes 3:0 RTC minutes value \nHours (0x8) \nHours Configuration Register \nBIT 7 6 5 4 3 2 1 0 \nField – – hr_10[1:0] hour[3:0] \nReset – – 0x0 0x0 \nAccess \nType – – Write, Read Write, Read \nBITFIELD BITS DESCRIPTION \nhr_10 5:4 RTC hours in multiples of 10 \nhour 3:0 RTC hours value \nDay (0x9) \nDay Configuration Register MAX31343 ±5ppm, I 2C Real-Time Clock with Integrated\nMEMS Oscillator\nwww.analog.com Analog Devices  |  29\nBIT 7 6 5 4 3 2 1 0 \nField – – – – – day[2:0] \nReset – – – – – 0x1 \nAccess \nType – – – – – Write, Read \nBITFIELD BITS DESCRIPTION \nday 2:0 RTC days \nDate (0xA) \nDate Configuration Register \nBIT 7 6 5 4 3 2 1 0 \nField – – date_10[1:0] date[3:0] \nReset – – 0x0 0x1 \nAccess \nType – – Write, Read Write, Read \nBITFIELD BITS DESCRIPTION \ndate_10 5:4 RTC date in multiples of 10 \ndate 3:0 RTC date \nMonth (0xB) \nMonth Configuration Register \nBIT 7 6 5 4 3 2 1 0 \nField century – – month_10 month[3:0] \nReset 0x0 – – 0x0 0x1 \nAccess \nType Write, Read – – Write, Read Write, Read \nBITFIELD BITS DESCRIPTION DECODE \ncentury 7 Century bit 0x0: Current year is not a century \n0x1: Current year is a century \nmonth_10 4 RTC month in multiples of 10 \nmonth 3:0 RTC months \nYear (0xC) \nYear Configuration Register \nBIT 7 6 5 4 3 2 1 0 \nField year_10[3:0] year[3:0] \nReset 0x0 0x0 \nAccess \nType Write, Read Write, Read \nBITFIELD BITS DESCRIPTION \nyear_10 7:4 RTC year multiples of 10 \nyear 3:0 RTC years MAX31343 ±5ppm, I 2C Real-Time Clock with Integrated\nMEMS Oscillator\nwww.analog.com Analog Devices  |  30\nAlm1_sec (0xD) \nDY_DT A1M6 A1M5 A1M4 A1M3 A1M2 A1M1 ALARM RATE \nx 1 1 1 1 1 1 Once per sec \nx 1 1 1 1 1 0 Sec match \nx 1 1 1 1 0 0 Min and sec match \nx 1 1 1 0 0 0 Hour, min, and sec match \n0 1 1 0 0 0 0 Date and Time match \n0 1 0 0 0 0 0 Month, Date, and Time match \n0 0 0 0 0 0 0 Year, Month, Date, and Time match \n1 1 1 0 0 0 0 Day and Time match \nAlarm 1 can be set by writing to registers 0Dh - 12h. See register map. The alarm can be programmed by the A1IE bit in \nInt_en reg (01h) register to activate the INT output on an alarm match condition. Bit 7 of each of the time-of-day/ date \nalarm registers, and Bit 7 & 6 of month alarm register are mask bits. When all the mask bits of each alarm are logic 0, \nan alarm only occurs when the values in the timekeeping registers match the corresponding values stored in the time-\nof-day/date alarm registers. The alarm can also be programmed to repeat every second, minute, hour, day, date, \nmonth, or year. Table above, shows the possible settings. Configurations not listed in the table result in illogical \noperation. The DY_DT bit (bit 6 of the alarm day/date registers) control whether the alarm value stored in bits 0-5 that \nregister reflects the day of the week or the date of the month. If DY_DT is written to logic 0, the alarm is the result of a \nmatch with date of the month. If DY_DT is written to logic 1, the alarm is the result of a match with day of the week. \nBIT 7 6 5 4 3 2 1 0 \nField A1M1 sec_10[2:0] seconds[3:0] \nReset 0x0 0x0 0x0 \nAccess \nType Write, Read Write, Read Write, Read \nBITFIELD BITS DESCRIPTION \nA1M1 7 Alarm1 mask bit for seconds \nsec_10 6:4 Alarm1 seconds in multiples of 10 \nseconds 3:0 Alarm1 seconds \nAlm1_min (0xE) \nAlarm1 Minutes Configuration Register \nBIT 7 6 5 4 3 2 1 0 \nField A1M2 min_10[2:0] minutes[3:0] \nReset 0x0 0x0 0x0 \nAccess \nType Write, Read Write, Read Write, Read \nBITFIELD BITS DESCRIPTION \nA1M2 7 Alarm1 mask bit for minutes \nmin_10 6:4 Alarm1 minutes in multiples of 10 \nminutes 3:0 Alarm1 minutes \nAlm1_hrs (0xF) \nAlarm1 Hours Configuration Register MAX31343 ±5ppm, I 2C Real-Time Clock with Integrated\nMEMS Oscillator\nwww.analog.com Analog Devices  |  31\nBIT 7 6 5 4 3 2 1 0 \nField A1M3 – hr_10[1:0] hour[3:0] \nReset 0x0 – 0x0 0x0 \nAccess \nType Write, Read – Write, Read Write, Read \nBITFIELD BITS DESCRIPTION \nA1M3 7 Alarm1 mask bit for hours \nhr_10 5:4 Alarm1 hours in multiples of 10 \nhour 3:0 Alarm1 hours \nAlm1day_date (0x10) \nAlarm1 Day/Date Configuration Register \nBIT 7 6 5 4 3 2 1 0 \nField A1M4 DY_DT date_10[1:0] day_date[3:0] \nReset 0x0 0x0 0x0 0x0 \nAccess \nType Write, Read Write, Read Write, Read Write, Read \nBITFIELD BITS DESCRIPTION DECODE \nA1M4 7 Alarm1 mask bit for day/date \nDY_DT 6 0x0: Alarm when date match \n0x1: Alarm when day match \ndate_10 5:4 Alarm1 date in multiples of 10 \nday_date 3:0 Alarm1 day/date \nAlm1_mon (0x11) \nAlarm1 Month Configuration Register \nBIT 7 6 5 4 3 2 1 0 \nField A1M5 A1M6 – month_10 month[3:0] \nReset 0b0 0b0 – 0b0 0x0 \nAccess \nType Write, Read Write, Read – Write, Read Write, Read \nBITFIELD BITS DESCRIPTION \nA1M5 7 Alarm1 mask bit for month \nA1M6 6 Alarm1 mask bit for year \nmonth_10 4 Alarm1 months in multiples of 10 \nmonth 3:0 Alarm1 months \nAlm1_year (0x12) \nAlarm1 Year Configuration Register MAX31343 ±5ppm, I 2C Real-Time Clock with Integrated\nMEMS Oscillator\nwww.analog.com Analog Devices  |  32\nBIT 7 6 5 4 3 2 1 0 \nField year_10[3:0] year[3:0] \nReset 0x0 0x0 \nAccess \nType Write, Read Write, Read \nBITFIELD BITS DESCRIPTION \nyear_10 7:4 Alarm1 year in multiples of 10 \nyear 3:0 Alarm1 years \nAlm2_min (0x13) \nAlarm 2 can be set by writing to registers 13h - 15h. See register map. The alarm can be programmed by the A2IE bit in \nInt_en reg (01h) register to activate the INT output on an alarm match condition. Bit 7 of each of the time-of-day/ date \nalarm registers are mask bits. When all the mask bits of each alarm are logic 0, an alarm only occurs when the values in \nthe timekeeping registers match the corresponding values stored in the time-of-day/date alarm registers. The alarm can \nalso be programmed to repeat every minute, hour, day, or date. Table below, shows the possible settings. \nConfigurations not listed in the table result in illogical operation. The DY_DT bit (bit 6 of the alarm day/date registers) \ncontrol whether the alarm value stored in bits 0-5 that register reflects the day of the week or the date of the month. If \nDY_DT is written to logic 0, the alarm is the result of a match with date of the month. If DY_DT is written to logic 1, the \nalarm is the result of a match with day of the week. \nDY_DT A2M4 A2M3 A2M2 ALARM RATE \nx 1 1 1 Once per minute \nx 1 1 0 Minute match \nx 1 0 0 Hour and minute match \n0 0 0 0 Date, hour, and minute match \n1 0 0 0 Day, hour, and minute match \nBIT 7 6 5 4 3 2 1 0 \nField A2M2 min_10[2:0] minutes[3:0] \nReset 0x0 0x0 0x0 \nAccess \nType Write, Read Write, Read Write, Read \nBITFIELD BITS DESCRIPTION \nA2M2 7 Alarm2 mask bit for minutes \nmin_10 6:4 Alarm2 minutes in multiples of 10 \nminutes 3:0 Alarm2 minutes \nAlm2_hrs (0x14) \nAlarm2 Hours Configuration Register \nBIT 7 6 5 4 3 2 1 0 \nField A2M3 – hr_10[1:0] hour[3:0] \nReset 0x0 – 0x0 0x0 \nAccess \nType Write, Read – Write, Read Write, Read \nBITFIELD BITS DESCRIPTION \nA2M3 7 Alarm2 mask bit for hours MAX31343 ±5ppm, I 2C Real-Time Clock with Integrated\nMEMS Oscillator\nwww.analog.com Analog Devices  |  33\nBITFIELD BITS DESCRIPTION \nhr_10 5:4 Alarm2 hours in multiples of 10 \nhour 3:0 Alarm2 hours \nAlm2day_date (0x15) \nAlarm2 Day/Date Configuration Register \nBIT 7 6 5 4 3 2 1 0 \nField A2M4 DY_DT date_10[1:0] day_date[3:0] \nReset 0x0 0x0 0x0 0x0 \nAccess \nType Write, Read Write, Read Write, Read Write, Read \nBITFIELD BITS DESCRIPTION DECODE \nA2M4 7 Alarm2 mask bit for day/date \nDY_DT 6 This bit selects alarm when day match or \ndate match. 0x0: Alarm when date match \n0x1: Alarm when day match \ndate_10 5:4 Alarm2 date in multiples of 10 \nday_date 3:0 Alarm2 day/date \nTimer_Count (0x16) \nCountdown Timer Value Register \nBIT 7 6 5 4 3 2 1 0 \nField Count[7:0] \nReset 0x00 \nAccess \nType Read Only \nBITFIELD BITS DESCRIPTION \nCount 7:0 Count down timer current count value. The current timer value can be read by \nreading this register. \nTimer_Init (0x17) \nCountdown Timer Initialization Register \nBIT 7 6 5 4 3 2 1 0 \nField Count[7:0] \nReset 0x00 \nAccess \nType Write, Read \nBITFIELD BITS DESCRIPTION \nCount 7:0 Count down timer initial value. The timer is loaded with the contents of this \nregister when it reaches to zero in repeat mode. \nPwr_mgmt (0x18) \nPower Management Configuration Register MAX31343 ±5ppm, I 2C Real-Time Clock with Integrated\nMEMS Oscillator\nwww.analog.com Analog Devices  |  34\nBIT 7 6 5 4 3 2 1 0 \nField – – PFVT[1:0] D_VBACK_\nSEL D_MAN_SE\nL – – \nReset – – 0x3 0x0 0x0 – – \nAccess \nType – – Write, Read Write, Read Write, Read – – \nBITFIELD BITS DESCRIPTION DECODE \nPFVT 5:4 Power fail threshold voltage. Sets analog \ncomparator threshold voltage. Require \nD_MAN_SEL = 0 for this setting to have \neffect. 0x0: Reserved \n0x1: 1.8V \n0x2: 2.0V \n0x3: 2.4V \nD_VBACK_S\nEL 3 Backup battery select. Require D_MAN_SEL \n= 1 for this bit to have effect. 0x0: Use V CC as supply. \n0x1: Use V backup  as supply. \nD_MAN_SEL 2 When this bit is low, input control block \ndecides which supply to use. And this bit is \nlow, power management comparators are \nenabled. When this bit is high, comparators \nare disabled and user can manually select \nwhether to use V CC or VBACKUP  as supply. 0x0: Circuit decides whether to use V CC or \nVBACKUP  as supply. \n0x1: User decides whether to use V CC or \nVBACKUP  as supply by setting D_VBACK_SEL bit. \nTrickle_reg (0x19) \nTrickle Charge Configuration Register \nBIT 7 6 5 4 3 2 1 0 \nField TCHE[3:0] D_TRICKLE[3:0] \nReset 0x0 0x0 \nAccess \nType Write, Read Write, Read \nBITFIELD BITS DESCRIPTION DECODE \nTCHE 7:4 Trickle charger enable. Only 1 of 16 codes \nenables trickle charger. 0x0: Trickle charger disabled \n0x1: Trickle charger disabled \n0x2: Trickle charger disabled \n0x3: Trickle charger disabled \n0x4: Trickle charger disabled \n0x5: Trickle charger enabled \n0x6: Trickle charger disabled \n0x7: Trickle charger disabled \n0x8: Trickle charger disabled \n0x9: Trickle charger disabled \n0xA: Trickle charger disabled \n0xB: Trickle charger disabled \n0xC: Trickle charger disabled \n0xD: Trickle charger disabled \n0xE: Trickle charger disabled \n0xF: Trickle charger disabled MAX31343 ±5ppm, I 2C Real-Time Clock with Integrated\nMEMS Oscillator\nwww.analog.com Analog Devices  |  35\nBITFIELD BITS DESCRIPTION DECODE \nD_TRICKLE 3:0 Sets the charging path for trickle charger. \nMust set TCHE to 0x5 to enable the setting \nbelow. 0x0: 3KΩ in series with a Schottky diode \n0x1: 3KΩ in series with a Schottky diode \n0x2: 6KΩ in series with a Schottky diode \n0x3: 11KΩ in series with a Schottky diode \n0x4: 3KΩ in series with a diode+Schottky diode \n0x5: 3KΩ in series with a diode+Schottky diode \n0x6: 6KΩ in series with a diode+Schottky diode \n0x7: 11KΩ in series with a diode+Schottky diode \n0x8: No Connection \n0x9: No Connection \n0xA: No Connection \n0xB: No Connection \n0xC: No Connection \n0xD: No Connection \n0xE: No Connection \n0xF: No Connection \nTemp_MSB (0x1A) \nTemperature sensor measurement is stored as a 10-bit two’s complement number in two-byte temperature register. \nSIGN bit indicates if the temperature is positive or negative. When SIGN bit is 1, it represents negative temperature, \nand it has a weight of -128. Bit [5:0] are redundant. Bit 6 of Temperature [15:0] is LSB and has a weight of 0.25. Table \nbelow represent weight of each bit from Bit 6 to Bit 14. \nTemperature Register Definition \nMSB LSB \nD15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0 \nSIGN 64ºC 32ºC 16ºC 8ºC 4ºC 2ºC 1ºC 0.5ºC 0.25ºC 0 0 0 0 0 0 \nTemperature Format Examples \nTEMPERATURE (°C) Temp MSB [15:8] Temp LSB [7:0] \n85ºC 0101 0101 0000 0000 \n84.75ºC 0101 0100 1100 0000 \n0ºC 0000 0000 0000 0000 \n-0.25ºC 1111 1111 1100 0000 \n-40ºC 1101 1000 0000 0000 \nAssuming user reads Temp_MSB and Temp_LSB registers as Temp_MSB = 8\'b01010100, Temp_LSB = 8\'b11000000. \nPer Table above, Bit 15 = 0   means positive temperature, 64X1 + 32X0 + 16X1 + 8X0 + 4X1 + 2X0 + 1X0 = 84ºC, \n0.5X1 + 0.25X1 = 0.75ºC. Hence, temperature = 84.75ºC. \nBIT 7 6 5 4 3 2 1 0 \nField Temperature[15:8] \nReset \nAccess \nType Read Only \nBITFIELD BITS DESCRIPTION \nTemperature 7:0 MSB of the 16-bit temperature register \n MAX31343 ±5ppm, I 2C Real-Time Clock with Integrated\nMEMS Oscillator\nwww.analog.com Analog Devices  |  36\nTemp_LSB (0x1B) \nTemperature Value LSB Register \nBIT 7 6 5 4 3 2 1 0 \nField Temperature[7:0] \nReset \nAccess \nType Read Only \nBITFIELD BITS DESCRIPTION \nTemperature 7:0 LSB of the 16-bit temperature register. \nTS_config (0x1C) \nTemperature Sensor Configuration Register \nBIT 7 6 5 4 3 2 1 0 \nField AUTOMOD\nE ONESHOT\nMODE TTSINT[2:0] – – – \nReset 0x1 0x0 0x5 – – – \nAccess \nType Write, Read Write, Read Write, Read – – – \nBITFIELD BITS DESCRIPTION DECODE \nAUTOMODE 7 Automatic mode of temperature \nmeasurement. This mode is valid only when \nONESHOTMODE = 0. \nIn this mode, temperature measurement \ninterval is decided by TTSINT. \nAfter each temperature measurement \nrequest, the divider ratio will be modified for \ntemperature compensation. 0x0: Automatic measurement mode disabled \n0x1: Automatic measurement mode enabled \nONESHOTM\nODE 6 One-shot user-requested temperature \nmeasurement in real-time. \nAUTOMODE must be 0 in one-shot \nmeasurement mode. \nWhen this bit is set, divider ratio is updated \n(compensated) after temperature \nmeasurement. This bit is self-cleared after \ntemperature measurement complete; writes \nto this bit before it has been cleared have no \neffect. 0x0: No temperature measurement requested \n0x1: Temperature measurement requested \nTTSINT 5:3 Set temperature measurement interval to \nspecified time for automatic mode of \ntemperature measurement and compensation 0x0: 1sec \n0x1: 2sec \n0x2: 4sec \n0x3: 8sec \n0x4: 16sec \n0x5: 32sec \n0x6: 64sec \n0x7: 128sec \nRam_reg (0x22, 0x23, 0x24, 0x25, 0x26, 0x27, 0x28, 0x29, 0x2A, 0x2B, 0x2C, 0x2D, 0x2E, 0x2F, 0x30, 0x31, \n0x32, 0x33, 0x34, 0x35, 0x36, 0x37, 0x38, 0x39, 0x3A, 0x3B, 0x3C, 0x3D, 0x3E, 0x3F, 0x40, 0x41, 0x42, MAX31343 ±5ppm, I 2C Real-Time Clock with Integrated\nMEMS Oscillator\nwww.analog.com Analog Devices  |  37\n0x43, 0x44, 0x45, 0x46, 0x47, 0x48, 0x49, 0x4A, 0x4B, 0x4C, 0x4D, 0x4E, 0x4F, 0x50, 0x51, 0x52, 0x53, \n0x54, 0x55, 0x56, 0x57, 0x58, 0x59, 0x5A, 0x5B, 0x5C, 0x5D, 0x5E, 0x5F, 0x60, 0x61) \nBIT 7 6 5 4 3 2 1 0 \nField Data[7:0] \nReset \nAccess \nType Write, Read \nBITFIELD BITS DESCRIPTION \nData 7:0 RAM data byte MAX31343 ±5ppm, I 2C Real-Time Clock with Integrated\nMEMS Oscillator\nwww.analog.com Analog Devices  |  38\nApplications Information \nPower-Supply Decoupling \nTo achieve the best results when using the device, decouple the V CC and/or V BAT power supplies with 0.1μF and/or \n1.0μF capacitors. Use a high-quality ceramic surface-mount capacitor if possible. Surface-mount components minimize \nlead inductance which improves performance and ceramic capacitors tend to have adequate high-frequency response \nfor decoupling applications. \nIf communications during battery operation are not required, the V BAT decoupling capacitor can be omitted. \nUsing Open-Drain Outputs \nThe INT and SQW outputs are open-drain and, therefore, require external pullup resistors to realize logic-high output \nlevels. Pullup resistor values between 1kΩ and 10MΩ are typical. \nSDA and SCL Pullup Resistors \nSDA is an open-drain output and requires an external pullup resistor to realize a logic-high level. Because the device \ndoes not use clock cycle stretching, a master using either an open-drain output with a pullup resistor or CMOS output \ndriver (push-pull) could be used for SCL. \nHandling \nThe MAX31343 package contains an integrated resonator. Pick-and-place equipment can be used. Ultrasonic cleaning \nshould be avoided to prevent damage to the resonator. \nTypical Application Circuit \nSDA\nSCL\nCLKO\nINT\nSQWVBATI2C PORT\nIO PORT\nCONTROL SYSTEM3.3V 3.3V\nMAX31343MAX31343VCC\nGND\nOrdering Information \nPART NUMBER TEMPERATURE RANGE PIN-PACKAGE \nMAX31343EKA+T -40°C to +85°C 2.1mm x 2.3mm, 8-Pin WLP \nMAX31343ETAY+T -40°C to +85°C 3mm x 4mm, 8-Pin TDFN \n+Denotes a lead(Pb)-free/RoHS-compliant package. MAX31343 ±5ppm, I 2C Real-Time Clock with Integrated\nMEMS Oscillator\nwww.analog.com Analog Devices  |  39\nRevision History \nREVISION \nNUMBER REVISION \nDATE DESCRIPTION PAGES \nCHANGED \n0 12/19 Initial release — \n1 4/20 Updated aging performance, frequency accuracy, package dimensions, and storage \ntemperature; updated Data-Retention Mode  section; updated Figure 4 1, 6-8, 13, 17, 38 \n2 9/20 Updated Ordering Information  table 38 \n3 6/21 Updated Package Information  and Electrical Characteristics  table 6, 8 \n4 10/21 Updated Electrical Characteristics  table and Register Map 6, 9, 26 \n5 11/21 Updated Table 2 and Register Map 14, 22, 28, 31, 33 \nInformation furnished by Analog Devices is believed to be accurate and reliable. However, no responsibility is \nassumed by Analog Devices for its use, nor for any infringements of patents or other rights of third parties that may \nresult from its use. Specifications subject to change without notice. No license is granted by implication or otherwise \nunder any patent or patent rights of Analog Devices. Trademarks and registered trademarks are the property of \ntheir respective owners. MAX31343 ±5ppm, I 2C Real-Time Clock with Integrated\nMEMS Oscillator\nw w w . a n a l o g . c o m Analog Devices  |  40\nMouser Electronics\n  \nAuthorized Distributor\n \n  \nClick to View Pricing, Inventory, Delivery & Lifecycle Information:\n \n\xa0 MAX31343EKA+\xa0 MAX31343EKA+T\xa0 MAX31343ETAY+T\xa0 MAX31343ETAY+\n'}]
!==============================================================================!
### Component Summary: MAX31343EKA+T

**Key Specifications:**
- **Voltage Ratings:**
  - Supply Voltage (VCC): +1.6V to +5.5V
  - Backup Battery Voltage (VBAT): +1.6V to +5.5V
- **Current Ratings:**
  - Timekeeping Current (I2C Inactive): 
    - VCC = 1.6V: 650 to 1200 nA
    - VCC = 3.3V: 940 to 1500 nA
    - VCC = 5.5V: 1400 to 2000 nA
  - Data Retention Current: 5 to 100 nA
- **Power Consumption:**
  - Typical power consumption during operation varies based on the mode and voltage, with a maximum of 2.0 µA in low-power modes.
- **Operating Temperature Range:** 
  - -40°C to +85°C
- **Package Type:**
  - 8-Pin WLP (2.1mm x 2.3mm)
  - 8-Pin TDFN (3mm x 4mm)
- **Special Features:**
  - Integrated MEMS resonator for high accuracy (±5 ppm)
  - Automatic switch to backup battery on power failure
  - Two programmable time-of-day alarms
  - Temperature-compensated square-wave output
  - Digital temperature sensor with ±3°C accuracy
  - 64-Byte RAM for user data storage
  - I2C interface for communication
- **Moisture Sensitive Level (MSL):** 
  - MSL Level 1 (JEDEC J-STD-020E)

**Description:**
The MAX31343 is a low-cost, highly accurate I²C real-time clock (RTC) designed for applications requiring precise timekeeping. It features an integrated MEMS resonator that eliminates the need for an external crystal, enhancing long-term accuracy. The device maintains timekeeping functions even when the main power is interrupted, thanks to its battery backup capability.

**Typical Applications:**
The MAX31343 is suitable for a variety of applications, including:
- **Industrial Equipment:** For precise timekeeping in automation and control systems.
- **Action Cameras:** To maintain accurate timestamps for video and photo capture.
- **Communications Devices:** For synchronization in data transmission.
- **Handheld Instrumentation:** Used in portable devices requiring accurate time and date.
- **Power Meters:** For logging and reporting energy consumption over time.
- **Wearable Devices:** To track time and manage alarms in fitness and health monitoring applications.

This component is ideal for any application where accurate timekeeping is critical, and its low power consumption extends battery life in portable devices.